"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[8702],{18702:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Ce});var o=l(61758),i=l(58790);const a={class:"row back mt-20"},n={class:"secondary-c-text text-h6"},s=(0,o.Lk)("img",{width:"24",src:"images/back_new.svg"},null,-1),d={style:{"vertical-align":"middle","margin-left":"10px","font-size":"20px",cursor:"pointer"}},r={key:0,class:"export-container"},u={class:"row full-width"},c={class:"col-sm-12 col-md-12 col-lg-12 q-pa-md"},p={class:"col-sm-12 col-md-12 col-lg-12 q-pa-md"},h=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",{class:"bg-grey-3"},[(0,o.Lk)("th",{class:"text-h4 text-uppercase text-left"},"Origin"),(0,o.Lk)("th",{class:"text-h4 text-uppercase text-left"},"Type"),(0,o.Lk)("th",{class:"text-h4 text-uppercase text-left"},"Key"),(0,o.Lk)("th",{class:"text-h4 text-uppercase text-left"},"Value"),(0,o.Lk)("th",{class:"text-h4 text-uppercase text-left"},"Sort Order"),(0,o.Lk)("th",{class:"text-h4 text-uppercase text-left"},"Direction")])],-1),g=(0,o.Lk)("tbody",null,null,-1),m=(0,o.Lk)("span",{class:"q-ml-sm"},"Are you sure? If you want to delele Configuration press Done.",-1);function f(e,t,l,f,w,b){const y=(0,o.g2)("q-toolbar-title"),k=(0,o.g2)("q-toolbar"),x=(0,o.g2)("q-icon"),v=(0,o.g2)("q-btn"),_=(0,o.g2)("q-markup-table"),L=(0,o.g2)("Loader"),F=(0,o.g2)("Regex-Patterns-create"),C=(0,o.g2)("q-dialog"),V=(0,o.g2)("q-avatar"),A=(0,o.g2)("q-card-section"),q=(0,o.g2)("q-card-actions"),I=(0,o.g2)("q-card"),Q=(0,o.gN)("close-popup");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(k,{class:"secondary-toolbar"},{default:(0,o.k6)((()=>[(0,o.bF)(y,{class:"container text-white"})])),_:1}),(0,o.Lk)("div",a,[(0,o.Lk)("div",n,[(0,o.bF)(v,{flat:"",rounded:"",color:"primary",to:"/settings"},{default:(0,o.k6)((()=>[(0,o.bF)(x,{class:"text-red-13",size:"sm"},{default:(0,o.k6)((()=>[s])),_:1}),(0,o.Lk)("label",d,(0,i.v_)(e.$t("layout.settings")),1)])),_:1})])]),e.isRegexPatternsConfigured?((0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",u,[(0,o.Lk)("div",c,[(0,o.bF)(v,{color:"primary","data-cy":"add-integration-button",class:"float-right",icon:"add",label:"Add New Regex Pattern",onClick:t[0]||(t[0]=t=>e.preapareAddConfigForm())})]),(0,o.Lk)("div",p,[(0,o.bF)(_,null,{default:(0,o.k6)((()=>[h,g])),_:1})])])])):(0,o.Q3)("",!0),(0,o.bF)(L),(0,o.bF)(C,{modelValue:e.showCreateDialog,"onUpdate:modelValue":t[3]||(t[3]=t=>e.showCreateDialog=t),position:"top",class:"export-dialog"},{default:(0,o.k6)((()=>[(0,o.bF)(F,{onIntegration:t[1]||(t[1]=t=>e.integrationSelected(t)),configuration:e.configuration,onIntegration_completed:t[2]||(t[2]=t=>e.dialogClosed(t))},null,8,["configuration"])])),_:1},8,["modelValue"]),(0,o.bF)(C,{modelValue:e.deleteConfirmation,"onUpdate:modelValue":t[5]||(t[5]=t=>e.deleteConfirmation=t),persistent:""},{default:(0,o.k6)((()=>[(0,o.bF)(I,null,{default:(0,o.k6)((()=>[(0,o.bF)(A,{class:"row items-center"},{default:(0,o.k6)((()=>[(0,o.bF)(V,{icon:"warning",color:"primary","text-color":"white"}),m])),_:1}),(0,o.bF)(q,{align:"right"},{default:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(v,{flat:"",label:"Cancel","data-cy":"cancel-card",color:"primary"},null,512),[[Q]]),(0,o.bo)((0,o.bF)(v,{flat:"",label:"Done","data-cy":"done-card",color:"primary",onClick:t[4]||(t[4]=t=>e.deleteConfiguration())},null,512),[[Q]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var w=l(82303),b=l(24622),y=l(38734),k=l(8420),x=l(18505);const v=e=>((0,o.Qi)("data-v-67922432"),e=e(),(0,o.jt)(),e),_={"data-cy":"select-integration",class:"text-h6"},L={class:"row bg-grey-2 q-pl-xl q-pr-md q-pb-md"},F={class:"width-500",id:"left_section",ref:"left_section"},C={class:"full-width bg-white q-ma-sm scroll-area-height"},V={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},A={style:{width:"50%"}},q={style:{width:"50%"},class:"pl-20"},I={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},Q={style:{width:"50%"}},D={style:{width:"50%"},class:"pl-20"},T={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},R={style:{width:"50%"}},P={style:{width:"50%"},class:"pl-20"},S={class:"right_section q-pl-sm",id:"right_section",ref:"right_section"},U=v((()=>(0,o.Lk)("div",{class:"row"}," right side ",-1))),$=[U],E={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},K={style:{width:"50%"}},O={style:{width:"50%"},class:"pl-20"},z={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},X={style:{width:"50%"}},N={style:{width:"50%"},class:"pl-20"},H={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},M={style:{width:"50%"}},B={style:{width:"50%"},class:"pl-20"},j={style:{"text-align":"center"}},G={key:0},W={key:1};function J(e,t,l,a,n,s){const d=(0,o.g2)("q-space"),r=(0,o.g2)("q-btn"),u=(0,o.g2)("q-card-section"),c=(0,o.g2)("q-input"),p=(0,o.g2)("q-spinner-ios"),h=(0,o.g2)("q-card"),g=(0,o.gN)("close-popup");return(0,o.uX)(),(0,o.Wv)(h,{style:{width:"1060px","max-width":"1060px",height:"450px"}},{default:(0,o.k6)((()=>[(0,o.bF)(u,{class:"row items-center q-pb-none"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",_,[(0,o.Lk)("b",null,(0,i.v_)(e.$t("pages.export.selectintegration")),1)]),(0,o.bF)(d),(0,o.bo)((0,o.bF)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[g]])])),_:1}),(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",L,[(0,o.Lk)("div",F,[(0,o.Lk)("div",C,[(0,o.Lk)("div",V,[(0,o.Lk)("div",A,[(0,o.bF)(c,{modelValue:e.model["origin"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.model["origin"]=t),label:"Origin*",outlined:"",class:"full-width"},null,8,["modelValue"])]),(0,o.Lk)("div",q,[(0,o.bF)(c,{modelValue:e.model["type"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.model["type"]=t),label:"Type*",outlined:"",class:"full-width"},null,8,["modelValue"])])]),(0,o.Lk)("div",I,[(0,o.Lk)("div",Q,[(0,o.bF)(c,{modelValue:e.model["key"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.model["key"]=t),label:"Key",outlined:"",class:"full-width"},null,8,["modelValue"])]),(0,o.Lk)("div",D,[(0,o.bF)(c,{modelValue:e.model["value"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.model["value"]=t),label:"Value*",type:"password",outlined:"",class:"full-width"},null,8,["modelValue"])])]),(0,o.Lk)("div",T,[(0,o.Lk)("div",R,[(0,o.bF)(c,{modelValue:e.model["order"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.model["order"]=t),label:"Sort Order*",outlined:"",class:"full-width"},null,8,["modelValue"])]),(0,o.Lk)("div",P,[(0,o.bF)(c,{modelValue:e.model["direction"],"onUpdate:modelValue":t[5]||(t[5]=t=>e.model["direction"]=t),label:"Direction*",type:"password",outlined:"",class:"full-width"},null,8,["modelValue"])])])])],512),(0,o.Lk)("div",S,$,512)]),(0,o.Lk)("div",E,[(0,o.Lk)("div",K,[(0,o.bF)(c,{modelValue:e.model["origin"],"onUpdate:modelValue":t[6]||(t[6]=t=>e.model["origin"]=t),label:"Origin*",outlined:"",class:"full-width"},null,8,["modelValue"])]),(0,o.Lk)("div",O,[(0,o.bF)(c,{modelValue:e.model["type"],"onUpdate:modelValue":t[7]||(t[7]=t=>e.model["type"]=t),label:"Type*",outlined:"",class:"full-width"},null,8,["modelValue"])])]),(0,o.Lk)("div",z,[(0,o.Lk)("div",X,[(0,o.bF)(c,{modelValue:e.model["key"],"onUpdate:modelValue":t[8]||(t[8]=t=>e.model["key"]=t),label:"Key",outlined:"",class:"full-width"},null,8,["modelValue"])]),(0,o.Lk)("div",N,[(0,o.bF)(c,{modelValue:e.model["value"],"onUpdate:modelValue":t[9]||(t[9]=t=>e.model["value"]=t),label:"Value*",type:"password",outlined:"",class:"full-width"},null,8,["modelValue"])])]),(0,o.Lk)("div",H,[(0,o.Lk)("div",M,[(0,o.bF)(c,{modelValue:e.model["order"],"onUpdate:modelValue":t[10]||(t[10]=t=>e.model["order"]=t),label:"Sort Order*",outlined:"",class:"full-width"},null,8,["modelValue"])]),(0,o.Lk)("div",B,[(0,o.bF)(c,{modelValue:e.model["direction"],"onUpdate:modelValue":t[11]||(t[11]=t=>e.model["direction"]=t),label:"Direction*",type:"password",outlined:"",class:"full-width"},null,8,["modelValue"])])])])),_:1}),(0,o.Lk)("div",j,[e.spinner?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",G,[(0,o.bF)(r,{style:{"letter-spacing":"2px",width:"180px","margin-left":"10px"},color:"primary",label:e.$t("pages.flow_settings.reset")},null,8,["label"]),(0,o.bF)(r,{style:{"letter-spacing":"2px",width:"150px","margin-left":"10px"},color:"primary",label:e.$t("pages.user.save"),disable:e.isFlowSettingsComplete(),onClick:e.exportFlowIntegration},null,8,["label","disable","onClick"])])),e.spinner?((0,o.uX)(),(0,o.CE)("div",W,[(0,o.bF)(p,{color:"primary",size:"4em"})])):(0,o.Q3)("",!0)])])),_:1})}var Y=l(46162),Z=l(85487),ee=function(e,t,l,o){function i(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,a){function n(e){try{d(o.next(e))}catch(t){a(t)}}function s(e){try{d(o["throw"](e))}catch(t){a(t)}}function d(e){e.done?l(e.value):i(e.value).then(n,s)}d((o=o.apply(e,t||[])).next())}))};const te=(0,o.pM)({name:"Regex-Patterns-create",mixins:[x.A,b.A],props:{configuration:[]},data(){return{spinner:!1,inforSpinner:!1,inforPremise:!0}},mounted:function(){this.initPage()},methods:{initPage(){if(this.configuration)return this.configId=this.configuration.id,"flow2"==this.configuration.export_method?(this.model.url=this.configuration.export_url,this.model.docType=this.configuration.doc_type,this.model.flow_password=this.configuration.password,this.model.flow_uesrname=this.configuration.username,void(this.model.edit=!0)):void 0},isFlowSettingsComplete(){return!(this.model.url&&this.model.docType&&this.title&&this.flow_cabinet&&this.model.flow_uesrname&&this.model.flow_password&&this.flow_doc_type&&this.model.user_confirmed)},exportFlowIntegration(){return ee(this,void 0,void 0,(function*(){this.spinner=!0;let e=new FormData;(this.configId||null!==this.configId)&&e.append("config_id",this.configId),e.append("flow2_url",this.model.url),e.append("doc_type",this.model.docType),e.append("username",this.model.flow_uesrname),e.append("password",this.model.flow_password),e.append("org_id",(0,Z.I)());try{let t=yield(0,Y.L3)();yield w.A.post(Y.FH.export_flow2,e,{headers:{Authorization:t}}),this.$emit("integration_completed",null)}catch(t){this.spinner=!1,this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}this.spinner=!1,this.configId=null}))}},setup(){let e={};return{model:(0,y.KR)(e),configId:null}}});var le=l(12807),oe=l(23316),ie=l(44189),ae=l(93676),ne=l(56384),se=l(67837),de=l(82157),re=l(82156),ue=l(67156),ce=l(99980),pe=l(88672),he=l(98582),ge=l.n(he);const me=(0,le.A)(te,[["render",J],["__scopeId","data-v-67922432"]]),fe=me;ge()(te,"components",{QCard:oe.A,QCardSection:ie.A,QSpace:ae.A,QBtn:ne.A,QInput:se.A,QSpinnerIos:de.A,QDialog:re.A,QField:ue.A,QFile:ce.A}),ge()(te,"directives",{ClosePopup:pe.A});var we=function(e,t,l,o){function i(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,a){function n(e){try{d(o.next(e))}catch(t){a(t)}}function s(e){try{d(o["throw"](e))}catch(t){a(t)}}function d(e){e.done?l(e.value):i(e.value).then(n,s)}d((o=o.apply(e,t||[])).next())}))};const be=(0,o.pM)({el:"#app",mixins:[x.A,b.A],components:{Loader:k.A,RegexPatternsCreate:fe},data(){return{showCreateDialog:!1,total_amount:!1,imageHeight:0}},beforeRouteLeave:function(e,t,l){l()},mounted:function(){this.getConfigurations(!0)},methods:{dialogClosed(e){this.showCreateDialog=!1,this.getConfigurations(!0),this.showSuccessToast(this.$t("pages.messages.EXPORT_INTEGRATIONS_SAVED"))},integrationSelected(e){},getConfigurations(e){return we(this,void 0,void 0,(function*(){let t;!0===e&&this.showLoading(),this.regexData=[];try{let e=new FormData;e.append("org_id",(0,Z.I)());let l=yield(0,Y.L3)();t=yield w.A.post(Y.FH.get_export_configurations,e,{headers:{Authorization:l}})}catch(l){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.hideLoading()}t.data&&t.data.data?(this.regexData=t.data.data,this.isRegexPatternsConfigured=!0):this.isRegexPatternsConfigured=!1,!0===e&&this.hideLoading(),this.$forceUpdate()}))},editRecord(e){this.configuration=e,this.showCreateDialog=!0},preapareAddConfigForm(){this.configId=0,this.showCreateDialog=!0,this.configuration=null},deleteConfiguration(){return we(this,void 0,void 0,(function*(){this.showLoading();try{let e=new FormData;e.append("id",this.configId.toString()),e.append("org_id",(0,Z.I)());let t=yield(0,Y.L3)();yield w.A.post(Y.FH.delete_existing_export_configuration,e,{headers:{Authorization:t}})}catch(e){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.hideLoading()}this.getConfigurations(!1),this.hideLoading(),this.configId=0,this.$forceUpdate()}))}},setup(){let e=[];return{exportConfiguration:(0,y.KR)(),isRegexPatternsConfigured:!1,configuration:(0,y.KR)(),deleteConfirmation:(0,y.KR)(!1),regexData:(0,y.KR)(e),configId:0}}});var ye=l(36914),ke=l(39150),xe=l(50492),ve=l(857),_e=l(3952),Le=l(62669);const Fe=(0,le.A)(be,[["render",f]]),Ce=Fe;ge()(be,"components",{QToolbar:ye.A,QToolbarTitle:ke.A,QBtn:ne.A,QIcon:xe.A,QMarkupTable:ve.A,QDialog:re.A,QCard:oe.A,QCardSection:ie.A,QAvatar:_e.A,QCardActions:Le.A}),ge()(be,"directives",{ClosePopup:pe.A})}}]);