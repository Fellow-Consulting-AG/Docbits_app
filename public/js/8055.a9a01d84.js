"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[8055],{48055:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ft});var s=a(61758),o=a(58790);const l={class:"container page-height-limit"},i={class:"full-width"},n={style:{"margin-top":"3px","text-transform":"capitalize"}};function r(e,t,a,r,d,c){const u=(0,s.g2)("SubHeader"),p=(0,s.g2)("f-btn"),h=(0,s.g2)("BackToSettings"),_=(0,s.g2)("q-separator"),m=(0,s.g2)("q-icon"),g=(0,s.g2)("q-space"),y=(0,s.g2)("MasterDataTypeList"),b=(0,s.g2)("q-card-section"),f=(0,s.g2)("q-card"),k=(0,s.g2)("q-expansion-item"),v=(0,s.g2)("q-list"),w=(0,s.g2)("CustomMasterDataPopUp"),C=(0,s.g2)("q-dialog");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(u,{name:"master_data_settings",label:e.$t("pages.settings.supplier_validation"),onSearch:!1},null,8,["label"]),(0,s.bF)(h,null,{default:(0,s.k6)((()=>[e.user_settings[e.custom_master_data]?((0,s.uX)(),(0,s.Wv)(p,{key:0,class:"float-right q-ml-auto",onClick:t[0]||(t[0]=t=>e.show_custom_master_data=!e.show_custom_master_data),label:e.$t("pages.custom_master_data.custom_master_data")},null,8,["label"])):(0,s.Q3)("",!0)])),_:1}),(0,s.Lk)("div",l,[(0,s.Lk)("div",i,[e.data_types_loaded?((0,s.uX)(),(0,s.Wv)(v,{key:0,bordered:"",class:"rounded-borders"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.data_types,((t,a)=>((0,s.uX)(),(0,s.CE)(s.FK,{key:a},[(0,s.bF)(_),(0,s.bF)(k,{"expand-separator":"","header-class":"highlighted-back","default-opened":0==a},{header:(0,s.k6)((()=>[(0,s.bF)(m,{size:"25px",class:"q-mr-lg black_to_white",name:"img:images/vendors-default.svg"}),(0,s.Lk)("span",n,(0,o.v_)(e.$t(e.aliases[t]||t)),1),(0,s.bF)(g)])),default:(0,s.k6)((()=>[(0,s.bF)(f,null,{default:(0,s.k6)((()=>[(0,s.bF)(b,{style:"height: auto; min-height: 15vh;"},{default:(0,s.k6)((()=>[(0,s.bF)(y,{type_name:t},null,8,["type_name"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["default-opened"]),(0,s.bF)(_)],64)))),128))])),_:1})):(0,s.Q3)("",!0)])]),(0,s.bF)(C,{modelValue:e.show_custom_master_data,"onUpdate:modelValue":t[1]||(t[1]=t=>e.show_custom_master_data=t)},{default:(0,s.k6)((()=>[(0,s.bF)(w)])),_:1},8,["modelValue"])],64)}var d=a(1659),c=a(24622),u=a(38734),p=a(18505),h=a(64775),_=a(76956),m=a(95488),g=a(94124),y=a(60894),b=a(29104);const f={class:"q-mb-md"},k={class:"row full-width"},v={key:0},w={class:"q-mr-sm"},C={class:"row no-wrap justify-around"},F={class:"drop-target rounded-borders"},A={class:"box row justify-center items-center"},S={class:"visible-columns-parent scrolle-y master-data-border",style:{height:"30vh"}},L={class:"full-width q-mt-md"},q={class:"ellipsis"},E={class:"text-item",style:{"text-transform":"capitalize"}},x={key:1,style:{"padding-left":"15px",cursor:"pointer"}},Q={style:{padding:"10px"}},D={class:"ellipsis"},T={class:"row float-right"},B={class:"text-red"},R={key:1,class:"back-white flex justify-end"},$={class:"row",style:{"margin-right":"0"}},K={class:"text-center"},O=(0,s.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function V(e,t,a,l,i,n){const r=(0,s.g2)("q-icon"),d=(0,s.g2)("q-input"),c=(0,s.g2)("q-space"),u=(0,s.g2)("f-btn"),p=(0,s.g2)("q-item-label"),h=(0,s.g2)("q-item-section"),_=(0,s.g2)("q-item"),m=(0,s.g2)("draggable"),g=(0,s.g2)("q-list"),y=(0,s.g2)("q-card-section"),V=(0,s.g2)("q-card"),M=(0,s.g2)("q-btn-dropdown"),P=(0,s.g2)("q-select"),X=(0,s.g2)("savedSortByBadges"),I=(0,s.g2)("ColumnOrderBy"),U=(0,s.g2)("q-menu"),N=(0,s.g2)("q-th"),j=(0,s.g2)("q-tr"),W=(0,s.g2)("q-separator"),J=(0,s.g2)("q-btn"),z=(0,s.g2)("q-td"),H=(0,s.g2)("q-table"),G=(0,s.g2)("q-pagination"),Y=(0,s.g2)("q-markup-table"),Z=(0,s.g2)("EditCreate"),ee=(0,s.g2)("q-dialog"),te=(0,s.g2)("TableAlias"),ae=(0,s.g2)("q-inner-loading"),se=(0,s.gN)("close-popup");return(0,s.uX)(),(0,s.CE)(s.FK,null,[e.data[e.type_name]&&e.data[e.type_name].data?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("div",f,[(0,s.Lk)("div",k,[(0,s.bF)(d,{class:"width-500",outlined:"",dense:"",debounce:"300",color:"primary",modelValue:e.filter_value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter_value=t),label:e.$t("search_by_column"),onKeyup:e.onKeyup},{append:(0,s.k6)((()=>[(0,s.bF)(r,{name:"search",class:"cursor-pointer",onClick:e.callSearchAll},null,8,["onClick"])])),_:1},8,["modelValue","label","onKeyup"]),(0,s.bF)(c),(0,s.Lk)("div",null,[(0,s.bF)(u,{class:"mr-6",label:e.is_hidden?e.$t("showEmptyColumn"):e.$t("hideEmptyColumn"),onClick:t[1]||(t[1]=t=>e.hideShowColumns())},null,8,["label"])]),e.data[e.type_name].readonly?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",v,[(0,s.bF)(u,{class:"mr-6",label:e.$t("pages.settings.master_data_lookup.add_row"),onClick:e.createRow},null,8,["label","onClick"])])),(0,s.Lk)("div",null,[(0,s.bF)(u,{class:"mr-6",label:e.$t("update_alias"),onClick:t[2]||(t[2]=t=>e.display_table_alias_popup=!0)},null,8,["label"])]),(0,s.Lk)("div",null,[(0,s.bF)(u,{class:"mr-6",label:e.$t("downlaod_as_csv"),onClick:e.downloadAsCSV},null,8,["label","onClick"])]),(0,s.Lk)("div",w,[(0,s.bF)(M,{color:"primary",style:{"border-radius":"7px"},unelevated:"",label:e.$t("sort_columns"),onClick:t[4]||(t[4]=t=>e.restColumnsList())},{default:(0,s.k6)((()=>[(0,s.bF)(V,null,{default:(0,s.k6)((()=>[(0,s.bF)(y,null,{default:(0,s.k6)((()=>[(0,s.Lk)("div",C,[(0,s.Lk)("div",F,[(0,s.Lk)("div",A,(0,o.v_)(e.$t("drag_columns_to_sort")),1),(0,s.Lk)("div",S,[(0,s.bF)(g,null,{default:(0,s.k6)((()=>[(0,s.bF)(m,{sort:!0,"item-key":"name",class:"dragArea",list:e.columnsCopy,onChange:e.itemDraggedComplete,group:{name:"masterData",pull:!1,put:!0}},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.columnsCopy,((e,t)=>((0,s.uX)(),(0,s.Wv)(_,{key:t,clickable:""},{default:(0,s.k6)((()=>[(0,s.bF)(h,null,{default:(0,s.k6)((()=>[(0,s.bF)(p,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["list","onChange"])])),_:1})])])]),(0,s.Lk)("div",L,[(0,s.bo)((0,s.bF)(u,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[se]]),(0,s.bo)((0,s.bF)(u,{label:e.$t("done"),class:"q-ml-sm float-right",onClick:t[3]||(t[3]=t=>e.saveColumnOrder())},null,8,["label"]),[[se]])])])),_:1})])),_:1})])),_:1},8,["label"])]),(0,s.bF)(P,{outlined:"",class:"select-box",modelValue:e.search_operator,"onUpdate:modelValue":[t[5]||(t[5]=t=>e.search_operator=t),t[6]||(t[6]=t=>{e.operatorUpdated(t)})],options:e.search_operators_list,label:e.$t("default_search_operator"),style:{width:"200px"},"emit-value":"","map-options":""},{"selected-item":(0,s.k6)((e=>[(0,s.Lk)("div",q,(0,o.v_)(e.opt.label),1)])),_:1},8,["modelValue","options","label"])]),(0,s.bF)(X,{type_name:e.type_name},null,8,["type_name"])]),e.data[e.type_name].data?((0,s.uX)(),(0,s.Wv)(H,{key:0,class:(0,o.C4)(["main-table dashboard-table-style back-white","cursor-pointer"]),"rows-per-page-options":[0],rows:e.data[e.type_name].data,columns:e.columns,"row-key":"id",flat:"","hide-bottom":"","table-header-class":"table-header-text","no-data-label":e.$t("pages.messages.no_record_found"),"no-results-label":"The filter didn't uncover any results",id:e.type_name},{header:(0,s.k6)((a=>[(0,s.bF)(j,{props:a},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.cols,((l,i)=>((0,s.uX)(),(0,s.Wv)(N,{key:l.name,props:a,"data-index":i,draggable:"true",dropzone:"true",direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.columns,i),onDrop:(0,b.D$)((t=>e.handleDrop(t,i)),["prevent"]),onDragover:(0,b.D$)((t=>e.onDragOver(t,i)),["prevent"]),onDragenter:(0,b.D$)(e.onDragEnter,["prevent"]),onDragleave:(0,b.D$)(e.onDragLeave,["prevent"]),style:(0,o.Tr)({cursor:e.getIsDragging?"pointer":"move"})},{default:(0,s.k6)((()=>[(0,s.Lk)("span",E,(0,o.v_)(l.label),1),"action"!==l.name?((0,s.uX)(),(0,s.Wv)(I,{key:0,type_name:e.type_name,column_name:l.field},null,8,["type_name","column_name"])):(0,s.Q3)("",!0),"action"!==l.name?((0,s.uX)(),(0,s.CE)("span",x,[(0,s.bF)(r,{style:{"font-size":"18px"},name:"menu",onClick:t[7]||(t[7]=(0,b.D$)((()=>{}),["stop","prevent"]))},{default:(0,s.k6)((()=>[(0,s.bF)(U,{"transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",Q,[(0,s.bF)(P,{outlined:"",class:"select-box",modelValue:e.searchOperatorByField[l.field],"onUpdate:modelValue":[t=>e.searchOperatorByField[l.field]=t,t=>e.operatorUpdatedOneField(t,l.field)],options:e.search_operators_list,label:"Search Operator",style:{width:"170px","margin-bottom":"10px"},"emit-value":"","map-options":""},{"selected-item":(0,s.k6)((e=>[(0,s.Lk)("div",D,(0,o.v_)(e.opt.label),1)])),_:2},1032,["modelValue","onUpdate:modelValue","options"]),(0,s.bF)(d,{class:"width-150",outlined:"",dense:"",debounce:"300",color:"primary",modelValue:e.filterValueByField[l.field],"onUpdate:modelValue":t=>e.filterValueByField[l.field]=t,label:"Filter...",onKeyup:e.onKeyupByOne},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])])),_:2},1024)])),_:2},1024)])):(0,s.Q3)("",!0)])),_:2},1032,["props","data-index","onDragstart","onDrop","onDragover","onDragenter","onDragleave","style"])))),128))])),_:2},1032,["props"])])),body:(0,s.k6)((a=>[(0,s.bF)(j,{props:a,id:a.key,class:(0,o.C4)((e.data[e.type_name].readonly,""))},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.cols,(l=>((0,s.uX)(),(0,s.CE)(s.FK,{key:l.name},["action"===l.name?((0,s.uX)(),(0,s.Wv)(z,{key:0},{default:(0,s.k6)((()=>[(0,s.Lk)("div",T,[(0,s.bF)(J,{flat:"",dense:"",round:"",onClick:t[8]||(t[8]=(0,b.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz"},{default:(0,s.k6)((()=>[(0,s.bF)(U,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,s.k6)((()=>[(0,s.bF)(g,{dense:"",style:{"min-width":"100px"}},{default:(0,s.k6)((()=>[(0,s.bF)(_,{clickable:""},{default:(0,s.k6)((()=>[(0,s.bF)(h,{onClick:t=>e.editRow(a.rowIndex)},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("edit")),1)])),_:2},1032,["onClick"])])),_:2},1024),(0,s.bF)(W,{inset:""}),(0,s.bF)(_,{clickable:""},{default:(0,s.k6)((()=>[(0,s.bF)(h,{onClick:t=>e.deleteClicked(a.rowIndex,a.row.id)},{default:(0,s.k6)((()=>[(0,s.Lk)("span",B,(0,o.v_)(e.$t("delete")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])])),_:2},1024)):((0,s.uX)(),(0,s.Wv)(z,{key:1},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(a.row[l.name]),1)])),_:2},1024))],64)))),128))])),_:2},1032,["props","id","class"])])),_:1},8,["rows","columns","no-data-label","id"])):(0,s.Q3)("",!0),e.total_pages>1?((0,s.uX)(),(0,s.CE)("div",R,[(0,s.Lk)("div",$,[(0,s.bF)(G,{modelValue:e.current_page,"onUpdate:modelValue":[t[9]||(t[9]=t=>e.current_page=t),t[10]||(t[10]=t=>e.paginationItemClicked())],color:"primary",max:e.total_pages,class:"q-py-xs q-mx-md","max-pages":6,input:"","boundary-links":""},null,8,["modelValue","max"])])])):(0,s.Q3)("",!0),0==e.data[e.type_name].data.length?((0,s.uX)(),(0,s.Wv)(Y,{key:2,class:"full-width"},{default:(0,s.k6)((()=>[(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("td",K,(0,o.v_)(e.$t("no_data_found")),1)])])])),_:1})):(0,s.Q3)("",!0)],64)):(0,s.Q3)("",!0),(0,s.bF)(ee,{modelValue:e.show_edit_create,"onUpdate:modelValue":t[11]||(t[11]=t=>e.show_edit_create=t),persistent:"",onKeydown:t[12]||(t[12]=(0,b.jR)((t=>e.show_edit_create=!1),["esc"])),onHide:t[13]||(t[13]=t=>e.show_edit_create=!1)},{default:(0,s.k6)((()=>[(0,s.bF)(Z,{type_name:e.type_name,create_row:e.create_row,model:e.selected_row,selected_row_index:e.selected_row_index},null,8,["type_name","create_row","model","selected_row_index"])])),_:1},8,["modelValue"]),(0,s.bF)(ee,{modelValue:e.display_table_alias_popup,"onUpdate:modelValue":t[14]||(t[14]=t=>e.display_table_alias_popup=t),onKeydown:t[15]||(t[15]=(0,b.jR)((t=>e.display_table_alias_popup=!1),["esc"]))},{default:(0,s.k6)((()=>[(0,s.bF)(te,{alias_key_temp:e.type_name},null,8,["alias_key_temp"])])),_:1},8,["modelValue"]),(0,s.bF)(ae,{showing:e.loading,style:{"z-index":"2"}},{default:(0,s.k6)((()=>[O])),_:1},8,["showing"])],64)}var M=a(66715),P=a(10739);const X={class:"orderByParentSpan arrow-color"},I=["data-name"],U=["data-name"];function N(e,t,a,l,i,n){return(0,s.uX)(),(0,s.CE)("span",X,[(0,s.Lk)("span",{class:(0,o.C4)(["up-arrow orderBy absolute cursor-pointer",e.is_order_by_selected("asc")?"selected":""]),"data-name":e.column_name,"data-direction":"asc",onClick:t[0]||(t[0]=t=>e.OrderBy("asc"))},null,10,I),(0,s.Lk)("span",{class:(0,o.C4)(["down-arrow orderBy absolute cursor-pointer",e.is_order_by_selected("desc")?"selected":""]),"data-name":e.column_name,"data-direction":"desc",onClick:t[1]||(t[1]=t=>e.OrderBy("desc"))},null,10,U)])}var j=a(82204);const W=(0,s.pM)({mixins:[],props:{column_name:{type:String,required:!0},type_name:{type:String,required:!0}},components:{},methods:{is_order_by_selected(e){return Boolean(this.sortby_data_types[this.type_name]["orderByMap"].has(this.column_name)&&this.sortby_data_types[this.type_name]["orderByMap"].get(this.column_name)==e)},OrderBy(e){this.sortby_data_types[this.type_name]["orderByMap"].has(this.column_name)&&this.sortby_data_types[this.type_name]["orderByMap"].get(this.column_name)==e?this.sortby_data_types[this.type_name]["orderByMap"].delete(this.column_name):this.sortby_data_types[this.type_name]["orderByMap"].set(this.column_name,e),(0,j.eT)(this.type_name,this.sortby_data_types[this.type_name]["orderByMap"]),this.triggerApplyFilters()},triggerApplyFilters(){const e=new CustomEvent("ms_search",{detail:{data_type:this.type_name}});document.dispatchEvent(e)}},setup(){const e=(0,g.rD)(),{sortby_data_types:t}=(0,d.bP)(e);return{sortby_data_types:t}}});var J=a(12807);const z=(0,J.A)(W,[["render",N],["__scopeId","data-v-1e8e08c6"]]),H=z;var G=a(11470),Y=a(39231);const Z={class:"row q-mt-md"},ee={key:0};function te(e,t,a,l,i,n){const r=(0,s.g2)("q-icon"),d=(0,s.g2)("q-badge");return(0,s.uX)(),(0,s.CE)("div",Z,[e.sortby_data_types[e.type_name]["orderByMap"].size>0?((0,s.uX)(),(0,s.CE)("span",ee,(0,o.v_)(e.$t("sort_by")),1)):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.sortby_data_types[e.type_name]["orderByMap"],(([t,a])=>((0,s.uX)(),(0,s.Wv)(d,{key:t,rounded:"",color:"primary",dense:"",class:"q-ml-md capitalize"},{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(t)+" : "+(0,o.v_)(a)+" ",1),(0,s.bF)(r,{name:"close",color:"white",class:"q-ml-xs cursor-pointer",onClick:a=>e.removeFilter(t)},null,8,["onClick"])])),_:2},1024)))),128))])}const ae=(0,s.pM)({props:{type_name:{type:String,required:!0}},methods:{removeFilter(e){this.sortby_data_types[this.type_name]["orderByMap"].delete(e),this.triggerApplyFilters()},triggerApplyFilters(){const e=new CustomEvent("ms_search",{detail:{data_type:this.type_name}});document.dispatchEvent(e)}},setup(){const e=(0,g.rD)(),{sortby_data_types:t}=(0,d.bP)(e);return{sortby_data_types:t}}});var se=a(23954),oe=a(50492),le=a(98582),ie=a.n(le);const ne=(0,J.A)(ae,[["render",te]]),re=ne;ie()(ae,"components",{QBadge:se.A,QIcon:oe.A});var de=a(36801);const ce={key:0,class:"text-weight-bold"},ue={key:1,class:"text-weight-bold"},pe={class:"row full-width"},he={class:"full-width"},_e={key:0},me=(0,s.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function ge(e,t,a,l,i,n){const r=(0,s.g2)("q-toolbar-title"),d=(0,s.g2)("q-btn"),c=(0,s.g2)("q-toolbar"),u=(0,s.g2)("q-input"),p=(0,s.g2)("q-card-section"),h=(0,s.g2)("f-btn"),_=(0,s.g2)("q-card-actions"),m=(0,s.g2)("q-inner-loading"),g=(0,s.g2)("q-card"),y=(0,s.gN)("close-popup");return(0,s.uX)(),(0,s.Wv)(g,{class:"create-edit-card"},{default:(0,s.k6)((()=>[(0,s.Lk)("form",{onSubmit:t[0]||(t[0]=(0,b.D$)(((...t)=>e.submitFrom&&e.submitFrom(...t)),["prevent","stop"]))},[(0,s.bF)(c,{class:"text-white secondary-toolbar"},{default:(0,s.k6)((()=>[(0,s.bF)(r,null,{default:(0,s.k6)((()=>[e.create_row?((0,s.uX)(),(0,s.CE)("span",ue,(0,o.v_)(e.$t("pages.settings.master_data_lookup.create_row")),1)):((0,s.uX)(),(0,s.CE)("span",ce,(0,o.v_)(e.$t("pages.settings.master_data_lookup.edit_row")),1))])),_:1}),(0,s.bo)((0,s.bF)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[y]])])),_:1}),(0,s.bF)(p,{class:"q-pt-none"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",pe,[(0,s.Lk)("div",he,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.data[e.type_name].fields,(t=>((0,s.uX)(),(0,s.CE)(s.FK,{key:t.id},[e.exclue_fields.includes(t)?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",_e,[(0,s.bF)(u,{outlined:"",dense:"",modelValue:e.edit_model[t],"onUpdate:modelValue":a=>e.edit_model[t]=a,label:t.toUpperCase(),class:"q-my-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))],64)))),128))])])])),_:1}),(0,s.bF)(_,{align:"right"},{default:(0,s.k6)((()=>[(0,s.bo)((0,s.bF)(h,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[y]]),(0,s.bF)(h,{type:"submit",class:"q-mr-sm",label:e.$t("save")},null,8,["label"])])),_:1})],32),(0,s.bF)(m,{showing:e.loading},{default:(0,s.k6)((()=>[me])),_:1},8,["showing"])])),_:1})}var ye=function(e,t,a,s){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function i(e){try{r(s.next(e))}catch(t){l(t)}}function n(e){try{r(s["throw"](e))}catch(t){l(t)}}function r(e){e.done?a(e.value):o(e.value).then(i,n)}r((s=s.apply(e,t||[])).next())}))};const be=(0,s.pM)({el:"#app",mixins:[p.A,c.A],props:{type_name:{type:String,reqired:!0,default:""},create_row:{type:Boolean,required:!0},model:{},selected_row_index:{type:Number,default:0}},components:{},data(){return{}},setup(){const e=(0,g.rD)(),{updateRow:t}=e,{data:a,exclue_fields:s}=(0,d.bP)(e);return{exclue_fields:s,data:a,loading:(0,u.KR)(!1),edit_model:(0,u.KR)({}),row_id:(0,u.KR)(""),updateRow:t}},mounted:function(){this.initView()},methods:{initView(){this.edit_model=this.model,this.row_id=this.model.id},submitFrom(){return ye(this,void 0,void 0,(function*(){try{if(this.loading=!0,!this.validateNewRow())return;const e=yield this.updateRow(this.type_name,this.edit_model,this.create_row,this.selected_row_index);if(!e||!0!==e.success)throw e;this.create_row?this.showSuccessToast("Created Record"):this.showSuccessToast("Updated Record");const t=new CustomEvent("record_saved",{detail:{}});document.dispatchEvent(t)}catch(e){const t=h.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.loading=!1}}))},validateNewRow(){try{if(!this.edit_model.hasOwnProperty("id")||""==this.edit_model.id.replace(/\s+/g,""))throw this.$t("pages.settings.master_data_lookup.required_id");if(this.row_id!=this.edit_model.id&&this.data[this.type_name].ids.includes(this.edit_model.id))throw this.$t("pages.settings.master_data_lookup.not_unique_id");return!0}catch(e){if("string"==typeof e)return this.showErrorToast(e),!1;throw e}}}});var fe=a(23316),ke=a(36914),ve=a(39150),we=a(56384),Ce=a(44189),Fe=a(67837),Ae=a(62669),Se=a(39035),Le=a(88672);const qe=(0,J.A)(be,[["render",ge]]),Ee=qe;ie()(be,"components",{QCard:fe.A,QToolbar:ke.A,QToolbarTitle:ve.A,QBtn:we.A,QCardSection:Ce.A,QInput:Fe.A,QCardActions:Ae.A,QInnerLoading:Se.A}),ie()(be,"directives",{ClosePopup:Le.A});const xe={class:"text-weight-bold"},Qe={class:"row"},De={class:"col-12"},Te={class:"row q-mt-md"},Be={class:"col-12"},Re=(0,s.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function $e(e,t,a,l,i,n){const r=(0,s.g2)("q-toolbar-title"),d=(0,s.g2)("q-btn"),c=(0,s.g2)("q-toolbar"),u=(0,s.g2)("q-input"),p=(0,s.g2)("q-card-section"),h=(0,s.g2)("q-card-actions"),_=(0,s.g2)("q-card"),m=(0,s.g2)("q-inner-loading"),g=(0,s.gN)("close-popup");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(_,{style:{width:"700px","max-width":"1060px","min-height":"260px"}},{default:(0,s.k6)((()=>[(0,s.bF)(c,{class:"text-white secondary-toolbar"},{default:(0,s.k6)((()=>[(0,s.bF)(r,null,{default:(0,s.k6)((()=>[(0,s.Lk)("span",xe,(0,o.v_)(e.$t("update_alias")),1)])),_:1}),(0,s.bo)((0,s.bF)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[g]])])),_:1}),(0,s.bF)(p,null,{default:(0,s.k6)((()=>[(0,s.Lk)("div",Qe,[(0,s.Lk)("div",De,[(0,s.bF)(u,{readonly:"",outlined:"",modelValue:e.table_alias_key,"onUpdate:modelValue":t[0]||(t[0]=t=>e.table_alias_key=t),filled:"",label:e.$t("pages.settings.master_data_lookup.manage.select_table")},null,8,["modelValue","label"])])]),(0,s.Lk)("div",Te,[(0,s.Lk)("div",Be,[(0,s.bF)(u,{outlined:"",modelValue:e.table_alias_value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.table_alias_value=t),filled:"",label:e.$t("pages.settings.master_data_lookup.manage.alias"),maxlength:"100",style:{height:"60px"}},null,8,["modelValue","label"])])])])),_:1}),(0,s.bF)(h,{align:"right"},{default:(0,s.k6)((()=>[(0,s.bo)((0,s.bF)(d,{class:"q-mr-sm highlighted-back",label:e.$t("cancel")},null,8,["label"]),[[g]]),(0,s.bF)(d,{class:"q-mr-sm",type:"submit",color:"primary",label:e.$t("save"),onClick:e.set_alias},null,8,["label","onClick"])])),_:1})])),_:1}),(0,s.bF)(m,{showing:e.loading},{default:(0,s.k6)((()=>[Re])),_:1},8,["showing"])],64)}var Ke=function(e,t,a,s){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function i(e){try{r(s.next(e))}catch(t){l(t)}}function n(e){try{r(s["throw"](e))}catch(t){l(t)}}function r(e){e.done?a(e.value):o(e.value).then(i,n)}r((s=s.apply(e,t||[])).next())}))};const Oe=(0,s.pM)({el:"#app",mixins:[p.A,c.A],components:{},data(){return{}},setup(){const e=(0,g.rD)(),{setAlias:t}=e,{aliases:a}=(0,d.bP)(e);return{aliases:a,setAlias:t,loading:(0,u.KR)(!1),table_alias_value:(0,u.KR)(""),table_alias_key:(0,u.KR)("")}},props:{alias_key_temp:{type:String,default:""}},mounted:function(){this.table_alias_key=this.alias_key_temp,this.populateAlias()},methods:{set_alias(){return Ke(this,void 0,void 0,(function*(){try{if(!this.validate())return;this.loading=!0,0==this.table_alias_value.length&&(this.table_alias_value=this.table_alias_key),yield this.setAlias(this.table_alias_key,this.table_alias_value),this.showSuccessToast("alias is Updated.");const e=new CustomEvent("alias_updated",{});document.dispatchEvent(e)}catch(e){const t=h.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.loading=!1}}))},validate(){return null===this.table_alias_key?(this.showErrorToast("Please select a Table to create an alias for"),!1):null!==this.table_alias_value||(this.showErrorToast("Please set an alias to create for the table"),!1)},populateAlias(){if(null===this.table_alias_key)return;const e=this.aliases[this.table_alias_key];null!==e&&(this.table_alias_value=e)}}}),Ve=(0,J.A)(Oe,[["render",$e]]),Me=Ve;ie()(Oe,"components",{QCard:fe.A,QToolbar:ke.A,QToolbarTitle:ve.A,QBtn:we.A,QCardSection:Ce.A,QInput:Fe.A,QCardActions:Ae.A,QInnerLoading:Se.A}),ie()(Oe,"directives",{ClosePopup:Le.A});var Pe=function(e,t,a,s){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function i(e){try{r(s.next(e))}catch(t){l(t)}}function n(e){try{r(s["throw"](e))}catch(t){l(t)}}function r(e){e.done?a(e.value):o(e.value).then(i,n)}r((s=s.apply(e,t||[])).next())}))};const Xe=(0,s.pM)({el:"#app",mixins:[p.A,c.A,P.A],props:{type_name:{type:String,reqired:!0,default:""}},components:{EditCreate:Ee,TableAlias:Me,ColumnOrderBy:H,savedSortByBadges:re,draggable:Y.H},data(){return{selectedIndex:(0,u.KR)(0),columnListPreferenc:[],enableSaveColumnOrderBtn:(0,u.KR)(!1),searchOperatorByField:{},filterValueByField:{}}},setup(){const e=(0,g.rD)(),{deleteRow:t,getDataByType:a,getDataTypeFields:s,sortColumns:o,getColumnPreference:l}=e,{data:i,sortby_data_types:n}=(0,d.bP)(e),r=(0,g.Ox)(),{search_operators:c,search_op_key_postfix:p,default_operator:h}=(0,d.bP)(r);let _=[];const m=(0,g.Bu)(),{updateSetting:y}=m;return{updateSetting:y,sortby_data_types:n,search_op_key_postfix:p,search_operators_list:c,getColumnPreference:l,getDataTypeFields:s,getDataByType:a,sortColumns:o,data:i,loading:(0,u.KR)(!1),columns:(0,u.KR)(_),columnsCopy:(0,u.KR)(_),filter_value:(0,u.KR)(""),edit_model:(0,u.KR)({}),create_row:(0,u.KR)(!1),show_edit_create:(0,u.KR)(!1),selected_row:(0,u.KR)({}),selected_row_index:(0,u.KR)(0),request_params:(0,u.KR)({}),current_page:(0,u.KR)(1),total_pages:(0,u.KR)(0),offset:(0,u.KR)(0),page_size:(0,u.KR)(7),total_records:(0,u.KR)(0),filter_data_json_str:(0,u.KR)(""),display_table_alias_popup:(0,u.KR)(!1),search_operator:(0,u.KR)(""),default_operator:h,search_operator_pref_key:(0,u.KR)(""),deleteRow:t,is_hidden:(0,u.KR)(!1)}},mounted:function(){this.initView(),document.addEventListener("record_saved",this.recordSaved),document.addEventListener("alias_updated",this.aliasUpdated),document.addEventListener("ms_search",this.searchEvent),this.initailizeDragColumnsById(this.type_name),document.addEventListener(this.type_name+"-column-drop",this.onDropColumns)},unmounted:function(){document.removeEventListener("record_saved",this.recordSaved),document.removeEventListener("alias_updated",this.aliasUpdated),document.removeEventListener("ms_search",this.searchEvent),document.removeEventListener(this.type_name+"-column-drop",this.onDropColumns)},methods:{initView(){return Pe(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.getDataTypeFields(this.type_name),this.getOrderByColumns(),yield this.getDataServer(),this.prepareColumns(),this.setSearchOperator()}catch(e){const t=h.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.loading=!1}}))},searchEvent(e){e.detail.data_type==this.type_name&&this.searchByAll()},setSearchOperator(){return Pe(this,void 0,void 0,(function*(){this.search_operator_pref_key=String(this.type_name+this.search_op_key_postfix).toUpperCase(),this.search_operator=yield(0,de.PL)(this.search_operator_pref_key),this.search_operator||(this.search_operator=this.default_operator)}))},getDataServer(){return Pe(this,void 0,void 0,(function*(){try{this.loading=!0,this.request_params={},this.request_params["skip"]=this.offset,this.request_params["limit"]=this.page_size,this.request_params["data_type"]=this.type_name,this.request_params["match_all"]=!1,this.makeOrderByForCall(),yield this.getDataByType(this.request_params,this.filter_data_json_str),this.data[this.type_name].data.length>0&&(this.total_records=this.data[this.type_name].total_records,this.setTotalPages())}catch(e){const t=h.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.loading=!1}}))},makeOrderByForCall(){const e=(0,j.nM)(this.sortby_data_types[this.type_name]["orderByMap"]);e&&0!=e.length&&(this.request_params["sort_order_json"]=JSON.stringify(e))},onDropColumns(){let e=[];for(let t of this.columns)e.push(t.name);this.saveSortColumns(e)},saveSortColumns(e){return Pe(this,void 0,void 0,(function*(){try{this.loading=!0;let t="master_data"+this.type_name;yield this.updateSetting(t,JSON.stringify(e))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.loading=!1}}))},onKeyup(e){"Enter"==e.key&&this.searchByAll()},callSearchAll(){this.searchByAll()},onKeyupByOne(e){"Enter"==e.key&&this.searchOneField()},getSearchJsonByOne(){let e="",t={},a=[];const s=Object.keys(this.filterValueByField)[0];return s&&""!=s?(Object.keys(this.filterValueByField).forEach((e=>{const t=this.filterValueByField[e],s=this.searchOperatorByField[e];t&&s&&a.push({field:e,operator:s,value:t})})),a.length>0&&(t["filters"]=a,t["match_all"]=!1,e=JSON.stringify(t)),e):e},searchOneField(){return Pe(this,void 0,void 0,(function*(){try{this.loading=!0,this.resetPagination(),this.filter_data_json_str=this.getSearchJsonByOne(),yield this.getDataServer()}catch(e){}finally{this.loading=!1}}))},operatorUpdatedOneField(e,t){return Pe(this,void 0,void 0,(function*(){try{if(!e)return;this.showLoading(),yield(0,de.qf)(`${this.search_operator_pref_key}_${t}`,e),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(a){const e=h.t.getErrorMessage(a);this.showErrorToast(e)}finally{this.hideLoading()}}))},searchByAll(){return Pe(this,void 0,void 0,(function*(){try{this.loading=!0;const e=this.data[this.type_name]["fields"];this.data[this.type_name]={},this.data[this.type_name]["fields"]=e,this.resetPagination(),this.filter_data_json_str=this.getSearchJson(),yield this.getDataServer()}catch(e){}finally{this.loading=!1}}))},getSearchJson(){let e="";if(!this.filter_value||""==this.filter_value)return e;const t=["action"];let a={},s=[];return Array.from(this.columns).forEach((e=>{t.includes(e.field)||s.push({field:e.field,operator:this.search_operator,value:this.filter_value})})),s.length>0&&(a["filters"]=s,a["match_all"]=!1,e=JSON.stringify(a)),e},paginationItemClicked(){return Pe(this,void 0,void 0,(function*(){try{this.calculateOffset(),yield this.getDataServer()}catch(e){const t=h.t.getErrorMessage(e);this.showErrorToast(t)}}))},prepareColumns(){try{if("function"!==typeof this.$t)return;const e=this.data[this.type_name].readonly;e||this.columns.push({name:"id",label:"id",field:"id",align:"left"});for(const[t,a]of Object.entries(this.data[this.type_name].fields)){if(""==a)return;const e=String(a);if("id"==a)continue;let t=e;t="last_modified_on"==e?this.$t(e):(0,j.C5)(t),this.is_hidden&&this.checkEmptyColumns().some((t=>t.name===e))||this.columns.push({name:e,label:t,field:e,align:"left"})}this.getColumnSortPreference(),this.applyColumnSort(),e||this.columns.push({name:"action",label:M.i18n.t("action"),field:"action",align:"right"}),this.restColumnsList()}catch(e){}},restColumnsList(){this.columnsCopy=JSON.parse(JSON.stringify(this.columns))},editRow(e){this.create_row=!1;const t=JSON.parse(JSON.stringify(this.data[this.type_name].data[e]));this.selected_row=t,this.selected_row_index=e,this.show_edit_create=!0},createRow(){this.create_row=!0,this.columns.length<=2?this.showErrorToast("No Columns found Please upload a csv before adding a new row"):(this.selected_row={},this.selected_row_index=0,this.show_edit_create=!0)},deleteClicked(e,t){return Pe(this,void 0,void 0,(function*(){try{this.loading=!0;const a=yield this.deleteRow(this.type_name,t,e);if(!a||!0!==a.success)throw a;this.showSuccessToast("Record Deleted"),this.handleCurrentPage()}catch(a){const e=h.t.getErrorMessage(a);this.showErrorToast(e)}finally{this.loading=!1}}))},handleCurrentPage(){0==this.data[this.type_name].data.length&&this.paginationItemClicked()},recordSaved(){this.show_edit_create=!1},resetPagination(){this.offset=0,this.total_pages=0,this.current_page=1,this.total_records=0},setTotalPages(){this.total_pages=Math.ceil(this.total_records/this.page_size)},setCurrentPage(){return this.current_page>this.total_pages&&(this.current_page--,this.setCurrentPage()),this.current_page},calculateOffset(){this.offset=this.page_size*(this.current_page-1)},saveColumnOrder(){return Pe(this,void 0,void 0,(function*(){this.loading=!0;let e=[];this.columns=JSON.parse(JSON.stringify(this.columnsCopy));for(let a of this.columns)e.push(a.name);try{let t="master_data"+this.type_name;yield this.updateSetting(t,JSON.stringify(e)),this.showSuccessToast("Order of Columns has bean sucessfully updated")}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.enableSaveColumnOrderBtn=!1,this.loading=!1}}))},itemDraggedComplete(e){e.moved&&(this.enableSaveColumnOrderBtn=!0)},getColumnSortPreference(){this.columnListPreferenc=JSON.parse(this.getColumnPreference(this.type_name))},applyColumnSort(){this.columns=this.sortColumns(this.columnListPreferenc,this.columns)},downloadAsCSV(){return Pe(this,void 0,void 0,(function*(){try{this.loading=!0;const e=yield G.SY.downloadAsCSV(this.type_name);if(e.error)throw e.error;const t=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.href=t,a.setAttribute("download",this.type_name+".csv"),document.body.appendChild(a),a.click(),a.remove()}catch(e){const t=h.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.loading=!1}}))},aliasUpdated(){this.display_table_alias_popup=!1},operatorUpdated(e){return Pe(this,void 0,void 0,(function*(){try{if(!e)return;this.showLoading(),yield(0,de.qf)(this.search_operator_pref_key,e),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(t){const e=h.t.getErrorMessage(t);this.showErrorToast(e)}finally{this.hideLoading()}}))},getOrderByColumns(){this.sortby_data_types[this.type_name]={},this.sortby_data_types[this.type_name]["orderByMap"]=(0,j.Q)(this.type_name)},checkEmptyColumns(){const e=new Set;return this.data[this.type_name].data.forEach((t=>{this.columns.forEach((a=>{t[a.name]&&e.add(a.name)}))})),this.columns.filter((t=>!e.has(t.name)))},hideShowColumns(){if(this.is_hidden=!this.is_hidden,this.is_hidden){const e=this.checkEmptyColumns().map((e=>e.name));this.columns=this.columns.filter((t=>!e.includes(t.name)))}else this.prepareColumns()}}});var Ie=a(93676),Ue=a(18301),Ne=a(53999),je=a(90124),We=a(25173),Je=a(13796),ze=a(94940),He=a(42315),Ge=a(44488),Ye=a(57722),Ze=a(84436),et=a(45262),tt=a(10386),at=a(97410),st=a(54700),ot=a(857),lt=a(82156);const it=(0,J.A)(Xe,[["render",V]]),nt=it;ie()(Xe,"components",{QInput:Fe.A,QIcon:oe.A,QSpace:Ie.A,QBtnDropdown:Ue.A,QCard:fe.A,QCardSection:Ce.A,QList:Ne.A,QItem:je.A,QItemSection:We.A,QItemLabel:Je.A,QSelect:ze.A,QTable:He.A,QTr:Ge.A,QTh:Ye.A,QMenu:Ze.A,QTd:et.A,QBtn:we.A,QSeparator:tt.A,QTooltip:at.A,QPagination:st.A,QMarkupTable:ot.A,QDialog:lt.A,QInnerLoading:Se.A}),ie()(Xe,"directives",{ClosePopup:Le.A});const rt=e=>((0,s.Qi)("data-v-c9d73cf8"),e=e(),(0,s.jt)(),e),dt={class:"text-weight-bold"},ct={style:{"text-align":"left"}},ut=rt((()=>(0,s.Lk)("th",{style:{width:"5%"}},null,-1))),pt={style:{width:"4%"}},ht={key:0,class:"text-center"},_t={colspan:"4"},mt=rt((()=>(0,s.Lk)("img",{class:"inner-loader",src:"images/loader.gif",alt:"Loading..."},null,-1)));function gt(e,t,a,l,i,n){const r=(0,s.g2)("q-toolbar-title"),d=(0,s.g2)("q-btn"),c=(0,s.g2)("q-toolbar"),u=(0,s.g2)("f-btn"),p=(0,s.g2)("q-card-section"),h=(0,s.g2)("q-tooltip"),_=(0,s.g2)("q-inner-loading"),m=(0,s.g2)("q-markup-table"),g=(0,s.g2)("q-card"),y=(0,s.gN)("close-popup");return(0,s.uX)(),(0,s.Wv)(g,{style:{"min-width":"55vw"}},{default:(0,s.k6)((()=>[(0,s.bF)(c,{class:"text-white secondary-toolbar"},{default:(0,s.k6)((()=>[(0,s.bF)(r,null,{default:(0,s.k6)((()=>[(0,s.Lk)("span",dt,(0,o.v_)(e.$t("pages.custom_master_data.custom_master_data")),1)])),_:1}),(0,s.bo)((0,s.bF)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[y]])])),_:1}),(0,s.bF)(p,{class:"row"},{default:(0,s.k6)((()=>[(0,s.bF)(u,{class:"float-right q-ml-auto q-mr-sm",icon:"add",to:"/settings/data-validation/create-preset",label:e.$t("pages.custom_master_data.create_template")},null,8,["label"]),(0,s.bF)(u,{label:e.$t("pages.custom_master_data.create_endpoint"),icon:"add",to:"/settings/data-validation/create"},null,8,["label"])])),_:1}),(0,s.bF)(p,null,{default:(0,s.k6)((()=>[(0,s.bF)(m,{class:"sticky-column-for-table q-table-seperator white-back",flat:"",bordered:"",dense:""},{default:(0,s.k6)((()=>[(0,s.Lk)("thead",null,[(0,s.Lk)("tr",ct,[(0,s.Lk)("th",null,(0,o.v_)(e.$t("name")),1),(0,s.Lk)("th",null,(0,o.v_)(e.$t("doc_type_classification_method")),1),(0,s.Lk)("th",null,(0,o.v_)(e.$t("pages.custom_master_data.application_type")),1),ut])]),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.custom_records,((t,a)=>((0,s.uX)(),(0,s.CE)("tr",{key:t},[(0,s.Lk)("td",null,(0,o.v_)(t["data_key"]),1),(0,s.Lk)("td",null,(0,o.v_)(t["method"]),1),(0,s.Lk)("td",null,(0,o.v_)(t["body_type"]),1),(0,s.Lk)("td",pt,[(0,s.bF)(d,{round:"",dense:"",flat:"",icon:"edit",onClick:e=>n.editRecord(t)},{default:(0,s.k6)((()=>[(0,s.bF)(h,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("edit")),1)])),_:1})])),_:2},1032,["onClick"]),(0,s.bF)(d,{round:"",dense:"",flat:"",icon:"refresh",onClick:e=>n.triggerRecord(t)},{default:(0,s.k6)((()=>[(0,s.bF)(h,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("pages.custom_master_data.trigger_endpoint")),1)])),_:1})])),_:2},1032,["onClick"]),(0,s.bF)(d,{round:"",dense:"",flat:"",color:"red",icon:"delete",onClick:e=>n.deleteRecord(t,a)},{default:(0,s.k6)((()=>[(0,s.bF)(h,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,o.v_)(e.$t("delete")),1)])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==l.custom_records.length?((0,s.uX)(),(0,s.CE)("tr",ht,[(0,s.Lk)("th",_t,(0,o.v_)(e.$t("pages.messages.no_record_found")),1)])):(0,s.Q3)("",!0)]),(0,s.bF)(_,{showing:l.loading},{default:(0,s.k6)((()=>[mt])),_:1},8,["showing"])])),_:1})])),_:1})])),_:1})}a(10239);const yt={mixins:[p.A,c.A],name:"MasterDataListPopUp",data(){return{}},methods:{editRecord(e){this.$router.push("data-validation/create/"+e.id)},async deleteRecord(e,t){await this.deleteCustomRecord(e.id,t).then((()=>{this.showSuccessToast(this.$t("pages.messages.DELETED_SUCCESSFULLY"))}))},async triggerRecord(e){try{await this.triggerCustomRecord(e.id),this.showSuccessToast(this.$t("pages.custom_master_data.triggered_successfully"))}catch(t){const e=h.t.getErrorMessage(t);this.loading=!1,this.showErrorToast(e)}finally{this.loading=!1}},async init(){await this.getMasterDataList("record")}},mounted(){this.showLoading(),this.init(),this.hideLoading()},setup(){const e=(0,g.kH)(),{sub_org_id:t}=(0,d.bP)(e),a=(0,g.rD)(),{custom_records:s,endpoint_information:o,mode:l,loading:i}=(0,d.bP)(a),{getMasterDataList:n,deleteCustomRecord:r,triggerCustomRecord:c}=a;return{mode:l,sub_org_id:t,endpoint_information:o,loading:i,triggerCustomRecord:c,deleteCustomRecord:r,getMasterDataList:n,custom_records:s}}},bt=(0,J.A)(yt,[["render",gt],["__scopeId","data-v-c9d73cf8"]]),ft=bt;ie()(yt,"components",{QCard:fe.A,QToolbar:ke.A,QToolbarTitle:ve.A,QBtn:we.A,QCardSection:Ce.A,QMarkupTable:ot.A,QTable:He.A,QTooltip:at.A,QInnerLoading:Se.A}),ie()(yt,"directives",{ClosePopup:Le.A});var kt=function(e,t,a,s){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,l){function i(e){try{r(s.next(e))}catch(t){l(t)}}function n(e){try{r(s["throw"](e))}catch(t){l(t)}}function r(e){e.done?a(e.value):o(e.value).then(i,n)}r((s=s.apply(e,t||[])).next())}))};const vt=(0,s.pM)({el:"#app",mixins:[p.A,c.A],props:{},components:{SubHeader:m.A,BackToSettings:y.A,CustomMasterDataPopUp:ft,MasterDataTypeList:nt},data(){return{tab:(0,u.KR)("tables"),custom_master_data:_.MS}},beforeRouteLeave:function(e,t,a){const s=(0,g.rD)();s.$reset(),a()},setup(){const e=(0,g.rD)(),{getDataSetTypes:t,getDataSetAliases:a}=e,{aliases:s,data_types:o,data_types_loaded:l}=(0,d.bP)(e),i=(0,g.Bu)(),{user_settings:n}=(0,d.bP)(i),{getOrgSettings:r}=i;return{user_settings:n,data_types_loaded:l,getOrgSettings:r,getDataSetTypes:t,getDataSetAliases:a,aliases:s,data_types:o,loading:(0,u.KR)(!1),show_custom_master_data:(0,u.KR)(!1)}},mounted:function(){this.initView()},methods:{initView(){return kt(this,void 0,void 0,(function*(){try{yield this.getDataSetTypes(),yield this.getDataSetAliases(),yield this.getOrgSettings()}catch(e){const t=h.t.getErrorMessage(e);this.showErrorToast(t)}}))}}});var wt=a(88841);const Ct=(0,J.A)(vt,[["render",r]]),Ft=Ct;ie()(vt,"components",{QList:Ne.A,QSeparator:tt.A,QExpansionItem:wt.A,QIcon:oe.A,QSpace:Ie.A,QCard:fe.A,QCardSection:Ce.A,QDialog:lt.A,QInnerLoading:Se.A})}}]);