"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[5477],{5477:(e,t,l)=>{l.r(t),l.d(t,{default:()=>de});var a=l(61758),n=l(29104),o=l(58790);const s=e=>((0,a.Qi)("data-v-b6c04f28"),e=e(),(0,a.jt)(),e),i={id:"services"},d={class:"row"},c={class:"col-9",style:{"margin-top":"2vh"}},r={class:"drag-area text-center full-width",style:{padding:"20px"},id:"box-droppable"},u={style:{width:"300px",margin:"auto"},align:"center"},p={style:{padding:"10px",width:"100%"}},h={style:{"font-size":"20px"}},g={class:"",style:{padding:"10px","margin-bottom":"10px",width:"100%"}},w={class:"q-card-heading text-h3"},b={class:"row",style:{"margin-top":"50px"}},_=s((()=>(0,a.Lk)("div",{class:"col-3"},null,-1))),v={class:"col-1 text-center"},m={class:"col-1 text-center"},f={class:"col-2 text-center"},k={class:"col-1 text-center"},y={class:"col-1 text-center"},x={key:2,style:{height:"75vh","overflow-y":"auto",padding:"20px","margin-left":"68px",border:"2px solid #000000"}},F={class:"col-2",style:{"margin-top":"2vh"}},L={class:"popup-heading"},D={class:"row text-center"},A={key:0,style:{"margin-top":"5px"}},V={class:"scanner-error text-uppercase"};function R(e,t,l,s,R,K){const $=(0,a.g2)("DownloadInstaller"),S=(0,a.g2)("q-dialog"),C=(0,a.g2)("q-img"),I=(0,a.g2)("q-file"),Q=(0,a.g2)("q-card-section"),q=(0,a.g2)("q-card"),T=(0,a.g2)("q-toolbar-title"),U=(0,a.g2)("q-icon"),z=(0,a.g2)("q-btn"),B=(0,a.g2)("q-card-actions"),P=(0,a.g2)("vue-pdf-embed"),W=(0,a.g2)("q-separator"),X=(0,a.g2)("q-toolbar"),E=(0,a.g2)("q-input"),G=(0,a.g2)("q-tooltip"),j=(0,a.g2)("q-item-section"),M=(0,a.g2)("q-item"),O=(0,a.g2)("q-select"),H=(0,a.g2)("q-checkbox"),N=(0,a.g2)("DocSplit");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(S,{modelValue:e.showDownloadInstaller,"onUpdate:modelValue":t[0]||(t[0]=t=>e.showDownloadInstaller=t),onKeydown:t[1]||(t[1]=(0,n.jR)((t=>e.showDownloadInstaller=!1),["esc"]))},{default:(0,a.k6)((()=>[(0,a.bF)($)])),_:1},8,["modelValue"]),(0,a.Lk)("section",i,[(0,a.Lk)("div",d,[(0,a.Lk)("div",c,[e.showDragnDrop?((0,a.uX)(),(0,a.Wv)(q,{key:0,flat:"",class:"drag-n-drop highlighted-back",onDrop:e.drop,onDragover:e.allowDrop,onDragleave:e.dragLeave},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{style:{border:"2px dashed",height:"100%"}},{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,[(0,a.bF)(C,{src:"doc2light/scanner/cloud.svg",style:{height:"240px",width:"700px","margin-top":"10%"}}),(0,a.Lk)("div",u,[(0,a.Lk)("div",p,[(0,a.Lk)("span",h,(0,o.v_)(e.$t("doc2light.pages.dragndrop")),1)]),(0,a.Lk)("div",g,(0,o.v_)(e.$t("doc2light.pages.or")),1),(0,a.bF)(I,{"bg-color":"primary",multiple:"",standout:"",label:e.$t("doc2light.pages.browse_files"),modelValue:e.uploadedFiles,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.uploadedFiles=t),e.uploadFiles],"data-cy":"upload-multiple-docs",style:{width:"60%"}},null,8,["label","modelValue","onUpdate:modelValue"])])])])),_:1})])),_:1},8,["onDrop","onDragover","onDragleave"])):(0,a.Q3)("",!0),e.showInstaller?((0,a.uX)(),(0,a.Wv)(q,{key:1,flat:"",class:"drag-n-drop"},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{style:{"margin-top":"16%"}},{default:(0,a.k6)((()=>[(0,a.bF)(T,{class:"text-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",w,(0,o.v_)(e.$t("doc2light.pages.download_scan_installer")),1)])),_:1}),(0,a.Lk)("div",b,[_,(0,a.Lk)("div",v,[(0,a.bF)(C,{src:"doc2light/download-13.svg",height:"70px",width:"70px",class:"black_to_white"}),(0,a.Lk)("div",null,(0,o.v_)(e.$t("download")),1)]),(0,a.Lk)("div",m,[(0,a.bF)(U,{name:"double_arrow",size:"40px",style:{"margin-top":"1.5vh"}})]),(0,a.Lk)("div",f,[(0,a.bF)(C,{src:"doc2light/ordner-12.svg",height:"70px",width:"80px",class:"black_to_white"}),(0,a.Lk)("div",null,(0,o.v_)(e.$t("doc2light.pages.installing")),1)]),(0,a.Lk)("div",k,[(0,a.bF)(U,{name:"double_arrow",size:"40px",style:{"margin-top":"1.5vh"}})]),(0,a.Lk)("div",y,[(0,a.bF)(C,{src:"doc2light/icons-menu_Scan.svg",height:"70px",width:"70px",class:"black_to_white"}),(0,a.Lk)("div",null,(0,o.v_)(e.$t("doc2light.pages.scan")),1)])])])),_:1}),(0,a.bF)(B,{align:"center"},{default:(0,a.k6)((()=>[(0,a.bF)(z,{rounded:"",unelevated:"",class:"background-gradient download-button",label:e.$t("Windows"),size:"15px",icon:"window",onClick:t[3]||(t[3]=t=>e.downloadInstaller("https://github.com/Fellow-Consulting-AG/Public-Doc2scanner/releases/latest/download/doc2scan-windows-installer.msi"))},null,8,["label"]),(0,a.bF)(z,{rounded:"",unelevated:"",class:"background-gradient download-button",label:e.$t("MacOS"),size:"15px",icon:"apple",onClick:t[4]||(t[4]=t=>e.downloadInstaller("https://github.com/Fellow-Consulting-AG/Public-Doc2scanner/releases/latest/download/doc2scan-macos-installer-x64.pkg "))},null,8,["label"])])),_:1})])),_:1})):(0,a.Q3)("",!0),e.showPDF?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.bF)(P,{ref:"pager",source:e.file},null,8,["source"])])):(0,a.Q3)("",!0)]),(0,a.bF)(W,{vertical:"",color:"black",style:{"margin-left":"30px","margin-right":"30px","min-height":"89vh"}}),(0,a.Lk)("div",F,[(0,a.Lk)("div",null,[(0,a.bF)(q,{class:"card-format highlighted-back",flat:""},{default:(0,a.k6)((()=>[(0,a.bF)(X,null,{default:(0,a.k6)((()=>[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",L,(0,o.v_)(e.$t("doc2light.pages.scan_settings")),1)])),_:1})])),_:1}),(0,a.bF)(Q,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.bF)(E,{modelValue:e.new_scan["name"],"onUpdate:modelValue":t[5]||(t[5]=t=>e.new_scan["name"]=t),label:e.$t("name")},null,8,["modelValue","label"])]),(0,a.Lk)("div",D,[(0,a.bF)(O,{style:{"min-width":"15vw"},modelValue:e.new_scan["source"],"onUpdate:modelValue":t[7]||(t[7]=t=>e.new_scan["source"]=t),label:e.$t("doc2light.pages.choose_source"),options:e.scanners},{after:(0,a.k6)((()=>[(0,a.bF)(z,{unelevated:"",round:"",icon:"restart_alt",onClick:t[6]||(t[6]=t=>e.getScanners(e.valid_url))},{default:(0,a.k6)((()=>[(0,a.bF)(G,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("doc2light.pages.search_scanners")),1)])),_:1})])),_:1})])),"no-option":(0,a.k6)((()=>[(0,a.bF)(M,null,{default:(0,a.k6)((()=>[(0,a.bF)(j,null,{default:(0,a.k6)((()=>[(0,a.eW)(" No results ")])),_:1})])),_:1})])),_:1},8,["modelValue","label","options"])]),e.showDownloadInstallerButton?((0,a.uX)(),(0,a.CE)("div",A,[(0,a.bF)(j,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",V,(0,o.v_)("! "+e.$t("directscan.no_scanner_found")),1)])),_:1})])):(0,a.Q3)("",!0),(0,a.Lk)("div",null,[(0,a.bF)(H,{modelValue:e.new_scan["automatic_get"],"onUpdate:modelValue":t[8]||(t[8]=t=>e.new_scan["automatic_get"]=t),"indeterminate-value":!1,label:e.$t("doc2light.pages.automatic_get")},null,8,["modelValue","label"])]),(0,a.Lk)("div",null,[(0,a.bF)(H,{modelValue:e.new_scan["remove_empty_sites"],"onUpdate:modelValue":t[9]||(t[9]=t=>e.new_scan["remove_empty_sites"]=t),"indeterminate-value":!1,label:e.$t("doc2light.pages.remove_empty_pages")},null,8,["modelValue","label"])]),(0,a.Lk)("div",null,[(0,a.bF)(H,{modelValue:e.new_scan["2_sided"],"onUpdate:modelValue":t[10]||(t[10]=t=>e.new_scan["2_sided"]=t),"indeterminate-value":!1,label:e.$t("doc2light.pages.two_side_scan")},null,8,["modelValue","label"])]),(0,a.Lk)("div",null,[(0,a.bF)(O,{modelValue:e.new_scan["resolution"],"onUpdate:modelValue":t[11]||(t[11]=t=>e.new_scan["resolution"]=t),label:e.$t("doc2light.pages.resolution"),options:e.resolutions},null,8,["modelValue","label","options"])]),(0,a.Lk)("div",null,[(0,a.bF)(O,{type:"multi",modelValue:e.new_scan["pixel_type"],"onUpdate:modelValue":t[12]||(t[12]=t=>e.new_scan["pixel_type"]=t),label:"Pixeltype",options:e.pixeltypes},null,8,["modelValue","options"])])])),_:1}),e.documentScanned?((0,a.uX)(),(0,a.Wv)(B,{key:0,align:"center",style:{}},{default:(0,a.k6)((()=>[(0,a.bF)(z,{unelevated:"",label:e.$t("doc2light.pages.scan"),"color:":"",size:"15px",style:{width:"5vw","margin-right":"20px","margin-bottom":"10px"},class:"btn-fixed-width inverted-button",onClick:t[13]||(t[13]=t=>e.doScan())},null,8,["label"]),(0,a.bF)(z,{unelevated:"",color:"primary",label:e.$t("doc2light.pages.upload"),size:"15px",style:{"min-width":"5vw"},class:"btn-fixed-width primary-button",onClick:t[14]||(t[14]=t=>e.uploadSingleFile(e.filedata))},null,8,["label"])])),_:1})):((0,a.uX)(),(0,a.Wv)(B,{key:1,align:"center",style:{"margin-right":"7px"}},{default:(0,a.k6)((()=>[(0,a.bF)(z,{unelevated:"",color:"primary",label:e.$t("doc2light.pages.scan"),size:"15px",style:{width:"5vw","margin-bottom":"20px"},class:"btn-fixed-width primary-button",onClick:e.doScan},null,8,["label","onClick"])])),_:1})),e.showSplitButton?((0,a.uX)(),(0,a.Wv)(B,{key:2,align:"center",class:"text-center"},{default:(0,a.k6)((()=>[(0,a.bF)(z,{style:{width:"11vw"},unelevated:"",color:"primary",class:"primary-button btn-fixed-width",label:e.$t("doc2light.pages.split"),onClick:t[15]||(t[15]=t=>e.show_popup=!0)},null,8,["label"])])),_:1})):(0,a.Q3)("",!0)])),_:1})]),(0,a.bF)(S,{modelValue:e.show_popup,"onUpdate:modelValue":t[16]||(t[16]=t=>e.show_popup=t),onKeydown:t[17]||(t[17]=(0,n.jR)((t=>e.show_popup=!1),["esc"]))},{default:(0,a.k6)((()=>[(0,a.bF)(N,{doc:e.file,pageCount:e.getRef(),filedata:e.filedata,mode:"split_create"},null,8,["doc","pageCount","filedata"])])),_:1},8,["modelValue"])])])])],64)}var K=l(24622),$=l(38734),S=l(18505),C=l(36246),I=l(39822),Q=l(82303),q=l(11470),T=l(97912),U=l(44271),z=function(e,t,l,a){function n(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,o){function s(e){try{d(a.next(e))}catch(t){o(t)}}function i(e){try{d(a["throw"](e))}catch(t){o(t)}}function d(e){e.done?l(e.value):n(e.value).then(s,i)}d((a=a.apply(e,t||[])).next())}))};const B=(0,a.pM)({data(){return{}},props:["service"],components:{DocSplit:I.A,VuePdfEmbed:T.A,DownloadInstaller:U.A},mixins:[S.A,K.A],mounted(){var e="https://local.polydocs.io:";this.initView(e)},methods:{initView(e){this.new_scan["automatic_get"]=!1,this.new_scan["remove_empty_sites"]=!1,this.new_scan["2_sided"]=!1,this.new_scan["pixel_type"]=this.pixeltypes[0],this.new_scan["resolution"]=this.resolutions[0],this.checkAlfred(e)},checkAlfred(e){return z(this,void 0,void 0,(function*(){try{yield Q.A.get(e+"12500/"),yield this.getScanners(e+"12500/")}catch(t){try{yield Q.A.get(e+"12154/"),yield this.getScanners(e+"12154/")}catch(t){try{yield Q.A.get(e+"12346/"),yield this.getScanners(e+"12346/")}catch(t){this.showErrorToast(this.$t("directscan.no_running_scanner")),this.showDownloadInstallerButton=!0,this.showInstaller=!0,this.showDragnDrop=!1}}}}))},getScanners(e){return z(this,void 0,void 0,(function*(){this.valid_url=e;const t=yield Q.A.get(e+"scanners");1==t.data.success?(this.scanners=[],t.data.scanners.forEach((e=>{this.scanners.push({value:e["Host"],label:e["Device"]})})),this.new_scan["source"]=this.scanners[0]):this.showErrorToast(this.$t("directscan.no_scanner_found"))}))},doScan(){return z(this,void 0,void 0,(function*(){let e=this.valid_url+"scan?host="+this.new_scan["source"]["value"];1==this.new_scan["automatic_get"]?e+="&source=adf":e+="&source=platen",""!=this.new_scan["pixel_type"]["value"]&&(e=e+"&color="+this.new_scan["pixel_type"]["value"]),""!=this.new_scan["2_sided"]&&(e=e+"&duplex_input="+this.new_scan["2_sided"]),this.showLoading();yield Q.A.get(e,{responseType:"blob"}).then((e=>{const t=e.headers["content-type"];new Blob([e.data,"test.pdf",t]);this.file=URL.createObjectURL(e.data),this.new_scan["automatic_get"]&&(this.showSplitButton=!0),this.showInstaller=!1,this.showDragnDrop=!1,this.showPDF=!0,this.documentScanned=!0,this.filedata=e.data})).catch((e=>{}));this.hideLoading()}))},getRef(){let e=this.$refs["pager"].pageCount;return e},formateDate(e,t){return C.Ay.formatDate(e,t)},allowDrop(e){e.preventDefault(),e.currentTarget.classList.add("highlighted-back"),e.currentTarget.classList.add("bd-shadow")},drop(e){e.preventDefault(),e.currentTarget.classList.remove("highlighted-back"),e.currentTarget.classList.remove("bd-shadow"),this.uploadFiles(e.dataTransfer.files)},dragLeave(e){e.currentTarget.classList.remove("highlighted-back"),e.currentTarget.classList.remove("bd-shadow")},downloadInstaller(e){window.open(e,"_self")},uploadFiles(e){return z(this,void 0,void 0,(function*(){this.showLoading();for(const a in e)try{let l=new FormData;var t=e[a];l.append("files",t),yield q.z6.uploadFiles(l)}catch(l){}this.hideLoading(),this.$router.push("/dashboard")}))},uploadSingleFile(e){return z(this,void 0,void 0,(function*(){this.showLoading();try{let t=new FormData;this.new_scan["name"]?t.append("files",e,this.new_scan["name"]+".pdf"):t.append("files",e,"Scan.pdf"),yield q.z6.uploadFiles(t)}catch(t){}this.hideLoading(),this.$router.push("/dashboard")}))}},setup(){const e=[{value:"Grayscale8",label:"Gray"},{value:"RGB24",label:"Color"}],t=[{value:"300",label:"300"},{value:"600",label:"600"},{value:"1200",label:"1200"}];return{showDragnDrop:(0,$.KR)(!0),showInstaller:(0,$.KR)(!1),showDownloadInstallerButton:(0,$.KR)(!1),showDownloadInstaller:(0,$.KR)(!1),pageCount:(0,$.KR)(1),file:(0,$.KR)(),filedata:(0,$.KR)(),filter:(0,$.KR)(""),view:(0,$.KR)("list"),multiUploaderDialog:(0,$.KR)(!1),uploadedFiles:(0,$.KR)(null),image:(0,$.KR)(),new_scan:(0,$.KR)({}),scanners:(0,$.KR)([]),show_popup:(0,$.KR)(!1),pixeltypes:(0,$.KR)(e),resolutions:(0,$.KR)(t),importing:(0,$.KR)(!1),showSplitButton:(0,$.KR)(!1),showMenu:(0,$.KR)(!1),showIcons:(0,$.KR)(!0),documentScanned:(0,$.KR)(!1),ports:(0,$.KR)(["12500","12154","12346"]),valid_url:(0,$.KR)(),scan_card_height:(0,$.KR)(),showPDF:(0,$.KR)(!1)}}});var P=l(12807),W=l(82156),X=l(23316),E=l(44189),G=l(15046),j=l(99980),M=l(39150),O=l(50492),H=l(62669),N=l(56384),J=l(10386),Y=l(36914),Z=l(67837),ee=l(94940),te=l(97410),le=l(90124),ae=l(25173),ne=l(80460),oe=l(98582),se=l.n(oe);const ie=(0,P.A)(B,[["render",R],["__scopeId","data-v-b6c04f28"]]),de=ie;se()(B,"components",{QDialog:W.A,QCard:X.A,QCardSection:E.A,QImg:G.A,QFile:j.A,QToolbarTitle:M.A,QIcon:O.A,QCardActions:H.A,QBtn:N.A,QSeparator:J.A,QToolbar:Y.A,QInput:Z.A,QSelect:ee.A,QTooltip:te.A,QItem:le.A,QItemSection:ae.A,QCheckbox:ne.A})}}]);