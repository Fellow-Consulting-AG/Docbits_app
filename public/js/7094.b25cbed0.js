"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[7094],{97094:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_s});var a=s(61758),i=s(58790),n=s(29104);const o=e=>((0,a.Qi)("data-v-0ecc2ea4"),e=e(),(0,a.jt)(),e),r=o((()=>(0,a.Lk)("span",{class:"q-ml-auto col-6 mobile-hide"},null,-1))),l={key:0},d={key:0,class:"full-width"},c={class:"bg-grey-3"},u={class:"q-pa-lg flex flex-center"},h={key:0},p={class:"text-center",colspan:"10"},m={key:1,class:"dashboard-container dashboard-text-color dashboard-main-tasks"},k={key:0,class:"full-width dashboard-list-area"},_={class:"table-header-text back-white"},g={class:"text-red"},v=["props","draggable","dropzone","data-index","onDragstart","onDrop","onDragover"],b={class:"",style:{width:"91px"}},f=["data-index"],y={class:"table-body",style:{width:"50px"}},C={class:"row",style:{width:"50px"}},w=["onClick"],F={style:{padding:"2px"},class:"dashboard-status-text"},E={class:""},S={class:"text-red"},L=o((()=>(0,a.Lk)("div",{class:"box loading-shimmer"},null,-1))),A=[L],D={key:1},I={class:"text-center",colspan:"12"},x={key:1,class:"back-white flex justify-end"},M={class:"row",style:{"margin-right":"0"}};function T(e,t,s,o,L,T){const R=(0,a.g2)("SubHeader"),q=(0,a.g2)("MobileGrid"),P=(0,a.g2)("q-markup-table"),K=(0,a.g2)("q-pagination"),$=(0,a.g2)("Header"),X=(0,a.g2)("q-separator"),O=(0,a.g2)("q-checkbox"),Q=(0,a.g2)("q-item-section"),W=(0,a.g2)("q-item"),U=(0,a.g2)("q-list"),V=(0,a.g2)("q-menu"),B=(0,a.g2)("q-btn"),j=(0,a.g2)("ColumnOrderBy"),z=(0,a.g2)("q-badge"),H=(0,a.g2)("q-tooltip"),J=(0,a.g2)("q-icon"),G=(0,a.g2)("TaskBoard"),N=(0,a.g2)("Loader");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(R,{name:"tasks",label:e.$t("tasks"),show_expiry_alert:!0},{default:(0,a.k6)((()=>[r])),_:1},8,["label"]),e.isMobile()?((0,a.uX)(),(0,a.CE)("div",l,[e.tasks&&e.tasks.length>0?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(q,{onRowClick:e.rowClick},null,8,["onRowClick"])])):((0,a.uX)(),(0,a.Wv)(P,{key:1,class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",c,[(0,a.Lk)("th",null,(0,i.v_)(e.$t("no_data_found")),1)])])])),_:1})),(0,a.Lk)("div",u,[e.total_pages>0?((0,a.uX)(),(0,a.CE)("tr",h,[(0,a.Lk)("td",p,[(0,a.bF)(K,{modelValue:e.current_page,"onUpdate:modelValue":t[0]||(t[0]=t=>e.current_page=t),color:"primary",max:e.total_pages,"max-pages":6,"boundary-links":"",onClick:t[1]||(t[1]=t=>e.nexPageClicked())},null,8,["modelValue","max"])])])):(0,a.Q3)("",!0)])])):((0,a.uX)(),(0,a.CE)("div",m,[(0,a.bF)($),(0,a.bF)(X,{class:"seperator"}),e.list_mode?((0,a.uX)(),(0,a.CE)("div",k,[e.table_columns.length>0?((0,a.uX)(),(0,a.Wv)(P,{key:0,flat:"",class:(0,i.C4)(["dashboard-table-style back-white dashboard-table-height dashboard-table-header-sticky",e.tasks.length>0?"dashboard-min-height":""]),id:"tasks-table"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",_,[(0,a.Lk)("th",null,[(0,a.bF)(O,{modelValue:e.headerCheckbox,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.headerCheckbox=t),t[3]||(t[3]=t=>e.changeAction())],dense:""},null,8,["modelValue"]),(0,a.bF)(B,{flat:"",dense:"",round:"",onClick:t[6]||(t[6]=(0,n.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz",disable:0===this.selectionList.length},{default:(0,a.k6)((()=>[(0,a.bF)(V,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,a.k6)((()=>[(0,a.bF)(U,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[(0,a.bF)(X,{inset:""}),(0,a.bF)(W,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{onClick:e.deleteSelection},{default:(0,a.k6)((()=>[(0,a.Lk)("span",g,(0,i.v_)(e.$t("delete")),1)])),_:1},8,["onClick"])])),_:1}),e.canBulkMarkAsDone?((0,a.uX)(),(0,a.Wv)(W,{key:0,clickable:e.canBulkMarkAsDone},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{onClick:t[4]||(t[4]=t=>e.bulkUpdateStatusTasks(e.selectionList,"done"))},{default:(0,a.k6)((()=>[(0,a.Lk)("span",null,(0,i.v_)(e.$t("mark_as_done")),1)])),_:1})])),_:1},8,["clickable"])):(0,a.Q3)("",!0),e.canBulkMarkAsUnDone?((0,a.uX)(),(0,a.Wv)(W,{key:1,clickable:e.canBulkMarkAsUnDone},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{onClick:t[5]||(t[5]=t=>e.bulkUpdateStatusTasks(e.selectionList,"open"))},{default:(0,a.k6)((()=>[(0,a.Lk)("span",null,(0,i.v_)(e.$t("mark_as_open")),1)])),_:1})])),_:1},8,["clickable"])):(0,a.Q3)("",!0)])),_:1})])),_:1})])),_:1},8,["disable"])]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns,((s,o)=>((0,a.uX)(),(0,a.CE)("th",{key:o,class:(0,i.C4)(["documnetCol",e.indexToMove==o?"dragging":""]),props:e.props,draggable:e.canDragDropColumn(s),dropzone:e.canDragDropColumn(s),"data-index":o,direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.table_columns,o),onDrop:(0,n.D$)((t=>e.handleDrop(t,o)),["prevent"]),onDragover:(0,n.D$)((t=>e.onDragOver(t,o)),["prevent"]),onDragenter:t[7]||(t[7]=(0,n.D$)(((...t)=>e.onDragEnter&&e.onDragEnter(...t)),["prevent"])),onDragleave:t[8]||(t[8]=(0,n.D$)(((...t)=>e.onDragLeave&&e.onDragLeave(...t)),["prevent"])),style:(0,i.Tr)({cursor:e.getIsDragging?"pointer":"move"})},[(0,a.Lk)("span",null,(0,i.v_)(e.$t(s.translation_key)),1),s.sortable?((0,a.uX)(),(0,a.Wv)(j,{key:0,column_name:s.name},null,8,["column_name"])):(0,a.Q3)("",!0)],46,v)))),128)),(0,a.Lk)("th",b,(0,i.v_)(e.$t("actions")),1)])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tasks,((s,o)=>((0,a.uX)(),(0,a.CE)("tr",{key:s["id"],class:(0,i.C4)(e.setRowStyle(s)),"data-index":o},[(0,a.Lk)("td",y,[(0,a.Lk)("div",C,[(0,a.bF)(O,{dense:"",modelValue:s["rowSelection"],"onUpdate:modelValue":[e=>s["rowSelection"]=e,t[9]||(t[9]=e=>this.checkRowExistance())]},null,8,["modelValue","onUpdate:modelValue"])])]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns,((t,n)=>((0,a.uX)(),(0,a.CE)("td",{key:n,onClick:a=>e.rowClick(t.name,s),class:(0,i.C4)([e.getClassesForColumn(t.name),"text-weight-regular TaskCol table-body"])},["status"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("span",null,[(0,a.bF)(z,{align:"middle",class:(0,i.C4)(e.getStatusClass(s["status"]))},{default:(0,a.k6)((()=>[(0,a.Lk)("span",F,(0,i.v_)(e.getLabelTranslation(s["status"])),1)])),_:2},1032,["class"])]),(0,a.bF)(H,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.getLabelTranslation(s["status"])),1)])),_:2},1024)],64)):"deadline"===t.name||"created_on"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,i.v_)(s[t.name]?e.formateDate(s[t.name])+" "+e.formateDate(s[t.name],"HH:mm:ss"):"-"),1)],64)):"assigned_to_user"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[null!=s.assigned_to_group?((0,a.uX)(),(0,a.Wv)(J,{key:0,name:"img:settings/gruppen.svg"})):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,i.v_)(s[t.name]?s[t.name]:s["assigned_to_group"]?s["assigned_to_group"]:"-"),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[(0,a.eW)((0,i.v_)(s[t.name]?e.$t(s[t.name]):"-")+" ",1),s[t.name]?((0,a.uX)(),(0,a.Wv)(H,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t(s[t.name])),1)])),_:2},1024)):(0,a.Q3)("",!0)],64))],10,w)))),128)),(0,a.Lk)("td",E,[(0,a.bF)(B,{flat:"",dense:"",round:"",onClick:t[10]||(t[10]=(0,n.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,a.k6)((()=>[(0,a.bF)(U,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[(0,a.bF)(W,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{onClick:t=>e.bulkUpdateStatusTasks([s.id],"done"==s.status?"open":"done")},{default:(0,a.k6)((()=>[(0,a.Lk)("span",null,["done"==s.status?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,i.v_)(e.$t("mark_as_open")),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,i.v_)(e.$t("mark_as_done")),1)],64))])])),_:2},1032,["onClick"])])),_:2},1024),(0,a.bF)(X,{inset:""}),(0,a.bF)(W,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{onClick:t=>e.deleteRecord(s.id)},{default:(0,a.k6)((()=>[(0,a.Lk)("span",S,(0,i.v_)(e.$t("delete")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])],10,f)))),128)),!0===e.show_table_loader?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:0},(0,a.pI)(e.page_size,(t=>((0,a.uX)(),(0,a.CE)("tr",{key:t},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns.length+2,(e=>((0,a.uX)(),(0,a.CE)("td",{key:e},A)))),128))])))),128)):0===e.tasks.length&&!1===e.processing?((0,a.uX)(),(0,a.CE)("tr",D,[(0,a.Lk)("td",I,(0,i.v_)(e.$t("no_document_found")),1)])):(0,a.Q3)("",!0)])])),_:1},8,["class"])):(0,a.Q3)("",!0),e.total_pages>0?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.Lk)("div",M,[(0,a.bF)(K,{modelValue:e.current_page,"onUpdate:modelValue":[t[11]||(t[11]=t=>e.current_page=t),t[12]||(t[12]=t=>e.nexPageClicked())],color:"primary",max:e.total_pages,class:"q-py-xs q-mx-md","max-pages":6,input:"","boundary-links":""},null,8,["modelValue","max"])])])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),e.list_mode?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(G,{key:1}))])),(0,a.bF)(N)],64)}var R=s(46162),q=s(1659),P=s(24622);const K={class:"row q-mb-md"},$={style:{"margin-top":"40px"},class:"dashboard-title dark-readable"},X={class:"col"},O={class:"row justify-start"},Q={class:"dashboard-search-box q-ml-md mt-20"},W={class:"dashboard-search-box q-ml-md mt-20"},U={class:"q-mt-sm"};function V(e,t,s,n,o,r){const l=(0,a.g2)("quickSearch"),d=(0,a.g2)("UserFilter"),c=(0,a.g2)("q-space"),u=(0,a.g2)("q-tooltip"),h=(0,a.g2)("f-btn"),p=(0,a.g2)("filterBadges");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",K,[(0,a.Lk)("div",$,(0,i.v_)(e.$t("all_tasks"))+" ("+(0,i.v_)(e.total_records)+")",1),(0,a.Lk)("div",X,[(0,a.Lk)("div",O,[(0,a.Lk)("div",Q,[(0,a.bF)(l)]),(0,a.Lk)("div",W,[(0,a.bF)(d)]),(0,a.bF)(c),(0,a.bF)(h,{square:"",class:"q-mr-sm mt-20",icon:"img:images/refresh.svg",onClick:e.refreshFilters},{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("refresh_list")),1)])),_:1})])),_:1},8,["onClick"]),(0,a.bF)(h,{square:"",class:"q-mr-sm mt-20",icon:"dashboard",onClick:t[0]||(t[0]=t=>e.list_mode=!e.list_mode)},{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("change_view")),1)])),_:1})])),_:1})])])]),(0,a.Lk)("div",U,[(0,a.bF)(p)])],64)}var B=s(94124);const j={class:"q-pa-md"},z={class:"row q-my-sm"},H={style:{"margin-top":"10px"}},J={class:"row q-my-sm"},G={style:{"margin-top":"10px"}},N={class:"row q-my-sm"},Y={style:{"margin-top":"10px"}},Z={class:"row q-my-sm"},ee={style:{"margin-top":"10px"}},te={class:"float-right q-ml-auto"};function se(e,t,s,o,r,l){const d=(0,a.g2)("q-space"),c=(0,a.g2)("StatusFilter"),u=(0,a.g2)("PriorityFilter"),h=(0,a.g2)("UserFilter"),p=(0,a.g2)("PaginationSettings"),m=(0,a.g2)("f-btn"),k=(0,a.g2)("q-menu"),_=(0,a.g2)("q-input");return(0,a.uX)(),(0,a.Wv)(_,{dense:"",modelValue:e.searchInput,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.searchInput=t),t[2]||(t[2]=t=>e.inputValueChanges())],class:(0,i.C4)(["search-invoices",0===e.searchInput.length?"search-in-active":"search-active"]),autofocus:"",placeholder:e.$t("task_quick_search_placeholder"),outlined:"",onKeyup:(0,n.jR)(e.triggerSearchOnEnter,["enter"])},{append:(0,a.k6)((()=>[(0,a.bF)(m,{icon:"tune",appearance:"flat"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{style:{width:"500px","min-height":"250px"},anchor:"bottom start",self:"top left",offset:[453,10]},{default:(0,a.k6)((()=>[(0,a.Lk)("div",j,[(0,a.Lk)("div",z,[(0,a.Lk)("span",H,(0,i.v_)(e.$t("status")),1),(0,a.bF)(d),(0,a.bF)(c)]),(0,a.Lk)("div",J,[(0,a.Lk)("span",G,(0,i.v_)(e.$t("priority")),1),(0,a.bF)(d),(0,a.bF)(u)]),(0,a.Lk)("div",N,[(0,a.Lk)("span",Y,(0,i.v_)(e.$t("assigned_to")),1),(0,a.bF)(d),(0,a.bF)(h)]),(0,a.Lk)("div",Z,[(0,a.Lk)("span",ee,(0,i.v_)(e.$t("pagination_size")),1),(0,a.bF)(d),(0,a.bF)(p)]),(0,a.Lk)("div",te,[(0,a.bF)(m,{appearance:"secondary",class:"q-mr-sm mt-20 q-mb-md",label:e.$t("clear_filters"),onClick:t[0]||(t[0]=t=>e.resetFilters())},null,8,["label"])])])])),_:1})])),_:1})])),_:1},8,["modelValue","class","placeholder","onKeyup"])}var ae=s(38734),ie=s(53500);function ne(e,t,s,i,n,o){const r=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(r,{outlined:"",dense:"",class:"q-mr-sm user-select",modelValue:e.page_size,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.page_size=t),t[1]||(t[1]=t=>{e.update(t)})],options:e.pagination_options,label:e.$t("pagination_size")},null,8,["modelValue","options","label"])}const oe=(0,a.pM)({mixins:[],props:{},watch:{},mounted(){},methods:{update(e){this.setPaginationSize(e),this.triggerApplyFilters()},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{});document.dispatchEvent(e)}},setup(){const e=(0,B.OP)(),{page_size:t}=(0,q.bP)(e),{setPaginationSize:s}=e;return{setPaginationSize:s,page_size:t,pagination_options:(0,ae.KR)(["10","25","50","100"])}}});var re=s(12807),le=s(94940),de=s(98582),ce=s.n(de);const ue=(0,re.A)(oe,[["render",ne]]),he=ue;function pe(e,t,s,n,o,r){const l=(0,a.g2)("q-checkbox"),d=(0,a.g2)("q-item-section"),c=(0,a.g2)("q-item"),u=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(u,{class:"q-mr-sm",dense:"",style:{width:"227px"},outlined:"",multiple:"",options:e.statusOptions,modelValue:e.selected_value,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selected_value=t),t[1]||(t[1]=t=>{e.valueUpdated(t)})],label:e.$t("status")},{option:(0,a.k6)((({itemProps:t,selected:s,opt:n,toggleOption:o})=>[(0,a.bF)(c,(0,i._B)((0,a.Ng)(t)),{default:(0,a.k6)((()=>[(0,a.bF)(d,{side:""},{default:(0,a.k6)((()=>[(0,a.bF)(l,{"model-value":s,"onUpdate:modelValue":e=>o(n)},null,8,["model-value","onUpdate:modelValue"])])),_:2},1024),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,i.v_)(e.$t(n.label)),1)])),_:2},1024)])),_:2},1040)])),_:1},8,["options","modelValue","label"])}ce()(oe,"components",{QSelect:le.A});var me=s(68450),ke=s(91486);const _e=(0,a.pM)({mixins:[],props:{},watch:{taskfiltersMap:{deep:!0,handler:function(e,t){this.loadSavedFiler()}}},data(){return{}},mounted(){this.statusOptions=ke.E.map((e=>({label:this.$t(e),value:e}))),this.loadSavedFiler()},unmounted:function(){},methods:{loadSavedFiler(){const e=this.taskfiltersMap.get("status");(0,me.z)(e)||""==e?this.selected_value=[]:this.selected_value=e},valueUpdated(e){this.selected_value=e,this.handleEmptyValue()||(this.setItemInFiltersMap("status",this.selected_value),this.triggerApplyFilters())},handleEmptyValue(){return!(!(0,me.z)(this.selected_value)&&0!=this.selected_value.length)&&(this.deleteItemInFiltersMap("status"),this.triggerApplyFilters(),!0)},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}},setup(){const e=(0,B.OP)(),{taskfiltersMap:t}=(0,q.bP)(e),{setItemInFiltersMap:s,deleteItemInFiltersMap:a}=e;return{selected_value:(0,ae.KR)([]),statusOptions:(0,ae.KR)([]),taskfiltersMap:t,setItemInFiltersMap:s,deleteItemInFiltersMap:a}}});var ge=s(90124),ve=s(25173),be=s(80460);const fe=(0,re.A)(_e,[["render",pe]]),ye=fe;function Ce(e,t,s,i,n,o){const r=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(r,{class:"q-mr-sm",dense:"",style:{width:"227px"},outlined:"",options:e.priorityOptions,modelValue:e.selected_value,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selected_value=t),t[1]||(t[1]=t=>{e.valueUpdated(t)})],label:e.$t("priority")},null,8,["options","modelValue","label"])}ce()(_e,"components",{QSelect:le.A,QItem:ge.A,QItemSection:ve.A,QCheckbox:be.A});const we=(0,a.pM)({mixins:[],props:{},watch:{taskfiltersMap:{deep:!0,handler:function(e,t){this.loadSavedFiler()}}},data(){return{}},mounted(){this.priorityOptions=ke.G.map((e=>({label:this.$t(e),value:e}))),this.loadSavedFiler()},unmounted:function(){},methods:{loadSavedFiler(){const e=this.taskfiltersMap.get("priority");this.selected_value=e||""},valueUpdated(e){this.selected_value=e,this.handleEmptyValue()||(this.setItemInFiltersMap("priority",this.selected_value),this.triggerApplyFilters())},handleEmptyValue(){return!(""!==this.selected_value&&!(0,me.z)(this.selected_value))&&(this.deleteItemInFiltersMap("priority"),this.triggerApplyFilters(),!0)},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}},setup(){const e=(0,B.OP)(),{taskfiltersMap:t}=(0,q.bP)(e),{setItemInFiltersMap:s,deleteItemInFiltersMap:a}=e;return{selected_value:(0,ae.KR)(""),priorityOptions:(0,ae.KR)([]),taskfiltersMap:t,setItemInFiltersMap:s,deleteItemInFiltersMap:a}}}),Fe=(0,re.A)(we,[["render",Ce]]),Ee=Fe;ce()(we,"components",{QSelect:le.A});const Se={class:"ellipsis"};function Le(e,t,s,n,o,r){const l=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(l,{ref:"q-select",class:"q-mr-sm user-filter-select",dense:"",outlined:"",modelValue:e.selected_value,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selected_value=t),t[1]||(t[1]=t=>{e.valueUpdated(t)})],options:e.user_options,label:e.$t("assigned_to")},{"selected-item":(0,a.k6)((e=>[(0,a.Lk)("div",Se,(0,i.v_)(e.opt.label),1)])),_:1},8,["modelValue","options","label"])}const Ae=(0,a.pM)({mixins:[],props:{},watch:{taskfiltersMap:{deep:!0,handler:function(e,t){this.loadFilters()}}},mounted(){this.setUserOptions(),this.loadFilters()},methods:{loadFilters(){const e=this.taskfiltersMap.get(this.filter_name);this.selected_value=e||""},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},valueUpdated(e){this.selected_value=e,this.handleEmptyValue()||(this.setItemInFiltersMap(this.filter_name,this.selected_value),this.triggerApplyFilters())},handleEmptyValue(){return!(""!==this.selected_value&&!(0,me.z)(this.selected_value))&&(this.deleteItemInFiltersMap(this.filter_name),this.triggerApplyFilters(),!0)},setUserOptions(){this.user_options=[{label:this.$t("all"),value:!1},{label:this.$t("assigned_to_me"),value:!0}]}},setup(){const e=(0,B.OP)(),{taskfiltersMap:t}=(0,q.bP)(e),{setItemInFiltersMap:s,deleteItemInFiltersMap:a}=e;return{setItemInFiltersMap:s,deleteItemInFiltersMap:a,taskfiltersMap:t,selected_value:(0,ae.KR)(""),user_options:(0,ae.KR)([]),filter_name:"only_for_current_user"}}}),De=(0,re.A)(Ae,[["render",Le]]),Ie=De;ce()(Ae,"components",{QSelect:le.A});const xe=(0,a.pM)({mixins:[],props:{},components:{StatusFilter:ye,PaginationSettings:he,PriorityFilter:Ee,UserFilter:Ie},watch:{taskfiltersMap:{deep:!0,handler:function(e,t){this.loadSavedFiler()}}},mounted(){this.debounceSearchInputFunc=(0,ie.A)((()=>{this.triggerApplyFilters()}),1e3),document.addEventListener("delete_input_text",this.clearSearchInput)},methods:{clearSearchInput(){this.searchInput=""},resetFilters(){const e=new CustomEvent("reset_filters",{});document.dispatchEvent(e)},loadSavedFiler(){let e=this.taskfiltersMap.get("keyword");e||(e=""),this.searchInput=e},triggerSearchOnEnter(e){13===e.keyCode&&this.inputValueChanges()},inputValueChanges(){if(this.searchInput&&(this.searchInput=this.searchInput.trim()),0==this.searchInput.length)return this.deleteItemInFiltersMap("keyword"),void this.debounceSearchInputFunc();this.oldSearchInput=this.searchInput,this.setItemInFiltersMap("keyword",this.searchInput),this.debounceSearchInputFunc()},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{reset_pagination:this.reset_pagination}});document.dispatchEvent(e)}},setup(){const e=(0,B.OP)(),{taskfiltersMap:t}=(0,q.bP)(e),{setItemInFiltersMap:s,deleteItemInFiltersMap:a}=e;return{deleteItemInFiltersMap:a,setItemInFiltersMap:s,searchInput:(0,ae.KR)(""),oldSearchInput:(0,ae.KR)(""),taskfiltersMap:t,debounceSearchInputFunc:{},reset_pagination:(0,ae.KR)(!0)}}});var Me=s(67837),Te=s(84436),Re=s(93676),qe=s(67156);const Pe=(0,re.A)(xe,[["render",se]]),Ke=Pe;ce()(xe,"components",{QInput:Me.A,QMenu:Te.A,QSpace:Re.A,QField:qe.A});var $e=s(16588);const Xe={class:"filter-badges row q-ml-md q-mb-sm"},Oe={key:0,class:"row"},Qe={key:1},We={class:"row"},Ue={key:2},Ve={class:"row"};function Be(e,t,s,n,o,r){const l=(0,a.g2)("q-icon"),d=(0,a.g2)("q-badge");return(0,a.uX)(),(0,a.CE)("div",Xe,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.taskfiltersMap,(t=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t},["status"==t[0]?((0,a.uX)(),(0,a.CE)("div",Oe,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t[1],((s,n)=>((0,a.uX)(),(0,a.CE)("div",{key:s},[(0,a.bF)(d,{rounded:"",color:"primary",class:"q-mr-sm capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t(s.label))+" ",1),(0,a.bF)(l,{name:"close",color:"white",class:"q-ml-xs cursor-pointer",onClick:a=>e.removeFilterForArray(s,t[0],n)},null,8,["onClick"])])),_:2},1024)])))),128))])):"keyword"==t[0]?((0,a.uX)(),(0,a.CE)("div",Qe,[(0,a.Lk)("div",We,[(0,a.bF)(d,{rounded:"",color:"primary",class:"q-mr-sm capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(t[1])+" ",1),(0,a.bF)(l,{name:"close",color:"white",class:"q-ml-xs cursor-pointer",onClick:s=>e.removeFilter(t[0])},null,8,["onClick"])])),_:2},1024)])])):"priority"==t[0]?((0,a.uX)(),(0,a.CE)("div",Ue,[(0,a.Lk)("div",Ve,[(0,a.bF)(d,{rounded:"",color:"primary",class:"q-mr-sm capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(t[1]["value"])+" ",1),(0,a.bF)(l,{name:"close",color:"white",class:"q-ml-xs cursor-pointer",onClick:s=>e.removeFilter(t[0])},null,8,["onClick"])])),_:2},1024)])])):(0,a.Q3)("",!0)],64)))),128))])}const je=(0,a.pM)({props:{},mounted(){this.init()},unmounted:function(){},methods:{init(){},removeFilterForArray(e,t,s){const a=this.taskfiltersMap.get(t);Array.isArray(a)&&(a.splice(s,1),0==a.length&&this.removeFilter(t)),this.setItemInFiltersMap(t,a),this.triggerApplyFilters()},removeFilter(e,t){if(this.deleteItemInFiltersMap(e),"keyword"==e){const e=new CustomEvent("delete_input_text",{detail:{}});document.dispatchEvent(e)}this.triggerApplyFilters()},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}},setup(){const e=(0,B.OP)(),{taskfiltersMap:t,taskListSettingsMap:s}=(0,q.bP)(e),{deleteItemInFiltersMap:a,setItemInFiltersMap:i}=e;return{deleteItemInFiltersMap:a,setItemInFiltersMap:i,taskfiltersMap:t,taskListSettingsMap:s}}});var ze=s(23954),He=s(50492);const Je=(0,re.A)(je,[["render",Be]]),Ge=Je;ce()(je,"components",{QBadge:ze.A,QIcon:He.A});const Ne=(0,a.pM)({mixins:[$e.A],props:{},watch:{},components:{quickSearch:Ke,filterBadges:Ge,UserFilter:Ie},mounted:function(){},unmounted:function(){},methods:{refreshFilters(){const e=new CustomEvent("refresh_view",{detail:{show_shimmer_loader:!0}});document.dispatchEvent(e)}},setup(){const e=(0,B.OP)(),{total_records:t,list_mode:s}=(0,q.bP)(e);return{total_records:t,list_mode:s}}});var Ye=s(97410);const Ze=(0,re.A)(Ne,[["render",V]]),et=Ze;ce()(Ne,"components",{QSpace:Re.A,QTooltip:Ye.A});var tt=s(96056),st=s(8420);const at={class:"full-width q-pa-md text-grey-8"},it={key:0,class:"row"},nt={class:"col-11"},ot=["onClick"],rt={class:"col-1"},lt={class:"col-4"},dt={key:0,class:"q-pr-md"},ct={class:"col-8"},ut=(0,a.Lk)("div",{class:"full-width border-bottom q-mt-sm q-mb-sm"},null,-1);function ht(e,t,s,n,o,r){const l=(0,a.g2)("q-icon");return(0,a.uX)(),(0,a.CE)("div",at,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tasks,((t,s)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:s},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns,((s,n)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:n},["title"===s.name?((0,a.uX)(),(0,a.CE)("div",it,[(0,a.Lk)("div",nt,[(0,a.Lk)("div",{class:"text-primary ellipsify",onClick:a=>{e.$emit("rowClick",s.name,t)}},(0,i.v_)(t[s.name]),9,ot)]),(0,a.Lk)("div",rt,[(0,a.bF)(l,{name:"expand_more",size:"md",id:"expand_more_"+t["id"],onClick:s=>e.expand(t["id"])},null,8,["id","onClick"]),(0,a.bF)(l,{name:"expand_less",size:"md",class:"hidden",id:"expand_less_"+t["id"],onClick:s=>e.expand(t["id"])},null,8,["id","onClick"])])])):((0,a.uX)(),(0,a.CE)("div",{key:1,class:(0,i.C4)(["row",s.hidden?" hidden mark_hidden_"+t["id"]:""])},[(0,a.Lk)("div",lt,[s.hasOwnProperty("label")?((0,a.uX)(),(0,a.CE)("span",dt,(0,i.v_)(e.$t(s.label)),1)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,i.v_)(e.getLabelTranslation(s.translation_key)),1)],64))]),(0,a.Lk)("div",ct,(0,i.v_)(t[s.name]?t[s.name]:"-"),1)],2))],64)))),128)),ut],64)))),128))])}var pt=s(64233);const mt={title:{name:"title",translation_key:"task",sortable:!0,order:0},document_name:{name:"document_name",translation_key:"document_name",order:1},supplier_name:{name:"supplier_name",translation_key:"supplier_name",order:2},supplier_id:{name:"supplier_id",translation_key:"supplier_id",order:3},priority:{name:"priority",translation_key:"priority",sortable:!0,order:4},status:{name:"status",translation_key:"status",sortable:!0,order:5},deadline:{name:"deadline",translation_key:"deadline",sortable:!0,order:6},assigned_to:{name:"assigned_to_user",translation_key:"assigned_to",sortable:!0,order:7},created_on:{name:"created_on",translation_key:"created_on",sortable:!0,order:8}},kt={title:{name:"title",translation_key:"task",hidden:!1},document_name:{name:"document_name",translation_key:"document_name",hidden:!1},priority:{name:"priority",translation_key:"priority",hidden:!1},status:{name:"status",translation_key:"status",hidden:!1},assigned_to:{name:"assigned_to_user",translation_key:"assigned_to",hidden:!0,marked_hidden:!0},created_on:{name:"created_on",translation_key:"created_on",hidden:!0,marked_hidden:!0}};var _t=s(92162);const gt=(0,a.pM)({mixins:[pt.A],props:{},data(){return{mobile_table_columns:kt}},emits:["rowClick"],mounted:function(){this.handleTableColumns()},methods:{expand(e){const t=(0,_t.$)("#expand_more_"+e),s=(0,_t.$)("#expand_less_"+e);t&&t.classList.toggle("hidden"),s&&s.classList.toggle("hidden"),this.displayHiddenColumns(e)},displayHiddenColumns(e){const t=document.querySelectorAll(".mark_hidden_"+e);t&&t.forEach((e=>{e.classList.toggle("hidden")}))},handleTableColumns(e=!0){try{this.table_columns=[];for(const[e,t]of Object.entries(kt))this.table_columns.push(t);this.table_columns.sort(((e,t)=>e.order-t.order))}catch(t){}}},setup(){const e=(0,B.OP)(),{tasks:t}=(0,q.bP)(e);return{tasks:t,table_columns:(0,ae.KR)([])}}}),vt=(0,re.A)(gt,[["render",ht]]),bt=vt;ce()(gt,"components",{QIcon:He.A});var ft=s(18505),yt=s(64775);const Ct={class:"orderByParentSpan arrow-color"},wt=["data-name"],Ft=["data-name"];function Et(e,t,s,n,o,r){return(0,a.uX)(),(0,a.CE)("span",Ct,[(0,a.Lk)("span",{class:(0,i.C4)(["up-arrow orderBy absolute",e.sort_by==e.column_name&&"asc"==e.sort_order?"selected":""]),"data-name":e.column_name,"data-direction":"asc",onClick:t[0]||(t[0]=t=>e.OrderBy(e.column_name,"asc"))},null,10,wt),(0,a.Lk)("span",{class:(0,i.C4)(["down-arrow orderBy absolute",e.sort_by==e.column_name&&"desc"==e.sort_order?"selected":""]),"data-name":e.column_name,"data-direction":"desc",onClick:t[1]||(t[1]=t=>e.OrderBy(e.column_name,"desc"))},null,10,Ft)])}const St=(0,a.pM)({mixins:[],props:{column_name:{type:String,required:!0}},components:{},watch:{},mounted:function(){},unmounted:function(){},methods:{is_order_by_selected(e){return this.sort_by==this.column_name&&this.sort_order==e},resetFilters(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},OrderBy(e,t){this.setOrderBy(e,t),this.triggerApplyFilters()},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}},setup(){const e=(0,B.OP)(),{sort_by:t,sort_order:s}=(0,q.bP)(e),{setOrderBy:a}=e;return{sort_by:t,sort_order:s,setOrderBy:a,order_by_field:(0,ae.KR)(""),order_by_direction:(0,ae.KR)("")}}}),Lt=(0,re.A)(St,[["render",Et],["__scopeId","data-v-1ef6db80"]]),At=Lt;var Dt=s(10739),It=s(76956),xt=s(11470),Mt=s(95488),Tt=s(36246),Rt=s(45022);const qt={class:"full-width dashboard-list-area"},Pt={class:""},Kt={class:"row q-gutter-md"},$t={class:"text-weight-bold text-lg q-mt-sm q-pb-md"};function Xt(e,t,s,n,o,r){const l=(0,a.g2)("task-card"),d=(0,a.g2)("draggable");return(0,a.uX)(),(0,a.CE)("div",qt,[(0,a.Lk)("div",Pt,[(0,a.Lk)("div",Kt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.columns,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.title,class:"highlighted-back rounded-lg px-3 py-3 column-width rounded"},[(0,a.Lk)("p",$t,(0,i.v_)(e.$t(t.title)),1),(0,a.bF)(d,{onChange:e.dragEnd,list:t.tasks,animation:200,"ghost-class":"ghost-card",group:"tasks",class:"task-board-height"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.tasks,(t=>((0,a.uX)(),(0,a.Wv)(l,{onDeleteRecord:e.deleteRecord,onDocumentClick:e.documentClick,onCardClick:e.rowClick,onUpdateStatusTaskClick:e.updateStatusTaskClick,key:t.id,task:t,class:"q-mt-sm cursor-move"},null,8,["onDeleteRecord","onDocumentClick","onCardClick","onUpdateStatusTaskClick","task"])))),128))])),_:2},1032,["onChange","list"])])))),128))])])])}var Ot=s(39231);const Qt={class:"row justify-between"},Wt={class:"task-description text-weight-medium"},Ut={class:"user-item-initials initials-text-color"},Vt={class:"q-mt-sm full-width"},Bt={key:0,class:"text-sm task-description"},jt={class:"row mt-4 justify-between items-center"},zt={class:"text-sm"},Ht={class:"hidden-child no-padding"},Jt={class:"text-red"};function Gt(e,t,s,o,r,l){const d=(0,a.g2)("q-tooltip"),c=(0,a.g2)("q-icon"),u=(0,a.g2)("q-avatar"),h=(0,a.g2)("q-item-section"),p=(0,a.g2)("q-item"),m=(0,a.g2)("q-separator"),k=(0,a.g2)("q-list"),_=(0,a.g2)("q-menu"),g=(0,a.g2)("q-btn");return(0,a.uX)(),(0,a.CE)("div",{class:"task-card back-white shadow-1 rounded px-3 pt-3 pb-3 gray-border border-white",onClick:t[4]||(t[4]=(...e)=>l.clickCard&&l.clickCard(...e))},[(0,a.Lk)("div",Qt,[(0,a.Lk)("span",Wt,(0,i.v_)(s.task.title),1),(0,a.Lk)("div",null,[s.task.status?((0,a.uX)(),(0,a.Wv)(c,{key:0,class:"on-left",name:"img:images/"+l.priorityIcon,size:"sm"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{anchor:"top middle",self:"bottom middle"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t(s.task.priority)),1)])),_:1})])),_:1},8,["name"])):(0,a.Q3)("",!0),s.task.assigned_to_user?((0,a.uX)(),(0,a.Wv)(u,{key:1,size:"24px",class:"user-avatar-background"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",Ut,(0,i.v_)(l.getInitials(s.task.assigned_to_user)),1),(0,a.bF)(d,{anchor:"top middle",self:"bottom middle"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(s.task.assigned_to_user),1)])),_:1})])),_:1})):s.task.assigned_to_group?((0,a.uX)(),(0,a.Wv)(u,{key:2,size:"24px",class:"user-avatar-background"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{name:"group",class:"initials-text-color"}),(0,a.bF)(d,{anchor:"top middle",self:"bottom middle"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(s.task.assigned_to_group),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",Vt,[(0,a.Lk)("p",{class:"text-sm link task-document-link",onClick:[t[0]||(t[0]=(...e)=>l.clickDocument&&l.clickDocument(...e)),t[1]||(t[1]=(0,n.D$)((()=>{}),["stop","prevent"]))]},(0,i.v_)(s.task.document_name),1),s.task.description?((0,a.uX)(),(0,a.CE)("span",Bt,(0,i.v_)(s.task.description),1)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",jt,[(0,a.Lk)("span",zt,(0,i.v_)(e.formatDateAccordingToPreference(s.task.created_on)),1),(0,a.Lk)("div",Ht,[(0,a.bF)(g,{flat:"",dense:"",round:"",onClick:t[3]||(t[3]=(0,n.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz",size:"12px"},{default:(0,a.k6)((()=>[(0,a.bF)(_,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[(0,a.bF)(p,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{onClick:l.clickUpdateStatus},{default:(0,a.k6)((()=>[(0,a.Lk)("span",null,["done"==s.task.status?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,i.v_)(e.$t("mark_as_open")),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,i.v_)(e.$t("mark_as_done")),1)],64))])])),_:1},8,["onClick"])])),_:1}),(0,a.bF)(m,{inset:""}),(0,a.bF)(p,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{onClick:t[2]||(t[2]=e=>l.clickRemove(s.task.id))},{default:(0,a.k6)((()=>[(0,a.Lk)("span",Jt,(0,i.v_)(e.$t("delete")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])])}var Nt=s(46736);const Yt={mixins:[Nt.A],components:{},props:{task:{type:Object,default:()=>({})}},emits:["cardClick","documentClick","deleteRecord","updateStatusTaskClick"],methods:{getInitials(e){var t=e.split(" "),s=t[0].substring(0,1).toUpperCase();return t.length>1&&(s+=t[t.length-1].substring(0,1).toUpperCase()),s},clickCard(){this.$emit("cardClick",this.task)},clickDocument(){this.$emit("documentClick",this.task)},clickRemove(){this.$emit("deleteRecord",this.task.id)},clickUpdateStatus(){let e;e="done"==this.task.status?"open":"done",this.$emit("updateStatusTaskClick",[this.task.id],e)}},computed:{priorityIcon(){const e={medium:"priority_medium.svg",high:"priority_high.svg",low:"priority_low.svg"};return e[this.task.priority]||e.default}}};var Zt=s(3952),es=s(56384),ts=s(53999),ss=s(10386);const as=(0,re.A)(Yt,[["render",Gt]]),is=as;ce()(Yt,"components",{QIcon:He.A,QTooltip:Ye.A,QAvatar:Zt.A,QBtn:es.A,QMenu:Te.A,QList:ts.A,QItem:ge.A,QItemSection:ve.A,QSeparator:ss.A});var ns=s(21279),os=function(e,t,s,a){function i(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,n){function o(e){try{l(a.next(e))}catch(t){n(t)}}function r(e){try{l(a["throw"](e))}catch(t){n(t)}}function l(e){e.done?s(e.value):i(e.value).then(o,r)}l((a=a.apply(e,t||[])).next())}))};const rs=(0,a.pM)({el:"#app",mixins:[ft.A,P.A,tt.A,pt.A,Dt.A],components:{draggable:Ot.H,TaskCard:is},data(){return{InvoicesClearInterval:0,debounceSearchInputFunc:{},columns:(0,ae.KR)([{title:"open",tasks:[]},{title:"in_progress",tasks:[]},{title:"done",tasks:[]},{title:"rejected",tasks:[]}])}},beforeRouteLeave:function(e,t,s){this.intervalManager(!1),this.unsubscribeToChannel("dashboard"),s()},mounted(){try{window.dash=this,this.showLoading(),this.headerCheckbox=!1,this.getSavedListSettings(),this.loadData(),this.intervalManager(!0),this.getDocTypeSettings(),this.initDragDropColumns("tasks-table","translation_key"),document.addEventListener("apply_filters",this.applyFilterEvent),document.addEventListener("reset_filters",this.resetFilters),document.addEventListener("refresh_view",this.refreshFilters),this.debounceSearchInputFunc=(0,ie.A)((()=>{this.applyFilter()}),1e3),document.addEventListener("tasks-table-column-drop",this.saveSortedColumns),this.prepareStatusList()}catch(e){}finally{this.hideLoading()}},unmounted:function(){document.removeEventListener("apply_filters",this.applyFilterEvent),document.removeEventListener("reset_filters",this.resetFilters),document.removeEventListener("refresh_view",this.refreshFilters),document.removeEventListener("tasks-table-column-drop",this.saveSortedColumns)},computed:{},watch:{headerCheckbox(){!1===this.headerCheckbox&&(this.headerFabIcon=!1)},tasks:{handler:function(e,t){this.selectionList.forEach((e=>{const t=this.tasks.find((t=>t.id===e));t&&(t.rowSelection=!0)}))}},processing:{handler:function(e,t){1==e?this.showLoading():this.hideLoading()}},websocketHasError:{handler:function(e,t){1==e&&(this.use_websocket=!1)}}},methods:{dragEnd(e,t){if(!e.added)return;const s=e.added.element.id,a=e.added.element;let i="";this.columns.forEach((e=>{e.tasks.forEach((t=>{t.id===s&&(i=e.title)}))})),this.updateTaskStatus(a,i)},updateTaskStatus(e,t){return os(this,void 0,void 0,(function*(){try{if(e.status=t,!e)return;e.status=t;const s=yield xt.Hg.editTask(e.id,e);if(!1===s.success)throw s;this.showSuccessToast(this.$t("status_updated_successfully"))}catch(s){const e=yt.t.getErrorMessage(s);this.showErrorToast(e)}}))},getStatusClass(e){let t="bg-grey";const s=this.statusList.hasOwnProperty(e);return s&&(t=this.statusList[e]["class"]),t+=" dashboard-status-badge",t},prepareStatusList(){this.statusList["open"]=[],this.statusList["open"]["value"]="open",this.statusList["open"]["class"]="bg-blue-14",this.statusList["in_progress"]=[],this.statusList["in_progress"]["value"]="in_progress",this.statusList["in_progress"]["class"]="bg-amber-7",this.statusList["done"]=[],this.statusList["done"]["value"]="done",this.statusList["done"]["class"]="bg-light-green-6",this.statusList["rejected"]=[],this.statusList["rejected"]["value"]="rejected",this.statusList["rejected"]["class"]="bg-red-13"},saveSortedColumns(e){const t={};this.table_columns.forEach(((e,s)=>{t[e.name]={name:e.name,order:s,sortable:!!e.sortable,translation_key:e.translation_key}})),this.saveTaskColumns(t)},deleteSelection(){this.bulkDeleteRecords(this.selectionList);const e=new CustomEvent("refresh_view",{});document.dispatchEvent(e)},bulkUpdateStatusTasks(e,t){return os(this,void 0,void 0,(function*(){try{this.processing=!0;const s=yield xt.Hg.bulkUpdateStatusTasks(e,t);if(!1===s.success)throw s;const a=new CustomEvent("refreshTasks",{});document.dispatchEvent(a),e.forEach((e=>{const s=this.tasks.find((t=>t.id===e));s&&(s.status=t,s.rowSelection=!1)})),this.selectionList=[],this.showSuccessToast(this.$t("status_updated_successfully"))}catch(s){const e=yt.t.getErrorMessage(s);this.showErrorToast(e)}finally{this.processing=!1;const e=new CustomEvent("refresh_view",{});document.dispatchEvent(e)}}))},formatTaskDate(e,t){const s=Tt.Ay.formatDate(e,t);return s},formateDate(e,t=""){return this.isDate(e)?(t||(t=ns.v.getFormat(this.getDocDateFormat())),Tt.Ay.formatDate(e,t)):e},applyFilterEvent(e){this.resetPagination(),this.applyFilter()},intervalManager(e){clearInterval(this.InvoicesClearInterval),!0===e&&(this.InvoicesClearInterval=setInterval((()=>{this.is_any_checked||this.fetchData(!1)}),6e4))},handleActions(e){return this.tasks.forEach(((t,s)=>{s!==e&&(t["fabAction"]=!1)})),!0},resetPages(){this.resetPagination(),this.fetchData()},applyFilter(){this.processing=!0,this.resetAllSelectedRows(),this.fetchData()},refreshFilters(e){this.tasks=[],this.selectionList=[],this.headerCheckbox=!1,this.fetchData()},fetchData(e=!0){return os(this,void 0,void 0,(function*(){try{e&&(this.processing=!0,this.show_table_loader=!0),this.selectionList=[],this.headerCheckbox=!1;const t=this.getSavedFiltersAsJson();if(this.list_mode||(t["limit"]=100),t["document_fields"]="supplier_name,supplier_id",this.use_websocket){let e=yield this.getWebSocketDashboard();return void(1!=e&&setTimeout((()=>{this.handleWebsocketDelay}),5e3))}yield this.getTasks(t),this.formatTaskList(),setTimeout((()=>{this.turnOnWebSocket}),5e3)}catch(t){const e=yt.t.getErrorMessage(t);this.showErrorToast(e)}finally{this.processing=!1}}))},handleWebsocketDelay(){"received"!==this.data_status&&(this.use_websocket=!1,this.fetchData(),setTimeout((()=>{this.turnOnWebSocket}),5e3))},turnOnWebSocket(){this.websocketHasError||(this.use_websocket=!1)},resetColumns(){this.columns.forEach((e=>{e.tasks=[]}))},formatTaskList(){this.resetColumns(),this.tasks.forEach((e=>{const t=e.status;this.columns.find((s=>{s.title===t&&s.tasks.push(e)}))}))},updateTableData(){this.setPagination(),this.applyCustomFormatOnRows(),this.show_table_loader=!1,this.processing=!1},setPagination(){this.total_records>0&&this.setTotalPages()},resetPagination(){this.total_pages=0,this.current_page=1,this.total_records=0,this.offset=0},setTotalPages(){this.total_pages=Math.ceil(this.total_records/this.page_size)},calculateOffset(){this.offset=this.page_size*(this.current_page-1)},nexPageClicked(){this.calculateOffset(),this.fetchData()},applyCustomFormatOnRows(){this.tasks.forEach((e=>{e["fabAction"]=!1,e["rowSelection"]=!1;const{formatted_deadline:t}=this.getDisplayDeadline(e["deadline"]);e["deadline"]=t}))},loadData(){this.resetPagination(),this.applyFilter()},bulkDeleteRecords(e){return os(this,void 0,void 0,(function*(){try{this.processing=!0;const t=yield xt.Hg.bulkDeleteTasks(e);if(!1===t.success)throw t;yield this.fetchData()}catch(t){const e=yt.t.getErrorMessage(t);this.showErrorToast(e)}finally{this.processing=!1;const e=new CustomEvent("refresh_view",{});document.dispatchEvent(e)}}))},deleteRecord(e){return os(this,void 0,void 0,(function*(){try{this.processing=!0;const t=yield xt.Hg.deleteTask(e);if(!1===t.success)throw t;yield this.fetchData()}catch(t){const e=yt.t.getErrorMessage(t);this.showErrorToast(e)}finally{this.processing=!1;const e=new CustomEvent("refresh_view",{});document.dispatchEvent(e)}}))},rowClick(e){this.$router.push("/task/"+e["id"])},updateStatusTaskClick(e,t){return os(this,void 0,void 0,(function*(){yield this.bulkUpdateStatusTasks(e,t)}))},documentClick(e){let t=e["document_status"];"validated_pending_approval"!==t?"approved_pending_second_approval"!==t?"rejected"!==t?"in_review"!==t?this.isStatusError(t)?this.toDocumentErrorView(e):this.$router.push("/field_validation_v1/"+e["document_id"]):this.toInReviewScreen(e["document_id"],e):this.toRejectedScreen(e["document_id"]):this.toPendingSecondApprovalScreen(e):this.toPendingApprovalScreen(e)},isStatusError(e){return"error"===e||"export_error"===e},toPendingApprovalScreen(e){return this.model[It.WE]?void this.$router.push("/ready_for_approval_v3/"+e["document_id"]):void this.$router.push("/ready-for-approval-v2/"+e["document_id"])},toPendingSecondApprovalScreen(e){this.$router.push("/ready-for-second-approval-v2/"+e["document_id"])},toRejectedScreen(e){this.$router.push("/rejected/"+e)},toInReviewScreen(e,t){this.$router.push("/in_review/"+e)},toDocumentErrorView(e){this.$router.push("/document_error/"+e["id"])},getClassesForColumn(e){let t=" cursor-pointer ";const s=["document_name","title"];return t+=s.includes(e)?" text-primary ":"",t},resetFilters(){this.resetPagination(),this.setDefaultSettings(),this.applyFilter()},changeAction(){!0===this.headerCheckbox?this.selectAllRows():this.resetAllSelectedRows(),this.checkRowExistance()},selectAllRows(){this.selectionList=[],this.tasks.forEach((e=>{e["rowSelection"]=!0,this.selectionList.push(e.id)}))},resetAllSelectedRows(){this.selectionList=[],this.headerCheckbox=!1,this.tasks.forEach((e=>{e["rowSelection"]=!1}))},checkRowExistance(){let e=0;this.selectionList=[],this.headerCheckbox=!1,this.is_any_checked=!1,this.canBulkMarkAsDone=!0,this.canBulkMarkAsUnDone=!0,this.tasks.forEach((t=>{!0===t["rowSelection"]&&(this.is_any_checked=!0,e++,this.selectionList.push(t.id),"done"===t.status&&(this.canBulkMarkAsDone=!1),"open"===t.status&&(this.canBulkMarkAsUnDone=!1))})),0===e?this.headerCheckbox=!1:this.tasks.length===e?this.headerCheckbox=!0:this.headerCheckbox=!1},setRowStyle(e){if(e.hasOwnProperty("export_data_fetched")&&!0===e["export_data_fetched"])return"exported-row"},deleteMultipalDocument(){return os(this,void 0,void 0,(function*(){if(!this.selectionList)return;let e;this.processing=!0;try{let t=new Map;if(t.set("doc_ids",this.selectionList.join(",")),e=yield xt.v1.deleteRequest(R.FH.delete_documents,t),!1===e.success)return void this.showErrorToast(e.data.message);this.headerCheckbox=!1,this.resetAllSelectedRows(),this.loadData()}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing=!1;const e=new CustomEvent("refresh_view",{});document.dispatchEvent(e)}}))},removeQuickFilter(e){this.taskListSettingsMap.delete(e),this.applyFilter()},handleWebSocketResult(e){e&&(this.use_websocket=!0,this.updateTableData())},getWebSocketDashboard(){return os(this,void 0,void 0,(function*(){try{const e={type:"dashboard",data:{}};let t=this.queryParams;t=t.replace("?","");const s=t.split("&");s.forEach((t=>{t=t.split("="),2===t.length&&(e.data[t[0]]=t[1])})),this.data_status="fetching";yield this.sendMessageToSocket(e.type,e.data);return this.updateTableData(),this.processing=!1,!0}catch(e){this.handleWebsocketDelay()}}))}},setup(){const e=(0,B.G6)(),{dashboard_data:t,isConnected:s,hasError:a}=(0,q.bP)(e),i=(0,B.Bu)(),{user_settings:n}=(0,q.bP)(i),{subscribeToChannel:o,unsubscribeToChannel:r,sendMessageByType:l}=e,d=(0,B.OP)(),{tasks:c,total_records:u,data_fetched:h,offset:p,page_size:m,taskListSettingsMap:k,processing:_,columnKey:g}=(0,q.bP)(d),{getTasks:v,getSavedListSettings:b,getSavedFiltersAsJson:f,setDefaultSettings:y,getDisplayDeadline:C,saveTaskColumns:w}=d,F=(0,B.wt)(),{getDocTypeSettings:E}=F,{model:S}=(0,q.bP)(F);return{taskListSettingsMap:k,user_settings:n,columnKey:g,getTasks:v,tasks:c,total_records:u,current_page:(0,ae.KR)(1),total_pages:(0,ae.KR)(0),offset:p,page_size:m,processing:_,getSavedListSettings:b,getSavedFiltersAsJson:f,setDefaultSettings:y,getDisplayDeadline:C,canBulkMarkAsDone:(0,ae.KR)(!1),websocketHasError:a,sendMessageToSocket:l,isConnected:s,unsubscribeToChannel:r,subscribeToChannel:o,dashboard_data:t,table_columns:(0,ae.KR)([]),queryParams:"",model:S,recordId:"",headerCheckbox:(0,ae.KR)(!1),is_any_checked:(0,ae.KR)(!1),headerFabIcon:(0,ae.KR)(!1),selectionList:(0,ae.KR)([]),canBulkMarkAsUnDone:(0,ae.KR)(!1),use_websocket:(0,ae.KR)(!1),show_table_loader:(0,ae.KR)(!1),data_status:(0,ae.KR)(""),saveTaskColumns:w,statusList:(0,ae.KR)([]),getDocTypeSettings:E}}});var ls=s(42315);const ds=(0,re.A)(rs,[["render",Xt],["__scopeId","data-v-31eaada8"]]),cs=ds;ce()(rs,"components",{QTable:ls.A});var us=function(e,t,s,a){function i(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,n){function o(e){try{l(a.next(e))}catch(t){n(t)}}function r(e){try{l(a["throw"](e))}catch(t){n(t)}}function l(e){e.done?s(e.value):i(e.value).then(o,r)}l((a=a.apply(e,t||[])).next())}))};const hs=(0,a.pM)({el:"#app",mixins:[ft.A,P.A,tt.A,pt.A,Dt.A],components:{Header:et,ColumnOrderBy:At,MobileGrid:bt,SubHeader:Mt.A,Loader:st.A,TaskBoard:cs},data(){return{InvoicesClearInterval:0,debounceSearchInputFunc:{}}},beforeRouteLeave:function(e,t,s){this.intervalManager(!1),this.unsubscribeToChannel("dashboard"),s()},mounted(){try{window.dash=this,this.showLoading(),this.headerCheckbox=!1,this.handleTableColumns(!1),this.getSavedListSettings(),this.loadData(),this.intervalManager(!0),this.getDocTypeSettings(),this.initDragDropColumns("tasks-table","translation_key"),document.addEventListener("apply_filters",this.applyFilterEvent),document.addEventListener("reset_filters",this.resetFilters),document.addEventListener("refresh_view",this.refreshFilters),this.debounceSearchInputFunc=(0,ie.A)((()=>{this.applyFilter()}),1e3),document.addEventListener("tasks-table-column-drop",this.saveSortedColumns),this.prepareStatusList()}catch(e){}finally{this.hideLoading()}},unmounted:function(){document.removeEventListener("apply_filters",this.applyFilterEvent),document.removeEventListener("reset_filters",this.resetFilters),document.removeEventListener("refresh_view",this.refreshFilters),document.removeEventListener("tasks-table-column-drop",this.saveSortedColumns)},computed:{},watch:{headerCheckbox(){!1===this.headerCheckbox&&(this.headerFabIcon=!1)},tasks:{handler:function(e,t){this.selectionList.forEach((e=>{const t=this.tasks.find((t=>t.id===e));t&&(t.rowSelection=!0)}))}},processing:{handler:function(e,t){1==e?this.showLoading():this.hideLoading()}},websocketHasError:{handler:function(e,t){1==e&&(this.use_websocket=!1)}}},methods:{getStatusClass(e){let t="bg-grey";const s=this.statusList.hasOwnProperty(e);return s&&(t=this.statusList[e]["class"]),t+=" dashboard-status-badge",t},prepareStatusList(){this.statusList["open"]=[],this.statusList["open"]["value"]="open",this.statusList["open"]["class"]="bg-blue-14",this.statusList["in_progress"]=[],this.statusList["in_progress"]["value"]="in_progress",this.statusList["in_progress"]["class"]="bg-amber-7",this.statusList["done"]=[],this.statusList["done"]["value"]="done",this.statusList["done"]["class"]="bg-light-green-6",this.statusList["rejected"]=[],this.statusList["rejected"]["value"]="rejected",this.statusList["rejected"]["class"]="bg-red-13"},saveSortedColumns(e){const t={};this.table_columns.forEach(((e,s)=>{t[e.name]={name:e.name,order:s,sortable:!!e.sortable,translation_key:e.translation_key}})),this.saveTaskColumns(t)},deleteSelection(){this.bulkDeleteRecords(this.selectionList);const e=new CustomEvent("refresh_view",{});document.dispatchEvent(e)},bulkUpdateStatusTasks(e,t){return us(this,void 0,void 0,(function*(){try{this.processing=!0;const s=yield xt.Hg.bulkUpdateStatusTasks(e,t);if(!1===s.success)throw s;const a=new CustomEvent("refreshTasks",{});document.dispatchEvent(a),e.forEach((e=>{const s=this.tasks.find((t=>t.id===e));s&&(s.status=t,s.rowSelection=!1)})),this.selectionList=[],this.showSuccessToast(this.$t("status_updated_successfully"))}catch(s){const e=yt.t.getErrorMessage(s);this.showErrorToast(e)}finally{this.processing=!1}}))},formatTaskDate(e,t){const s=Tt.Ay.formatDate(e,t);return s},formateDate(e,t=""){return this.isDate(e)?(t||(t=ns.v.getFormat(this.getDocDateFormat())),Tt.Ay.formatDate(e,t)):e},applyFilterEvent(e){this.resetPagination(),this.applyFilter()},handleTableColumns(e=!0){try{let e=mt,t=this.user_settings[this.columnKey];Object.keys(this.user_settings).length||(t=Rt.A.getItem(this.columnKey)),t&&(t=JSON.parse(t)),t&&Object.keys(t).length==Object.keys(e).length&&(e=t),Rt.A.set(this.columnKey,JSON.stringify(e)),this.processing=!0,this.table_columns=[];for(const[s,a]of Object.entries(e))this.table_columns.push(a);this.table_columns.sort(((e,t)=>e.order-t.order))}catch(t){}finally{e&&(this.processing=!1)}},intervalManager(e){clearInterval(this.InvoicesClearInterval),!0===e&&(this.InvoicesClearInterval=setInterval((()=>{this.is_any_checked||this.fetchData(!1)}),6e4))},handleActions(e){return this.tasks.forEach(((t,s)=>{s!==e&&(t["fabAction"]=!1)})),!0},resetPages(){this.resetPagination(),this.fetchData()},applyFilter(){this.processing=!0,this.resetAllSelectedRows(),this.fetchData()},refreshFilters(e){this.tasks=[],this.selectionList=[],this.headerCheckbox=!1,this.fetchData()},fetchData(e=!0){return us(this,void 0,void 0,(function*(){try{e&&(this.processing=!0,this.show_table_loader=!0),this.selectionList=[],this.headerCheckbox=!1;const t=this.getSavedFiltersAsJson();if(this.list_mode||(t["limit"]=100),t["document_fields"]="supplier_name,supplier_id",this.use_websocket){let e=yield this.getWebSocketDashboard();return void(1!=e&&setTimeout(this.handleWebsocketDelay,5e3))}yield this.getTasks(t),this.updateTableData(),setTimeout(this.turnOnWebSocket,5e3)}catch(t){const e=yt.t.getErrorMessage(t);this.showErrorToast(e)}finally{this.processing=!1}}))},handleWebsocketDelay(){"received"!==this.data_status&&(this.use_websocket=!1,this.fetchData(),setTimeout(this.turnOnWebSocket,5e3))},turnOnWebSocket(){this.websocketHasError||(this.use_websocket=!1)},updateTableData(){this.setPagination(),this.applyCustomFormatOnRows(),this.show_table_loader=!1,this.processing=!1},setPagination(){this.total_records>0&&this.setTotalPages()},resetPagination(){this.total_pages=0,this.current_page=1,this.total_records=0,this.offset=0},setTotalPages(){this.total_pages=Math.ceil(this.total_records/this.page_size)},calculateOffset(){this.offset=this.page_size*(this.current_page-1)},nexPageClicked(){this.calculateOffset(),this.fetchData()},applyCustomFormatOnRows(){this.tasks.forEach((e=>{e["fabAction"]=!1,e["rowSelection"]=!1;const{formatted_deadline:t}=this.getDisplayDeadline(e["deadline"]);e["deadline"]=t}))},loadData(){this.resetPagination(),this.applyFilter()},bulkDeleteRecords(e){return us(this,void 0,void 0,(function*(){try{this.processing=!0;const t=yield xt.Hg.bulkDeleteTasks(e);if(!1===t.success)throw t;yield this.fetchData()}catch(t){const e=yt.t.getErrorMessage(t);this.showErrorToast(e)}finally{this.processing=!1;const e=new CustomEvent("refresh_view",{});document.dispatchEvent(e)}}))},deleteRecord(e){return us(this,void 0,void 0,(function*(){try{this.processing=!0;const t=yield xt.Hg.deleteTask(e);if(!1===t.success)throw t;yield this.fetchData()}catch(t){const e=yt.t.getErrorMessage(t);this.showErrorToast(e)}finally{this.processing=!1;const e=new CustomEvent("refresh_view",{});document.dispatchEvent(e)}}))},rowClick(e,t){if("title"!==e){if("document_name"===e&&t["document_id"]){let e=t["document_status"];return"validated_pending_approval"===e?void this.toPendingApprovalScreen(t):"approved_pending_second_approval"===e?void this.toPendingSecondApprovalScreen(t):"rejected"===e?void this.toRejectedScreen(t["document_id"]):"in_review"===e?void this.toInReviewScreen(t["document_id"],t):this.isStatusError(e)?void this.toDocumentErrorView(t):void this.$router.push("/field_validation_v1/"+t["document_id"])}}else this.$router.push("/task/"+t["id"])},isStatusError(e){return"error"===e||"export_error"===e},toPendingApprovalScreen(e){return this.model[It.WE]?void this.$router.push("/ready_for_approval_v3/"+e["document_id"]):void this.$router.push("/ready-for-approval-v2/"+e["document_id"])},toPendingSecondApprovalScreen(e){this.$router.push("/ready-for-second-approval-v2/"+e["document_id"])},toRejectedScreen(e){this.$router.push("/rejected/"+e)},toInReviewScreen(e,t){this.$router.push("/in_review/"+e)},toDocumentErrorView(e){this.$router.push("/document_error/"+e["id"])},getClassesForColumn(e){let t=" cursor-pointer ";const s=["document_name","title"];return t+=s.includes(e)?" text-primary ":"",t},resetFilters(){this.resetPagination(),this.setDefaultSettings(),this.applyFilter()},changeAction(){!0===this.headerCheckbox?this.selectAllRows():this.resetAllSelectedRows(),this.checkRowExistance()},selectAllRows(){this.selectionList=[],this.tasks.forEach((e=>{e["rowSelection"]=!0,this.selectionList.push(e.id)}))},resetAllSelectedRows(){this.selectionList=[],this.headerCheckbox=!1,this.tasks.forEach((e=>{e["rowSelection"]=!1}))},checkRowExistance(){let e=0;this.selectionList=[],this.headerCheckbox=!1,this.is_any_checked=!1,this.canBulkMarkAsDone=!0,this.canBulkMarkAsUnDone=!0,this.tasks.forEach((t=>{!0===t["rowSelection"]&&(this.is_any_checked=!0,e++,this.selectionList.push(t.id),"done"===t.status&&(this.canBulkMarkAsDone=!1),"open"===t.status&&(this.canBulkMarkAsUnDone=!1))})),0===e?this.headerCheckbox=!1:this.tasks.length===e?this.headerCheckbox=!0:this.headerCheckbox=!1},setRowStyle(e){if(e.hasOwnProperty("export_data_fetched")&&!0===e["export_data_fetched"])return"exported-row"},deleteMultipalDocument(){return us(this,void 0,void 0,(function*(){if(!this.selectionList)return;let e;this.processing=!0;try{let t=new Map;if(t.set("doc_ids",this.selectionList.join(",")),e=yield xt.v1.deleteRequest(R.FH.delete_documents,t),!1===e.success)return void this.showErrorToast(e.data.message);this.headerCheckbox=!1,this.resetAllSelectedRows(),this.loadData()}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing=!1;const e=new CustomEvent("refresh_view",{});document.dispatchEvent(e)}}))},removeQuickFilter(e){this.taskListSettingsMap.delete(e),this.applyFilter()},handleWebSocketResult(e){e&&(this.use_websocket=!0,this.updateTableData())},getWebSocketDashboard(){return us(this,void 0,void 0,(function*(){try{const e={type:"dashboard",data:{}};let t=this.queryParams;t=t.replace("?","");const s=t.split("&");s.forEach((t=>{t=t.split("="),2===t.length&&(e.data[t[0]]=t[1])})),this.data_status="fetching";yield this.sendMessageToSocket(e.type,e.data);return this.updateTableData(),this.processing=!1,!0}catch(e){this.handleWebsocketDelay()}}))}},setup(){const e=(0,B.G6)(),{dashboard_data:t,isConnected:s,hasError:a}=(0,q.bP)(e),i=(0,B.Bu)(),{user_settings:n}=(0,q.bP)(i),{subscribeToChannel:o,unsubscribeToChannel:r,sendMessageByType:l}=e,d=(0,B.OP)(),{tasks:c,total_records:u,data_fetched:h,list_mode:p,offset:m,page_size:k,taskListSettingsMap:_,processing:g,columnKey:v}=(0,q.bP)(d),{getTasks:b,getSavedListSettings:f,getSavedFiltersAsJson:y,setDefaultSettings:C,getDisplayDeadline:w,saveTaskColumns:F}=d,E=(0,B.wt)(),{getDocTypeSettings:S}=E,{model:L}=(0,q.bP)(E);return{taskListSettingsMap:_,user_settings:n,columnKey:v,getTasks:b,list_mode:p,tasks:c,total_records:u,current_page:(0,ae.KR)(1),total_pages:(0,ae.KR)(0),offset:m,page_size:k,processing:g,getSavedListSettings:f,getSavedFiltersAsJson:y,setDefaultSettings:C,getDisplayDeadline:w,canBulkMarkAsDone:(0,ae.KR)(!1),websocketHasError:a,sendMessageToSocket:l,isConnected:s,unsubscribeToChannel:r,subscribeToChannel:o,dashboard_data:t,table_columns:(0,ae.KR)([]),queryParams:"",model:L,recordId:"",headerCheckbox:(0,ae.KR)(!1),is_any_checked:(0,ae.KR)(!1),headerFabIcon:(0,ae.KR)(!1),selectionList:(0,ae.KR)([]),canBulkMarkAsUnDone:(0,ae.KR)(!1),use_websocket:(0,ae.KR)(!1),show_table_loader:(0,ae.KR)(!1),data_status:(0,ae.KR)(""),saveTaskColumns:F,statusList:(0,ae.KR)([]),getDocTypeSettings:S}}});var ps=s(857),ms=s(54700);const ks=(0,re.A)(hs,[["render",T],["__scopeId","data-v-0ecc2ea4"]]),_s=ks;ce()(hs,"components",{QMarkupTable:ps.A,QPagination:ms.A,QSeparator:ss.A,QCheckbox:be.A,QBtn:es.A,QMenu:Te.A,QList:ts.A,QItem:ge.A,QItemSection:ve.A,QBadge:ze.A,QTooltip:Ye.A,QIcon:He.A,QTable:ls.A})}}]);