"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[6165],{66165:(e,s,t)=>{t.r(s),t.d(s,{default:()=>O});var i=t(61758),r=t(58790);const a={class:"page-holder py-4 bg-gray-100 vh-100"},o={class:"container verify-email"},l={class:"row"},n={class:"col-lg-6 px-lg-4 center"},c={class:"card"},d={class:"card-body p-lg-5"},m={class:"row",style:{width:"54px","margin-left":"auto","margin-right":"auto"}},g={key:0,class:"row error q-mt-lg q-ml-md text-red-5 text-weight-bold"},u={key:1,style:{display:"flex","flex-direction":"column","align-items":"flex-start"},class:"row error q-mt-lg q-ml-md text-weight-bold"},h={style:{"align-self":"center"}},p={key:2,class:"row error q-mt-lg q-ml-md text-weight-bold"},f={key:3,style:{display:"flex","flex-direction":"column","align-items":"flex-start"},class:"row error q-mt-lg q-ml-md text-weight-bold"},y={style:{"align-self":"center"}},v={class:"row"},_={class:"row",style:{"flex-direction":"column",display:"flex","align-items":"flex-start"}};function k(e,s,t,k,w,b){const x=(0,i.g2)("q-spinner-hourglass"),q=(0,i.g2)("q-btn"),E=(0,i.g2)("f-btn"),L=(0,i.g2)("ResendVerifyEmail"),C=(0,i.g2)("Loader");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",a,[(0,i.Lk)("div",o,[(0,i.Lk)("div",l,[(0,i.Lk)("div",n,[(0,i.Lk)("div",c,[(0,i.Lk)("div",d,[(0,i.Lk)("div",m,[""!=e.checking?((0,i.uX)(),(0,i.Wv)(x,{key:0,color:"grey-8",size:"4em"})):(0,i.Q3)("",!0)]),""!=e.error_message?((0,i.uX)(),(0,i.CE)("div",g,[(0,i.bF)(q,{round:"",color:"red",class:"q-ml-auto q-mr-auto q-mb-sm",icon:"close",unelevated:""})])):(0,i.Q3)("",!0),""!=e.error_message?((0,i.uX)(),(0,i.CE)("div",u,[(0,i.Lk)("span",h,(0,r.v_)(e.error_message),1)])):(0,i.Q3)("",!0),""!=e.success_message?((0,i.uX)(),(0,i.CE)("div",p,[(0,i.bF)(q,{round:"",color:"green",class:"q-ml-auto q-mr-auto",icon:"done"})])):(0,i.Q3)("",!0),""!=e.success_message?((0,i.uX)(),(0,i.CE)("div",f,[(0,i.Lk)("span",y,(0,r.v_)(e.success_message),1)])):(0,i.Q3)("",!0),(0,i.Lk)("div",v,[(0,i.bF)(E,{label:e.$t("pages.register_success.sign_in"),class:"btn-red q-mt-md q-ml-auto q-mr-auto",onClick:s[0]||(s[0]=s=>e.goLogin())},null,8,["label"])]),(0,i.Lk)("div",_,[(0,i.bF)(L,{email:e.email},null,8,["email"])])])])])])])]),(0,i.bF)(C)],64)}var w=t(82303),b=t(46162),x=t(45022),q=t(38734),E=t(771),L=t(68450),C=function(e,s,t,i){function r(e){return e instanceof t?e:new t((function(s){s(e)}))}return new(t||(t=Promise))((function(t,a){function o(e){try{n(i.next(e))}catch(s){a(s)}}function l(e){try{n(i["throw"](e))}catch(s){a(s)}}function n(e){e.done?t(e.value):r(e.value).then(o,l)}n((i=i.apply(e,s||[])).next())}))};const A=(0,i.pM)({el:"#app",mixins:[],components:{ResendVerifyEmail:E.A},data(){return{}},setup(){return{email:(0,q.KR)(""),code:(0,q.KR)(""),success_message:(0,q.KR)(""),error_message:(0,q.KR)(""),checking:(0,q.KR)("")}},watch:{error_message(e,s){""!==e&&(this.checking="",this.success_message="")},success_message(e,s){""!==e&&(this.checking="",this.error_message="")}},mounted(){x.A.remove("user_details"),this.processEmailCodeVaidattion()},methods:{processEmailCodeVaidattion(){return C(this,void 0,void 0,(function*(){try{if(this.checking="Loading",this.getEmailAndCode(),!this.code||!this.email)return void this.displayError("Please resend email again");yield this.verifyEmail()}catch(e){let s=this.$t("pages.messages.error_internal_occur");e&&e.hasOwnProperty("message")&&(s=e.message),logError(e),this.displayError(s)}finally{this.checking=""}}))},getEmailAndCode(){for(const[e,s]of Object.entries(this.$route.query))"code"===e&&(this.code=String(s)),"email"===e&&(this.email=String(s))},goLogin(){this.$router.push("/")},verifyEmail(){return C(this,void 0,void 0,(function*(){let e=new FormData;e.append("email",this.email),e.append("code",this.code);const s={email:this.email,code:this.code},t=(0,L.HP)(s);let i;if(this.checking="Please Waiting....",i=yield w.A.get(b.FH.confirm_email+"?"+t,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,b.ti)()}}),i.data&&i.data.hasOwnProperty("success")&&!1===i.data.success)throw{message:i.data.message};i.data&&i.data.hasOwnProperty("success")&&!0===i.data.success&&(this.success_message=i.data.message)}))},displayError(e){let s=e;s||(s=this.$t("general_login_error")),this.error_message=s}}});var F=t(12807),Q=t(63194),P=t(56384),R=t(49200),K=t(98582),X=t.n(K);const $=(0,F.A)(A,[["render",k],["__scopeId","data-v-0c4f0fae"]]),O=$;X()(A,"components",{QSpinnerHourglass:Q.A,QBtn:P.A,QForm:R.A})}}]);