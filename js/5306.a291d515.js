"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[5306],{35306:(e,t,a)=>{a.r(t),a.d(t,{default:()=>yt});var n=a(61758),r=a(58790),s=a(29104);const o=e=>((0,n.Qi)("data-v-64e83be2"),e=e(),(0,n.jt)(),e),i={class:"dashboard-container dashboard-text-color dashboard-main"},l={class:"full-with dashboard-list-area q-my-lg"},d={class:"text-item",style:{"text-transform":"capitalize"}},u={class:"text-item back-white",style:{"text-transform":"capitalize"}},p=["innerHTML"],c={key:1,align:"right",style:{"padding-right":"10px"}},m=["onClick"],h={key:3,class:"text-item",style:{"text-transform":"capitalize"}},g=o((()=>(0,n.Lk)("div",{class:"box loading-shimmer"},null,-1))),_=["data-index","onDragstart","onDrop","onDragover"],y=["colspan"],b={class:"back-white flex justify-end"},v={class:"row",style:{"margin-right":"0"}},f=o((()=>(0,n.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function k(e,t,a,o,k,D){const w=(0,n.g2)("SubHeader"),A=(0,n.g2)("DashboardHeader"),C=(0,n.g2)("q-separator"),x=(0,n.g2)("ColumnOrderBy"),q=(0,n.g2)("q-th"),F=(0,n.g2)("q-tr"),S=(0,n.g2)("q-td"),P=(0,n.g2)("q-item-section"),L=(0,n.g2)("q-item"),E=(0,n.g2)("q-list"),I=(0,n.g2)("q-menu"),$=(0,n.g2)("q-btn"),Q=(0,n.g2)("q-tooltip"),V=(0,n.g2)("q-table"),X=(0,n.g2)("q-markup-table"),T=(0,n.g2)("PaginationSettings"),K=(0,n.g2)("q-pagination"),O=(0,n.g2)("q-inner-loading"),z=(0,n.gN)("ripple");return(0,n.uX)(),(0,n.CE)(n.FK,null,[e.isMobile()?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.bF)(w,{name:"shipment_order_dashboard",label:e.$t("shipment_order_dashboard")},null,8,["label"]),(0,n.Lk)("div",i,[(0,n.bF)(A),(0,n.bF)(C,{class:"seperator"}),(0,n.Lk)("div",l,[e.display_data.length>0?((0,n.uX)(),(0,n.Wv)(V,{key:0,class:(0,r.C4)("main-table dashboard-table-style dashboard-table-height back-white"),rows:Object.values(e.display_data),"rows-per-page-options":[0],columns:e.tableColumns,"row-key":"id",flat:"","hide-bottom":"","no-data-label":e.$t("pages.messages.no_record_found"),id:"shipment_order_table"},{header:(0,n.k6)((t=>[(0,n.bF)(F,{props:t},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.cols,((a,o)=>((0,n.uX)(),(0,n.Wv)(q,{key:a.name,props:t,"data-index":o,draggable:"true",dropzone:"true",direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.tableColumns,o),onDrop:(0,s.D$)((t=>e.handleDrop(t,o)),["prevent"]),onDragover:(0,s.D$)((t=>e.onDragOver(t,o)),["prevent"]),onDragenter:(0,s.D$)(e.onDragEnter,["prevent"]),onDragleave:(0,s.D$)(e.onDragLeave,["prevent"]),style:(0,r.Tr)([{cursor:e.getIsDragging?"pointer":"move"},{"text-align":"left"}])},{default:(0,n.k6)((()=>[(0,n.Lk)("span",d,(0,r.v_)(e.$t(a.label)),1),a.actions?((0,n.uX)(),(0,n.Wv)(x,{key:0,type_name:e.type_name,column_name:a.field},null,8,["type_name","column_name"])):(0,n.Q3)("",!0)])),_:2},1032,["props","data-index","onDragstart","onDrop","onDragover","onDragenter","onDragleave","style"])))),128)),(0,n.bF)(q,{style:{"text-align":"center"}},{default:(0,n.k6)((()=>[(0,n.Lk)("span",u,(0,r.v_)(e.$t("action")),1)])),_:1})])),_:2},1032,["props"])])),body:(0,n.k6)((a=>[e.show_table_loader?((0,n.uX)(),(0,n.Wv)(F,{key:1},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.tableColumns.length+5,(e=>((0,n.uX)(),(0,n.Wv)(S,{key:e},{default:(0,n.k6)((()=>[g])),_:1})))),128))])),_:1})):((0,n.uX)(),(0,n.Wv)(F,{key:0,props:a},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.cols,(t=>((0,n.uX)(),(0,n.Wv)(S,{key:t.name,props:a,class:(0,r.C4)(e.setRowStyle(a.row)+a.row.purchase_order_id?" cursor-pointer":" "),style:(0,r.Tr)(`text-align: ${t.align}`),onClick:t=>e.goToDetail(a.row.purchase_order_id)},{default:(0,n.k6)((()=>[t.format?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"text-item",style:{"text-transform":"capitalize"},innerHTML:t.value},null,8,p)):"total_amount"==t.name?((0,n.uX)(),(0,n.CE)("div",c,(0,r.v_)(t.value),1)):(0,n.Q3)("",!0),"purchase_order"===t.name?((0,n.uX)(),(0,n.CE)("div",{key:2,class:(0,r.C4)([a.row.purchase_order_id?"text-primary":"","cursor-pointer"]),onClick:t=>e.goToDetail(a.row.purchase_order_id)},(0,r.v_)(t.value),11,m)):((0,n.uX)(),(0,n.CE)("div",h,(0,r.v_)(t.value),1))])),_:2},1032,["props","class","style","onClick"])))),128)),(0,n.bF)(S,{style:{"text-align":"center"}},{default:(0,n.k6)((()=>[(0,n.bF)($,{flat:"",dense:"",round:"",onClick:t[0]||(t[0]=(0,s.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz"},{default:(0,n.k6)((()=>[(0,n.bF)(I,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,n.k6)((()=>[(0,n.bF)(E,{dense:"",style:{"min-width":"100px"}},{default:(0,n.k6)((()=>[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(L,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(P,{onClick:t=>{var n;return e.goToDetail(null===(n=null===a||void 0===a?void 0:a.row)||void 0===n?void 0:n.purchase_order)}},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(e.$t("view")),1)])),_:2},1032,["onClick"])])),_:2},1024)),[[z]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),a.row.purchase_order_id?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(Q,{key:0},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(e.$t("no_purchase_order_exist_for_shipment")),1)])),_:1}))])),_:2},1032,["props"]))])),_:1},8,["rows","columns","no-data-label"])):(0,n.Q3)("",!0),0==e.display_data.length?((0,n.uX)(),(0,n.Wv)(X,{key:1,class:(0,r.C4)("main-table dashboard-table-style back-white"),flat:"","hide-bottom":"",actions:!0,id:"shipment_order_table"},{default:(0,n.k6)((()=>[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.tableColumns,((a,o)=>((0,n.uX)(),(0,n.CE)("th",{key:a.name,"data-index":o,draggable:"true",dropzone:"true",direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.tableColumns,o),onDrop:(0,s.D$)((t=>e.handleDrop(t,o)),["prevent"]),onDragover:(0,s.D$)((t=>e.onDragOver(t,o)),["prevent"]),onDragenter:t[1]||(t[1]=(0,s.D$)(((...t)=>e.onDragEnter&&e.onDragEnter(...t)),["prevent"])),onDragleave:t[2]||(t[2]=(0,s.D$)(((...t)=>e.onDragLeave&&e.onDragLeave(...t)),["prevent"])),style:(0,r.Tr)([{cursor:e.getIsDragging?"pointer":"move"},{"text-align":"left"}])},(0,r.v_)(e.$t(a.label)),45,_)))),128))]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{class:"text-center",colspan:e.tableColumns.length},(0,r.v_)(e.$t("pages.messages.no_record_found")),9,y)])])])),_:1})):(0,n.Q3)("",!0),(0,n.Lk)("div",b,[(0,n.Lk)("div",v,[(0,n.bF)(T,{class:"q-py-xs q-mr-md"}),(0,n.bF)(C,{vertical:""}),(0,n.bF)(K,{modelValue:e.pagination.current_page,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.pagination.current_page=t),t[4]||(t[4]=t=>e.paginationItemClicked())],color:"primary",max:e.pagination.total_pages,class:"q-py-xs q-mx-md","max-pages":6,input:"","boundary-links":""},null,8,["modelValue","max"])])])])])],64)),(0,n.bF)(O,{showing:e.loading,style:{"z-index":"10000"}},{default:(0,n.k6)((()=>[f])),_:1},8,["showing"])],64)}var D=a(73414),w=a(1659),A=a(38734),C=a(66693);const x={class:"orderByParentSpan arrow-color"},q=["data-name"],F=["data-name"];function S(e,t,a,s,o,i){return(0,n.uX)(),(0,n.CE)("span",x,[(0,n.Lk)("span",{class:(0,r.C4)(["up-arrow orderBy absolute",e.is_order_by_selected("asc")?"selected":""]),"data-name":e.column_name,"data-direction":"asc",onClick:t[0]||(t[0]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,q),(0,n.Lk)("span",{class:(0,r.C4)(["down-arrow orderBy absolute",e.is_order_by_selected("desc")?"selected":""]),"data-name":e.column_name,"data-direction":"desc",onClick:t[1]||(t[1]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,F)])}var P=a(51476),L=a(11470),E=a(82204),I=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function i(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?a(e.value):r(e.value).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const $=(0,w.nY)("dashboard_shipment_store",{state:()=>({pagination_size_key:"PAGINATION_SIZE",pagination_size:10,paginationCount:0,total_data:0,loading:!0,display_data:[],order_by:{},pagination:{current_page:1,total_pages:0,page_size:10},params:{item_id:"",purchase_order:"",status:"",shipped_quantity:"",delivery_number:"",location_id:""},sort_column:{sort_by:"",order:""},table_columns:{item_id:{name:"item_id",translation_key:"shipment_pages.item_id",actions:!0,order:0,align:"left"},line_number:{name:"line_number",translation_key:"shipment_pages.line_number",actions:!0,order:1,align:"center"},purchase_order:{name:"purchase_order",translation_key:"shipment_pages.po_number",actions:!0,order:2,align:"left"},status:{name:"status",translation_key:"status",actions:!0,order:3,align:"left"},shipped_quantity:{name:"shipped_quantity",translation_key:"shipment_pages.shipped_quantity",actions:!0,order:4,align:"center"},delivery_number:{name:"delivery_number",translation_key:"shipment_pages.delivery_number",actions:!0,order:5,align:"left"},description:{name:"description",translation_key:"shipment_pages.description",actions:!0,order:6,align:"left"},location_id:{name:"location_id",translation_key:"shipment_pages.warehouse_id",actions:!0,order:7,align:"left"}}}),actions:{resetPagination(){this.pagination={current_page:1,total_pages:0,page_size:10}},resetFilter(){this.params={item_id:"",purchase_order:"",status:"",shipped_quantity:"",delivery_number:"",location_id:""},this.sort_column={sort_by:"",order:""},this.pagination={current_page:1,total_pages:0,page_size:10},(0,E.oX)("supplier"),this.order_by={}},getColumnPreference(e){const t="master_data"+e,a=(0,P.KW)(t);return String(a||"[]")},getAsnData(){return I(this,void 0,void 0,(function*(){try{this.loading=!0;const e={};for(const[r,s]of Object.entries(this.params)){const t=s;"object"===typeof t?t&&Object.keys(t).length>0&&(e[r]=t.value,logInfo(t.value)):""!==t&&(e[r]=t)}const t=(this.pagination.current_page-1)*this.pagination.page_size,a=Object.assign({amounts_format:"en_US",limit:this.pagination.page_size,skip:t,sort:this.sort_column.sort_by,sort_direction:this.sort_column.order},e),n=yield L.YT.getReceiveDeliveryEndpoint(a);if(!n)throw n;this.display_data=null===n||void 0===n?void 0:n.data,this.paginationCount=null===n||void 0===n?void 0:n.records,this.pagination.total_pages=Math.ceil(n.records/this.pagination.page_size),this.total_data=n.total_records,this.loading=!1}catch(e){throw e}}))},exprtPdf(e,t){return I(this,void 0,void 0,(function*(){try{const a=yield L.wk.exportPdf(e,t);if(!a)throw a;const n=a.data.preview_path,r=document.createElement("a");document.body.appendChild(r),r.href=n,r.setAttribute("download",""),r.click(),document.body.removeChild(r)}catch(a){throw a}}))},getSavedColumnPreference(e){const t=(0,P.KW)(e);return String(t||"")}}});var Q=a(68450),V=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function i(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?a(e.value):r(e.value).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const X=(0,n.pM)({mixins:[],props:{column_name:{type:String,required:!0}},components:{},watch:{order_by:{deep:!0,handler:function(e,t){this.init()}}},mounted:function(){this.init(),document.addEventListener("reset_filters",this.resetFilters)},unmounted:function(){document.removeEventListener("reset_filters",this.resetFilters)},methods:{is_order_by_selected(e){return this.order_by_field==this.column_name&&this.order_by_direction==e},init(){0!==(0,Q.Ns)(this.order_by)&&(this.order_by_field=this.order_by.field_name,this.order_by_direction=this.order_by.direction)},resetFilters(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},OrderBy(e){if(e.target.classList.contains("selected"))return;let t=e.target.dataset.direction,a=e.target.dataset.name;if(!t||!a)return void logError("ERROR: Orderby for field",a);e.target.classList.add("selected");const n=document.querySelectorAll(".orderBy");if(n.length){for(var r=0;r<n.length;r++){let e=n[r];(e.dataset.name!=a||e.dataset.name==a&&e.dataset.direction!=t)&&e.classList.remove("selected")}this.order_by_field=a,this.order_by_direction=t,this.order_by={field_name:this.order_by_field,direction:this.order_by_direction},this.sort_column.sort_by=this.order_by_field,this.sort_column.order=this.order_by_direction,this.getAsnDashbaordData(),this.triggerApplyFilters()}},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},getAsnDashbaordData(){return V(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.dashboard_shipment_store.getAsnData()}catch(e){logInfo(e)}finally{this.loading=!1}}))}},setup(){const e=$(),{order_by:t,paginationCount:a,sort_column:n,loading:r}=(0,w.bP)(e),{getAsnData:s}=e;return{paginationCount:a,order_by:t,order_by_field:(0,A.KR)(""),order_by_direction:(0,A.KR)(""),sort_column:n,getAsnData:s,loading:r,dashboard_shipment_store:e}}});var T=a(12807);const K=(0,T.A)(X,[["render",S],["__scopeId","data-v-debf69e2"]]),O=K,z={class:"row q-mb-md"},R={style:{"margin-top":"39px"},class:"row items-start example-container dashboard-title dark-readable"},W={class:"col q-ml-xl"},B={class:"row justify-start"},M={class:"dashboard-search-box q-ml-md mt-20 white-inputs"};function U(e,t,a,s,o,i){const l=(0,n.g2)("quickSearch"),d=(0,n.g2)("q-space"),u=(0,n.g2)("q-tooltip"),p=(0,n.g2)("f-btn");return(0,n.uX)(),(0,n.CE)("div",z,[(0,n.Lk)("div",R,[(0,n.Lk)("div",{class:"example-cell cursor-pointer",tabindex:"0",onClick:t[0]||(t[0]=(...t)=>e.refreshFilters&&e.refreshFilters(...t))},(0,r.v_)(e.$t("all"))+" "+(0,r.v_)(`(${e.total_data})`),1)]),(0,n.Lk)("div",W,[(0,n.Lk)("div",B,[(0,n.Lk)("div",M,[(0,n.bF)(l)]),(0,n.bF)(d),(0,n.bF)(p,{square:"",class:"q-mr-sm mt-20",icon:"img:images/refresh.svg",onClick:e.refreshFilters},{default:(0,n.k6)((()=>[(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(e.$t("refresh_list")),1)])),_:1})])),_:1},8,["onClick"])])])])}const N={class:"q-pa-md"},j={class:"row q-my-sm"},H={style:{"margin-top":"5px"}},J={class:"row q-my-sm"},Y={style:{"margin-top":"5px"}},G={class:"row q-my-sm"},Z={style:{"margin-top":"5px"}},ee={class:"row q-my-sm"},te={style:{"margin-top":"5px"}},ae={class:"row q-my-sm"},ne={style:{"margin-top":"5px"}},re={class:"float-right q-ml-auto"};function se(e,t,a,s,o,i){const l=(0,n.g2)("q-space"),d=(0,n.g2)("PurchaseNumber"),u=(0,n.g2)("ShippedQuantity"),p=(0,n.g2)("DeliveryNumber"),c=(0,n.g2)("Warehouse"),m=(0,n.g2)("Status"),h=(0,n.g2)("f-btn"),g=(0,n.g2)("q-menu"),_=(0,n.g2)("q-input");return(0,n.uX)(),(0,n.Wv)(_,{style:(0,r.Tr)({width:e.search_width?e.search_width+"%":"500px"}),dense:"",modelValue:e.params.item_id,"onUpdate:modelValue":t[1]||(t[1]=t=>e.params.item_id=t),autofocus:"",placeholder:e.$t("shipment_pages.search_item_id"),outlined:"",onKeyup:e.onKeyup},{append:(0,n.k6)((()=>[(0,n.bF)(h,{icon:"tune",appearance:"flat"},{default:(0,n.k6)((()=>[(0,n.bF)(g,{style:{width:"500px","min-height":"250px"},anchor:"bottom start",self:"top left",offset:[453,10]},{default:(0,n.k6)((()=>[(0,n.Lk)("div",N,[(0,n.Lk)("div",j,[(0,n.Lk)("span",H,(0,r.v_)(e.$t("shipment_pages.po_number")),1),(0,n.bF)(l),(0,n.bF)(d)]),(0,n.Lk)("div",J,[(0,n.Lk)("span",Y,(0,r.v_)(e.$t("shipment_pages.shipped_quantity")),1),(0,n.bF)(l),(0,n.bF)(u)]),(0,n.Lk)("div",G,[(0,n.Lk)("span",Z,(0,r.v_)(e.$t("shipment_pages.delivery_number")),1),(0,n.bF)(l),(0,n.bF)(p)]),(0,n.Lk)("div",ee,[(0,n.Lk)("span",te,(0,r.v_)(e.$t("shipment_pages.warehouse_id")),1),(0,n.bF)(l),(0,n.bF)(c)]),(0,n.Lk)("div",ae,[(0,n.Lk)("span",ne,(0,r.v_)(e.$t("shipment_pages.status")),1),(0,n.bF)(l),(0,n.bF)(m)]),(0,n.Lk)("div",re,[(0,n.bF)(h,{appearance:"secondary",class:"q-mr-sm mt-20 q-mb-md",label:e.$t("clear_filters"),onClick:t[0]||(t[0]=t=>e.resetFilters())},null,8,["label"])])])])),_:1})])),_:1})])),_:1},8,["style","modelValue","placeholder","onKeyup"])}function oe(e,t,a,r,s,o){const i=(0,n.g2)("q-input");return(0,n.uX)(),(0,n.Wv)(i,{outlined:"",dense:"",modelValue:e.params.purchase_order,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.params.purchase_order=t),e.fetchData],clearable:!0,debounce:1e3,class:"q-mr-sm",style:{width:"227px",height:"40px"}},null,8,["modelValue","onUpdate:modelValue"])}const ie=(0,n.pM)({mixins:[],props:{},methods:{fetchData(){this.resetPagination(),this.getAsnData()}},setup(){const e=(0,w.bP)($()),{getAsnData:t,resetPagination:a}=$(),{params:n}=e;return{resetPagination:a,getAsnData:t,params:n}}});var le=a(67837),de=a(98582),ue=a.n(de);const pe=(0,T.A)(ie,[["render",oe]]),ce=pe;function me(e,t,a,r,s,o){const i=(0,n.g2)("q-input");return(0,n.uX)(),(0,n.Wv)(i,{type:"number",outlined:"",dense:"",modelValue:e.params.shipped_quantity,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.params.shipped_quantity=t),e.fetchData],clearable:!0,debounce:1e3,class:"q-mr-sm",style:{width:"227px",height:"40px"}},null,8,["modelValue","onUpdate:modelValue"])}ue()(ie,"components",{QInput:le.A});const he=(0,n.pM)({mixins:[],props:{},methods:{fetchData(){this.resetPagination(),this.getAsnData()}},setup(){const e=(0,w.bP)($()),{getAsnData:t,resetPagination:a}=$(),{params:n}=e;return{resetPagination:a,getAsnData:t,params:n}}}),ge=(0,T.A)(he,[["render",me]]),_e=ge;function ye(e,t,a,r,s,o){const i=(0,n.g2)("q-input");return(0,n.uX)(),(0,n.Wv)(i,{outlined:"",dense:"",modelValue:e.params.delivery_number,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.params.delivery_number=t),e.fetchData],clearable:!0,debounce:1e3,class:"q-mr-sm",style:{width:"227px",height:"40px"}},null,8,["modelValue","onUpdate:modelValue"])}ue()(he,"components",{QInput:le.A});const be=(0,n.pM)({mixins:[],props:{},methods:{fetchData(){this.resetPagination(),this.getAsnData()}},setup(){const e=(0,w.bP)($()),{getAsnData:t,resetPagination:a}=$(),{params:n}=e;return{resetPagination:a,getAsnData:t,params:n}}}),ve=(0,T.A)(be,[["render",ye]]),fe=ve;function ke(e,t,a,r,s,o){const i=(0,n.g2)("q-input");return(0,n.uX)(),(0,n.Wv)(i,{outlined:"",dense:"",modelValue:e.params.location_id,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.params.location_id=t),e.fetchData],clearable:!0,debounce:1e3,class:"q-mr-sm",style:{width:"227px",height:"40px"}},null,8,["modelValue","onUpdate:modelValue"])}ue()(be,"components",{QInput:le.A});const De=(0,n.pM)({mixins:[],props:{},methods:{fetchData(){this.resetPagination(),this.getAsnData()}},setup(){const e=(0,w.bP)($()),{getAsnData:t,resetPagination:a}=$(),{params:n}=e;return{resetPagination:a,getAsnData:t,params:n}}}),we=(0,T.A)(De,[["render",ke]]),Ae=we;function Ce(e,t,a,s,o,i){const l=(0,n.g2)("q-select");return(0,n.uX)(),(0,n.Wv)(l,{outlined:"",class:"q-mr-sm",style:{width:"227px",height:"40px"},clearable:"",dense:"",modelValue:e.params.status,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.params.status=t),e.fetchData],options:e.status,label:e.$t("status")},{"selected-item":(0,n.k6)((e=>[(0,n.Lk)("div",null,(0,r.v_)(e.opt.label),1)])),_:1},8,["modelValue","options","label","onUpdate:modelValue"])}ue()(De,"components",{QInput:le.A});var xe=a(62488);const qe=(0,n.pM)({mixins:[],props:{},mounted(){this.initStatus()},unmounted:function(){},data(){return{status:[],PO_STATUSES:xe.$8}},methods:{fetchData(){this.resetPagination(),this.getAsnData()},initStatus(){this.status=[];for(const[e,t]of Object.entries(this.PO_STATUSES))this.status.push({label:this.$t(t.label),value:t.value})}},setup(){const e=(0,w.bP)($()),{getAsnData:t,resetPagination:a}=$(),{params:n}=e;return{params:n,getAsnData:t,resetPagination:a}}});var Fe=a(94940);const Se=(0,T.A)(qe,[["render",Ce]]),Pe=Se;ue()(qe,"components",{QSelect:Fe.A});var Le=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function i(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?a(e.value):r(e.value).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const Ee=(0,n.pM)({mixins:[],props:{search_width:{type:Number}},components:{PurchaseNumber:ce,ShippedQuantity:_e,DeliveryNumber:fe,Warehouse:Ae,Status:Pe},methods:{resetFilters(){this.resetFilter(),this.fetchData(),this.removeFiltersClass()},removeFiltersClass(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},onKeyup(e){"Enter"==e.key&&this.fetchData()},fetchData(){return Le(this,void 0,void 0,(function*(){this.loading=!0,this.resetPagination(),yield this.getAsnData(),this.loading=!1}))},handleEmptyStatus(){return(!this.searchInput||null===this.searchInput||""===this.searchInput.trim())&&(this.resetFilters(),!0)},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}},setup(){const e=$(),{loading:t,pagination:a,params:n}=(0,w.bP)(e),{getAsnData:r,resetPagination:s,resetFilter:o}=e;return{getAsnData:r,pagination:a,loading:t,searchInput:(0,A.KR)(""),oldSearchInput:(0,A.KR)(""),showing:(0,A.KR)(!1),debounceSearchInputFunc:{},request_params:{},filter_data_json_str:"",resetPagination:s,resetFilter:o,params:n}}});var Ie=a(84436),$e=a(93676);const Qe=(0,T.A)(Ee,[["render",se]]),Ve=Qe;ue()(Ee,"components",{QInput:le.A,QMenu:Ie.A,QSpace:$e.A});var Xe=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function i(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?a(e.value):r(e.value).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const Te=(0,n.pM)({props:{type_name:{type:String,reqired:!0,default:"supplier"},media_screen:{type:String,reqired:!0,optional:!1}},components:{quickSearch:Ve},mounted(){document.addEventListener("delete_input_text",this.clearSearchInput)},methods:{clearSearchInput(){this.searchInput=""},refreshFilters(){this.resetFilters(),this.getDataServer(),this.removeFiltersClass()},getDataServer(){return Xe(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.getAsnData(),this.total_records=this.paginationCount}catch(e){logError(e)}finally{this.loading=!1}}))},resetFilters(){const e=new CustomEvent("reset_filters",{});document.dispatchEvent(e),this.resetFilter()},removeFiltersClass(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))}},setup(){const e=$(),{loading:t,display_data:a,params:n,pagination:r,paginationCount:s,total_data:o}=(0,w.bP)(e),{getAsnData:i,resetFilter:l}=e;return{getAsnData:i,loading:t,searchInput:(0,A.KR)(""),paginationCount:s,display_data:a,params:n,resetFilter:l,pagination:r,total_records:(0,A.KR)(0),total_data:o}}});var Ke=a(97410);const Oe=(0,T.A)(Te,[["render",U]]),ze=Oe;ue()(Te,"components",{QSpace:$e.A,QTooltip:Ke.A});const Re={class:"row"},We={class:"q-py-xs q-mt-md q-mr-sm"};function Be(e,t,a,s,o,i){const l=(0,n.g2)("q-select");return(0,n.uX)(),(0,n.CE)("div",Re,[(0,n.Lk)("span",We,(0,r.v_)(e.$t("pagination_size"))+":",1),(0,n.bF)(l,{borderless:"",dense:"",modelValue:e.pagination.page_size,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.pagination.page_size=t),e.getAsnData],options:e.pagination_options},null,8,["modelValue","options","onUpdate:modelValue"])])}const Me=(0,n.pM)({mixins:[],props:{},watch:{},methods:{triggerApplyFilters(){const e=new CustomEvent("apply_filters",{});document.dispatchEvent(e)},validatePaginationSize(){this.pagination.page_size<=50||(this.pagination.page_size=50)}},mounted(){this.validatePaginationSize()},setup(){const e=$(),{pagination:t}=(0,w.bP)(e),{getAsnData:a}=e;return{pagination:t,getAsnData:a,pagination_options:(0,A.KR)(["10","20","25","50"])}}}),Ue=(0,T.A)(Me,[["render",Be]]),Ne=Ue;ue()(Me,"components",{QSelect:Fe.A});var je=a(23537),He=a(76956),Je=a(36246),Ye=a(24681),Ge=a(24622),Ze=a(10739),et=a(87033),tt=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function i(e){try{l(n["throw"](e))}catch(t){s(t)}}function l(e){e.done?a(e.value):r(e.value).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const at=(0,n.pM)({el:"#app",mixins:[Ge.A,Ze.A,et.A],props:{type_name:{type:String,reqired:!0,default:"supplier"}},mounted(){this.init(),this.prepareTableColumns(),this.initDragDropColumns("shipment_order_table","label"),document.addEventListener("shipment_order_table-column-drop",this.onDropColumns)},unmounted(){document.removeEventListener("shipment_order_table-column-drop",this.onDropColumns)},components:{SubHeader:C.A,DashboardHeader:ze,ColumnOrderBy:O,PaginationSettings:Ne},methods:{init(){this.getData(!0)},prepareTableColumns(){this.tableColumns=this.generateSavedColumns(this.shipment_order_dashboard_columns,this.tableColumns)},onDropColumns(){this.savedOrderColumns(this.tableColumns)},savedOrderColumns(e){return tt(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.updateSetting(this.shipment_order_dashboard_columns,JSON.stringify(e))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.loading=!1}}))},getData(e){return tt(this,void 0,void 0,(function*(){try{this.loading=!0,e&&(this.show_table_loader=!0),yield this.dashboard_shipment_store.getAsnData(),this.total_records=this.paginationCount}catch(t){logInfo(t)}finally{this.loading=!1,this.show_table_loader=!1}}))},openPurchaseOrderDetailsView(e){this.$router.push(`/purchase-order-detail/${e}`)},goToDetail(e){e&&this.$router.push(`/purchase-order-detail/${e}`)},formateDate(e,t){return Je.Ay.formatDate(e,t)},includesDate(e){const t=["order_date","requested_delivery_date","estimated_delivery_date"];return t.some((t=>e.includes(t)))},includeStatus(e){return"Reserved"===e?1:"Delivered"===e?2:"Invoiced"===e?3:void 0},resetFilters(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},paginationItemClicked(){return tt(this,void 0,void 0,(function*(){try{yield this.getData(!0)}catch(e){logInfo(e)}}))},setRowStyle(e){if(e.hasOwnProperty("export_data_fetched")&&!0===e["export_data_fetched"])return"exported-row"}},data(){return{supplier_dashboard_setting:He.t2,show_table_loader:(0,A.KR)(!1),shipment_order_dashboard_columns:He.J1}},setup(){const e=$(),{datePattern:t}=(0,Ye.B)(),{loading:a,table_columns:n,display_data:r,paginationCount:s,params:o,pagination:i}=(0,w.bP)(e),{getAsnData:l,exprtPdf:d,getSavedColumnPreference:u}=e,{t:p}=(0,je.s9)(),c=(0,Ye.B)(),{updateSetting:m}=c,h=(0,A.KR)();return h.value=Object.values(JSON.parse(JSON.stringify(n.value))).map((e=>({name:e.name,required:!0,label:e.translation_key,field:e.name,actions:e.actions,align:e.align}))),{loading:a,display_data:r,table_columns:n,getAsnData:l,paginationCount:s,tableColumns:h,dashboard_shipment_store:e,searchInput:(0,A.KR)(""),params:o,current_page:(0,A.KR)(1),total_pages:(0,A.KR)(0),page_size:(0,A.KR)(5),total_records:(0,A.KR)(0),isMobile:D.Fr,pagination:i,datePattern:t,exprtPdf:d,updateSetting:m,getSavedColumnPreference:u}}});var nt=a(10386),rt=a(42315),st=a(44488),ot=a(57722),it=a(45262),lt=a(56384),dt=a(53999),ut=a(90124),pt=a(25173),ct=a(857),mt=a(54700),ht=a(39035),gt=a(65265);const _t=(0,T.A)(at,[["render",k],["__scopeId","data-v-64e83be2"]]),yt=_t;ue()(at,"components",{QSeparator:nt.A,QTable:rt.A,QTr:st.A,QTh:ot.A,QTd:it.A,QBtn:lt.A,QMenu:Ie.A,QList:dt.A,QItem:ut.A,QItemSection:pt.A,QTooltip:Ke.A,QMarkupTable:ct.A,QPagination:mt.A,QInnerLoading:ht.A}),ue()(at,"directives",{Ripple:gt.A})}}]);