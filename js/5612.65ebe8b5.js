"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[5612],{5612:(e,t,o)=>{o.r(t),o.d(t,{default:()=>$e});var n=o(61758);const a={id:"services",class:"services section-bg"},r={class:"row"},l={class:"col-11",style:{padding:"20px","margin-left":"50px"}};function s(e,t,o,s,i,d){const c=(0,n.g2)("Correspondent_Groups_Middle");return(0,n.uX)(),(0,n.CE)("section",a,[(0,n.Lk)("div",r,[(0,n.Lk)("div",l,[(0,n.bF)(c)])])])}var i=o(24622),d=o(18505),c=o(58790),p=o(29104);const u={class:"row text-weight-bolder top-row"},_={class:"full-width",style:{"margin-top":"10px"}},h={style:{"text-align":"left",color:"white",background:"#0e3341"}},g={style:{"max-height":"50vh",overflow:"scroll"}},m={style:{width:"100px"}},f=["onClick"],b=["onClick"];function k(e,t,o,a,r,l){const s=(0,n.g2)("q-input"),i=(0,n.g2)("q-space"),d=(0,n.g2)("DefaultBtn"),k=(0,n.g2)("q-checkbox"),v=(0,n.g2)("DeleteQfab"),w=(0,n.g2)("q-fab"),C=(0,n.g2)("q-chip"),F=(0,n.g2)("q-markup-table"),A=(0,n.g2)("AddCorresp_Group_Popup"),y=(0,n.g2)("q-dialog"),x=(0,n.g2)("EditCorresp_Group_Popup"),L=(0,n.g2)("ManageCorresps");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",u,[(0,n.bF)(s,{style:{width:"40%"},outlined:"",dense:"",debounce:"500",modelValue:e.filter,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.filter=t),e.applyFilter],label:e.$t("name")},null,8,["modelValue","label","onUpdate:modelValue"]),(0,n.bF)(i),(0,n.bF)(d,{label:e.$t("doc2light.pages.add"),onClick:t[1]||(t[1]=t=>e.show_add_corresp_group_popup=!0)},null,8,["label"])]),(0,n.Lk)("div",_,[(0,n.bF)(F,{class:"sticky-column-for-table white-back",style:{"max-height":"70vh","overflow-y":"auto"},dense:"",flat:""},{default:(0,n.k6)((()=>[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",h,[(0,n.Lk)("th",null,[(0,n.bF)(k,{dark:"",modelValue:e.headerCheckbox,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.headerCheckbox=t),t[3]||(t[3]=t=>e.changeAction())]},null,8,["modelValue"]),(0,n.bF)(w,{flat:"",modelValue:e.headerFabIcon,"onUpdate:modelValue":t[4]||(t[4]=t=>e.headerFabIcon=t),disable:e.selection.length<1,"label-position":"top","data-cy":"actions","external-label":"",icon:"more_vert",direction:"down",padding:"xs"},{default:(0,n.k6)((()=>[(0,n.bF)(v,{info:e.$t("doc2light.pages.correspondent_groups"),tooltip:e.$t("delete"),function:e.deleteMarked,argument:e.selection},null,8,["info","tooltip","function","argument"])])),_:1},8,["modelValue","disable"])]),(0,n.Lk)("th",null,(0,c.v_)(e.$t("doc2light.table.name")),1),(0,n.Lk)("th",null,(0,c.v_)(e.$t("doc2light.pages.assignee")),1)])]),(0,n.Lk)("tbody",g,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.group_list,(t=>((0,n.uX)(),(0,n.CE)("tr",{key:t["group_id"]},[(0,n.Lk)("td",m,[(0,n.bF)(k,{modelValue:t.rowSelection,"onUpdate:modelValue":[e=>t.rowSelection=e,o=>e.selectionList(t)]},null,8,["modelValue","onUpdate:modelValue"])]),(0,n.Lk)("td",{onClick:o=>e.onEditClick(t.id)},(0,c.v_)(t["name"]),9,f),(0,n.Lk)("td",{style:{"overflow-x":"scroll"},onClick:o=>e.onManageClick(t.id)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.correspondents,(e=>((0,n.uX)(),(0,n.Wv)(C,{key:e.id,dense:""},{default:(0,n.k6)((()=>[(0,n.eW)((0,c.v_)(e.name),1)])),_:2},1024)))),128))],8,b)])))),128))])])),_:1})]),(0,n.bF)(y,{modelValue:e.show_add_corresp_group_popup,"onUpdate:modelValue":t[5]||(t[5]=t=>e.show_add_corresp_group_popup=t),onKeydown:t[6]||(t[6]=(0,p.jR)((t=>e.setter()),["esc"]))},{default:(0,n.k6)((()=>[(0,n.bF)(A)])),_:1},8,["modelValue"]),(0,n.bF)(y,{modelValue:e.show_edit_corresp_group_popup,"onUpdate:modelValue":t[7]||(t[7]=t=>e.show_edit_corresp_group_popup=t),onKeydown:t[8]||(t[8]=(0,p.jR)((t=>e.setter()),["esc"]))},{default:(0,n.k6)((()=>[(0,n.bF)(x,{group_id:e.group_id},null,8,["group_id"])])),_:1},8,["modelValue"]),(0,n.bF)(y,{modelValue:e.show_manage_corresps,"onUpdate:modelValue":t[9]||(t[9]=t=>e.show_manage_corresps=t),onKeydown:t[10]||(t[10]=(0,p.jR)((t=>e.setter()),["esc"]))},{default:(0,n.k6)((()=>[(0,n.bF)(L,{group_id:e.group_id},null,8,["group_id"])])),_:1},8,["modelValue"])],64)}var v=o(38734),w=o(36246),C=o(63008),F=o(1659),A=o(46162),y=o(31123);const x=e=>((0,n.Qi)("data-v-5d754c63"),e=e(),(0,n.jt)(),e),L={class:"popup-heading color-primary"},V=x((()=>(0,n.Lk)("hr",{style:{color:"#cecece"}},null,-1))),Q={style:{"margin-bottom":"20px"},class:"row full-width mb-10 mt-8"},K={class:"full-width"};function R(e,t,o,a,r,l){const s=(0,n.g2)("q-toolbar-title"),i=(0,n.g2)("CancelBtn"),d=(0,n.g2)("SaveBtn"),p=(0,n.g2)("q-card-actions"),u=(0,n.g2)("q-toolbar"),_=(0,n.g2)("q-input"),h=(0,n.g2)("q-card-section"),g=(0,n.g2)("q-card"),m=(0,n.g2)("Loader");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(g,{style:{width:"50%"},class:"card-format"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{class:"primary-toolbar"},{default:(0,n.k6)((()=>[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.Lk)("span",L,(0,c.v_)(e.$t("doc2light.popups.add_correspondent_group")),1)])),_:1}),(0,n.bF)(p,{align:"right"},{default:(0,n.k6)((()=>[(0,n.bF)(i,{onClick:t[0]||(t[0]=t=>e.new_corresp_group={})}),(0,n.bF)(d,{onClick:e.saveChanges},null,8,["onClick"])])),_:1})])),_:1}),V,(0,n.bF)(h,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",Q,[(0,n.Lk)("div",K,[(0,n.bF)(_,{type:"text",outlined:"",tabindex:"0",dense:"",label:e.$t("name"),modelValue:e.new_corresp_group["name"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.new_corresp_group["name"]=t)},null,8,["label","modelValue"])])])])),_:1})])),_:1}),(0,n.bF)(m)],64)}var q=o(89156),S=o(99976),D=o(5255),U=function(e,t,o,n){function a(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,r){function l(e){try{i(n.next(e))}catch(t){r(t)}}function s(e){try{i(n["throw"](e))}catch(t){r(t)}}function i(e){e.done?o(e.value):a(e.value).then(l,s)}i((n=n.apply(e,t||[])).next())}))};const E=(0,n.pM)({el:"#app",mixins:[d.A,i.A],props:["showSpinner"],components:{Loader:q.A,CancelBtn:S.A,SaveBtn:D.A},data(){return{}},methods:{saveChanges(){return U(this,void 0,void 0,(function*(){yield this.create_correspondent_group(this.new_corresp_group["name"])}))}},setup(){const e=(0,C.A2)(),t=(0,F.bP)(e),{create_correspondent_group:o}=e;return{apidata:t,create_correspondent_group:o,multiUploaderDialog:(0,v.KR)(!0),uploadedFiles:(0,v.KR)(null),new_corresp_group:(0,v.KR)({}),algorythms:["Regex","FellowAI","None"]}}});var I=o(12807),$=o(23316),T=o(36914),B=o(39150),M=o(62669),X=o(44189),G=o(67837),P=o(98582),j=o.n(P);const O=(0,I.A)(E,[["render",R],["__scopeId","data-v-5d754c63"]]),W=O;j()(E,"components",{QCard:$.A,QToolbar:T.A,QToolbarTitle:B.A,QCardActions:M.A,QCardSection:X.A,QInput:G.A});const z=e=>((0,n.Qi)("data-v-61d6c226"),e=e(),(0,n.jt)(),e),N={class:"popup-heading"},H=z((()=>(0,n.Lk)("hr",{style:{color:"#cecece"}},null,-1))),J={style:{"margin-bottom":"20px"},class:"row full-width mb-10 mt-8"},Y={class:"full-width"};function Z(e,t,o,a,r,l){const s=(0,n.g2)("q-toolbar-title"),i=(0,n.g2)("CancelBtn"),d=(0,n.g2)("SaveBtn"),p=(0,n.g2)("q-card-actions"),u=(0,n.g2)("q-toolbar"),_=(0,n.g2)("q-input"),h=(0,n.g2)("q-card-section"),g=(0,n.g2)("q-card"),m=(0,n.g2)("Loader");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(g,{style:{width:"50%"},class:"card-format"},{default:(0,n.k6)((()=>[(0,n.bF)(u,{class:"primary-toolbar"},{default:(0,n.k6)((()=>[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.Lk)("span",N,(0,c.v_)(e.$t("rename")),1)])),_:1}),(0,n.bF)(p,{align:"right"},{default:(0,n.k6)((()=>[(0,n.bF)(i,{onClick:t[0]||(t[0]=t=>e.rename_corresp_group={})}),(0,n.bF)(d,{onClick:e.saveChanges},null,8,["onClick"])])),_:1})])),_:1}),H,(0,n.bF)(h,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",J,[(0,n.Lk)("div",Y,[(0,n.bF)(_,{type:"text",outlined:"",dense:"",tabindex:"0",label:e.$t("name"),modelValue:e.rename_corresp_group["name"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.rename_corresp_group["name"]=t)},null,8,["label","modelValue"])])])])),_:1})])),_:1}),(0,n.bF)(m)],64)}var ee=function(e,t,o,n){function a(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,r){function l(e){try{i(n.next(e))}catch(t){r(t)}}function s(e){try{i(n["throw"](e))}catch(t){r(t)}}function i(e){e.done?o(e.value):a(e.value).then(l,s)}i((n=n.apply(e,t||[])).next())}))};const te=(0,n.pM)({el:"#app",mixins:[d.A,i.A],props:["group_id"],components:{Loader:q.A,CancelBtn:S.A,SaveBtn:D.A},data(){return{}},mounted(){this.get_field_infos()},methods:{get_field_infos(){this.rename_corresp_group["name"]=this.apidata.groupData.data[this.group_id].name},saveChanges(){return ee(this,void 0,void 0,(function*(){yield this.rename_correspondent_group(this.group_id,this.rename_corresp_group["name"])}))}},setup(){const e=(0,C.GX)(),t=(0,F.bP)(e),{rename_correspondent_group:o}=e;return{apidata:(0,v.KR)(t),rename_correspondent_group:o,multiUploaderDialog:(0,v.KR)(!0),uploadedFiles:(0,v.KR)(null),rename_corresp_group:(0,v.KR)({})}}}),oe=(0,I.A)(te,[["render",Z],["__scopeId","data-v-61d6c226"]]),ne=oe;j()(te,"components",{QCard:$.A,QToolbar:T.A,QToolbarTitle:B.A,QCardActions:M.A,QCardSection:X.A,QInput:G.A});const ae=e=>((0,n.Qi)("data-v-18471399"),e=e(),(0,n.jt)(),e),re={class:"popup-heading"},le=ae((()=>(0,n.Lk)("hr",{style:{color:"#cecece"}},null,-1))),se={class:"q-gutter-md row items-start"},ie={class:"row"},de={class:"col-9"},ce=ae((()=>(0,n.Lk)("div",{class:"col-1"},null,-1))),pe={class:"col-2"},ue={class:"full-width"},_e={style:{"text-align":"left",color:"white",background:"#0E3341"}},he={class:"text-uppercase"},ge={class:"text-uppercase",style:{width:"30px"}},me={style:{"max-height":"50vh",overflow:"scroll"}};function fe(e,t,o,a,r,l){const s=(0,n.g2)("q-toolbar-title"),i=(0,n.g2)("q-toolbar"),d=(0,n.g2)("q-select"),p=(0,n.g2)("SaveBtn"),u=(0,n.g2)("q-card-section"),_=(0,n.g2)("DeleteQfab"),h=(0,n.g2)("q-fab"),g=(0,n.g2)("q-markup-table"),m=(0,n.g2)("CancelBtn"),f=(0,n.g2)("q-card-actions"),b=(0,n.g2)("q-card"),k=(0,n.g2)("Loader");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(b,{style:{"min-width":"50vh"},class:"card-format"},{default:(0,n.k6)((()=>[(0,n.bF)(i,{class:"primary-toolbar"},{default:(0,n.k6)((()=>[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.Lk)("span",re,(0,c.v_)(e.$t("doc2light.table.manage_correspondents")),1)])),_:1})])),_:1}),le,(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",se,[(0,n.Lk)("div",ie,[(0,n.Lk)("div",de,[(0,n.bF)(d,{style:{width:"400px"},outlined:"",dense:"",modelValue:e.manage_corresp["add_corresp"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.manage_corresp["add_corresp"]=t),options:e.correspondents_select,label:e.$t("doc2light.table.select_correspondent")},null,8,["modelValue","options","label"])]),ce,(0,n.Lk)("div",pe,[(0,n.bF)(p,{onClick:t[1]||(t[1]=t=>e.addCorrespondent()),class:"q-mr-sm",label:e.$t("doc2light.pages.add")},null,8,["label"])])])])])),_:1}),(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.Lk)("div",ue,[(0,n.bF)(g,{class:"sticky-column-for-table",style:{"max-height":"150px","overflow-y":"auto"},flat:"",dense:""},{default:(0,n.k6)((()=>[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",_e,[(0,n.Lk)("th",he,(0,c.v_)(e.$t("doc2light.table.name")),1),(0,n.Lk)("th",ge,(0,c.v_)(e.$t("doc2light.table.actions")),1)])]),(0,n.Lk)("tbody",me,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.group_info.correspondents,((t,o)=>((0,n.uX)(),(0,n.CE)("tr",{key:t.id},[(0,n.Lk)("td",null,(0,c.v_)(t.name),1),(0,n.Lk)("td",null,[(0,n.bF)(h,{flat:"",modelValue:t.fabaction,"onUpdate:modelValue":[e=>t.fabaction=e,t=>e.handleActions(o)],"label-position":"top","data-cy":"actions","external-label":"",color:"primary",icon:"more_horiz",direction:"left",padding:"xs"},{default:(0,n.k6)((()=>[(0,n.bF)(_,{info:e.$t("doc2light.pages.assignee"),tooltip:e.$t("delete"),function:e.onTrashbinClick,argument:t.id},null,8,["info","tooltip","function","argument"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])])))),128))])])),_:1})]),(0,n.bF)(f,{align:"right"},{default:(0,n.k6)((()=>[(0,n.bF)(m,{style:{"margin-top":"15px"}})])),_:1})])),_:1})])),_:1}),(0,n.bF)(k)],64)}var be=o(93760),ke=function(e,t,o,n){function a(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,r){function l(e){try{i(n.next(e))}catch(t){r(t)}}function s(e){try{i(n["throw"](e))}catch(t){r(t)}}function i(e){e.done?o(e.value):a(e.value).then(l,s)}i((n=n.apply(e,t||[])).next())}))};const ve=(0,n.pM)({el:"#app",mixins:[d.A,i.A],props:["group_id"],components:{Loader:q.A,DeleteQfab:be.A,CancelBtn:S.A,SaveBtn:D.A},data(){return{}},mounted(){this.get_field_infos(),this.get_dropdown_infos()},methods:{addCorrespondent(){return ke(this,void 0,void 0,(function*(){yield this.add_correspondent_to_group(this.manage_corresp["add_corresp"].value,this.group_info.id,this.group_info.name,this.manage_corresp["add_corresp"].label)}))},get_field_infos(){this.group_info=this.apidata.groupData.value.data[this.group_id]},get_dropdown_infos(){for(const[e,t]of Object.entries(this.apidata.correspondentData.value.data))this.correspondents_select.push({value:t.id,label:t.name})},onTrashbinClick(e){return ke(this,void 0,void 0,(function*(){yield this.remove_correspondent_from_group(e,this.group_id)}))},handleActions(e){return this.apidata.groupData.value.data[this.group_id].correspondents.forEach(((t,o)=>{o!==e&&(t["fabAction"]=!1)})),!0}},setup(){const e=(0,C.GX)(),t=(0,F.bP)(e),{remove_correspondent_from_group:o,add_correspondent_to_group:n,setCorrespondentsFromServer:a}=e;return{apidata:t,group_info:(0,v.KR)({}),setCorrespondentsFromServer:a,remove_correspondent_from_group:o,add_correspondent_to_group:n,multiUploaderDialog:(0,v.KR)(!0),uploadedFiles:(0,v.KR)(null),manage_corresp:(0,v.KR)({}),correspondents_select:(0,v.KR)([])}}});var we=o(94940),Ce=o(857),Fe=o(54782);const Ae=(0,I.A)(ve,[["render",fe],["__scopeId","data-v-18471399"]]),ye=Ae;j()(ve,"components",{QCard:$.A,QToolbar:T.A,QToolbarTitle:B.A,QCardSection:X.A,QSelect:we.A,QMarkupTable:Ce.A,QFab:Fe.A,QCardActions:M.A});var xe=function(e,t,o,n){function a(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,r){function l(e){try{i(n.next(e))}catch(t){r(t)}}function s(e){try{i(n["throw"](e))}catch(t){r(t)}}function i(e){e.done?o(e.value):a(e.value).then(l,s)}i((n=n.apply(e,t||[])).next())}))};const Le=(0,n.pM)({data(){return{showIcons:!1,supportURL:A.cK}},mounted(){this.initView()},mixins:[d.A],components:{DefaultBtn:y.A,DeleteQfab:be.A,AddCorresp_Group_Popup:W,EditCorresp_Group_Popup:ne,ManageCorresps:ye},methods:{setter(){this.show_add_corresp_group_popup=!1,this.show_edit_corresp_group_popup=!1,this.show_manage_corresps=!1,this.group_list=this.apidata.groupData.data},formateDate(e,t){return w.Ay.formatDate(e,t)},initView(){return xe(this,void 0,void 0,(function*(){yield this.setGroupsFromServer(),yield this.setCorrespondentsFromServer(),this.group_list=this.apidata.groupData.data}))},onEditClick(e){this.group_id=e,this.show_edit_corresp_group_popup=!0},onManageClick(e){this.group_id=e,this.show_manage_corresps=!0},applyFilter(){if(""==this.filter)this.group_list=this.apidata.groupData.data;else{this.group_list={};for(const[e,t]of Object.entries(this.apidata.groupData.data))t.name.toLowerCase().includes(this.filter.toLowerCase())&&(this.group_list[e]=this.apidata.groupData.data[e])}},handleActions(e){this.group_list[e].fabaction,this.group_list[e].fabaction},deleteMarked(e){this.showLoading(),e.forEach((e=>xe(this,void 0,void 0,(function*(){yield this.delete_correspondent_group(e)})))),this.group_skip=0,this.hideLoading()},selectionList(e){const t=this.selection.indexOf(e.id);t>-1?(this.selection.splice(t,1),this.group_list[e.id].rowSelection=!1,this.selection.length<1&&(this.headerFabIcon=!1)):(this.selection.push(e.id),this.group_list[e.id].rowSelection=!0)},changeAction(){!0===this.headerCheckbox?this.selectAllRows():(this.resetAllSelectedRows(),this.headerFabIcon=!1)},selectAllRows(){this.headerCheckbox=!0;for(const[e,t]of Object.entries(this.group_list))this.group_list[e].rowSelection=!0,this.selection.push(e)},resetAllSelectedRows(){this.selection=[],this.headerCheckbox=!1;for(const[e,t]of Object.entries(this.group_list))this.group_list[e].rowSelection=!1}},setup(){const e=(0,C.GX)(),t=(0,F.bP)(e),{setGroupsFromServer:o,setCorrespondentsFromServer:n,delete_correspondent_group:a}=e;return{apidata:(0,v.KR)(t),filter:(0,v.KR)(""),view:(0,v.KR)("list"),show_add_corresp_group_popup:(0,v.KR)(!1),show_edit_corresp_group_popup:(0,v.KR)(!1),show_manage_corresps:(0,v.KR)(!1),setGroupsFromServer:o,setCorrespondentsFromServer:n,delete_correspondent_group:a,group_id:(0,v.KR)(),group_list:(0,v.KR)({}),selection:(0,v.KR)([]),headerCheckbox:(0,v.KR)(!1),headerFabIcon:(0,v.KR)(!1),group_skip:(0,v.KR)(1)}}});var Ve=o(93676),Qe=o(80460),Ke=o(66760),Re=o(82156),qe=o(42315);const Se=(0,I.A)(Le,[["render",k]]),De=Se;j()(Le,"components",{QInput:G.A,QSpace:Ve.A,QMarkupTable:Ce.A,QCheckbox:Qe.A,QFab:Fe.A,QChip:Ke.A,QDialog:Re.A,QTable:qe.A});const Ue=(0,n.pM)({data(){return{}},components:{Correspondent_Groups_Middle:De},mixins:[d.A,i.A]});var Ee=o(56384);const Ie=(0,I.A)(Ue,[["render",s],["__scopeId","data-v-3a841879"]]),$e=Ie;j()(Ue,"components",{QBtn:Ee.A})}}]);