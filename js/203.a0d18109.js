"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[203],{10203:(e,t,s)=>{s.r(t),s.d(t,{default:()=>gt});var o=s(61758),i=s(58790);const r=e=>((0,o.Qi)("data-v-00868e3a"),e=e(),(0,o.jt)(),e),a={class:"full-width sub-header mobile-only"},l={class:"row",style:{padding:"10px 12px"}},n={class:"left-side q-mr-auto q-pl-lg"},d={class:"q-mr-auto"},c={class:"cursor-pointer text-caption"},h={key:0,class:"row highlighted-back q-pl-md q-pr-md q-pb-md"},u={key:1,class:"row"},p={key:0,class:"col-xs-12 col-sm-12 col-md-3 col-lg-3 q-pl-lg small-hide",id:"left_section",ref:"left_section"},m={class:"row"},g={style:{position:"relative"}},_={class:"row"},v={class:"back-white q-pa-sm",style:{"border-radius":"5px"}},f={class:"full-width white-inputs"},y={class:"full-width full-height"},b={key:0,class:"full-width"},w=["data-group-id"],k={class:"row q-pr-sm"},L={class:"col-12 secondary-c-text text-h6 text-weight-bold"},F=["data-fields-group-name"],A={style:{"margin-left":"3px",top:"40%"}},C={class:"row"},E={class:"approval-width q-pl-sm approval-anotation-area scrolle-y"},I={class:"invisible absolute position-absolute"},P={class:"row"},S={class:"q-mr-auto"},T={class:"page-numbers"},R={class:"panel-middle mobile-hide"},q={class:"panel-right mobile-hide"},D={class:"doc-name"},x={class:"full-width full-height",id:"image_container",style:{position:"relative"}},M={class:"column full-width justify-between back-white right-action-bar approval-anotation-area"},B={class:"action-bar-items"},O={class:"action-bar-bottom"},$={class:"q-my-auto"},V={class:"validation-view-button q-pt-md"},U={key:0,class:"task-section"},Q=r((()=>(0,o.Lk)("div",null,"Comment",-1))),z={class:"q-pt-none"},H={class:"footer-filename"},K={class:"footer-status-message"},N={class:"footer-status-message"},j={key:1,class:"row"},W={class:"row q-ml-sm back-white custom-border",style:{width:"138px"}},X=["src"],G=["src"];function J(e,t,s,r,J,Y){const Z=(0,o.g2)("DocumentLock"),ee=(0,o.g2)("SubHeader"),te=(0,o.g2)("q-icon"),se=(0,o.g2)("ErrorDocumentView"),oe=(0,o.g2)("q-tab"),ie=(0,o.g2)("q-tabs"),re=(0,o.g2)("DocumentLogs"),ae=(0,o.g2)("q-tab-panel"),le=(0,o.g2)("ApprovalHistory"),ne=(0,o.g2)("q-tab-panels"),de=(0,o.g2)("q-btn"),ce=(0,o.g2)("q-tooltip"),he=(0,o.g2)("AnnotationView"),ue=(0,o.g2)("TaskBtn"),pe=(0,o.g2)("q-separator"),me=(0,o.g2)("q-input"),ge=(0,o.g2)("q-splitter"),_e=(0,o.g2)("TaskList"),ve=(0,o.g2)("q-page-sticky"),fe=(0,o.g2)("q-space"),ye=(0,o.g2)("q-bar"),be=(0,o.g2)("q-card-section"),we=(0,o.g2)("q-card"),ke=(0,o.g2)("q-dialog"),Le=(0,o.g2)("Loader"),Fe=(0,o.g2)("q-item-section"),Ae=(0,o.g2)("q-item"),Ce=(0,o.g2)("q-list"),Ee=(0,o.g2)("q-menu"),Ie=(0,o.g2)("q-toolbar"),Pe=(0,o.g2)("q-footer"),Se=(0,o.gN)("close-popup");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(Z,{document_version:e.document_version,trigger_document_lock:e.trigger_document_lock,doc_id:e.docId,onSetTriggerDocumentLock:e.setTriggerDocumentLock},null,8,["document_version","trigger_document_lock","doc_id","onSetTriggerDocumentLock"]),(0,o.bF)(ee,{name:"approval",label:e.$t("approval"),show_expiry_alert:!0,onSearch:!1,display_help_link:!1},null,8,["label"]),(0,o.Lk)("div",a,[(0,o.Lk)("div",l,[(0,o.Lk)("span",n,[(0,o.Lk)("div",d,[(0,o.Lk)("span",{class:"cursor-pointer text-uppercase",onClick:t[0]||(t[0]=(...t)=>e.routeToListPendingApproval&&e.routeToListPendingApproval(...t))},[(0,o.bF)(te,{class:"cursor-pointer",onClick:e.nextImage,name:"chevron_left",size:"sm"},null,8,["onClick"]),(0,o.eW)(" "+(0,i.v_)(e.$t("pending_approval_list")),1)]),(0,o.Lk)("span",c," - "+(0,i.v_)(e.pending_approval_doc_count)+" "+(0,i.v_)(e.$t("invoices_for_release")),1)])])])]),e.error?((0,o.uX)(),(0,o.CE)("div",h,[(0,o.bF)(se)])):((0,o.uX)(),(0,o.CE)("div",u,[e.showActivityPanel?((0,o.uX)(),(0,o.CE)("div",p,[(0,o.bF)(ie,{modelValue:e.activityTab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.activityTab=t),class:"text-primary"},{default:(0,o.k6)((()=>[(0,o.bF)(oe,{name:"activity_stream",label:e.$t("activity_stream")},null,8,["label"]),e.model[e.approval_history]?((0,o.uX)(),(0,o.Wv)(oe,{key:0,name:"approval_history",label:e.$t("approval_history")},null,8,["label"])):(0,o.Q3)("",!0)])),_:1},8,["modelValue"]),(0,o.bF)(ne,{modelValue:e.activityTab,"onUpdate:modelValue":t[2]||(t[2]=t=>e.activityTab=t),animated:"",class:"scroll-height-100vh-160px"},{default:(0,o.k6)((()=>[(0,o.bF)(ae,{name:"activity_stream"},{default:(0,o.k6)((()=>[(0,o.bF)(re,{docId:e.docId,list_data:e.doc_logs},null,8,["docId","list_data"])])),_:1}),(0,o.bF)(ae,{name:"approval_history"},{default:(0,o.k6)((()=>[(0,o.bF)(le)])),_:1})])),_:1},8,["modelValue"])],512)):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:(0,i.C4)([e.showActivityPanel?"col-xs-12 col-sm-12 col-md-9 col-lg-9":"full-width","q-pl-lg"])},[(0,o.Lk)("div",m,[(0,o.Lk)("div",g,[(0,o.bF)(de,{size:"sm",dense:"",round:"",unelevated:"",color:"primary",icon:e.showActivityPanel?"chevron_left":"chevron_right",class:"text-white chevron-left-icon",onClick:t[3]||(t[3]=t=>{e.showActivityPanel=!e.showActivityPanel,e.windowResize()})},null,8,["icon"])])]),(0,o.Lk)("div",_,[(0,o.Lk)("div",{class:(0,i.C4)(e.showTaskPanel?"with-task-section":"full-width")},[(0,o.bF)(ge,{modelValue:e.splitterModel,"onUpdate:modelValue":[t[8]||(t[8]=t=>e.splitterModel=t),t[9]||(t[9]=t=>e.windowResize())],class:"approval-content-area border-left-grey q-pl-sm"},{before:(0,o.k6)((()=>[(0,o.Lk)("div",v,[(0,o.Lk)("div",f,[(0,o.Lk)("div",y,[e.isModelReady()?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[e.renderComponent?((0,o.uX)(),(0,o.CE)("div",b,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.formLayout,((t,s)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:`div-${s}`},[t.rows.length>0?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"full-width q-mb-lg not-sticky-area","data-group-id":s},[(0,o.Lk)("div",k,[(0,o.Lk)("div",L,(0,i.v_)(e.getLabelForFormBuilder(t,"form_builder.")),1)]),(0,o.Lk)("div",{class:"full-width","data-fields-group-name":t.name},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.rows,((t,r)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:`div-${r}`},[t.is_hidden||void 0!=t.visibile&&!t.visibile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"display-block field-padding",style:(0,i.Tr)("width:"+t.elementWidth+"%")},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(t.fieldType),{currentField:t,isReadOnly:e.getReadOnlyStatus(t),fieldName:t.name,groupIndex:s,elementIndex:r,onInputClicked:e.htmlElementClick,onInputValueChanges:e.onInputValueChanges,onUpdateModel:e.updateModel},null,40,["currentField","isReadOnly","fieldName","groupIndex","elementIndex","onInputClicked","onInputValueChanges","onUpdateModel"]))],4))],64)))),128))],8,F)],8,w)):(0,o.Q3)("",!0)],64)))),128))])):(0,o.Q3)("",!0)],64)):(0,o.Q3)("",!0)])])])])),separator:(0,o.k6)((()=>[(0,o.Lk)("div",A,[(0,o.bF)(te,{name:"drag_handle",size:"md",class:"icon-grey rotate-90"})])])),after:(0,o.k6)((()=>[(0,o.Lk)("div",C,[(0,o.Lk)("div",E,[(0,o.Lk)("div",I,[(0,o.Lk)("div",P,[(0,o.Lk)("div",S,[(0,o.bF)(te,{class:"up-arrow cursor-pointer",onClick:e.prevImage,name:"expand_less",size:"sm"},{default:(0,o.k6)((()=>[(0,o.bF)(ce,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.$t("previous")),1)])),_:1})])),_:1},8,["onClick"]),(0,o.bF)(te,{class:"down-arrow cursor-pointer",onClick:e.nextImage,name:"expand_more",size:"sm"},{default:(0,o.k6)((()=>[(0,o.bF)(ce,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.$t("next")),1)])),_:1})])),_:1},8,["onClick"]),(0,o.Lk)("span",T,(0,i.v_)(e.currentPage())+"/"+(0,i.v_)(e.images.length)+" "+(0,i.v_)(e.$t("page_number_text")),1)]),(0,o.Lk)("div",R,[(0,o.Lk)("span",null,[e.record.status==e.in_review?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.eW)((0,i.v_)(e.$t("in_review")),1)],64)):e.second_approval?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.eW)((0,i.v_)(e.$t("second_approval")),1)],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[(0,o.eW)((0,i.v_)(e.$t("first_approval")),1)],64))])]),(0,o.Lk)("div",q,[(0,o.Lk)("span",{class:"cursor-pointer q-mr-md text-uppercase",onClick:t[4]||(t[4]=(...t)=>e.downloadFile&&e.downloadFile(...t))},(0,i.v_)(e.$t("download")),1),(0,o.Lk)("span",D,(0,i.v_)(e.record.filename),1)])])]),((0,o.uX)(),(0,o.CE)("div",{class:"full-width",key:e.refreshAnnotationView},[(0,o.Lk)("div",x,[(0,o.bF)(he,{ref:"child_comp",enableEditing:e.enable_editing,cropUrl:e.image+"?"+e.tokenQueryParam,width:e.imageWidth,screenmode:e.screenmode,selectFont:e.selectFont,selectFontSize:e.selectFontSize,selectColor:e.selectColor},null,8,["enableEditing","cropUrl","width","screenmode","selectFont","selectFontSize","selectColor"])])]))]),(0,o.Lk)("div",M,[(0,o.Lk)("div",B,[(0,o.bF)(ue,{onBtnClicked:t[5]||(t[5]=t=>{e.showTaskPanel=!e.showTaskPanel,e.windowResize()})}),(0,o.bF)(pe,{class:"separator-space"})]),(0,o.Lk)("div",O,[(0,o.bF)(pe,{class:"q-mb-sm"}),(0,o.Lk)("div",$,[(0,o.bF)(de,{icon:"img:images/pages.svg",flat:"",class:"validation-view-button"},{default:(0,o.k6)((()=>[(0,o.bF)(ce,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.currentPage())+" / "+(0,i.v_)(e.images.length),1)])),_:1})])),_:1})]),(0,o.bF)(me,{outlined:"",dense:"",modelValue:e.page,"onUpdate:modelValue":[t[6]||(t[6]=t=>e.page=t),t[7]||(t[7]=t=>{e.pageChanged(t)})],class:"validation-view-input",onBlur:e.validatePageNumber},null,8,["modelValue","onBlur"]),(0,o.Lk)("span",V,(0,i.v_)(e.images.length),1),(0,o.Lk)("div",null,[(0,o.bF)(de,{disable:1==e.page,icon:"keyboard_arrow_up",flat:"",class:"validation-view-page-button icon-grey",onClick:e.prevImage},null,8,["disable","onClick"]),(0,o.bF)(de,{disable:e.page==e.images.length,icon:"keyboard_arrow_down",flat:"",class:"validation-view-page-button icon-grey",onClick:e.nextImage},null,8,["disable","onClick"])])])])])])),_:1},8,["modelValue"])],2),e.showTaskPanel?((0,o.uX)(),(0,o.CE)("div",U,[(0,o.bF)(_e,{onBtnClicked:t[10]||(t[10]=t=>{e.showTaskPanel=!e.showTaskPanel,e.windowResize()})})])):(0,o.Q3)("",!0)])],2),(0,o.bF)(ve,{position:"bottom-right",offset:[8,8],class:"hidden small-only"},{default:(0,o.k6)((()=>[(0,o.bF)(de,{fab:"",icon:"chat",color:"primary",padding:"sm",onClick:t[11]||(t[11]=t=>e.chatWindow=!0)})])),_:1})])),(0,o.bF)(ke,{modelValue:e.chatWindow,"onUpdate:modelValue":t[12]||(t[12]=t=>e.chatWindow=t),position:"bottom"},{default:(0,o.k6)((()=>[(0,o.bF)(we,{class:"full-width"},{default:(0,o.k6)((()=>[(0,o.bF)(ye,{class:"bg-primary text-white"},{default:(0,o.k6)((()=>[Q,(0,o.bF)(fe),(0,o.bo)((0,o.bF)(de,{dense:"",flat:"",icon:"close"},null,512),[[Se]])])),_:1}),(0,o.bF)(be,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",z,[(0,o.bF)(re,{docId:e.docId,list_data:e.doc_logs},null,8,["docId","list_data"])])])),_:1}),(0,o.bF)(be,{class:"q-pt-none"})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(Le),(0,o.bF)(Pe,{class:"validation-status-bar back-white"},{default:(0,o.k6)((()=>[(0,o.bF)(Ie,{class:"row justify-start opened-right-padding"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",H,(0,i.v_)(e.record.filename),1),(0,o.bF)(de,{size:"md",flat:"",dense:"",class:"q-ml-xs",onClick:e.downloadFile},{default:(0,o.k6)((()=>[(0,o.bF)(te,{name:"download",style:{color:"#8a8a8a"}})])),_:1},8,["onClick"]),(0,o.bF)(pe,{vertical:"",class:"q-mx-md"}),(0,o.Lk)("span",K,[e.second_approval?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.eW)((0,i.v_)(e.$t("second_approval")),1)],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.eW)((0,i.v_)(e.$t("first_approval")),1)],64))]),(0,o.bF)(pe,{vertical:"",class:"q-mx-md"}),(0,o.Lk)("span",null,(0,i.v_)(e.pending_approval_doc_count)+" "+(0,i.v_)(e.$t("invoices_for_release")),1),(0,o.bF)(pe,{vertical:"",class:"q-mx-md"}),(0,o.bF)(fe),e.record.table_blocked?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(pe,{vertical:"",class:"q-mx-md"}),(0,o.bF)(te,{class:"text-blue",style:{"font-size":"22px"},name:"info"}),(0,o.Lk)("span",N,(0,i.v_)(e.$t("block_supplier_warning")),1)],64)):(0,o.Q3)("",!0),(0,o.bF)(de,{dense:"",class:"q-mr-sm custom-border back-white",flat:"",size:"12px",onClick:t[13]||(t[13]=t=>{e.showStampMenu=!0,e.showFontMenu=!1,e.screenmode="stamp"})},{default:(0,o.k6)((()=>[(0,o.bF)(te,{name:"img:annotation/stamp_icon.svg",class:"icon-grey-svg"}),(0,o.bF)(ce,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.$t("annotation.stamp_annotation")),1)])),_:1})])),_:1}),(0,o.bF)(de,{size:"12px",dense:"",flat:"",class:"q-mr-sm custom-border back-white",onClick:t[14]||(t[14]=t=>{e.showFontMenu=!0,e.showStampMenu=!1,e.screenmode="annotate"})},{default:(0,o.k6)((()=>[(0,o.bF)(te,{name:"text_format",class:"icon-grey"}),(0,o.bF)(ce,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.$t("annotation.text_annotation")),1)])),_:1})])),_:1}),(0,o.Lk)("div",null,[(0,o.bF)(de,{size:"12px",flat:"",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[15]||(t[15]=t=>{e.selectColor="#000000",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,o.k6)((()=>[(0,o.bF)(te,{color:"black",name:"title"})])),_:1}),(0,o.bF)(de,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[16]||(t[16]=t=>{e.selectColor="#f44336",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,o.k6)((()=>[(0,o.bF)(te,{color:"red",name:"title"})])),_:1}),(0,o.bF)(de,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[17]||(t[17]=t=>{e.selectColor="#4caf50",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,o.k6)((()=>[(0,o.bF)(te,{color:"green",name:"title"})])),_:1}),(0,o.bF)(de,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[18]||(t[18]=t=>{e.selectColor="#2196f3",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,o.k6)((()=>[(0,o.bF)(te,{color:"blue",name:"title"})])),_:1}),(0,o.bF)(de,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[19]||(t[19]=t=>{e.selectColor="#ffeb3b",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,o.k6)((()=>[(0,o.bF)(te,{color:"yellow",name:"title"})])),_:1})]),e.showStampMenu?((0,o.uX)(),(0,o.CE)("div",j,[(0,o.Lk)("div",W,[(0,o.Lk)("img",{class:"q-px-sm",src:e.stamp_dir+e.selectedStamp+e.stamp_ext,style:{width:"100px"}},null,8,X),(0,o.bF)(de,{dense:"",flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(te,{name:"expand_more",class:"icon-grey"}),(0,o.bF)(Ee,null,{default:(0,o.k6)((()=>[(0,o.bF)(Ce,{style:{"min-width":"80px"}},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.sortedStamps,(t=>(0,o.bo)(((0,o.uX)(),(0,o.Wv)(Ae,{key:t,clickable:""},{default:(0,o.k6)((()=>[(0,o.bF)(Fe,{onClick:s=>e.selectedStamp=t},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{width:"80",src:e.stamp_dir+t+e.stamp_ext},null,8,G)])),_:2},1032,["onClick"])])),_:2},1024)),[[Se]]))),128))])),_:1})])),_:1})])),_:1})]),(0,o.bF)(de,{label:e.$t("doc2light.pages.add"),class:"q-ml-sm",color:"primary",unelevated:"",onClick:t[20]||(t[20]=t=>e.stampAddClicked())},null,8,["label"])])):(0,o.Q3)("",!0)])),_:1})])),_:1})],64)}var Y=s(82303),Z=s(1659),ee=s(24622),te=s(38734),se=s(46162),oe=s(96056),ie=s(89156),re=s(14907),ae=s(45022),le=s(18505),ne=s(64775),de=s(68450),ce=s(49575),he=s(25891),ue=s(41843),pe=s(12682),me=s(77362),ge=s(12566),_e=s(96075),ve=s(82600),fe=s(25773),ye=s(11470),be=s(85487),we=s(62409),ke=s(99869),Le=s(96756),Fe=s(66933),Ae=s(41582),Ce=s(57659),Ee=s(55133),Ie=s(66740),Pe=s(23852),Se=s(8903),Te=s(44849),Re=s(83319),qe=s(76956),De=s(23537),xe=s(81589),Me=function(e,t,s,o){function i(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,r){function a(e){try{n(o.next(e))}catch(t){r(t)}}function l(e){try{n(o["throw"](e))}catch(t){r(t)}}function n(e){e.done?s(e.value):i(e.value).then(a,l)}n((o=o.apply(e,t||[])).next())}))};const Be=document.querySelector.bind(document),Oe=(0,o.pM)({el:"#app",mixins:[le.A,ee.A,oe.A,he.A],components:{DocumentLock:xe.A,Loader:ie.A,TaskBtn:pe.A,TaskList:ue.A,DocumentLogs:ce.A,AnnotationView:Le.A,SecondApprover:Ce.A,ApprovalHistory:ve.A,DocumentApprover:Ie.A,ErrorDocumentView:ge.A,SubHeader:me.A,Label:we.A,Button:ke.A,TextInput:Ae.A,BackToSettings:fe.A,CorrectionButtons:Ee.A,HorizontalSeparator:Pe.A,ExtractedTableTabPanels:Te.A},watch:{doc_status:{deep:!0,handler:function(){this.checkValidStatus()}}},data(){return{default_stamp:Se.EO,stamp_ext:Se.K_,stamps:Se.dA,stamp_dir:Se.Ul,sortedStamps:[],docId:"",imageHeight:0,imageWidth:0,loading:!1,showArticlePage:!1,renderComponent:!1,chatWindow:(0,te.KR)(!1),enableExportButton:!1,in_review:qe.aH.in_review,allowedDoctypes:qe.Gk,filter_status:"validated_pending_approval",showActivityPanel:(0,te.KR)(!1),showTaskPanel:(0,te.KR)(!1),enable_editing:(0,te.KR)(!0),splitterModel:(0,te.KR)(50),refreshAnnotationView:(0,te.KR)(0),activityTab:(0,te.KR)("activity_stream")}},beforeRouteLeave:function(e,t,s){return Me(this,void 0,void 0,(function*(){yield this.releaseDocLock({doc_id:this.record.doc_id}),this.resetDocStore(e.fullPath),this.restoreBeforeLeave(),s()}))},mounted:function(){return Me(this,void 0,void 0,(function*(){let e=ae.A.getItem("selected_language");e&&(this.locale=e);let t=this.$route.params.id;this.getDocAnnotations(t),yield this.fetchAttributes(this.record.doc_type),window.addEventListener("resize",this.windowResize),document.body.addEventListener("click",this.mouseClicked,!0),window.rda=this,this.acquireDocLock(),this.init(),document.addEventListener("new_log",this.addNewLog),document.addEventListener("keydown",this.keyDownEvent);for(let s=1;s<=80;s++)this.fontSizes.push(s.toString()+"pt")}))},unmounted:function(){window.removeEventListener("resize",this.windowResize),document.removeEventListener("new_log",this.addNewLog),document.removeEventListener("keydown",this.keyDownEvent)},methods:{sortStampsByLanguage(){let e=this.$i18n.locale,t=[];"en-us"==e&&(e="en"),this.stamps.forEach((s=>{"de"!=e&&"en"!=e&&(e="en"),s.includes(e)&&t.push(s)})),this.selectedStamp=t[0],this.sortedStamps=t},init(){return Me(this,void 0,void 0,(function*(){this.isSecondApproval(),this.$route.params.id||this.$router.push("/dashboard"),this.second_approval&&(this.filter_status=qe.aH.approved_pending_second_approval),this.docId=this.$route.params.id,yield this.getInvoiceDataByDocId(this.docId),yield this.getFieldsPermissions(this.record.doc_type);let e=qe.L9.field_validation;this.record.status==qe.aH.validated_pending_approval?e=this.model[qe.WE]?qe.L9.approval_v2:qe.L9.approval:this.record.status==qe.aH.in_review?(e=qe.L9.review,this.filter_status=qe.aH.in_review):this.record.status==qe.aH.approved_pending_second_approval&&(e=qe.L9.recond_approval,this.filter_status=qe.aH.approved_pending_second_approval),this.renderDocumentLog(),this.renderPendingRecordsCountView(),this.renderNextPrevLinkBtns(),yield this.getLayoutTemplateID(e),yield this.getFormBuilderLayout(),this.renderComponent=!0,qe.B2.includes(this.record.status)&&(this.isReadOnly=!0),this.handleImageBaseURL(),this.image=this.baseUrl+"/"+(0,_e.v)(this.record.images[0].path),this.images=(0,_e.m)(this.record.images),this.sortStampsByLanguage(),this.windowResize()}))},isSecondApproval(){this.second_approval=!1,this.$route.params.second_approval&&"true"===this.$route.params.second_approval&&(this.second_approval=!0)},getInvoiceDataByDocId(e){return Me(this,void 0,void 0,(function*(){try{if(this.showLoading(),yield this.getDocumentById(e),!this.record.doc_id)return void this.showErrorToast(this.$t("pages.messages.INVALID_DOCUMENT"))}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(t)}finally{this.hideLoading()}}))},fillFirstApprover(){let e={};return e=this.record.hasOwnProperty("first_approver")?this.createEmptyField("first_approver","",this.record.first_approver):this.createEmptyField("assigned_to","",this.record.assigned_to),e},createEmptyField(e,t="",s=""){return"checkbox"==t&&(s=!1),{confidence:0,name:e,value:s,formatted_value:s,content:s}},getAssignToUsers(){return Me(this,void 0,void 0,(function*(){yield this.dropdownStore.prepareUsersDropdown(),this.usersList=this.dropdownStore.usersList,this.formBuilderModel["assigned_to"]=this.getUserFullName(this.record.assigned_to),this.setPreviousApprover()}))},setPreviousApprover(){this.second_approval&&this.record.first_approver&&(this.formBuilderModel["first_approver"]=this.getUserFullName(this.record.first_approver))},getFieldsPermissions(e){return Me(this,void 0,void 0,(function*(){try{if(!e)return;const t=yield ye.M8.getFieldsPermissionsApi(e);if(!t.success)throw{message:t.message};this.field_permissions=t.field_permissions,this.general_permissions=t.general,this.prepareFieldPermissions(t.field_permissions),this.prepareTablePermissions(t.table_column_permissions)}catch(t){const e=ne.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}}))},prepareTablePermissions(e){if(e)for(const[t,s]of Object.entries(e)){const e=s;let o=e.name.toLowerCase();this.tablePermissions[o]={id:t,access:e.access}}},prepareFieldPermissions(e){if(e)for(const[t,s]of Object.entries(e)){const e=s;let o=e.name.toLowerCase();this.fieldPermissions[o]={id:t,access:e.access}}},filterUserList(e,t,s){try{if(""===e)return void t((()=>{this.usersList=this.dropdownStore.usersList}));t((()=>{const t=e.toLowerCase();this.usersList=this.dropdownStore.usersList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}))}catch(o){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(o),s()}},getUserFullName(e){let t=this.dropdownStore.usersList.filter((t=>t.value==e));return t[0].label},isModelReady(){return 0!==(0,de.Ns)(this.formBuilderConfigModel)},goHelp(){window.open("https://docs.cloudintegration.eu/")},keyDownEvent(e){"d"===e.key&&e.ctrlKey&&(this.showActivityPanel=!this.showActivityPanel)},htmlElementClick(e){this.formBuilderConfigModel[e].fieldType!==Fe.VV.BUTTON||this.handleButtons(e)},handleButtons(e){this.isReadOnly||(this.formBuilderConfigModel[e].type!=qe.aH.reject?this.formBuilderConfigModel[e].type!=qe.aH.save?this.formBuilderConfigModel[e].type!=qe.aH.request_release?this.formBuilderConfigModel[e].type!=qe.aH.in_review?this.formBuilderConfigModel[e].type!=qe.aH.restart_workflow?this.formBuilderConfigModel[e].type!=qe.aH.view_summery||this.goToSummery():this.goToFieldValidation():this.setInReview():this.acceptRequest():this.saveData():this.rejectRequest())},onInputValueChanges(e,t){this.updateLocalModel(e),this.updateImportJson(e)},updateLocalModel(e){this.formBuilderModel.hasOwnProperty(e)&&(this.formBuilderModel[e].value=this.formBuilderModel[e].formatted_value)},updateImportJson(e,t,s,o=""){try{const i=this.record.fields.find((t=>t.name===e));if(!i){this.record.fields.push({});const i=this.record.fields.length-1;return this.record.fields[i].name=e,this.record.fields[i].content=this.formBuilderModel[e].content,this.record.fields[i].formatted_value=this.formBuilderModel[e].formatted_value,this.record.fields[i].value=this.formBuilderModel[e].value,this.record.fields[i].original_value="",this.record.fields[i].validation_code="",this.record.fields[i].extraction_method=o,this.record.fields[i].is_validated=!0,this.record.fields[i].is_valid=!0,this.record.fields[i].color=qe.aH.success_border_left,!0===this.formBuilderModel[this.connectionId].multi_line?this.record.fields[i].multi_line=!0:this.record.fields[i].multi_line=!1,t&&(this.record.fields[i].coords=t),s&&(this.record.fields[i].page=s),void this.$emit("checkFieldInvalid",this.record.fields[i])}i.hasOwnProperty("original")||(i["original"]=Object.assign({},i)),i.hasOwnProperty("original_value")||(i["original_value"]=i.value),(t||null===t)&&(i.coords=t),s&&(i.page=s),o&&(i.extraction_method=o),i.is_valid=!0,i.is_validated=!0;let r=this.formBuilderModel[e];i.formatted_value=r.formatted_value,i.value=r.value?r.value:r.formatted_value,i.content=r.content,r.hasOwnProperty("api_save")&&r.api_save||(i.value=r.formatted_value),((0,de.z)(i.formatted_value)||(0,de.jw)(i.formatted_value))&&(i.content=i.formatted_value),this.formBuilderModel[this.connectionId]&&this.formBuilderModel[this.connectionId].hasOwnProperty("multi_line")&&!0===this.formBuilderModel[this.connectionId].multi_line?i.multi_line=!0:i.multi_line=!1,this.formBuilderModel[e].is_valid=i.is_valid,this.formBuilderModel[e].is_validated=i.is_validated,this.$emit("checkFieldInvalid",i)}catch(i){logError(i)}},setApiData(e){this.record=e,this.$forceUpdate()},windowResize(){setTimeout((()=>{let e=Be("#image_container");this.imageWidth=e.offsetWidth,this.imageHeight=e.offsetHeight,this.refreshAnnotationView++}),20)},currentPage(){return this.page},prevImage(){let e=this.page-1,t=this.getImagePath(e);this.updateImage(e,t)},nextImage(){let e=this.page+1,t=this.getImagePath(e);this.updateImage(e,t)},getImagePath(e){let t="";for(const[s,o]of Object.entries(this.images)){let s=o;s.pageNumber===e&&(t=s.path)}return t},updateImage(e,t){t&&""!==t&&(this.image=this.baseUrl+"/"+(0,_e.v)(t),this.page=e)},handleImageBaseURL(){this.record.images[0]&&this.record.images[0].path.match(/doc2/g)&&(this.baseUrl=se.VA)},updateApiData(e){e.detail&&(this.record=e.detail)},saveData(){return Me(this,void 0,void 0,(function*(){if(!this.isReadOnly){if(!this.validateData())return!1;try{this.showLoading();const e=yield this.saveDocument(this.docId);if(!1===e.success)return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.showErrorToast(e.message);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.assign_user_error=!1}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}return!0}}))},validateData(){let e=!0;return(0,de.z)(this.record.assigned_to)&&(0,de.z)(this.record.assigned_to_group_id)&&(this.showErrorToast(this.$t("pages.messages.ASSIGN_USER_TO_PROCEED")),this.assign_user_error=!0,e=!1),e},setInReview(){return Me(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.showLoading(),yield this.saveData(),yield this.setDocumnetStatus(qe.aH.in_review),this.$router.push("/dashboard")}catch(e){const t=ne.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},setDocumnetStatus(e){return Me(this,void 0,void 0,(function*(){try{const t=yield ye.M8.set_document_status(this.docId,{status:e});if(!1===t.success)throw{message:t.message};this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(t){const e=ne.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}}))},goToFieldValidation(){return Me(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.showLoading(),yield this.saveData(),yield this.setDocumnetStatus(qe.aH.ready_for_validation),this.$router.push("/field_validation_v1/"+this.docId)}catch(e){const t=ne.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},goToSummery(){return Me(this,void 0,void 0,(function*(){if(this.validateChargesData()){try{if(this.showLoading(),!(yield this.saveData()))return}catch(e){const t=ne.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}this.$router.push("/summary/"+this.docId)}}))},acceptRequest(){if(!this.validateChargesData())return;let e=this.images.length,t=this.getImagePath(e);if(this.updateImage(e,t),this.page===this.images.length){let e="de"===this.locale?"approved_stamp_de":"approved_stamp_en";this.$refs.child_comp.addStampAnnotation(e)}this.record.first_approver=this.record.assigned_to,this.updateRequest("approve")},rejectRequest(){this.second_approval||delete this.record.first_approver,this.updateRequest("reject")},updateRequest(e){return Me(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;if(!this.validateData())return;this.showLoading();const t={request_type:e},s=yield this.approveOrRejectDocument(this.docId,t);if(!1===s.success){const e=this.record.document_approval;if(e&&e.approval_requests&&e.approval_requests.length>0&&"RETURN_TO_DASHBOARD"==s.error_code)return void this.$router.push("/dashboard");throw{message:s.message}}this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.$router.push("/dashboard")}catch(t){const e=ne.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.hideLoading()}}))},addNewLog(e){e&&e.detail&&this.renderDocumentLog()},renderDocumentLog(){return Me(this,void 0,void 0,(function*(){try{yield this.getDocumentLogs()}catch(e){logInfo("something went wrong while loading document logs"),logError(e)}finally{this.hideLoading()}}))},getDocumentLogs(){return Me(this,void 0,void 0,(function*(){let e;this.doc_logs={};let t=new FormData;t.append("action_type","message"),t.append("org_id",(0,be.I)());let s=yield(0,se.L3)();if(e=yield Y.A.post(se.FH.get_document_log+this.docId,t,{headers:{Authorization:s}}),!e.data)throw{message:"no logs from server"};e.data.forEach((e=>{this.doc_logs[e.id.toString()+"_ID"]=e}))}))},downloadFile(){try{let e=se.VA+"/resource/document/"+this.docId+"/"+this.docId+".pdf?"+this.tokenQueryParam;if(!e)return;fetch(e).then((e=>e.blob())).then((e=>{const t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=this.record.filename,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)})).catch((e=>{logError("Error downloading file:",e)}))}catch(e){logError(e)}},routeToListPendingApproval(){this.removeDashboardFilters(),this.$router.push("/dashboard")},renderPendingRecordsCountView(){return Me(this,void 0,void 0,(function*(){try{let e,t="?filter=current-year&skip=0&limit=100&status="+this.filter_status,s=yield(0,se.L3)();if(e=yield Y.A.get((0,be.MV)(se.FH.get_dashboard_data+t),{headers:{Authorization:s}}),!e.data.documents)throw{message:"no pending documents from server"};this.pending_approval_doc_count=e.data.documents.length,this.pending_approval_doc_count<0&&(this.pending_approval_doc_count=0)}catch(e){logInfo("something went wrong while loading document logs"),logError(e)}finally{this.hideLoading()}}))},renderNextPrevLinkBtns(){return Me(this,void 0,void 0,(function*(){try{let e,t=yield(0,se.L3)();if(e=yield Y.A.get((0,be.MV)(se.FH.get_next_document+this.docId+"?doc_type="+this.record.doc_type+"&status="+this.filter_status+"&sort_attr=created_on"),{headers:{Authorization:t}}),!1===e.data.success)throw{message:"cannot get response related to next or prev record"};e.data.has_next&&e.data.next_id&&(this.next_record=e.data.next_id),e.data.has_previous&&e.data.previous_id&&(this.prev_record=e.data.previous_id)}catch(e){logInfo("something went wrong while loading document logs"),logError(e)}finally{this.hideLoading()}}))},checkValidStatus(){(0,de.jw)(this.doc_status)||this.doc_status!==this.filter_status&&this.doc_status!==qe.aH.in_review&&this.doc_status!==qe.aH.approved_pending_second_approval&&(this.error=!0,this.error_message="invalid_status")},routeTo(e){let t="ready-for-approval";this.second_approval&&(t="ready-for-second-approval"),"prev"===e&&this.prev_record&&this.$router.push({path:"/"+t+"/"+this.prev_record,replace:!0}),"next"===e&&this.next_record&&this.$router.push("/"+t+"/"+this.next_record)},updateValue(e,t){"font"==e?this.selectFont=t:"color"==e?this.selectColor=t:"size"==e&&(this.selectFontSize=t)},stampAddClicked(){this.$refs.child_comp.addTemplateAnnotation(this.selectedStamp)},getApprovalInfoObj(e){const t=e.lineFieldValue?e.lineFieldValue:0,s=e.poFieldValue?e.poFieldValue:0;let o=0,i=0;return e.status==qe.qS.approved&&(o=t,i=0),e.status==qe.qS.rejected&&(o=s,i=t-s),{approval_required:!0,approval_status:e.status,approved_or_rejected_by:e.currentUserId,approved_or_rejected_at:e.currentDateTime,approved_amount:o,rejected_amount:i}},handleApprover(e){if(!this.user_settings[qe.ev])return e["first_approver"]=this.fillFirstApprover(),e["assigned_to"]=this.createEmptyField("assigned_to","",this.record.assigned_to),e},makeModel(){return new Promise(((e,t)=>{let s={};if(void 0!==this.record){this.record.fields.forEach(((e,t)=>{s[e.name]=e})),this.handleApprover(s);let e=this.getUpdatedFieldSettings();for(let[t,o]of this.formLayout.entries()){let t=o.hasOwnProperty("field_name")?o.field_name:o.name;e.hasOwnProperty(t)&&(o=Object.assign(o,this.cleanLayoutSettings(e[t]))),this.prepareModel(o,s[t],t)}this.$forceUpdate()}e("done")}))},makeModel_v2(){return new Promise(((e,t)=>{let s={};if(void 0!==this.record){this.record.fields.forEach(((e,t)=>{s[e.name]=e})),this.handleChargesGroupValidation(s),this.handleApprover(s);let e=this.getUpdatedFieldSettings();for(let[t,o]of this.formLayout.entries())for(let i of o.rows){let t=i.hasOwnProperty("field_name")?i.field_name:i.name;e.hasOwnProperty(t)&&(i=Object.assign(i,this.cleanLayoutSettings(e[t]))),this.prepareModel(i,s[t],t)}this.$forceUpdate()}e("done")}))},handleChargesGroupValidation(e){for(let[t,s]of this.formLayout.entries())if(s.name==qe.P.charges){for(let t=0;t<s.rows.length;t+=3){let o=s.rows[t].field_name,i=s.rows[t+1].field_name;if(!e.hasOwnProperty(o)||!e.hasOwnProperty(i))continue;e[i].input_error="invalid-input";const r={status:qe.qS.pending,currentUserId:null,currentDateTime:null,lineFieldValue:Number(e[i].value),poFieldValue:Number(e[o].value)};e[i]["approval_info"]=this.getApprovalInfoObj(r)}break}},prepareModel(e,t,s){t||(t=this.createEmptyField(s,e.input_type));let o=e.input_type?e.input_type:e.fieldType;o&&(e.hasOwnProperty("tabIndex")&&!(0,de.z)(e.tabIndex)||(e.tabIndex=0),this.formBuilderModel[s]={},this.formBuilderConfigModel[s]={},this.formBuilderModel[s]=Object.assign({},t),this.formBuilderConfigModel[s]=Object.assign({},e),t.hasOwnProperty("is_required")&&(this.formBuilderConfigModel[s].is_required=t.is_required),"first_approver"==s&&this.second_approval&&(this.formBuilderConfigModel[s].translation_key="first_approver"))},cleanLayoutSettings(e){return delete e.name,delete e.field,delete e.field_name,delete e.field_type,delete e.title,delete e.translation_key,delete e.is_readonly,e},getFormBuilderLayout(){return Me(this,void 0,void 0,(function*(){let e;this.formLayout=[];try{if(!this.layout_template_id)return;e=yield ye.H7.getDocumentLayoutTemplateById(this.layout_template_id);let t=JSON.parse(e.layout_json);t&&(this.formLayout=t.hasOwnProperty("layout")?t.layout:[],this.formLayout&&(this.model[qe.WE]?yield this.makeModel_v2():yield this.makeModel()))}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(t)}}))},setRowReadOnly(e){e.is_readonly=!0},setRowHidden(e){e.is_hidden=!0,e.visibile=!1},applyPermissions(e){if(!this.field_permissions)return;if(!this.formLayout)return;const t=this.getUserId();if("TextInput"!=e.fieldType)return;if(!this.field_permissions[e.id])return;let s=this.field_permissions[e.id].access;switch(this.isAdmin()&&(s=32),s){case 0:this.setRowHidden(e);break;case 1:this.setRowReadOnly(e);break;case 2:e.is_readonly=!1;break;case 4:if(t!=this.record.assigned_to){this.setRowReadOnly(e);break}e.is_readonly=!1;break;case 8:if(t!=this.record.assigned_to){this.setRowHidden(e);break}e.is_readonly=!1,e.is_hidden=!1;break;case 16:let s="";if(s=this.second_approval?this.formBuilderModel["second_approver"].formatted_value:this.formBuilderModel["first_approver"].formatted_value,t!=s){this.setRowHidden(e);break}e.is_readonly=!1,e.is_hidden=!1;break;case 32:if(!this.isAdmin()){this.setRowHidden(e);break}e.is_readonly=!1,e.is_hidden=!1;break}},getUpdatedFieldSettings(){let e={},t=JSON.parse(JSON.stringify(this.record.layout.groups));return t.forEach(((t,s)=>{t.rows.forEach(((t,s)=>{t.forEach(((t,s)=>{let o=t.field_name;e[o]=t}))}))})),e},updateModel(e){},restoreBeforeLeave(){this.record={},this.error=!1,this.error_message="",this.doc_status="",this.page=1},getReadOnlyStatus(e){return!!e.name.startsWith("tab_panel_tables_")||(!!this.isReadOnly||e.is_readonly)},validateChargesData(){return this.validatePOMathAprrovalSatus()},validatePOMathAprrovalSatus(){let e=!1;if(!this.record.po_multi_matched||0==this.record.po_multi_matched.length)return!0;for(let[t,s]of this.record.po_multi_matched.entries())if(e=s.hasOwnProperty("sub_lines")?this.multiPoToOneLine(s):(s.hasOwnProperty("table_lines"),this.onePoToOneLine(s)),!e){this.showErrorToast(this.$t("pages.messages.VALIDATION_REQUIRED_FOR_TABLE"));break}return e},multiPoToOneLine(e){let t=!1;for(const s of e.sub_lines)if(t=this.onePoToOneLine(s),!t)break;return t},onePoToOneLine(e){let t=!0;const s=this.record.document_approval;if(e.approval_info&&Object.entries(e.approval_info).length>0)for(const[o,i]of Object.entries(e.approval_info))if(i.approval_required&&!i.approval_status){if(s&&s.approval_requests&&s.approval_requests.length>0&&!this.checkForApprovalpermission(o))continue;t=!1;break}if(!e.additional_charges||0==e.additional_charges.length)return t;for(let o of e.additional_charges)if(o.approval_info&&o.approval_info.approval_required&&!o.approval_info.approval_status){const e=this.getChargesNameByCostingElement(o.costing_element);if(s&&s.approval_requests&&s.approval_requests.length>0&&!this.checkForApprovalpermission(e))continue;t=!1}return t},validatePageNumber(){this.page?(this.page>this.images.length&&(this.page=this.images.length),this.pageChanged(this.page)):this.page=1},pageChanged(e){!e||0==e||e>this.lastPageItem||this.updateImage(e,(0,_e.v)(this.record.images[e-1].path))},goToDashboard(){this.$router.push("/dashboard")},setTriggerDocumentLock(e){this.trigger_document_lock=e}},setup(){const e=(0,re.A)();let t=[];const s=(0,Re.cY)();let{locale:o}=(0,De.s9)({useScope:"global"});const i=(0,Re.q3)(),{approveOrRejectDocument:r,getDocumentById:a,getDocAnnotations:l,saveDocument:n,getLayoutTemplateID:d,resetDocStore:c,checkForApprovalpermission:h,getChargesNameByCostingElement:u}=i,{record:p,doc_status:m,error:g,error_message:_,page:v,layout_template_id:f,tablePermissions:y,fieldPermissions:b,document_version:w}=(0,Z.bP)(i),k=(0,Re.kH)(),{getUserId:L}=k,F=(0,Re.Bu)(),{user_settings:A}=(0,Z.bP)(F),C=(0,Re.fX)(),{removeSavedFilters:E,saveFilters:I}=C,P=(0,Re._6)(),{isAdmin:S}=P,{tokenQueryParam:T}=(0,Z.bP)(P);P.getTokenQueryParam();const R=(0,Re.uL)(),{second_approval:q,formBuilderModel:D,formLayout:x,formBuilderConfigModel:M}=(0,Z.bP)(R),B=(0,Re.wt)(),{model:O}=(0,Z.bP)(B),{fetchAttributes:$}=B,V=(0,Re.oI)(),{releaseDocLock:U,acquireDocLock:Q}=V,{doc_lock:z}=(0,Z.bP)(V);return{locale:(0,te.KR)(o),model:O,saveDocument:n,user_settings:A,getDocumentById:a,getDocAnnotations:l,fetchAttributes:$,getLayoutTemplateID:d,getUserId:L,isAdmin:S,savedDashboardFilters:I,removeDashboardFilters:E,approveOrRejectDocument:r,checkForApprovalpermission:h,getChargesNameByCostingElement:u,approve_before_export:qe.Lw,tokenQueryParam:T,doc_status:m,page:v,error:g,error_message:_,record:p,dropdownStore:s,image:"",images:t,baseUrl:se.VA,isReadOnly:!1,usersList:(0,te.KR)([]),tablePermissions:y,fieldPermissions:b,assign_user_error:(0,te.KR)(!1),field_permissions:(0,te.KR)({}),general_permissions:(0,te.KR)({}),doc_logs:(0,te.KR)({}),pending_approval_doc_count:(0,te.KR)(0),next_record:(0,te.KR)(""),prev_record:(0,te.KR)(""),second_approval:q,showNotification(t){e.notify({message:t,color:"primary",position:"top"})},showFontMenu:(0,te.KR)(!0),showStampMenu:(0,te.KR)(!1),selectColor:(0,te.KR)("#000000"),selectFont:(0,te.KR)("Helvetica"),fontlist:["Helvetica","Times New Roman","Arimo","Caladea","Carlito","Cousine","Liberation Serif","Arial"],selectFontSize:(0,te.KR)(20),fontSizes:[],showDoc:(0,te.KR)(!1),selectedStamp:(0,te.KR)(""),screenmode:(0,te.KR)("annotate"),formLayout:x,formBuilderModel:D,layout_template_id:f,formBuilderConfigModel:M,trigger_document_lock:(0,te.KR)(!1),approval_history:qe.Nm,document_version:w,releaseDocLock:U,acquireDocLock:Q,resetDocStore:c,doc_lock:z}}});var $e=s(12807),Ve=s(50492),Ue=s(42980),Qe=s(10327),ze=s(39041),He=s(71746),Ke=s(56384),Ne=s(98072),je=s(97410),We=s(10386),Xe=s(67837),Ge=s(13718),Je=s(82156),Ye=s(23316),Ze=s(18670),et=s(93676),tt=s(44189),st=s(57092),ot=s(36914),it=s(84436),rt=s(53999),at=s(90124),lt=s(25173),nt=s(1444),dt=s(67156),ct=s(42315),ht=s(88672),ut=s(98582),pt=s.n(ut);const mt=(0,$e.A)(Oe,[["render",J],["__scopeId","data-v-00868e3a"]]),gt=mt;pt()(Oe,"components",{QIcon:Ve.A,QTabs:Ue.A,QTab:Qe.A,QTabPanels:ze.A,QTabPanel:He.A,QBtn:Ke.A,QSplitter:Ne.A,QTooltip:je.A,QSeparator:We.A,QInput:Xe.A,QPageSticky:Ge.A,QDialog:Je.A,QCard:Ye.A,QBar:Ze.A,QSpace:et.A,QCardSection:tt.A,QFooter:st.A,QToolbar:ot.A,QMenu:it.A,QList:rt.A,QItem:at.A,QItemSection:lt.A,QSlider:nt.A,QField:dt.A,QTable:ct.A}),pt()(Oe,"directives",{ClosePopup:ht.A})}}]);