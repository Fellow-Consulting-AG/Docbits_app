"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[7254],{97254:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Mt});var s=a(59835);const l={class:"container full-width full-height reports",style:{"padding-top":"66px"}};function o(e,t,a,o,i,r){const d=(0,s.up)("SubHeader"),n=(0,s.up)("Boards");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(d,{name:"report",label:e.$t("report_title")},null,8,["label"]),(0,s._)("div",l,[(0,s.Wm)(n)])],64)}var i=a(86970);const r={key:0,class:"full-width sub-header q-header q-layout__section--marginal fixed-top",style:{top:"auto !important","z-index":"4000"}},d={class:"row q-toolbar row no-wrap items-center toolbar full-width toolbar-items",style:{padding:"10px",background:"#2388AE"}},n={class:"col-4 left-side q-mr-auto",style:{"margin-left":"9px",padding:"4px 18px"}},c={key:0,class:""};function _(e,t,a,l,o,_){const h=(0,s.up)("q-btn"),u=(0,s.up)("SubscriptionAlert");return(0,s.wg)(),(0,s.iD)(s.HY,null,[""!==e.name?((0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",d,[(0,s._)("span",n,(0,i.zw)(e.label),1),(0,s.WI)(e.$slots,"default",{},void 0,!0),e.display_help_link?((0,s.wg)(),(0,s.iD)("span",c,[(0,s.Wm)(h,{flat:"",class:"helpbtn",color:"white",icon:"help",onClick:t[0]||(t[0]=t=>e.goHelp()),target:"_blank"})])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),e.show_expiry_alert?((0,s.wg)(),(0,s.j4)(u,{key:1})):(0,s.kq)("",!0)],64)}var h=a(77997),u=a(12462);const p=(0,s.aZ)({components:{SubscriptionAlert:u.Z},props:{name:{type:String,default:""},label:{type:String,default:""},show_expiry_alert:{type:Boolean,default:!1},display_help_link:{type:Boolean,default:!0}},mounted:function(){this.initView()},methods:{initView(){},goHelp(){(0,h.Rg)(this.name)&&window.open((0,h.Rg)(this.name))}}});var g=a(7683),w=a(16602),m=a(20249),v=a(51663),y=a(68879),f=a(69984),x=a.n(f);const b=(0,g.Z)(p,[["render",_],["__scopeId","data-v-dd2289a8"]]),k=b;x()(p,"components",{QHeader:w.Z,QLayout:m.Z,QToolbar:v.Z,QBtn:y.Z});var D=a(61957);const q=e=>((0,s.dD)("data-v-2bc41422"),e=e(),(0,s.Cn)(),e),z={class:"q-pa-md row grey-heading items-stretch justify-start q-gutter-sm report-text-color text-center"},W=(0,s.Uk)("Select Date-Range"),H={class:"row items-center justify-end q-gutter-sm"},$={class:"text-center"},S={class:"row"},C={class:"text-weight-bolder"},Z={class:"text-center"},R={class:"row"},I={class:"text-weight-bolder"},j={class:"text-center"},Y={class:"q-pl-md q-pt-md"},T={class:"heading text-h6"},A={class:"text-center"},U=q((()=>(0,s._)("div",{id:"chart-container"},[(0,s._)("div",{id:"chart"})],-1))),Q={key:0},O={class:"no-data-message q-mx-lg q-my-sm"},B={class:"q-pa-md row items-start q-gutter-sm grey-heading"},P={class:"row headliner"},E={class:"col-9"},V={class:"col-3 text-right"},L={class:"row"},K={class:"col-9"},M={class:"col-9"},N=["onClick"],F={class:"col-3 text-right"},X={key:0},J={key:0,class:"row"},G={class:"col-9"},ee={class:"col-3 text-right"},te={class:"row headliner"},ae={class:"col-9"},se={class:"col-3 text-right"},le={class:"row"},oe={class:"col-9"},ie=["onClick"],re={class:"col-3 text-right"},de={key:0},ne={key:0,class:"row"},ce=q((()=>(0,s._)("div",{class:"col-1"},null,-1))),_e={class:"col-8"},he={class:"col-3 text-right"},ue={class:"row headliner"},pe={class:"col-4"},ge={class:"col-5"},we={class:"col-3 text-right"},me=q((()=>(0,s._)("div",{class:"col-1"},null,-1))),ve={class:"row"},ye={class:"col-4"},fe={class:"col-8"},xe={key:0,class:"row"},be={class:"col-7"},ke={class:"col-5 text-right"},De=q((()=>(0,s._)("div",{class:"col-2"},null,-1))),qe=q((()=>(0,s._)("hr",null,null,-1))),ze={key:0,style:{"margin-left":"10px"}},We={class:"row headliner"},He={class:"col-3"},$e={class:"col-5"},Se={class:"col-4 text-right"},Ce={key:0,class:"row"},Ze={class:"col-3"},Re={class:"col-5",style:{"text-transform":"capitalize"}},Ie={class:"col-4 text-right"},je={class:"row"},Ye=q((()=>(0,s._)("div",{class:"col-3"},null,-1))),Te={class:"col-5"},Ae={class:"col-4 text-right"},Ue=q((()=>(0,s._)("hr",null,null,-1))),Qe={key:1},Oe={class:"no-data-message"},Be={style:{"margin-left":"10px"}},Pe={class:"row headliner"},Ee={class:"col-4"},Ve={class:"col-2"},Le={class:"col-2 text-right"},Ke={key:0,class:"col-2 text-right"},Me={key:1,class:"col-2 text-right"},Ne={class:"row"},Fe=["onClick"],Xe={class:"col-2"},Je={class:"col-2 text-right"},Ge={key:0,class:"col-2 text-right"},et={key:1,class:"col-2 text-right"},tt={key:0},at={class:"row"},st=q((()=>(0,s._)("div",{class:"col-4"},null,-1))),lt={class:"col-2"},ot={class:"col-2 text-right"},it={key:0,class:"col-2 text-right"},rt={key:1,class:"col-2 text-right"},dt={class:"row headliner"},nt={class:"col-5"},ct={class:"col-7"},_t={class:"no-data-message"},ht=q((()=>(0,s._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1)));function ut(e,t,a,l,o,r){const d=(0,s.up)("q-tooltip"),n=(0,s.up)("f-btn"),c=(0,s.up)("q-date"),_=(0,s.up)("q-popup-proxy"),h=(0,s.up)("q-icon"),u=(0,s.up)("q-select"),p=(0,s.up)("q-card-section"),g=(0,s.up)("q-card"),w=(0,s.up)("q-separator"),m=(0,s.up)("q-expansion-item"),v=(0,s.up)("q-inner-loading"),y=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",z,[(0,s.Wm)(u,{outlined:"",dense:"",modelValue:e.selected_date_range,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.selected_date_range=t),e.dateRangeOptionSelected],options:e.date_range_options,label:e.$t("time_unit"),style:{width:"30%"},"emit-value":"","map-options":""},{selected:(0,s.w5)((()=>["custom"===e.selected_date_range?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,i.zw)(e.board_date),1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,i.zw)(e.board_date),1)],64))])),append:(0,s.w5)((()=>[(0,s.Wm)(h,{name:"event",class:"cursor-pointer",onClick:t[2]||(t[2]=(0,D.iM)((()=>{}),["stop"]))},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[W])),_:1}),(0,s.Wm)(_,{cover:"",modelValue:e.show_calender,"onUpdate:modelValue":t[1]||(t[1]=t=>e.show_calender=t),"transition-show":"scale","transition-hide":"scale",ref:"qDateProxy"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{modelValue:e.custom_date_range,"onUpdate:modelValue":t[0]||(t[0]=t=>e.custom_date_range=t),minimal:"",range:""},{default:(0,s.w5)((()=>[(0,s._)("div",H,[(0,s.wy)((0,s.Wm)(n,{label:e.$t("pages.select_app.close"),appearance:"negative-tertiary"},null,8,["label"]),[[y]]),(0,s.wy)((0,s.Wm)(n,{label:"Ok",appearance:"tertiary",onClick:e.dateRangeCalenderSelected},null,8,["onClick"]),[[y]])])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue","options","onUpdate:modelValue","label"]),(0,s.Wm)(g,{flat:"",bordered:"",class:"board-card-stats",style:{"padding-top":"0px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s._)("div",$,(0,i.zw)(e.$t("pages.report.number_of_new_documents")),1)])),_:1}),(0,s._)("div",S,[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.$t("pages.report.new_documents")),1)])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",C,(0,i.zw)(e.document_stats.documents),1)])),_:1})])])),_:1}),(0,s.Wm)(g,{flat:"",bordered:"",class:"board-card-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s._)("div",Z,(0,i.zw)(e.$t("pages.report.average_time_spent")),1)])),_:1}),(0,s._)("div",R,[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.$t("pages.report.average_system_time")),1)])),_:1}),(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",I,(0,i.zw)(e.document_stats.average_time_spent),1)])),_:1})])])),_:1}),(0,s.Wm)(n,{onClick:e.downloadReport,square:"",icon:"download"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s._)("div",j,(0,i.zw)(e.$t("download_report_as_xlsx")),1)])),_:1})])),_:1},8,["onClick"])]),(0,s.Wm)(w),(0,s._)("div",Y,[(0,s._)("div",T,[(0,s.Uk)((0,i.zw)(e.$t("changed_fields"))+" ",1),(0,s.Wm)(h,{color:"primary",name:"help",size:"xs",style:{"margin-left":"8px","margin-bottom":"3px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s._)("div",A,(0,i.zw)(e.$t("pages.report.manual_changed_fields")),1)])),_:1})])),_:1})])]),U,0==this.chartData.length?((0,s.wg)(),(0,s.iD)("div",Q,[(0,s._)("div",O,(0,i.zw)(e.$t("pages.report.no_data_entries_timeframe")),1)])):(0,s.kq)("",!0),(0,s.Wm)(w),(0,s._)("div",B,[(0,s.Wm)(g,{flat:"",bordered:"",class:"col-4",style:{width:"30%","min-height":"70px","max-height":"400px","overflow-y":"auto"}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{"header-class":"text-weight-bold text-h6 q-pa-md","switch-toggle-side":"","header-style":"min-height: 70px","expand-icon":"add","expanded-icon":"remove",label:e.$t("pages.report.total_documents_per_type")},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",P,[(0,s._)("div",E,(0,i.zw)(e.$t("doc_type")),1),(0,s._)("div",V,(0,i.zw)(e.$t("data_amount")),1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.document_stats.doc_types,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s._)("div",L,[(0,s._)("div",K,[(0,s._)("div",M,[(0,s._)("div",{onClick:t=>e.flipShowParts(a.toString(),this.showSubDoctypesTotal)},[e.showSubDoctypesTotal[a]&&e.document_stats.doc_types[a].length>1?((0,s.wg)(),(0,s.j4)(h,{key:0,name:"remove",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"16px"}})):e.document_stats.doc_types[a].length>1?((0,s.wg)(),(0,s.j4)(h,{key:1,name:"add",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"16px"}})):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,i.zw)(a),1)],8,N)])]),(0,s._)("div",F,(0,i.zw)(t["total"]),1)]),e.showSubDoctypesTotal[a]?((0,s.wg)(),(0,s.iD)("div",X,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.document_stats.doc_types.key,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},["total"!=t?((0,s.wg)(),(0,s.iD)("div",J,[(0,s._)("div",G,(0,i.zw)(t),1),(0,s._)("div",ee,(0,i.zw)(e),1)])):(0,s.kq)("",!0)])))),128))])):(0,s.kq)("",!0)])))),128))])),_:1})])),_:1},8,["label"])])),_:1}),(0,s.Wm)(g,{flat:"",bordered:"",class:"col-4",style:{width:"36.35%","min-height":"70px","max-height":"400px","overflow-y":"auto"}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{"header-class":"text-weight-bold text-h6 q-pa-md","switch-toggle-side":"","header-style":"min-height: 70px","expand-icon":"add","expanded-icon":"remove",label:e.$t("pages.report.daily_average_per_doctype")},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",te,[(0,s._)("div",ae,(0,i.zw)(e.$t("doc_type")),1),(0,s._)("div",se,(0,i.zw)(e.$t("data_amount")),1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.document_stats.average_documents,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s._)("div",le,[(0,s._)("div",oe,[(0,s._)("div",{onClick:t=>e.flipShowParts(a.toString(),this.showSubDoctypesAverage)},[e.showSubDoctypesAverage[a]&&e.document_stats.average_documents[a].length>1?((0,s.wg)(),(0,s.j4)(h,{key:0,name:"remove",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"12px"}})):e.document_stats.average_documents[a].length>1?((0,s.wg)(),(0,s.j4)(h,{key:1,name:"add",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"12px"}})):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,i.zw)(e.$t(a)),1)],8,ie)]),(0,s._)("div",re,(0,i.zw)(t["total"]),1)]),e.showSubDoctypesAverage[a]?((0,s.wg)(),(0,s.iD)("div",de,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},["total"!=t?((0,s.wg)(),(0,s.iD)("div",ne,[ce,(0,s._)("div",_e,(0,i.zw)(t),1),(0,s._)("div",he,(0,i.zw)(e),1)])):(0,s.kq)("",!0)])))),128))])):(0,s.kq)("",!0)])))),128))])),_:1})])),_:1},8,["label"])])),_:1}),(0,s.Wm)(g,{flat:"",bordered:"",class:"col-4",style:{width:"30%","min-height":"70px","max-height":"400px","overflow-y":"auto"}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{"header-class":"text-weight-bold text-h6 q-pa-md","switch-toggle-side":"","header-style":"min-height: 70px","expand-icon":"add","expanded-icon":"remove",label:e.$t("pages.report.status_statistics")},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",ue,[(0,s._)("div",pe,(0,i.zw)(e.$t("doc_type")),1),(0,s._)("div",ge,(0,i.zw)(e.$t("status")),1),(0,s._)("div",we,(0,i.zw)(e.$t("data_amount")),1),me]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.document_stats.status,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a,style:{"margin-top":"5px"}},[(0,s._)("div",ve,[(0,s._)("div",ye,[(0,s._)("div",null,(0,i.zw)(e.$t(a)),1)]),(0,s._)("div",fe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.status,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},["name"!=a?((0,s.wg)(),(0,s.iD)("div",xe,[(0,s._)("div",be,(0,i.zw)(e.$t(a)),1),(0,s._)("div",ke,(0,i.zw)(t),1),De])):(0,s.kq)("",!0)])))),128))])]),qe])))),128))])),_:1})])),_:1},8,["label"])])),_:1}),"get_average_org_user_validation_time"in e.report_overall_stats?((0,s.wg)(),(0,s.j4)(g,{key:0,flat:"",bordered:"",class:"col-4",style:{width:"30%","min-height":"70px","max-height":"400px","overflow-y":"auto"}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{"header-class":"text-weight-bold text-h6 q-pa-md","switch-toggle-side":"","header-style":"min-height: 70px","expand-icon":"add","expanded-icon":"remove",label:e.$t("pages.report.average_user_time_per_org")},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.report_overall_stats.get_average_org_user_validation_time,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{"header-class":"dropdown-heading","switch-toggle-side":"",dense:"","expand-icon":"add","expanded-icon":"remove",label:a},{default:(0,s.w5)((()=>[t.length>0?((0,s.wg)(),(0,s.iD)("div",ze,[(0,s._)("div",We,[(0,s._)("div",He,(0,i.zw)(e.$t("pages.user.user")),1),(0,s._)("div",$e,(0,i.zw)(e.$t("doc2light.table.type")),1),(0,s._)("div",Se,(0,i.zw)(e.$t("pages.report.time")),1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[0!=t["total"]?((0,s.wg)(),(0,s.iD)("div",Ce,[(0,s._)("div",Ze,[e.showOrgUserTimeAverage[a.toString()]?((0,s.wg)(),(0,s.j4)(h,{key:0,name:"remove",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"16px"}})):((0,s.wg)(),(0,s.j4)(h,{key:1,name:"add",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"16px"}})),(0,s.Uk)(" "+(0,i.zw)(a),1)]),(0,s._)("div",Re,(0,i.zw)(e.$t("pages.receipt.total")),1),(0,s._)("div",Ie,(0,i.zw)(t["total"]),1)])):(0,s.kq)("",!0),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("div",je,[Ye,(0,s._)("div",Te,(0,i.zw)(t["name"]),1),(0,s._)("div",Ae,(0,i.zw)(t["time"])+" "+(0,i.zw)(e.$t("sec")),1)])])))),128))])])))),128)),Ue])):((0,s.wg)(),(0,s.iD)("div",Qe,[(0,s._)("div",Oe,(0,i.zw)(e.$t("pages.report.no_data_entries_timeframe")),1)]))])),_:2},1032,["label"])])),_:2},1024)])))),128))])),_:1})])),_:1},8,["label"])])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(g,{flat:"",bordered:"",class:"col-8",style:{width:"36.35%","min-height":"70px","max-height":"400px","overflow-y":"auto"}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{"header-class":"text-weight-bold text-h6 q-pa-md","switch-toggle-side":"","header-style":"min-height: 70px","expand-icon":"add","expanded-icon":"remove",label:e.$t("pages.report.export_statistic")},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.document_stats.exports,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(m,{"header-class":"dropdown-heading","switch-toggle-side":"",dense:"","expand-icon":"add","expanded-icon":"remove",label:a},{default:(0,s.w5)((()=>[(0,s._)("div",Be,[(0,s._)("div",Pe,[(0,s._)("div",Ee,(0,i.zw)(e.$t("pages.user.user")),1),(0,s._)("div",Ve,(0,i.zw)(e.$t("doc2light.table.type")),1),(0,s._)("div",Le,(0,i.zw)(e.$t("exported")),1),e.showrejectstatus?((0,s.wg)(),(0,s.iD)("div",Ke,(0,i.zw)(e.$t("rejected")),1)):(0,s.kq)("",!0),e.showsonderwunschstatus?((0,s.wg)(),(0,s.iD)("div",Me,(0,i.zw)(e.$t("sonderwunsch_export")),1)):(0,s.kq)("",!0)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("div",Ne,[(0,s._)("div",{class:"col-4",onClick:a=>e.flipShowParts(t.username,this.showExportUser)},[e.showExportUser[t.username]&&e.doctypes in t?((0,s.wg)(),(0,s.j4)(h,{key:0,name:"remove",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"12px"}})):e.doctypes in t?((0,s.wg)(),(0,s.j4)(h,{key:1,name:"add",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"12px"}})):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,i.zw)(t.username),1)],8,Fe),(0,s._)("div",Xe,(0,i.zw)(e.$t("total")),1),(0,s._)("div",Je,(0,i.zw)(t.total.export_amount),1),e.showRejected(t.total.reject_amount)?((0,s.wg)(),(0,s.iD)("div",Ge,(0,i.zw)(t.total.reject_amount),1)):(0,s.kq)("",!0),e.showSonderwunsch(t.total.sonderwunsch_amount)?((0,s.wg)(),(0,s.iD)("div",et,(0,i.zw)(t.total.sonderwunsch_amount),1)):(0,s.kq)("",!0)]),e.showExportUser[t.username]?((0,s.wg)(),(0,s.iD)("div",tt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.doctypes,(a=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s._)("div",at,[st,(0,s._)("div",lt,(0,i.zw)(a.name),1),(0,s._)("div",ot,(0,i.zw)(a.total.export_amount),1),e.showRejected(t.total.reject_amount)?((0,s.wg)(),(0,s.iD)("div",it,(0,i.zw)(a.total.reject_amount),1)):(0,s.kq)("",!0),e.showSonderwunsch(t.total.sonderwunsch_amount)?((0,s.wg)(),(0,s.iD)("div",rt,(0,i.zw)(a.total.sonderwunsch_amount),1)):(0,s.kq)("",!0)])])))),128))])):(0,s.kq)("",!0)])))),128))])])),_:2},1032,["label"])])),_:2},1024)])))),128))])),_:1})])),_:1},8,["label"])])),_:1}),"average_suborg_validation_time"in e.report_overall_stats?((0,s.wg)(),(0,s.j4)(g,{key:1,flat:"",bordered:"",class:"col-4",style:{width:"30%","min-height":"70px","max-height":"400px","overflow-y":"auto"}},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{"header-class":"text-weight-bold text-h6 q-pa-md","switch-toggle-side":"","header-style":"min-height: 70px","expand-icon":"add","expanded-icon":"remove",label:e.$t("pages.report.average_time_per_sub_org")},{default:(0,s.w5)((()=>[e.report_overall_stats.average_suborg_validation_time.length>0?((0,s.wg)(),(0,s.j4)(p,{key:0},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.report_overall_stats.average_suborg_validation_time,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s._)("div",dt,[(0,s._)("div",nt,(0,i.zw)(e.$t(a)),1),(0,s._)("div",ct,(0,i.zw)(t),1)])])))),128))])),_:1})):((0,s.wg)(),(0,s.j4)(p,{key:1},{default:(0,s.w5)((()=>[(0,s._)("div",_t,(0,i.zw)(e.$t("pages.report.no_data_entries_timeframe")),1)])),_:1}))])),_:1},8,["label"])])),_:1})):(0,s.kq)("",!0)]),(0,s.Wm)(v,{showing:e.loading},{default:(0,s.w5)((()=>[ht])),_:1},8,["showing"])],64)}var pt=a(60499),gt=a(7363),wt=a(46624),mt=a(54170),vt=a(19302),yt=a(49341),ft=a(2e4),xt=a.n(ft),bt=a(49990),kt=a(96427),Dt=a(60937),qt=function(e,t,a,s){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function i(e){try{d(s.next(e))}catch(t){o(t)}}function r(e){try{d(s["throw"](e))}catch(t){o(t)}}function d(e){e.done?a(e.value):l(e.value).then(i,r)}d((s=s.apply(e,t||[])).next())}))};const zt=(0,s.aZ)({components:{},mixins:[bt.Z,Dt.Z],beforeRouteLeave:function(e,t,a){a()},watch:{selected_date_range:{handler:function(e,t){this.selected_date_range_prev=t}}},data(){return{saved_requests:(0,pt.iH)([]),fullWidthImageIndex:null,showBigImage:!1,bigImage:"",chartData:(0,pt.iH)([]),chart:(0,pt.iH)(null),showParts:(0,pt.iH)({}),showSubDoctypesAverage:(0,pt.iH)({}),showSubDoctypesTotal:(0,pt.iH)({}),showOrgUserTimeAverage:(0,pt.iH)({}),showSubDoctypesStatus:(0,pt.iH)({}),showOrgTimeAverage:(0,pt.iH)({}),showExportUser:(0,pt.iH)({}),showExportOrg:(0,pt.iH)({}),showrejectstatus:!1,showsonderwunschstatus:!1}},computed:{board_date:function(){return"custom_reselect"===this.selected_date_range?this.custom_date_range.from+" - "+this.custom_date_range.to:"Last "+this.selected_date_range+" days"},selected_doc_type_label:function(){const e=this.getSelectedDocType();return 0===(0,kt.v7)(e)?"":String(e.label)},average_time_spent:function(){let e=0;return"All"===this.selected_doc_type&&this.hasBoardInfo("average_time_spent")&&(e=this.report_overall_stats.average_time_spent),"All"!==this.selected_doc_type&&this.hasDocBoardInfo("average_time_spent")&&(e=this.report_document.average_time_spent),Math.round(e)}},mounted(){this.initView();const e=(0,vt.Z)();(0,s.YP)((()=>e.dark.isActive),(e=>{this.clearChart(),this.renderChart()}))},methods:{initView(){this.setDate(),this.getReport()},prepareChartData(){let e=[];return this.changed_field_stats.forEach((t=>{if(1==t.value||isNaN(t.value))return;const a={x:this.getLabelForFormBuilder(t,"form_builder.",!0),y:t.value};e.push(a)})),e.length>15&&(e=e.slice(0,15)),this.chartData=e,e},clearChart(){if(this.chart){var e=document.getElementById("chart");e&&e.remove();var t=document.getElementById("chart-container");t&&(t.innerHTML='<div id="chart"></div>')}},renderChart(){const e=this.prepareChartData();if(0!=this.chartData.length){var t={chart:{type:"bar",height:"400"},theme:{mode:1==this.$q.dark.isActive?"dark":"light",palette:"palette1"},plotOptions:{bar:{horizontal:!0}},series:[{data:e}]};this.chart=new(xt())(document.querySelector("#chart"),t),this.chart.render()}},setDate(){const e=Number(this.selected_date_range),t=new Date,a=new Date,s=t.setDate(t.getDate()-e),l=mt.ZP.formatDate(s,"YYYY/MM/DD"),o=mt.ZP.formatDate(a,"YYYY/MM/DD");this.custom_date_range={from:l,to:o},this.dropdown_store.custom_date_range=this.custom_date_range},getReport(){return qt(this,void 0,void 0,(function*(){try{this.loading=!0,this.dropdown_store.custom_date_range=this.custom_date_range;const e=Object.assign({start_date:this.custom_date_range.from.replace(/\//g,"-"),end_date:this.custom_date_range.to.replace(/\//g,"-")},this.getDocTypeParams()),t=yield yt.pq.getReport(e);if(!1===t.success)throw t;this.report_overall_stats=t.overall_stats,this.document_stats=t.document_stats,t.hasOwnProperty("document")&&(this.report_document=t.document),this.setChangedFieldStats()}catch(e){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.loading=!1}}))},downloadReport(){return qt(this,void 0,void 0,(function*(){try{this.loading=!0,this.dropdown_store.custom_date_range=this.custom_date_range;const e=Object.assign({start_date:this.custom_date_range.from.replace(/\//g,"-"),end_date:this.custom_date_range.to.replace(/\//g,"-")},this.getDocTypeParams()),t=yield yt.pq.getReportAsXLSX(e),a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download","Report.xlsx"),document.body.appendChild(s),s.click(),s.remove()}catch(e){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.loading=!1}}))},getImageClass(e){return{fullWidthImage:this.fullWidthImageIndex===e}},onImageClick(e){this.fullWidthImageIndex===e?this.fullWidthImageIndex=null:this.fullWidthImageIndex=e},flipShowParts(e,t){t.hasOwnProperty(e)?t[e]=!t[e]:t[e]=!0},showTheBigImage(e){this.showBigImage=!0,this.bigImage=e.image},getDocTypeParams(){const e={};if("All"===this.selected_doc_type)return e;const t=this.getSelectedDocType();return 0===(0,kt.v7)(t)||(e["doc_type"]=this.selected_doc_type,!1===t.is_parent&&(e["is_sub_doc_type"]="true")),e},getSelectedDocType(){const e=this.active_doc_types_sub_types_list.filter((e=>e.value.indexOf(this.selected_doc_type)>-1));return e.length>0?e[0]:{}},setChangedFieldStats(){let e=this.report_overall_stats.field_stats;"All"!==this.selected_doc_type&&(e=this.report_document.field_stats),this.changed_field_stats=[];for(const[t,a]of Object.entries(e)){const e=a,s=e.total-e.correct;s<=0||this.changed_field_stats.push({field_name:t,value:e.total-e.correct})}this.changed_field_stats.sort(((e,t)=>e.value<t.value?1:-1)),this.renderChart()},hasBoardInfo(e){return!!this.report_overall_stats.hasOwnProperty(e)},hasDocBoardInfo(e){return 0!==(0,kt.v7)(this.report_document)&&!!this.report_document.hasOwnProperty(e)},docTypeSelected(){this.selected_doc_type||(this.selected_doc_type="All"),this.getReport()},dateRangeCalenderSelected(){this.custom_range_selected=!0,this.selected_date_range="custom_reselect",this.clearChart(),this.getReport()},dateRangeOptionSelected(){if("custom"===this.selected_date_range)return this.selected_date_range=this.selected_date_range_prev,void(this.show_calender=!0);this.setDate(),this.clearChart(),this.getReport()},showMoreBtnClicked(){setTimeout((()=>{this.show_more_fields?this.$refs["more_fields"].hide():this.$refs["more_fields"].show()}),0)},showRejected(e){return 0!=e&&(this.showrejectstatus=!0,!0)},showSonderwunsch(e){return 0!=e&&(this.showsonderwunschstatus=!0,!0)}},setup(){const e=(0,wt.At)(),{active_doc_types_sub_types_list:t}=(0,gt.Jk)(e);return{dropdown_store:e,active_doc_types_sub_types_list:t,selected_doc_type:(0,pt.iH)("All"),selected_date_range:(0,pt.iH)("30"),selected_date_range_prev:(0,pt.iH)("30"),custom_date_range:(0,pt.iH)({from:"",to:""}),report_overall_stats:(0,pt.iH)({}),document_stats:(0,pt.iH)({}),report_document:(0,pt.iH)({}),show_calender:(0,pt.iH)(!1),custom_range_selected:(0,pt.iH)(!1),loading:(0,pt.iH)(!1),changed_field_stats:(0,pt.iH)([]),show_more_fields:(0,pt.iH)(!1),date_range_options:[{label:"Last 7 days",value:"7"},{label:"Last 30 days",value:"30"},{label:"Select Date-Range",value:"custom"}]}}});var Wt=a(32259),Ht=a(22857),$t=a(46858),St=a(52765),Ct=a(14351),Zt=a(44458),Rt=a(63190),It=a(50926),jt=a(50651),Yt=a(13119),Tt=a(60854),At=a(32074),Ut=a(11821),Qt=a(18149),Ot=a(47128),Bt=a(62146);const Pt=(0,g.Z)(zt,[["render",ut],["__scopeId","data-v-2bc41422"]]),Et=Pt;x()(zt,"components",{QSelect:Wt.Z,QIcon:Ht.Z,QTooltip:$t.Z,QPopupProxy:St.Z,QDate:Ct.Z,QCard:Zt.Z,QCardSection:Rt.Z,QSeparator:It.Z,QExpansionItem:jt.Z,QInput:Yt.Z,QBtn:y.Z,QInnerLoading:Tt.Z,QDialog:At.Z,QCardActions:Ut.Z,QField:Qt.Z,QBanner:Ot.Z}),x()(zt,"directives",{ClosePopup:Bt.Z});const Vt=(0,s.aZ)({el:"#app",components:{SubHeader:k,Boards:Et},setup(){return{}},data(){return{showChat:!1}},mounted(){this.initView()},methods:{initView(){}}});var Lt=a(10906);const Kt=(0,g.Z)(Vt,[["render",o]]),Mt=Kt;x()(Vt,"components",{QBtn:y.Z,QDrawer:Lt.Z})}}]);