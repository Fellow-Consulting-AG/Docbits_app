"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[1275],{91275:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Eo});var o=i(59835),s=i(86970),n=i(61957);const a=e=>((0,o.dD)("data-v-d0331786"),e=e(),(0,o.Cn)(),e),l={class:"row highlighted-back q-pl-md q-pr-lg field_validation"},r={class:"col-5"},d={class:"secondary-c-text text-h6"},c=a((()=>(0,o._)("img",{width:"24",src:"back_new.svg"},null,-1))),h={class:"primary-dashboard"},u={class:"q-pt-sm"},m={class:"filename-text"},g={key:1,class:"row q-pl-md q-pr-md q-pb-xs"},_={class:"full-width q-pa-sm scroll-area-height-medi",id:"right_section",ref:"right_section"},p={class:"q-pr-sm"},w={class:"full-width medi-fields-content-height"},f={class:"scroll-area-height-medi"},v={id:"image_container"},y={class:"full-width",id:"image_scrolle",style:{position:"relative"}},b=a((()=>(0,o._)("div",{class:"img-magnifier-glass"},null,-1))),k={id:"validate-container",class:""},x=["src","width"],C=["width","height","viewBox"],E={id:"marquee",ref:"marquee",x:"450",y:"420",width:"150",height:"150"},D={id:"boxes",ref:"boxes"},L={key:0,class:"full-width",id:"afterSlot"},T={key:0,class:"row q-pl-sm q-pr-sm"},S={class:"col-sm-12 col-md-12 col-lg-12 secondary-c-text text-h6 q-pb-md text-weight-bold"},W={class:"full-width"},I={class:"column absolute-right q-ml-auto justify-end right-action-bar"},A={class:"action-bar-items q-pl-md"},O=(0,o.Uk)("Go to Layout Template"),F=(0,o.Uk)("Debug Field Validations. Results will be displayed in the console after clicking it"),R=(0,o.Uk)("Zoom Out"),V=["src"],q=["src"],M={class:"border-bottom"},z={class:"q-mt-sm hidden back-white",id:"left_section",ref:"left_section"},Z={key:0,class:"scroll-area-height-medi max-width-240"},P={class:"row justify-center q-pl-md q-pr-md q-pt-md"},H={class:"secondary-c-text text-h6 text-weight-bold"},$={class:"row"},B={class:"page-numbers center-inner"},U={class:"full-width pages-left-scroll-area-height scrolle-y pages-section-padding row justify-center"},N=["data-id","src"],Q={key:1},K={key:2,class:"row bg-grey-2 q-pl-md q-pr-md q-pb-md"},j=a((()=>(0,o._)("div",{class:"text-h6 text-bold"},"Need help deciding?",-1))),G=(0,o.Uk)(" Don't think too much and just contact us to learn more about the application! "),Y={class:"row"},J={class:""},X={class:"text-weight-bold"},ee={class:"row",style:{"border-radius":"5px","background-color":"#eeeeee"}},te={class:"full-width"},ie=a((()=>(0,o._)("div",{class:"full-width"}," MONITOR 1 ",-1))),oe={class:"full-width"},se=a((()=>(0,o._)("div",{class:"full-width"}," MONITOR 2 ",-1))),ne=a((()=>(0,o._)("br",null,null,-1))),ae=a((()=>(0,o._)("br",null,null,-1)));function le(e,t,i,a,le,re){const de=(0,o.up)("DocumentLock"),ce=(0,o.up)("MessageBanner"),he=(0,o.up)("q-icon"),ue=(0,o.up)("q-btn"),me=(0,o.up)("timeSpentTimer"),ge=((0,o.up)("AISeverityLevel"),(0,o.up)("FieldsView")),_e=(0,o.up)("q-resize-observer"),pe=(0,o.up)("AnnotationView"),we=(0,o.up)("q-splitter"),fe=(0,o.up)("q-tooltip"),ve=(0,o.up)("keyboardShortcutInfoBtn"),ye=(0,o.up)("autoTesting"),be=(0,o.up)("import-multi-invoice"),ke=(0,o.up)("autoAccountingBtn"),xe=(0,o.up)("supportForm"),Ce=(0,o.up)("ErrorDocumentView"),Ee=(0,o.up)("Loader"),De=(0,o.up)("q-space"),Le=(0,o.up)("q-card-section"),Te=(0,o.up)("q-card"),Se=(0,o.up)("q-dialog"),We=(0,o.up)("SplitDocument"),Ie=(0,o.up)("q-toolbar-title"),Ae=(0,o.up)("q-toolbar"),Oe=(0,o.up)("q-card-actions"),Fe=(0,o.up)("q-input"),Re=(0,o.up)("q-color"),Ve=(0,o.up)("q-popup-proxy"),qe=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(de,{document_version:e.document_version,trigger_document_lock:e.trigger_document_lock,doc_id:e.docId},null,8,["document_version","trigger_document_lock","doc_id"]),e.isReadOnly?((0,o.wg)(),(0,o.j4)(ce,{key:0,message:e.error_message,messageCategoryClass:"error-banner"},null,8,["message"])):(0,o.kq)("",!0),(0,o._)("div",l,[(0,o._)("div",r,[(0,o._)("div",d,[e.doc2AppMode?((0,o.wg)(),(0,o.j4)(ue,{key:0,flat:"",rounded:"","data-cy":"dashboard",color:"primary",onClick:e.goToDashboard},{default:(0,o.w5)((()=>[(0,o.Wm)(he,{class:"text-red-13",size:"sm"},{default:(0,o.w5)((()=>[c])),_:1}),(0,o._)("label",h,(0,s.zw)(e.$t("pages.screen2a.dashboard")),1)])),_:1},8,["onClick"])):(0,o.kq)("",!0)])]),(0,o._)("div",u,[(0,o._)("span",m,(0,s.zw)(e.record.filename),1),(0,o.Wm)(me),(0,o.kq)("",!0)])]),e.doc_fetch_error?((0,o.wg)(),(0,o.iD)("div",K,[(0,o.Wm)(Ce)])):((0,o.wg)(),(0,o.iD)("div",g,[(0,o._)("div",_,[(0,o.Wm)(we,{limits:[30,80],modelValue:e.imageFieldSplitter,"onUpdate:modelValue":[t[13]||(t[13]=t=>e.imageFieldSplitter=t),t[14]||(t[14]=t=>e.splitterChanged())],class:"medi-right-content-height"},{before:(0,o.w5)((()=>[(0,o._)("div",p,[(0,o._)("div",w,[e.hasApiData()?((0,o.wg)(),(0,o.j4)(ge,{key:0,ref:"fieldsView",page:e.page,isPanelSection:!1,renderOpenWindoIcon:!0,onGetImageDetails:e.getImageDetails,onSetSplitterModel:e.setSplitterModel,onHandleScroll:e.removeOverlayandLines,onShowConnectionFromField:e.showConnectionFromField,onRefreshCanvasAfterSelection:e.refreshCanvasAfterSelection,onRemoveOldMapiingsAndDrawNew:e.removeOldMapiingsAndDrawNew,onEnableOrDisableExportButton:e.enableOrDisableExportButton},null,8,["page","onGetImageDetails","onSetSplitterModel","onHandleScroll","onShowConnectionFromField","onRefreshCanvasAfterSelection","onRemoveOldMapiingsAndDrawNew","onEnableOrDisableExportButton"])):(0,o.kq)("",!0)])])])),after:(0,o.w5)((()=>[(0,o.Wm)(_e,{onResize:e.onResize,debounce:0},null,8,["onResize"]),(0,o._)("div",f,[(0,o._)("div",v,[(0,o._)("div",y,[(0,o.Wm)(we,{horizontal:"",limits:[0,100],disable:!e.isExtenedPanel,modelValue:e.splitterModel,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.splitterModel=t),e.removeOverlayandLines],class:"scroll-area-height-img","after-class":(e.isExtenedPanel,"q-pa-sm"),"before-class":"q-pa-sm img-magnifier-container","separator-class":(e.isExtenedPanel,"q-ma-sm")},{before:(0,o.w5)((()=>[b,"annotate"==e.field_view_mode?((0,o.wg)(),(0,o.j4)(pe,{key:0,ref:"child_comp",enableEditing:e.enable_editing,cropUrl:e.image+"?"+e.tokenQueryParam,width:e.imageWidth,selectFont:e.selectFont,selectFontSize:e.selectFontSize,selectColor:e.selectColor},null,8,["enableEditing","cropUrl","width","selectFont","selectFontSize","selectColor"])):(0,o.kq)("",!0),(0,o._)("div",k,[(0,o._)("img",{class:"screenshot",src:e.image+"?"+e.tokenQueryParam,width:e.imageWidth,id:"screenshot",ref:"screenshot",draggable:"false",onLoad:t[0]||(t[0]=t=>{e.imageLoaded=!0,e.getImageDetails()})},null,40,x),((0,o.wg)(),(0,o.iD)("svg",{width:e.imageWidth,height:e.imageHeight,viewBox:e.viewBox,id:"draw",ref:"draw",xmlns:"http://www.w3.org/2000/svg",style:{height:"auto","border-bottom":"5px dotted"}},[(0,o._)("rect",E,null,512),(0,o._)("g",D,null,512)],8,C))])])),separator:(0,o.w5)((()=>[e.isExtenedPanel?((0,o.wg)(),(0,o.j4)(ue,{key:0,disable:!e.isExtenedPanel,round:"",size:"xs",icon:"swap_vert",class:"text-grey-6 z-index-1",onClick:t[1]||(t[1]=t=>e.toggleSplitter())},null,8,["disable"])):(0,o.kq)("",!0)])),after:(0,o.w5)((()=>[e.renderComponent&&e.hasApiData()?((0,o.wg)(),(0,o.iD)("div",L,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.formLayout,((t,i)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:`div-${i}`},[!0===t.is_panel_section_group?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,s.C_)(["display-inline-block",e.getBorderOfElement(t,e.formBuilderConfigModel)]),style:(0,s.j5)("width:"+e.getElementWidth(t)+"%")},[t.title?((0,o.wg)(),(0,o.iD)("div",T,[(0,o._)("div",S,(0,s.zw)(t.title),1)])):(0,o.kq)("",!0),(0,o._)("div",W,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.rows,((t,n)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:`div-${n}`},[e.isFieldHidden(t)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:"q-pa-sm",style:(0,s.j5)("width:"+e.getElementWidth(t)+"%")},[((0,o.wg)(),(0,o.j4)((0,o.LL)(t.fieldType),{currentField:t,isReadOnly:e.isReadOnly,fieldName:t.name,groupIndex:i,onUpdateModel:e.$refs["fieldsView"].updateModel,onInputClicked:e.$refs["fieldsView"].showConnectionFromField,onInputValueChanges:e.$refs["fieldsView"].onInputValueChanges,onApplyFuzzySearch:e.$refs["fieldsView"].applyFuzzySearchWrapper},null,8,["currentField","isReadOnly","fieldName","groupIndex","onUpdateModel","onInputClicked","onInputValueChanges","onApplyFuzzySearch"]))],4))],64)))),128))])],6)):(0,o.kq)("",!0)],64)))),128))])):(0,o.kq)("",!0)])),_:1},8,["disable","modelValue","after-class","separator-class","onUpdate:modelValue"])])]),(0,o._)("div",I,[(0,o._)("div",A,[e.show_all_menu_btns?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[!0===e.is_admin?((0,o.wg)(),(0,o.j4)(ue,{key:0,icon:"img:layout.svg",flat:"",class:"validation-view-button",onClick:t[3]||(t[3]=t=>e.goToLayoutTemplate())},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[O])),_:1})])),_:1})):(0,o.kq)("",!0),!0===e.is_admin?((0,o.wg)(),(0,o.j4)(ue,{key:1,icon:"img:ocr_icon.svg",flat:"",class:"validation-view-button",onClick:e.viewOCRDocument},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("ocr_view")),1)])),_:1})])),_:1},8,["onClick"])):(0,o.kq)("",!0),!0===e.is_debug?((0,o.wg)(),(0,o.j4)(ue,{key:2,icon:"adb",flat:"",class:"validation-view-button icon-grey",onClick:t[4]||(t[4]=t=>e.enableOrDisableExportButton(!0))},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[F])),_:1})])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(ve),"INVOICE"==e.docType?((0,o.wg)(),(0,o.iD)(o.HY,{key:3},[(0,o.Wm)(ue,{icon:"img:improve_document.svg",flat:"",class:"validation-view-button",onClick:t[5]||(t[5]=t=>e.improveDocuments()),to:"/dashboard",id:"improve_document"},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("improve_document_btn_tooltip")),1)])),_:1})])),_:1}),(0,o.Wm)(ue,{icon:"img:flow.svg",flat:"",class:"validation-view-button",onClick:t[6]||(t[6]=t=>e.toFlowScreen(this.$route.params.id))},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("document_flow")),1)])),_:1})])),_:1})],64)):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0),(0,o.Wm)(ye,{onSetApiData:e.setApiData},null,8,["onSetApiData"]),(0,o.Wm)(be,{isDashboard:!1,docId:e.docId,onSetImages:e.setImage},null,8,["docId","onSetImages"]),(0,o.Wm)(ke,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"]),(0,o.Wm)(ue,{icon:"img:loupe.svg",flat:"",class:"validation-view-button",onClick:e.initiateMagnifyGlass},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("pages.screen2a.magnify")),1)])),_:1})])),_:1},8,["onClick"]),(0,o.Wm)(ue,{icon:"img:dual-monitor.svg",flat:"",class:"validation-view-button",onClick:e.selectBetweenMonitor},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("medi.new_window")),1)])),_:1})])),_:1},8,["onClick"]),(0,o.Wm)(ue,{icon:"img:costumer_care.svg",flat:"",class:"validation-view-button",onClick:t[7]||(t[7]=t=>e.toggleSupportMenu())},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("pages.support.create_ticket")),1)])),_:1})])),_:1}),(0,o.Wm)(ue,{icon:"img:zoom_in.svg",flat:"",class:"validation-view-button",onClick:e.zoomIn},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("zoom_in")),1)])),_:1})])),_:1},8,["onClick"]),(0,o.Wm)(ue,{icon:"img:zoom_out.svg",flat:"",class:"validation-view-button",onClick:e.zoomOut},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[R])),_:1})])),_:1},8,["onClick"]),e.user_settings["ANNOTATION_MODE"]&&"annotate"==e.field_view_mode?((0,o.wg)(),(0,o.j4)(ue,{key:1,flat:"",class:"validation-view-button",onClick:t[8]||(t[8]=t=>e.changeScreenMode())},{default:(0,o.w5)((()=>[(0,o._)("img",{width:"24",height:"24",src:0==e.doc_annotations.length?"annotation/annotation_icon.svg":"annotation/annotation_icon_mark.svg"},null,8,V),(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("annotation.deactivate_mode")),1)])),_:1})])),_:1})):(0,o.kq)("",!0),e.user_settings["ANNOTATION_MODE"]&&"validate"==e.field_view_mode?((0,o.wg)(),(0,o.j4)(ue,{key:2,flat:"",class:"validation-view-button",onClick:t[9]||(t[9]=t=>e.changeScreenMode())},{default:(0,o.w5)((()=>[(0,o._)("img",{width:"24",height:"24",src:0==e.doc_annotations.length?"annotation/annotation_icon.svg":"annotation/annotation_icon_mark.svg"},null,8,q),(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("annotation.activate_mode")),1)])),_:1})])),_:1})):(0,o.kq)("",!0),e.is_admin?((0,o.wg)(),(0,o.j4)(ue,{key:3,flat:"",id:"split_document",onClick:e.displaySplitDocumentView,icon:"img:split.svg",class:"validation-view-button"},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("split_document_btn_tooltip")),1)])),_:1})])),_:1},8,["onClick"])):(0,o.kq)("",!0),(0,o._)("div",M,[(0,o.Wm)(ue,{icon:"img:pages.svg",flat:"",class:"validation-view-button",onClick:t[10]||(t[10]=t=>e.togglePagesMenu())},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.currentPage())+" / "+(0,s.zw)(e.images.length),1)])),_:1})])),_:1})]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.shownButtonsLength,((t,i)=>((0,o.wg)(),(0,o.iD)("div",{key:i},[(0,o.Wm)(ue,{"data-id":t,flat:"",label:i+1,onClick:t=>e.quickActionClicked(i),dense:"",class:(0,s.C_)(["validation-view-button",e.page==i+1?"button-blocked highlighted-back":""])},null,8,["data-id","label","onClick","class"])])))),128)),e.showExpandButton?((0,o.wg)(),(0,o.j4)(ue,{key:4,flat:"",icon:"more_horiz",onClick:t[11]||(t[11]=t=>e.showAllQuickPages()),dense:"",class:(0,s.C_)(["validation-view-button"])},{default:(0,o.w5)((()=>[(0,o.Wm)(fe,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("pages.validation.show_all_pages")),1)])),_:1})])),_:1})):(0,o.kq)("",!0),e.showExpandButton?((0,o.wg)(),(0,o.j4)(ue,{key:5,flat:"",label:e.lastPageItem,onClick:t[12]||(t[12]=t=>e.quickActionClicked(e.lastPageItem-1)),dense:"",class:(0,s.C_)(["validation-view-button"])},null,8,["label"])):(0,o.kq)("",!0)])])])])),_:1},8,["modelValue"])],512),(0,o._)("div",z,["pages"==e.current_menu_data?((0,o.wg)(),(0,o.iD)("div",Z,[(0,o._)("div",P,[(0,o._)("span",H,(0,s.zw)(e.$t("pages.screen2a.pages")),1)]),(0,o._)("div",$,[(0,o._)("div",B,(0,s.zw)(e.currentPage())+"/"+(0,s.zw)(e.images.length),1)]),(0,o._)("div",U,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.images,((i,n)=>((0,o.wg)(),(0,o.iD)("img",{"data-id":n,key:n,src:e.baseUrl+"/"+i.path+"?"+e.tokenQueryParam,class:(0,s.C_)(["q-pa-xs shadow-5 max-width-120 q-ma-sm cursor-pointer",n===e.page-1?"active":""]),style:{height:"160px"},onClick:t[15]||(t[15]=(...t)=>e.imageclicked&&e.imageclicked(...t))},null,10,N)))),128))])])):(0,o.kq)("",!0),"support"==e.current_menu_data?((0,o.wg)(),(0,o.iD)("div",Q,[(0,o.Wm)(xe)])):(0,o.kq)("",!0)],512)])),(0,o.Wm)(Ee),(0,o.Wm)(Se,{modelValue:e.showDialog,"onUpdate:modelValue":t[17]||(t[17]=t=>e.showDialog=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(Te,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Le,{class:"row items-center q-pb-none"},{default:(0,o.w5)((()=>[j,(0,o.Wm)(De),(0,o.wy)((0,o.Wm)(ue,{icon:"close",flat:"",round:"",dense:""},null,512),[[qe]])])),_:1}),(0,o.Wm)(Le,null,{default:(0,o.w5)((()=>[G])),_:1}),(0,o._)("div",Y,[(0,o.Wm)(De),(0,o.Wm)(ue,{flat:"",color:"primary",label:"Contact us",onClick:t[16]||(t[16]=t=>e.goFormular())})])])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(Se,{modelValue:e.split_document,"onUpdate:modelValue":t[18]||(t[18]=t=>e.split_document=t),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(We)])),_:1},8,["modelValue"]),(0,o._)("div",J,[(0,o.Wm)(Se,{modelValue:e.textConfirmation,"onUpdate:modelValue":t[23]||(t[23]=t=>e.textConfirmation=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(Te,{style:{width:"440px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(Ae,{class:"secondary-toolbar"},{default:(0,o.w5)((()=>[(0,o.Wm)(Ie,null,{default:(0,o.w5)((()=>[(0,o._)("span",X,(0,s.zw)(e.$t("pages.screen2a.confirmation")),1)])),_:1}),(0,o.wy)((0,o.Wm)(ue,{flat:"",round:"",dense:"",icon:"close"},null,512),[[qe]])])),_:1}),(0,o.Wm)(Le,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.textConfirmationMsg),1)])),_:1}),(0,o.Wm)(Oe,{align:"right",class:"text-teal"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(ue,{color:"grey",label:e.$t("pages.screen2a.cancel"),"data-cy":"cancel",onClick:t[19]||(t[19]=t=>e.cancelOverlayDiv())},null,8,["label"]),[[qe]]),(0,o.wy)((0,o.Wm)(ue,{color:"grey","data-cy":"no",label:"Don't ask again",onClick:t[20]||(t[20]=t=>e.askLater())},null,512),[[qe]]),(0,o.wy)((0,o.Wm)(ue,{color:"grey","data-cy":"no",label:e.$t("re_select"),onClick:t[21]||(t[21]=t=>e.enableDrawing(!0))},null,8,["label"]),[[qe]]),(0,o.wy)((0,o.Wm)(ue,{color:"primary","data-cy":"yes",label:e.$t("pages.screen2a.yes"),onClick:t[22]||(t[22]=t=>e.updateFieldData())},null,8,["label"]),[[qe]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(Se,{modelValue:e.saveInstant,"onUpdate:modelValue":t[24]||(t[24]=t=>e.saveInstant=t)},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.updateFieldData()),1)])),_:1},8,["modelValue"])]),(0,o.Wm)(Se,{modelValue:e.selectMonitor,"onUpdate:modelValue":t[27]||(t[27]=t=>e.selectMonitor=t),position:"top"},{default:(0,o.w5)((()=>[(0,o.Wm)(Te,{style:{width:"600px"}},{default:(0,o.w5)((()=>[(0,o._)("div",ee,[(0,o._)("div",{style:{padding:"10px","text-align":"center"},class:"col-sm-6 col-md-6 col-lg-6 cursor-pointer",onClick:t[25]||(t[25]=t=>e.openComponentInSeparateWindow(0))},[(0,o.Wm)(Le,{class:"screenhover",style:{border:"1px solid #d8d8d8","border-radius":"5px","background-color":"#ffffff"}},{default:(0,o.w5)((()=>[(0,o._)("div",te,[(0,o.Wm)(he,{name:"desktop_windows",size:"xl",style:{"font-size":"150px"}})]),ie])),_:1})]),(0,o._)("div",{style:{padding:"10px","text-align":"center"},class:"col-sm-6 col-md-6 col-lg-6 cursor-pointer",onClick:t[26]||(t[26]=t=>e.openComponentInSeparateWindow(1))},[(0,o.Wm)(Le,{class:"screenhover",style:{border:"1px solid #d8d8d8","border-radius":"5px","background-color":"#ffffff"}},{default:(0,o.w5)((()=>[(0,o._)("div",oe,[(0,o.Wm)(he,{name:"desktop_windows",size:"xl",style:{"font-size":"150px"}})]),se])),_:1})])])])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(Se,{modelValue:e.annotation_text_popup,"onUpdate:modelValue":t[31]||(t[31]=t=>e.annotation_text_popup=t),onKeydown:t[32]||(t[32]=(0,n.D2)((t=>e.annotation_text_popup=!1),["esc"]))},{default:(0,o.w5)((()=>[(0,o.Wm)(Te,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Le,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Fe,{modelValue:e.annotation_text,"onUpdate:modelValue":t[28]||(t[28]=t=>e.annotation_text=t),label:"Annotation Text",filled:"",type:"textarea",rows:3,"max-height":100,counter:100,onKeydown:t[29]||(t[29]=(0,n.D2)((t=>e.marqueeAddAnnotation()),["enter"]))},null,8,["modelValue"])])),_:1}),(0,o.Wm)(Oe,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(ue,{flat:"",label:"Cancel"},null,512),[[qe]]),(0,o.Wm)(ue,{flat:"",label:"Save",color:"primary",onClick:t[30]||(t[30]=t=>e.marqueeAddAnnotation())})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(Se,{modelValue:e.showFontMenu,"onUpdate:modelValue":t[41]||(t[41]=t=>e.showFontMenu=t),onKeydown:t[42]||(t[42]=(0,n.D2)((t=>e.showFontMenu=!1),["esc"]))},{default:(0,o.w5)((()=>[(0,o.Wm)(Te,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Le,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Fe,{filled:"",modelValue:e.selectFont,"onUpdate:modelValue":[t[33]||(t[33]=t=>e.selectFont=t),t[34]||(t[34]=t=>e.updateValue("font",e.selectFont))],label:e.$t("annotation.font"),type:"text"},null,8,["modelValue","label"]),ne,(0,o.Wm)(Fe,{filled:"",modelValue:e.selectFontSize,"onUpdate:modelValue":[t[35]||(t[35]=t=>e.selectFontSize=t),t[36]||(t[36]=t=>e.updateValue("size",e.selectFontSize))],label:e.$t("annotation.fontsize"),type:"number"},null,8,["modelValue","label"]),ae,(0,o._)("div",null,[(0,o.Wm)(Fe,{outlined:"",dense:"",standout:"",modelValue:e.selectColor,"onUpdate:modelValue":[t[39]||(t[39]=t=>e.selectColor=t),t[40]||(t[40]=t=>e.updateValue("color",e.selectColor))],rules:["hexColor"],label:e.$t("annotation.color")},{append:(0,o.w5)((()=>[(0,o.Wm)(he,{name:"colorize",class:"cursor-pointer",color:{"background-color":e.selectColor}},{default:(0,o.w5)((()=>[(0,o.Wm)(Ve,{"transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(Re,{modelValue:e.selectColor,"onUpdate:modelValue":[t[37]||(t[37]=t=>e.selectColor=t),t[38]||(t[38]=t=>e.updateValue("color",e.selectColor))],"default-view":"palette","no-header-tabs":""},null,8,["modelValue"])])),_:1})])),_:1},8,["color"])])),_:1},8,["modelValue","label"])])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var re=i(7363),de=i(63225),ce=i(49990),he=i(67325),ue=i(60499),me=i(49341),ge=i(26033),_e=i(31921),pe=i(77553),we=i(77607),fe=i(70501),ve=i(43066);const ye={methods:{getBorderOfElement(e,t){let i="";return t&&t.hasOwnProperty(e.name)?(i=t[e.name].right_border?" border-right":"",i+=t[e.name].bottom_border?" border-bottom":"",i):(i=e.right_border?" border-right":"",i+=e.bottom_border?" border-bottom":"",i)}}};var be=i(9574),ke=i(69735),xe=i(25373),Ce=i(45175),Ee=i(19302),De=i(38126),Le=i(84006),Te=i(60937),Se=i(9008),We=i(49360),Ie=i(3255);const Ae={class:"row text-center q-pt-xs q-pb-xs slider-bg"},Oe=(0,o._)("div",{class:"col-xs-3 col-sm-3 col-md-3 col-lg-3"}," UNRELIABLE ",-1),Fe=(0,o._)("div",{class:"col-xs-3 col-sm-3 col-md-3 col-lg-3"}," AVERAGE ",-1),Re=(0,o._)("div",{class:"col-xs-3 col-sm-3 col-md-3 col-lg-3"}," RELIABLE ",-1),Ve=(0,o._)("div",{class:"col-xs-3 col-sm-3 col-md-3 col-lg-3"}," PERFECT ",-1);function qe(e,t,i,n,a,l){return(0,o.wg)(),(0,o.iD)("div",Ae,[(0,o._)("div",{class:"scale",style:(0,s.j5)("left:"+e.gaugeValue+"%")},null,4),Oe,Fe,Re,Ve])}const Me=(0,o.aZ)({el:"#ai_severity_level",data(){return{gaugeValue:(0,ue.iH)(5)}},mounted:function(){document.addEventListener("TE_gauge_calculation",this.TEGaugeCalculation),document.addEventListener("FV_gauge_calculation",this.FVGaugeCalculation)},unmounted:function(){document.removeEventListener("TE_gauge_calculation",this.TEGaugeCalculation),document.removeEventListener("FV_gauge_calculation",this.FVGaugeCalculation)},methods:{TEGaugeCalculation(e){e&&e.detail&&e.detail.hasOwnProperty("min_table_effective_weight")&&this.calculateGaugeValue(e.detail.min_table_effective_weight)},FVGaugeCalculation(e){e&&e.detail&&e.detail.hasOwnProperty("mean_effective_weight")&&this.calculateGaugeValue(e.detail.mean_effective_weight)},calculateGaugeValue(e){this.gaugeValue=Math.round(10*e),this.gaugeValue<5&&(this.gaugeValue=5)}},setup(){return{}}});var ze=i(7683);const Ze=(0,ze.Z)(Me,[["render",qe]]),Pe=Ze;var He=i(2209),$e=i(95282),Be=i(93931),Ue=i(99984),Ne=i(3650),Qe=i(73683),Ke=i(65528),je=i(26440),Ge=i(57707),Ye=i(99903),Je=i(96427),Xe=i(18028);document.querySelector.bind(document);const et={methods:{isMultiScreen(){return!!window.screen.isExtended},async openWindowOnSelectedMonitor(e,t){if(window.screen.isExtended){const i=await window.getScreenDetails(),o=i.screens[e];this.external_window=window.open(t,"_blank",`left=${o.availLeft},top=${o.availTop},width=${o.availWidth},height=${o.availHeight}`)}},async getMultiScreenDetails(){if(window.screen.isExtended){const e=await window.getScreenDetails(),t=e.screens.find((e=>e.isPrimary)),i=e.screens.find((e=>e!==t));window.open("https://www.google.com/","_blank",`left=${i.availLeft},top=${i.availTop},width=${i.availWidth},height=${i.availHeight}`)}}}};var tt=i(34842),it=i(33725),ot=i(65894),st=i(46624),nt=i(17449),at=i(48854),lt=i(83843),rt=i(70746),dt=i(83558),ct=i(11355),ht=i(16675),ut=i(12757),mt=i(95778),gt=i(79081),_t=i(75883),pt=i(85425);const wt=(0,o._)("img",{width:"24",height:"24",src:"keyboard_dark_2.svg"},null,-1),ft=(0,o._)("img",{width:"24",height:"24",src:"keyboard_dark_2.svg"},null,-1);function vt(e,t,i,a,l,r){const d=(0,o.up)("q-tooltip"),c=(0,o.up)("q-btn"),h=(0,o.up)("q-item-section"),u=(0,o.up)("q-item-label"),m=(0,o.up)("q-item"),g=(0,o.up)("keyboardShortcutInfo"),_=(0,o.up)("q-card-actions"),p=(0,o.up)("q-card"),w=(0,o.up)("q-dialog"),f=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[e.show_all_menu_btns?((0,o.wg)(),(0,o.j4)(c,{key:0,flat:"",class:"pr-6 pl-6 validation-view-button",onClick:e.buttonClick},{default:(0,o.w5)((()=>[wt,(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("keyboard_shortcut")),1)])),_:1})])),_:1},8,["onClick"])):(0,o.wy)(((0,o.wg)(),(0,o.j4)(m,{key:1,clickable:"",onClick:e.buttonClick},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{avatar:""},{default:(0,o.w5)((()=>[ft])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.$t("keyboard_shortcut")),1)])),_:1})])),_:1})])),_:1},8,["onClick"])),[[f]]),(0,o.Wm)(w,{modelValue:e.showKeyboardShortcuts,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showKeyboardShortcuts=t),onKeydown:t[2]||(t[2]=(0,n.D2)((t=>e.showKeyboardShortcuts=!1),["esc"]))},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g),(0,o.Wm)(_,{align:"right"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{flat:"",color:"primary",label:e.$t("conclude"),class:"float-right",style:{"font-weight":"900"},onClick:t[0]||(t[0]=t=>e.showKeyboardShortcuts=!1)},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}const yt={class:"text-weight-medium text-h6"},bt={class:"highlighted-back"},kt={class:"text-left",style:{"font-weight":"bold"}},xt={class:"text-left",style:{"font-weight":"900"}},Ct=(0,o._)("tr",null,[(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," Moves to next fields "),(0,o._)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,o._)("span",{class:"shortcut-Key-box"}," Enter ")])],-1),Et=(0,o._)("tr",null,[(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," Validate & jump to next red-marked field "),(0,o._)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,o._)("span",{class:"shortcut-Key-box q-mr-sm"}," TAB ")])],-1),Dt={class:"text-left",style:{"font-weight":"bold"}},Lt={class:"text-left",style:{"font-weight":"900"}},Tt=["src"],St=(0,o.Uk)(" + "),Wt=(0,o._)("span",{class:"shortcut-Key-box q-ml-sm"}," k ",-1),It=(0,o._)("tr",null,[(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," Checkbox check/uncheck "),(0,o._)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,o._)("span",{class:"shortcut-Key-box"}," Space ")])],-1),At=(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," Moves to next group of fields ",-1),Ot={class:"text-left",style:{"font-weight":"900"}},Ft=["src"],Rt=(0,o.Uk)(" + "),Vt=(0,o._)("span",{class:"shortcut-Key-box q-ml-sm"}," G ",-1),qt=(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," Move To first field of first group ",-1),Mt={class:"text-left",style:{"font-weight":"900"}},zt=["src"],Zt=(0,o.Uk)(" + "),Pt=(0,o._)("span",{class:"shortcut-Key-box q-ml-sm"}," F ",-1),Ht=(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," Save document ",-1),$t={class:"text-left",style:{"font-weight":"900"}},Bt=["src"],Ut=(0,o.Uk)(" + "),Nt=(0,o._)("span",{class:"shortcut-Key-box q-ml-sm"}," S ",-1),Qt=(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," Reject document ",-1),Kt={class:"text-left",style:{"font-weight":"900"}},jt=["src"],Gt=(0,o.Uk)(" + "),Yt=(0,o._)("span",{class:"shortcut-Key-box q-ml-sm"}," R ",-1),Jt=(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," Export without Sonderwunsch ",-1),Xt={class:"text-left",style:{"font-weight":"900"}},ei=["src"],ti=(0,o.Uk)(" + "),ii=(0,o._)("span",{class:"shortcut-Key-box q-ml-sm"}," E ",-1),oi=(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," Export with Sonderwunsch ",-1),si={class:"text-left",style:{"font-weight":"900"}},ni=["src"],ai=(0,o.Uk)(" + "),li=(0,o._)("span",{class:"shortcut-Key-box q-ml-sm"}," W ",-1),ri=(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," Jump to Table Section ",-1),di={class:"text-left",style:{"font-weight":"900"}},ci=["src"],hi=(0,o.Uk)(" + "),ui=(0,o._)("span",{class:"shortcut-Key-box q-ml-sm"}," T ",-1),mi=(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Create new line ",-1),gi={class:"text-left",style:{"font-weight":"900"}},_i=["src"],pi=(0,o.Uk)(" + "),wi=(0,o._)("span",{class:"shortcut-Key-box q-ml-sm"}," plus (+) ",-1),fi=(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Move to Next Column ",-1),vi={class:"text-left"},yi=(0,o._)("img",{src:"keyboard-left-arrow.svg"},null,-1),bi=(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Move to previous Column ",-1),ki={class:"text-left"},xi={class:"q-mr-sm"},Ci=(0,o._)("img",{src:"keyboard-right-arrow.svg"},null,-1),Ei=(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Move to above Row ",-1),Di={class:"text-left"},Li=(0,o._)("img",{src:"keyboard-up-arrow.svg"},null,-1),Ti=(0,o._)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Move to below Row ",-1),Si={class:"text-left"},Wi=(0,o._)("img",{src:"keyboard-down-arrow.svg"},null,-1),Ii={key:0},Ai={class:"text-left",style:{"font-weight":"bold"}},Oi={class:"text-left",style:{"font-weight":"900"}},Fi={class:"shortcut-Key-box q-mr-sm"},Ri=(0,o.Uk)(" + "),Vi={class:"shortcut-Key-box q-ml-sm"};function qi(e,t,i,n,a,l){const r=(0,o.up)("q-card-section"),d=(0,o.up)("q-icon"),c=(0,o.up)("q-markup-table");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o._)("div",yt,(0,s.zw)(e.$t("keyboard_shortcuts")),1)])),_:1}),(0,o.Wm)(r,{class:"v-p-0"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"full-width",style:{overflow:"scroll","max-height":"60vh"},"virtual-scroll":""},{default:(0,o.w5)((()=>[(0,o._)("thead",null,[(0,o._)("tr",bt,[(0,o._)("th",kt,(0,s.zw)(e.$t("action")),1),(0,o._)("th",xt,(0,s.zw)(e.$t("keyboard_shortcut")),1)])]),(0,o._)("tbody",null,[Ct,Et,(0,o._)("tr",null,[(0,o._)("td",Dt,(0,s.zw)(e.$t("doc2light.descriptions.check_keyboard_shortcut")),1),(0,o._)("td",Lt,[(0,o.Wm)(d,{size:"40px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.combination_key+".svg"},null,8,Tt)])),_:1}),St,Wt])]),It,(0,o._)("tr",null,[At,(0,o._)("td",Ot,[(0,o.Wm)(d,{size:"40px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.combination_key+".svg"},null,8,Ft)])),_:1}),Rt,Vt])]),(0,o._)("tr",null,[qt,(0,o._)("td",Mt,[(0,o.Wm)(d,{size:"40px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.combination_key+".svg"},null,8,zt)])),_:1}),Zt,Pt])]),(0,o._)("tr",null,[Ht,(0,o._)("td",$t,[(0,o.Wm)(d,{size:"40px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.combination_key+".svg"},null,8,Bt)])),_:1}),Ut,Nt])]),(0,o._)("tr",null,[Qt,(0,o._)("td",Kt,[(0,o.Wm)(d,{size:"40px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.combination_key+".svg"},null,8,jt)])),_:1}),Gt,Yt])]),(0,o._)("tr",null,[Jt,(0,o._)("td",Xt,[(0,o.Wm)(d,{size:"40px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.combination_key+".svg"},null,8,ei)])),_:1}),ti,ii])]),(0,o._)("tr",null,[oi,(0,o._)("td",si,[(0,o.Wm)(d,{size:"40px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.combination_key+".svg"},null,8,ni)])),_:1}),ai,li])]),(0,o._)("tr",null,[ri,(0,o._)("td",di,[(0,o.Wm)(d,{size:"40px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.combination_key+".svg"},null,8,ci)])),_:1}),hi,ui])]),(0,o._)("tr",null,[mi,(0,o._)("td",gi,[(0,o.Wm)(d,{size:"40px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.combination_key+".svg"},null,8,_i)])),_:1}),pi,wi])]),(0,o._)("tr",null,[fi,(0,o._)("td",vi,[(0,o.Wm)(d,{size:"36px"},{default:(0,o.w5)((()=>[yi])),_:1})])]),(0,o._)("tr",null,[bi,(0,o._)("td",ki,[(0,o._)("span",xi,[(0,o.Wm)(d,{size:"36px"},{default:(0,o.w5)((()=>[Ci])),_:1})])])]),(0,o._)("tr",null,[Ei,(0,o._)("td",Di,[(0,o.Wm)(d,{size:"36px"},{default:(0,o.w5)((()=>[Li])),_:1})])]),(0,o._)("tr",null,[Ti,(0,o._)("td",Si,[(0,o.Wm)(d,{size:"36px"},{default:(0,o.w5)((()=>[Wi])),_:1})])]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.formLayout,((e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:t},[""!==e.short_cut_key_2&&""!==e.short_cut_key_1?((0,o.wg)(),(0,o.iD)("tr",Ii,[(0,o._)("td",Ai," Move to Group "+(0,s.zw)(e.title),1),(0,o._)("td",Oi,[(0,o._)("span",Fi,(0,s.zw)(e.short_cut_key_1),1),Ri,(0,o._)("span",Vi,(0,s.zw)(e.short_cut_key_2),1)])])):(0,o.kq)("",!0)],64)))),128))])])),_:1})])),_:1})],64)}var Mi=i(65424);const zi=(0,o.aZ)({el:"#app",mixins:[Mi.Z],props:{},components:{},data(){return{combination_key:""}},mounted:function(){this.combination_key=this.getCombinationKey(null)},setup(){const e=(0,st.nc)(),{formLayout:t}=(0,re.Jk)(e);return{formLayout:t}}});var Zi=i(63190),Pi=i(66933),Hi=i(22857),$i=i(69984),Bi=i.n($i);const Ui=(0,ze.Z)(zi,[["render",qi]]),Ni=Ui;Bi()(zi,"components",{QCardSection:Zi.Z,QMarkupTable:Pi.Z,QIcon:Hi.Z});const Qi=(0,o.aZ)({el:"#app",mixins:[Mi.Z],props:{},components:{keyboardShortcutInfo:Ni},mounted:function(){window.addEventListener("keydown",this.keyboardKeyDownEvent)},unmounted:function(){window.removeEventListener("keydown",this.keyboardKeyDownEvent)},methods:{keyboardKeyDownEvent(e){const t=this.isCombinationKey(e);75===e.keyCode&&!0===t&&(e.preventDefault(),this.showKeyboardShortcuts=!0)},buttonClick(){this.showKeyboardShortcuts=!0}},data(){return{}},setup(){const e=(0,st.H_)(),{show_all_menu_btns:t}=(0,re.Jk)(e);return{show_all_menu_btns:t,showKeyboardShortcuts:(0,ue.iH)(!1)}}});var Ki=i(68879),ji=i(46858),Gi=i(490),Yi=i(76749),Ji=i(33115),Xi=i(32074),eo=i(44458),to=i(11821),io=i(62146);const oo=(0,ze.Z)(Qi,[["render",vt]]),so=oo;Bi()(Qi,"components",{QBtn:Ki.Z,QTooltip:ji.Z,QItem:Gi.Z,QItemSection:Yi.Z,QItemLabel:Ji.Z,QDialog:Xi.Z,QCard:eo.Z,QCardActions:to.Z}),Bi()(Qi,"directives",{ClosePopup:io.Z});var no=i(73707),ao=i(11494),lo=i(48617),ro=function(e,t,i,o){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,n){function a(e){try{r(o.next(e))}catch(t){n(t)}}function l(e){try{r(o["throw"](e))}catch(t){n(t)}}function r(e){e.done?i(e.value):s(e.value).then(a,l)}r((o=o.apply(e,t||[])).next())}))};const co=document.querySelector.bind(document),ho=(0,o.aZ)({el:"#app",mixins:[ce.Z,ge.Z,fe.Z,pe.Z,we.Z,ve.Z,be.Z,ke.Z,Te.Z,Xe.Z,tt.Z,Ne.Z,Ge.Z,et,no.Z,ye,de.Z],components:{Loader:_e.Z,supportForm:je.Z,scriptBtn:Be.Z,autoTesting:xe.Z,DocumentLock:Ce.Z,MessageBanner:Se.Z,SelectionPopup:We.Z,Classification:Ie.Z,AISeverityLevel:Pe,ImportMultiInvoice:$e.Z,FieldsView:He["default"],SplitDocument:Ue.Z,ErrorDocumentView:Qe.Z,restartClassificationPopup:ot.Z,Label:nt.Z,CheckBox:at.Z,TextInput:lt.Z,LineItemTable:rt.Z,MultiCheckBox:dt.Z,TableOfCheckboxes:ct.Z,HorizontalSeparator:ht.Z,ExtractedTableTabPanels:mt.Z,timeSpentTimer:pt.Z,keyboardShortcutInfoBtn:so,autoAccountingBtn:ut.Z,InvoiceButtons:gt.Z,AnnotationView:lo.Z,QRCodeExtractedFields:_t.Z},watch:{$route(e,t){if(!e.hasOwnProperty("path")||!t.hasOwnProperty("path"))return;const i=e.path.split("/"),o=t.path.split("/");i.length>2&&o.length>2&&i[1]===o[1]&&this.get_cached_data_id!=this.docId&&window.location.reload()}},data(){return{docId:"",contact:this.$t("pages.screen2a.confirm"),showDialog:!1,showExportDialog:!1,showArticlePage:!1,disableSelectionButton:!0,loading:!1,shownButtonsLength:0,showExpandButton:!1,saveInstant:!1,magnifyGlass:{},allowedDoctypes:it.rf,format_warning_dismiss:{},excluded_fields:["fields_group"],account_block:"",error_message:"",trigger_document_lock:(0,ue.iH)(!1),split_document:(0,ue.iH)(!1),headerFabIcon:(0,ue.iH)(!1),dropdownModel:(0,ue.iH)(!1),imageLoaded:(0,ue.iH)(!1),textConfirmation:!1,selectMonitor:(0,ue.iH)(!1)}},beforeRouteLeave:function(e,t,i){return ro(this,void 0,void 0,(function*(){this.setDataToCache(),this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.removeMagnifier(),this.removeAllNotifications(),this.external_window&&this.external_window.close(),"function"===typeof this.format_warning_dismiss&&this.format_warning_dismiss(),yield this.releaseDocLock({doc_id:this.record.doc_id}),this.record={},this.page=1,this.resetStoreOnRouteChange(),i()}))},showDialog1:function(){setTimeout((()=>{this.showDialog=!0}),2e3)},beforeMount:function(){this.renderComponent=!1,this.isExtenedPanel=!1},mounted:function(){this.showLoading(),this.connectWebSocket(),this.init(),this.isDebugFlagHandler(),this.is_admin=(0,ao.i5)();let e=this.$route.params.id;this.getDocAnnotations(e),setTimeout((()=>{}),100),this.doc_annotations.length,window.addEventListener("resize",this.windowResize),document.body.addEventListener("click",this.mouseClicked,!0);const t=co(".img-magnifier-container");t&&t.addEventListener("scroll",this.removeOverlayandLines);const i=co(".q-splitter__after");i&&i.addEventListener("scroll",this.removeOverlayandLines),document.addEventListener("highlight_table_row",this.highlightTableRowArea),document.addEventListener("refresh_canvas",this.refreshCanvas),window.FieldValidationView=this,window.addEventListener("beforeunload",this.unLockDoc)},unmounted:function(){window.removeEventListener("resize",this.windowResize),window.removeEventListener("beforeunload",this.unLockDoc),window.removeEventListener("keydown",this.keydownEvent),document.removeEventListener("highlight_table_row",this.highlightTableRowArea),document.removeEventListener("removeSelectedAreaOnImage",this.removeSelectedAreaOnImage);const e=co(".img-magnifier-container");e&&e.removeEventListener("scroll",this.removeOverlayandLines);const t=co(".q-splitter__after");t&&t.removeEventListener("scroll",this.removeOverlayandLines);try{this.screenshot=co(".screenshot"),this.screenshot&&(this.screenshot.removeEventListener("dblclick",this.dblClickToSelect),this.screenshot.removeEventListener("pointerdown",this.startDrag))}catch(i){}document.removeEventListener("refresh_canvas",this.refreshCanvas)},methods:{togglePagesMenu(){""==this.current_menu_data?(this.toggleMenu(),this.current_menu_data="pages"):"pages"==this.current_menu_data?(this.toggleMenu(),this.current_menu_data=""):"support"==this.current_menu_data&&(this.current_menu_data="pages")},toggleSupportMenu(){""==this.current_menu_data?(this.toggleMenu(),this.current_menu_data="support"):"support"==this.current_menu_data?(this.toggleMenu(),this.current_menu_data=""):"pages"==this.current_menu_data&&(this.current_menu_data="support")},improveDocuments(){return ro(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;yield me.U0.improve_document_quality(this.docId)}catch(e){return this.hideLoading(),void this.showErrorToast("There was an error improving the document")}}))},init(){return ro(this,void 0,void 0,(function*(){try{if(this.docId=this.$route.params.id,this.setAppType(),yield this.getOrgSettings(),yield this.getInvoiceDataByDocId(this.docId),!this.record||0===Object.keys(this.record).length||!1===this.record.success||this.doc_fetch_error)return void this.hideLoading();this.handleReadOnly(),this.handleDocLockSubscribe(),this.getSplitterValueFromStorage(),this.isReadOnly?(this.error_message=this.$t("pages.messages.READ_ONLY_MSG"),this.trigger_document_lock=!1):this.trigger_document_lock=!0,this.initPage()}catch(e){}finally{this.hideLoading()}}))},showAllQuickPages(){this.showExpandButton=!1,this.shownButtonsLength=this.record.images.length},limitPageCount(){this.record.images.length>3?(this.showExpandButton=!0,this.shownButtonsLength=2,this.lastPageItem=this.record.images.length):this.shownButtonsLength=this.record.images.length},setAppType(){const e=(!0).toString();"true"===e.toLowerCase()?(this.$route.params.id||this.goToDashboard(),this.doc2AppMode=!0,setTimeout((()=>{this.showDialog=!1}),1e4)):setTimeout((()=>{this.showDialog=!0}),1e4)},handleDocLockSubscribe(){const e=(0,st.TB)();e.$subscribe(((e,t)=>{this.isReadOnly=!this.doc_lock.success,this.handleReadOnly()}))},handleReadOnly(){if(it.at.includes(this.record.status))return void(this.isReadOnly=!0);const e=he.W1.hasAccess("update");e||(this.isReadOnly=!0)},getInvoiceDataByDocId(e){return ro(this,void 0,void 0,(function*(){try{if(this.get_cached_data_id===e&&(yield this.setRecordFromCache()))return;this.record=[],this.clearSelectedSessionStorage(),yield this.getDocumentById(e)}catch(t){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}}))},getConfidence(e){return e?e<1?(100*+e.toFixed(2)).toFixed(0):+e.toFixed(2):""},initPage(){this.handleFormatWarning(),this.docType=this.record.doc_type,this.setImage(),this.initImageArea(),window.addEventListener("keydown",this.keydownEvent),document.addEventListener("removeSelectedAreaOnImage",this.removeSelectedAreaOnImage),this.getAI_IndicatorData(),this.limitPageCount(),this.enableOrDisableExportButton()},openPDfWindoByDefault(){this.user_settings["DUAL_MONITOR_MODE_SETTING"]&&this.isMultiScreen()&&0==this.pdf_in_window&&this.selectBetweenMonitor()},setShowAllButtonsPanel(){const e=co("#buttonArea");e.clientWidth>=380?this.show_all_menu_btns=!0:this.show_all_menu_btns=!1},isElementLoaded(e){return ro(this,void 0,void 0,(function*(){while(null===document.querySelector(e))yield new Promise((e=>requestAnimationFrame(e)));return document.querySelector(e)}))},selectBetweenMonitor(){return ro(this,void 0,void 0,(function*(){if(0!=this.pdf_in_window)this.external_window.close(),this.pdf_in_window=!1,this.splitterModel=80,this.prepareRectangles();else if(this.isMultiScreen()){const e=yield me.FT.getUserPreference({key:"MONITOR_PREFERENCE"});if(e){let t=e.slice(-1),i=isNaN(t)?0:+t-1;this.openComponentInSeparateWindow(i)}else this.selectMonitor=!0}else this.showErrorToast(this.$t("pages.messages.MULTI_SCREENS_NOT_FOUND"))}))},openComponentInSeparateWindow(e){this.pdf_in_window=!0,this.selectMonitor=!1,this.splitterModel=0,this.setDataToCache(),this.removeOverlayandLines();let t=this.$router.resolve({path:"/show_pdf/"+this.docId});this.openWindowOnSelectedMonitor(e,t.href)},routeToNextDoc(e){return ro(this,void 0,void 0,(function*(){let t;this.showLoading();try{let e=yield this.makeQueryParamFromFilters(),i=this.docId+e+"&doc_type="+this.docType+"&sort_attr=created_on";t=yield me.U0.get_next_document(i)}catch(i){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.hideLoading()}!0===t.success?!0===t.has_next&&"next"===e?(this.showSuccessToast(this.$t("pages.messages.NEXT_DOC_LOADED")),window.removeEventListener("beforeunload",this.onTabClose),this.$router.push("/field_validation_v1/"+t.next_id)):!0===t.has_previous&&"previous"===e?(this.showSuccessToast(this.$t("pages.messages.NEXT_DOC_LOADED")),window.removeEventListener("beforeunload",this.onTabClose),this.$router.push("/field_validation_v1/"+t.previous_id)):this.showErrorToast(this.$t("pages.messages.NO_NEXT_DOC")):this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}))},onTabClose(e){let t=De.Z.has("event_name")?De.Z.getItem("event_name"):null;t&&"language_change"===t||(e.preventDefault(),e.returnValue="",this.clearSelectedSessionStorage())},keydownEvent(e){if(!this.open_editor)try{"Escape"===e.key?(this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.restrictDrawing(),this.removeMagnifier()):"Enter"===e.key?(this.removeExistingConfirmationOverlays(),this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.connectionId=""):"ArrowDown"===e.key&&(this.removeExistingConfirmationOverlays(),this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.$refs["fieldsView"].selectNextField(this.connectionId),setTimeout((()=>{this.enableOrDisableExportButton()}),5),this.connectionId="")}catch(e){}},getAI_IndicatorData(){return ro(this,void 0,void 0,(function*(){try{let e;if(this.ai_fields=this.record&&this.record.fields&&Array.isArray(this.record.fields)?this.record.fields.length:0,!this.record.filter_values||!(this.record.filter_values.length>0)||!Array.isArray(this.record.filter_values))throw"getAI_IndicatorData () no filter_values or doc_type to proceed";let t="?doc_type="+this.record.doc_type+"&filter_values="+this.record.filter_values.join();if(e=yield me.U0.get_ai_score(t),!1===e.success)throw e.message;if(!0===e.success){this.ai_rules=e.rules,this.mean_effective_weight=e.mean_effective_weight;const t=new CustomEvent("FV_gauge_calculation",{detail:e});document.dispatchEvent(t)}}catch(e){}}))},imageclicked(e){this.image=this.baseUrl+"/"+(0,Ke.Rl)(this.record.images[e.target.dataset.id].path),this.page=parseInt(e.target.dataset.id)+1,this.pdf_in_window?this.pdfInChildPage():this.pdfInSamePage()},quickActionClicked(e){this.image=this.baseUrl+"/"+(0,Ke.Rl)(this.record.images[e].path),this.page=parseInt(e)+1,this.pdf_in_window?this.pdfInChildPage():this.pdfInSamePage()},pdfInSamePage(){this.removeOverlayandLines(),this.getImageDetails()},pdfInChildPage(){this.external_window.PdfView.image=this.image,this.external_window.PdfView.removeOverlayandLines(),this.$nextTick((()=>{this.external_window.PdfView.prepareRectangles()}))},getImageDetails(){0!=this.renderComponent&&0!=this.imageLoaded&&(this.imageWidth=this.screenshot.offsetWidth,this.imageHeight=this.screenshot.offsetHeight,this.viewBox="0 0 "+String(this.imageWidth)+" "+String(this.imageHeight),this.$nextTick((()=>{this.prepareRectangles()})),this.hideLoading(),this.enableOrDisableExportButton())},assignImageDimenions(){let e=co("#image_container");if(e){e.querySelector(".q-splitter__before");this.imageWidth=e.offsetWidth-90,this.imageHeight=e.offsetHeight-32}this.viewBox="0 0 "+String(this.imageWidth)+" "+String(this.imageHeight)},showConnectionFromRect(e){this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.restrictDrawing();const t=e.target.getAttribute("connectionId"),i=e.target,o=this.getElementToConnect(co("#"+t));this.scrollInToViewCenter(o),this.scrollInToViewCenter(i),document.documentElement.scrollTop=0,setTimeout((()=>{if(t.startsWith(it.QU))return i.classList.add("border"),void this.dsiplayFieldInToView(t);this.showConnection(t,i,o)}),50)},highlightTableRowArea(e){this.showConnectionFromField(e.detail,!0)},showConnectionFromField(e,t=!1){this.pdf_in_window?(this.external_window.PdfView.removeOverlayandLines(),this.external_window.PdfView.restrictDrawing()):(this.removeOverlayandLines(),this.restrictDrawing());let i=this.getElementToConnect(co("#"+e));if(!i)return;let o=Number(i.getAttribute("pageno"));o=isNaN(o)?this.page:o;let s=!1;o&&o!==this.page&&(s=!0,this.page=o,this.image=this.baseUrl+"/"+(0,Ke.Rl)(this.record.images[this.page-1].path),this.pdf_in_window&&this.sendMessegeToChildWindow("image",this.image,!0),this.getImageDetails(),this.$forceUpdate()),this.connectionId=e,this.$nextTick((()=>{setTimeout((()=>{this.pdf_in_window?this.external_window.PdfView.proceedForReactFinding(e,i,t):this.proceedForReactFinding(e,i,t)}),s?300:100)}))},proceedForReactFinding(e,t,i){let o=co("#"+e+"_rect");o&&(this.scrollInToViewCenter(o),document.documentElement.scrollTop=0),setTimeout((()=>{i?this.highlightRow(o):o?this.showConnection(e,o,t):this.proceedIfReactNotFound(t)}),50)},proceedIfReactNotFound(e){this.componentType=e.getAttribute("child_type");let t="";if("checkbox"===this.componentType)t=e.getAttribute("aria-checked")?"true":"";else{let i=e.querySelector(this.componentType);i&&(t=i.value)}""!=t?this.showNotification(this.$t("pages.messages.SELECT_AREA_NO_COORDINATES")):this.showNotification(this.$t("pages.messages.SELECT_AREA")),this.pdf_in_window?(this.external_window.PdfView.enableDrawing(),this.external_window.PdfView.connectionId=this.connectionId):this.enableDrawing()},showConnection(e,t,i){this.pdf_in_window?this.external_window.PdfView.proceedForReactFinding(e,i,!1):t&&i?(this.drawOverlay(e,t),t.classList.add("border"),this.connect(t,i,"#26a69a",2)):alert(this.$t("pages.messages.NO_MAPPING_AVAILABLE"))},saveOverlayResult(){this.cleanRectangles(),this.pdf_in_window?this.external_window.PdfView.redraw():this.redraw(),this.getTextByCoordinates(this.rectCordinate)},connect(e,t,i,o){const s=this.getOffset(e),n=this.getOffset(t),a=s.left,l=s.top+s.height/2,r=n.right,d=n.top+n.height/2,c=Math.sqrt((r-a)*(r-a)+(d-l)*(d-l)),h=(a+r)/2-c/2,u=(l+d)/2-o/2,m=Math.atan2(l-d,a-r)*(180/Math.PI);this.removeAllConnectionLines();const g=document.createElement("div");g.setAttribute("id","connection_line"),g.style.cssText="z-index: 102;padding:0px; margin:0px; height:"+o+"px; background-color:"+i+"; line-height:1px; position:absolute; left:"+h+"px; top:"+u+"px; width:"+c+"px; -moz-transform:rotate("+m+"deg); -webkit-transform:rotate("+m+"deg); -o-transform:rotate("+m+"deg); -ms-transform:rotate("+m+"deg); transform:rotate("+m+"deg);",document.body.appendChild(g)},getTextByCoordinates(e){return ro(this,void 0,void 0,(function*(){const t=this.record;let i,o=new FormData,s=e.startX/this.imageWidth,n=e.startY/this.imageHeight,a=e.endX/this.imageWidth,l=e.endY/this.imageHeight;o.append("x0",s.toString()),o.append("y0",n.toString()),o.append("x1",a.toString()),o.append("y1",l.toString()),o.append("doc_id",t.doc_id),o.append("page",this.page.toString()),o.append("field_name",this.connectionId),this.showLoading();try{i=yield me.U0.get_field_value(o)}catch(d){return void this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.hideLoading()}this.textApiResponse=i;const r=i.coords;if(!r||0===r[0].x&&0===r[0].y&&""===i.formatted_value)return this.showErrorToast(this.$t("pages.messages.EMPTY_MAPPING_NOT_ALLOWED")),void(this.pdf_in_window?(this.external_window.PdfView.prepareRectangles(),this.external_window.PdfView.enableDrawing()):(this.prepareRectangles(),this.enableDrawing()));"INVOICE"==this.record.doc_type?this.dontAsk?(this.textApiResponse.multi_line?this.textConfirmationMsg=this.$t("isMultiLineConfirm"):this.textConfirmationMsg=this.$t("isdrawcorrect"),this.textConfirmation=!0):this.saveInstant=!0:this.updateFieldData()}))},updateFieldData(){this.$refs["fieldsView"].updateFieldData(this.textApiResponse),this.saveInstant=!1,this.textApiResponse=null},enableOrDisableExportButton(e){this.enableExportButton=!0,this.fieldsErrorArray=[],this.record.fields.forEach(((e,t)=>{!1===e.is_valid&&!this.isFieldCalcualtedFromLayout(e.name)&&this.isfieldsNotDisplayed(e.name)&&(this.enableExportButton=!1,this.fieldsErrorArray.push(this.$t("pages.screen2a."+e.name)))})),e&&this.printFieldsNeedToBeValidated(this.fieldsErrorArray)},printFieldsNeedToBeValidated(e){},isFieldCalcualtedFromLayout(e){let t=!1;for(const i of this.formLayout)for(const o of i.rows)o.field_name==e&&o.calculation_formula&&(t=!0);return t},isfieldsNotDisplayed(e){let t=!0;return this.fieldsNotDisplayed.hasOwnProperty(e)&&(t=!1),t},setApiData(e){this.record=e,this.$forceUpdate()},windowResize(){this.assignImageDimenions(),setTimeout((()=>{this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.getImageDetails(),this.removeMagnifier()}),20)},refreshCanvas(){this.prepareRectangles(),this.$forceUpdate(),this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.getImageDetails(),this.redraw()},refreshCanvasAfterSelection(e){this.refreshCanvas(),this.showConnectionFromField(e)},removeSelectedAreaOnImage(e){this.rectangles.pop(),this.refreshCanvas(),this.restrictDrawing()},handleFormatWarning(){this.doc2AppMode&&"XML_INVOICE"!=this.record.doc_type&&(this.format_warning_dismiss=this.showRulesNotFoundToast(this.record,window.location.href))},isDebugFlagHandler(){this.is_debug=!1,this.$route.query&&"true"===this.$route.query.is_debug&&(this.is_debug=!0)},viewOCRDocument(){let e=this.$router.resolve({path:"/ocr-document/"+this.docId+"/"+this.page});window.open(e.href,"_blank","location=yes,toolbar=yes,scrollbars=yes,resizable=yes,left=500,width=1500,height=1000")},fieldValidationError(e){let t="REQUIRED";return e&&(t=e),t},hasApiData(){return 0!==(0,Je.v7)(this.record)&&!this.doc_fetch_error},removeOldMapiingsAndDrawNew(e){if(this.pdf_in_window)return this.external_window.PdfView.restrictDrawing(),this.external_window.PdfView.record=this.record,void this.external_window.PdfView.prepareRectangles();this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.restrictDrawing(),this.prepareRectangles();let t=this.getElementToConnect(co("#"+e)),i=co("#"+e+"_rect");i&&t&&this.showConnection(e,i,t)},getElementToConnect(e){return this.componentType=e.getAttribute("child_type"),"checkbox"===this.componentType?e.querySelector(".q-checkbox__bg"):e},toggleSplitter(){this.splitterModel>=95?(this.splitterModel=60,this.setAfterPanelHeight(!0)):this.splitterModel=95},setSplitterModel(e){this.splitterModel=100,this.setAfterPanelHeight(e)},setAfterPanelHeight(e){e&&this.isElementLoaded("#afterSlot").then((e=>{const t=co("#afterSlot"),i=co("#image_scrolle");if(t&&i){let e=t.offsetHeight/i.offsetHeight*100;this.splitterModel=100-e-5,this.openPDfWindoByDefault()}}))},displaySplitDocumentView(){this.isReadOnly||(this.split_document=!0)},onResize(e){this.windowResize()},goToLayoutTemplate(){try{if(!this.doc_loaded)return;const e=Ye.V.getDetailViewRoute({doc_type_key:this.record.doc_type||"",layout_template_id:this.layout_template_id||"",sub_doc_type_key:this.record.sub_doc_type||""});window.open(e,"_blank").focus()}catch(e){}},toFlowScreen(e){this.$router.push("/doc_flow/"+e)},askLater(){Le.Z.set("dontAsk","neverAsk"),Le.Z.get("dontAsk")},restartExport(e){return ro(this,void 0,void 0,(function*(){try{return yield me.U0.restart_document(e),!0}catch(t){throw t}}))},getSupplier(){let e="supplier_name",t="";for(let i of this.record.fields)if(i.name===e&&i.formatted_value){t=i.formatted_value;break}return t},goToDashboard(){this.$router.push("/dashboard")},splitterChanged(){this.saveSplitterValueInStorage();const e=new CustomEvent("splitter_changed",{detail:this.splitterModel});document.dispatchEvent(e)},getOverlayHeadings(){const e=co("#"+this.connectionId);if(!e)return"";const t=e.getAttribute("child_type");if(!t)return"";this.componentType=t;let i="",o="";if("checkbox"===this.componentType)o=e.getAttribute("aria-label"),i="Un-Checked","true"===e.getAttribute("aria-checked")&&(i="Checked");else{const t=co("."+this.connectionId);o=t.innerHTML;const s=e.querySelector(this.componentType);i=s.value}return i+it.Um+o},selectNextField(e){this.$refs["fieldsView"].selectNextField(e),setTimeout((()=>{this.enableOrDisableExportButton()}),5)},initTempFieldDelete(){this.$refs["fieldsView"].initTempFieldDelete()},getFieldByIndex(e){return this.formBuilderModel[e]},getHTMLField(e){const t=co("#"+e.name);return t&&e.page&&null!=e.page&&e.coords&&t.setAttribute("pageno",e.page),t},initiateMagnifyGlass(){this.pdf_in_window?this.external_window.PdfView.initMagnifyGlass():this.initMagnifyGlass()},sendMessegeToChildWindow(e,t,i){this.external_window.PdfView.getDataFromParent({key:e,value:t,redraw:i})},changeScreenMode(){if(!this.isReadOnly){if("validate"==this.field_view_mode){this.field_view_mode="annotate",co("#validate-container").classList.add("hidden"),this.screenshot.classList.remove("cursor-crosshair"),this.removeOverlayandLines(),this.screenshot.removeEventListener("dblclick",this.dblClickToSelect),this.screenshot.removeEventListener("pointerdown",this.startDrag),this.screenshot.removeEventListener("pointerdown",this.startDrag),document.body.removeEventListener("click",this.mouseClicked,!0);const e=co(".img-magnifier-container");e&&e.removeEventListener("scroll",this.removeOverlayandLines);const t=co(".q-splitter__after");t&&t.removeEventListener("scroll",this.removeOverlayandLines)}else{co("#validate-container").classList.remove("hidden"),this.field_view_mode="validate",this.screenshot.addEventListener("dblclick",this.dblClickToSelect),this.screenshot.addEventListener("pointerdown",this.startDrag),this.screenshot.addEventListener("pointerdown",this.startDrag),document.body.addEventListener("click",this.mouseClicked,!0);const e=co(".img-magnifier-container");e&&e.addEventListener("scroll",this.removeOverlayandLines);const t=co(".q-splitter__after");t&&t.addEventListener("scroll",this.removeOverlayandLines)}this.screenshot.classList.remove("cursor-crosshair")}},updateValue(e,t){"font"==e?this.selectFont=t:"color"==e?this.selectColor=t:"size"==e&&(this.selectFontSize=t)},enableEditing(){this.enable_editing,this.screenshot.classList.add("cursor-crosshair")},unLockDoc(e){this.releaseDocLock({doc_id:this.record.doc_id})}},setup(){const e=(0,Ee.Z)(),t=(Le.Z.set("dontAsk",""),Le.Z.get("dontAsk"),(0,st.H_)());t.$reset();const{record:i,get_cached_data_id:o,doc_loaded:s,confirmationForPoConnectionReset:n,error:a,notifications:l,layout_template_id:r,show_all_menu_btns:d,has_ai_table:c,fieldsErrorArray:h,enableExportButton:u,page:m,document_version:g,doc_annotations:_}=(0,re.Jk)(t),{getDocumentById:p,setRecordFromCache:w,setDataToCache:f,removeCache:v,getDocAnnotations:y}=t,b=(0,st.nc)(),{formLayout:k,isExtenedPanel:x,formBuilderModel:C,formBuilderConfigModel:E,renderComponent:D,docType:L}=(0,re.Jk)(b),{getElementWidth:T,isFieldHidden:S}=b;let W=[],I=[],A=(0,ue.iH)(!1),O=(0,ue.iH)(!1),F=(0,ue.iH)(!1);const R=(0,st.TB)(),{releaseDocLock:V}=R,{doc_lock:q}=(0,re.Jk)(R),M=(0,st.e0)(),{isConfirmationBoxDisable:z}=(0,re.Jk)(M),{resetStoreOnRouteChange:Z}=M,P=(0,st.Eu)(),{open_editor:H}=(0,re.Jk)(P),$=(0,st.Ln)(),{makeQueryParamFromFilters:B}=$,U=(0,st.VF)(),{user_settings:N}=(0,re.Jk)(U),{getOrgSettings:Q}=U,K=(0,st.wX)(),{tokenQueryParam:j}=(0,re.Jk)(K);K.getTokenQueryParam();const G=(0,st.b8)(),{connect:Y}=G;let J=[],X={startX:0,startY:0,endX:0,endY:0};const ee={x:0,y:0,width:0,height:0,connectionId:""};let te=0,ie=0,oe=co(".screenshot"),se=co("#marquee"),ne=(co("#foreignObject"),co("#boxes")),ae=co(".areas");return{isFieldHidden:S,doc_annotations:_,connectWebSocket:Y,show_all_menu_btns:d,get_cached_data_id:o,has_ai_table:c,doc_loaded:s,removeCache:v,setDataToCache:f,releaseDocLock:V,getDocumentById:p,setRecordFromCache:w,resetStoreOnRouteChange:Z,isConfirmationBoxDisable:z,fields_pending_load_count:(0,ue.iH)(0),fields_loaded_count:(0,ue.iH)(0),notifications:l,record:i,docType:L,confirmationForPoConnectionReset:n,doc_fetch_error:(0,ue.iH)(a),doc_lock:q,page:m,showTooltip:A,showTooltipWithHide:O,showTooltipWithClose:F,tableRows:W,fieldsNotDisplayed:I,image:(0,ue.iH)(""),current_menu_data:(0,ue.iH)(""),layout:I,images:(0,ue.iH)({}),baseUrl:"https://dev.api.docbits.com",isReadOnly:(0,ue.iH)(!1),componentType:"input",lineitem_count:0,lineitem_error:(0,ue.iH)(!1),doc2AppMode:(0,ue.iH)(!1),is_debug:(0,ue.iH)(!1),tb_version:"default",document_version:g,splitterModel:(0,ue.iH)(60),imageFieldSplitter:(0,ue.iH)(76),showNotification(t){e.notify({message:t,color:"primary",position:"top"})},doc_type_list:I,ai_rules:(0,ue.iH)(0),ai_fields:(0,ue.iH)(0),mean_effective_weight:(0,ue.iH)(0),textConfirmationMsg:(0,ue.iH)(""),formLayout:k,isExtenedPanel:x,renderComponent:D,enableExportButton:u,getElementWidth:T,imageHeight:(0,ue.iH)(0),imageWidth:(0,ue.iH)(0),viewBox:(0,ue.iH)("0 0 0 0"),textApiResponse:(0,ue.iH)(),connectionId:(0,ue.iH)(""),is_admin:(0,ue.iH)(!1),layout_template_id:r,open_editor:H,pdf_in_window:!1,external_window:(0,ue.iH)(),makeQueryParamFromFilters:B,rectangles:J,rectCordinate:X,marqueeRect:ee,startX:te,startY:ie,screenshot:oe,marquee:se,boxes:ne,areas:ae,formBuilderModel:C,formBuilderConfigModel:E,user_settings:N,getOrgSettings:Q,getDocAnnotations:y,tokenQueryParam:j,screen_mode:(0,ue.iH)(!1),field_view_mode:(0,ue.iH)("validate"),enable_editing:(0,ue.iH)(!1),showFontMenu:(0,ue.iH)(!1),fieldsErrorArray:h,selectFont:(0,ue.iH)("Helvetica"),selectFontSize:(0,ue.iH)(12),selectColor:(0,ue.iH)("#000000")}}});var uo=i(7498),mo=i(60883),go=i(10906),_o=i(90136),po=i(51663),wo=i(81973),fo=i(13119),vo=i(52765),yo=i(69026),bo=i(11221),ko=i(18149),xo=i(61450);const Co=(0,ze.Z)(ho,[["render",le],["__scopeId","data-v-d0331786"]]),Eo=Co;Bi()(ho,"components",{QBtn:Ki.Z,QIcon:Hi.Z,QSplitter:uo.Z,QResizeObserver:mo.Z,QTooltip:ji.Z,QDrawer:go.Z,QDialog:Xi.Z,QCard:eo.Z,QCardSection:Zi.Z,QSpace:_o.Z,QToolbar:po.Z,QToolbarTitle:wo.Z,QCardActions:to.Z,QInput:fo.Z,QPopupProxy:vo.Z,QColor:yo.Z,QCheckbox:bo.Z,QField:ko.Z,QTable:xo.Z,QItem:Gi.Z}),Bi()(ho,"directives",{ClosePopup:io.Z})}}]);