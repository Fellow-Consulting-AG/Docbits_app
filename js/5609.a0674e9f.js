"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[5609],{25609:(e,t,o)=>{o.r(t),o.d(t,{default:()=>z});var i=o(61758);const l={id:"services",class:"services section-bg"},a={class:"row"},d={class:"col-11",style:{padding:"20px","margin-left":"50px"}};function s(e,t,o,s,n,c){const p=(0,i.g2)("DocTypes_Middle");return(0,i.uX)(),(0,i.CE)("section",l,[(0,i.Lk)("div",a,[(0,i.Lk)("div",d,[(0,i.bF)(p)])])])}var n=o(24622),c=o(38734),p=o(18505),r=o(36246),h=o(58790),u=o(29104);const y={class:"row text-weight-bolder top-row"},_={class:"full-width",style:{"margin-top":"10px"}},b={style:{"text-align":"left",color:"white"}},f={style:{"max-height":"50vh",overflow:"scroll"}},m={style:{width:"100px"}},k=["onClick"],w=["onClick"],g=["onClick"],v=["onClick"];function C(e,t,o,l,a,d){const s=(0,i.g2)("q-input"),n=(0,i.g2)("q-space"),c=(0,i.g2)("DefaultBtn"),p=(0,i.g2)("q-checkbox"),r=(0,i.g2)("DeleteQfab"),C=(0,i.g2)("q-fab"),x=(0,i.g2)("q-markup-table"),A=(0,i.g2)("EditCreatePopup"),L=(0,i.g2)("q-dialog");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",y,[(0,i.bF)(s,{style:{width:"40%"},outlined:"",dense:"",debounce:"500",modelValue:e.filter,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.filter=t),e.applyFilter],label:e.$t("name")},null,8,["modelValue","label","onUpdate:modelValue"]),(0,i.bF)(n),(0,i.bF)(c,{label:e.$t("doc2light.pages.add"),onClick:t[1]||(t[1]=t=>e.show_doctype_popup=!0)},null,8,["label"])]),(0,i.Lk)("div",_,[(0,i.bF)(x,{class:"sticky-column-for-table q-table-seperator white-back",style:{"max-height":"70vh","overflow-y":"auto"},flat:"",dense:""},{default:(0,i.k6)((()=>[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",b,[(0,i.Lk)("th",null,[(0,i.bF)(p,{dark:"",modelValue:e.headerCheckbox,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.headerCheckbox=t),t[3]||(t[3]=t=>e.changeAction())]},null,8,["modelValue"]),(0,i.bF)(C,{flat:"",modelValue:e.headerFabIcon,"onUpdate:modelValue":t[4]||(t[4]=t=>e.headerFabIcon=t),disable:e.selection.length<1,"label-position":"top","data-cy":"actions","external-label":"",icon:"more_vert",direction:"down",padding:"xs"},{default:(0,i.k6)((()=>[(0,i.bF)(r,{info:e.$t("pages.settings.document_types"),tooltip:e.$t("delete"),function:e.deleteMarked,argument:e.selection},null,8,["info","tooltip","function","argument"])])),_:1},8,["modelValue","disable"])]),(0,i.Lk)("th",null,(0,h.v_)(e.$t("doc2light.table.name")),1),(0,i.Lk)("th",null,(0,h.v_)(e.$t("priority")),1),(0,i.Lk)("th",null,(0,h.v_)(e.$t("doc2light.table.regex_rythm")),1),(0,i.Lk)("th",null,(0,h.v_)(e.$t("doc2light.table.regex")),1)])]),(0,i.Lk)("tbody",f,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.doctype_list,(t=>((0,i.uX)(),(0,i.CE)("tr",{key:t["id"]},[(0,i.Lk)("td",m,[(0,i.bF)(p,{modelValue:t.rowSelection,"onUpdate:modelValue":[e=>t.rowSelection=e,o=>e.selectionList(t)]},null,8,["modelValue","onUpdate:modelValue"])]),(0,i.Lk)("td",{onClick:o=>e.onEditClick(t.id)},(0,h.v_)(e.replaceEmpty(t["name"])),9,k),(0,i.Lk)("td",{onClick:o=>e.onEditClick(t.id)},(0,h.v_)(e.replaceEmpty(t["priority"])),9,w),(0,i.Lk)("td",{onClick:o=>e.onEditClick(t.id)},(0,h.v_)(e.replaceEmpty(t["method"])),9,g),(0,i.Lk)("td",{onClick:o=>e.onEditClick(t.id)},(0,h.v_)(e.replaceEmpty(t["regex"])),9,v)])))),128))])])),_:1})]),(0,i.bF)(L,{modelValue:e.show_doctype_popup,"onUpdate:modelValue":t[5]||(t[5]=t=>e.show_doctype_popup=t),onKeydown:t[6]||(t[6]=(0,u.jR)((t=>e.setter()),["esc"]))},{default:(0,i.k6)((()=>[(0,i.bF)(A,{show:"doctype",mode:"create"})])),_:1},8,["modelValue"]),(0,i.bF)(L,{modelValue:e.show_edit_doctype_popup,"onUpdate:modelValue":t[7]||(t[7]=t=>e.show_edit_doctype_popup=t),onKeydown:t[8]||(t[8]=(0,u.jR)((t=>e.setter()),["esc"]))},{default:(0,i.k6)((()=>[(0,i.bF)(A,{show:"doctype",mode:"edit",id:e.doctype_id},null,8,["id"])])),_:1},8,["modelValue"])],64)}var x=o(63008),A=o(1659),L=o(46162),F=o(31123),R=o(23034),V=o(93760),K=function(e,t,o,i){function l(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,a){function d(e){try{n(i.next(e))}catch(t){a(t)}}function s(e){try{n(i["throw"](e))}catch(t){a(t)}}function n(e){e.done?o(e.value):l(e.value).then(d,s)}n((i=i.apply(e,t||[])).next())}))};const D=(0,i.pM)({data(){return{showIcons:!1,supportURL:L.cK}},mounted(){this.initView()},mixins:[p.A],components:{EditCreatePopup:R.A,DeleteQfab:V.A,DefaultBtn:F.A},methods:{setter(){this.show_edit_doctype_popup=!1,this.show_doctype_popup=!1,this.doctype_list=this.apidata.docTypeData.data},replaceEmpty(e){return e||(e="-"),e},initView(){return K(this,void 0,void 0,(function*(){yield this.setDocTypesfromServer(),this.doctype_list=this.apidata.docTypeData.data}))},onEditClick(e){this.doctype_id=e,this.show_edit_doctype_popup=!0},formateDate(e,t){return r.Ay.formatDate(e,t)},handleActions(e){this.doctype_list[e].fabaction,this.doctype_list[e].fabaction},deleteMarked(e){this.showLoading(),e.forEach((e=>K(this,void 0,void 0,(function*(){yield this.delete_doctype(e)})))),this.tag_skip=0,this.hideLoading()},selectionList(e){const t=this.selection.indexOf(e.id);t>-1?(this.selection.splice(t,1),this.doctype_list[e.id].rowSelection=!1,this.selection.length<1&&(this.headerFabIcon=!1)):(this.selection.push(e.id),this.doctype_list[e.id].rowSelection=!0)},applyFilter(){if(""==this.filter)this.doctype_list=this.apidata.docTypeData.data;else{this.doctype_list={};for(const[e,t]of Object.entries(this.apidata.docTypeData.data))t.name.toLowerCase().includes(this.filter.toLowerCase())&&(this.doctype_list[e]=this.apidata.docTypeData.data[e])}},changeAction(){!0===this.headerCheckbox?this.selectAllRows():(this.resetAllSelectedRows(),this.headerFabIcon=!1)},selectAllRows(){this.headerCheckbox=!0;for(const[e,t]of Object.entries(this.doctype_list))this.doctype_list[e].rowSelection=!0,this.selection.push(e)},resetAllSelectedRows(){this.selection=[],this.headerCheckbox=!1;for(const[e,t]of Object.entries(this.doctype_list))this.doctype_list[e].rowSelection=!1}},setup(){const e=(0,x.GX)(),t=(0,A.bP)(e),{delete_doctype:o,setDocTypesfromServer:i}=e;return{apidata:(0,c.KR)(t),setDocTypesfromServer:i,delete_doctype:o,filter:(0,c.KR)(""),doctype_list:(0,c.KR)({}),view:(0,c.KR)("list"),show_doctype_popup:(0,c.KR)(!1),show_edit_doctype_popup:(0,c.KR)(!1),doctype_id:(0,c.KR)(),selection:(0,c.KR)([]),headerCheckbox:(0,c.KR)(!1),headerFabIcon:(0,c.KR)(!1),tag_skip:(0,c.KR)(1)}}});var E=o(12807),T=o(67837),S=o(93676),I=o(857),Q=o(42315),U=o(80460),M=o(54782),$=o(82156),q=o(98582),j=o.n(q);const X=(0,E.A)(D,[["render",C]]),O=X;j()(D,"components",{QInput:T.A,QSpace:S.A,QMarkupTable:I.A,QTable:Q.A,QCheckbox:U.A,QFab:M.A,QDialog:$.A});const P=(0,i.pM)({data(){return{}},components:{DocTypes_Middle:O},mixins:[p.A,n.A],methods:{formateDate(e,t){return r.Ay.formatDate(e,t)}},setup(){return{showMenu:(0,c.KR)(!1),showIcons:(0,c.KR)(!0),filter:(0,c.KR)(""),view:(0,c.KR)("list")}}});var B=o(56384);const G=(0,E.A)(P,[["render",s],["__scopeId","data-v-355af6e3"]]),z=G;j()(P,"components",{QBtn:B.A})}}]);