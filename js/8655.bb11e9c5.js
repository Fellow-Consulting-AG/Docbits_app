"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[8655],{78655:(t,e,a)=>{a.r(e),a.d(e,{default:()=>H});var s=a(61758),i=a(58790),o=a(29104);const l={class:"row"},n={class:"width-300 q-pl-sm",id:"left_section"},r={class:"full-width master-data-container page-height-100-135 thin-scrollbar"},c={class:"display-flex"},u=["onClick"],d={class:"text-capitalize q-pl-md"},p={class:"width-100-300 q-pl-md",id:"right_section"},h={class:"full-width master-data-container page-height-100-135"};function g(t,e,a,g,b,m){const _=(0,s.g2)("SubHeader"),y=(0,s.g2)("BackToSettings"),f=(0,s.g2)("q-icon"),k=(0,s.g2)("q-item-section"),T=(0,s.g2)("q-item"),v=(0,s.g2)("q-expansion-item"),D=(0,s.g2)("q-list"),w=(0,s.g2)("q-btn"),S=(0,s.g2)("q-tab"),A=(0,s.g2)("draggable"),F=(0,s.g2)("q-tabs"),C=(0,s.g2)("MasterDataTypeList"),L=(0,s.g2)("q-tab-panel"),x=(0,s.g2)("q-tab-panels"),K=(0,s.g2)("CustomMasterDataPopUp"),q=(0,s.g2)("q-dialog"),V=(0,s.g2)("UploadCsv");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(_,{name:"master_data_settings",label:t.$t("pages.settings.supplier_validation"),onSearch:!1},null,8,["label"]),(0,s.bF)(y),(0,s.Lk)("div",l,[(0,s.Lk)("div",n,[(0,s.Lk)("div",r,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.group_data_types,((a,l)=>((0,s.uX)(),(0,s.CE)(s.FK,{key:l},[a&&a.length>0?((0,s.uX)(),(0,s.Wv)(D,{key:0,padding:""},{default:(0,s.k6)((()=>[(0,s.bF)(v,{"expand-separator":"",dense:"","switch-toggle-side":"","header-class":"text-primary h-p-4",class:"text-weight-bold"},{header:(0,s.k6)((()=>[(0,s.bF)(k,null,{default:(0,s.k6)((()=>[(0,s.Lk)("div",c,[(0,s.Lk)("span",null,(0,i.v_)(t.$t(String(l))),1),"api_imported"==String(l)&&t.user_settings[t.custom_master_data]?((0,s.uX)(),(0,s.Wv)(f,{key:0,name:"settings",class:"q-ml-sm text-primary cursor-pointer",size:"22px",onClick:e[0]||(e[0]=(0,o.D$)((e=>t.showCustomMasterDataDlg()),["stop"]))})):(0,s.Q3)("",!0),"imported"==String(l)?((0,s.uX)(),(0,s.Wv)(f,{key:1,name:"add_circle_outline",class:"q-ml-sm text-primary cursor-pointer",size:"22px",onClick:e[1]||(e[1]=(0,o.D$)((e=>t.showUploadCSVDlg()),["stop"]))})):(0,s.Q3)("",!0)])])),_:2},1024)])),default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a,((e,a)=>((0,s.uX)(),(0,s.Wv)(T,{key:a},{default:(0,s.k6)((()=>[(0,s.Lk)("div",{class:"full-width display-flex cursor-pointer q-pa-sm text-weight-regular",onClick:a=>t.selectTab(e,String(l))},[(0,s.Lk)("span",d,(0,i.v_)(t.$t(t.aliases[e]||e)),1)],8,u)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)):(0,s.Q3)("",!0)],64)))),128))])]),(0,s.Lk)("div",p,[(0,s.bF)(w,{id:"menu_btn",round:"",icon:"chevron_left",size:"xs",class:"toggler-btn",color:"primary",onClick:e[2]||(e[2]=e=>t.toggleMenu())}),(0,s.Lk)("div",h,[(0,s.bF)(F,{modelValue:t.selectedTab,"onUpdate:modelValue":e[3]||(e[3]=e=>t.selectedTab=e),align:"left",class:"custom-tabs","active-class":"text-primary","outside-arrows":"","mobile-arrows":"","inline-label":""},{default:(0,s.k6)((()=>[(0,s.bF)(A,{list:t.tabs,class:"dragArea row",group:{name:"master-data",pull:!1,put:!0},sort:!0,"item-key":"name"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.tabs,((e,a)=>((0,s.uX)(),(0,s.Wv)(S,{key:a,name:e.type,class:"custom-tab"},{default:(0,s.k6)((()=>[(0,s.Lk)("span",null,(0,i.v_)(t.$t(t.aliases[e.type]||e.type)),1),(0,s.bF)(f,{name:"close",size:"xs",class:"cursor-pointer close-icon",onClick:(0,o.D$)((e=>t.closeTab(a)),["stop"])},null,8,["onClick"])])),_:2},1032,["name"])))),128))])),_:1},8,["list"])])),_:1},8,["modelValue"]),(0,s.bF)(x,{modelValue:t.selectedTab,"onUpdate:modelValue":e[4]||(e[4]=e=>t.selectedTab=e),animated:""},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.tabs,(t=>((0,s.uX)(),(0,s.Wv)(L,{key:t.type,name:t.type,class:"min-height-200"},{default:(0,s.k6)((()=>[(0,s.bF)(C,{type_name:t.type,parent:t.parentTab},null,8,["type_name","parent"])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])])]),(0,s.bF)(q,{modelValue:t.show_custom_master_data,"onUpdate:modelValue":e[5]||(e[5]=e=>t.show_custom_master_data=e)},{default:(0,s.k6)((()=>[(0,s.bF)(K)])),_:1},8,["modelValue"]),(0,s.bF)(q,{modelValue:t.show_upload_csv,"onUpdate:modelValue":e[6]||(e[6]=e=>t.show_upload_csv=e)},{default:(0,s.k6)((()=>[(0,s.bF)(V)])),_:1},8,["modelValue"])],64)}var b=a(1659),m=a(6044),_=a(24622),y=a(38734),f=a(11470),k=a(18505),T=a(64775),v=a(76956),D=a(39231),w=a(51476),S=a(68180),A=a(1595),F=a(25773),C=a(693),L=a(44499),x=a(77973),K=function(t,e,a,s){function i(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,o){function l(t){try{r(s.next(t))}catch(e){o(e)}}function n(t){try{r(s["throw"](t))}catch(e){o(e)}}function r(t){t.done?a(t.value):i(t.value).then(l,n)}r((s=s.apply(t,e||[])).next())}))};const q=(0,s.pM)({el:"#app",mixins:[k.A,_.A,m.A],props:{},components:{SubHeader:S.A,UploadCsv:C.A,BackToSettings:F.A,MasterDataTypeList:L.A,CustomMasterDataPopUp:x.A,draggable:D.H},data(){return{custom_master_data:v.MS,masterDataTabsKey:"master_data_tabs"}},beforeRouteLeave:function(t,e,a){const s=(0,A.rD)();s.$reset(),a()},mounted:function(){this.initView()},methods:{initView(){return K(this,void 0,void 0,(function*(){try{yield this.getDataSetTypes(),yield this.getDataSetAliases(),yield this.startSettingsFetch(),yield this.getMasterDataList("record"),this.openDefaultTabs()}catch(t){const e=T.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}}))},selectTab(t,e){this.selectedTab=t;const a=this.tabs.findIndex((e=>e.type===t));-1==a&&(this.tabs.push({type:t,parentTab:e}),this.setDataToLocalStorage((0,w.un)(this.masterDataTabsKey),JSON.stringify(this.tabs)))},closeTab(t){const e=this.tabs[t];if(this.tabs.splice(t,1),0==this.tabs.length)return this.selectedTab="",void this.removeDataFromLocalStorage((0,w.un)(this.masterDataTabsKey));if(e.type===this.selectedTab){const t=this.tabs.length-1;this.selectedTab=this.tabs[t].type,this.setDataToLocalStorage((0,w.un)(this.masterDataTabsKey),JSON.stringify(this.tabs))}},getDataSetTypes(){return K(this,void 0,void 0,(function*(){try{this.group_data_types=[];const t=yield f.SY.getGroupedDataSetTypes();if(1!=t.success)throw{message:t.message};this.group_data_types=t.data}catch(t){const e=T.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}}))},showCustomMasterDataDlg(){this.show_custom_master_data=!this.show_custom_master_data},showUploadCSVDlg(){this.show_upload_csv=!this.show_upload_csv},openDefaultTabs(){const t=this.getDataByKey((0,w.un)(this.masterDataTabsKey));if(t)this.tabs=JSON.parse(t);else for(const[e,a]of Object.entries(this.group_data_types)){const t=a;if(t&&t.length>0){this.tabs.push({type:t[0],parentTab:e}),this.setDataToLocalStorage((0,w.un)(this.masterDataTabsKey),JSON.stringify(this.tabs));break}}this.selectedTab=this.tabs[0].type}},setup(){const t=(0,A.rD)(),{getDataSetAliases:e,getMasterDataList:a}=t,{aliases:s}=(0,b.bP)(t),i=(0,A.Bu)(),{user_settings:o}=(0,b.bP)(i),{startSettingsFetch:l}=i;return{user_settings:o,getDataSetAliases:e,getMasterDataList:a,startSettingsFetch:l,aliases:s,loading:(0,y.KR)(!1),show_upload_csv:(0,y.KR)(!1),group_data_types:(0,y.KR)([]),show_custom_master_data:(0,y.KR)(!1),tabs:(0,y.KR)([]),selectedTab:(0,y.KR)("")}}});var V=a(12807),Q=a(53999),M=a(88841),E=a(25173),X=a(50492),I=a(90124),U=a(56384),$=a(42980),P=a(10327),R=a(39041),W=a(71746),z=a(82156),B=a(39035),O=a(98582),J=a.n(O);const N=(0,V.A)(q,[["render",g],["__scopeId","data-v-fd7ebbf4"]]),H=N;J()(q,"components",{QList:Q.A,QExpansionItem:M.A,QItemSection:E.A,QIcon:X.A,QItem:I.A,QBtn:U.A,QTabs:$.A,QTab:P.A,QTabPanels:R.A,QTabPanel:W.A,QDialog:z.A,QInnerLoading:B.A})}}]);