"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[599],{599:(t,e,l)=>{l.r(e),l.d(e,{default:()=>z});var o=l(61758);const i={id:"services",class:"services section-bg"},a={class:"row"},s={class:"col-11",style:{padding:"20px","margin-left":"50px"}};function n(t,e,l,n,d,c){const r=(0,o.g2)("Tags_Middle");return(0,o.uX)(),(0,o.CE)("section",i,[(0,o.Lk)("div",a,[(0,o.Lk)("div",s,[(0,o.bF)(r)])])])}var d=l(24622),c=l(38734),r=l(18505),h=l(36246),u=l(58790),p=l(29104);const g={class:"row text-weight-bolder top-row"},_={class:"full-width",style:{"margin-top":"10px"}},b={style:{"text-align":"left",color:"white"}},f={style:{width:"100px"}},k={style:{"max-height":"50vh",overflow:"scroll"}},m=["onClick"],w=["onClick"],v=["onClick"],y=["onClick"];function C(t,e,l,i,a,s){const n=(0,o.g2)("q-input"),d=(0,o.g2)("q-space"),c=(0,o.g2)("DefaultBtn"),r=(0,o.g2)("q-checkbox"),h=(0,o.g2)("DeleteQfab"),C=(0,o.g2)("q-fab"),A=(0,o.g2)("q-chip"),x=(0,o.g2)("q-markup-table"),F=(0,o.g2)("EditCreatePopup"),L=(0,o.g2)("q-dialog");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",g,[(0,o.bF)(n,{style:{width:"40%"},outlined:"",dense:"",debounce:"500",modelValue:t.filter,"onUpdate:modelValue":[e[0]||(e[0]=e=>t.filter=e),t.applyFilter],label:t.$t("name")},null,8,["modelValue","label","onUpdate:modelValue"]),(0,o.bF)(d),(0,o.bF)(c,{label:t.$t("doc2light.pages.add"),onClick:e[1]||(e[1]=e=>t.show_tag_popup=!0)},null,8,["label"])]),(0,o.Lk)("div",_,[(0,o.bF)(x,{class:"sticky-column-for-table q-table-seperator white-back",style:{"max-height":"70vh","overflow-y":"auto"},dense:"",flat:""},{default:(0,o.k6)((()=>[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",b,[(0,o.Lk)("th",f,[(0,o.bF)(r,{dark:"",modelValue:t.headerCheckbox,"onUpdate:modelValue":[e[2]||(e[2]=e=>t.headerCheckbox=e),e[3]||(e[3]=e=>t.changeAction())]},null,8,["modelValue"]),(0,o.bF)(C,{flat:"",modelValue:t.headerFabIcon,"onUpdate:modelValue":e[4]||(e[4]=e=>t.headerFabIcon=e),disable:t.selection.length<1,"label-position":"top","data-cy":"actions","external-label":"",icon:"more_vert",direction:"down",padding:"xs"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{info:t.$t("doc2light.pages.tags"),tooltip:t.$t("delete"),function:t.deleteMarked,argument:t.selection},null,8,["info","tooltip","function","argument"])])),_:1},8,["modelValue","disable"])]),(0,o.Lk)("th",null,(0,u.v_)(t.$t("doc2light.table.name")),1),(0,o.Lk)("th",null,(0,u.v_)(t.$t("doc2light.table.color")),1),(0,o.Lk)("th",null,(0,u.v_)(t.$t("doc2light.table.regex_rythm")),1),(0,o.Lk)("th",null,(0,u.v_)(t.$t("doc2light.table.regex")),1)])]),(0,o.Lk)("tbody",k,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.tag_list,(e=>((0,o.uX)(),(0,o.CE)("tr",{key:e["id"]},[(0,o.Lk)("td",null,[(0,o.bF)(r,{modelValue:e.rowSelection,"onUpdate:modelValue":[t=>e.rowSelection=t,l=>t.selectionList(e)]},null,8,["modelValue","onUpdate:modelValue"])]),(0,o.Lk)("td",{onClick:l=>t.onEditClick(e.id)},(0,u.v_)(t.replaceEmpty(e["name"])),9,m),(0,o.Lk)("td",{onClick:l=>t.onEditClick(e.id)},[(0,o.bF)(A,{style:(0,u.Tr)({"background-color":e.color,color:t.color_check(e.color)})},{default:(0,o.k6)((()=>[(0,o.eW)((0,u.v_)(t.replaceEmpty(e["color"])),1)])),_:2},1032,["style"])],8,w),(0,o.Lk)("td",{onClick:l=>t.onEditClick(e.id)},(0,u.v_)(t.replaceEmpty(e["method"])),9,v),(0,o.Lk)("td",{onClick:l=>t.onEditClick(e.id)},(0,u.v_)(t.replaceEmpty(e["regex"])),9,y)])))),128))])])),_:1})]),(0,o.bF)(L,{modelValue:t.show_tag_popup,"onUpdate:modelValue":e[5]||(e[5]=e=>t.show_tag_popup=e),onKeydown:e[6]||(e[6]=(0,p.jR)((e=>t.setter()),["esc"]))},{default:(0,o.k6)((()=>[(0,o.bF)(F,{mode:"create"})])),_:1},8,["modelValue"]),(0,o.bF)(L,{modelValue:t.show_edit_popup,"onUpdate:modelValue":e[7]||(e[7]=e=>t.show_edit_popup=e),onKeydown:e[8]||(e[8]=(0,p.jR)((e=>t.setter()),["esc"]))},{default:(0,o.k6)((()=>[(0,o.bF)(F,{mode:"edit",id:t.tag_id},null,8,["id"])])),_:1},8,["modelValue"])],64)}var A=l(63008),x=l(1659),F=l(46162),L=l(65471),R=l(31123),V=l(93760),K=function(t,e,l,o){function i(t){return t instanceof l?t:new l((function(e){e(t)}))}return new(l||(l=Promise))((function(l,a){function s(t){try{d(o.next(t))}catch(e){a(e)}}function n(t){try{d(o["throw"](t))}catch(e){a(e)}}function d(t){t.done?l(t.value):i(t.value).then(s,n)}d((o=o.apply(t,e||[])).next())}))};const E=(0,o.pM)({data(){return{showIcons:!1,supportURL:F.cK}},components:{DefaultBtn:R.A,EditCreatePopup:L.A,DeleteQfab:V.A},mixins:[r.A],mounted(){this.initView(),this.resetAllSelectedRows()},methods:{setter(){this.show_edit_popup=!1,this.tag_list=this.apidata.tagData.data},replaceEmpty(t){return null!=t&&"undefined"!=t||(t="-"),t},initView(){return K(this,void 0,void 0,(function*(){yield this.setTagsFromServer(),this.tag_list=this.apidata.tagData.data,logInfo(this.tag_list)}))},onTrashbinClick(t){return K(this,void 0,void 0,(function*(){yield this.delete_tag(t)}))},onEditClick(t){this.tag_id=t,this.show_edit_popup=!0},selectionList(t){this.selection.indexOf(t.id)>=0?this.selection.splice(this.selection.indexOf(t.id),1):this.selection.push(t.id)},handleActions(t){this.tag_list[t].fabaction,this.tag_list[t].fabaction},selectAllRows(){this.selection=[];for(const[t,e]of Object.entries(this.tag_list))this.tag_list[t].rowSelection=!0,this.selection.push(this.tag_list[t].id)},resetAllSelectedRows(){this.selection=[],this.headerCheckbox=!1;for(const[t,e]of Object.entries(this.tag_list))this.tag_list[t].rowSelection=!1},changeAction(){!0===this.headerCheckbox?this.selectAllRows():this.resetAllSelectedRows()},applyFilter(){if(""==this.filter)this.tag_list=this.apidata.tagData.data;else{this.tag_list={};for(const[t,e]of Object.entries(this.apidata.tagData.data))e.name.toLowerCase().includes(this.filter.toLowerCase())&&(this.tag_list[t]=this.apidata.tagData.data[t])}},deleteMarked(t){this.showLoading(),t.forEach((t=>K(this,void 0,void 0,(function*(){yield this.delete_tag(t)})))),this.tag_skip=0,this.hideLoading()},formateDate(t,e){return h.Ay.formatDate(t,e)},color_check(t){if(null==t)return"black";var e=t.substring(1),l=parseInt(e,16),o=l>>16&255,i=l>>8&255,a=255&l,s=.2126*o+.7152*i+.0722*a;return s<40?"white":"black"}},setup(){const t=(0,A.GX)(),e=(0,x.bP)(t),{setTagsFromServer:l,delete_tag:o}=t;return{apidata:(0,c.KR)(e),filter:(0,c.KR)(""),tag_list:(0,c.KR)({}),view:(0,c.KR)("list"),show_tag_popup:(0,c.KR)(!1),headerCheckbox:(0,c.KR)(!1),headerFabIcon:(0,c.KR)(!1),selection:(0,c.KR)([]),show_edit_popup:(0,c.KR)(!1),tag_id:(0,c.KR)(),tag_skip:(0,c.KR)(1),delete_tag:o,setTagsFromServer:l}}});var D=l(12807),Q=l(67837),S=l(93676),T=l(857),I=l(42315),U=l(80460),q=l(54782),M=l(66760),$=l(82156),j=l(98582),O=l.n(j);const X=(0,D.A)(E,[["render",C]]),P=X;O()(E,"components",{QInput:Q.A,QSpace:S.A,QMarkupTable:T.A,QTable:I.A,QCheckbox:U.A,QFab:q.A,QChip:M.A,QDialog:$.A});const B=(0,o.pM)({data(){return{}},components:{Tags_Middle:P},mixins:[r.A,d.A],methods:{formateDate(t,e){return h.Ay.formatDate(t,e)}},setup(){return{showMenu:(0,c.KR)(!1),showIcons:(0,c.KR)(!0),filter:(0,c.KR)(""),view:(0,c.KR)("list")}}});var G=l(56384);const W=(0,D.A)(B,[["render",n],["__scopeId","data-v-fc5bd3a4"]]),z=W;O()(B,"components",{QBtn:G.A})}}]);