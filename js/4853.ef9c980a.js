"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[4853],{84853:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Ke});var o=t(59835),i=t(86970);const l=e=>((0,o.dD)("data-v-0f5fdf33"),e=e(),(0,o.Cn)(),e),a={id:"services",class:"services section-bg"},r={class:"full-width mainCont","data-aos":"fade-up"},n={class:"section-title"},d={class:"container"},c={class:"card-deck text-center justify-center"},p={class:"card box-shadow relative-position","data-aos":"zoom-in","data-aos-delay":"300"},_=l((()=>(0,o._)("div",{class:"card-header"},[(0,o._)("div",{class:"icon pt-3"},[(0,o._)("img",{alt:"FellowKV2",class:"img-fluid",src:"docbits.svg"})])],-1))),m={class:"card-body"},g={align:"center",class:"info-text text-grey-7 q-mt-md"},h={class:"absolute-bottom q-pb-md"},u={class:""},w={class:"back-button-lable"},f={key:0,class:"card box-shadow relative-position","data-aos":"zoom-in","data-aos-delay":"300"},k=l((()=>(0,o._)("div",{class:"card-header"},[(0,o._)("div",{class:"icon pt-3"},[(0,o._)("img",{alt:"Doc2-Light",class:"img-fluid",src:"alfred_card.svg"})])],-1))),y={class:"card-body"},b={align:"center",class:"info-text text-grey-7 q-mt-md"},v={class:"absolute-bottom q-pb-md"},x={class:"back-button-lable"},W={key:1,style:{"margin-bottom":"51px"}},S={key:1,class:"card box-shadow relative-position","data-aos":"zoom-in","data-aos-delay":"300"},q=l((()=>(0,o._)("div",{class:"card-header"},[(0,o._)("div",{class:"icon pt-3"},[(0,o._)("img",{alt:"Doc2-Scan",class:"img-fluid",src:"doc_bits_scan.svg"})])],-1))),A={class:"card-body"},C={align:"center",class:"info-text text-grey-7 q-mt-md"},V={class:"absolute-bottom q-pb-md"},z={class:"back-button-lable"},E={key:1,style:{"margin-bottom":"51px"}},$={key:2,class:"card box-shadow relative-position","data-aos":"zoom-in","data-aos-delay":"100"},Z=l((()=>(0,o._)("div",{class:"card-header"},[(0,o._)("div",{class:"icon pt-3"},[(0,o._)("img",{alt:"FellowKV2",class:"img-fluid",style:{height:"80px"},src:"workflow2.svg"})])],-1))),U={class:"card-body info-text text-grey-7 q-mt-md"},D={align:"center"},H={class:"absolute-bottom q-pb-md"},P=l((()=>(0,o._)("img",{width:"24",src:"coffee-cup.svg"},null,-1))),Q={class:"back-button-lable"},N={key:2,style:{"margin-bottom":"51px"}},O={class:"card box-shadow relative-position","data-aos":"zoom-in","data-aos-delay":"100"},F={class:"full-width"},T={class:"center-inner"},I={class:"row",style:{"flex-direction":"column",width:"100%","padding-top":"10px","padding-bottom":"10px"}},B={class:"center-inner"},L={class:"row",style:{"flex-direction":"column",width:"100%","padding-top":"10px"}},j={class:"row",style:{"flex-direction":"row",width:"100%","padding-top":"35px","padding-bottom":"10px","margin-left":"30%"}},M={style:{"margin-left":"38%"}},J={class:"row align-items-center",style:{"flex-direction":"column",width:"100%","padding-top":"10px"}},R={class:"row align-items-center",style:{"flex-direction":"row",width:"100%","padding-top":"10px","padding-bottom":"10px","margin-left":"30%"}},Y=l((()=>(0,o._)("img",{class:"loader",src:"loader.gif",alt:"Loading..."},null,-1))),G={class:"right"},K=l((()=>(0,o._)("img",{src:"ines_100.png",class:"img-radius"},null,-1))),X=l((()=>(0,o._)("img",{width:"32",src:"calendar.svg"},null,-1))),ee={class:"text-lg",style:{width:"10em"}};function se(e,s,t,l,se,te){const oe=(0,o.up)("q-scroll-area"),ie=(0,o.up)("q-toggle"),le=(0,o.up)("q-btn"),ae=(0,o.up)("q-icon"),re=(0,o.up)("q-banner"),ne=(0,o.up)("Insight"),de=(0,o.up)("q-card-section"),ce=(0,o.up)("q-card-actions"),pe=(0,o.up)("q-card"),_e=(0,o.up)("q-dialog"),me=(0,o.up)("q-input"),ge=(0,o.up)("q-inner-loading"),he=(0,o.up)("q-badge"),ue=(0,o.up)("q-tooltip");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("section",a,[(0,o._)("div",r,[(0,o._)("div",n,[(0,o._)("h2",null,[(0,o._)("strong",null,(0,i.zw)(e.$t("pages.select_app.select_app_header")),1)])]),(0,o._)("div",d,[(0,o._)("div",c,[(0,o._)("div",p,[_,(0,o.Wm)(oe,{style:{height:"260px"}},{default:(0,o.w5)((()=>[(0,o._)("div",m,[(0,o._)("p",g,(0,i.zw)(e.$t("pages.select_app.doc2_desc")),1)])])),_:1}),(0,o._)("div",h,[(0,o._)("div",null,[(0,o._)("div",null,[(0,o.Wm)(ie,{class:"toggleBtn",size:"xl",modelValue:e.selected_apps["doc2"],"onUpdate:modelValue":[s[0]||(s[0]=s=>e.selected_apps["doc2"]=s),e.doc2AppSelected],disable:!(!e.subsciptionExpired&&e.is_admin)},null,8,["modelValue","disable","onUpdate:modelValue"])]),(0,o._)("div",u,[e.subsciptionExpired?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(le,{key:0,flat:"",rounded:"",onClick:e.doc2AppBtnClicked,class:(0,i.C_)("secondary-c-text info-text "+(!0===e.selected_apps["doc2"]?"app-on":"app-off"))},{default:(0,o.w5)((()=>[(0,o._)("label",w,(0,i.zw)(e.$t("pages.select_app.doc2_visit")),1)])),_:1},8,["onClick","class"]))])])])]),e.show_alfred?((0,o.wg)(),(0,o.iD)("div",f,[k,(0,o.Wm)(oe,{style:{height:"260px"}},{default:(0,o.w5)((()=>[(0,o._)("div",y,[(0,o._)("p",b,(0,i.zw)(e.$t("pages.select_app.alfred_desc")),1)])])),_:1}),(0,o._)("div",v,[(0,o._)("div",null,[(0,o._)("div",null,[(0,o.Wm)(ie,{class:"toggleBtn",size:"xl",modelValue:e.alfred,"onUpdate:modelValue":s[1]||(s[1]=s=>e.alfred=s),disable:!e.show_alfred||!e.is_admin},null,8,["modelValue","disable"])]),(0,o._)("div",null,[e.alfred?((0,o.wg)(),(0,o.j4)(le,{key:0,flat:"",rounded:"",to:"/alfred/dashboard",class:(0,i.C_)("secondary-c-text info-text "+(e.alfred?"app-on":"app-off"))},{default:(0,o.w5)((()=>[(0,o._)("label",x,(0,i.zw)(e.$t("pages.select_app.alfred_visit")),1)])),_:1},8,["class"])):((0,o.wg)(),(0,o.iD)("div",W))])])])])):(0,o.kq)("",!0),e.show_alfred?((0,o.wg)(),(0,o.iD)("div",S,[q,(0,o.Wm)(oe,{style:{height:"260px"}},{default:(0,o.w5)((()=>[(0,o._)("div",A,[(0,o._)("p",C,(0,i.zw)(e.$t("pages.select_app.doc2scan_desc")),1)])])),_:1}),(0,o._)("div",V,[(0,o._)("div",null,[(0,o._)("div",null,[(0,o.Wm)(ie,{class:"toggleBtn",size:"xl",modelValue:e.doc2scan,"onUpdate:modelValue":s[2]||(s[2]=s=>e.doc2scan=s),disable:!e.show_doc2scan||!e.is_admin},null,8,["modelValue","disable"])]),(0,o._)("div",null,[e.doc2scan?((0,o.wg)(),(0,o.j4)(le,{key:0,flat:"",rounded:"",to:"/directscan",class:(0,i.C_)("secondary-c-text info-text "+(e.doc2scan?"app-on":"app-off"))},{default:(0,o.w5)((()=>[(0,o._)("label",z,(0,i.zw)(e.$t("pages.select_app.doc2scan_visit")),1)])),_:1},8,["class"])):((0,o.wg)(),(0,o.iD)("div",E))])])])])):(0,o.kq)("",!0),"ready"===e.workflow_status?((0,o.wg)(),(0,o.iD)("div",$,[Z,(0,o.Wm)(oe,{style:{height:"260px"}},{default:(0,o.w5)((()=>[(0,o._)("div",U,[(0,o._)("p",D,(0,i.zw)(e.$t("pages.select_app.wf_desc")),1)])])),_:1}),(0,o._)("div",H,[(0,o._)("div",null,[(0,o._)("div",null,[(0,o.Wm)(ie,{class:"toggleBtn",size:"xl",modelValue:e.selected_apps["workflow"],"onUpdate:modelValue":[s[3]||(s[3]=s=>e.selected_apps["workflow"]=s),s[4]||(s[4]=s=>{e.workflowSelected("workflow",s)})],disable:"no_subscribed"===e.workflow_status||!e.is_admin||!e.hasAppsSubscription},null,8,["modelValue","disable"])]),(0,o._)("div",null,["in_progress"===e.workflow_status?((0,o.wg)(),(0,o.j4)(re,{key:0,"inline-actions":"",rounded:"",class:"text-white text-weight-bold"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.$t("pages.select_app.wf_progress"))+" ",1),(0,o.Wm)(ae,{color:"primary",size:"sm"},{default:(0,o.w5)((()=>[P])),_:1}),(0,o.Uk)(". "+(0,i.zw)(e.$t("pages.select_app.wf_progress2")),1)])),_:1})):(0,o.kq)("",!0),e.hasAppsSubscription?((0,o.wg)(),(0,o.j4)(le,{key:1,flat:"",rounded:"",onClick:s[5]||(s[5]=s=>e.goToWorkflow()),class:(0,i.C_)("secondary-c-text info-text "+(!0===e.selected_apps["workflow"]&&"ready"===e.workflow_status?"app-on":"app-off"))},{default:(0,o.w5)((()=>[(0,o._)("label",Q,(0,i.zw)(e.$t("pages.select_app.wf_visit")),1)])),_:1},8,["class"])):((0,o.wg)(),(0,o.iD)("div",N))])])])])):(0,o.kq)("",!0),(0,o._)("div",O,[(0,o.Wm)(ne)])])])])]),(0,o.Wm)(_e,{modelValue:e.display_error,"onUpdate:modelValue":s[7]||(s[7]=s=>e.display_error=s),persistent:"",class:"login-error-dialog"},{default:(0,o.w5)((()=>[(0,o.Wm)(pe,{style:{width:"500px","max-width":"40vw"}},{default:(0,o.w5)((()=>[(0,o.Wm)(de,{class:"row items-center login-error-background p-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(ae,{color:"white",size:"xl",class:"center-inner",name:"warning"})])),_:1}),(0,o.Wm)(de,null,{default:(0,o.w5)((()=>[(0,o._)("div",F,[(0,o._)("span",T,(0,i.zw)(e.error_message),1)])])),_:1}),(0,o.Wm)(ce,null,{default:(0,o.w5)((()=>[(0,o._)("div",I,[(0,o.Wm)(le,{label:e.$t("pages.select_app.close"),class:"q-mr-sm login-error-background",color:"primary",onClick:s[6]||(s[6]=s=>e.display_error=!1)},null,8,["label"])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(_e,{modelValue:e.display_workflow_form,"onUpdate:modelValue":s[10]||(s[10]=s=>e.display_workflow_form=s),persistent:"",class:"login-error-dialog"},{default:(0,o.w5)((()=>[(0,o.Wm)(pe,{style:{width:"500px","max-width":"40vw"}},{default:(0,o.w5)((()=>[(0,o.Wm)(de,{class:"row items-center login-error-background p-4 workflow-create-header"},{default:(0,o.w5)((()=>[(0,o._)("span",B,(0,i.zw)(e.$t("pages.select_app.wf_domain")),1)])),_:1}),(0,o.Wm)(de,null,{default:(0,o.w5)((()=>[(0,o._)("div",L,[(0,o.Wm)(me,{outlined:"",class:(0,i.C_)("full-width cursor-pointer"),modelValue:e.model["domain_name"],"onUpdate:modelValue":s[8]||(s[8]=s=>e.model["domain_name"]=s),placeholder:e.$t("Domain Name"),"error-message":e.model["domain_name_error_msg"],error:e.model["domain_name_error"],hint:e.$t("pages.select_app.wf_hint"),style:{"padding-top":"10px"}},null,8,["modelValue","placeholder","error-message","error","hint"])])])),_:1}),(0,o.Wm)(ce,null,{default:(0,o.w5)((()=>[(0,o._)("div",j,[(0,o.Wm)(le,{style:{width:"30%","margin-right":"5px"},label:e.$t("pages.select_app.close"),class:"q-mr-sm login-error-background",color:"primary",onClick:s[9]||(s[9]=s=>{e.display_workflow_form=!1,e.selected_apps["workflow"]=!1})},null,8,["label"]),(0,o.Wm)(le,{style:{width:"30%"},label:e.$t("pages.select_app.create"),class:"q-mr-sm login-error-background",color:"primary",onClick:e.createOrDeleteNewWorkflow},null,8,["label","onClick"])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(_e,{modelValue:e.delete_confirmation,"onUpdate:modelValue":s[13]||(s[13]=s=>e.delete_confirmation=s),persistent:"",class:"login-error-dialog"},{default:(0,o.w5)((()=>[(0,o.Wm)(pe,{style:{width:"550px","max-width":"40vw"}},{default:(0,o.w5)((()=>[(0,o.Wm)(de,{class:"row login-error-background p-4 workflow-create-header"},{default:(0,o.w5)((()=>[(0,o._)("span",M,(0,i.zw)(e.$t("pages.select_app.wf_delete")),1)])),_:1}),(0,o.Wm)(de,null,{default:(0,o.w5)((()=>[(0,o._)("div",J,[(0,o.Uk)((0,i.zw)(e.$t("pages.select_app.wf_warning"))+" ",1),(0,o.Wm)(me,{outlined:"",class:(0,i.C_)("full-width cursor-pointer"),modelValue:e.model["domain_delete"],"onUpdate:modelValue":s[11]||(s[11]=s=>e.model["domain_delete"]=s),placeholder:e.$t("pages.select_app.wf_delete_hint"),"error-message":e.model["domain_name_error_msg"],error:e.model["domain_name_error"],style:{"padding-top":"10px"}},null,8,["modelValue","placeholder","error-message","error"])])])),_:1}),(0,o.Wm)(ce,null,{default:(0,o.w5)((()=>[(0,o._)("div",R,[(0,o.Wm)(le,{style:{width:"30%","margin-right":"5px"},label:e.$t("pages.select_app.close"),class:"q-mr-sm login-error-background",color:"primary",onClick:s[12]||(s[12]=s=>{e.delete_confirmation=!1,e.selected_apps["workflow"]=!0})},null,8,["label"]),(0,o.Wm)(le,{style:{width:"30%"},label:e.$t("pages.select_app.delete"),class:"q-mr-sm login-error-background",color:"primary",onClick:e.deleteWorkflow},null,8,["label","onClick"])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(ge,{showing:e.processing,class:"max-full-width fullscreen amna z-index-80000"},{default:(0,o.w5)((()=>[Y])),_:1},8,["showing"]),(0,o._)("div",G,[(0,o.Wm)(le,{flat:"",onClick:s[14]||(s[14]=s=>e.openCalendly()),style:{padding:"unset"}},{default:(0,o.w5)((()=>[K,(0,o.Wm)(he,{class:"calender",floating:""},{default:(0,o.w5)((()=>[X])),_:1}),(0,o.Wm)(ue,{class:"bg-white text-color-grey text-center border-grey"},{default:(0,o.w5)((()=>[(0,o._)("div",ee,[(0,o._)("p",null,(0,i.zw)(e.$t("have_questions")),1)])])),_:1})])),_:1})])],64)}var te=t(39981),oe=t.n(te),ie=t(60499),le=t(49990),ae=t(96427),re=t(44545),ne=t(15877),de=t(11494),ce=t(37744);const pe=e=>((0,o.dD)("data-v-195a1fa2"),e=e(),(0,o.Cn)(),e),_e=pe((()=>(0,o._)("div",{class:"card-header"},[(0,o._)("div",{class:"icon pt-3"},[(0,o._)("img",{alt:"Insight2",class:"img-fluid",style:{height:"110px"},src:"insight.svg"})])],-1))),me={class:"card-body",style:{display:"inline-block"}},ge={align:"center",class:"info-text text-grey-7 q-mt-md"},he={class:"absolute-bottom q-pb-md"},ue=pe((()=>(0,o._)("img",{width:"24",src:"coffee-cup.svg"},null,-1))),we={key:0,class:"back-button-lable"},fe={key:2,style:{"margin-bottom":"51px"}},ke=pe((()=>(0,o._)("img",{class:"loader",src:"loader.gif",alt:"Loading..."},null,-1))),ye=pe((()=>(0,o._)("span",null,"Delete Insight",-1))),be={class:"row",style:{"flex-direction":"column",width:"100%"}},ve=(0,o.Uk)(" All of your data in the Insight will be deleted and can not be restored. "),xe={class:"row",style:{"flex-direction":"row",width:"100%"}};function We(e,s,t,l,a,r){const n=(0,o.up)("q-scroll-area"),d=(0,o.up)("q-toggle"),c=(0,o.up)("q-icon"),p=(0,o.up)("q-banner"),_=(0,o.up)("q-btn"),m=(0,o.up)("q-inner-loading"),g=(0,o.up)("q-card-section"),h=(0,o.up)("q-input"),u=(0,o.up)("q-card-actions"),w=(0,o.up)("q-card"),f=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)(o.HY,null,[_e,(0,o.Wm)(n,{style:{height:"260px"}},{default:(0,o.w5)((()=>[(0,o._)("div",me,[(0,o._)("p",ge,(0,i.zw)(e.$t("insight_desc")),1)])])),_:1}),(0,o._)("div",he,[(0,o._)("div",null,[(0,o._)("div",null,[(0,o.Wm)(d,{id:"toggleBtn",class:"toggleBtn",size:"xl",modelValue:e.insight_preference,"onUpdate:modelValue":[s[0]||(s[0]=s=>e.insight_preference=s),s[1]||(s[1]=s=>{e.toggleUpdate(s)})],disable:!e.hasAppsSubscription||!e.is_admin},null,8,["modelValue","disable"])]),(0,o._)("div",null,[e.in_progress?((0,o.wg)(),(0,o.j4)(p,{key:0,"inline-actions":"",rounded:"",class:"bg-orange text-white text-weight-bold"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(e.$t("pages.select_app.wf_progress"))+" ",1),(0,o.Wm)(c,{color:"primary",size:"sm"},{default:(0,o.w5)((()=>[ue])),_:1}),(0,o.Uk)(". "+(0,i.zw)(e.$t("pages.select_app.wf_progress2")),1)])),_:1})):(0,o.kq)("",!0),e.status&&e.hasAppsSubscription?((0,o.wg)(),(0,o.j4)(_,{key:1,flat:"",rounded:"",onClick:s[2]||(s[2]=s=>e.goToApp()),color:"primary",class:(0,i.C_)("secondary-c-text info-text")},{default:(0,o.w5)((()=>[e.status?((0,o.wg)(),(0,o.iD)("label",we,(0,i.zw)(e.$t("insight_visit")),1)):(0,o.kq)("",!0)])),_:1})):((0,o.wg)(),(0,o.iD)("div",fe))])])]),(0,o.Wm)(m,{showing:e.processing,class:"max-full-width fullscreen amna z-index-80000"},{default:(0,o.w5)((()=>[ke])),_:1},8,["showing"]),(0,o.Wm)(f,{modelValue:e.delete_confirmation,"onUpdate:modelValue":s[5]||(s[5]=s=>e.delete_confirmation=s),persistent:"",class:"login-error-dialog"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{style:{width:"500px","max-width":"40vw"}},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"row items-center login-error-background p-4 workflow-create-header text-white text-weight-bold"},{default:(0,o.w5)((()=>[ye])),_:1}),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o._)("div",be,[ve,(0,o.Wm)(h,{outlined:"",class:(0,i.C_)("full-width cursor-pointer"),modelValue:e.model["domain_delete"],"onUpdate:modelValue":s[3]||(s[3]=s=>e.model["domain_delete"]=s),placeholder:e.$t("pages.select_app.wf_delete_hint"),"error-message":e.model["domain_name_error_msg"],error:""!=e.model["domain_name_error_msg"]},null,8,["modelValue","placeholder","error-message","error"])])])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o._)("div",xe,[(0,o.Wm)(_,{style:{width:"50%"},label:e.$t("pages.select_app.delete"),class:"q-mr-sm login-error-background",color:"primary",onClick:e.deleteApp},null,8,["label","onClick"]),(0,o.Wm)(_,{style:{width:"30%"},label:e.$t("pages.select_app.close"),class:"q-mr-sm login-error-background",color:"primary",onClick:s[4]||(s[4]=s=>{e.delete_confirmation=!1,e.insight_preference=!0})},null,8,["label"])])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var Se=t(46624),qe=t(7363),Ae=t(63458),Ce=t(49341),Ve=function(e,s,t,o){function i(e){return e instanceof t?e:new t((function(s){s(e)}))}return new(t||(t=Promise))((function(t,l){function a(e){try{n(o.next(e))}catch(s){l(s)}}function r(e){try{n(o["throw"](e))}catch(s){l(s)}}function n(e){e.done?t(e.value):i(e.value).then(a,r)}n((o=o.apply(e,s||[])).next())}))};const ze=(0,o.aZ)({mixins:[Ae.Z,le.Z],props:{},components:{},data(){return{}},setup(){const e=(0,Se.jT)(),{getSettings:s}=e,{getStatus:t}=(0,qe.Jk)(e),o=(0,Se.ZO)(),{hasAppsSubscription:i}=(0,qe.Jk)(o),l={no_subscribed:"You need to have a doc2app subscription to access this app insight"};return{insight_store:e,hasAppsSubscription:i,getStatus:t,getSettings:s,errors_list:l,status:(0,ie.iH)(!1),in_progress:(0,ie.iH)(!1),model:(0,ie.iH)({}),error_message:(0,ie.iH)(""),is_admin:(0,ie.iH)(!0),processing:(0,ie.iH)(!1),insight_preference:(0,ie.iH)(!1),display_error:(0,ie.iH)(!1),delete_confirmation:(0,ie.iH)(!1),org_id:(0,de.Y4)("org_id")}},mounted(){this.initView(),this.is_admin=(0,de.i5)()},methods:{initView(){const e=(0,ne.$8)("USER_SELECTED_APPS");if((0,ae.Jp)(e)||void 0===e||""===e||(0,ae.fg)(e))return;const s=JSON.parse(e),t="true"===s["insight"]||!0===s["insight"];this.insight_preference=this.status=t,this.setPreferenceAfterSettings(),this.insight_store.$subscribe(((e,s)=>{this.setPreferenceAfterSettings()}))},setPreferenceAfterSettings(){this.saveSelectedApps("insight",this.status)},delay(e){return new Promise((s=>setTimeout(s,e)))},saveSelectedApps(e,s){return Ve(this,void 0,void 0,(function*(){try{this.insight_preference=s,yield this.saveSelectedAppsInPreference(e,s)}catch(t){this.handleErrors(t)}finally{this.processing=!1}}))},goToApp(){return Ve(this,void 0,void 0,(function*(){const e=(yield Ce.FT.getToken()).replace("Bearer ","");try{window.open(ce.hi.insight_url+"/sso/polydocs/"+this.org_id+"?code="+e)}catch(s){this.handleErrors(s)}finally{this.processing=!1}}))},toggleUpdate(e){return Ve(this,void 0,void 0,(function*(){e&&(yield this.createInsightOrg()),this.status=e,this.setPreferenceAfterSettings()}))},createInsightOrg(){return Ve(this,void 0,void 0,(function*(){this.in_progress=!0;try{const e=yield(0,ce.O_)(),s=yield oe().post(ce.hi.create_insight_org,{},{headers:{Authorization:e}});s.data.success||this.handleActionErrors(s.data),yield this.delay(5e3)}catch(e){this.handleActionErrors(e),this.getSettings()}finally{this.processing=!1,this.in_progress=!1}}))},handleActionErrors(e){e&&e.response&&e.response.status&&480===e.response.status?this.model["domain_name_error_msg"]=this.$t(e.response.data):this.handleErrors(e)},deleteApp(){return Ve(this,void 0,void 0,(function*(){this.resetErrors(),yield this.toggleUpdate(!1),this.delete_confirmation=!1}))},handleErrors(e){let s="";null!=e&&"object"==typeof e&&e.hasOwnProperty("message")&&(s=e.message),e&&e.response&&e.response&&e.response.hasOwnProperty("message")&&(s=e.response.message),this.errors_list.hasOwnProperty(s)&&(s=this.errors_list[s]),s&&""!==s&&this.showFullWidthToast(s)},resetErrors(){this.model["domain_name_error_msg"]="",this.model["domain_delete_error_msg"]=""},openCalendly(){(0,de.GU)()}}});var Ee=t(7683),$e=t(66663),Ze=t(23175),Ue=t(47128),De=t(22857),He=t(68879),Pe=t(60854),Qe=t(32074),Ne=t(44458),Oe=t(63190),Fe=t(13119),Te=t(11821),Ie=t(69984),Be=t.n(Ie);const Le=(0,Ee.Z)(ze,[["render",We],["__scopeId","data-v-195a1fa2"]]),je=Le;Be()(ze,"components",{QScrollArea:$e.Z,QToggle:Ze.Z,QBanner:Ue.Z,QIcon:De.Z,QBtn:He.Z,QInnerLoading:Pe.Z,QDialog:Qe.Z,QCard:Ne.Z,QCardSection:Oe.Z,QInput:Fe.Z,QCardActions:Te.Z});var Me=function(e,s,t,o){function i(e){return e instanceof t?e:new t((function(s){s(e)}))}return new(t||(t=Promise))((function(t,l){function a(e){try{n(o.next(e))}catch(s){l(s)}}function r(e){try{n(o["throw"](e))}catch(s){l(s)}}function n(e){e.done?t(e.value):i(e.value).then(a,r)}n((o=o.apply(e,s||[])).next())}))};const Je=(0,o.aZ)({el:"#app",mixins:[le.Z,re.Z,Ae.Z],data(){return{selected_apps:(0,ie.iH)({doc2:!1,workflow:!1,doc2scan:!1})}},components:{Insight:je},setup(){const e=(0,Se.ZO)(),{subsciptionExpired:s,hasAppsSubscription:t,get_subscribed_apps:o}=(0,qe.Jk)(e);return{alfred:(0,ie.iH)(!1),doc2scan:(0,ie.iH)(!1),hasAppsSubscription:t,subsciptionExpired:s,get_subscribed_apps:o,subscription_store:e,display_error:(0,ie.iH)(!1),delete_confirmation:(0,ie.iH)(!1),error_message:(0,ie.iH)(""),processing:(0,ie.iH)(!1),display_workflow_form:(0,ie.iH)(!1),model:(0,ie.iH)({}),workflow_settings:(0,ie.iH)({}),domain_name_hint:"Only Letters, numbers and dashes are allowed",workflow_status:(0,ie.iH)(""),is_admin:(0,ie.iH)(!1),app_list:(0,ie.iH)(),show_alfred:(0,ie.iH)(!1),show_doc2scan:(0,ie.iH)(!1)}},watch:{workflow_settings:{handler:function(e,s){this.workflow_status=this.getWorkflowStaus()}}},mounted(){this.subscription_store.getSubscriptionFromServer(),this.setNewModel(),this.initView(),this.is_admin=(0,de.i5)()},methods:{initView(){return Me(this,void 0,void 0,(function*(){this.processing=!0,yield this.getWorkflowSettingForUser(),this.setAppsModel(),"in_progress"===this.workflow_settings.message&&this.checkForNewSettingsPeriodically(),this.get_apps(),this.processing=!1}))},get_apps(){this.app_list=this.get_subscribed_apps,this.alfred_check(),this.doc2scan_check()},alfred_check(){this.get_subscribed_apps.includes("ALFRED")&&(this.show_alfred=!0,this.alfred=!0)},doc2scan_check(){this.get_subscribed_apps.includes("DOC2SCAN")&&(this.show_doc2scan=!0,this.doc2scan=!0)},setAppsModel(){const e=(0,ne.$8)("USER_SELECTED_APPS");(0,ae.Jp)(e)||void 0===e||""===e||(0,ae.fg)(e)||(this.selected_apps=JSON.parse(e),"ready"!==this.workflow_settings.message&&"in_progress"!==this.workflow_settings.message||!1!==this.selected_apps["workflow"]||this.saveSelectedApps("workflow",!0),!0===this.selected_apps["workflow"]&&"new"===this.workflow_settings.message&&this.saveSelectedApps("workflow",!1),"no_subscribed"===this.workflow_settings.message&&(this.saveSelectedApps("workflow",!1),this.triggerWorkflowDelete()))},deleteWorkflow(){return Me(this,void 0,void 0,(function*(){try{if(this.resetErrors(),!this.model["domain_delete"]||0==this.model["domain_delete"].length||"delete"!==this.model["domain_delete"].toLowerCase())return this.model["domain_name_error_msg"]="Please type DELETE",void(this.model["domain_name_error"]=!0);yield this.triggerWorkflowDelete(),this.delete_confirmation=!1}catch(e){}}))},triggerWorkflowDelete(){return Me(this,void 0,void 0,(function*(){""!==this.workflow_settings.url&&""!==this.workflow_settings.subdomain&&(this.model["domain_name"]=this.workflow_settings.subdomain,this.model["create"]=!1,yield this.createOrDeleteNewWorkflow())}))},workflowSelected(e,s){this.model["create"]=s,!1===s&&""!==this.workflow_settings.subdomain&&(this.delete_confirmation=!0),!0===s&&(this.setNewModel(),this.display_workflow_form=!0)},doc2AppBtnClicked(){return Me(this,void 0,void 0,(function*(){yield this.saveSelectedApps("doc2",!0),this.$router.push("/dashboard")}))},doc2AppSelected(e){this.saveSelectedApps("doc2",e),!0===e&&this.sendWelcomeEmail("doc2")},saveSelectedApps(e,s){return Me(this,void 0,void 0,(function*(){try{yield this.saveSelectedAppsInPreference(e,s)}catch(t){this.handleErrors(t)}finally{this.processing=!1}}))},setNewModel(){this.model["domain_name"]="",this.model["create"]=!0,this.model["domain_delete"]="",this.resetErrors()},createOrDeleteNewWorkflow(){return Me(this,void 0,void 0,(function*(){if(this.validateRow(this.model)||void 0===this.model.create)try{this.processing=!0,yield this.triggerNewWorkflowForUser(this.model);let e="workflow";!0===this.model.create&&this.sendWelcomeEmail(e),this.workflow_status=!0===this.model.create?"in_progress":"new",this.saveSelectedApps(e,this.model.create),this.setNewModel(),this.checkForNewSettingsPeriodically()}catch(e){this.handleErrors(e),this.getWorkflowSettingForUser()}finally{this.display_workflow_form=!1,this.processing=!1}}))},checkForNewSettingsPeriodically(){setTimeout((()=>{this.checkForWorkflowReadyState()}),3e4)},checkForWorkflowReadyState(){return Me(this,void 0,void 0,(function*(){yield this.getWorkflowSettingForUser(),"in_progress"===this.workflow_settings.message&&this.checkForNewSettingsPeriodically(),"ready"===this.workflow_settings.message&&this.saveSelectedApps("workflow",!0)}))},resetErrors(){this.model["domain_name_error_msg"]="",this.model["domain_name_error"]=!1,this.model["domain_delete_error_msg"]="",this.model["domain_delete_error"]=!1},validateRow(e){let s=!1;return this.resetErrors(),e["domain_name"]&&0!=e["domain_name"].length||(s=!0,this.model["domain_name_error_msg"]="Field is required",this.model["domain_name_error"]=!0),!1!==s||(0,ae.ge)(e["domain_name"])||(s=!0,this.model["domain_name_error_msg"]=this.$t("pages.select_app.wf_hint"),this.model["domain_name_error"]=!0),!s},getWorkflowSettingForUser(){return Me(this,void 0,void 0,(function*(){try{let e=yield this.getWorkflowSettings();this.workflow_settings=e}catch(e){this.handleErrors(e)}finally{this.processing=!1}}))},getWorkflowStaus(){let e="no_workflow";return this.workflow_settings&&!1!==this.workflow_settings.success||""!==this.workflow_settings.message?String(this.workflow_settings.message):e},goToWorkflow(){try{this.processing=!0;let e=this.getN8NerrorMessagesList();if("no_subscribed"===this.workflow_settings.message)throw{message:e["no_subscribed"]};if("ready"===this.workflow_settings.message){if(""===this.workflow_settings.url)throw{message:e["workflow_url_not_found"]};window.open(this.workflow_settings.url)}if("in_progress"===this.workflow_settings.message)throw{message:e["workflow_in_progress"]};if(!1===this.workflow_settings.success)throw{message:this.workflow_settings.message}}catch(e){this.handleErrors(e)}finally{this.processing=!1}},handleErrors(e){let s="";null!=e&&"object"==typeof e&&e.hasOwnProperty("message")&&(s=e.message),e&&e.response&&e.response.data&&e.response.data.hasOwnProperty("message")&&(s=e.response.data.message);let t=this.getN8NerrorMessagesList();if(t.hasOwnProperty(s)&&(s=t[s]),s&&""!==s)throw this.display_error=!0,this.error_message=s,{message:s}},openCalendly(){(0,de.GU)()},sendWelcomeEmail(e){return Me(this,void 0,void 0,(function*(){try{const s=(0,de.Y4)("username");if(!s||!e)throw{message:"No email/app_name to send welcome email"};const t={email:s,app_name:e},o=(0,ae.XV)(t);let i,l=yield(0,ce.O_)();i=yield oe().get(ce.hi.apps_welcome_email+"?"+o,{headers:{Authorization:l}})}catch(s){}}))}}});var Re=t(20990),Ye=t(46858);const Ge=(0,Ee.Z)(Je,[["render",se],["__scopeId","data-v-0f5fdf33"]]),Ke=Ge;Be()(Je,"components",{QScrollArea:$e.Z,QToggle:Ze.Z,QBtn:He.Z,QBanner:Ue.Z,QIcon:De.Z,QDialog:Qe.Z,QCard:Ne.Z,QCardSection:Oe.Z,QCardActions:Te.Z,QInput:Fe.Z,QInnerLoading:Pe.Z,QBadge:Re.Z,QTooltip:Ye.Z})}}]);