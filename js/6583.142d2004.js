(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[6583],{18481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>At});var o=a(83673);const s={class:"col-9",style:{"margin-top":"2vh"}};function n(e,t,a,n,l,i){const r=(0,o.up)("StoreSettings"),c=(0,o.up)("q-carousel-slide"),d=(0,o.up)("ScannerPage"),u=(0,o.up)("q-carousel"),p=(0,o.up)("ArrowRight");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(u,{modelValue:e.scanstore.getCarouselName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.scanstore.getCarouselName=t),"transition-prev":"slide-right","transition-next":"slide-left",class:"white-back carousel",animated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{name:"store"},{default:(0,o.w5)((()=>[(0,o._)("div",s,[(0,o.Wm)(r)])])),_:1}),(0,o.Wm)(c,{name:"scan"},{default:(0,o.w5)((()=>[(0,o.Wm)(d)])),_:1})])),_:1},8,["modelValue"]),"store"==e.scanstore.current_carousel_name?((0,o.wg)(),(0,o.j4)(p,{key:0,onClick:t[1]||(t[1]=t=>e.scanstore.addPage()),class:"absolute-bottom-right"})):(0,o.kq)("",!0)],64)}var l=a(77378),i=a(61959),r=a(45401),c=a(25616),d=a(36823),u=a.n(d);const p=e=>((0,o.dD)("data-v-80ed93d4"),e=e(),(0,o.Cn)(),e),g={style:{border:"2px solid",height:"80vh",width:"50vw"},class:"q-pa-md relative-position fixed-center bg-white rounded"},h={style:{border:"2px dashed",height:"100%",width:"100%"},class:"q-pa-md relative-position rounded"},m={class:"row"},w={class:"col-12",align:"center"},_={class:"q-store-cards row",align:"center",style:{"margin-top":"100px"}},f={class:"col-12",align:"center"},v=p((()=>(0,o._)("img",{src:u(),style:{height:"80px","max-width":"90px","margin-top":"40px"}},null,-1))),b=p((()=>(0,o._)("div",{style:{"margin-bottom":"10px"},class:"text-h6"}," Google Drive ",-1))),y=p((()=>(0,o._)("div",{class:"col-2"},null,-1))),D=p((()=>(0,o._)("div",{class:"col-8"},null,-1)));function S(e,t,a,s,n,l){const i=(0,o.up)("q-icon"),r=(0,o.up)("q-card-section"),c=(0,o.up)("q-card"),d=(0,o.up)("SaveBtn"),u=(0,o.up)("DeleteBtn"),p=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.iD)("div",g,[(0,o._)("div",h,[(0,o._)("div",m,[(0,o._)("div",w,[(0,o._)("div",_,[(0,o._)("div",f,[(0,o.wy)(((0,o.wg)(),(0,o.j4)(c,{class:"cursor-pointer q-hoverable store-cards",flat:"",style:{"margin-right":"20px"},align:"center"},{default:(0,o.w5)((()=>[v,(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[b,e.scanstore.current_store.id?((0,o.wg)(),(0,o.j4)(i,{key:0,name:"done",color:"green",size:"32px"})):(0,o.kq)("",!0),e.scanstore.current_store.id?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(i,{key:1,name:"close",color:"red",size:"32px"}))])),_:1})])),_:1})),[[p]])])]),(0,o.Wm)(c,{style:{"max-height":"300px","margin-bottom":"5vh"},flat:""},{default:(0,o.w5)((()=>["google_drive"!=e.selected_card||e.scanstore.current_store.id?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(r,{key:0,class:"text-center",style:{"margin-top":"20px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{style:{"margin-right":"10px"},label:e.$t("directscan.pages.refresh"),onClick:e.initView},null,8,["label","onClick"]),(0,o.Wm)(d,{label:e.$t("doc2light.pages.add_store"),onClick:t[0]||(t[0]=t=>e.init_auth("google_drive",""))},null,8,["label"])])),_:1})),"google_drive"==e.selected_card&&e.scanstore.current_store.id?((0,o.wg)(),(0,o.j4)(r,{key:1,class:"text-center",style:{"margin-top":"20px"}},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(d,{style:{"margin-right":"10px"},label:e.$t("directscan.pages.refresh"),onClick:e.prepareData},null,8,["label","onClick"]),(0,o.Wm)(u,{info:e.$t("doc2light.pages.store"),function:e.deleteThisStore,label:e.$t("directscan.pages.delete_store")},null,8,["info","function","label"])])])),_:1})):(0,o.kq)("",!0)])),_:1})]),y,D])])])}var k=a(50442),C=a(98880),x=a(62323);const Z={class:"q-ml-sm"};function L(e,t,a,s,n,l){const i=(0,o.up)("q-btn"),r=(0,o.up)("q-avatar"),c=(0,o.up)("q-card-section"),d=(0,o.up)("CancelBtn"),u=(0,o.up)("SaveBtn"),p=(0,o.up)("q-card-actions"),g=(0,o.up)("q-card"),h=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(i,{class:"delete-btn-alfred","text-color":"red",label:e.label,unelevated:"",icon:"delete",onClick:t[0]||(t[0]=t=>e.confirm=!0)},null,8,["label"]),(0,o.Wm)(h,{modelValue:e.confirm,"onUpdate:modelValue":t[1]||(t[1]=t=>e.confirm=t),onKeydown:t[2]||(t[2]=(0,C.D2)((t=>e.confirm=!1),["esc"])),style:{width:"350px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{style:{width:"350px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"row items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{icon:"delete",color:"red","text-color":"white"}),(0,o._)("span",Z,(0,x.zw)(e.$t("doc2light.descriptions.confirm_delete")+" ("+this.info+")"),1)])),_:1}),(0,o.Wm)(p,{align:"right"},{default:(0,o.w5)((()=>[(0,o.Wm)(d),(0,o.Wm)(u,{label:e.$t("doc2light.popups.accept"),onClick:this.function},null,8,["label","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var H=a(97767);const I=(0,o.aZ)({el:"#app",mixins:[r.Z,l.Z],props:["function","label","info"],components:{CancelBtn:H.Z,SaveBtn:k.Z},data(){return{confirm:(0,i.iH)(!1)}},methods:{}});var W=a(74260),M=a(2165),T=a(46778),Q=a(10151),q=a(25589),N=a(75096),j=a(99367),V=a(7518),z=a.n(V);const E=(0,W.Z)(I,[["render",L],["__scopeId","data-v-38945375"]]),A=E;z()(I,"components",{QBtn:M.Z,QDialog:T.Z,QCard:Q.Z,QCardSection:q.Z,QAvatar:N.Z,QCardActions:j.Z});var P=a(25740),G=function(e,t,a,o){function s(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,n){function l(e){try{r(o.next(e))}catch(t){n(t)}}function i(e){try{r(o["throw"](e))}catch(t){n(t)}}function r(e){e.done?a(e.value):s(e.value).then(l,i)}r((o=o.apply(e,t||[])).next())}))};const U=(0,o.aZ)({components:{SaveBtn:k.Z,DeleteBtn:A},data(){return{supportURL:"https://cloudintegration.eu/doc2_support"}},methods:{deleteThisStore(){this.deleteStore(this.scanstore.current_store.id),this.scanstore.no_store=!0},initView(){return G(this,void 0,void 0,(function*(){this.showLoading();try{yield this.scanstore.prepareData(),""!=this.scanstore.current_store.id?this.scanstore.no_store=!1:this.showSuccessToast(this.$t("directscan.pages.store_found")),this.hideLoading()}catch(e){this.showErrorToast(this.$t("directscan.pages.store_not_found")),this.hideLoading()}}))}},mixins:[r.Z,l.Z],setup(){const e=[{value:"dropbox",label:"Dropbox"},{value:"onedrive",label:"OneDrive"},{value:"google_drive",label:"Google Drive"}],t=(0,P.G)(),{prepareData:a,getStore:o,init_auth:s,deleteStore:n,setStoreType:l}=t;return{scanstore:t,prepareData:a,getStore:o,init_auth:s,deleteStore:n,setStoreType:l,authenticated_store_id:(0,i.iH)(""),headerCheckbox:(0,i.iH)(!1),selection:(0,i.iH)([]),selected_card:(0,i.iH)("google_drive"),headerFabIcon:(0,i.iH)(!1),selected_store:(0,i.iH)([]),dropbox_token:(0,i.iH)(""),authenticated_stores:(0,i.iH)([]),store_type:(0,i.iH)({value:"google_drive",label:"Google Drive"}),store_info:(0,i.iH)({}),store_id:(0,i.iH)(""),stores:(0,i.iH)(e),url:(0,i.iH)("https://microsoft.com/devicelogin"),code:(0,i.iH)(""),lo_code:(0,i.iH)(""),show_ms_popup:(0,i.iH)(!1),show_lo_popup:(0,i.iH)(!1),store:(0,i.iH)(""),started_auth_db:(0,i.iH)(!1),started_auth_ms:(0,i.iH)(!1),started_auth_gd:(0,i.iH)(!1),started_auth_lo:(0,i.iH)(!1),show_rename_popup:(0,i.iH)(!1),current_store:(0,i.iH)({})}}});var $=a(24554),B=a(17132),O=a(80860);const F=(0,W.Z)(U,[["render",S],["__scopeId","data-v-80ed93d4"]]),Y=F;z()(U,"components",{QCard:Q.Z,QCardSection:q.Z,QIcon:$.Z,QTable:B.Z}),z()(U,"directives",{Ripple:O.Z});const R=e=>((0,o.dD)("data-v-0242f332"),e=e(),(0,o.Cn)(),e),J={class:"row"},K={class:"col-8",style:{"margin-top":"2vh"}},X={class:"drag-area text-center full-width",style:{padding:"20px"},id:"box-droppable"},ee={key:0,class:"absolute-center"},te={key:1},ae=R((()=>(0,o._)("img",{src:"loader.gif",alt:"Loading...",class:"inner",style:{"margin-left":"auto"}},null,-1))),oe=[ae],se={key:2},ne={style:{width:"300px",margin:"auto"},align:"center"},le={style:{padding:"10px",width:"100%"}},ie={style:{"font-size":"20px"}},re={class:"",style:{padding:"10px","margin-bottom":"10px",width:"100%"}},ce={key:1,style:{height:"75vh","overflow-y":"auto",padding:"20px","margin-left":"68px",border:"2px solid","border-radius":"4px"}},de={class:"col-3",style:{"margin-top":"2vh"}};function ue(e,t,a,s,n,l){const i=(0,o.up)("FolderSelection"),r=(0,o.up)("GoogleDriveFolderSelection"),c=(0,o.up)("q-img"),d=(0,o.up)("q-file"),u=(0,o.up)("q-card-section"),p=(0,o.up)("q-card"),g=(0,o.up)("vue-pdf-embed"),h=(0,o.up)("q-separator"),m=(0,o.up)("ScanSettings");return(0,o.wg)(),(0,o.iD)("div",J,[(0,o._)("div",K,[1==e.scanstore.showDragDrop?((0,o.wg)(),(0,o.j4)(p,{key:0,flat:"",class:"drag-n-drop",onDrop:e.drop,onDragover:e.allowDrop,onDragleave:e.dragLeave},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{style:{border:"2px dashed",height:"100%"}},{default:(0,o.w5)((()=>[(0,o._)("div",X,[e.scanstore.folder_selection?((0,o.wg)(),(0,o.iD)("div",ee,["google_drive"!=e.scanstore.store_type?((0,o.wg)(),(0,o.j4)(i,{key:0})):"google_drive"==e.scanstore.store_type?((0,o.wg)(),(0,o.j4)(r,{key:1})):(0,o.kq)("",!0)])):e.scanstore.loading?((0,o.wg)(),(0,o.iD)("div",te,oe)):e.scanstore.folder_selection?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",se,[(0,o.Wm)(c,{src:"doc2light/scanner/cloud.svg",style:{height:"240px",width:"700px","margin-top":"10%"}}),(0,o._)("div",ne,[(0,o._)("div",le,[(0,o._)("span",ie,(0,x.zw)(e.$t("doc2light.pages.dragndrop")),1)]),(0,o._)("div",re,(0,x.zw)(e.$t("doc2light.pages.or")),1),(0,o.Wm)(d,{"bg-color":"primary","label-color":"white",multiple:"",standout:"",label:e.$t("doc2light.pages.browse_files"),modelValue:e.uploadedFiles,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.uploadedFiles=t),t[1]||(t[1]=t=>e.scanstore.uploadFiles(e.uploadedFiles).then((t=>{this.showSuccessToast(e.$t("running"))})))],"data-cy":"upload-multiple-docs",style:{width:"60%"}},null,8,["label","modelValue"])])]))])])),_:1})])),_:1},8,["onDrop","onDragover","onDragleave"])):(0,o.kq)("",!0),0==e.scanstore.showDragDrop?((0,o.wg)(),(0,o.iD)("div",ce,[(0,o.Wm)(g,{ref:"pager",source:e.scanstore.file,onRendered:t[2]||(t[2]=t=>e.getRef())},null,8,["source"])])):(0,o.kq)("",!0)]),(0,o.Wm)(h,{vertical:"",style:{"margin-left":"30px","margin-right":"30px","min-height":"89vh"}}),(0,o._)("div",de,[(0,o.Wm)(m)])])}var pe=a(45752),ge=a.n(pe);const he=e=>((0,o.dD)("data-v-08fda53f"),e=e(),(0,o.Cn)(),e),me={class:"popup-heading",style:{color:"#2388ae"}},we={class:"row"},_e={class:"row text-center"},fe=(0,o.Uk)(" No results "),ve={key:0,style:{"margin-top":"5px"}},be=he((()=>(0,o._)("span",{class:"text-red"}," ! NO SCANNER FOUND ",-1))),ye=he((()=>(0,o._)("div",null,null,-1))),De={class:"q-ml-sm"};function Se(e,t,a,s,n,l){const i=(0,o.up)("DownloadInstaller"),r=(0,o.up)("q-dialog"),c=(0,o.up)("q-toolbar-title"),d=(0,o.up)("q-space"),u=(0,o.up)("q-tooltip"),p=(0,o.up)("DefaultBtn"),g=(0,o.up)("q-toolbar"),h=(0,o.up)("q-item-section"),m=(0,o.up)("q-item"),w=(0,o.up)("q-list"),_=(0,o.up)("q-menu"),f=(0,o.up)("q-btn"),v=(0,o.up)("q-input"),b=(0,o.up)("q-select"),y=(0,o.up)("q-rating"),D=(0,o.up)("q-icon"),S=(0,o.up)("SaveBtn"),k=(0,o.up)("q-checkbox"),Z=(0,o.up)("q-card-section"),L=(0,o.up)("PulsSaveBtn"),H=(0,o.up)("q-card-actions"),I=(0,o.up)("q-card"),W=(0,o.up)("q-avatar"),M=(0,o.up)("CancelBtn"),T=(0,o.up)("DocSplit"),Q=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",null,[(0,o.Wm)(r,{modelValue:e.showDownloadInstaller,"onUpdate:modelValue":t[0]||(t[0]=t=>e.showDownloadInstaller=t),onKeydown:t[1]||(t[1]=(0,C.D2)((t=>e.scanstore.setShowInstaller()),["esc"]))},{default:(0,o.w5)((()=>[(0,o.Wm)(i)])),_:1},8,["modelValue"]),(0,o.Wm)(I,{class:"card-format",flat:""},{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("span",me,(0,x.zw)(e.$t("doc2light.pages.scan_settings")),1)])),_:1}),(0,o.Wm)(d),(0,o.Wm)(p,{icon:"settings",onClick:t[2]||(t[2]=t=>e.scanstore.current_carousel_name="store")},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,x.zw)(e.$t("doc2light.descriptions.click_to_change")),1)])),_:1})])),_:1})])),_:1}),(0,o.Wm)(Z,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(v,{modelValue:e.scanstore.new_scan["name"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.scanstore.new_scan["name"]=t),label:e.$t("document_name")},{append:(0,o.w5)((()=>[(0,o.Wm)(f,{round:"",dense:"",flat:"",icon:"data_object"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,x.zw)(e.$t("doc2light.pages.variable")),1)])),_:1}),(0,o.Wm)(_,{fit:"",align:"center"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.variables,(t=>((0,o.wg)(),(0,o.j4)(w,{style:{"max-width":"100%"},key:t},{default:(0,o.w5)((()=>[(0,o.wy)(((0,o.wg)(),(0,o.j4)(m,{clickable:"",onClick:a=>e.addVariableToName(t.value)},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,x.zw)(this.$t(t.label)),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[Q]])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["modelValue","label"]),(0,o._)("div",we,[(0,o.Wm)(b,{readonly:"",modelValue:e.scanstore.new_scan["selected_store"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.scanstore.new_scan["selected_store"]=t),options:e.store_options,label:e.$t("doc2light.pages.store"),style:{width:"30%"}},null,8,["modelValue","options","label"]),(0,o.Wm)(v,{modelValue:e.scanstore.getCurrentFolder.label,"onUpdate:modelValue":t[8]||(t[8]=t=>e.scanstore.getCurrentFolder.label=t),label:e.$t("doc2light.pages.location"),readonly:"",onClick:t[9]||(t[9]=t=>e.reselectStore()),style:{width:"70%"}},{append:(0,o.w5)((()=>[(0,o.Wm)(y,{modelValue:e.scanstore.getCurrentFolder.saved,"onUpdate:modelValue":[t[5]||(t[5]=t=>e.scanstore.getCurrentFolder.saved=t),t[7]||(t[7]=t=>{e.folderSaving(t)})],onClick:t[6]||(t[6]=(0,C.iM)((()=>{}),["stop","prevent"])),max:"1",size:"1em",color:"yellow",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":""},null,8,["modelValue"])])),after:(0,o.w5)((()=>[(0,o.Wm)(f,{round:"",dense:"",flat:"",icon:"bookmark"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{fit:"",align:"center"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.scanstore.saved_folders,(t=>((0,o.wg)(),(0,o.j4)(w,{style:{"max-width":"100%"},key:t.id},{default:(0,o.w5)((()=>[(0,o.wy)(((0,o.wg)(),(0,o.j4)(m,{clickable:"",onClick:a=>e.selectCurrentFolder(t)},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(D,{color:"primary",name:"folder"})])),_:1}),(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,x.zw)(t.label),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[Q]])])),_:2},1024)))),128))])),_:1})])),_:1})])),default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,x.zw)(e.$t("doc2light.descriptions.click_to_change")),1)])),_:1})])),_:1},8,["modelValue","label"])])]),(0,o._)("div",_e,[(0,o.Wm)(b,{style:{"min-width":"100%"},modelValue:e.scanstore.new_scan["source"],"onUpdate:modelValue":t[11]||(t[11]=t=>e.scanstore.new_scan["source"]=t),label:e.$t("doc2light.pages.choose_source"),options:e.scanstore.getScannersfromStore},{after:(0,o.w5)((()=>[(0,o.Wm)(f,{unelevated:"",round:"",icon:"restart_alt",onClick:t[10]||(t[10]=t=>e.scanstore.getScanners(e.scanstore.getUrl))},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,x.zw)(e.$t("doc2light.pages.search_scanners")),1)])),_:1})])),_:1})])),"no-option":(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"text-grey"},{default:(0,o.w5)((()=>[fe])),_:1})])),_:1})])),_:1},8,["modelValue","label","options"])]),e.scanstore.showDownloadInstallerButton?((0,o.wg)(),(0,o.iD)("div",ve,[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[be])),_:1}),(0,o.Wm)(S,{label:e.$t("doc2light.pages.download"),style:{"margin-top":"5px","margin-bottom":"15px"},onClick:t[12]||(t[12]=t=>e.showDownloadInstaller=!0)},null,8,["label"])])):(0,o.kq)("",!0),(0,o._)("div",null,[(0,o.Wm)(k,{modelValue:e.scanstore.new_scan["automatic_get"],"onUpdate:modelValue":t[13]||(t[13]=t=>e.scanstore.new_scan["automatic_get"]=t),"indeterminate-value":!1,label:e.$t("doc2light.pages.automatic_get")},null,8,["modelValue","label"])]),ye,(0,o._)("div",null,[(0,o.Wm)(k,{modelValue:e.scanstore.new_scan["2_sided"],"onUpdate:modelValue":t[14]||(t[14]=t=>e.scanstore.new_scan["2_sided"]=t),"indeterminate-value":!1,label:e.$t("doc2light.pages.two_side_scan")},null,8,["modelValue","label"])]),(0,o._)("div",null,[(0,o.Wm)(k,{modelValue:e.scanstore.new_scan["auto_doc_name"],"onUpdate:modelValue":t[15]||(t[15]=t=>e.scanstore.new_scan["auto_doc_name"]=t),"indeterminate-value":!1,label:e.$t("doc2light.pages.automatic_document_name")},null,8,["modelValue","label"])]),(0,o._)("div",null,[(0,o.Wm)(b,{modelValue:e.scanstore.new_scan["resolution"],"onUpdate:modelValue":t[16]||(t[16]=t=>e.scanstore.new_scan["resolution"]=t),label:e.$t("doc2light.pages.resolution"),options:e.resolutions},null,8,["modelValue","label","options"])]),(0,o._)("div",null,[(0,o.Wm)(b,{type:"multi",modelValue:e.scanstore.new_scan["pixel_type"],"onUpdate:modelValue":t[17]||(t[17]=t=>e.scanstore.new_scan["pixel_type"]=t),label:e.$t("doc2light.pages.color_scheme"),options:[{value:"Grayscale8",label:e.$t("doc2light.pages.gray")},{value:"RGB24",label:e.$t("doc2light.table.color")}]},null,8,["modelValue","label","options"])])])),_:1}),0==e.scanstore.showDragDrop?((0,o.wg)(),(0,o.j4)(H,{key:0,align:"center",style:{}},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{label:e.$t("doc2light.pages.scan"),onClick:t[18]||(t[18]=t=>e.activateScan()),style:{"margin-right":"20px"}},null,8,["label"]),e.scanstore.showSplitButton?((0,o.wg)(),(0,o.j4)(p,{key:0,label:e.$t("doc2light.pages.split"),onClick:t[19]||(t[19]=t=>e.show_popup=!0),style:{"margin-right":"20px"}},null,8,["label"])):(0,o.kq)("",!0),e.scanstore.showPulsating?((0,o.wg)(),(0,o.j4)(L,{key:1,label:e.$t("doc2light.pages.upload"),onClick:t[20]||(t[20]=t=>{e.scanstore.uploadSingleFile().then((t=>{this.showSuccessToast(e.$t("directscan.pages.upload_running_may_take_awhile")),this.scanstore.showPulsating=!1}))})},null,8,["label"])):((0,o.wg)(),(0,o.j4)(S,{key:2,label:e.$t("doc2light.pages.upload"),onClick:t[21]||(t[21]=t=>e.scanstore.uploadSingleFile().then((t=>{this.showSuccessToast(e.$t("directscan.pages.upload_running_may_take_awhile"))})))},null,8,["label"]))])),_:1})):((0,o.wg)(),(0,o.j4)(H,{key:1,align:"center",style:{"margin-right":"7px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{label:e.$t("doc2light.pages.scan"),style:{"margin-bottom":"20px"},onClick:t[22]||(t[22]=t=>e.activateScan())},null,8,["label"])])),_:1}))])),_:1})]),(0,o.Wm)(r,{modelValue:e.showWarning,"onUpdate:modelValue":t[24]||(t[24]=t=>e.showWarning=t),onKeydown:t[25]||(t[25]=(0,C.D2)((t=>e.showWarning=!1),["esc"])),style:{width:"350px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(I,{style:{width:"350px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{class:"row items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{icon:"warning",color:"yellow","text-color":"black"}),(0,o._)("span",De,(0,x.zw)(e.$t("doc2light.descriptions.document_goes_missing")),1)])),_:1}),(0,o.Wm)(H,{align:"right"},{default:(0,o.w5)((()=>[(0,o.Wm)(M),(0,o.Wm)(S,{label:e.$t("doc2light.popups.accept"),onClick:t[23]||(t[23]=t=>e.scanstore.showDragDrop=!0)},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(r,{modelValue:e.show_popup,"onUpdate:modelValue":t[26]||(t[26]=t=>e.show_popup=t),onKeydown:t[27]||(t[27]=(0,C.D2)((t=>e.show_popup=!1),["esc"]))},{default:(0,o.w5)((()=>[(0,o.Wm)(T,{doc:e.scanstore.file,pageCount:e.scanstore.pager.pageCount,filedata:e.scanstore.filedata,mode:"ocr_create"},null,8,["doc","pageCount","filedata"])])),_:1},8,["modelValue"])],64)}var ke=a(73902);const Ce=e=>((0,o.dD)("data-v-3caaccc8"),e=e(),(0,o.Cn)(),e),xe=Ce((()=>(0,o._)("span",{class:"text-weight-bold"},null,-1))),Ze={class:"main-container"},Le={draggable:"true",class:"split-img-main box"},He={class:"img-number"},Ie={class:"doc-splitter"},We=["data-page-id"],Me=Ce((()=>(0,o._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1)));function Te(e,t,a,s,n,l){const i=(0,o.up)("q-toolbar-title"),r=(0,o.up)("q-btn"),c=(0,o.up)("q-toolbar"),d=(0,o.up)("CancelBtn"),u=(0,o.up)("SaveBtn"),p=(0,o.up)("q-card-actions"),g=(0,o.up)("q-icon"),h=(0,o.up)("vue-pdf-embed"),m=(0,o.up)("q-card-section"),w=(0,o.up)("q-inner-loading"),_=(0,o.up)("q-card"),f=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(_,{class:"split-doc-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"text-white secondary-toolbar"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,x.zw)(e.$t("split_document")),1),xe])),_:1}),(0,o.wy)((0,o.Wm)(r,{flat:"",round:"",dense:"",icon:"close"},null,512),[[f]])])),_:1}),(0,o.Wm)(p,{align:"right"},{default:(0,o.w5)((()=>[(0,o.Wm)(d),(0,o.Wm)(u,{label:e.$t("proceed"),onClick:t[0]||(t[0]=t=>e.performDocumentSplit())},null,8,["label"])])),_:1}),(0,o.Wm)(m,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o._)("div",Ze,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.pageCount,(a=>((0,o.wg)(),(0,o.iD)("span",{key:a,class:"box-parent"},[(0,o._)("div",Le,[(0,o.Wm)(g,{flat:"",dense:"","data-page-id":a,name:"cancel",size:"20px",color:"red",class:"img-delete",onClick:e.deletePage},null,8,["data-page-id","onClick"]),(0,o.Wm)(h,{"data-page-id":a,class:"split-img",source:e.doc,page:a},null,8,["data-page-id","source","page"]),(0,o._)("span",He,(0,x.zw)(a),1)]),(0,o._)("span",Ie,[(0,o._)("span",{class:"splitter-span",onClick:t[1]||(t[1]=(...t)=>e.addSplit&&e.addSplit(...t)),"data-page-id":a,style:(0,x.j5)({height:e.splitterHeight+"px"})},null,12,We)])])))),128))])])),_:1}),(0,o.Wm)(w,{showing:e.processing},{default:(0,o.w5)((()=>[Me])),_:1},8,["showing"])])),_:1})}var Qe=a(85985),qe=a(29938),Ne=a(9273),je=function(e,t,a,o){function s(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,n){function l(e){try{r(o.next(e))}catch(t){n(t)}}function i(e){try{r(o["throw"](e))}catch(t){n(t)}}function r(e){e.done?a(e.value):s(e.value).then(l,i)}r((o=o.apply(e,t||[])).next())}))};const Ve=(0,o.aZ)({el:"#app",mixins:[Qe.Z,l.Z],props:["doc","pageCount"],components:{SaveBtn:k.Z,CancelBtn:H.Z,VuePdfEmbed:ge()},data(){return{dragSrcEl:{}}},watch:{},methods:{handleDragStart(e){e.target.style.opacity="0.4",this.dragSrcEl=e.target,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.target.innerHTML)},handleDragEnd(e){e.target.style.opacity="1";let t=document.querySelectorAll(".main-container .box");t.forEach((function(e){e.classList.remove("over")}))},handleDragOver(e){return e.preventDefault(),!1},handleDragEnter(e){e.target.classList.add("over")},handleDragLeave(e){e.target.classList.remove("over")},handleDrop(e){if(e.stopPropagation(),this.dragSrcEl!==e.target){this.dragSrcEl.innerHTML=e.target.innerHTML,e.target.innerHTML=e.dataTransfer.getData("text/html");const t=e.target.querySelector(".img-delete");t&&t.addEventListener("click",this.deletePage);const a=this.dragSrcEl.querySelector(".img-delete");a&&a.addEventListener("click",this.deletePage)}return!1},deletePage(e){let t=e.target;if(!t)return;let a=t.parentNode;if(!a)return;let o=a.parentNode;if(!o)return;const s=Number(t.dataset.pageId);this.deleted_indexes.push(s),o.remove()},afterEvents(){let e=document.querySelectorAll(".main-container .box");e.forEach((e=>{e.addEventListener("dragstart",this.handleDragStart),e.addEventListener("dragend",this.handleDragEnd),e.addEventListener("dragover",this.handleDragOver),e.addEventListener("dragenter",this.handleDragEnter),e.addEventListener("dragleave",this.handleDragLeave),e.addEventListener("drop",this.handleDrop)}))},addSplit(e){e.stopPropagation();let t=e.target;const a="split-active";t.classList.contains(a)?t.classList.remove(a):t.classList.add("split-active")},getActiveSplits(){const e=document.querySelectorAll(".split-active");if(e.length<1)return[];const t=document.querySelector(".main-container");if(!t)return[];let a=[];for(var o=0;o<e.length;o++){let s=e[o],n=s.parentNode;if(!n)continue;let l=n.parentNode;if(!l)continue;const i=Array.prototype.indexOf.call(t.children,l);i&&a.push(Number(i)+1)}return a.push(t.children.length),a=this.sortNumbericArray(a),a},getActiveSplitters(){const e="split-active",t=document.querySelectorAll(".splitter-span");if(t.length<1)return[];let a=[];for(var o=0;o<t.length;o++){let s=t[o];if(!s.classList.contains(e))continue;const n=o+1;a.push(n)}return a.push(t.length),a=this.sortNumbericArray(a),a},getArrangedPages(){this.sorted_indexes={};const e=document.querySelectorAll(".split-img");if(e.length<1)return;let t=!1;for(var a=0;a<e.length;a++){let o=e[a];const s=Number(o.dataset.pageId),n=a+1;s!==n&&(t=!0),this.sorted_indexes[n]=s}t||(this.sorted_indexes={})},performDocumentSplit(){return je(this,void 0,void 0,(function*(){try{this.processing=!0;let e={},t=this.getActiveSplitters();if(this.getArrangedPages(),0!==(0,qe.v7)(this.sorted_indexes)&&(e["sorted_indexes"]=JSON.stringify(this.sorted_indexes)),0!==this.deleted_indexes.length?e["deleted_indexes"]=this.deleted_indexes.toString():e["deleted_indexes"]=null,0!==t.length&&void 0!=t.length?e["separators"]=t.toString():e["separators"]=null,0===(0,qe.v7)(e))return this.processing=!1,void this.showFullWidthToast(this.$t("split_empty_warning"));yield this.scanstore.uploadSplitOcr(e.separators,e.sorted_indexes,e.deleted_indexes).then((e=>{this.showSuccessToast(this.$t("running")),this.scanstore.showDragDrop=!0}))}catch(e){const t=Ne.w.getErrorMessage(e);this.showErrorToast(t)}finally{this.processing=!1}}))}},setup(){const e=(0,P.G)();return{processing:(0,i.iH)(!1),scanstore:e,baseUrl:"https://api.docbits.com",splitterHeight:(0,i.iH)(120),image_load_count:(0,i.iH)(0),deleted_indexes:(0,i.iH)([]),sorted_indexes:(0,i.iH)({}),content:(0,i.iH)([]),page:(0,i.iH)(),showAllPages:(0,i.iH)(!0),splitter_list:(0,i.iH)([])}}});var ze=a(39570),Ee=a(13747),Ae=a(66941),Pe=a(60677);const Ge=(0,W.Z)(Ve,[["render",Te],["__scopeId","data-v-3caaccc8"]]),Ue=Ge;z()(Ve,"components",{QCard:Q.Z,QToolbar:ze.Z,QToolbarTitle:Ee.Z,QBtn:M.Z,QCardActions:j.Z,QCardSection:q.Z,QIcon:$.Z,QInnerLoading:Ae.Z}),z()(Ve,"directives",{ClosePopup:Pe.Z});var $e=a(60759);function Be(e,t,a,s,n,l){const i=(0,o.up)("q-btn"),r=(0,o.Q2)("close-popup");return(0,o.wy)(((0,o.wg)(),(0,o.j4)(i,{label:e.message,class:"save-btn-breathe",unelevated:"",icon:e.icon},null,8,["label","icon"])),[[r]])}const Oe=(0,o.aZ)({el:"#app",mixins:[r.Z,l.Z],mounted(){null!=this.label&&(this.message=this.label)},props:["label","icon"],data(){return{message:(0,i.iH)(this.$t("save"))}},methods:{}}),Fe=(0,W.Z)(Oe,[["render",Be],["__scopeId","data-v-1dd7b696"]]),Ye=Fe;z()(Oe,"components",{QBtn:M.Z}),z()(Oe,"directives",{ClosePopup:Pe.Z});var Re=function(e,t,a,o){function s(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,n){function l(e){try{r(o.next(e))}catch(t){n(t)}}function i(e){try{r(o["throw"](e))}catch(t){n(t)}}function r(e){e.done?a(e.value):s(e.value).then(l,i)}r((o=o.apply(e,t||[])).next())}))};const Je=(0,o.aZ)({components:{SaveBtn:k.Z,CancelBtn:H.Z,DefaultBtn:ke.Z,PulsSaveBtn:Ye,DocSplit:Ue,DownloadInstaller:$e.Z},mixins:[r.Z,l.Z],mounted(){this.initView()},methods:{addVariableToName(e){this.scanstore.new_scan["name"]+=e},reselectStore(){this.scanstore.folder_selection=!0,this.scanstore.showDragDrop||(this.showWarning=!0)},selectCurrentFolder(e){const t={id:e.folder_id,label:e.label,children:["test"],children_ids:["test"],saved:1};this.scanstore.folder_selection=!1,this.scanstore.current_folder=t,this.showSuccessToast('Folder "'+e.label+'" selected.')},folderSaving(e){0==e?this.scanstore.saved_folders.forEach(((e,t)=>{this.scanstore.getCurrentFolder.id==e.folder_id&&this.scanstore.removeFolder(e.id).then((e=>{this.scanstore.saved_folders.splice(t,1)}))})):1==e&&this.scanstore.saveFolder(this.scanstore.getCurrentFolder.id,this.scanstore.getCurrentFolder.label).then((e=>{const t={folder_id:this.scanstore.getCurrentFolder.id,label:this.scanstore.getCurrentFolder.label,id:e.path.id};this.scanstore.saved_folders.push(t)}))},activateScan(){return Re(this,void 0,void 0,(function*(){this.scanstore.new_scan["name"]&&""!=this.scanstore.current_folder["id"]&&this.scanstore.new_scan["resolution"]&&this.scanstore.new_scan["pixel_type"]&&this.scanstore.new_scan["source"]?(this.scanstore.loading=!0,yield this.scanstore.doScan().then((e=>{this.showSuccessToast(this.$t("directscan.scanned_successfully"))})),this.scanstore.loading=!1):this.showErrorToast(this.$t("directscan.fill_all_fields"))}))},initView(){this.scanstore.new_scan["name"]="",this.scanstore.new_scan["automatic_get"]=!1,this.scanstore.new_scan["selected_store"]=this.store_options[0],this.scanstore.new_scan["remove_empty_sites"]=!1,this.scanstore.new_scan["2_sided"]=!1,this.scanstore.new_scan["auto_doc_name"]=!0,this.scanstore.new_scan["resolution"]=this.resolutions[0],this.scanstore.new_scan["pixel_type"]={value:"RGB24",label:this.$t("doc2light.table.color")},this.scanstore.checkAlfred(this.scanstore.getUrl)}},setup(){const e=[{value:"300",label:"300"},{value:"600",label:"600"},{value:"1200",label:"1200"}],t=[{value:"{filename}",label:"pages.import.emaillog.filename"},{value:"{document_type}",label:"document_type"},{value:"{document_name}",label:"document_name"},{value:"{document_number}",label:"doc2light.pages.document_number"},{value:"{supplier_name}",label:"form_builder.supplier_name"},{value:"{order_number}",label:"form_builder.orderno"},{value:"{order_date}",label:"order_date"}],a=[{value:"google_drive",label:"Google Drive"}],o=(0,P.G)();return{scanstore:o,store_options:a,variables:t,showDragDrop:(0,i.iH)(!0),showDownloadInstallerButton:(0,i.iH)(!1),showDownloadInstaller:(0,i.iH)(!1),pageCount:(0,i.iH)(1),file:(0,i.iH)(),filedata:(0,i.iH)(),filter:(0,i.iH)(""),view:(0,i.iH)("list"),multiUploaderDialog:(0,i.iH)(!1),uploadedFiles:(0,i.iH)(null),image:(0,i.iH)(),scanners:(0,i.iH)([]),show_popup:(0,i.iH)(!1),resolutions:(0,i.iH)(e),importing:(0,i.iH)(!1),showSplitButton:(0,i.iH)(!1),showMenu:(0,i.iH)(!1),showIcons:(0,i.iH)(!0),documentScanned:(0,i.iH)(!1),ports:(0,i.iH)(["12500","12154","12346"]),scan_card_height:(0,i.iH)(),showWarning:(0,i.iH)(!1),selectedStore:(0,i.iH)({})}}});var Ke=a(62025),Xe=a(5363),et=a(64689),tt=a(20811),at=a(27011),ot=a(83414),st=a(52035),nt=a(72448),lt=a(98833),it=a(65735);const rt=(0,W.Z)(Je,[["render",Se],["__scopeId","data-v-08fda53f"]]),ct=rt;z()(Je,"components",{QDialog:T.Z,QCard:Q.Z,QToolbar:ze.Z,QToolbarTitle:Ee.Z,QSpace:Ke.Z,QTooltip:Xe.Z,QCardSection:q.Z,QInput:et.Z,QBtn:M.Z,QMenu:tt.Z,QList:at.Z,QItem:ot.Z,QItemSection:st.Z,QSelect:nt.Z,QRating:lt.Z,QIcon:$.Z,QCheckbox:it.Z,QCardActions:j.Z,QAvatar:N.Z}),z()(Je,"directives",{ClosePopup:Pe.Z});const dt=e=>((0,o.dD)("data-v-4eedbaee"),e=e(),(0,o.Cn)(),e),ut={id:"card",class:"text-left",style:{padding:"10px",width:"30vw"}},pt=dt((()=>(0,o._)("div",{style:{"margin-top":"10px"}},null,-1))),gt={style:{"margin-top":"10px"}};function ht(e,t,a,s,n,l){const i=(0,o.up)("q-input"),r=(0,o.up)("q-icon"),c=(0,o.up)("q-item-section"),d=(0,o.up)("q-item"),u=(0,o.up)("q-list"),p=(0,o.up)("q-scroll-area"),g=(0,o.up)("q-card-actions"),h=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.iD)("div",ut,[pt,(0,o._)("div",gt,[(0,o.Wm)(i,{style:{"margin-bottom":"15px"},outlined:"",modelValue:e.folder_search,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.folder_search=t),t[1]||(t[1]=t=>{e.scanstore.filterFolders(t)})],label:e.$t("search"),debounce:"250"},null,8,["modelValue","label"]),(0,o.Wm)(p,{style:{height:"50vh","max-width":"30vw"}},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{padding:"",class:"rounded-borders text-primary"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.scanstore.shown_folders,((t,a)=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(d,{clickable:"",key:a,onClick:a=>e.selectFolder(t)},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{name:"folder"})])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,x.zw)(t.label),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[h]]))),128))])),_:1})])),_:1})]),(0,o.Wm)(g)])}const mt=(0,o.aZ)({data(){return{}},mixins:[r.Z,l.Z],components:{},props:["mode","selection"],methods:{selectFolder(e){this.scanstore.saved_folders.forEach((t=>{e.id==t.folder_id&&(e.saved=1)})),this.scanstore.folder_selection=!1,this.scanstore.current_folder=e,this.showSuccessToast('Folder "'+e.label+'" selected.')}},setup(){const e=(0,P.G)();return{folder_search:(0,i.iH)(""),overwrite:(0,i.iH)(!1),scanstore:e,store_selection:(0,i.iH)({}),store_options:(0,i.iH)([]),selected_store_id:(0,i.iH)("")}}});var wt=a(47704);const _t=(0,W.Z)(mt,[["render",ht],["__scopeId","data-v-4eedbaee"]]),ft=_t;function vt(e,t,a,s,n,l){const i=(0,o.up)("SaveBtn");return(0,o.wg)(),(0,o.j4)(i,{icon:"folder",onClick:t[0]||(t[0]=t=>{e.oauthSignIn()}),label:e.$t("directscan.select_folder")},null,8,["label"])}z()(mt,"components",{QInput:et.Z,QBtn:M.Z,QScrollArea:wt.Z,QList:at.Z,QItem:ot.Z,QItemSection:st.Z,QIcon:$.Z,QCardActions:j.Z}),z()(mt,"directives",{Ripple:O.Z});a(65363);var bt=a(17324),yt=a.n(bt),Dt=a(30524);const St=(0,o.aZ)({components:{SaveBtn:k.Z},mixins:[Dt.Z,l.Z],name:"Attachment",setup(){const e=(0,P.G)();return{scanstore:e}},data(){return{GOOGLE_SDK_URL:"https://apis.google.com/js/api.js",GOOGLE_CLIENTS_URL:"https://accounts.google.com/gsi/client",APP_ID:"428725426858",API_KEY:"AIzaSyCm2drXT4GDHDAGx_voRxhnP5SbSBHA048",CLIENT_ID:"428725426858-ronigv6jore8k0k717tfkuvh21o5rfof.apps.googleusercontent.com",SCOPES:"https://www.googleapis.com/auth/drive.metadata.readonly",tokenClient:null}},mounted(){yt()(this.GOOGLE_SDK_URL,this.onApiLoad),yt()(this.GOOGLE_CLIENTS_URL,this.ongisLoaded),null!==this.scanstore.oauthToken&&"undefined"!==typeof google&&"undefined"!==typeof google.picker&&this.createPicker()},methods:{async ongisLoaded(){this.tokenClient=await google.accounts.oauth2.initTokenClient({client_id:this.CLIENT_ID,scope:this.SCOPES,callback:""})},onApiLoad(){window.gapi.load("auth"),window.gapi.load("picker")},oauthSignIn(){null===this.scanstore.oauthToken?(this.tokenClient.callback=async e=>{if(void 0!==e.error)throw e;this.scanstore.oauthToken=e.access_token,await this.createPicker()},null===this.scanstore.oauthToken?this.tokenClient.requestAccessToken({prompt:"consent"}):this.tokenClient.requestAccessToken({prompt:""})):this.createPicker()},async createPicker(){var e=new google.picker.DocsView(google.picker.ViewId.FOLDERS).setIncludeFolders(!0).setSelectFolderEnabled(!0).setParent("root");const t=await(new google.picker.PickerBuilder).setOAuthToken(this.scanstore.oauthToken).setAppId(this.APP_ID).setDeveloperKey(this.API_KEY).setCallback(this.pickerCallback).addView(e).build();t.setVisible(!0)},pickerCallback(e){if(e.action==google.picker.Action.PICKED){let t=e.docs,a=[];for(let e=0;e<t.length;e++){let o={};o._id=t[e].id,o.title=t[e].name,o.name=t[e].name+"."+t[e].mimeType.split("/")[1],o.type="gDrive",o.description="Shared with GDrive",o.extension="."+t[e].mimeType.substring(t[e].mimeType.lastIndexOf(".")+1),o.iconURL=t[e].iconUrl,o.size=t[e].sizeBytes,o.user=JSON.parse(localStorage.getItem("user")),o.thumb=null,o.thumb_list=null,a.push(o)}const o=a[0].name.replace(".vnd.google-apps.folder",""),s={id:a[0]._id,label:o,children:[],children_ids:[],saved:0};this.scanstore.current_folder_url=e.docs[0].url,this.scanstore.setFolder(s)}else this.scanstore.folder_selection=!1}}}),kt=(0,W.Z)(St,[["render",vt]]),Ct=kt,xt=(0,o.aZ)({el:"#app",mixins:[r.Z,l.Z],components:{VuePdfEmbed:ge(),ScanSettings:ct,FolderSelection:ft,GoogleDriveFolderSelection:Ct},props:["label","icon"],setup(){const e=(0,P.G)();return{scanstore:e}},methods:{getRef(){let e=this.$refs["pager"].pageCount;return this.scanstore.pager=this.$refs["pager"],e}}});var Zt=a(24027),Lt=a(64974),Ht=a(65869);const It=(0,W.Z)(xt,[["render",ue],["__scopeId","data-v-0242f332"]]),Wt=It;function Mt(e,t,a,s,n,l){const i=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.j4)(i,{unelevated:"",label:e.$t("directscan.next"),"text-color":"primary","icon-right":"arrow_forward",class:"q-ma-md button-forward",disable:!e.scanstore.getNextDisable||!e.scanstore.current_store.id},null,8,["label","disable"])}z()(xt,"components",{QCard:Q.Z,QCardSection:q.Z,QImg:Zt.Z,QFile:Lt.Z,QSeparator:Ht.Z});const Tt=(0,o.aZ)({setup(){const e=(0,P.G)();return{scanstore:e}}}),Qt=(0,W.Z)(Tt,[["render",Mt]]),qt=Qt;z()(Tt,"components",{QBtn:M.Z});var Nt=function(e,t,a,o){function s(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,n){function l(e){try{r(o.next(e))}catch(t){n(t)}}function i(e){try{r(o["throw"](e))}catch(t){n(t)}}function r(e){e.done?a(e.value):s(e.value).then(l,i)}r((o=o.apply(e,t||[])).next())}))};const jt=(0,o.aZ)({data(){return{}},props:["service"],components:{StoreSettings:Y,ScannerPage:Wt,ArrowRight:qt},mounted(){return Nt(this,void 0,void 0,(function*(){yield this.initView()}))},mixins:[r.Z,l.Z],methods:{initView(){return Nt(this,void 0,void 0,(function*(){this.showLoading();try{yield this.scanstore.prepareData(),""!=this.scanstore.current_store.id?this.scanstore.no_store=!1:this.showSuccessToast(this.$t("directscan.pages.store_found")),this.hideLoading()}catch(e){this.hideLoading()}}))},getRef(){let e=this.$refs["pager"].pageCount;return e},formateDate(e,t){return c.ZP.formatDate(e,t)},allowDrop(e){e.preventDefault(),e.currentTarget.classList.add("bg-grey-5"),e.currentTarget.classList.add("bd-shadow")},drop(e){e.preventDefault(),e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow"),this.scanstore.uploadFiles(e.dataTransfer.files)},dragLeave(e){e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow")}},setup(){const e=[{value:"300",label:"300"},{value:"600",label:"600"},{value:"1200",label:"1200"}],t=(0,P.G)();return{scanstore:t,showDownloadInstallerButton:(0,i.iH)(!1),showDownloadInstaller:(0,i.iH)(!1),pageCount:(0,i.iH)(1),file:(0,i.iH)(),filedata:(0,i.iH)(),filter:(0,i.iH)(""),view:(0,i.iH)("list"),multiUploaderDialog:(0,i.iH)(!1),uploadedFiles:(0,i.iH)(null),image:(0,i.iH)(),new_scan:(0,i.iH)({}),scanners:(0,i.iH)([]),show_popup:(0,i.iH)(!1),resolutions:(0,i.iH)(e),importing:(0,i.iH)(!1),showSplitButton:(0,i.iH)(!1),showMenu:(0,i.iH)(!1),showIcons:(0,i.iH)(!0),documentScanned:(0,i.iH)(!1),ports:(0,i.iH)(["12500","12154","12346"]),valid_url:(0,i.iH)(),scan_card_height:(0,i.iH)(),selectedStore:(0,i.iH)({})}}});var Vt=a(31277),zt=a(34593);const Et=(0,W.Z)(jt,[["render",n],["__scopeId","data-v-5720670a"]]),At=Et;z()(jt,"components",{QDialog:T.Z,QCarousel:Vt.Z,QCarouselSlide:zt.Z,QBtn:M.Z})},36823:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDAgMTAwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzAwNjZEQTt9Cgkuc3Qxe2ZpbGw6IzAwQUM0Nzt9Cgkuc3Qye2ZpbGw6I0VBNDMzNTt9Cgkuc3Qze2ZpbGw6IzAwODMyRDt9Cgkuc3Q0e2ZpbGw6IzI2ODRGQzt9Cgkuc3Q1e2ZpbGw6I0ZGQkEwMDt9Cjwvc3R5bGU+CjxnPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTcuNiw4MS45bDQuNCw3LjZjMC45LDEuNiwyLjIsMi45LDMuOCwzLjhMMzEuNSw2NkgwYzAsMS44LDAuNSwzLjYsMS40LDUuMkw3LjYsODEuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik01MCwzNEwzNC4yLDYuN2MtMS41LDAuOS0yLjksMi4yLTMuOCwzLjhMMS40LDYwLjlDMC41LDYyLjUsMCw2NC4yLDAsNjZoMzEuNUw1MCwzNHoiLz4KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik04NC4yLDkzLjNjMS41LTAuOSwyLjktMi4yLDMuOC0zLjhsMS44LTMuMmw4LjgtMTUuMmMwLjktMS42LDEuNC0zLjQsMS40LTUuMkg2OC41bDYuNywxMy4yTDg0LjIsOTMuM3oiLz4KCTxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik01MCwzNEw2NS44LDYuN2MtMS41LTAuOS0zLjMtMS40LTUuMi0xLjRIMzkuNGMtMS44LDAtMy42LDAuNS01LjIsMS40TDUwLDM0eiIvPgoJPHBhdGggY2xhc3M9InN0NCIgZD0iTTY4LjUsNjZoLTM3TDE1LjgsOTMuM2MxLjUsMC45LDMuMywxLjQsNS4yLDEuNGg1OC4yYzEuOCwwLDMuNi0wLjUsNS4yLTEuNEw2OC41LDY2eiIvPgoJPHBhdGggY2xhc3M9InN0NSIgZD0iTTg0LjEsMzUuN0w2OS41LDEwLjVjLTAuOS0xLjYtMi4yLTIuOS0zLjgtMy44TDUwLDM0TDY4LjUsNjZoMzEuNGMwLTEuOC0wLjUtMy42LTEuNC01LjJMODQuMSwzNS43eiIvPgo8L2c+Cjwvc3ZnPgo="}}]);