"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[6405],{6405:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Y});var c=a(61758);const n={class:"container page-height-limit"},i={class:"row q-mt-md q-mb-md grid-main"},o={style:{width:"100%"}};function d(e,t,a,d,s,l){const h=(0,c.g2)("SubHeader"),r=(0,c.g2)("BackToSettings"),u=(0,c.g2)("f-btn"),_=(0,c.g2)("ReceivedCache");return(0,c.uX)(),(0,c.CE)(c.FK,null,[(0,c.bF)(h,{name:"cache_management",label:e.$t("cache_management")},null,8,["label"]),(0,c.bF)(r),(0,c.Lk)("div",n,[(0,c.Lk)("div",i,[(0,c.bF)(u,{label:e.$t("clear_cache"),onClick:e.clearCache,loading:e.loading},null,8,["label","onClick","loading"])]),(0,c.Lk)("div",o,[(0,c.bF)(_)])])],64)}var s=a(68180),l=a(25773),h=a(58790);const r={class:"grid-main"},u={class:"full-width"},_={class:"table-header-text"},p={style:{width:"300px"}},g={style:{width:"300px"}};function f(e,t,a,n,i,o){const d=(0,c.g2)("q-toggle"),s=(0,c.g2)("q-tooltip"),l=(0,c.g2)("q-input"),f=(0,c.g2)("PurchaseOrderCach"),v=(0,c.g2)("TaskAndNotificationCache"),b=(0,c.g2)("q-markup-table"),m=(0,c.g2)("Loader");return(0,c.uX)(),(0,c.CE)(c.FK,null,[(0,c.Lk)("div",r,[(0,c.Lk)("div",u,[(0,c.bF)(b,{flat:"",class:"dashboard-table-style dashboard-table-height back-white"},{default:(0,c.k6)((()=>{var a,n;return[(0,c.Lk)("thead",null,[(0,c.Lk)("tr",_,[(0,c.Lk)("th",null,(0,h.v_)(e.$t("object")),1),(0,c.Lk)("th",null,(0,h.v_)(e.$t("status")),1),(0,c.Lk)("th",p,(0,h.v_)(e.$t("ttl")),1)])]),(0,c.Lk)("tbody",null,[(0,c.Lk)("tr",null,[(0,c.Lk)("td",null,(0,h.v_)(e.$t("receive_delivery_cache")),1),(0,c.Lk)("td",null,[(0,c.bF)(d,{"model-value":(null===(a=e.cache_data[e.get_receive_delivery_cache])||void 0===a?void 0:a.enabled)||!1,"onUpdate:modelValue":t[0]||(t[0]=t=>e.updateEnable(t))},null,8,["model-value"])]),(0,c.Lk)("td",null,[(0,c.Lk)("div",g,[(0,c.bF)(l,{outlined:"",dense:"",tabindex:"0",debounce:"500",type:"number",class:(0,h.C4)("full-width"),"model-value":(null===(n=e.cache_data[e.get_receive_delivery_cache])||void 0===n?void 0:n.ttl)||0,"onUpdate:modelValue":t[1]||(t[1]=t=>e.updateTtl(t)),"hide-bottom-space":"","bottom-slots":!1,style:{padding:"5px 0px"}},{default:(0,c.k6)((()=>[(0,c.bF)(s,null,{default:(0,c.k6)((()=>[(0,c.eW)((0,h.v_)(e.$t("ttl_tooltip")),1)])),_:1})])),_:1},8,["model-value"])])])]),(0,c.Lk)("tr",null,[(0,c.bF)(f)]),(0,c.Lk)("tr",null,[(0,c.bF)(v)])])]})),_:1})])]),(0,c.bF)(m)],64)}var v=a(38734),b=a(1659),m=a(1595),k=a(76956),y=a(24622),C=a(18505),w=a(89156);const L={style:{width:"300px"}};function T(e,t,a,n,i,o){var d,s;const l=(0,c.g2)("q-toggle"),r=(0,c.g2)("q-tooltip"),u=(0,c.g2)("q-input");return(0,c.uX)(),(0,c.CE)(c.FK,null,[(0,c.Lk)("td",null,(0,h.v_)(e.$t("purchase_order_cache")),1),(0,c.Lk)("td",null,[(0,c.bF)(l,{"model-value":(null===(d=e.cache_data[e.get_purchase_order_cache])||void 0===d?void 0:d.enabled)||!1,"onUpdate:modelValue":t[0]||(t[0]=t=>e.updateEnable(t))},null,8,["model-value"])]),(0,c.Lk)("td",null,[(0,c.Lk)("div",L,[(0,c.bF)(u,{outlined:"",dense:"",tabindex:"0",debounce:"500",type:"number",class:(0,h.C4)("full-width"),"model-value":(null===(s=e.cache_data[e.get_purchase_order_cache])||void 0===s?void 0:s.ttl)||0,"onUpdate:modelValue":t[1]||(t[1]=t=>e.updateTtl(t)),"hide-bottom-space":"","bottom-slots":!1,style:{padding:"5px 0px"}},{default:(0,c.k6)((()=>[(0,c.bF)(r,null,{default:(0,c.k6)((()=>[(0,c.eW)((0,h.v_)(e.$t("ttl_tooltip")),1)])),_:1})])),_:1},8,["model-value"])])])],64)}var A=a(11470),x=function(e,t,a,c){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function o(e){try{s(c.next(e))}catch(t){i(t)}}function d(e){try{s(c["throw"](e))}catch(t){i(t)}}function s(e){e.done?a(e.value):n(e.value).then(o,d)}s((c=c.apply(e,t||[])).next())}))};const P=(0,c.pM)({components:{},el:"#app",mixins:[y.A,C.A],watch:{},data(){return{get_purchase_order_cache:k.vp.get_purchase_order_cache}},setup(){const e=(0,m.Bu)(),{loading_settings:t,cache_data:a}=(0,b.bP)(e),{getCachePreferences:c}=e;return{cache_data:a,loading_settings:t,getCachePreferences:c}},methods:{updateEnable(e){return x(this,void 0,void 0,(function*(){this.cache_data[this.get_purchase_order_cache].enabled=e,yield this.updateCache()}))},updateTtl(e){return x(this,void 0,void 0,(function*(){this.cache_data[this.get_purchase_order_cache].ttl=e,yield this.updateCache()}))},updateCache(){return x(this,void 0,void 0,(function*(){const e=this.cache_data[this.get_purchase_order_cache].enabled,t=this.cache_data[this.get_purchase_order_cache].ttl;try{const a={key:this.get_purchase_order_cache,cache_name:"PO",enable:e,ttl:t||0},c=yield A.jD.setCachePreference(a);if(yield this.getCachePreferences(this.get_purchase_order_cache),!1===c.success)throw c;this.showSuccessToast(this.$t("cache_preference_updated"))}catch(a){this.showErrorToast(this.$t("failed_update_cache_preferences"))}finally{this.loading_settings=!1}}))}}});var F=a(12807),$=a(66908),E=a(67837),q=a(97410),Q=a(98582),S=a.n(Q);const I=(0,F.A)(P,[["render",T],["__scopeId","data-v-7181507e"]]),B=I;S()(P,"components",{QToggle:$.A,QInput:E.A,QTooltip:q.A});const M={style:{width:"300px"}};function U(e,t,a,n,i,o){var d,s;const l=(0,c.g2)("q-toggle"),r=(0,c.g2)("q-tooltip"),u=(0,c.g2)("q-input");return(0,c.uX)(),(0,c.CE)(c.FK,null,[(0,c.Lk)("td",null,(0,h.v_)(e.$t("task_and_notification_cache")),1),(0,c.Lk)("td",null,[(0,c.bF)(l,{"model-value":(null===(d=e.cache_data[e.get_task_and_notification_cache])||void 0===d?void 0:d.enabled)||!1,"onUpdate:modelValue":t[0]||(t[0]=t=>e.updateEnable(t))},null,8,["model-value"])]),(0,c.Lk)("td",null,[(0,c.Lk)("div",M,[(0,c.bF)(u,{outlined:"",dense:"",tabindex:"0",debounce:"500",type:"number",class:(0,h.C4)("full-width"),"model-value":(null===(s=e.cache_data[e.get_task_and_notification_cache])||void 0===s?void 0:s.ttl)||0,"onUpdate:modelValue":t[1]||(t[1]=t=>e.updateTtl(t)),"hide-bottom-space":"","bottom-slots":!1,style:{padding:"5px 0px"}},{default:(0,c.k6)((()=>[(0,c.bF)(r,null,{default:(0,c.k6)((()=>[(0,c.eW)((0,h.v_)(e.$t("ttl_tooltip")),1)])),_:1})])),_:1},8,["model-value"])])])],64)}var V=function(e,t,a,c){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function o(e){try{s(c.next(e))}catch(t){i(t)}}function d(e){try{s(c["throw"](e))}catch(t){i(t)}}function s(e){e.done?a(e.value):n(e.value).then(o,d)}s((c=c.apply(e,t||[])).next())}))};const K=(0,c.pM)({components:{},el:"#app",mixins:[y.A,C.A],watch:{},data(){return{get_task_and_notification_cache:k.vp.get_task_and_notification_cache}},setup(){const e=(0,m.Bu)(),{loading_settings:t,cache_data:a}=(0,b.bP)(e),{getCachePreferences:c}=e;return{cache_data:a,loading_settings:t,getCachePreferences:c}},methods:{updateEnable(e){return V(this,void 0,void 0,(function*(){this.cache_data[this.get_task_and_notification_cache].enabled=e,yield this.updateCache()}))},updateTtl(e){return V(this,void 0,void 0,(function*(){this.cache_data[this.get_task_and_notification_cache].ttl=e,yield this.updateCache()}))},updateCache(){return V(this,void 0,void 0,(function*(){const e=this.cache_data[this.get_task_and_notification_cache].enabled,t=this.cache_data[this.get_task_and_notification_cache].ttl;try{const a={key:this.get_task_and_notification_cache,cache_name:"TN",enable:e,ttl:t||0},c=yield A.jD.setCachePreference(a);if(!1===c.success)throw c;yield this.getCachePreferences(this.get_task_and_notification_cache),this.showSuccessToast(this.$t("cache_preference_updated"))}catch(a){this.showErrorToast(this.$t("failed_update_cache_preferences"))}finally{this.loading_settings=!1}}))}}}),X=(0,F.A)(K,[["render",U],["__scopeId","data-v-7a972e36"]]),j=X;S()(K,"components",{QToggle:$.A,QInput:E.A,QTooltip:q.A});var N=function(e,t,a,c){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function o(e){try{s(c.next(e))}catch(t){i(t)}}function d(e){try{s(c["throw"](e))}catch(t){i(t)}}function s(e){e.done?a(e.value):n(e.value).then(o,d)}s((c=c.apply(e,t||[])).next())}))};const O=(0,c.pM)({components:{Loader:w.A,PurchaseOrderCach:B,TaskAndNotificationCache:j},el:"#app",mixins:[y.A,C.A],watch:{loading_settings:{handler:function(e,t){}},loading:{handler(e){1==e?this.showLoading():this.hideLoading()}}},data(){return{get_receive_delivery_cache:k.vp.get_receive_delivery_cache,get_purchase_order_cache:k.vp.get_purchase_order_cache,get_task_and_notification_cache:k.vp.get_task_and_notification_cache}},mounted(){this.init()},setup(){const e=(0,m.Bu)(),{user_settings:t,loading_settings:a,cache_data:c}=(0,b.bP)(e),{setCachePreferences:n,getCachePreferences:i,deleteCache:o}=e;return{user_settings:t,cache_data:c,loading_settings:a,setCachePreferences:n,getCachePreferences:i,deleteCache:o,loading:(0,v.KR)(!1)}},methods:{init(){return N(this,void 0,void 0,(function*(){this.loading=!0;try{yield this.getCachePreferences(this.get_receive_delivery_cache),yield this.getCachePreferences(this.get_purchase_order_cache),yield this.getCachePreferences(this.get_task_and_notification_cache)}catch(e){this.showErrorToast(this.$t("failed_to_get_cache_preferences"))}finally{this.loading=!1}}))},updateEnable(e){return N(this,void 0,void 0,(function*(){this.cache_data[this.get_receive_delivery_cache].enabled=e,yield this.updateCache()}))},updateTtl(e){return N(this,void 0,void 0,(function*(){this.cache_data[this.get_receive_delivery_cache].ttl=e,yield this.updateCache()}))},updateCache(){return N(this,void 0,void 0,(function*(){const e=this.cache_data[this.get_receive_delivery_cache].enabled,t=this.cache_data[this.get_receive_delivery_cache].ttl;yield this.setCachePreferences(e,t).then((()=>{this.showSuccessToast(this.$t("cache_preference_updated"))})).catch((()=>{this.showErrorToast(this.$t("failed_update_cache_preferences"))})).finally((()=>{this.loading=!1}))}))}}});var R=a(857);const W=(0,F.A)(O,[["render",f],["__scopeId","data-v-1b0a5bd5"]]),D=W;S()(O,"components",{QMarkupTable:R.A,QToggle:$.A,QInput:E.A,QTooltip:q.A});var H=a(64775),z=function(e,t,a,c){function n(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function o(e){try{s(c.next(e))}catch(t){i(t)}}function d(e){try{s(c["throw"](e))}catch(t){i(t)}}function s(e){e.done?a(e.value):n(e.value).then(o,d)}s((c=c.apply(e,t||[])).next())}))};const G=(0,c.pM)({el:"#app",components:{SubHeader:s.A,BackToSettings:l.A,ReceivedCache:D},mixins:[y.A,C.A],data(){return{loading:!1}},methods:{clearCache(){return z(this,void 0,void 0,(function*(){this.loading=!0;try{const e=yield this.deleteCache();if(!e.success)throw{message:e.message};this.showSuccessToast(this.$t("cache_cleared_successfully"))}catch(e){const t=H.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.loading=!1}}))}},setup(){const e=(0,m.Bu)(),{deleteCache:t}=e;return{deleteCache:t}}}),J=(0,F.A)(G,[["render",d],["__scopeId","data-v-180bdf6a"]]),Y=J}}]);