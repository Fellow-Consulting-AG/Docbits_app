"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[4061],{84061:(e,t,l)=>{l.r(t),l.d(t,{default:()=>ue});var a=l(83673),n=l(98880),o=l(62323);const s=e=>((0,a.dD)("data-v-11c8fa17"),e=e(),(0,a.Cn)(),e),i={id:"services"},d={class:"row"},c={class:"col-9",style:{"margin-top":"2vh"}},r={class:"drag-area text-center full-width",style:{padding:"20px"},id:"box-droppable"},u={style:{width:"300px",margin:"auto"},align:"center"},p={style:{padding:"10px",width:"100%"}},h={style:{"font-size":"20px"}},w={class:"",style:{padding:"10px","margin-bottom":"10px",width:"100%"}},g={class:"q-card-heading text-h3",style:{color:"#2388ae"}},m={class:"row",style:{"margin-top":"50px"}},_=s((()=>(0,a._)("div",{class:"col-3"},null,-1))),v={class:"col-1 text-center"},f={class:"col-1 text-center"},b={class:"col-2 text-center"},y={class:"col-1 text-center"},x={class:"col-1 text-center"},D={key:2,style:{height:"75vh","overflow-y":"auto",padding:"20px","margin-left":"68px",border:"2px solid #000000"}},k={class:"col-2",style:{"margin-top":"2vh"}},W={class:"popup-heading",style:{color:"#2388ae"}},V={class:"row text-center"},H=(0,a.Uk)(" No results "),$={key:0,style:{"margin-top":"5px"}},Z={class:"scanner-error text-uppercase"};function S(e,t,l,s,S,q){const I=(0,a.up)("DownloadInstaller"),C=(0,a.up)("q-dialog"),F=(0,a.up)("q-img"),z=(0,a.up)("q-file"),Q=(0,a.up)("q-card-section"),L=(0,a.up)("q-card"),T=(0,a.up)("q-toolbar-title"),U=(0,a.up)("q-icon"),B=(0,a.up)("q-btn"),P=(0,a.up)("q-card-actions"),j=(0,a.up)("vue-pdf-embed"),A=(0,a.up)("q-separator"),G=(0,a.up)("q-toolbar"),R=(0,a.up)("q-input"),E=(0,a.up)("q-tooltip"),K=(0,a.up)("q-item-section"),M=(0,a.up)("q-item"),O=(0,a.up)("q-select"),N=(0,a.up)("q-checkbox"),Y=(0,a.up)("DocSplit");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(C,{modelValue:e.showDownloadInstaller,"onUpdate:modelValue":t[0]||(t[0]=t=>e.showDownloadInstaller=t),onKeydown:t[1]||(t[1]=(0,n.D2)((t=>e.showDownloadInstaller=!1),["esc"]))},{default:(0,a.w5)((()=>[(0,a.Wm)(I)])),_:1},8,["modelValue"]),(0,a._)("section",i,[(0,a._)("div",d,[(0,a._)("div",c,[e.showDragnDrop?((0,a.wg)(),(0,a.j4)(L,{key:0,flat:"",class:"drag-n-drop highlighted-back",onDrop:e.drop,onDragover:e.allowDrop,onDragleave:e.dragLeave},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{style:{border:"2px dashed",height:"100%"}},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(F,{src:"doc2light/scanner/cloud.svg",style:{height:"240px",width:"700px","margin-top":"10%"}}),(0,a._)("div",u,[(0,a._)("div",p,[(0,a._)("span",h,(0,o.zw)(e.$t("doc2light.pages.dragndrop")),1)]),(0,a._)("div",w,(0,o.zw)(e.$t("doc2light.pages.or")),1),(0,a.Wm)(z,{"bg-color":"primary",multiple:"",standout:"",label:e.$t("doc2light.pages.browse_files"),modelValue:e.uploadedFiles,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.uploadedFiles=t),e.uploadFiles],"data-cy":"upload-multiple-docs",style:{width:"60%"}},null,8,["label","modelValue","onUpdate:modelValue"])])])])),_:1})])),_:1},8,["onDrop","onDragover","onDragleave"])):(0,a.kq)("",!0),e.showInstaller?((0,a.wg)(),(0,a.j4)(L,{key:1,flat:"",class:"drag-n-drop"},{default:(0,a.w5)((()=>[(0,a.Wm)(Q,{style:{"margin-top":"16%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{class:"text-center"},{default:(0,a.w5)((()=>[(0,a._)("span",g,(0,o.zw)(e.$t("doc2light.pages.download_scan_installer")),1)])),_:1}),(0,a._)("div",m,[_,(0,a._)("div",v,[(0,a.Wm)(F,{src:"doc2light/download-13.svg",height:"70px",width:"70px",class:"black_to_white"}),(0,a._)("div",null,(0,o.zw)(e.$t("download")),1)]),(0,a._)("div",f,[(0,a.Wm)(U,{name:"double_arrow",size:"40px",style:{"margin-top":"1.5vh"}})]),(0,a._)("div",b,[(0,a.Wm)(F,{src:"doc2light/ordner-12.svg",height:"70px",width:"80px",class:"black_to_white"}),(0,a._)("div",null,(0,o.zw)(e.$t("doc2light.pages.installing")),1)]),(0,a._)("div",y,[(0,a.Wm)(U,{name:"double_arrow",size:"40px",style:{"margin-top":"1.5vh"}})]),(0,a._)("div",x,[(0,a.Wm)(F,{src:"doc2light/icons-menu_Scan.svg",height:"70px",width:"70px",class:"black_to_white"}),(0,a._)("div",null,(0,o.zw)(e.$t("doc2light.pages.scan")),1)])])])),_:1}),(0,a.Wm)(P,{align:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{rounded:"",unelevated:"",class:"background-gradient download-button",label:e.$t("Windows"),size:"15px",icon:"window",onClick:t[3]||(t[3]=t=>e.downloadInstaller("https://github.com/Fellow-Consulting-AG/Public-Doc2scanner/releases/latest/download/doc2scan-windows-installer.msi"))},null,8,["label"]),(0,a.Wm)(B,{rounded:"",unelevated:"",class:"background-gradient download-button",label:e.$t("MacOS"),size:"15px",icon:"apple",onClick:t[4]||(t[4]=t=>e.downloadInstaller("https://github.com/Fellow-Consulting-AG/Public-Doc2scanner/releases/latest/download/doc2scan-macos-installer-x64.pkg "))},null,8,["label"])])),_:1})])),_:1})):(0,a.kq)("",!0),e.showPDF?((0,a.wg)(),(0,a.iD)("div",D,[(0,a.Wm)(j,{ref:"pager",source:e.file},null,8,["source"])])):(0,a.kq)("",!0)]),(0,a.Wm)(A,{vertical:"",color:"black",style:{"margin-left":"30px","margin-right":"30px","min-height":"89vh"}}),(0,a._)("div",k,[(0,a._)("div",null,[(0,a.Wm)(L,{class:"card-format highlighted-back",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(G,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T,null,{default:(0,a.w5)((()=>[(0,a._)("span",W,(0,o.zw)(e.$t("doc2light.pages.scan_settings")),1)])),_:1})])),_:1}),(0,a.Wm)(Q,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(R,{modelValue:e.new_scan["name"],"onUpdate:modelValue":t[5]||(t[5]=t=>e.new_scan["name"]=t),label:e.$t("name")},null,8,["modelValue","label"])]),(0,a._)("div",V,[(0,a.Wm)(O,{style:{"min-width":"15vw"},modelValue:e.new_scan["source"],"onUpdate:modelValue":t[7]||(t[7]=t=>e.new_scan["source"]=t),label:e.$t("doc2light.pages.choose_source"),options:e.scanners},{after:(0,a.w5)((()=>[(0,a.Wm)(B,{unelevated:"",round:"",icon:"restart_alt",onClick:t[6]||(t[6]=t=>e.getScanners(e.valid_url))},{default:(0,a.w5)((()=>[(0,a.Wm)(E,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("doc2light.pages.search_scanners")),1)])),_:1})])),_:1})])),"no-option":(0,a.w5)((()=>[(0,a.Wm)(M,null,{default:(0,a.w5)((()=>[(0,a.Wm)(K,null,{default:(0,a.w5)((()=>[H])),_:1})])),_:1})])),_:1},8,["modelValue","label","options"])]),e.showDownloadInstallerButton?((0,a.wg)(),(0,a.iD)("div",$,[(0,a.Wm)(K,null,{default:(0,a.w5)((()=>[(0,a._)("span",Z,(0,o.zw)("! "+e.$t("directscan.no_scanner_found")),1)])),_:1})])):(0,a.kq)("",!0),(0,a._)("div",null,[(0,a.Wm)(N,{modelValue:e.new_scan["automatic_get"],"onUpdate:modelValue":t[8]||(t[8]=t=>e.new_scan["automatic_get"]=t),"indeterminate-value":!1,label:e.$t("doc2light.pages.automatic_get")},null,8,["modelValue","label"])]),(0,a._)("div",null,[(0,a.Wm)(N,{modelValue:e.new_scan["remove_empty_sites"],"onUpdate:modelValue":t[9]||(t[9]=t=>e.new_scan["remove_empty_sites"]=t),"indeterminate-value":!1,label:e.$t("doc2light.pages.remove_empty_pages")},null,8,["modelValue","label"])]),(0,a._)("div",null,[(0,a.Wm)(N,{modelValue:e.new_scan["2_sided"],"onUpdate:modelValue":t[10]||(t[10]=t=>e.new_scan["2_sided"]=t),"indeterminate-value":!1,label:e.$t("doc2light.pages.two_side_scan")},null,8,["modelValue","label"])]),(0,a._)("div",null,[(0,a.Wm)(O,{modelValue:e.new_scan["resolution"],"onUpdate:modelValue":t[11]||(t[11]=t=>e.new_scan["resolution"]=t),label:e.$t("doc2light.pages.resolution"),options:e.resolutions},null,8,["modelValue","label","options"])]),(0,a._)("div",null,[(0,a.Wm)(O,{type:"multi",modelValue:e.new_scan["pixel_type"],"onUpdate:modelValue":t[12]||(t[12]=t=>e.new_scan["pixel_type"]=t),label:"Pixeltype",options:e.pixeltypes},null,8,["modelValue","options"])])])),_:1}),e.documentScanned?((0,a.wg)(),(0,a.j4)(P,{key:0,align:"center",style:{}},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{unelevated:"",label:e.$t("doc2light.pages.scan"),"color:":"",size:"15px",style:{width:"5vw","margin-right":"20px"},class:"btn-fixed-width inverted-button",onClick:t[13]||(t[13]=t=>e.doScan())},null,8,["label"]),(0,a.Wm)(B,{unelevated:"",color:"primary",label:e.$t("doc2light.pages.upload"),size:"15px",style:{"min-width":"5vw"},class:"btn-fixed-width primary-button",onClick:t[14]||(t[14]=t=>e.uploadSingleFile(e.filedata))},null,8,["label"])])),_:1})):((0,a.wg)(),(0,a.j4)(P,{key:1,align:"center",style:{"margin-right":"7px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{unelevated:"",color:"primary",label:e.$t("doc2light.pages.scan"),size:"15px",style:{width:"5vw","margin-bottom":"20px"},class:"btn-fixed-width primary-button",onClick:e.doScan},null,8,["label","onClick"])])),_:1})),e.showSplitButton?((0,a.wg)(),(0,a.j4)(P,{key:2,align:"center",class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(B,{style:{width:"11vw"},unelevated:"",color:"primary",class:"primary-button btn-fixed-width",label:e.$t("doc2light.pages.split"),onClick:t[15]||(t[15]=t=>e.show_popup=!0)},null,8,["label"])])),_:1})):(0,a.kq)("",!0)])),_:1})]),(0,a.Wm)(C,{modelValue:e.show_popup,"onUpdate:modelValue":t[16]||(t[16]=t=>e.show_popup=t),onKeydown:t[17]||(t[17]=(0,n.D2)((t=>e.show_popup=!1),["esc"]))},{default:(0,a.w5)((()=>[(0,a.Wm)(Y,{doc:e.file,pageCount:e.getRef(),filedata:e.filedata,mode:"split_create"},null,8,["doc","pageCount","filedata"])])),_:1},8,["modelValue"])])])])],64)}var q=l(77378),I=l(61959),C=l(45401),F=l(25616),z=l(74371),Q=l(30052),L=l.n(Q),T=l(80579),U=l(45752),B=l.n(U),P=l(60759),j=function(e,t,l,a){function n(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,o){function s(e){try{d(a.next(e))}catch(t){o(t)}}function i(e){try{d(a["throw"](e))}catch(t){o(t)}}function d(e){e.done?l(e.value):n(e.value).then(s,i)}d((a=a.apply(e,t||[])).next())}))};const A=(0,a.aZ)({data(){return{}},props:["service"],components:{DocSplit:z.Z,VuePdfEmbed:B(),DownloadInstaller:P.Z},mixins:[C.Z,q.Z],mounted(){var e="https://local.polydocs.io:";this.initView(e)},methods:{initView(e){this.new_scan["automatic_get"]=!1,this.new_scan["remove_empty_sites"]=!1,this.new_scan["2_sided"]=!1,this.new_scan["pixel_type"]=this.pixeltypes[0],this.new_scan["resolution"]=this.resolutions[0],this.checkAlfred(e)},checkAlfred(e){return j(this,void 0,void 0,(function*(){try{yield L().get(e+"12500/"),yield this.getScanners(e+"12500/")}catch(t){try{yield L().get(e+"12154/"),yield this.getScanners(e+"12154/")}catch(t){try{yield L().get(e+"12346/"),yield this.getScanners(e+"12346/")}catch(t){this.showErrorToast(this.$t("directscan.no_running_scanner")),this.showDownloadInstallerButton=!0,this.showInstaller=!0,this.showDragnDrop=!1}}}}))},getScanners(e){return j(this,void 0,void 0,(function*(){this.valid_url=e;const t=yield L().get(e+"scanners");1==t.data.success?(this.scanners=[],t.data.scanners.forEach((e=>{this.scanners.push({value:e["Host"],label:e["Device"]})})),this.new_scan["source"]=this.scanners[0]):this.showErrorToast(this.$t("directscan.no_scanner_found"))}))},doScan(){return j(this,void 0,void 0,(function*(){let e=this.valid_url+"scan?host="+this.new_scan["source"]["value"];1==this.new_scan["automatic_get"]?e+="&source=adf":e+="&source=platen",""!=this.new_scan["pixel_type"]["value"]&&(e=e+"&color="+this.new_scan["pixel_type"]["value"]),""!=this.new_scan["2_sided"]&&(e=e+"&duplex_input="+this.new_scan["2_sided"]),this.showLoading();yield L().get(e,{responseType:"blob"}).then((e=>{const t=e.headers["content-type"];new Blob([e.data,"test.pdf",t]);this.file=URL.createObjectURL(e.data),this.new_scan["automatic_get"]&&(this.showSplitButton=!0),this.showInstaller=!1,this.showDragnDrop=!1,this.showPDF=!0,this.documentScanned=!0,this.filedata=e.data})).catch((e=>{}));this.hideLoading()}))},getRef(){let e=this.$refs["pager"].pageCount;return e},formateDate(e,t){return F.ZP.formatDate(e,t)},allowDrop(e){e.preventDefault(),e.currentTarget.classList.add("highlighted-back"),e.currentTarget.classList.add("bd-shadow")},drop(e){e.preventDefault(),e.currentTarget.classList.remove("highlighted-back"),e.currentTarget.classList.remove("bd-shadow"),this.uploadFiles(e.dataTransfer.files)},dragLeave(e){e.currentTarget.classList.remove("highlighted-back"),e.currentTarget.classList.remove("bd-shadow")},downloadInstaller(e){window.open(e,"_self")},uploadFiles(e){return j(this,void 0,void 0,(function*(){this.showLoading();for(const a in e)try{let l=new FormData;var t=e[a];l.append("files",t),yield T.Zj.uploadFiles(l)}catch(l){}this.hideLoading(),this.$router.push("/dashboard")}))},uploadSingleFile(e){return j(this,void 0,void 0,(function*(){this.showLoading();try{let t=new FormData;this.new_scan["name"]?t.append("files",e,this.new_scan["name"]+".pdf"):t.append("files",e,"Scan.pdf"),yield T.Zj.uploadFiles(t)}catch(t){}this.hideLoading(),this.$router.push("/dashboard")}))}},setup(){const e=[{value:"Grayscale8",label:"Gray"},{value:"RGB24",label:"Color"}],t=[{value:"300",label:"300"},{value:"600",label:"600"},{value:"1200",label:"1200"}];return{showDragnDrop:(0,I.iH)(!0),showInstaller:(0,I.iH)(!1),showDownloadInstallerButton:(0,I.iH)(!1),showDownloadInstaller:(0,I.iH)(!1),pageCount:(0,I.iH)(1),file:(0,I.iH)(),filedata:(0,I.iH)(),filter:(0,I.iH)(""),view:(0,I.iH)("list"),multiUploaderDialog:(0,I.iH)(!1),uploadedFiles:(0,I.iH)(null),image:(0,I.iH)(),new_scan:(0,I.iH)({}),scanners:(0,I.iH)([]),show_popup:(0,I.iH)(!1),pixeltypes:(0,I.iH)(e),resolutions:(0,I.iH)(t),importing:(0,I.iH)(!1),showSplitButton:(0,I.iH)(!1),showMenu:(0,I.iH)(!1),showIcons:(0,I.iH)(!0),documentScanned:(0,I.iH)(!1),ports:(0,I.iH)(["12500","12154","12346"]),valid_url:(0,I.iH)(),scan_card_height:(0,I.iH)(),showPDF:(0,I.iH)(!1)}}});var G=l(74260),R=l(46778),E=l(10151),K=l(25589),M=l(24027),O=l(64974),N=l(13747),Y=l(24554),J=l(99367),X=l(2165),ee=l(65869),te=l(39570),le=l(64689),ae=l(72448),ne=l(5363),oe=l(83414),se=l(52035),ie=l(65735),de=l(7518),ce=l.n(de);const re=(0,G.Z)(A,[["render",S],["__scopeId","data-v-11c8fa17"]]),ue=re;ce()(A,"components",{QDialog:R.Z,QCard:E.Z,QCardSection:K.Z,QImg:M.Z,QFile:O.Z,QToolbarTitle:N.Z,QIcon:Y.Z,QCardActions:J.Z,QBtn:X.Z,QSeparator:ee.Z,QToolbar:te.Z,QInput:le.Z,QSelect:ae.Z,QTooltip:ne.Z,QItem:oe.Z,QItemSection:se.Z,QCheckbox:ie.Z})}}]);