"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[2801],{42801:(e,s,i)=>{i.r(s),i.d(s,{default:()=>z});var t=i(59835),a=i(86970);const r={class:"page-holder py-4 bg-gray-100 vh-100"},o={class:"container verify-email"},l={class:"row"},n={class:"col-lg-6 px-lg-4 center"},c={class:"card"},d={class:"card-body p-lg-5"},m={class:"row",style:{width:"54px","margin-left":"auto","margin-right":"auto"}},g={key:0,class:"row error q-mt-lg q-ml-md text-red-5 text-weight-bold"},u={key:1,style:{display:"flex","flex-direction":"column","align-items":"flex-start"},class:"row error q-mt-lg q-ml-md text-weight-bold"},h={style:{"align-self":"center"}},p={key:2,class:"row error q-mt-lg q-ml-md text-weight-bold"},f={key:3,style:{display:"flex","flex-direction":"column","align-items":"flex-start"},class:"row error q-mt-lg q-ml-md text-weight-bold"},_={style:{"align-self":"center"}},y={class:"row"},w={class:"row",style:{"flex-direction":"column",display:"flex","align-items":"flex-start"}};function v(e,s,i,v,q,k){const x=(0,t.up)("q-spinner-hourglass"),b=(0,t.up)("q-btn"),E=(0,t.up)("ResendVerifyEmail"),C=(0,t.up)("Loader");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",r,[(0,t._)("div",o,[(0,t._)("div",l,[(0,t._)("div",n,[(0,t._)("div",c,[(0,t._)("div",d,[(0,t._)("div",m,[""!=e.checking?((0,t.wg)(),(0,t.j4)(x,{key:0,color:"grey-8",size:"4em"})):(0,t.kq)("",!0)]),""!=e.error_message?((0,t.wg)(),(0,t.iD)("div",g,[(0,t.Wm)(b,{round:"",color:"red",class:"q-ml-auto q-mr-auto",icon:"close"})])):(0,t.kq)("",!0),""!=e.error_message?((0,t.wg)(),(0,t.iD)("div",u,[(0,t._)("span",h,(0,a.zw)(e.error_message),1)])):(0,t.kq)("",!0),""!=e.success_message?((0,t.wg)(),(0,t.iD)("div",p,[(0,t.Wm)(b,{round:"",color:"green",class:"q-ml-auto q-mr-auto",icon:"done"})])):(0,t.kq)("",!0),""!=e.success_message?((0,t.wg)(),(0,t.iD)("div",f,[(0,t._)("span",_,(0,a.zw)(e.success_message),1)])):(0,t.kq)("",!0),(0,t._)("div",y,[(0,t.Wm)(b,{label:e.$t("pages.register_success.sign_in"),class:"btn-red q-mt-md q-ml-auto q-mr-auto",onClick:s[0]||(s[0]=s=>e.goLogin())},null,8,["label"])]),(0,t._)("div",w,[(0,t.Wm)(E,{email:e.email},null,8,["email"])])])])])])])]),(0,t.Wm)(C)],64)}var q=i(39981),k=i.n(q),x=i(37744),b=i(3833),E=i(60499),C=i(53500),H=i(96427),R=function(e,s,i,t){function a(e){return e instanceof i?e:new i((function(s){s(e)}))}return new(i||(i=Promise))((function(i,r){function o(e){try{n(t.next(e))}catch(s){r(s)}}function l(e){try{n(t["throw"](e))}catch(s){r(s)}}function n(e){e.done?i(e.value):a(e.value).then(o,l)}n((t=t.apply(e,s||[])).next())}))};const Z=(0,t.aZ)({el:"#app",mixins:[],components:{ResendVerifyEmail:C.Z},data(){return{}},setup(){return{email:(0,E.iH)(""),code:(0,E.iH)(""),success_message:(0,E.iH)(""),error_message:(0,E.iH)(""),checking:(0,E.iH)("")}},watch:{error_message(e,s){""!==e&&(this.checking="",this.success_message="")},success_message(e,s){""!==e&&(this.checking="",this.error_message="")}},mounted(){b.Z.remove("user_details"),this.processEmailCodeVaidattion()},methods:{processEmailCodeVaidattion(){return R(this,void 0,void 0,(function*(){try{if(this.checking="Loading",this.getEmailAndCode(),!this.code||!this.email)return void this.displayError("Please resend email again");yield this.verifyEmail()}catch(e){let s=this.$t("pages.messages.ERROR_INTERNAL_OCCUR");e&&e.hasOwnProperty("message")&&(s=e.message),this.displayError(s)}finally{this.checking=""}}))},getEmailAndCode(){for(const[e,s]of Object.entries(this.$route.query))"code"===e&&(this.code=String(s)),"email"===e&&(this.email=String(s))},goLogin(){this.$router.push("/")},verifyEmail(){return R(this,void 0,void 0,(function*(){let e=new FormData;e.append("email",this.email),e.append("code",this.code);const s={email:this.email,code:this.code},i=(0,H.XV)(s);let t;if(this.checking="Please Waiting....",t=yield k().get(x.hi.confirm_email+"?"+i,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,x.jd)()}}),t.data&&t.data.hasOwnProperty("success")&&!1===t.data.success)throw{message:t.data.message};t.data&&t.data.hasOwnProperty("success")&&!0===t.data.success&&(this.success_message=t.data.message)}))},displayError(e){let s=e;s||(s=this.$t("general_login_error")),this.error_message=s}}});var D=i(7683),O=i(96335),P=i(68879),W=i(8326),L=i(69984),V=i.n(L);const $=(0,D.Z)(Z,[["render",v],["__scopeId","data-v-c3c7f5c0"]]),z=$;V()(Z,"components",{QSpinnerHourglass:O.Z,QBtn:P.Z,QForm:W.Z})}}]);