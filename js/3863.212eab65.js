"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[3863],{23863:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Pl});var i=s(59835),o=s(86970);const l=e=>((0,i.dD)("data-v-ec058d3e"),e=e(),(0,i.Cn)(),e),n={class:"q-ml-auto col-6 mobile-hide"},a={key:0},r={key:0,class:"full-width"},d={key:1,class:"full-width"},c={class:"q-pa-lg flex flex-center"},u={key:0},p={class:"text-center",colspan:"10"},h={class:"full-width dashboard-list-area"},_={class:"table-header-text"},m={key:0,class:"text-center"},g={key:1,class:"documnetCol relative-position"},v={key:2,class:"float-right q-mr-md"},f={key:2,class:"text-center",style:{width:"91px"}},w={class:"",style:{width:"91px"}},b=["data-index"],y={class:"table-body"},k=["onClick"],x=l((()=>(0,i._)("img",{width:"20",src:"document_quality.svg",class:"black_to_white absolute-center"},null,-1))),C=["innerHTML"],q={style:{position:"relative",left:"60px"}},E=(0,i.Uk)(" Click over status to see more details "),D=["onClick"],L=l((()=>(0,i._)("img",{src:"puzzle_green.svg",width:"20"},null,-1))),F=l((()=>(0,i._)("img",{src:"puzzle_red.svg",width:"20"},null,-1))),S={key:1},W={class:""},T=["src"],z=l((()=>(0,i._)("div",{class:"box loading-shimmer"},null,-1))),O=[z],Z={key:1},$={class:"text-center",colspan:"12"},I={class:"q-pa-lg flex flex-center"},U={key:0},V={class:"text-center",colspan:"10"},H={class:"q-ml-sm"},R={cellspacing:"0",cellpadding:"0",style:{border:"none",width:"100%"}},P={style:{width:"5%"}},M={style:{padding:"5%","text-align":"center"}},A={style:{width:"5%"}},Q={cellspacing:"5px",cellpadding:"5px",style:{border:"none",width:"100%"}},j={cellspacing:"0",cellpadding:"0",style:{border:"none",width:"100%"}},B={style:{width:"5%"}},N={style:{padding:"5%","text-align":"center"}},Y={style:{width:"5%"}},K={cellspacing:"5px",cellpadding:"5px",style:{border:"none",width:"100%"}},J={style:{"text-align":"center"}},G={class:"q-ml-sm"};function X(e,t,s,l,z,X){const ee=(0,i.up)("TaskCounters"),te=(0,i.up)("SubHeader"),se=(0,i.up)("MobileGrid"),ie=(0,i.up)("q-pagination"),oe=(0,i.up)("DashboardHeader"),le=(0,i.up)("q-separator"),ne=(0,i.up)("q-checkbox"),ae=(0,i.up)("q-icon"),re=(0,i.up)("q-tooltip"),de=(0,i.up)("q-fab-action"),ce=(0,i.up)("q-fab"),ue=(0,i.up)("ColumnOrderBy"),pe=(0,i.up)("q-btn"),he=(0,i.up)("q-markup-table"),_e=(0,i.up)("q-avatar"),me=(0,i.up)("q-card-section"),ge=(0,i.up)("f-btn"),ve=(0,i.up)("q-card-actions"),fe=(0,i.up)("q-card"),we=(0,i.up)("q-dialog"),be=(0,i.up)("DocAssignment"),ye=(0,i.up)("Loader"),ke=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(te,{name:"dashboard",label:e.$t("pages.screen2a.dashboard"),show_expiry_alert:!0},{default:(0,i.w5)((()=>[(0,i._)("span",n,[(0,i.Wm)(ee)])])),_:1},8,["label"]),e.isMobile()?((0,i.wg)(),(0,i.iD)("div",a,[e.display_data&&e.display_data.length>0?((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(se,{table_data:e.display_data},null,8,["table_data"])])):((0,i.wg)(),(0,i.iD)("div",d," No Data Found ")),(0,i._)("div",c,[e.display_data.length>0?((0,i.wg)(),(0,i.iD)("tr",u,[(0,i._)("td",p,[(0,i.Wm)(ie,{modelValue:e.paginationCount,"onUpdate:modelValue":t[0]||(t[0]=t=>e.paginationCount=t),color:"primary",max:e.skip,"max-pages":6,"boundary-links":"",onClick:t[1]||(t[1]=t=>e.loadData())},null,8,["modelValue","max"])])])):(0,i.kq)("",!0)])])):((0,i.wg)(),(0,i.iD)("div",{key:1,class:"dashboard-container dashboard-text-color dashboard-main",onDrop:t[12]||(t[12]=(...t)=>e.drop&&e.drop(...t)),onDragover:t[13]||(t[13]=(...t)=>e.allowDrop&&e.allowDrop(...t)),onDragleave:t[14]||(t[14]=(...t)=>e.dragLeave&&e.dragLeave(...t))},[(0,i.Wm)(oe),(0,i.Wm)(le,{class:"seperator"}),(0,i._)("div",h,[e.table_columns.length>0?((0,i.wg)(),(0,i.j4)(he,{key:0,flat:"",class:(0,o.C_)(["sticky-column-for-table dashboard-table-style back-white dashboard-table-height",e.display_data.length>0?"dashboard-min-height":""])},{default:(0,i.w5)((()=>[(0,i._)("thead",null,[(0,i._)("tr",_,[(0,i._)("th",null,[(0,i.Wm)(ne,{modelValue:this.headerCheckbox,"onUpdate:modelValue":[t[2]||(t[2]=e=>this.headerCheckbox=e),t[3]||(t[3]=t=>e.changeAction())],dense:""},null,8,["modelValue"]),(0,i.Wm)(ce,{modelValue:this.headerFabIcon,"onUpdate:modelValue":t[8]||(t[8]=e=>this.headerFabIcon=e),disable:this.selectionList.length<1,"label-position":"top",flat:"","data-cy":"actions","external-label":"",icon:"more_vert",direction:"down",padding:"1px"},{default:(0,i.w5)((()=>[(0,i.Wm)(de,{onClick:t[4]||(t[4]=t=>e.deleteMultipalDocument()),padding:"7px","external-label":"","label-position":"top","data-cy":"delete",style:{background:"#b90713"},disable:e.isMultiDeleteButtonDisabled},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:trash-bin-default-white.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.isMultiDeleteButtonDisabled?e.$t("could_not_delete"):e.$t("delete")),1)])),_:1})])),_:1},8,["disable"]),(0,i.Wm)(de,{onClick:t[5]||(t[5]=t=>e.restartMultipalDocExport()),padding:"7px","external-label":"","label-position":"top",style:{background:"#6479ff"},disable:e.isMultiRestartButtonDisabled},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:refresh.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.isMultiRestartButtonDisabled?e.$t("could_not_restart"):e.$t("restart")),1)])),_:1})])),_:1},8,["disable"]),(0,i.Wm)(de,{onClick:t[6]||(t[6]=t=>e.multipleDocAssignment()),padding:"7px","external-label":"","label-position":"top",style:{background:"#6decb4"}},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:assign to.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("assigne2")),1)])),_:1})])),_:1}),(0,i.Wm)(de,{onClick:t[7]||(t[7]=t=>e.confirmMerge()),padding:"5px","external-label":"","label-position":"top",color:"deep-orange-6",icon:"merge"},{default:(0,i.w5)((()=>[(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("merge")),1)])),_:1})])),_:1})])),_:1},8,["modelValue","disable"])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.table_columns,((t,s)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:s},["quality"==t.name?((0,i.wg)(),(0,i.iD)("th",m,[t.hasOwnProperty("label")?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,o.zw)(e.$t(t.label)),1)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(e.$t(t.name)),1)],64)),t.sortable?((0,i.wg)(),(0,i.j4)(ue,{key:2,column_name:t.name},null,8,["column_name"])):(0,i.kq)("",!0)])):"po_matching"!==t.name?((0,i.wg)(),(0,i.iD)("th",g,[t.hasOwnProperty("label")?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,o.zw)(e.$t(t.label)),1)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(e.$t(t.name)),1)],64)),t.sortable?((0,i.wg)(),(0,i.iD)("div",v,[(0,i.Wm)(ue,{column_name:t.name},null,8,["column_name"])])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),e.po_module_activate&&"po_matching"===t.name?((0,i.wg)(),(0,i.iD)("th",f,(0,o.zw)(e.$t(t.label)),1)):(0,i.kq)("",!0)],64)))),128)),(0,i._)("th",w,(0,o.zw)(e.$t("actions")),1)])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.display_data,((s,l)=>((0,i.wg)(),(0,i.iD)("tr",{key:s["id"],class:(0,o.C_)(e.setRowStyle(s)),"data-index":l},[(0,i._)("td",y,[(0,i.Wm)(ne,{dense:"",modelValue:s["rowSelection"],"onUpdate:modelValue":[e=>s["rowSelection"]=e,t[9]||(t[9]=e=>this.checkRowExistance())]},null,8,["modelValue","onUpdate:modelValue"]),s["locked_by"]?((0,i.wg)(),(0,i.j4)(ae,{key:0,name:"lock",style:{color:"#7a7a7a"},size:"22px",class:"mt-3 q-ml-sm"},{default:(0,i.w5)((()=>[(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("doc_lock")),1)])),_:1})])),_:1})):(0,i.kq)("",!0)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.table_columns,((t,l)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:l},["po_matching"!==t.name?((0,i.wg)(),(0,i.iD)("td",{key:0,onClick:i=>"status"===t.name&&"error"===s["status"]?e.getErrorInfos(s):e.rowClick(s),class:(0,o.C_)([e.getClassesForColumn(s["status"],t.name),"text-weight-regular documnetCol table-body"])},["quality"===t.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[x,s["quality"]?((0,i.wg)(),(0,i.j4)(re,{key:0},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"row",innerHTML:e.renderquality(s)},null,8,C)])),_:2},1024)):(0,i.kq)("",!0)],64)):"pages"===t.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("span",null,(0,o.zw)(s[t.name]?s[t.name]:"-"),1),s[t.name]?((0,i.wg)(),(0,i.j4)(re,{key:0},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(s[t.name]),1)])),_:2},1024)):(0,i.kq)("",!0)],64)):"priority"===t.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i._)("span",q,(0,o.zw)(s[t.name]?s[t.name]:"-"),1),s[t.name]?((0,i.wg)(),(0,i.j4)(re,{key:0},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(s[t.name]),1)])),_:2},1024)):(0,i.kq)("",!0)],64)):"status"===t.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:3},[(0,i.Uk)((0,o.zw)(e.getLabelTranslation(s["status"]))+" ",1),"error"===s["status"]?((0,i.wg)(),(0,i.j4)(re,{key:0},{default:(0,i.w5)((()=>[E])),_:1})):(0,i.kq)("",!0)],64)):"doc_type"===t.name?((0,i.wg)(),(0,i.iD)(i.HY,{key:4},[(0,i.Uk)((0,o.zw)(e.setDisplayDocType(s)),1)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:5},[(0,i.Uk)((0,o.zw)(s[t.name]?s[t.name]:"-")+" ",1),s[t.name]?((0,i.wg)(),(0,i.j4)(re,{key:0},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(s[t.name]),1)])),_:2},1024)):(0,i.kq)("",!0)],64))],10,k)):(0,i.kq)("",!0),"po_matching"===t.name&&e.po_module_activate?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[e.isPoIconAllowed(s["doc_type"],s["status"],s["table_version"])?((0,i.wg)(),(0,i.iD)("td",{key:0,onClick:t=>e.viewPurchaseOrder(s["id"],s["table_version"]),class:(0,o.C_)([e.getClassesForColumn(s["status"],"po_matching"),"text-center table-body"])},[1==s["po_all_matched"]?((0,i.wg)(),(0,i.j4)(pe,{key:0,round:"",flat:"",size:"8px",onClick:t=>{t.stopPropagation(),e.viewPurchaseOrder(s["id"],s["table_version"])}},{default:(0,i.w5)((()=>[L,(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("po_matched")),1)])),_:1})])),_:2},1032,["onClick"])):((0,i.wg)(),(0,i.j4)(pe,{key:1,round:"",flat:"",size:"10px",onClick:t=>{t.stopPropagation(),e.viewPurchaseOrder(s["id"],s["table_version"])}},{default:(0,i.w5)((()=>[F,(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("po_matching_required")),1)])),_:1})])),_:2},1032,["onClick"]))],10,D)):((0,i.wg)(),(0,i.iD)("td",S))],64)):(0,i.kq)("",!0)],64)))),128)),(0,i._)("td",W,[(0,i.Wm)(ce,{modelValue:s["fabAction"],"onUpdate:modelValue":[e=>s["fabAction"]=e,t=>e.handleActions(l)],"label-position":"top",flat:"","data-cy":"actions","external-label":"",icon:"more_horiz",direction:"left",padding:"xs"},{default:(0,i.w5)((()=>[e.isDocDeleteable(s)?((0,i.wg)(),(0,i.j4)(de,{key:0,onClick:t=>{e.recordId=s["id"],e.deleteInvoice=!0},"external-label":"","label-position":"top",padding:"7px","data-cy":"delete",style:{background:"#b90713"}},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:trash-bin-default-white.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("delete")),1)])),_:1})])),_:2},1032,["onClick"])):(0,i.kq)("",!0),"finished"!=s["status"]&&"workflow"!=s["status"]&&"running"!=s["status"]&&"restart_in_progress"!=s["status"]&&"error"!=s["status"]&&"pending_confirmation"!=s["status"]?((0,i.wg)(),(0,i.j4)(de,{key:1,onClick:t=>e.rowClick(s),padding:"7px","external-label":"","label-position":"top","data-cy":"edit",style:{background:"#ffb355"}},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:pencil-white.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("validate")),1)])),_:1})])),_:2},1032,["onClick"])):(0,i.kq)("",!0),e.isDocRestartable(s)?((0,i.wg)(),(0,i.j4)(de,{key:2,onClick:t=>e.restartExport(s["id"]),padding:"7px","external-label":"","label-position":"top",style:{background:"#6479ff"}},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:refresh.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("restart")),1)])),_:1})])),_:2},1032,["onClick"])):(0,i.kq)("",!0),e.isExportErrorRestart(s)?((0,i.wg)(),(0,i.j4)(de,{key:3,onClick:t=>e.restartExportError(s["id"]),padding:"7px","external-label":"","label-position":"top",color:"green",width:"20"},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:export-restart.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("restart export")),1)])),_:1})])),_:2},1032,["onClick"])):(0,i.kq)("",!0),e.isDocReassignAble(s)?((0,i.wg)(),(0,i.j4)(de,{key:4,onClick:t=>e.openAssignmentDlg(s["id"]),padding:"7px","external-label":"","label-position":"top",style:{background:"#6decb4"}},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:assign to.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("assigne2")),1)])),_:1})])),_:2},1032,["onClick"])):(0,i.kq)("",!0),e.isExportAllowed(s["document_export_log"])?((0,i.wg)(),(0,i.j4)(de,{key:5,onClick:t=>e.goToExport(s["document_export_log"]),padding:"0px","external-label":"","label-position":"top"},{default:(0,i.w5)((()=>[(0,i._)("img",{width:"30",height:"30",src:e.getExportIcon(s["document_export_log"])},null,8,T)])),_:2},1032,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(de,{padding:"7px",onClick:t=>e.toFlowScreen(s.id),"external-label":"","label-position":"top",style:{background:"#be65d0"}},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:doc_flow.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("flow_screen")),1)])),_:1})])),_:2},1032,["onClick"]),1!=e.user_settings["WORKFLOW_BUILDER_MODULE_SETTING"]||"ready_for_validation"!=s["status"]&&"ready_for_review"!=s["status"]&&"pending_confirmation"!=s["status"]&&"validated_pending_approval"!=s["status"]&&"approved_pending_second_approval"!=s["status"]?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(de,{key:6,onClick:t=>e.triggerWorkflow(s["id"]),padding:"7px","external-label":"","label-position":"top",style:{background:"#c39f3d"}},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:workflow.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("trigger_workflow")),1)])),_:1})])),_:2},1032,["onClick"])),e.isDocDownloadable(s)?((0,i.wg)(),(0,i.j4)(de,{key:7,padding:"7px",onClick:t=>e.downloadFile(s),"external-label":"","label-position":"top",style:{background:"#2388ae"}},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:settings/import-white.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("download")),1)])),_:1})])),_:2},1032,["onClick"])):(0,i.kq)("",!0),e.hasPreviewFile(s)?((0,i.wg)(),(0,i.j4)(de,{key:8,padding:"7px",onClick:t=>e.downloadPreviewFile(s),"external-label":"","label-position":"top",style:{background:"#42a5f5"}},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:settings/import-white.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("download_preview_files")),1)])),_:1})])),_:2},1032,["onClick"])):(0,i.kq)("",!0),e.isdownloadAnnotated(s)?((0,i.wg)(),(0,i.j4)(de,{key:9,padding:"5px",onClick:t=>e.downloadAnnotated(s),"external-label":"","label-position":"top",style:{background:"#2388ae"}},{default:(0,i.w5)((()=>[(0,i.Wm)(ae,{style:{padding:"1px 1px 1px 1px"},name:"img:settings/import-white.svg",size:"20px"}),(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("download_annotated")),1)])),_:1})])),_:2},1032,["onClick"])):(0,i.kq)("",!0),e.isdownloadZugferd(s)?((0,i.wg)(),(0,i.j4)(de,{key:10,padding:"5px",onClick:t=>e.downloadZugferd(s),"external-label":"","label-position":"top",color:"blue-14",icon:"download"},{default:(0,i.w5)((()=>[(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("download_zugferd")),1)])),_:1})])),_:2},1032,["onClick"])):(0,i.kq)("",!0),e.isdownloadPeppol(s)?((0,i.wg)(),(0,i.j4)(de,{key:11,padding:"5px",onClick:t=>e.downloadPeppol(s),"external-label":"","label-position":"top",color:"blue-14",icon:"download"},{default:(0,i.w5)((()=>[(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("download_peppol")),1)])),_:1})])),_:2},1032,["onClick"])):(0,i.kq)("",!0)])),_:2},1032,["modelValue","onUpdate:modelValue"]),1==s["restart_allowed"]?((0,i.wg)(),(0,i.j4)(ae,{key:0,name:"priority_high",class:"headerError"},{default:(0,i.w5)((()=>[(0,i.Wm)(re,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("document_restart_alert")),1)])),_:1})])),_:1})):(0,i.kq)("",!0)])],10,b)))),128)),!0===e.show_table_loader?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(e.pageSize,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.table_columns.length+2,(e=>((0,i.wg)(),(0,i.iD)("td",{key:e},O)))),128))])))),128)):0===e.display_data.length&&!1===e.processing?((0,i.wg)(),(0,i.iD)("tr",Z,[(0,i._)("td",$,(0,o.zw)(e.$t("no_document_found")),1)])):(0,i.kq)("",!0)])])),_:1},8,["class"])):(0,i.kq)("",!0)]),(0,i._)("div",I,[e.display_data.length>0?((0,i.wg)(),(0,i.iD)("tr",U,[(0,i._)("td",V,[(0,i.Wm)(ie,{modelValue:e.paginationCount,"onUpdate:modelValue":t[10]||(t[10]=t=>e.paginationCount=t),color:"primary",max:e.skip,"max-pages":6,"boundary-links":"",onClick:t[11]||(t[11]=t=>e.loadData())},null,8,["modelValue","max"])])])):(0,i.kq)("",!0)])],32)),(0,i.Wm)(we,{modelValue:e.deleteInvoice,"onUpdate:modelValue":t[16]||(t[16]=t=>e.deleteInvoice=t),persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,null,{default:(0,i.w5)((()=>[(0,i.Wm)(me,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,i.w5)((()=>[(0,i.Wm)(_e,{icon:"warning",color:"primary"})])),_:1}),(0,i.Wm)(me,{class:"row items-center"},{default:(0,i.w5)((()=>[(0,i._)("span",H,(0,o.zw)(e.$t("sure")),1)])),_:1}),(0,i.Wm)(ve,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(ge,{appearance:"cancel","data-cy":"cancel",label:e.$t("cancel")},null,8,["label"]),[[ke]]),(0,i.wy)((0,i.Wm)(ge,{label:e.$t("delete"),"data-cy":"delete-popup",onClick:t[15]||(t[15]=t=>e.deleteRecord(e.recordId))},null,8,["label"]),[[ke]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(we,{modelValue:e.ErrorInfos,"onUpdate:modelValue":t[17]||(t[17]=t=>e.ErrorInfos=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,null,{default:(0,i.w5)((()=>[(0,i.Wm)(me,{class:"row items-center"},{default:(0,i.w5)((()=>[(0,i._)("table",R,[(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("td",P,[(0,i.Wm)(_e,{icon:"error",color:"red-6",style:{magrin:"3%"}})]),(0,i._)("td",null,[(0,i._)("div",M,[(0,i._)("b",null,(0,o.zw)(this.ErrorText["row"]["filename"]),1)])]),(0,i._)("td",A,[(0,i.Wm)(_e,{icon:"error",color:"red-6",style:{magrin:"3%"}})])])])]),(0,i._)("table",Q,[(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("td",null,[(0,i._)("span",null,(0,o.zw)(e.$t("upload_failed")),1)])])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(we,{modelValue:e.QualityConfirm,"onUpdate:modelValue":t[20]||(t[20]=t=>e.QualityConfirm=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,null,{default:(0,i.w5)((()=>[(0,i.Wm)(me,{class:"row items-center"},{default:(0,i.w5)((()=>[(0,i._)("table",j,[(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("td",B,[(0,i.Wm)(_e,{icon:"warning",color:"yellow-6",style:{magrin:"3%"}})]),(0,i._)("td",null,[(0,i._)("div",N,[(0,i._)("b",null,(0,o.zw)(this.QualityText["row"]["filename"]),1)])]),(0,i._)("td",Y,[(0,i.Wm)(_e,{icon:"warning",color:"yellow-6",style:{magrin:"3%"}})])])])]),(0,i._)("table",K,[(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("td",J,[(0,i._)("span",null,(0,o.zw)(e.$t("low_quality")),1)])])])]),(0,i.Wm)(pe,{class:"button-1",onClick:t[18]||(t[18]=t=>e.restartExport(this.docrowID)),label:e.$t("run_anyway")},null,8,["label"]),(0,i.Wm)(pe,{class:"button-2",onClick:t[19]||(t[19]=t=>{e.recordId=this.docrowID,e.deleteInvoice=!0,e.QualityConfirm=!1}),label:e.$t("delete")},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(we,{modelValue:e.assigneDialog,"onUpdate:modelValue":t[21]||(t[21]=t=>e.assigneDialog=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(be,{doc_ids:e.assignment_doc_ids},null,8,["doc_ids"])])),_:1},8,["modelValue"]),(0,i.Wm)(we,{modelValue:e.confirmMergeDialog,"onUpdate:modelValue":t[23]||(t[23]=t=>e.confirmMergeDialog=t),persistent:""},{default:(0,i.w5)((()=>[(0,i.Wm)(fe,null,{default:(0,i.w5)((()=>[(0,i.Wm)(me,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,i.w5)((()=>[(0,i.Wm)(_e,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,i.Wm)(me,{class:"row items-center"},{default:(0,i.w5)((()=>[(0,i._)("span",G,(0,o.zw)(e.$t("merge_doc_warning")),1)])),_:1}),(0,i.Wm)(ve,{align:"right"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i.Wm)(ge,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[ke]]),(0,i.wy)((0,i.Wm)(ge,{label:e.$t("done"),onClick:t[22]||(t[22]=t=>e.mergeDocuments())},null,8,["label"]),[[ke]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(ye)],64)}var ee=s(39981),te=s.n(ee);const se={class:"popup"},ie={class:"popup-inner"};function oe(e,t,s,o,l,n){return(0,i.wg)(),(0,i.iD)("div",se,[(0,i._)("div",ie,[(0,i.WI)(e.$slots,"default",{},void 0,!0),(0,i._)("button",{class:"popup-close",onClick:t[0]||(t[0]=e=>s.TogglePopup())},"Close")])])}const le={props:["TogglePopup"]};var ne=s(7683);const ae=(0,ne.Z)(le,[["render",oe],["__scopeId","data-v-4d99a68a"]]),re=ae;var de=s(7363),ce=s(63225),ue=s(49990),pe=s(67325),he=s(60499),_e=s(26033),me=s(31921),ge=s(70501),ve=s(77607),fe=s(9891),we=s(43066),be=s(37446),ye=s(37744),ke=s(60937);const xe={class:"full-width q-pa-md"},Ce={class:"row q-pb-sm"},qe={class:"col-10"},Ee={class:"row"},De={class:"col-12 text-primary"},Le={class:"col-6"},Fe={class:"col-6 float-right"},Se={class:"col-2"},We={class:"row"},Te={class:"col-6"},ze={class:"row"},Oe={class:"col-5"},Ze={class:"col-7"},$e=(0,i._)("img",{width:"20",src:"document_quality.svg",class:"black_to_white"},null,-1),Ie=["innerHTML"],Ue={class:"col-6"},Ve={class:"row"},He={class:"col-5"},Re={class:"col-7"},Pe={class:"col-6"},Me={class:"row"},Ae={class:"col-5"},Qe={class:"col-7"},je={class:"col-6"},Be={class:"row"},Ne={class:"col-5"},Ye={class:"col-7"},Ke={class:"col-6"},Je={class:"row"},Ge={class:"col-5"},Xe={class:"col-7"},et={class:"col-6"},tt={class:"row"},st={class:"col-5"},it={class:"col-7"},ot=(0,i._)("div",{class:"full-width border-bottom"},null,-1);function lt(e,t,s,l,n,a){const r=(0,i.up)("q-icon"),d=(0,i.up)("q-tooltip");return(0,i.wg)(),(0,i.iD)("div",xe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.table_data,((t,s)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:t["id"]},[(0,i._)("div",Ce,[(0,i._)("div",qe,[(0,i._)("div",Ee,[(0,i._)("div",De,(0,o.zw)(t["filename"]),1),(0,i._)("div",Le,(0,o.zw)(t["status"]),1),(0,i._)("div",Fe,(0,o.zw)(e.$t("type"))+": "+(0,o.zw)(e.displayDocType(t["doc_type"])),1)])]),(0,i._)("div",Se,[(0,i.Wm)(r,{name:"expand_more",size:"md"}),(0,i.kq)("",!0)])]),(0,i._)("div",We,[(0,i._)("div",Te,[(0,i._)("div",ze,[(0,i._)("div",Oe,(0,o.zw)(e.$t("quality")),1),(0,i._)("div",Ze,[$e,t["quality"]?((0,i.wg)(),(0,i.j4)(d,{key:0},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"row",innerHTML:e.renderquality(t)},null,8,Ie)])),_:2},1024)):(0,i.kq)("",!0)])])]),(0,i._)("div",Ue,[(0,i._)("div",Ve,[(0,i._)("div",He,(0,o.zw)(e.$t("assigned_to")),1),(0,i._)("div",Re,(0,o.zw)(t["assigned_to"]),1)])]),(0,i._)("div",Pe,[(0,i._)("div",Me,[(0,i._)("div",Ae,(0,o.zw)(e.$t("pages")),1),(0,i._)("div",Qe,(0,o.zw)(t["pages"]),1)])]),(0,i._)("div",je,[(0,i._)("div",Be,[(0,i._)("div",Ne,(0,o.zw)(e.$t("last_saved_by")),1),(0,i._)("div",Ye,(0,o.zw)(t["last_saved_by"]),1)])]),(0,i._)("div",Ke,[(0,i._)("div",Je,[(0,i._)("div",Ge,(0,o.zw)(e.$t("imported_on")),1),(0,i._)("div",Xe,(0,o.zw)(t["created_on"]),1)])]),(0,i._)("div",et,[(0,i._)("div",tt,[(0,i._)("div",st,(0,o.zw)(e.$t("modified_at")),1),(0,i._)("div",it,(0,o.zw)(t["last_modified_on"]),1)])])]),ot],64)))),128))])}var nt=s(46624);const at=(0,i.aZ)({mixins:[fe.Z],props:{table_data:{}},mounted:function(){},methods:{renderquality(e){if(!this.user_settings["OCR_PERCENTAGE"]||!this.user_settings["OCR_PERCENTAGE"])return;let t="";if(e.hasOwnProperty("quality")){let s=this.$t("overall");const i=e["quality"];parseInt(e["quality"])<parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=s+' : <FONT COLOR="#AA0500">'+e["quality"]+"</FONT COLOR>"),parseInt(i)==parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=s+' : <FONT COLOR="#ffff00">'+e["quality"]+"</FONT COLOR>"),parseInt(i)>parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=s+' : <FONT COLOR="#00ff00">'+e["quality"]+"</FONT COLOR>")}return t}},setup(){const e=(0,nt.VF)(),{user_settings:t}=(0,de.Jk)(e);return{user_settings:t}}});var rt=s(22857),dt=s(46858),ct=s(69984),ut=s.n(ct);const pt=(0,ne.Z)(at,[["render",lt]]),ht=pt;ut()(at,"components",{QIcon:rt.Z,QTooltip:dt.Z});var _t=s(61957);const mt={class:"row q-mb-md"},gt={style:{"margin-top":"40px"},class:"dashboard-title dark-readable"},vt={class:"col"},ft={class:"row justify-start"},wt={class:"dashboard-search-box q-ml-md mt-20"},bt=(0,i._)("div",{class:"mt-20"},null,-1),yt=(0,i._)("div",{class:"mt-20"},null,-1),kt={key:0,class:"row mb-25 relative-position",style:{"margin-bottom":"8px"}},xt=(0,i._)("div",{class:"dashboard-toggler-area"},null,-1),Ct=(0,i._)("div",{class:"q-mb-md"},null,-1);function qt(e,t,s,l,n,a){const r=(0,i.up)("quickSearch"),d=(0,i.up)("q-space"),c=(0,i.up)("q-tooltip"),u=(0,i.up)("f-btn"),p=(0,i.up)("scanButton"),h=(0,i.up)("import-multi-invoice"),_=(0,i.up)("savedFilterBadges"),m=(0,i.up)("q-separator"),g=(0,i.up)("advancedSettings"),v=(0,i.up)("analytics"),f=(0,i.up)("keyboardShortcutInfo"),w=(0,i.up)("q-btn"),b=(0,i.up)("q-card-actions"),y=(0,i.up)("q-card"),k=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",mt,[(0,i._)("div",gt,(0,o.zw)(e.$t("all_invoices"))+" ("+(0,o.zw)(e.current_invoice_count)+")",1),(0,i._)("div",vt,[(0,i._)("div",ft,[(0,i._)("div",wt,[(0,i.Wm)(r)]),(0,i.Wm)(d),bt,yt,(0,i.Wm)(u,{square:"",class:"q-mr-sm mt-20",icon:"img:refresh.svg",onClick:e.refreshFilters},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("refresh_list")),1)])),_:1})])),_:1},8,["onClick"]),(0,i.Wm)(u,{square:"",class:"q-mr-sm mt-20",icon:"img:settings.svg",onClick:t[0]||(t[0]=t=>e.show_advanced_filters=!e.show_advanced_filters)},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("advavce_settings")),1)])),_:1})])),_:1}),(0,i.Wm)(p),(0,i.Wm)(u,{square:"",class:"q-mr-sm mt-20",icon:"img:statistik.svg",onClick:t[1]||(t[1]=t=>e.show_analytics=!e.show_analytics)},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("analytics")),1)])),_:1})])),_:1}),(0,i.Wm)(h)])])]),e.quickFilterMap.size>0?((0,i.wg)(),(0,i.iD)("div",kt,[xt,(0,i.Wm)(_)])):(0,i.kq)("",!0),e.show_advanced_filters?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Wm)(m),(0,i.Wm)(g)],64)):(0,i.kq)("",!0),e.show_analytics?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i.Wm)(m,{class:"q-mb-md"}),(0,i.Wm)(v),Ct],64)):(0,i.kq)("",!0),(0,i.Wm)(k,{modelValue:e.showKeyboardShortcuts,"onUpdate:modelValue":t[3]||(t[3]=t=>e.showKeyboardShortcuts=t),onKeydown:t[4]||(t[4]=(0,_t.D2)((t=>e.showKeyboardShortcuts=!1),["esc"]))},{default:(0,i.w5)((()=>[(0,i.Wm)(y,null,{default:(0,i.w5)((()=>[(0,i.Wm)(f),(0,i.Wm)(b,{align:"right"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{flat:"",color:"primary",label:e.$t("conclude"),class:"float-right",style:{"font-weight":"900"},onClick:t[2]||(t[2]=t=>e.showKeyboardShortcuts=!1)},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}const Et={class:"advanced-search"},Dt={class:"row mb-10 mt-20"},Lt={class:"col-auto",style:{"margin-left":"-8px","margin-right":"8px"}},Ft={key:0,class:"col-auto"},St={class:"col-auto"},Wt={class:"col-auto"},Tt=(0,i._)("div",{class:"col-auto q-ml-md"},null,-1),zt=(0,i._)("div",{class:"col-auto q-ml-md"},null,-1);function Ot(e,t,s,l,n,a){const r=(0,i.up)("q-tooltip"),d=(0,i.up)("f-btn"),c=(0,i.up)("ImportLogs"),u=(0,i.up)("TableColumnsSettings"),p=(0,i.up)("SortColumnsSettings"),h=(0,i.up)("TimeFilter");return(0,i.wg)(),(0,i.iD)("div",Et,[(0,i._)("div",Dt,[(0,i.Wm)(d,{square:"",class:"q-mr-sm",icon:"img:settings.svg",to:"/settings/dashboard"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("more_settings")),1)])),_:1})])),_:1}),(0,i.Wm)(d,{square:"",class:"q-mr-sm",icon:"img:keyboard.svg",onClick:t[0]||(t[0]=t=>e.showKeyboardShortcuts=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("keyboard_shortcut")),1)])),_:1})])),_:1}),(0,i._)("div",Lt,[(0,i.Wm)(c)]),((0,i.wg)(),(0,i.iD)("div",Ft,[(0,i.Wm)(u)])),(0,i._)("div",St,[(0,i.Wm)(p)]),(0,i._)("div",Wt,[(0,i.Wm)(h)]),Tt,zt])])}function Zt(e,t,s,o,l,n){const a=(0,i.up)("q-btn-toggle");return(0,i.wg)(),(0,i.j4)(a,{"toggle-color":"primary",class:"toggle_time",modelValue:e.selected_time,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selected_time=t),t[1]||(t[1]=t=>e.TimeFilterSelected())],ripple:!1,options:e.time_options},null,8,["modelValue","options"])}const $t=(0,i.aZ)({mixins:[],props:{},watch:{quickFilterMap:{deep:!0,handler:function(e,t){this.loadFilters()}}},mounted(){this.setTimeOptions(),this.loadFilters()},methods:{loadFilters(){const e=this.quickFilterMap.get("filter");e&&e.hasOwnProperty("value")?this.selected_time=e.value:this.resetFilters()},resetFilters(){this.selected_time=""},TimeFilterSelected(){this.quickFilterMap.set("filter",{value:this.selected_time,label:this.selected_time}),this.triggerApplyFilters()},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},setTimeOptions(){this.time_options=[{label:this.$t("today"),value:"today"},{label:this.$t("week"),value:"current-week"},{label:this.$t("month"),value:"current-month"},{label:this.$t("year"),value:"current-year"},{label:this.$t("all"),value:"all"}]}},setup(){const e=(0,nt.Ln)(),{quickFilterMap:t}=(0,de.Jk)(e);return{quickFilterMap:t,selected_time:(0,he.iH)(""),time_options:(0,he.iH)([])}}});var It=s(1389),Ut=s(67236),Vt=s(68879);const Ht=(0,ne.Z)($t,[["render",Zt]]),Rt=Ht;ut()($t,"components",{QBtnToggle:It.Z,QBtnGroup:Ut.Z,QBtn:Vt.Z});const Pt=e=>((0,i.dD)("data-v-76b3e2c5"),e=e(),(0,i.Cn)(),e),Mt={class:"text-weight-bold"},At={class:"row justify-between items-center"},Qt={class:"col-auto"},jt={class:"row no-wrap justify-around q-pt-md"},Bt={class:"drop-target rounded-borders q-mr-md"},Nt={class:"box row justify-center items-center",style:{"border-bottom":"1px solid grey"}},Yt={class:"visible-columns-parent"},Kt=["id","data-column-name","data-order"],Jt={class:"rounded-borders overflow-hidden content-center"},Gt={class:"row justify-end items-start"},Xt={class:"row justify-end items-start"},es={class:"drop-target rounded-borders"},ts={class:"box row justify-center items-center",style:{"border-bottom":"1px solid grey"}},ss=["id","data-column-name"],is={class:"row justify-end items-start q-mt-md"},os=Pt((()=>(0,i._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1)));function ls(e,t,s,l,n,a){const r=(0,i.up)("q-tooltip"),d=(0,i.up)("f-btn"),c=(0,i.up)("q-toolbar-title"),u=(0,i.up)("q-btn"),p=(0,i.up)("q-toolbar"),h=(0,i.up)("q-checkbox"),_=(0,i.up)("q-icon"),m=(0,i.up)("q-card-section"),g=(0,i.up)("q-inner-loading"),v=(0,i.up)("q-card"),f=(0,i.up)("q-dialog"),w=(0,i.up)("DocTypeFields"),b=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(d,{square:"",class:"q-mr-sm",icon:"img:column_filter.svg",onClick:t[0]||(t[0]=t=>e.show_column_settings=!0)},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("column_settings_tooltip")),1)])),_:1})])),_:1}),(0,i.Wm)(f,{modelValue:e.show_column_settings,"onUpdate:modelValue":t[4]||(t[4]=t=>e.show_column_settings=t),onShow:e.BeforePopupShow,onKeydown:t[5]||(t[5]=(0,_t.D2)((t=>e.show_column_settings=!1),["esc"])),persistent:"",onHide:e.onDashboardColumnDialogHide},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{style:{width:"900px","max-width":"1060px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{class:"text-white secondary-toolbar draggable-toolbar"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i._)("span",Mt,(0,o.zw)(e.$t("column_settings")),1)])),_:1}),(0,i.wy)((0,i.Wm)(u,{flat:"",round:"",dense:"",icon:"close"},null,512),[[b]])])),_:1}),(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i._)("div",At,[(0,i._)("div",Qt,[(0,i.Wm)(u,{class:"q-mr-sm",label:e.$t("add_field_from_document_type"),color:"primary ",onClick:t[1]||(t[1]=t=>e.show_doc_type_fields=!0)},null,8,["label"])])]),(0,i._)("div",jt,[(0,i._)("div",Bt,[(0,i._)("div",Nt,(0,o.zw)(e.$t("visible_columns")),1),(0,i._)("div",Yt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.visible_columns,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s,draggable:"true",class:"draggable-box"},[(0,i._)("div",{draggable:"true",id:t.name,"data-column-name":t.name,class:"box","data-order":t.order},[(0,i.Wm)(h,{"data-order":t.order,"data-column-name":t.name,modelValue:t.selected,"onUpdate:modelValue":e=>t.selected=e,class:"box-checkbox"},null,8,["data-order","data-column-name","modelValue","onUpdate:modelValue"]),t.hasOwnProperty("doc_type_key")?((0,i.wg)(),(0,i.j4)(_,{key:0,flat:"",dense:"",name:"close",size:"24px",color:"red",onClick:s=>e.removeDocTypeColumn(t.name)},null,8,["onClick"])):(0,i.kq)("",!0),(0,i.Uk)(" "+(0,o.zw)(t.label),1)],8,Kt)])))),128))])]),(0,i._)("div",Jt,[(0,i._)("div",Gt,[(0,i.Wm)(u,{square:"",class:"q-mr-sm mt-20",color:"primary",icon:"arrow_forward",onClick:e.moveToHideColumnList},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("move_to_visibile_button_tooltip")),1)])),_:1})])),_:1},8,["onClick"])]),(0,i._)("div",Xt,[(0,i.Wm)(u,{square:"",class:"q-mr-sm mt-20",color:"primary",icon:"arrow_back",onClick:e.moveToShowColumnList},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("move_to_hidden_button_tooltip")),1)])),_:1})])),_:1},8,["onClick"])])]),(0,i._)("div",es,[(0,i._)("div",ts,(0,o.zw)(e.$t("hidden_columns")),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.hidden_columns,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,id:e.name,"data-column-name":e.name,class:"box"},[(0,i.Wm)(h,{"data-column-name":e.name,modelValue:e.selected,"onUpdate:modelValue":t=>e.selected=t},null,8,["data-column-name","modelValue","onUpdate:modelValue"]),(0,i.Uk)(" "+(0,o.zw)(e.label),1)],8,ss)))),128))])]),(0,i._)("div",is,[(0,i.Wm)(d,{appearance:"cancel",label:e.$t("cancel"),onClick:t[2]||(t[2]=t=>e.show_column_settings=!1)},null,8,["label"]),(0,i.Wm)(d,{label:e.$t("done"),class:"q-ml-sm",onClick:t[3]||(t[3]=t=>e.saveSettings())},null,8,["label"])])])])),_:1}),(0,i.Wm)(g,{showing:e.processing},{default:(0,i.w5)((()=>[os])),_:1},8,["showing"])])),_:1})])),_:1},8,["modelValue","onShow","onHide"]),(0,i.Wm)(f,{modelValue:e.show_doc_type_fields,"onUpdate:modelValue":t[6]||(t[6]=t=>e.show_doc_type_fields=t),persistent:"",onHide:e.onDocTypeFieldsDialogHide},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{visible_columns_obj_list:e.visible_columns_obj_list},null,8,["visible_columns_obj_list"])])),_:1},8,["modelValue","onHide"])],64)}const ns=e=>((0,i.dD)("data-v-25fbfc82"),e=e(),(0,i.Cn)(),e),as={class:"text-weight-bold"},rs={class:"row no-wrap justify-around q-pt-md"},ds={class:"q-mr-md"},cs={class:"fields-list rounded-borders q-mr-md"},us={class:"box row justify-center items-center",style:{"border-bottom":"1px solid grey"}},ps={key:0,class:"box row justify-center items-center"},hs={class:"row justify-end items-start q-mt-md"},_s=ns((()=>(0,i._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1)));function ms(e,t,s,l,n,a){const r=(0,i.up)("q-toolbar-title"),d=(0,i.up)("q-btn"),c=(0,i.up)("q-toolbar"),u=(0,i.up)("q-select"),p=(0,i.up)("q-checkbox"),h=(0,i.up)("q-card-section"),_=(0,i.up)("q-inner-loading"),m=(0,i.up)("q-card"),g=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(m,{style:{width:"700px","max-width":"1060px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"text-white secondary-toolbar draggable-toolbar"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i._)("span",as,(0,o.zw)(e.$t("select_doc_type_fields")),1)])),_:1}),(0,i.wy)((0,i.Wm)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[g]])])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i._)("div",rs,[(0,i._)("div",ds,[(0,i.Wm)(u,{clearable:"",outlined:"",dense:"",modelValue:e.selected_doc_type,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selected_doc_type=t),e.docTypeSelected],options:e.active_doc_types_sub_types_list,label:e.$t("pages.screen2a.doctype"),style:{"min-width":"250px"}},null,8,["modelValue","options","onUpdate:modelValue","label"])]),(0,i._)("div",cs,[(0,i._)("div",us,(0,o.zw)(e.$t("fields")),1),(0,i._)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.fields,((t,s)=>((0,i.wg)(),(0,i.iD)("div",{key:s,class:"box"},[(0,i.Wm)(p,{modelValue:t.selected,"onUpdate:modelValue":e=>t.selected=e,class:"box-checkbox"},null,8,["modelValue","onUpdate:modelValue"]),(0,i.Uk)(" "+(0,o.zw)(e.getFieldLabelFromAllPrefixes(t)),1)])))),128))]),e.hasFields()?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",ps,(0,o.zw)(e.$t("select_doc_type_with_fields")),1))])]),(0,i._)("div",hs,[(0,i.Wm)(d,{label:e.$t("add_to_visible_columns"),color:"primary",onClick:t[1]||(t[1]=t=>e.addSelectedFieldsToVisibleColumns())},null,8,["label"])])])])),_:1}),(0,i.Wm)(_,{showing:e.processing||e.doc_fields_processing},{default:(0,i.w5)((()=>[_s])),_:1},8,["showing"])])),_:1})}var gs=s(96427);const vs=(0,i.aZ)({mixins:[ke.Z],props:{visible_columns_obj_list:{}},mounted(){this.init()},data(){return{}},methods:{init(){try{this.processing=!0,this.getAllDocTypeFields()}catch(e){}finally{this.processing=!1}},addSelectedFieldsToVisibleColumns(){let e=this.getLargestSortOrderNumber(),t="";this.selected_doc_type.hasOwnProperty("value")&&(t=this.selected_doc_type["value"]),this.selected_doc_type.hasOwnProperty("doc_type_key")&&(t=this.selected_doc_type["doc_type_key"]);const s={};for(const o of Object.keys(this.fields)){const i=this.fields[o];i.selected&&(s[o]={name:o,sortable:!1,order:++e,translation_key:i.translation_key||o,doc_type_key:t,title:i.title})}const i=new CustomEvent("add_columns",{detail:{selected_fields:s}});document.dispatchEvent(i)},getLargestSortOrderNumber(){let e=0;for(const t of Object.keys(this.visible_columns_obj_list)){const s=this.visible_columns_obj_list[t];s.order>e&&(e=s.order)}return e},docTypeSelected(){try{if(!this.selected_doc_type)return;this.processing=!0;let e=this.selected_doc_type["name"];void 0!=this.selected_doc_type["doc_type_key"]&&(e=this.selected_doc_type["doc_type_key"]),this.fields=this.getFieldsByDocType(e)}catch(e){}finally{this.processing=!1}},hasFields(){return!(0,gs.fg)(this.fields)}},setup(){const e=(0,nt.At)(),{active_doc_types_sub_types_list:t}=(0,de.Jk)(e),s=(0,nt.Cs)(),{processing:i,getFieldsByDocType:o}=(0,de.Jk)(s),{getAllDocTypeFields:l}=s;return{getAllDocTypeFields:l,getFieldsByDocType:o,doc_fields_processing:i,processing:(0,he.iH)(!1),active_doc_types_sub_types_list:t,selected_doc_type:(0,he.iH)({value:null,label:""}),fields:(0,he.iH)({})}}});var fs=s(44458),ws=s(51663),bs=s(81973),ys=s(63190),ks=s(32259),xs=s(11221),Cs=s(60854),qs=s(62146);const Es=(0,ne.Z)(vs,[["render",ms],["__scopeId","data-v-25fbfc82"]]),Ds=Es;ut()(vs,"components",{QCard:fs.Z,QToolbar:ws.Z,QToolbarTitle:bs.Z,QBtn:Vt.Z,QCardSection:ys.Z,QSelect:ks.Z,QCheckbox:xs.Z,QInnerLoading:Cs.Z,QIcon:rt.Z}),ut()(vs,"directives",{ClosePopup:qs.Z});var Ls=function(e,t,s,i){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,l){function n(e){try{r(i.next(e))}catch(t){l(t)}}function a(e){try{r(i["throw"](e))}catch(t){l(t)}}function r(e){e.done?s(e.value):o(e.value).then(n,a)}r((i=i.apply(e,t||[])).next())}))};const Fs=(0,i.aZ)({props:{},components:{DocTypeFields:Ds},mounted(){this.init(),document.addEventListener("add_columns",this.addColumns)},unmounted:function(){document.removeEventListener("add_columns",this.addColumns)},data(){return{dragSrcEl:{},clearInterval:0}},beforeRouteLeave:function(e,t,s){this.removeDragEvents(),s()},methods:{BeforePopupShow(){this.init(),this.show_column_settings=!0},init(){return Ls(this,void 0,void 0,(function*(){this.elements_loaded=!1,this.visible_columns=[],this.visible_columns_obj_list={},this.hidden_columns={},yield this.setColumns(),this.intervalManager()}))},setColumns(){return Ls(this,void 0,void 0,(function*(){yield this.setVisibleColumns(),this.setHiddenColumns()}))},setHiddenColumns(){for(const e in this.all_columns){if(this.visible_columns_obj_list.hasOwnProperty(e))continue;const t=this.all_columns[e];t.selected=!1,t.label=this.getColumnLabel(t),this.hidden_columns[t.name]=t}},setVisibleColumns(){return Ls(this,void 0,void 0,(function*(){const e=yield this.getSavedColumns();this.setVibileColumnsForView(e),this.visible_columns_obj_list=e}))},setVibileColumnsForView(e){this.visible_columns=[];for(const t in e)e[t].selected=!1,e[t].label=this.getColumnLabel(e[t]),this.visible_columns.push(e[t]);this.sortVisibleColumns()},moveToHideColumnList(){this.visible_columns.forEach(((e,t)=>{if(!this.visible_columns_obj_list[e.name].selected)return;const s=e.name;this.visible_columns_obj_list[s].selected=!1,this.hidden_columns[s]=this.visible_columns_obj_list[s],delete this.visible_columns_obj_list[s]})),this.setVibileColumnsForView(this.visible_columns_obj_list)},moveToShowColumnList(){for(var e of Object.keys(this.hidden_columns))this.hidden_columns[e].selected&&(this.hidden_columns[e].selected=!1,this.visible_columns_obj_list[e]=this.hidden_columns[e],delete this.hidden_columns[e]);this.setVibileColumnsForView(this.visible_columns_obj_list)},saveSettings(){return Ls(this,void 0,void 0,(function*(){this.processing=!0,yield this.saveColumns(this.visible_columns_obj_list),this.processing=!1,this.show_column_settings=!1}))},intervalManager(){if(!this.elements_loaded||0!==this.clearInterval){if(this.elements_loaded&&0!==this.clearInterval)return this.clearInterval=0,void clearInterval(this.clearInterval);this.isElementRendered(),this.elements_loaded&&this.addDragEvents(),!1===this.elements_loaded&&(this.clearInterval=setTimeout((()=>{this.intervalManager()}),1e3))}},isElementRendered(){let e=document.querySelectorAll(".visible-columns-parent .box");return e.length>0&&(this.elements_loaded=!0,!0)},removeDragEvents(){let e=document.querySelectorAll(".visible-columns-parent .box");e.forEach((e=>{e.removeEventListener("dragstart",this.handleDragStart),e.removeEventListener("dragend",this.handleDragEnd),e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragenter",this.handleDragEnter),e.removeEventListener("dragleave",this.handleDragLeave),e.removeEventListener("drop",this.handleDrop)}))},addDragEvents(){let e=document.querySelectorAll(".visible-columns-parent .box");e.forEach((e=>{e.removeEventListener("dragstart",this.handleDragStart),e.removeEventListener("dragend",this.handleDragEnd),e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragenter",this.handleDragEnter),e.removeEventListener("dragleave",this.handleDragLeave),e.removeEventListener("drop",this.handleDrop),e.addEventListener("dragstart",this.handleDragStart),e.addEventListener("dragend",this.handleDragEnd),e.addEventListener("dragover",this.handleDragOver),e.addEventListener("dragenter",this.handleDragEnter),e.addEventListener("dragleave",this.handleDragLeave),e.addEventListener("drop",this.handleDrop)}))},handleDragStart(e){e.target.style.opacity="0.4",e.dataTransfer.effectAllowed="move";const t=e.target.getAttribute("data-order"),s=e.target.getAttribute("data-column-name");e.dataTransfer.setData("column_order",t),e.dataTransfer.setData("column_name",s)},handleDragEnd(e){e.target.style.opacity="1";let t=document.querySelectorAll(".visible-columns-parent .box");t.forEach((function(e,t){e.classList.remove("over")}))},handleDragOver(e){return e.preventDefault(),!1},handleDragEnter(e){e.target.classList.add("over")},handleDragLeave(e){e.target.classList.remove("over")},handleDrop(e){e.stopPropagation(),e.preventDefault();const t=+e.target.getAttribute("data-order"),s=e.target.getAttribute("data-column-name"),i=+e.dataTransfer.getData("column_order"),o=e.dataTransfer.getData("column_name");return this.visible_columns_obj_list[o].order=t,this.visible_columns_obj_list[s].order=i,this.visible_columns.forEach((e=>{e.name===o&&(e.order=t),e.name===s&&(e.order=i)})),this.sortVisibleColumns(),this.$forceUpdate(),!1},sortVisibleColumns(){this.visible_columns.sort(((e,t)=>e.order-t.order))},onDashboardColumnDialogHide(){this.removeDragEvents(),this.show_column_settings=!1},onDocTypeFieldsDialogHide(){this.show_doc_type_fields=!1},addColumns(e){if(e){for(const t in e.detail.selected_fields)this.visible_columns_obj_list[t]=e.detail.selected_fields[t];this.setVibileColumnsForView(this.visible_columns_obj_list),this.onDocTypeFieldsDialogHide()}},removeDocTypeColumn(e){delete this.visible_columns_obj_list[e],this.setVibileColumnsForView(this.visible_columns_obj_list)}},setup(){const e=(0,nt.Ln)(),{table_columns:t}=(0,de.Jk)(e),{getSavedColumns:s,saveColumns:i,getColumnLabel:o}=e;return{getColumnLabel:o,elements_loaded:(0,he.iH)(!1),visible_columns:(0,he.iH)([]),visible_columns_obj_list:(0,he.iH)({}),hidden_columns:(0,he.iH)({}),processing:(0,he.iH)(!1),all_columns:t,getSavedColumns:s,saveColumns:i,show_column_settings:(0,he.iH)(!1),show_doc_type_fields:(0,he.iH)(!1)}}});var Ss=s(32074);const Ws=(0,ne.Z)(Fs,[["render",ls],["__scopeId","data-v-76b3e2c5"]]),Ts=Ws;ut()(Fs,"components",{QTooltip:dt.Z,QDialog:Ss.Z,QCard:fs.Z,QToolbar:ws.Z,QToolbarTitle:bs.Z,QBtn:Vt.Z,QCardSection:ys.Z,QCheckbox:xs.Z,QIcon:rt.Z,QInnerLoading:Cs.Z}),ut()(Fs,"directives",{ClosePopup:qs.Z});const zs={class:"row justify-around items-start"},Os={class:"col row q-pt-md"},Zs={class:"text-subtitle1"},$s={key:0,class:"col-12 text-red-5 height-20"},Is={class:"row no-wrap justify-around q-pt-md"},Us={class:"col-auto q-mr-md"},Vs={class:"col-auto q-mr-md"},Hs={class:"row justify-end items-start q-mt-md"},Rs=(0,i._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1);function Ps(e,t,s,l,n,a){const r=(0,i.up)("q-select"),d=(0,i.up)("f-btn"),c=(0,i.up)("q-banner"),u=(0,i.up)("q-inner-loading"),p=(0,i.up)("q-popup-proxy"),h=(0,i.up)("q-tooltip");return(0,i.wg)(),(0,i.j4)(d,{square:"",class:"q-mr-sm",icon:"img:sorting_2.svg"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{onBeforeShow:e.BeforePopupShow,modelValue:e.show_column_settings,"onUpdate:modelValue":t[4]||(t[4]=t=>e.show_column_settings=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i._)("div",zs,[(0,i._)("div",Os,[(0,i._)("div",Zs,(0,o.zw)(e.$t("column_sort_settings")),1)])]),e.error?((0,i.wg)(),(0,i.iD)("div",$s,"Please make sure column and direction are selected")):(0,i.kq)("",!0),(0,i._)("div",Is,[(0,i._)("div",Us,[(0,i.Wm)(r,{class:"select-box",outlined:"",modelValue:e.order_by_field,"onUpdate:modelValue":t[0]||(t[0]=t=>e.order_by_field=t),"use-input":"",options:e.filtered_columns,onFilter:e.filterlistEvent,label:e.$t("column_name"),"emit-value":"","map-options":""},null,8,["modelValue","options","onFilter","label"])]),(0,i._)("div",Vs,[(0,i.Wm)(r,{outlined:"",class:"select-box",modelValue:e.order_by_direction,"onUpdate:modelValue":t[1]||(t[1]=t=>e.order_by_direction=t),"use-input":"",options:e.direction_options,label:e.$t("Direction"),"emit-value":"","map-options":""},null,8,["modelValue","options","label"])])]),(0,i._)("div",Hs,[(0,i.Wm)(d,{class:"q-mr-sm",label:e.$t("cancel"),appearance:"cancel",onClick:t[2]||(t[2]=t=>e.show_column_settings=!1)},null,8,["label"]),(0,i.Wm)(d,{label:e.$t("done"),onClick:t[3]||(t[3]=t=>e.saveSettings())},null,8,["label"])])])),_:1}),(0,i.Wm)(u,{showing:e.processing},{default:(0,i.w5)((()=>[Rs])),_:1},8,["showing"])])),_:1},8,["onBeforeShow","modelValue"]),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("dashboard_sort_settings_tooltip")),1)])),_:1})])),_:1})}var Ms=function(e,t,s,i){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,l){function n(e){try{r(i.next(e))}catch(t){l(t)}}function a(e){try{r(i["throw"](e))}catch(t){l(t)}}function r(e){e.done?s(e.value):o(e.value).then(n,a)}r((i=i.apply(e,t||[])).next())}))};const As=(0,i.aZ)({props:{},mounted(){this.init()},data(){return{}},methods:{BeforePopupShow(){this.init(),this.show_column_settings=!0},init(){return Ms(this,void 0,void 0,(function*(){this.visible_columns=[],yield this.setColumns(),this.direction_options=[],this.direction_options.push({value:"asc",label:this.$t("Asc")}),this.direction_options.push({value:"desc",label:this.$t("Desc")}),0!==(0,gs.v7)(this.order_by)&&(this.order_by_field=this.order_by.field_name,this.order_by_direction=this.order_by.direction)}))},setColumns(){return Ms(this,void 0,void 0,(function*(){yield this.setVisibleColumns()}))},setVisibleColumns(){return Ms(this,void 0,void 0,(function*(){const e=yield this.getSavedColumns();this.filtered_columns=[],this.visible_columns=[];for(const t in e)e[t].selected=!1,e[t].label=this.getColumnLabel(e[t]),e[t].value=t,this.filtered_columns.push(e[t]),this.visible_columns.push(e[t]);this.sortColumns()}))},getColumnLabel(e){return e.label||(e.label=e.name),this.$t(e.label)},saveSettings(){return Ms(this,void 0,void 0,(function*(){if(this.error=!1,!this.order_by_field||!this.order_by_direction)return void(this.error=!0);this.processing=!0,this.order_by={field_name:this.order_by_field,direction:this.order_by_direction},yield this.saveOrderBy(),this.processing=!1,this.show_column_settings=!1;const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}))},sortColumns(){this.filtered_columns.sort(((e,t)=>e.order-t.order)),this.visible_columns.sort(((e,t)=>e.order-t.order))},filterlistEvent(e,t,s){t(e?()=>{const t=e.toLowerCase();this.filtered_columns=this.visible_columns.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filtered_columns=this.visible_columns})}},setup(){const e=(0,nt.Ln)(),{saveOrderBy:t,getSavedColumns:s}=e,{order_by:i}=(0,de.Jk)(e);return{order_by:i,saveOrderBy:t,visible_columns:(0,he.iH)([]),visible_columns_obj_list:(0,he.iH)({}),filtered_columns:(0,he.iH)({}),processing:(0,he.iH)(!1),getSavedColumns:s,show_column_settings:(0,he.iH)(!1),order_by_field:(0,he.iH)(""),order_by_direction:(0,he.iH)(""),direction_options:(0,he.iH)([]),error:(0,he.iH)(!1)}}});var Qs=s(52765),js=s(47128);const Bs=(0,ne.Z)(As,[["render",Ps]]),Ns=Bs;ut()(As,"components",{QPopupProxy:Qs.Z,QBanner:js.Z,QSelect:ks.Z,QInnerLoading:Cs.Z,QTooltip:dt.Z});var Ys=s(9848),Ks=s(11494);const Js=(0,i.aZ)({mixins:[],props:{},components:{ImportLogs:Ys.Z,TimeFilter:Rt,TableColumnsSettings:Ts,SortColumnsSettings:Ns},watch:{},mounted:function(){this.is_admin=(0,Ks.i5)()},methods:{},setup(){const e=(0,nt.Ln)(),{showKeyboardShortcuts:t}=(0,de.Jk)(e);return{showKeyboardShortcuts:t,is_admin:(0,he.iH)(!1)}}}),Gs=(0,ne.Z)(Js,[["render",Ot]]),Xs=Gs;ut()(Js,"components",{QTooltip:dt.Z});const ei={class:"q-pa-md"},ti={class:"row q-my-sm"},si={style:{"margin-top":"10px"}},ii={class:"row q-my-sm"},oi={style:{"margin-top":"10px"}},li={class:"row q-my-sm"},ni={style:{"margin-top":"10px"}},ai={class:"row q-my-sm"},ri={style:{"margin-top":"10px"}},di={class:"float-right q-ml-auto"};function ci(e,t,s,l,n,a){const r=(0,i.up)("q-resize-observer"),d=(0,i.up)("q-space"),c=(0,i.up)("DocTypeFilter"),u=(0,i.up)("StatusFilter"),p=(0,i.up)("UserFilter"),h=(0,i.up)("PaginationSettings"),_=(0,i.up)("f-btn"),m=(0,i.up)("q-menu"),g=(0,i.up)("q-input");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(r,{onResize:e.elementLoadedEvent,debounce:0},null,8,["onResize"]),(0,i.Wm)(g,{dense:"",modelValue:e.searchInput,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.searchInput=t),t[2]||(t[2]=t=>e.inputValueChanges())],class:(0,o.C_)(["search-invoices",0===e.searchInput.length?"search-in-active":"search-active"]),autofocus:"",placeholder:e.$t("search"),outlined:""},{append:(0,i.w5)((()=>[(0,i.Wm)(_,{icon:"tune",appearance:"flat"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{style:{width:"500px",height:"290px"},anchor:"bottom start",self:"top left",offset:[453,10]},{default:(0,i.w5)((()=>[(0,i._)("div",ei,[(0,i._)("div",ti,[(0,i._)("span",si,(0,o.zw)(e.$t("document_type")),1),(0,i.Wm)(d),(0,i.Wm)(c)]),(0,i._)("div",ii,[(0,i._)("span",oi,(0,o.zw)(e.$t("status")),1),(0,i.Wm)(d),(0,i.Wm)(u)]),(0,i._)("div",li,[(0,i._)("span",ni,(0,o.zw)(e.$t("assigned_to")),1),(0,i.Wm)(d),(0,i.Wm)(p)]),(0,i._)("div",ai,[(0,i._)("span",ri,(0,o.zw)(e.$t("pagination_size")),1),(0,i.Wm)(d),(0,i.Wm)(h)]),(0,i._)("div",di,[(0,i.Wm)(_,{appearance:"secondary",class:"q-mr-sm mt-20",label:e.$t("clear_filters"),onClick:t[0]||(t[0]=t=>e.resetFilters())},null,8,["label"])])])])),_:1})])),_:1})])),_:1},8,["modelValue","class","placeholder"])],64)}var ui=s(60899);function pi(e,t,s,o,l,n){const a=(0,i.up)("q-select");return(0,i.wg)(),(0,i.j4)(a,{outlined:"",dense:"",class:"q-mr-sm user-select",modelValue:e.pagination_size,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.pagination_size=t),e.update],options:e.pagination_options,label:e.$t("pagination_size")},null,8,["modelValue","options","onUpdate:modelValue","label"])}var hi=function(e,t,s,i){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,l){function n(e){try{r(i.next(e))}catch(t){l(t)}}function a(e){try{r(i["throw"](e))}catch(t){l(t)}}function r(e){e.done?s(e.value):o(e.value).then(n,a)}r((i=i.apply(e,t||[])).next())}))};const _i=(0,i.aZ)({mixins:[],props:{},watch:{},mounted(){this.getPaginationCount()},methods:{getPaginationCount(){return hi(this,void 0,void 0,(function*(){this.pagination_size=yield this.getPaginationSize()}))},update(){return hi(this,void 0,void 0,(function*(){yield this.setPaginationSize(),this.triggerApplyFilters()}))},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{});document.dispatchEvent(e)}},setup(){const e=(0,nt.Ln)(),{pagination_size:t}=(0,de.Jk)(e),{getPaginationSize:s,setPaginationSize:i}=e;return{setPaginationSize:i,getPaginationSize:s,pagination_size:t,pagination_options:(0,he.iH)(["10","25","50","100"])}}}),mi=(0,ne.Z)(_i,[["render",pi]]),gi=mi;ut()(_i,"components",{QSelect:ks.Z});const vi={class:"ellipsis"};function fi(e,t,s,l,n,a){const r=(0,i.up)("q-select");return(0,i.wg)(),(0,i.j4)(r,{ref:"q-select",class:"q-mr-sm user-filter-select",dense:"",outlined:"",modelValue:e.assigned_user,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.assigned_user=t),e.modelUpdated],options:e.user_options,label:e.$t("assigned_to")},{"selected-item":(0,i.w5)((e=>[(0,i._)("div",vi,(0,o.zw)(e.opt.label),1)])),_:1},8,["modelValue","options","onUpdate:modelValue","label"])}const wi=(0,i.aZ)({mixins:[],props:{},watch:{quickFilterMap:{deep:!0,handler:function(e,t){this.loadFilters()}}},mounted(){this.setUserOptions()},methods:{loadFilters(){const e=this.quickFilterMap.get("assigned_to_me_only");e?this.assigned_user=e:this.resetFilters()},resetFilters(){this.assigned_user=null},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},modelUpdated(){this.handleEmptyStatus()||(this.quickFilterMap.set("assigned_to_me_only",this.assigned_user),this.triggerApplyFilters())},handleEmptyStatus(){return(!this.assigned_user||null===this.assigned_user)&&(this.resetFilters(),this.triggerApplyFilters(),!0)},setUserOptions(){this.user_options=[{label:this.$t("all"),value:!1},{label:this.$t("assigned_to_me"),value:!0}],this.resetFilters()}},setup(){const e=(0,nt.Ln)(),{quickFilterMap:t}=(0,de.Jk)(e);return{quickFilterMap:t,assigned_user:(0,he.iH)(null),user_options:(0,he.iH)([])}}}),bi=(0,ne.Z)(wi,[["render",fi]]),yi=bi;function ki(e,t,s,l,n,a){const r=(0,i.up)("q-select");return(0,i.wg)(),(0,i.j4)(r,{outlined:"",class:"q-mr-sm",style:{width:"227px",height:"40px"},clearable:"",dense:"",modelValue:e.selected_doc_type,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selected_doc_type=t),e.modelUpdated],"use-input":e.handleEmptyStatus,onFilter:e.filterlistEvent,options:e.filtered_document_type_list,label:e.$t("doc_type")},{"selected-item":(0,i.w5)((e=>[(0,i._)("div",null,(0,o.zw)(e.opt.label),1)])),_:1},8,["modelValue","use-input","onFilter","options","onUpdate:modelValue","label"])}ut()(wi,"components",{QSelect:ks.Z});const xi=(0,i.aZ)({mixins:[],props:{},watch:{document_type_filter_loading:{handler:function(e,t){this.filtered_document_type_list=this.document_type_filter}},quickFilterMap:{deep:!0,handler:function(e,t){this.loadSavedFiler()}}},mounted(){this.getDocumentTypeFilters()},unmounted:function(){},methods:{resetFilters(){this.selected_doc_type=null,this.quickFilterMap.delete("doc_type")},loadSavedFiler(){const e=this.quickFilterMap.get("doc_type");this.selected_doc_type=e||null},removeFilter(){this.selected_doc_type=null;const e=new CustomEvent("remove_filter_by_key",{detail:"selected_filter_status"});document.dispatchEvent(e)},modelUpdated(){this.handleEmptyStatus()||(this.quickFilterMap.set("doc_type",this.selected_doc_type),this.triggerApplyFilters())},handleEmptyStatus(){return(!this.selected_doc_type||null===this.selected_doc_type)&&(this.resetFilters(),this.triggerApplyFilters(),!0)},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},filterlistEvent(e,t,s){t(e?()=>{const t=e.toLowerCase();this.filtered_document_type_list=this.document_type_filter.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filtered_document_type_list=this.document_type_filter})}},setup(){const e=(0,nt.K8)(),{document_type_filter:t,document_type_filter_loading:s}=(0,de.Jk)(e),{getDocumentTypeFilters:i}=e,o=(0,nt.Ln)(),{quickFilterMap:l}=(0,de.Jk)(o);return{getDocumentTypeFilters:i,document_type_filter:t,document_type_filter_loading:s,filtered_document_type_list:(0,he.iH)([]),selected_doc_type:(0,he.iH)(null),quickFilterMap:l}}}),Ci=(0,ne.Z)(xi,[["render",ki]]),qi=Ci;function Ei(e,t,s,l,n,a){const r=(0,i.up)("q-checkbox"),d=(0,i.up)("q-item-section"),c=(0,i.up)("q-item"),u=(0,i.up)("q-select");return(0,i.wg)(),(0,i.j4)(u,{ref:"qselect",class:"q-mr-sm",dense:"",style:{width:"227px"},multiple:"",outlined:"","use-input":"",modelValue:e.selected_status,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selected_status=t),e.modelUpdated],onFilter:e.filterlistEvent,onInput:e.clearFilter,options:e.filtered_status_list,label:e.$t("status")},{option:(0,i.w5)((({itemProps:e,selected:t,opt:s,toggleOption:l})=>[(0,i.Wm)(c,(0,o.vs)((0,i.F4)(e)),{default:(0,i.w5)((()=>[(0,i.Wm)(d,{side:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{"model-value":t,"onUpdate:modelValue":e=>l(s)},null,8,["model-value","onUpdate:modelValue"])])),_:2},1024),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i._)("div",null,(0,o.zw)(s.label),1)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","onFilter","onInput","onUpdate:modelValue","options","label"])}ut()(xi,"components",{QSelect:ks.Z});var Di=s(33725),Li=function(e,t,s,i){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,l){function n(e){try{r(i.next(e))}catch(t){l(t)}}function a(e){try{r(i["throw"](e))}catch(t){l(t)}}function r(e){e.done?s(e.value):o(e.value).then(n,a)}r((i=i.apply(e,t||[])).next())}))};const Fi=(0,i.aZ)({mixins:[ve.Z],props:{},watch:{status_list_loading:{handler:function(e,t){this.filtered_status_list=this.status_list}},quickFilterMap:{deep:!0,handler:function(e,t){this.loadSavedFiler()}}},data(){return{status_filter_style_setting:Di.z0}},mounted(){return Li(this,void 0,void 0,(function*(){if(this.user_settings[this.status_filter_style_setting]||(this.user_settings[this.status_filter_style_setting]=Di.tl.all),this.user_settings[this.status_filter_style_setting]==Di.tl.custom){this.status_list=[];let e=yield this.getSettingWithExpiry(Di.P3);e.split(",").forEach((e=>{let t=e;"-"!=ve.Z.methods.getLabelTranslation(e)&&this.status_list.push(Object.assign({},{value:t,label:ve.Z.methods.getLabelTranslation(e)})),this.filtered_status_list=this.status_list}))}else this.getStatusesList(this.user_settings[this.status_filter_style_setting]);this.loadSavedFiler(),document.addEventListener("quick_filter_remove",this.quickFilterRemove)}))},unmounted:function(){document.removeEventListener("quick_filter_remove",this.quickFilterRemove)},methods:{quickFilterRemove(e){e&&e.detail&&"status"===e.detail&&(this.selected_status=null,this.quickFilterMap.delete("status"))},loadSavedFiler(){const e=this.quickFilterMap.get("status_list");this.selected_status=e||[]},modelUpdated(){if(this.handleEmptyStatus())return;let e="";this.selected_status.length>>0?(this.selected_status.forEach((t=>{e+=t.value+","})),this.quickFilterMap.set("status",e),this.quickFilterMap.set("status_list",this.selected_status)):(this.quickFilterMap.delete("status"),this.quickFilterMap.delete("status_list")),this.quickFilterMap.delete("tab_status"),this.triggerApplyFilters()},handleEmptyStatus(){return(!this.selected_status||null===this.selected_status)&&(this.quickFilterRemove({detail:"status"}),this.triggerApplyFilters(),!0)},triggerApplyFilters(){const e=new CustomEvent("reset_pages",{detail:{}});document.dispatchEvent(e);const t=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(t)},filterlistEvent(e,t,s){t(e?()=>{const t=e.toLowerCase();this.filtered_status_list=this.status_list.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filtered_status_list=this.status_list})},clearFilter(){void 0!==this.$refs.qselect&&this.$refs.qselect.updateInputValue("")}},setup(){const e=(0,nt.tl)(),{status_list_loading:t,status_list:s}=(0,de.Jk)(e),{getStatusesList:i}=e,o=(0,nt.Ln)(),{quickFilterMap:l}=(0,de.Jk)(o),{saveFilters:n}=o,a=(0,nt.VF)(),{user_settings:r}=(0,de.Jk)(a),{getSettingWithExpiry:d}=a;return{saveFilters:n,getStatusesList:i,getSettingWithExpiry:d,status_list:s,quickFilterMap:l,status_list_loading:t,filtered_status_list:(0,he.iH)([]),selected_status:(0,he.iH)([]),user_settings:r}}});var Si=s(490),Wi=s(76749);const Ti=(0,ne.Z)(Fi,[["render",Ei]]),zi=Ti;ut()(Fi,"components",{QSelect:ks.Z,QItem:Si.Z,QItemSection:Wi.Z,QCheckbox:xs.Z});const Oi=(0,i.aZ)({mixins:[],props:{},components:{DocTypeFilter:qi,StatusFilter:zi,UserFilter:yi,PaginationSettings:gi},watch:{quickFilterMap:{deep:!0,handler:function(e,t){this.loadSavedFiler()}}},mounted(){this.debounceSearchInputFunc=(0,ui.Z)((()=>{this.triggerApplyFilters()}),1e3),window.addEventListener("resize",this.elementLoadedEvent),document.addEventListener("delete_input_text",this.clearSearchInput)},methods:{clearSearchInput(){this.searchInput=""},elementLoadedEvent(){const e=new CustomEvent("load_saved_filter_badge",{detail:""});document.dispatchEvent(e)},resetFilters(){const e=new CustomEvent("reset_filters",{});document.dispatchEvent(e)},loadSavedFiler(){const e=this.quickFilterMap.get("keyword");e&&(this.searchInput=e)},inputValueChanges(){if(this.reset_pagination=!1,this.handleEmptyStatus())return void this.debounceSearchInputFunc();const e=this.quickFilterMap.get("keyword");"string"===typeof e&&e!==this.searchInput.trim()&&(this.reset_pagination=!0),this.quickFilterMap.set("keyword",this.searchInput.trim()),this.debounceSearchInputFunc()},handleEmptyStatus(){return(!this.searchInput||null===this.searchInput||""===this.searchInput.trim())&&(this.resetFilters(),!0)},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{reset_pagination:this.reset_pagination}});document.dispatchEvent(e)}},setup(){const e=(0,nt.Ln)(),{quickFilterMap:t}=(0,de.Jk)(e);return{searchInput:(0,he.iH)(""),quickFilterMap:t,showing:(0,he.iH)(!1),debounceSearchInputFunc:{},reset_pagination:(0,he.iH)(!1)}}});var Zi=s(60883),$i=s(13119),Ii=s(56362),Ui=s(90136),Vi=s(18149);const Hi=(0,ne.Z)(Oi,[["render",ci]]),Ri=Hi;ut()(Oi,"components",{QResizeObserver:Zi.Z,QInput:$i.Z,QMenu:Ii.Z,QSpace:Ui.Z,QField:Vi.Z});const Pi={class:"saved-filter-badge row absolute"};function Mi(e,t,s,l,n,a){const r=(0,i.up)("q-icon"),d=(0,i.up)("q-badge");return(0,i.wg)(),(0,i.iD)("div",Pi,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.quickFilterMap,(([t,s])=>((0,i.wg)(),(0,i.iD)(i.HY,{key:t},[s.hasOwnProperty("value")&&"all_invoices"===s.value||"status_list"===t?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[],64)):((0,i.wg)(),(0,i.j4)(d,{key:1,rounded:"",color:"primary",class:"q-mr-sm capitalize"},{default:(0,i.w5)((()=>[s.hasOwnProperty("label")?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,o.zw)(e.$t(s.label)),1)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(e.$t(s.toLowerCase())),1)],64)),(0,i.Wm)(r,{name:"close",color:"white",class:"q-ml-xs cursor-pointer",onClick:s=>e.removeFilter(t)},null,8,["onClick"])])),_:2},1024))],64)))),128))])}var Ai=function(e,t,s,i){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,l){function n(e){try{r(i.next(e))}catch(t){l(t)}}function a(e){try{r(i["throw"](e))}catch(t){l(t)}}function r(e){e.done?s(e.value):o(e.value).then(n,a)}r((i=i.apply(e,t||[])).next())}))};const Qi=(0,i.aZ)({props:{},mounted(){this.init(),document.addEventListener("load_saved_filter_badge",this.loadSavedFiltersBadges)},unmounted:function(){document.removeEventListener("load_saved_filter_badge",this.loadSavedFiltersBadges)},methods:{init(){return Ai(this,void 0,void 0,(function*(){yield this.$nextTick(),this.loadSavedFiltersBadges()}))},removeFilter(e){if(e.includes("status_")&&this.quickFilterMap.delete("status_list"),this.quickFilterMap.delete(e),"keyword"==e){const e=new CustomEvent("delete_input_text",{detail:{}});document.dispatchEvent(e)}this.triggerApplyFilters(),this.triggerRemoveFilterByKey(e)},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},triggerRemoveFilterByKey(e){return Ai(this,void 0,void 0,(function*(){yield this.$nextTick();const t=new CustomEvent("remove_filter_by_key",{detail:e});document.dispatchEvent(t)}))},loadSavedFiltersBadges(){const e=document.querySelector(".search-input");if(!e)return;const t=document.querySelector(".saved-filter-badge");if(!t)return;let s=e.getBoundingClientRect(),i=Number(s.left+window.pageXOffset);t.style.left=i-20+"px"}},setup(){const e=(0,nt.Ln)(),{quickFilterMap:t}=(0,de.Jk)(e);return{quickFilterMap:t}}});var ji=s(20990);const Bi=(0,ne.Z)(Qi,[["render",Mi]]),Ni=Bi;ut()(Qi,"components",{QBadge:ji.Z,QIcon:rt.Z});var Yi=s(95282);function Ki(e,t,s,l,n,a){const r=(0,i.up)("q-tooltip"),d=(0,i.up)("f-btn");return e.showScanButton?((0,i.wg)(),(0,i.j4)(d,{key:0,square:"",class:"q-mr-sm mt-20",icon:"img:scannen.svg",onClick:t[0]||(t[0]=e=>this.$router.push("/scan"))},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("scan_document")),1)])),_:1})])),_:1})):(0,i.kq)("",!0)}var Ji=function(e,t,s,i){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,l){function n(e){try{r(i.next(e))}catch(t){l(t)}}function a(e){try{r(i["throw"](e))}catch(t){l(t)}}function r(e){e.done?s(e.value):o(e.value).then(n,a)}r((i=i.apply(e,t||[])).next())}))};const Gi=(0,i.aZ)({props:{},mounted(){this.get_scan_settings()},methods:{get_scan_settings(){return Ji(this,void 0,void 0,(function*(){const e=yield this.getSettingWithExpiry("DOC_SCAN_MODULE_SETTING");e&&(this.showScanButton=!1,"true"!=e&&1!=e||(this.showScanButton=!0))}))}},setup(){const e=(0,nt.VF)(),{getSettingWithExpiry:t}=e;return{getSettingWithExpiry:t,showScanButton:(0,he.iH)(!1)}}}),Xi=(0,ne.Z)(Gi,[["render",Ki]]),eo=Xi;ut()(Gi,"components",{QTooltip:dt.Z});const to={class:"row items-stretch justify-start"},so={class:"text-h6"},io={class:"text-subtitle2"},oo={class:"text-h6"},lo={class:"text-subtitle2"},no={class:"text-h6"},ao={class:"text-subtitle2"},ro={class:"text-h6"},co={class:"text-subtitle2"},uo={class:"text-h6"},po={class:"text-subtitle2"},ho={class:"text-h6"},_o={class:"text-subtitle2"};function mo(e,t,s,l,n,a){const r=(0,i.up)("q-card-section"),d=(0,i.up)("q-tooltip"),c=(0,i.up)("q-card");return(0,i.wg)(),(0,i.iD)("div",to,[(0,i.Wm)(c,{class:(0,o.C_)(["analytic-card cursor-pointer clickable","all_invoices"===e.selected_filter_status?"selected-card":""]),onClick:t[0]||(t[0]=t=>e.filterTabSelected("all_invoices",e.$t("all_invoices"))),style:{"border-left-color":"#2388ae"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i._)("div",so,(0,o.zw)(e.all_invoices),1),(0,i._)("div",io,(0,o.zw)(e.$t("all_invoices")),1)])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Click to Filter by "+(0,o.zw)(e.$t("all_invoices")),1)])),_:1})])),_:1},8,["class"]),(0,i.Wm)(c,{class:(0,o.C_)(["analytic-card cursor-pointer clickable","in-progress"===e.selected_filter_status?"selected-card":""]),onClick:t[1]||(t[1]=t=>e.filterTabSelected("in-progress",e.$t("in_progress"))),style:{"border-left-color":"#409fff"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i._)("div",oo,(0,o.zw)(e.in_progress),1),(0,i._)("div",lo,(0,o.zw)(e.$t("in_progress")),1)])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Click to Filter by "+(0,o.zw)(e.$t("in_progress")),1)])),_:1})])),_:1},8,["class"]),(0,i.Wm)(c,{class:(0,o.C_)(["analytic-card cursor-pointer clickable","pending-user-input"===e.selected_filter_status?"selected-card":""]),onClick:t[2]||(t[2]=t=>e.filterTabSelected("pending-user-input",e.$t("pending_user_input"))),style:{"border-left-color":"#ffe240"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i._)("div",no,(0,o.zw)(e.pending),1),(0,i._)("div",ao,(0,o.zw)(e.$t("pending_user_input")),1)])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Click to Filter by "+(0,o.zw)(e.$t("pending_user_input")),1)])),_:1})])),_:1},8,["class"]),(0,i.Wm)(c,{class:(0,o.C_)(["analytic-card cursor-pointer clickable","validated_pending_approval"===e.selected_filter_status?"selected-card":""]),onClick:t[3]||(t[3]=t=>e.filterTabSelected("validated_pending_approval",e.$t("validated_pending_approval"))),style:{"border-left-color":"#41b2bb"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i._)("div",ro,(0,o.zw)(e.validated_pending_approval+e.approved_pending_second_approval),1),(0,i._)("div",co,(0,o.zw)(e.$t("validated_pending_approval")),1)])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Click to Filter by "+(0,o.zw)(e.$t("validated_pending_approval")),1)])),_:1})])),_:1},8,["class"]),(0,i.Wm)(c,{class:(0,o.C_)(["analytic-card cursor-pointer clickable","finished"===e.selected_filter_status?"selected-card":""]),onClick:t[4]||(t[4]=t=>e.filterTabSelected("finished",e.$t("exported"))),style:{"border-left-color":"#80bb41"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i._)("div",uo,(0,o.zw)(e.completed),1),(0,i._)("div",po,(0,o.zw)(e.$t("exported")),1)])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Click to Filter by "+(0,o.zw)(e.$t("exported")),1)])),_:1})])),_:1},8,["class"]),(0,i.Wm)(c,{class:(0,o.C_)(["analytic-card cursor-pointer clickable","error"===e.selected_filter_status?"selected-card":""]),onClick:t[5]||(t[5]=t=>e.filterTabSelected("error",e.$t("error"))),style:{"border-left-color":"#d74061"}},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i._)("div",ho,(0,o.zw)(e.error),1),(0,i._)("div",_o,(0,o.zw)(e.$t("error")),1)])),_:1}),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Click to Filter by "+(0,o.zw)(e.$t("error")),1)])),_:1})])),_:1},8,["class"])])}const go=(0,i.aZ)({mixins:[],props:{},watch:{quickFilterMap:{deep:!0,handler:function(e,t){this.loadFilters()}}},components:{},mounted(){document.addEventListener("dashboard_refresh",this.refreshFilters)},unmounted:function(){document.removeEventListener("dashboard_refresh",this.refreshFilters)},methods:{refreshFilters(){this.all_invoices=0,this.automatically_processed=0,this.manually_processed=0,this.completed=0,this.in_progress=0,this.pending=0,this.validated_pending_approval=0,this.approved_pending_second_approval=0,this.error=0},loadFilters(){const e=this.quickFilterMap.get("tab_status");e||(this.selected_filter_status="all_invoices")},filterTabSelected(e,t){this.selected_filter_status=e;const s=new CustomEvent("quick_filter_remove",{detail:"status"});document.dispatchEvent(s),this.quickFilterMap.set("tab_status",{value:e,label:t}),this.triggerApplyFilters()},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}},setup(){const e=(0,nt.Ln)(),{quickFilterMap:t,all_invoices:s,automatically_processed:i,manually_processed:o,completed:l,in_progress:n,pending:a,validated_pending_approval:r,approved_pending_second_approval:d,error:c}=(0,de.Jk)(e);return{quickFilterMap:t,show_analytics:(0,he.iH)(!1),selected_filter_status:(0,he.iH)("all_invoices"),all_invoices:s,automatically_processed:i,manually_processed:o,completed:l,in_progress:n,pending:a,validated_pending_approval:r,approved_pending_second_approval:d,error:c}}}),vo=(0,ne.Z)(go,[["render",mo],["__scopeId","data-v-0b59d348"]]),fo=vo;ut()(go,"components",{QCard:fs.Z,QCardSection:ys.Z,QTooltip:dt.Z});const wo={class:"text-weight-medium text-h6"},bo={class:"highlighted-back"},yo={class:"text-left",style:{"font-weight":"bold"}},ko={class:"text-left",style:{"font-weight":"900"}},xo={class:"text-left",style:{"font-weight":"bold"}},Co={class:"text-left",style:{"font-weight":"900"}},qo=["src"],Eo=(0,i.Uk)(" + "),Do=(0,i._)("span",{class:"shortcut-Key-box q-ml-sm"}," k ",-1),Lo={class:"text-left",style:{"font-weight":"bold"}},Fo={class:"text-left",style:{"font-weight":"900"}},So=["src"],Wo=(0,i.Uk)(" + "),To=(0,i._)("span",{class:"shortcut-Key-box q-ml-sm"}," Q ",-1);function zo(e,t,s,l,n,a){const r=(0,i.up)("q-card-section"),d=(0,i.up)("q-icon"),c=(0,i.up)("q-markup-table");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i._)("div",wo,(0,o.zw)(e.$t("keyboard_shortcuts")),1)])),_:1}),(0,i.Wm)(r,{class:"v-p-0"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{class:"full-width",style:{overflow:"scroll","max-height":"60vh"},"virtual-scroll":""},{default:(0,i.w5)((()=>[(0,i._)("thead",null,[(0,i._)("tr",bo,[(0,i._)("th",yo,(0,o.zw)(e.$t("action")),1),(0,i._)("th",ko,(0,o.zw)(e.$t("keyboard_shortcut")),1)])]),(0,i._)("tbody",null,[(0,i._)("tr",null,[(0,i._)("td",xo,(0,o.zw)(e.$t("doc2light.descriptions.check_keyboard_shortcut")),1),(0,i._)("td",Co,[(0,i.Wm)(d,{size:"40px"},{default:(0,i.w5)((()=>[(0,i._)("img",{src:e.combination_key+".svg"},null,8,qo)])),_:1}),Eo,Do])]),(0,i._)("tr",null,[(0,i._)("td",Lo,(0,o.zw)(e.$t("refresh_list")),1),(0,i._)("td",Fo,[(0,i.Wm)(d,{size:"40px"},{default:(0,i.w5)((()=>[(0,i._)("img",{src:e.combination_key+".svg"},null,8,So)])),_:1}),Wo,To])])])])),_:1})])),_:1})],64)}var Oo=s(65424);const Zo=(0,i.aZ)({el:"#app",mixins:[Oo.Z],props:{},components:{},data(){return{combination_key:""}},mounted:function(){this.combination_key=this.getCombinationKey(null)},setup(){return{}}});var $o=s(66933);const Io=(0,ne.Z)(Zo,[["render",zo]]),Uo=Io;ut()(Zo,"components",{QCardSection:ys.Z,QMarkupTable:$o.Z,QIcon:rt.Z});const Vo={methods:{keyDownEvent(e){try{const t=Oo.Z.methods.isCombinationKey(e);if(81===e.keyCode&&!0===t){e.preventDefault();const t=new CustomEvent("dashboard_refresh",{});return void document.dispatchEvent(t)}if(75===e.keyCode&&!0===t){e.preventDefault();const t=new CustomEvent("open_keyboard_shortcuts",{});return void document.dispatchEvent(t)}}catch(e){}}}},Ho=(0,i.aZ)({mixins:[Vo],props:{},watch:{},components:{savedFilterBadges:Ni,ImportMultiInvoice:Yi.Z,advancedSettings:Xs,quickSearch:Ri,scanButton:eo,analytics:fo,keyboardShortcutInfo:Uo},mounted:function(){document.addEventListener("keydown",this.keyDownEvent),document.addEventListener("open_keyboard_shortcuts",this.openKeyboardShortcuts)},unmounted:function(){document.removeEventListener("keydown",this.keyDownEvent),document.removeEventListener("open_keyboard_shortcuts",this.openKeyboardShortcuts)},methods:{openKeyboardShortcuts(){this.showKeyboardShortcuts=!0},refreshFilters(){const e=new CustomEvent("dashboard_refresh",{detail:{show_shimmer_loader:!0}});document.dispatchEvent(e)},resetFilters(){const e=new CustomEvent("reset_filters",{});document.dispatchEvent(e)}},setup(){const e=(0,nt.Ln)(),{quickFilterMap:t,all_invoices:s,current_invoice_count:i,showKeyboardShortcuts:o}=(0,de.Jk)(e);return{current_invoice_count:i,showKeyboardShortcuts:o,quickFilterMap:t,show_advanced_filters:(0,he.iH)(!1),show_analytics:(0,he.iH)(!1),all_invoices:s}}});var Ro=s(50926),Po=s(11821);const Mo=(0,ne.Z)(Ho,[["render",qt]]),Ao=Mo;ut()(Ho,"components",{QSpace:Ui.Z,QBtn:Vt.Z,QTooltip:dt.Z,QSeparator:Ro.Z,QDialog:Ss.Z,QCard:fs.Z,QCardActions:Po.Z});const Qo={class:"secondary-c-text float-right"},jo={class:"flip-clock"},Bo={class:"count__piece text-white text-uppercase title"},No={class:"count__piece"},Yo={class:"card"},Ko={class:"card__top doc_count"},Jo={class:"count__piece"},Go={class:"card"},Xo={class:"card__top trocr_count"};function el(e,t,s,l,n,a){const r=(0,i.up)("q-tooltip");return(0,i.wg)(),(0,i.iD)("div",Qo,[(0,i._)("div",jo,[(0,i._)("span",Bo,(0,o.zw)(e.$t("pending_documents"))+": ",1),(0,i._)("span",No,[(0,i._)("b",Yo,[(0,i._)("b",Ko,(0,o.zw)(e.doc_queue),1)]),(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("document_count")),1)])),_:1})]),(0,i._)("span",Jo,[(0,i._)("b",Go,[(0,i._)("b",Xo,(0,o.zw)(e.trocr_queue),1)]),(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.$t("ki_count")),1)])),_:1})])])])}var tl=s(49341),sl=function(e,t,s,i){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,l){function n(e){try{r(i.next(e))}catch(t){l(t)}}function a(e){try{r(i["throw"](e))}catch(t){l(t)}}function r(e){e.done?s(e.value):o(e.value).then(n,a)}r((i=i.apply(e,t||[])).next())}))};const il=(0,i.aZ)({el:"#app",mixins:[],watch:{isConnected:{handler:function(e,t){this.subscribeToTasksCountChannel()}},pending_docs:{deep:!0,handler:function(e,t){this.parseResponse(e)}}},mounted:function(){this.initView(),document.addEventListener("dashboard_refresh",this.refreshCount)},unmounted:function(){document.removeEventListener("dashboard_refresh",this.refreshCount),this.clearCounterInterval()},data(){return{CounterInterval:0}},methods:{initView(){return sl(this,void 0,void 0,(function*(){try{if(yield this.getStats(),ye.ql)return void this.subscribeToTasksCountChannel();this.intervalManager()}catch(e){this.clearCounterInterval()}finally{this.request_processing=!1}}))},parseResponse(e){e&&e.hasOwnProperty("queues_info")&&(e.queues_info.hasOwnProperty("api-tasks")&&(this.doc_queue=Number(e.queues_info["api-tasks"]["total"]),this.doc_queue<10&&(this.doc_queue="0"+this.doc_queue)),e.queues_info.hasOwnProperty("api-tasks-tr-ocr")&&(this.trocr_queue=Number(e.queues_info["api-tasks-tr-ocr"]["total"]),this.trocr_queue<10&&(this.trocr_queue="0"+this.trocr_queue)))},refreshCount(){this.request_processing||this.getStats()},getStats(){return sl(this,void 0,void 0,(function*(){if(this.subscribed_channels.has("pending_docs"))return;this.request_processing=!0;const e=yield tl.Zj.getTasksState();try{if(!e)throw this.clearCounterInterval(),e;this.parseResponse(e)}catch(t){}finally{this.request_processing=!1}}))},clearCounterInterval(){clearInterval(this.CounterInterval)},intervalManager(){this.CounterInterval=setInterval((()=>{this.getStats()}),6e4)},subscribeToTasksCountChannel(){"/dashboard"===this.$route.path&&this.subscribeToChannel("pending_docs")}},setup(){const e=(0,nt.b8)(),{isConnected:t,pending_docs:s,subscribed_channels:i}=(0,de.Jk)(e),{subscribeToChannel:o,unsubscribeToChannel:l}=e;return{subscribed_channels:i,unsubscribeToChannel:l,pending_docs:s,subscribeToChannel:o,isConnected:t,doc_queue:(0,he.iH)("00"),trocr_queue:(0,he.iH)("00"),request_processing:(0,he.iH)(!1)}}}),ol=(0,ne.Z)(il,[["render",el],["__scopeId","data-v-4fda71fc"]]),ll=ol;ut()(il,"components",{QTooltip:dt.Z});const nl={class:"row"},al={class:"-12"},rl={class:"row"},dl=(0,i._)("div",{class:"col-12 text-center"},[(0,i._)("img",{src:"assign to.svg",class:"black_to_white"})],-1),cl={class:"col-12 text-center text-h5"},ul={class:"col-sm-12 col-md-12 col-lg-12 input-text"},pl={class:"col-sm-12 col-md-12 col-lg-12 input-text"},hl=(0,i._)("div",{class:"col-sm-12 col-md-12 col-lg-12 text-red-5 height-20 q-pl-md"},null,-1),_l={class:"col-sm-12 col-md-12 col-lg-12"},ml={class:"row q-pt-md"},gl={class:"col-sm-12 col-md-12 col-lg-12 q-pl-md q-pr-md"};function vl(e,t,s,l,n,a){const r=(0,i.up)("q-toolbar-title"),d=(0,i.up)("q-btn"),c=(0,i.up)("q-toolbar"),u=(0,i.up)("q-select"),p=(0,i.up)("q-form"),h=(0,i.up)("q-card-section"),_=(0,i.up)("q-card"),m=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(_,{style:{padding:"0 25px 25px 25px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(c,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r),(0,i.wy)((0,i.Wm)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[m]])])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i._)("div",nl,[(0,i._)("div",al,[(0,i._)("div",rl,[dl,(0,i._)("div",cl,(0,o.zw)(e.$t("assigne_to")),1),(0,i.Wm)(p,{onSubmit:e.updateAssignment,class:"full-width"},{default:(0,i.w5)((()=>[(0,i._)("div",ul,[(0,i.Wm)(u,{clearable:"",modelValue:e.sub_org_id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.sub_org_id=t),"use-input":"",options:e.filterSubOrgsList,onFilter:e.filterSubOrgslistEvent,label:e.$t("sub_organizations"),loading:e.sub_org_list_loading,"emit-value":"","map-options":""},null,8,["modelValue","options","onFilter","label","loading"])]),(0,i._)("div",pl,[(0,i.Wm)(u,{ref:"selectq",clearable:"",modelValue:e.user_id,"onUpdate:modelValue":t[1]||(t[1]=t=>e.user_id=t),"use-input":"",id:e.updateUsers,onFilter:e.filterUsersEvent,options:e.filteredUserList,label:e.$t("assigne"),loading:e.user_list_loading,"emit-value":"","map-options":""},null,8,["modelValue","id","onFilter","options","label","loading"])]),hl,(0,i._)("div",_l,[(0,i._)("div",ml,[(0,i._)("div",gl,[(0,i.Wm)(d,{label:e.$t("save"),type:"submit",color:"primary",class:"full-width",icon:"done"},null,8,["label"])])])])])),_:1},8,["onSubmit"])])])])])),_:1})])),_:1})}var fl=function(e,t,s,i){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,l){function n(e){try{r(i.next(e))}catch(t){l(t)}}function a(e){try{r(i["throw"](e))}catch(t){l(t)}}function r(e){e.done?s(e.value):o(e.value).then(n,a)}r((i=i.apply(e,t||[])).next())}))};const wl=(0,i.aZ)({el:"#app",mixins:[ue.Z,ge.Z],props:{doc_ids:[]},mounted:function(){this.prepareUsersDropdown(),this.getSubOrgsList()},methods:{filertBySubOrgId(){if(!this.sub_org_id)return void(this.filteredUserList=this.usersList);let e=[];for(const[s,i]of Object.entries(this.subOrgList)){const t=i;t.value==this.sub_org_id&&(e=t.users)}if(!e||e.length<1)return void(this.filteredUserList=this.usersList);let t=[];for(const[s,i]of Object.entries(e)){const e=i;t.push(e.user_id)}this.filteredUserList=[],this.filteredUserList=this.usersList.filter((e=>t.includes(e.value)))},filterUsersEvent(e,t,s){this.filertBySubOrgId(),t(e?()=>{const t=e.toLowerCase();this.filteredUserList=this.filteredUserList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filertBySubOrgId()})},filterSubOrgslistEvent(e,t,s){t(e?()=>{const t=e.toLowerCase();this.filterSubOrgsList=this.subOrgList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filterSubOrgsList=this.subOrgList})},updateAssignment(){return fl(this,void 0,void 0,(function*(){try{if(!this.user_id&&!this.sub_org_id)return void this.showErrorToast(this.$t("NO_USER_SUB_ORG_SELECTION"));this.showLoading();let e={doc_ids:this.doc_ids.join(","),assign_to_user:this.user_id||"",assign_to_sub_org:this.sub_org_id||""};const t=yield tl.Zj.assignDocuments(e);if(!t||t.hasOwnProperty("success")&&!1===t.success)throw t;this.hideLoading(),this.showSuccessToast(this.$t("OPERATION_SUCESSFULL"));const s=new CustomEvent("assignment_success",{});document.dispatchEvent(s)}catch(e){const t=be.w.getErrorMessage(e);this.showErrorToast(t),this.hideLoading()}}))}},setup(){const e=(0,nt.At)(),t=(0,he.iH)(e.usersList),s=(0,he.iH)(e.subOrgList),{prepareUsersDropdown:i,getSubOrgsList:o}=e,{user_list_loading:l,subOrgList:n,sub_org_list_loading:a,usersList:r}=(0,de.Jk)(e);return{updateUsers:(0,he.iH)(1),getSubOrgsList:o,prepareUsersDropdown:i,user_list_loading:l,sub_org_list_loading:a,dropdown_store:e,usersList:r,filteredUserList:t,subOrgList:n,filterSubOrgsList:s,user_id:(0,he.iH)(),sub_org_id:(0,he.iH)()}}});var bl=s(8326);const yl=(0,ne.Z)(wl,[["render",vl]]),kl=yl;ut()(wl,"components",{QCard:fs.Z,QToolbar:ws.Z,QToolbarTitle:bs.Z,QBtn:Vt.Z,QCardSection:ys.Z,QForm:bl.Z,QSelect:ks.Z}),ut()(wl,"directives",{ClosePopup:qs.Z});const xl={class:"orderByParentSpan arrow-color"},Cl=["data-name"],ql=["data-name"];function El(e,t,s,l,n,a){return(0,i.wg)(),(0,i.iD)("span",xl,[(0,i._)("span",{class:(0,o.C_)(["up-arrow orderBy absolute",e.is_order_by_selected("asc")?"selected":""]),"data-name":e.column_name,"data-direction":"asc",onClick:t[0]||(t[0]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,Cl),(0,i._)("span",{class:(0,o.C_)(["down-arrow orderBy absolute",e.is_order_by_selected("desc")?"selected":""]),"data-name":e.column_name,"data-direction":"desc",onClick:t[1]||(t[1]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,ql)])}var Dl=function(e,t,s,i){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,l){function n(e){try{r(i.next(e))}catch(t){l(t)}}function a(e){try{r(i["throw"](e))}catch(t){l(t)}}function r(e){e.done?s(e.value):o(e.value).then(n,a)}r((i=i.apply(e,t||[])).next())}))};const Ll=(0,i.aZ)({mixins:[],props:{column_name:{type:String,required:!0}},components:{},watch:{order_by:{deep:!0,handler:function(e,t){this.init()}}},mounted:function(){this.init(),document.addEventListener("reset_filters",this.resetFilters)},unmounted:function(){document.removeEventListener("reset_filters",this.resetFilters)},methods:{is_order_by_selected(e){return this.order_by_field==this.column_name&&this.order_by_direction==e},init(){0!==(0,gs.v7)(this.order_by)&&(this.order_by_field=this.order_by.field_name,this.order_by_direction=this.order_by.direction)},resetFilters(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},OrderBy(e){return Dl(this,void 0,void 0,(function*(){if(e.target.classList.contains("selected"))return;let t=e.target.dataset.direction,s=e.target.dataset.name;if(!t||!s)return;e.target.classList.add("selected");const i=document.querySelectorAll(".orderBy");if(i.length){for(var o=0;o<i.length;o++){let e=i[o];(e.dataset.name!=s||e.dataset.name==s&&e.dataset.direction!=t)&&e.classList.remove("selected")}this.order_by_field=s,this.order_by_direction=t,this.order_by={field_name:this.order_by_field,direction:this.order_by_direction},this.paginationCount=1,yield this.saveOrderBy(),this.triggerApplyFilters()}}))},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}},setup(){const e=(0,nt.Ln)(),{order_by:t,paginationCount:s}=(0,de.Jk)(e),{saveOrderBy:i}=e;return{saveOrderBy:i,paginationCount:s,order_by:t,order_by_field:(0,he.iH)(""),order_by_direction:(0,he.iH)("")}}}),Fl=(0,ne.Z)(Ll,[["render",El],["__scopeId","data-v-dec05000"]]),Sl=Fl;var Wl=s(16308),Tl=s(54170),zl=s(3833),Ol=s(38126),Zl=function(e,t,s,i){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,l){function n(e){try{r(i.next(e))}catch(t){l(t)}}function a(e){try{r(i["throw"](e))}catch(t){l(t)}}function r(e){e.done?s(e.value):o(e.value).then(n,a)}r((i=i.apply(e,t||[])).next())}))};const $l=(0,i.aZ)({el:"#app",mixins:[ge.Z,ue.Z,we.Z,ke.Z,fe.Z,ve.Z,ce.Z,_e.Z],components:{DashboardHeader:Ao,DocAssignment:kl,ColumnOrderBy:Sl,TaskCounters:ll,MobileGrid:ht,SubHeader:Wl.Z,Loader:me.Z},data(){return{all_invoice_data:[],InvoicesClearInterval:0,po_module_activate:!1,debounceSearchInputFunc:{},confirmMergeDialog:!1,filters_reset_after_restart_setting:Di.Ic}},beforeRouteLeave:function(e,t,s){this.intervalManager(!1),this.unsubscribeToChannel("dashboard"),this.unsubscribeToChannel("pending_docs"),s()},mounted(){return Zl(this,void 0,void 0,(function*(){try{window.dash=this,this.processing=!0,this.$route.params.force_restart&&"force_restart"===this.$route.params.force_restart&&(this.restartExportedInvoices=!0),this.headerCheckbox=!1,yield this.startSettingsFetch(),yield this.getSavedColumns(),this.handleTableColumns(!1),this.prepareStatusList(),yield this.getOrderBy(),yield this.getPaginationSize(),this.clearSelectedSessionStorage(),this.po_module_activate=this.isPoSettingActivate(),this.getSavedFilters(),this.intervalManager(!0),this.subscribeToDashboardChannel(),this.loadData(),document.addEventListener("apply_filters",this.applyFilterEvent),document.addEventListener("reset_filters",this.resetFilters),document.addEventListener("reset_pages",this.resetPages),document.addEventListener("dashboard_refresh",this.refreshFilters),document.addEventListener("dashboard_columns_updated",this.dashboardColumnsEvent),document.addEventListener("assignment_success",this.assignmentSuccess),this.debounceSearchInputFunc=(0,ui.Z)((()=>{this.applyFilter()}),1e3)}catch(e){}finally{this.processing=!1}}))},unmounted:function(){document.removeEventListener("keydown",this.keyDownEvent),document.removeEventListener("assignment_success",this.assignmentSuccess),document.removeEventListener("apply_filters",this.applyFilterEvent),document.removeEventListener("reset_filters",this.resetFilters),document.removeEventListener("dashboard_refresh",this.refreshFilters),document.removeEventListener("dashboard_columns_updated",this.dashboardColumnsEvent)},watch:{headerCheckbox(){!1===this.headerCheckbox&&(this.headerFabIcon=!1,this.isMultiDeleteButtonDisabled=!1,this.isMultiRestartButtonDisabled=!1)},processing:{handler:function(e,t){1==e?this.showLoading():this.hideLoading()}},isConnected:{handler:function(e,t){this.use_websocket=!0,this.subscribeToDashboardChannel()}},websocketHasError:{handler:function(e,t){1==e&&(this.use_websocket=!1)}},dashboard_data_flag:{handler:function(e,t){0!=e&&(this.data_status="received",this.handleWebSocketResult(this.dashboard_data))}}},methods:{applyFilterEvent(e){e&&e.detail&&!0===e.detail.reset_pagination&&(this.resetPagination=!0),this.applyFilter()},dashboardColumnsEvent(){this.dashboardColumnsUpdated()},dashboardColumnsUpdated(){return Zl(this,void 0,void 0,(function*(){this.handleTableColumns(),yield this.applySavedFilters(),this.fetchInvoices(!0)}))},handleTableColumns(e=!0){try{this.processing=!0;const e=this.visible_columns;this.table_columns=[];for(const t in this.visible_columns)e[t].selected=!1,e[t].label=this.getColumnLabel(e[t]),this.table_columns.push(e[t]);this.table_columns.sort(((e,t)=>e.order-t.order))}catch(t){}finally{e&&(this.processing=!1)}},intervalManager(e){clearInterval(this.InvoicesClearInterval),!0===e&&(this.InvoicesClearInterval=setInterval((()=>{this.fetchInvoices(!1)}),6e4))},applySavedFilters(){return Zl(this,void 0,void 0,(function*(){this.pageSize=Number(this.pagination_size),this.queryParams="?&skip="+this.startfrom+"&limit="+this.pageSize,this.queryParams+=(yield this.makeQueryParamFromFilters(!1)),this.resetPagination=!1}))},handleActions(e){return this.display_data.forEach(((t,s)=>{s!==e&&(t["fabAction"]=!1)})),!0},prepareStatusList(){this.statusList["new"]=[],this.statusList["new"]["value"]="new",this.statusList["new"]["class"]="text-light-green-6",this.statusList["ready_for_review"]=[],this.statusList["ready_for_review"]["value"]="ready_for_review",this.statusList["ready_for_review"]["class"]="text-amber-7",this.statusList["ready_for_validation"]=[],this.statusList["ready_for_validation"]["value"]="ready_for_validation",this.statusList["ready_for_validation"]["class"]="text-amber-7",this.statusList["validating"]=[],this.statusList["validating"]["value"]="ready_for_validation",this.statusList["validating"]["class"]="text-amber-7",this.statusList["validated_pending_export"]=[],this.statusList["validated_pending_export"]["value"]="validated_pending_export",this.statusList["validated_pending_export"]["class"]="text-amber-7",this.statusList["pending_confirmation"]=[],this.statusList["pending_confirmation"]["value"]="pending_confirmation",this.statusList["pending_confirmation"]["class"]="text-amber-7",this.statusList["finished"]=[],this.statusList["finished"]["value"]="finished",this.statusList["finished"]["class"]="text-light-green-6",this.statusList["workflow"]=[],this.statusList["workflow"]["value"]="workflow",this.statusList["workflow"]["class"]="text-light-green-6",this.statusList["completed"]=[],this.statusList["completed"]["value"]="completed",this.statusList["completed"]["class"]="text-light-green-6",this.statusList["restarted"]=[],this.statusList["restarted"]["value"]="restarted",this.statusList["restarted"]["class"]="text-blue-14",this.statusList["error"]=[],this.statusList["error"]["value"]="error",this.statusList["error"]["class"]="text-red-13",this.statusList["export_error"]=[],this.statusList["export_error"]["value"]="error",this.statusList["export_error"]["class"]="text-red-13",this.statusList["restart_export"]=[],this.statusList["restart_export"]["value"]="restart_export",this.statusList["restart_export"]["class"]="text-blue-14",this.statusList["running"]=[],this.statusList["running"]["value"]="running",this.statusList["running"]["class"]="text-blue-14",this.statusList["in_progress"]=[],this.statusList["in_progress"]["value"]="in_progress",this.statusList["in_progress"]["class"]="text-blue-14",this.statusList["restart_in_progress"]=[],this.statusList["restart_in_progress"]["value"]="restart_in_progress",this.statusList["restart_in_progress"]["class"]="text-blue-14",this.statusList["exporting"]=[],this.statusList["exporting"]["value"]="exporting",this.statusList["exporting"]["class"]="text-blue-14"},resetPages(){this.resetPagination=!0},applyFilter(){return Zl(this,void 0,void 0,(function*(){this.processing=!0,this.resetAllSelectedRows(),1==this.resetPagination&&(this.startfrom=0,this.paginationCount=1),this.resetPagination=!0,this.queryParams+=(yield this.makeQueryParamFromFilters()),""==this.queryParams&&this.removeSavedFilters(),this.queryParams="?&skip="+this.startfrom+"&limit="+this.pageSize,this.fetchInvoices(!0)}))},refreshFilters(e){let t=!1;e&&e.detail&&e.detail.show_shimmer_loader&&(t=!0),this.all_invoice_data=[],this.display_data=[],this.selectionList=[],this.headerCheckbox=!1,this.fetchInvoices(!0,t)},fetchInvoices(e,t=!1){return Zl(this,void 0,void 0,(function*(){try{if(e&&(this.processing=!0),t&&(this.display_data=[],this.selectionList=[],this.headerCheckbox=!1,this.show_table_loader=!0),yield this.applySavedFilters(),this.use_websocket){let e=yield this.getWebSocketDashboard();return void(1!=e&&setTimeout(this.handleWebsocketDelay,5e3))}{const e=yield tl.Zj.getList(this.queryParams);this.updateDocumentStats(e),this.updateTableData(e),this.processing=!1,setTimeout(this.turnOnWebSocket,5e3)}}catch(s){this.showErrorToast(this.$t("pages.messages.ERROR_FETCHING_INVOICES")),this.processing=!1}}))},handleWebsocketDelay(){"received"!==this.data_status&&(this.use_websocket=!1,this.fetchInvoices(!1),setTimeout(this.turnOnWebSocket,5e3))},turnOnWebSocket(){this.websocketHasError||(this.use_websocket=!0)},updateTableData(e){this.resultsCount=e.overview["results-count"],this.current_invoice_count=this.resultsCount;let t=this.resultsCount/this.pageSize;this.skip=Math.ceil(t);let s=[];e.documents&&(s=e.documents),this.display_data=s,this.applyCustomFormatOnRows(),this.show_table_loader=!1,this.processing=!1},updateDocumentStats(e){this.all_invoices=e.overview["all-invoices"],this.automatically_processed=e.overview["automaticly-processed"],this.manually_processed=e.overview["manaualy-processed"],this.completed=e.overview["completed"],this.in_progress=e.overview["processing"],this.pending=e.overview["pending"],this.validated_pending_approval=e.overview["validated-pending-approval"],this.approved_pending_second_approval=e.overview["approved-pending-second-approval"],this.error=e.overview["error"]},applyCustomFormatOnRows(){this.display_data.forEach((e=>{e["fabAction"]=!1,e["rowSelection"]=!1,e["created_on"]=e["created_on"]?this.formateDate(e["created_on"],"YYYY-MM-DD HH:mm:ss"):"-",e["last_modified_on"]=e["last_modified_on"]?this.formateDate(e["last_modified_on"],"YYYY-MM-DD HH:mm:ss"):"-"}))},toFlowScreen(e){this.$router.push("/doc_flow/"+e)},toValidationScreen(e){Ol.Z.set("view_mod","edit"),this.$router.push("/2a/"+e)},toNewValidationScreen(e){Ol.Z.set("view_mod","edit"),this.$router.push("/field_validation_v1/"+e)},toPendingApprovalScreen(e){Ol.Z.set("view_mod","edit"),this.$router.push("/ready-for-approval/"+e)},toPendingSecondApprovalScreen(e){Ol.Z.set("view_mod","edit"),this.$router.push("/ready-for-second-approval/"+e)},toMediValidationScreen(e){this.$router.push("/field_validation/"+e)},toMediValidationV3Screen(e){this.$router.push("/medi_order_v3/"+e)},toDocumentErrorView(e){this.$router.push("/document_error/"+e["id"])},toDocumentClassifiyView(e){this.$router.push("/document_classifiy/"+e["id"])},toDocumentPdfView(e){this.$router.push("/document_pdf/"+e["filename"]+"/"+e["id"])},formateDate(e,t){return Tl.ZP.formatDate(e,t)},loadData(){this.resetPagination=!1,this.startfrom=this.pageSize*(this.paginationCount-1),this.applyFilter()},triggerWorkflow(e){return Zl(this,void 0,void 0,(function*(){try{yield tl.fo.triggerWorkflow(e)}catch(t){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}}))},deleteRecord(e){return Zl(this,void 0,void 0,(function*(){let t;this.processing=!0;try{let s=yield(0,ye.O_)();t=yield te()["delete"](ye.hi.delete_document+e,{headers:{Authorization:s}}),yield this.fetchInvoices(!0),this.deleteInvoice=!1}catch(s){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.processing=!1}}))},viewRecord(e){Ol.Z.set("view_mod","view"),this.$router.push("/2a/"+e)},restartExportError(e){return Zl(this,void 0,void 0,(function*(){this.processing=!0;try{const t=yield tl.Zj.restartExport(e);if(!1===t.success)throw{message:t.message};this.resetFilters()}catch(t){const e=be.w.getErrorMessage(t);this.showErrorToast(e)}finally{this.processing=!1}}))},restartExport(e){return Zl(this,void 0,void 0,(function*(){let t;this.processing=!0;try{let s=yield(0,ye.O_)();t=yield te().get(ye.hi.restart_document+e,{headers:{Authorization:s}}),this.refreshDashboard(this.filters_reset_after_restart_setting)}catch(s){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.processing=!1}this.QualityConfirm=!1}))},isStatusError(e){return"error"===e||"export_error"===e},rowClick(e){let t=e["id"],s=e["status"];e["doc_type"];if(this.isStatusError(s))this.toDocumentErrorView(e);else if("classified"!==s){if("validating"!==s&&"validated_pending_export"!==s)if("pending_confirmation"!==s)if("validated_pending_approval"!==s)if("approved_pending_second_approval"!==s){if(Di.C7.includes(s))return e.layout?this.isMediUser()?void this.toMediValidationV3Screen(t):void this.toNewValidationScreen(t):void("ready_for_validation"===s?this.toValidationScreen(t):Di.at.includes(s)&&this.viewRecord(t))}else this.toPendingSecondApprovalScreen(t);else this.toPendingApprovalScreen(t);else this.getQualityInfos(e)}else this.toDocumentClassifiyView(e)},getClassesForColumn(e,t){let s="",i="running"===e?"enableDrawingRectangle":"cursor-pointer";return i+="filename"===t?" text-primary ":"","status"===t&&this.statusList.hasOwnProperty(e)&&(s=e?this.statusList[e].class:""),i+" "+s},openAssignmentDlg(e){this.assignment_doc_ids=[],this.assignment_doc_ids.push(e),this.assigneDialog=!0},isExportAllowed(e){let t=this.getExportRecord(e);return!(!t||0===Object.keys(t).length)},goToExport(e){let t=this.getExportRecord(e);t&&0!==Object.keys(t).length&&window.open(t.document_url)},getExportIcon(e){let t=this.getExportRecord(e);if(!t||0===Object.keys(t).length)return;let s="";return"FLOW2"==t.export_application&&(s="flow2_icon.svg"),"IDM"==t.export_application&&(s="idm_icon.svg"),"ZUGFERD"==t.export_application&&(s="zugferd-icon.svg"),"PEPPOL"==t.export_application&&(s="peppol-icon.svg"),s},getExportRecord(e){if(!e)return{};let t=zl.Z.getItem("login_source");if(!zl.Z.has("login_source")||null===t)return{};t=t.toLowerCase(),"infor"==t&&(t="idm");let s={};for(const i of e)if(t===i.export_application.toLowerCase()&&i.document_url){s=i;break}return s},viewPurchaseOrder(e,t){null!==t&&("v1"===t&&this.$router.push("/po-matching/"+e),"v3"===t&&this.$router.push("/po-matching-v3/"+e))},downloadFile(e){try{if(!e["doc_path"])return;let s="https://dev.api.docbits.com/resource/"+e["doc_path"]+"?"+this.tokenQueryParam;if(!s)return;var t=document.createElement("a");t.download=e["filename"],t.href=s,document.body.appendChild(t),t.click(),document.body.removeChild(t)}catch(s){}},resetFilters(){this.resetPagination=!0,this.quickFilterMap.clear(),this.applyFilter()},isdownloadZugferd(e){let t=!1;return this.isDocDownloadable(e)?(Di.at.includes(e["status"])&&1==(0,Di.NG)(e["doc_type"])&&1==e["has_zugferd"]&&(t=!0),t):t},downloadZugferd(e){let t="https://dev.api.docbits.com/resource/document/"+e["id"]+"/"+e["id"]+"_zugferd.pdf?"+this.tokenQueryParam;if(t){var s=document.createElement("a");s.download=e["filename"],s.href=t,document.body.appendChild(s),s.click(),document.body.removeChild(s)}},isdownloadPeppol(e){let t=!1;return this.isDocDownloadable(e)?(Di.at.includes(e["status"])&&1==(0,Di.NG)(e["doc_type"])&&1==e["has_peppol"]&&(t=!0),t):t},downloadPeppol(e){let t="https://dev.api.docbits.com/resource/document/"+e["id"]+"/"+e["id"]+"_peppol.xml?"+this.tokenQueryParam;if(t){var s=document.createElement("a");s.download=e["filename"],s.href=t,document.body.appendChild(s),s.click(),document.body.removeChild(s)}},isdownloadAnnotated(e){let t=!1;return this.isDocDownloadable(e)?(1==e["has_annotated_version"]&&(t=!0),t):t},downloadAnnotated(e){let t="https://dev.api.docbits.com/resource/document/"+e["id"]+"/"+e["id"]+"_annotated.pdf?"+this.tokenQueryParam;if(t){var s=document.createElement("a");s.download=e["filename"],s.href=t,document.body.appendChild(s),s.click(),document.body.removeChild(s)}},getErrorInfos(e){return Zl(this,void 0,void 0,(function*(){if("error"!==e["status"])return;let t=yield(0,ye.O_)();const s=yield te().get(ye.hi.get_error_infos,{headers:{Authorization:t},params:{doc_id:e["id"]}});return s["data"]["row"]=e,1===Object.keys(s).length?(this.ErrorText={message:"None"},!1):(this.ErrorText=s["data"],this.ErrorInfos=!0,!0)}))},getQualityInfos(e){return Zl(this,void 0,void 0,(function*(){if("pending_confirmation"==e["status"]){let t=yield(0,ye.O_)();const s=yield te().get(ye.hi.get_error_infos,{headers:{Authorization:t},params:{doc_id:e["id"]}});return s["data"]["row"]=e,1===Object.keys(s).length?(this.QualityText={message:"None"},!1):(this.QualityText=s["data"],this.QualityConfirm=!0,this.docrowID=s["data"]["row"]["id"],!0)}}))},allowDrop(e){e.preventDefault(),e.currentTarget.classList.add("opacity-half")},drop(e){e.preventDefault(),e.currentTarget.classList.remove("opacity-half"),this.uploadFiles(e.dataTransfer.files)},dragLeave(e){e.currentTarget.classList.remove("opacity-half")},uploadFiles(e){try{if(e&&e.length>10)return void this.showErrorToast(this.$t("pages.messages.MAX_DOC_UPLOAD_LIMIT"));const t=new CustomEvent("upload_files",{detail:{files:e}});document.dispatchEvent(t)}catch(t){}},changeAction(){!0===this.headerCheckbox?this.selectAllRows():this.resetAllSelectedRows()},selectAllRows(){this.selectionList=[],this.isMultiDeleteButtonDisabled=!1,this.isMultiRestartButtonDisabled=!1,this.display_data.forEach((e=>{e["rowSelection"]=!0,this.selectionList.push(e.id),!1===this.isMultiDeleteButtonDisabled&&(this.isMultiDeleteButtonDisabled=!this.isDocDeleteable(e)),!1===this.isMultiRestartButtonDisabled&&(this.isMultiRestartButtonDisabled=!this.isDocRestartable(e))}))},resetAllSelectedRows(){this.selectionList=[],this.headerCheckbox=!1,this.isMultiDeleteButtonDisabled=!1,this.isMultiRestartButtonDisabled=!1,this.display_data.forEach((e=>{e["rowSelection"]=!1}))},checkRowExistance(){let e=0;this.selectionList=[],this.headerCheckbox=!1,this.isMultiDeleteButtonDisabled=!1,this.isMultiRestartButtonDisabled=!1,this.display_data.forEach((t=>{!0===t["rowSelection"]&&(e++,this.selectionList.push(t.id),!1===this.isMultiDeleteButtonDisabled&&(this.isMultiDeleteButtonDisabled=!this.isDocDeleteable(t)),!1===this.isMultiRestartButtonDisabled&&(this.isMultiRestartButtonDisabled=!this.isDocRestartable(t)))})),0===e?(this.headerCheckbox=!1,this.isMultiDeleteButtonDisabled=!1,this.isMultiRestartButtonDisabled=!1):this.display_data.length===e?this.headerCheckbox=!0:this.headerCheckbox=null},setRowStyle(e){if(e.hasOwnProperty("export_data_fetched")&&!0===e["export_data_fetched"])return"exported-row"},restartMultipalDocExport(){return Zl(this,void 0,void 0,(function*(){try{this.processing=!0;const e=yield tl.Zj.restartDocuments(this.selectionList.join(","),this.restartExportedInvoices);if(!1===e.success)return void this.showErrorToast(e.data.message);this.headerCheckbox=!1,this.resetAllSelectedRows(),this.refreshDashboard(this.filters_reset_after_restart_setting)}catch(e){return void this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.processing=!1}}))},refreshDashboard(e){return Zl(this,void 0,void 0,(function*(){const t=yield this.getSettingWithExpiry(e);if(t){const e=new CustomEvent("reset_filters",{});return void document.dispatchEvent(e)}const s=new CustomEvent("dashboard_refresh",{});document.dispatchEvent(s)}))},multipleDocAssignment(){this.selectionList&&(this.assignment_doc_ids=this.selectionList,this.assigneDialog=!0)},confirmMerge(){this.selectionList&&this.selectionList.length>2?this.showErrorToast(this.$t("pages.messages.SELECTION_GREATER_THAN_THREE")):this.selectionList&&(this.confirmMergeDialog=!0)},mergeDocuments(){return Zl(this,void 0,void 0,(function*(){try{this.showLoading();const e=yield tl.U0.mergeDocumnet(this.selectionList.toString());if(!1===e.success)return void this.showErrorToast(e.message);yield this.fetchInvoices(!0)}catch(e){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.hideLoading()}}))},deleteMultipalDocument(){return Zl(this,void 0,void 0,(function*(){if(!this.selectionList)return;let e;this.processing=!0;try{let t=new Map;if(t.set("doc_ids",this.selectionList.join(",")),e=yield tl.A.deleteRequest(ye.hi.delete_documents,t),!1===e.success)return void this.showErrorToast(e.data.message);this.selectionList.length,this.display_data.length,this.headerCheckbox=!1,this.resetAllSelectedRows(),this.loadData()}catch(t){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.processing=!1}}))},removeQuickFilter(e){this.quickFilterMap.delete(e),this.applyFilter()},isDocRestartable(e){const t=pe.W1.hasAccess("update",e);if(!t)return!1;const s=String(e["status"]),i=Boolean(e["restart_allowed"]);return!!this.restartExportedInvoices||("ready_for_validation"===s||"error"===s||"export_error"===s||1==i)},isExportErrorRestart(e){const t=pe.W1.hasAccess("update",e);if(!t)return!1;const s=String(e["status"]),i=Boolean(e["restart_allowed"]);return!!this.restartExportedInvoices||("export_error"===s||1==i)},isDocDeleteable(e){const t=pe.W1.hasAccess("delete",e),s=String(e["status"]);return t&&"finished"!=s&&"workflow"!=s&&"running"!=s&&"restart_in_progress"!=s},isDocReassignAble(e){const t=pe.W1.hasAccess("update",e),s=String(e["status"]);return t&&"finished"!=s&&"workflow"!=s&&"running"!=s&&"restart_in_progress"!=s},isDocDownloadable(e){const t=pe.W1.hasAccess("view",e),s=String(e["status"]);return t&&"running"!=s&&"restart_in_progress"!=s},setDisplayDocType(e){const t=this.getDocTypeForDisplay(e),s=this.displayDocType(t);return String(s)},assignmentSuccess(e){this.assigneDialog=!1,this.selectionList&&(this.headerCheckbox=!1,this.resetAllSelectedRows()),this.resetFilters()},renderquality(e){if(!this.user_settings["OCR_PERCENTAGE"]||!this.user_settings["OCR_PERCENTAGE"])return;let t="";if(e.hasOwnProperty("quality")){let s=this.$t("overall");const i=e["quality"];parseInt(e["quality"])<parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=s+' : <FONT COLOR="#AA0500">'+e["quality"]+"</FONT COLOR>"),parseInt(i)==parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=s+' : <FONT COLOR="#ffff00">'+e["quality"]+"</FONT COLOR>"),parseInt(i)>parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=s+' : <FONT COLOR="#00ff00">'+e["quality"]+"</FONT COLOR>")}return t},handleWebSocketResult(e){e&&(this.use_websocket=!0,this.updateDocumentStats(e),this.updateTableData(e))},isStatsUpdated(e){if(this.all_invoices!==e.overview["all-invoices"])return!0},getWebSocketDashboard(){return Zl(this,void 0,void 0,(function*(){try{const e={type:"dashboard",data:{}};let t=this.queryParams;t=t.replace("?","");const s=t.split("&");s.forEach((t=>{t=t.split("="),2===t.length&&(e.data[t[0]]=t[1])})),this.data_status="fetching",this.dashboard_data_flag=!1;const i=yield this.sendMessageToSocket(e.type,e.data);return this.updateDocumentStats(i),this.updateTableData(i),this.processing=!1,!0}catch(e){this.handleWebsocketDelay()}}))},subscribeToDashboardChannel(){this.$route.path},hasPreviewFile(e){return!(!e.hasOwnProperty("preview_file_path")||!e["preview_file_path"])},downloadPreviewFile(e){try{if(!e["preview_file_path"])return;let s="https://dev.api.docbits.com/"+e["preview_file_path"]+"?"+this.tokenQueryParam;if(!s)return;var t=document.createElement("a");t.download=e["filename"],t.href=s,document.body.appendChild(t),t.click(),document.body.removeChild(t)}catch(s){}}},setup(){let e=[];const t=(0,nt.Ln)(),{quickFilterMap:s,all_invoices:i,automatically_processed:o,manually_processed:l,completed:n,in_progress:a,pending:r,validated_pending_approval:d,approved_pending_second_approval:c,error:u,processing:p,visible_columns:h,pagination_size:_,current_invoice_count:m,paginationCount:g}=(0,de.Jk)(t),{getSavedFilters:v,removeSavedFilters:f,saveFilters:w,makeQueryParamFromFilters:b,setDefaultFilters:y,getSavedColumns:k,getOrderBy:x,getColumnLabel:C,getPaginationSize:q}=t,E=(0,nt.VF)(),{user_settings:D}=(0,de.Jk)(E),{getSettingWithExpiry:L,setOrgSettings:F,startSettingsFetch:S}=E,W=(0,nt.b8)(),{dashboard_data:T,isConnected:z,hasError:O,dashboard_data_flag:Z}=(0,de.Jk)(W),{subscribeToChannel:$,unsubscribeToChannel:I,sendMessageByType:U}=W,V=(0,nt.LM)(),{isMediUser:H}=V,R=(0,nt.wX)(),{tokenQueryParam:P}=(0,de.Jk)(R);return R.getTokenQueryParam(),{startSettingsFetch:S,tokenQueryParam:P,isMediUser:H,current_invoice_count:m,dashboard_data_flag:Z,pagination_size:_,getPaginationSize:q,paginationCount:g,websocketHasError:O,sendMessageToSocket:U,isConnected:z,unsubscribeToChannel:I,subscribeToChannel:$,dashboard_data:T,user_settings:D,getSettingWithExpiry:L,visible_columns:h,getColumnLabel:C,processing:p,getOrderBy:x,getSavedColumns:k,setDefaultFilters:y,makeQueryParamFromFilters:b,quickFilterMap:s,saveFilters:w,removeSavedFilters:f,getSavedFilters:v,assignment_doc_ids:(0,he.iH)([]),restartExportedInvoices:(0,he.iH)(!1),model:(0,he.iH)(null),table_columns:(0,he.iH)([]),display_data:(0,he.iH)([]),Popup:re,statusList:e,pageSize:(0,he.iH)(10),skip:(0,he.iH)(1),startfrom:(0,he.iH)(0),resetPagination:!0,queryParams:"?filter=current-month&skip=0",deleteInvoice:(0,he.iH)(!1),recordId:"",resultsCount:(0,he.iH)(0),assigneDialog:(0,he.iH)(!1),ErrorInfos:(0,he.iH)(!1),ErrorText:(0,he.iH)(),QualityConfirm:(0,he.iH)(!1),QualityText:(0,he.iH)(),docrowID:(0,he.iH)(),headerCheckbox:(0,he.iH)(),headerFabIcon:(0,he.iH)(!1),selectionList:(0,he.iH)([]),isMultiDeleteButtonDisabled:(0,he.iH)(!1),isMultiRestartButtonDisabled:(0,he.iH)(!1),showFlow:(0,he.iH)(!1),flow_doc_id:(0,he.iH)(""),use_websocket:(0,he.iH)(!0),show_table_loader:(0,he.iH)(!1),data_status:(0,he.iH)(""),all_invoices:i,automatically_processed:o,manually_processed:l,completed:n,in_progress:a,pending:r,validated_pending_approval:d,approved_pending_second_approval:c,error:u}}});var Il=s(80996),Ul=s(19361),Vl=s(10935),Hl=s(61357);const Rl=(0,ne.Z)($l,[["render",X],["__scopeId","data-v-ec058d3e"]]),Pl=Rl;ut()($l,"components",{QPagination:Il.Z,QSeparator:Ro.Z,QMarkupTable:$o.Z,QCheckbox:xs.Z,QFab:Ul.Z,QFabAction:Vl.Z,QIcon:rt.Z,QTooltip:dt.Z,QBtn:Vt.Z,QDialog:Ss.Z,QCard:fs.Z,QCardSection:ys.Z,QAvatar:Hl.Z,QCardActions:Po.Z}),ut()($l,"directives",{ClosePopup:qs.Z})}}]);