"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[7663],{17663:(t,e,s)=>{s.r(e),s.d(e,{default:()=>P});var r=s(83673),i=s(62323);const o=t=>((0,r.dD)("data-v-5b093086"),t=t(),(0,r.Cn)(),t),a={class:"row q-pl-md q-pr-md highlighted-back"},n={class:"secondary-c-text text-h6"},c=o((()=>(0,r._)("img",{width:"24",src:"back-primary.svg"},null,-1))),d={style:{"vertical-align":"middle","margin-left":"10px","font-size":"20px",cursor:"pointer"}},l={class:"row full-width",style:{"padding-left":"35px"}},h={class:"col-9"},u={class:"full-width"},p=["src"],g={class:"col-3"},_={class:"images-list",style:{"margin-left":"33px","margin-right":"33px"}},m={class:"row q-pl-md q-mt-sm"},f={class:"secondary-c-text text-h6 q-ml-auto"},v={class:"full-width q-ma-sm scroll-area-height"},x=o((()=>(0,r._)("div",{class:"row justify-center q-pl-md q-pr-md q-pt-md"},[(0,r._)("span",{class:"text-red-13 text-h6 text-weight-bold"}," ERROR ")],-1))),w={class:"q-pl-md q-pr-md full-width left-scroll-area-height scrolle-y"},y=o((()=>(0,r._)("div",{class:"text-weight-bold"},"Message: ",-1))),b={class:"tab1"},I=o((()=>(0,r._)("div",{class:"text-weight-bold"},"Exception: ",-1))),k={class:"tab1"},q=o((()=>(0,r._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1)));function E(t,e,s,o,E,D){const R=(0,r.up)("MessageBanner"),C=(0,r.up)("q-icon"),T=(0,r.up)("q-btn"),H=(0,r.up)("q-inner-loading");return(0,r.wg)(),(0,r.iD)(r.HY,null,[t.is_status_not_error?((0,r.wg)(),(0,r.j4)(R,{key:0,message:t.$t("status_updated_from_error"),messageCategoryClass:"error-banner"},null,8,["message"])):(0,r.kq)("",!0),(0,r._)("div",a,[(0,r._)("div",n,[(0,r.Wm)(T,{flat:"",rounded:"","data-cy":"dashboard",color:"primary",to:"/dashboard"},{default:(0,r.w5)((()=>[(0,r.Wm)(C,{class:"text-red-13",size:"sm"},{default:(0,r.w5)((()=>[c])),_:1}),(0,r._)("label",d,(0,i.zw)(t.$t("pages.screen2a.dashboard")),1)])),_:1})])]),(0,r._)("div",l,[(0,r._)("div",h,[(0,r._)("div",u,[(0,r._)("iframe",{src:t.path,title:"Main menu",width:"100%",height:"900px"},null,8,p)])]),(0,r._)("div",g,[(0,r._)("div",_,[(0,r._)("div",m,[(0,r._)("div",f,[t.is_export_error?((0,r.wg)(),(0,r.j4)(T,{key:0,unelevated:"",class:"bg-primary text-white",tabindex:"1",onClick:t.goToFieldValidation,label:t.$t("fields_validation")},null,8,["onClick","label"])):(0,r.kq)("",!0)])]),(0,r._)("div",v,[x,(0,r._)("div",w,[y,(0,r._)("pre",b," "+(0,i.zw)(t.message),1),I,(0,r._)("pre",k," "+(0,i.zw)(t.exception),1)])])])])]),(0,r.Wm)(H,{showing:t.processing},{default:(0,r.w5)((()=>[q])),_:1},8,["showing"])],64)}var D=s(77378),R=s(61959),C=s(80579),T=s(88469),H=s(60727),Z=s(10321),$=function(t,e,s,r){function i(t){return t instanceof s?t:new s((function(e){e(t)}))}return new(s||(s=Promise))((function(s,o){function a(t){try{c(r.next(t))}catch(e){o(e)}}function n(t){try{c(r["throw"](t))}catch(e){o(e)}}function c(t){t.done?s(t.value):i(t.value).then(a,n)}c((r=r.apply(t,e||[])).next())}))};const B=(0,r.aZ)({el:"#app",mixins:[D.Z],components:{MessageBanner:T.Z},mounted(){this.init()},beforeRouteLeave:function(t,e,s){this.resetDocStore(t.fullPath),s()},unmounted:function(){},data(){return{docId:"",filename:""}},methods:{init(){return $(this,void 0,void 0,(function*(){try{this.processing=!0,this.docId=this.$route.params.id,this.path="https://api.docbits.com/resource/document/"+this.docId+"/"+this.docId+".pdf?download=false",this.path,this.getErrorInfos(),yield this.getDocumentById(this.docId),this.checkExportError()}catch(t){}finally{this.processing=!1}}))},getErrorInfos(){return $(this,void 0,void 0,(function*(){const t=yield C.U0.getDocumentError(this.docId);null!==t.message?(this.message=String(t.message),this.exception=t.exception||"",this.exception=String(this.exception)):this.is_status_not_error=!0}))},checkExportError(){"export_error"===this.record.status&&(this.is_export_error=!0)},goToFieldValidation(){return $(this,void 0,void 0,(function*(){if(!this.record||0===Object.keys(this.record).length||!1===this.record.success||!1===this.is_export_error)return;const t=yield C.U0.setDocToReadyForValidation(this.docId);if(!1===t.success)return this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR")),void this.showErrorToast(t.message);this.record.hasOwnProperty("has_layout")&&"true"===String(this.record.has_layout)?this.$router.push("/field_validation_v1/"+this.docId):this.$router.push("/2a/"+this.docId)}))}},setup(){const t=(0,H.H_)(),{record:e,doc_loaded:s,processing:r}=(0,Z.Jk)(t),{getDocumentById:i,saveDocument:o,resetDocStore:a}=t;return{record:e,doc_loaded:s,processing:r,getDocumentById:i,saveDocument:o,resetDocStore:a,path:(0,R.iH)(""),message:(0,R.iH)(""),exception:(0,R.iH)(""),is_status_not_error:(0,R.iH)(!1),is_export_error:(0,R.iH)(!1)}}});var S=s(74260),z=s(2165),O=s(24554),j=s(66941),L=s(7518),M=s.n(L);const F=(0,S.Z)(B,[["render",E],["__scopeId","data-v-5b093086"]]),P=F;M()(B,"components",{QBtn:z.Z,QIcon:O.Z,QInnerLoading:j.Z})}}]);