"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[8679],{98679:(e,t,o)=>{o.r(t),o.d(t,{default:()=>j});var i=o(59835);const l={id:"services",class:"services section-bg"},a={class:"row"},d={class:"col-11",style:{padding:"20px","margin-left":"50px"}};function s(e,t,o,s,n,c){const p=(0,i.up)("DocTypes_Middle");return(0,i.wg)(),(0,i.iD)("section",l,[(0,i._)("div",a,[(0,i._)("div",d,[(0,i.Wm)(p)])])])}var n=o(49990),c=o(60499),p=o(70501),r=o(54170),h=o(86970),u=o(61957);const _={class:"row text-weight-bolder top-row"},m={class:"full-width",style:{"margin-top":"10px"}},y={style:{"text-align":"left",color:"white"}},w={style:{"max-height":"50vh",overflow:"scroll"}},f={style:{width:"100px"}},b=["onClick"],g=["onClick"],k=["onClick"],v=["onClick"];function C(e,t,o,l,a,d){const s=(0,i.up)("q-input"),n=(0,i.up)("q-space"),c=(0,i.up)("DefaultBtn"),p=(0,i.up)("q-checkbox"),r=(0,i.up)("DeleteQfab"),C=(0,i.up)("q-fab"),x=(0,i.up)("q-markup-table"),D=(0,i.up)("EditCreatePopup"),V=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",_,[(0,i.Wm)(s,{style:{width:"40%"},outlined:"",dense:"",debounce:"500",modelValue:e.filter,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.filter=t),e.applyFilter],label:e.$t("name")},null,8,["modelValue","label","onUpdate:modelValue"]),(0,i.Wm)(n),(0,i.Wm)(c,{label:e.$t("doc2light.pages.add"),onClick:t[1]||(t[1]=t=>e.show_doctype_popup=!0)},null,8,["label"])]),(0,i._)("div",m,[(0,i.Wm)(x,{class:"sticky-column-for-table q-table-seperator white-back",style:{"max-height":"70vh","overflow-y":"auto"},flat:"",dense:""},{default:(0,i.w5)((()=>[(0,i._)("thead",null,[(0,i._)("tr",y,[(0,i._)("th",null,[(0,i.Wm)(p,{dark:"",modelValue:e.headerCheckbox,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.headerCheckbox=t),t[3]||(t[3]=t=>e.changeAction())]},null,8,["modelValue"]),(0,i.Wm)(C,{flat:"",modelValue:e.headerFabIcon,"onUpdate:modelValue":t[4]||(t[4]=t=>e.headerFabIcon=t),disable:e.selection.length<1,"label-position":"top","data-cy":"actions","external-label":"",icon:"more_vert",direction:"down",padding:"xs"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{info:e.$t("pages.settings.document_types"),tooltip:e.$t("delete"),function:e.deleteMarked,argument:e.selection},null,8,["info","tooltip","function","argument"])])),_:1},8,["modelValue","disable"])]),(0,i._)("th",null,(0,h.zw)(e.$t("doc2light.table.name")),1),(0,i._)("th",null,(0,h.zw)(e.$t("priority")),1),(0,i._)("th",null,(0,h.zw)(e.$t("doc2light.table.regex_rythm")),1),(0,i._)("th",null,(0,h.zw)(e.$t("doc2light.table.regex")),1)])]),(0,i._)("tbody",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.doctype_list,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t["id"]},[(0,i._)("td",f,[(0,i.Wm)(p,{modelValue:t.rowSelection,"onUpdate:modelValue":[e=>t.rowSelection=e,o=>e.selectionList(t)]},null,8,["modelValue","onUpdate:modelValue"])]),(0,i._)("td",{onClick:o=>e.onEditClick(t.id)},(0,h.zw)(e.replaceEmpty(t["name"])),9,b),(0,i._)("td",{onClick:o=>e.onEditClick(t.id)},(0,h.zw)(e.replaceEmpty(t["priority"])),9,g),(0,i._)("td",{onClick:o=>e.onEditClick(t.id)},(0,h.zw)(e.replaceEmpty(t["method"])),9,k),(0,i._)("td",{onClick:o=>e.onEditClick(t.id)},(0,h.zw)(e.replaceEmpty(t["regex"])),9,v)])))),128))])])),_:1})]),(0,i.Wm)(V,{modelValue:e.show_doctype_popup,"onUpdate:modelValue":t[5]||(t[5]=t=>e.show_doctype_popup=t),onKeydown:t[6]||(t[6]=(0,u.D2)((t=>e.setter()),["esc"]))},{default:(0,i.w5)((()=>[(0,i.Wm)(D,{show:"doctype",mode:"create"})])),_:1},8,["modelValue"]),(0,i.Wm)(V,{modelValue:e.show_edit_doctype_popup,"onUpdate:modelValue":t[7]||(t[7]=t=>e.show_edit_doctype_popup=t),onKeydown:t[8]||(t[8]=(0,u.D2)((t=>e.setter()),["esc"]))},{default:(0,i.w5)((()=>[(0,i.Wm)(D,{show:"doctype",mode:"edit",id:e.doctype_id},null,8,["id"])])),_:1},8,["modelValue"])],64)}var x=o(40469),D=o(7363),V=o(42412),Z=o(26617),H=o(47342),T=function(e,t,o,i){function l(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,a){function d(e){try{n(i.next(e))}catch(t){a(t)}}function s(e){try{n(i["throw"](e))}catch(t){a(t)}}function n(e){e.done?o(e.value):l(e.value).then(d,s)}n((i=i.apply(e,t||[])).next())}))};const W=(0,i.aZ)({data(){return{showIcons:!1,supportURL:"https://dev.cloudintegration.eu/doc2_support"}},mounted(){this.initView()},mixins:[p.Z],components:{EditCreatePopup:Z.Z,DeleteQfab:H.Z,DefaultBtn:V.Z},methods:{setter(){this.show_edit_doctype_popup=!1,this.show_doctype_popup=!1,this.doctype_list=this.apidata.docTypeData.data},replaceEmpty(e){return e||(e="-"),e},initView(){return T(this,void 0,void 0,(function*(){yield this.setDocTypesfromServer(),this.doctype_list=this.apidata.docTypeData.data}))},onEditClick(e){this.doctype_id=e,this.show_edit_doctype_popup=!0},formateDate(e,t){return r.ZP.formatDate(e,t)},handleActions(e){this.doctype_list[e].fabaction,this.doctype_list[e].fabaction},deleteMarked(e){this.showLoading(),e.forEach((e=>T(this,void 0,void 0,(function*(){yield this.delete_doctype(e)})))),this.tag_skip=0,this.hideLoading()},selectionList(e){const t=this.selection.indexOf(e.id);t>-1?(this.selection.splice(t,1),this.doctype_list[e.id].rowSelection=!1,this.selection.length<1&&(this.headerFabIcon=!1)):(this.selection.push(e.id),this.doctype_list[e.id].rowSelection=!0)},applyFilter(){if(""==this.filter)this.doctype_list=this.apidata.docTypeData.data;else{this.doctype_list={};for(const[e,t]of Object.entries(this.apidata.docTypeData.data))t.name.toLowerCase().includes(this.filter.toLowerCase())&&(this.doctype_list[e]=this.apidata.docTypeData.data[e])}},changeAction(){!0===this.headerCheckbox?this.selectAllRows():(this.resetAllSelectedRows(),this.headerFabIcon=!1)},selectAllRows(){this.headerCheckbox=!0;for(const[e,t]of Object.entries(this.doctype_list))this.doctype_list[e].rowSelection=!0,this.selection.push(e)},resetAllSelectedRows(){this.selection=[],this.headerCheckbox=!1;for(const[e,t]of Object.entries(this.doctype_list))this.doctype_list[e].rowSelection=!1}},setup(){const e=(0,x.Wb)(),t=(0,D.Jk)(e),{delete_doctype:o,setDocTypesfromServer:i}=e;return{apidata:(0,c.iH)(t),setDocTypesfromServer:i,delete_doctype:o,filter:(0,c.iH)(""),doctype_list:(0,c.iH)({}),view:(0,c.iH)("list"),show_doctype_popup:(0,c.iH)(!1),show_edit_doctype_popup:(0,c.iH)(!1),doctype_id:(0,c.iH)(),selection:(0,c.iH)([]),headerCheckbox:(0,c.iH)(!1),headerFabIcon:(0,c.iH)(!1),tag_skip:(0,c.iH)(1)}}});var E=o(7683),S=o(13119),Q=o(90136),I=o(66933),U=o(61450),z=o(11221),F=o(19361),$=o(32074),q=o(69984),A=o.n(q);const L=(0,E.Z)(W,[["render",C]]),M=L;A()(W,"components",{QInput:S.Z,QSpace:Q.Z,QMarkupTable:I.Z,QTable:U.Z,QCheckbox:z.Z,QFab:F.Z,QDialog:$.Z});const P=(0,i.aZ)({data(){return{}},components:{DocTypes_Middle:M},mixins:[p.Z,n.Z],methods:{formateDate(e,t){return r.ZP.formatDate(e,t)}},setup(){return{showMenu:(0,c.iH)(!1),showIcons:(0,c.iH)(!0),filter:(0,c.iH)(""),view:(0,c.iH)("list")}}});var R=o(68879);const O=(0,E.Z)(P,[["render",s],["__scopeId","data-v-355af6e3"]]),j=O;A()(P,"components",{QBtn:R.Z})}}]);