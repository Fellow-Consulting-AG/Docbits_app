"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[2955],{2955:(e,o,t)=>{t.r(o),t.d(o,{default:()=>fa});var l=t(61758),i=t(58790);const a=e=>((0,l.Qi)("data-v-3a703bd0"),e=e(),(0,l.jt)(),e),s={class:"row q-pl-md q-pr-md highlighted-back"},r={class:"col-12 q-pa-xs"},n=["innerHTML"],d=a((()=>(0,l.Lk)("img",{width:"20",src:"images/globe.svg",class:"black_to_white"},null,-1))),m={class:"row q-pl-md q-pr-md"},c={class:"col-xs-12 col-sm-2 col-md-2 col-lg-2 q-pt-sm"},u={class:"full-width scroll-area-height-form-builder scrolle-y"},h={class:"full-width",style:{position:"relative"}},p={class:"col-xs-12 col-sm-10 col-md-10 col-lg-10 padding-8-0-8-8"},f={class:"full-width"},g={class:"full-width"},_={class:"p-t-b-6 highlighted-back image_control_panel"},v={class:"row"},b={class:"panel-right col-sm-12 col-md-12 col-lg-12 pl-10"},y={key:0,class:"row form-builder-image-container",id:"image_scrolle"},C={class:"image_container overflow-scroll",id:"image_container",style:{position:"relative"}},k={class:"max-width-80 q-pl-sm q-pr-sm"},w={class:"justify-center form-builder-image-container"},F=["data-id","onClick","src"],T={key:1,class:"full-width full-height"},B={key:0,class:"p-t-b-6 image_control_panel highlighted-back"},L={class:"row"},M={class:"panel-right col-sm-12 col-md-12 col-lg-12 pl-10"},I={class:"row"},x={class:"col-sm-12 col-md-12 col-lg-12"},E={class:"row"},A={class:"col-sm-12 col-md-12 col-lg-12"},N=a((()=>(0,l.Lk)("div",{class:"col-sm-12 col-md-12 col-lg-12 text-red-5 height-20 q-pl-md"},null,-1))),O={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"};function V(e,o,t,a,V,S){const P=(0,l.g2)("SubHeader"),U=(0,l.g2)("f-btn"),X=(0,l.g2)("AutoGenerateDefaultLayout"),R=(0,l.g2)("q-item-label"),q=(0,l.g2)("q-tooltip"),$=(0,l.g2)("q-item-section"),D=(0,l.g2)("q-item"),Q=(0,l.g2)("q-icon"),z=(0,l.g2)("q-select"),W=(0,l.g2)("q-tab"),J=(0,l.g2)("q-tabs"),H=(0,l.g2)("q-separator"),K=(0,l.g2)("DefaultGroups"),G=(0,l.g2)("q-expansion-item"),Y=(0,l.g2)("DefaultElements"),j=(0,l.g2)("Elements"),Z=(0,l.g2)("q-tab-panel"),ee=(0,l.g2)("Properties"),oe=(0,l.g2)("GeneralSettings"),te=(0,l.g2)("q-tab-panels"),le=(0,l.g2)("FieldsDesigner"),ie=(0,l.g2)("ImageComponent"),ae=(0,l.g2)("import-pdf"),se=(0,l.g2)("q-toggle"),re=(0,l.g2)("q-splitter"),ne=(0,l.g2)("q-toolbar-title"),de=(0,l.g2)("q-btn"),me=(0,l.g2)("q-toolbar"),ce=(0,l.g2)("LayoutJsonEditor"),ue=(0,l.g2)("q-form"),he=(0,l.g2)("q-card-section"),pe=(0,l.g2)("q-card"),fe=(0,l.g2)("q-dialog"),ge=(0,l.g2)("Loader"),_e=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(P,{name:"layout_builder_module",label:e.$t("layout_builder_module"),show_expiry_alert:!0,onSearch:!1},null,8,["label"]),(0,l.Lk)("div",s,[(0,l.Lk)("div",r,[(0,l.bF)(U,{label:e.$t("copy_json"),class:"float-right",icon:"content_copy",onClick:o[0]||(o[0]=o=>e.copyTemplate())},null,8,["label"]),(0,l.bF)(U,{label:e.$t("edit_json"),class:"float-right q-mr-md",icon:"visibility",onClick:o[1]||(o[1]=o=>e.openJsonForm())},null,8,["label"]),(0,l.bF)(U,{label:e.$t("use_default_template"),class:"float-right q-mr-md",onClick:o[2]||(o[2]=o=>e.restoreDefaults())},null,8,["label"]),(0,l.bF)(X),(0,l.bF)(z,{outlined:"",dense:"",class:"language-select float-right q-mr-md width-200",modelValue:e.language_origin,"onUpdate:modelValue":[o[3]||(o[3]=o=>e.language_origin=o),o[4]||(o[4]=o=>e.createTemplateAccordingToOrigin())],options:e.language_origin_list,"emit-value":"","map-options":""},{option:(0,l.k6)((e=>[(0,l.bF)(D,(0,i._B)((0,l.Ng)(e.itemProps)),{default:(0,l.k6)((()=>[(0,l.bF)($,null,{default:(0,l.k6)((()=>[(0,l.bF)(R,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.opt.label),1)])),_:2},1024),e.opt.description?((0,l.uX)(),(0,l.Wv)(q,{key:0},{default:(0,l.k6)((()=>[(0,l.Lk)("span",{innerHTML:e.opt.description},null,8,n)])),_:2},1024)):(0,l.Q3)("",!0)])),_:2},1024)])),_:2},1040)])),prepend:(0,l.k6)((()=>[(0,l.bF)(Q,{flat:"",dense:"",color:"primary"},{default:(0,l.k6)((()=>[d])),_:1})])),_:1},8,["modelValue","options"])])]),(0,l.Lk)("div",m,[(0,l.Lk)("div",c,[(0,l.Lk)("div",u,[(0,l.Lk)("div",h,[(0,l.bF)(J,{modelValue:e.activeTab,"onUpdate:modelValue":o[5]||(o[5]=o=>e.activeTab=o),dense:"","active-class":"highlighted-back","indicator-color":"primary","active-color":"primary",align:"justify"},{default:(0,l.k6)((()=>[(0,l.bF)(W,{name:"general_settings",class:"no-padding-left-right",icon:"settings"}),(0,l.bF)(W,{name:"form_elements",label:e.$t("form_builder.elements")},null,8,["label"]),(0,l.bF)(W,{name:"element_properties",label:e.$t("form_builder.properties")},null,8,["label"])])),_:1},8,["modelValue"]),(0,l.bF)(H),(0,l.bF)(te,{modelValue:e.activeTab,"onUpdate:modelValue":o[6]||(o[6]=o=>e.activeTab=o),animated:""},{default:(0,l.k6)((()=>[(0,l.bF)(Z,{name:"form_elements"},{default:(0,l.k6)((()=>[(0,l.bF)(G,{"expand-separator":"","default-opened":"",label:e.$t("groups"),group:"fieldsGroup","header-class":"text-weight-bold rounded-borders solid-border-1px q-mt-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(K)])),_:1},8,["label"]),(0,l.bF)(G,{"expand-separator":"",label:e.$t("fields"),group:"fieldsGroup","header-class":"text-weight-bold rounded-borders solid-border-1px q-mt-sm",class:"q-mb-sm"},{default:(0,l.k6)((()=>[(0,l.bF)(Y)])),_:1},8,["label"]),(0,l.bF)(G,{"expand-separator":"",label:e.$t("form_builder.form_elements"),group:"fieldsGroup","header-class":"text-weight-bold rounded-borders solid-border-1px"},{default:(0,l.k6)((()=>[e.renderComponent?((0,l.uX)(),(0,l.Wv)(j,{key:e.keyToUpdateComponnets})):(0,l.Q3)("",!0)])),_:1},8,["label"]),(0,l.bF)(H)])),_:1}),(0,l.bF)(Z,{name:"element_properties"},{default:(0,l.k6)((()=>[e.renderComponent?((0,l.uX)(),(0,l.Wv)(ee,{key:e.keyToUpdateComponnets})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(Z,{name:"general_settings"},{default:(0,l.k6)((()=>[(0,l.bF)(oe)])),_:1})])),_:1},8,["modelValue"])])])]),(0,l.Lk)("div",p,[(0,l.bF)(re,{limits:[30,95],modelValue:e.formSplitterModel,"onUpdate:modelValue":[o[10]||(o[10]=o=>e.formSplitterModel=o),e.loadImageDetails],class:"scroll-area-height-form-builder"},{before:(0,l.k6)((()=>[(0,l.Lk)("div",f,[(0,l.bF)(le,{isPanelSection:!1,onClearCanvas:e.clearCanvas,onSaveTemplate:e.saveTemplate,onShowConnectionFromField:e.showConnectionFromField,onMarkTableColumns:e.markTableColumns},null,8,["onClearCanvas","onSaveTemplate","onShowConnectionFromField","onMarkTableColumns"])])])),after:(0,l.k6)((()=>[(0,l.Lk)("div",g,[(0,l.bF)(re,{limits:[30,94],disable:!e.isExtenedPanel,modelValue:e.splitterModel,"onUpdate:modelValue":o[9]||(o[9]=o=>e.splitterModel=o),horizontal:"","separator-class":"bg-black",class:"scroll-area-height-form-builder","before-class":"handle-scroll"},{before:(0,l.k6)((()=>[(0,l.Lk)("div",_,[(0,l.Lk)("div",v,[(0,l.Lk)("div",b,[(0,l.bF)(Q,{name:"img:images/zoom_in.svg",size:"24px",class:"q-mr-sm cursor-pointer",onClick:e.zoomIn},{default:(0,l.k6)((()=>[(0,l.bF)(q,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("zoom_in")),1)])),_:1})])),_:1},8,["onClick"]),(0,l.bF)(Q,{name:"img:images/zoom_out.svg",size:"24px",class:"q-mr-sm cursor-pointer",onClick:e.zoomOut},{default:(0,l.k6)((()=>[(0,l.bF)(q,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("zoom_out")),1)])),_:1})])),_:1},8,["onClick"]),(0,l.bF)(Q,{name:"img:settings/export.svg",size:"24px",class:"q-mr-sm cursor-pointer right",onClick:o[7]||(o[7]=o=>e.showImages=!1)},{default:(0,l.k6)((()=>[(0,l.bF)(q,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("upload")),1)])),_:1})])),_:1})])])]),e.showImages?((0,l.uX)(),(0,l.CE)("div",y,[(0,l.Lk)("div",C,[e.formLayoutImages?((0,l.uX)(),(0,l.Wv)(ie,{key:0,"pos-correction":!1,width:e.imageWidth,cropUrl:e.baseUrl+"/"+e.formLayoutImages[e.imageIndex].path+"?"+e.keyImageChange+"&"+e.tokenQueryParam,markedAreasStr:e.markedAreasStr,connectionId:e.connectionId,allowMultiSelection:e.allowMultiSelection,onRestrictDrawing:e.restrictDrawing},null,8,["width","cropUrl","markedAreasStr","connectionId","allowMultiSelection","onRestrictDrawing"])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",k,[(0,l.Lk)("div",w,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.formLayoutImages,((o,t)=>((0,l.uX)(),(0,l.CE)("img",{"data-id":t,onClick:o=>e.loadImage(t,!1),class:(0,i.C4)([t===e.imageIndex?"active":"","cursor-pointer q-ma-sm shadow-2 solid-border-1px"]),key:t,src:e.baseUrl+"/"+o.path+"?"+e.keyImageChange+"&"+e.tokenQueryParam,width:"50",draggable:"false"},null,10,F)))),128))])])])):(0,l.Q3)("",!0),e.showImages?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",T,[(0,l.bF)(ae,{onSaveTemplate:e.saveTemplate,onLoadImage:e.loadImage},null,8,["onSaveTemplate","onLoadImage"])]))])),after:(0,l.k6)((()=>[e.isExtenedPanel?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",B,[(0,l.Lk)("div",L,[(0,l.Lk)("div",M,[(0,l.bF)(se,{size:"24px",modelValue:e.isExtenedPanel,"onUpdate:modelValue":o[8]||(o[8]=o=>e.isExtenedPanel=o),class:"float-right"},{default:(0,l.k6)((()=>[(0,l.bF)(q,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("activate")),1)])),_:1})])),_:1},8,["modelValue"])])])])),e.isExtenedPanel&&e.showPanel?((0,l.uX)(),(0,l.Wv)(le,{key:1,isPanelSection:!0,onClearCanvas:e.clearCanvas,onSaveTemplate:e.saveTemplate,onShowConnectionFromField:e.showConnectionFromField,onMarkTableColumns:e.markTableColumns},null,8,["onClearCanvas","onSaveTemplate","onShowConnectionFromField","onMarkTableColumns"])):(0,l.Q3)("",!0)])),_:1},8,["disable","modelValue"])])])),_:1},8,["modelValue","onUpdate:modelValue"])])]),(0,l.bF)(fe,{modelValue:e.showJsonForm,"onUpdate:modelValue":o[13]||(o[13]=o=>e.showJsonForm=o)},{default:(0,l.k6)((()=>[(0,l.bF)(pe,{class:"width-800"},{default:(0,l.k6)((()=>[(0,l.bF)(me,{class:"secondary-toolbar text-white"},{default:(0,l.k6)((()=>[(0,l.bF)(ne,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("edit_json")),1)])),_:1}),(0,l.bo)((0,l.bF)(de,{flat:"",round:"",dense:"",icon:"close"},null,512),[[_e]])])),_:1}),(0,l.bF)(he,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",I,[(0,l.Lk)("div",x,[(0,l.Lk)("div",E,[(0,l.bF)(ue,{class:"full-width"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",A,[(0,l.bF)(ce,{ref:"layoutJsonEditor",jsonData:e.formLayout},null,8,["jsonData"])]),N,(0,l.Lk)("div",O,[(0,l.bo)((0,l.bF)(de,{label:e.$t("pages.user.save"),onClick:o[11]||(o[11]=o=>e.savePastedJson()),color:"primary",icon:"done"},null,8,["label"]),[[_e]]),(0,l.bF)(de,{outline:"",color:"primary",label:"Copy Json",class:"float-right",icon:"content_copy",onClick:o[12]||(o[12]=o=>e.copyTemplate())})])])),_:1})])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)(ge)],64)}var S=t(92162),P=t(1659),U=t(24622);const X={class:"full-width full-height q-pa-lg"},R={class:""},q=(0,l.Lk)("img",{src:"settings/export.svg",width:"100","aria-hidden":"true"},null,-1),$={style:{padding:"20px"}},D={class:"text-white"};function Q(e,o,t,a,s,r){const n=(0,l.g2)("q-icon"),d=(0,l.g2)("q-tooltip"),m=(0,l.g2)("q-file");return(0,l.uX)(),(0,l.CE)("div",X,[(0,l.Lk)("div",{class:"drag-area text-center full-width full-height dashed-border-2px",style:{padding:"20px"},onDrop:o[1]||(o[1]=(...o)=>e.drop&&e.drop(...o)),onDragover:o[2]||(o[2]=(...o)=>e.allowDrop&&e.allowDrop(...o)),onDragleave:o[3]||(o[3]=(...o)=>e.dragLeave&&e.dragLeave(...o))},[(0,l.Lk)("div",R,[q,(0,l.Lk)("div",$,(0,i.v_)(e.$t("pages.land.dragndrop")),1),(0,l.bF)(m,{style:{width:"200px !important",margin:"auto","white-space":"nowrap"},color:"white","data-cy":"upload-multiple-docs","label-color":"white","bg-color":"primary",filled:"","onUpdate:modelValue":[e.uploadFile,o[0]||(o[0]=o=>e.uploadedFiles=o)],modelValue:e.uploadedFiles,label:e.$t("pages.land.upload")},{prepend:(0,l.k6)((()=>[(0,l.bF)(n,{name:"attachment",color:"white"})])),file:(0,l.k6)((({index:e,file:o})=>[(0,l.Lk)("div",D,(0,i.v_)(o.name),1),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(o.name),1)])),_:2},1024),(0,l.Q3)("",!0)])),_:1},8,["onUpdate:modelValue","modelValue","label"])])],32)])}var z=t(82303),W=t(38734),J=t(18505),H=t(83319),K=t(46162),G=t(85487),Y=function(e,o,t,l){function i(e){return e instanceof t?e:new t((function(o){o(e)}))}return new(t||(t=Promise))((function(t,a){function s(e){try{n(l.next(e))}catch(o){a(o)}}function r(e){try{n(l["throw"](e))}catch(o){a(o)}}function n(e){e.done?t(e.value):i(e.value).then(s,r)}n((l=l.apply(e,o||[])).next())}))};const j=(0,l.pM)({el:"#app",mixins:[J.A,U.A],emits:["saveTemplate","loadImage"],props:["showSpinner"],data(){return{}},methods:{uploadFile(e){this.uploadedFiles=e;let o=this.uploadedFiles;o||this.showErrorToast(this.$t("pages.messages.NO_FILE_SELECTED")),this.uploadFilee(o)},allowDrop(e){e.preventDefault(),e.currentTarget.classList.add("bg-grey-5"),e.currentTarget.classList.add("bd-shadow")},drop(e){e.preventDefault(),e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow"),this.uploadFilee(e.dataTransfer.files[0])},dragLeave(e){e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow")},uploadFilee(e){return Y(this,void 0,void 0,(function*(){if(this.uploadedFiles=null,"application/pdf"!==e.type)return void this.showErrorToast(this.$t("pages.messages.ONLY_PDF_ALLOWED"));this.showLoading();let o=this.$route.params.id;o||this.showErrorToast("Template Id is mandatory");let t,l=new FormData;l.append("id",o),l.append("file",e),l.append("org_id",(0,G.I)());try{let e=yield(0,K.L3)();t=yield z.A.post(K.FH.upload_template_sample,l,{headers:{"Content-Type":"multipart/form-data",Authorization:e}})}catch(i){return this.hideLoading(),void this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.hideLoading()}this.formLayoutImages=[],this.formLayoutImages=t.data.images,this.proximityTokens=t.data.proximity_tokens,this.showImages=!0,this.$emit("loadImage",0,!0),this.$emit("saveTemplate",!0)}))}},setup(){const e=(0,H.uL)(),{showImages:o,formLayoutImages:t,proximityTokens:l}=(0,P.bP)(e);return{showImages:o,proximityTokens:l,formLayoutImages:t,uploadedFiles:(0,W.KR)(null)}}});var Z=t(12807),ee=t(56384),oe=t(99980),te=t(50492),le=t(97410),ie=t(98582),ae=t.n(ie);const se=(0,Z.A)(j,[["render",Q]]),re=se;ae()(j,"components",{QBtn:ee.A,QFile:oe.A,QIcon:te.A,QTooltip:le.A});const ne={class:"p-t-b-6 image_control_panel highlighted-back"},de={class:"row"},me={class:"panel-right col-sm-12 col-md-12 col-lg-12 pl-10"},ce=["id"],ue={class:"full-width"},he=["id"],pe={class:"q-pt-sm q-pb-sm"},fe={key:0,class:"row cursor-move"},ge={class:"col-sm-8 col-md-8 col-lg-8 q-pr-sm"},_e={class:"col-sm-4 col-md-4 col-lg-4"},ve={key:1,class:"row float-right display-contents"},be={key:0,class:"full-width meta"},ye=["onClick"],Ce={key:1,class:"full-width q-pa-xs height-24"},ke={class:"row"},we={class:"col-sm-12 col-md-12 col-lg-12"},Fe={class:"row"},Te={class:"col-sm-12 col-md-12 col-lg-12"},Be={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"};function Le(e,o,t,a,s,r){const n=(0,l.g2)("q-tooltip"),d=(0,l.g2)("q-icon"),m=(0,l.g2)("q-toggle"),c=(0,l.g2)("q-input"),u=(0,l.g2)("q-btn"),h=(0,l.g2)("draggable"),p=(0,l.g2)("q-toolbar-title"),f=(0,l.g2)("q-toolbar"),g=(0,l.g2)("LayoutJsonEditor"),_=(0,l.g2)("q-card-section"),v=(0,l.g2)("q-card"),b=(0,l.g2)("q-dialog"),y=(0,l.gN)("close-popup");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",ne,[(0,l.Lk)("div",de,[(0,l.Lk)("div",me,[(0,l.bF)(d,{name:"add_circle_outline",size:"24px",class:"float-left q-mr-sm cursor-pointer",onClick:o[0]||(o[0]=o=>e.addGroup())},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("create_group")),1)])),_:1})])),_:1}),e.isPanelSection?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(d,{key:0,name:"design_services",size:"24px",class:"float-left q-mr-sm cursor-pointer",onClick:o[1]||(o[1]=o=>e.showJsonForm=!0)},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("create_group_by_json")),1)])),_:1})])),_:1})),e.isPanelSection?((0,l.uX)(),(0,l.Wv)(m,{key:1,size:"24px",modelValue:e.isExtenedPanel,"onUpdate:modelValue":o[2]||(o[2]=o=>e.isExtenedPanel=o),class:"float-right"},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("deactivate")),1)])),_:1})])),_:1},8,["modelValue"])):(0,l.Q3)("",!0),(0,l.bF)(d,{name:"img:images/save.svg",size:"24px",class:"float-right q-mr-sm cursor-pointer",onClick:o[3]||(o[3]=o=>e.$emit("saveTemplate",!0))},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("save")),1)])),_:1})])),_:1})])])]),((0,l.uX)(),(0,l.CE)("div",{key:e.reRenderGroupForm,ref:"fieldsContainer",class:(0,i.C4)(e.isPanelSection?"":"form-builder-middle-section-height scrolle-y"),id:e.isPanelSection?"field_scrolle_2":"field_scrolle"},[(0,l.Lk)("div",ue,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.formLayout,((o,t)=>((0,l.uX)(),(0,l.CE)(l.FK,{key:`div-${t}`},[o.is_panel_section_group===e.isPanelSection?((0,l.uX)(),(0,l.CE)("div",{key:0,id:`div-${t}`,class:(0,i.C4)(["section-block dashed-border q-mb-md q-pa-sm display-inline-block",e.getElementBorder(o)]),style:(0,i.Tr)("width:"+e.getElementWidth(o)+"%")},[(0,l.Lk)("div",pe,[e.isPanelSection?((0,l.uX)(),(0,l.CE)("div",ve,[(0,l.bF)(u,{outline:"",round:"",size:"sm",color:"primary",icon:"settings",class:"h-m-5",onClick:t=>e.inputClicked(o.name)},null,8,["onClick"]),(0,l.bF)(u,{outline:"",round:"",size:"sm",color:"red-5",icon:"delete",class:"h-m-5 float-right",onClick:o=>e.deleteSection(t)},null,8,["onClick"])])):((0,l.uX)(),(0,l.CE)("div",fe,[(0,l.Lk)("div",ge,[(0,l.bF)(c,{outlined:"",dense:"",modelValue:o.title,"onUpdate:modelValue":e=>o.title=e,label:e.$t("group_title"),onClick:t=>e.inputClicked(o.name)},null,8,["modelValue","onUpdate:modelValue","label","onClick"])]),(0,l.Lk)("div",_e,[(0,l.bF)(u,{outline:"",round:"",size:"sm",color:"red-5",icon:"delete",class:"h-m-5 float-right",onClick:o=>e.deleteSection(t)},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("delete_group")),1)])),_:1})])),_:2},1032,["onClick"]),(0,l.bF)(u,{outline:"",round:"",size:"sm",color:"primary",icon:"move_up",class:"h-m-5 float-right",onClick:o=>e.moveGroupUp(o,t)},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("move_up")),1)])),_:1})])),_:2},1032,["onClick"]),(0,l.bF)(u,{outline:"",round:"",size:"sm",color:"primary",icon:"move_down",class:"h-m-5 float-right",onClick:o=>e.moveGroupDown(o,t)},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("move_down")),1)])),_:1})])),_:2},1032,["onClick"]),(0,l.bF)(u,{outline:"",round:"",size:"sm",color:"primary",icon:"content_copy",class:"h-m-5 float-right",onClick:o=>e.copyGroupJson(o,t)},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("copy_group_json")),1)])),_:1})])),_:2},1032,["onClick"])])]))]),e.isDefaultFieldLoaded?((0,l.uX)(),(0,l.CE)("div",be,[(0,l.bF)(h,{modelValue:o.rows,"onUpdate:modelValue":e=>o.rows=e,class:"dragArea","item-key":"name",group:{name:"formbuilder",pull:!0,put:!0},sort:!0,"ghost-class":"sortable__ghost",onChange:o=>e.itemAdded(o,t)},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.rows,((o,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,onClick:t=>e.inputClicked(o.name),class:(0,i.C4)(["element_parent q-pa-sm cursor-move",(o.name==e.activeFieldName?"is--active  dashed-border":" ")+(e.isPanelSection?" ":" display-block")+(o.tr_ocr_model_id?" text-primary ":" ")]),style:(0,i.Tr)("width:"+e.getElementWidth(o)+"%")},[e.renderComponent?((0,l.uX)(),(0,l.Wv)((0,l.$y)(o.fieldType),{key:0,currentField:o,isReadOnly:!1,fieldName:o.name,groupIndex:t,itemIndex:a,onItemAdded:e.itemAdded,onRemoveField:e.removeField,onInputClicked:e.inputClicked,onInputValueChanges:e.inputValueChanges,onUpdateModel:e.updateModel,onApplyFuzzySearch:e.applyFuzzySearch,onMarkTableColumns:e.markTableColumns},null,40,["currentField","fieldName","groupIndex","itemIndex","onItemAdded","onRemoveField","onInputClicked","onInputValueChanges","onUpdateModel","onApplyFuzzySearch","onMarkTableColumns"])):(0,l.Q3)("",!0),o.name===e.activeFieldName?((0,l.uX)(),(0,l.CE)("div",Ce,[o.fieldType===e.TABLE_OF_CHECKBOXES?((0,l.uX)(),(0,l.Wv)(u,{key:0,round:"",color:"primary",icon:"table_rows",size:"xs",class:"h-m-5",onClick:t=>e.addTableRow(o.name)},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("add_row")),1)])),_:1})])),_:2},1032,["onClick"])):(0,l.Q3)("",!0),(o.fieldType,e.TABLE_OF_CHECKBOXES,(0,l.Q3)("",!0)),(0,l.bF)(u,{round:"",color:"primary",icon:"delete",size:"xs",class:"float-right delete-ele",onClick:o=>e.removeField(o,t)},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("delete")),1)])),_:1})])),_:2},1032,["onClick"])])):(0,l.Q3)("",!0)],14,ye)))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):(0,l.Q3)("",!0)],14,he)):(0,l.Q3)("",!0)],64)))),128))])],10,ce)),(0,l.bF)(b,{modelValue:e.showJsonForm,"onUpdate:modelValue":o[5]||(o[5]=o=>e.showJsonForm=o)},{default:(0,l.k6)((()=>[(0,l.bF)(v,{class:"width-800"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{class:"secondary-toolbar text-white"},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("edit_json")),1)])),_:1}),(0,l.bo)((0,l.bF)(u,{flat:"",round:"",dense:"",icon:"close"},null,512),[[y]])])),_:1}),(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",ke,[(0,l.Lk)("div",we,[(0,l.Lk)("div",Fe,[(0,l.Lk)("div",Te,[(0,l.bF)(g,{ref:"layoutJsonEditor",jsonData:{}},null,512)]),(0,l.Lk)("div",Be,[(0,l.bo)((0,l.bF)(u,{label:e.$t("save"),onClick:o[4]||(o[4]=o=>e.savePastedJson()),color:"primary",icon:"done"},null,8,["label"]),[[y]])])])])])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var Me=t(85192),Ie=t(78652),xe=t(39231),Ee=t(18783);const Ae={class:"sub-group-area"},Ne={key:0,class:"full-width text-weight-medium text-primary"},Oe={class:"full-width"},Ve=["onClick"],Se={key:1,class:"full-width q-pa-xs height-24"};function Pe(e,o,t,a,s,r){const n=(0,l.g2)("q-tooltip"),d=(0,l.g2)("q-btn"),m=(0,l.g2)("draggable");return(0,l.uX)(),(0,l.CE)("div",Ae,[e.formBuilderConfigModel[e.fieldName]?((0,l.uX)(),(0,l.CE)("div",Ne," #"+(0,i.v_)(e.formBuilderConfigModel[e.fieldName].label),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",Oe,[(0,l.bF)(m,{modelValue:e.formLayout[e.groupIndex].rows[e.itemIndex].rows,"onUpdate:modelValue":o[1]||(o[1]=o=>e.formLayout[e.groupIndex].rows[e.itemIndex].rows=o),class:"sub-group-drag-area","item-key":"name",group:{name:"sub-group",pull:!0,put:!0},sort:!0,"ghost-class":"sortable__ghost",onChange:o[2]||(o[2]=o=>e.itemAdded(o,e.groupIndex))},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.formLayout[e.groupIndex].rows[e.itemIndex].rows,((t,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,onClick:o=>e.htmlElementClicked(o,t.name),class:(0,i.C4)(["element_parent q-pa-sm cursor-move",(t.name==e.activeFieldName?"is--active  dashed-border":" ")+(e.isPanelSection?" ":" display-block")+(t.tr_ocr_model_id?" text-primary ":" ")]),style:(0,i.Tr)("width:"+e.getElementWidth(t)+"%")},[e.renderComponent?((0,l.uX)(),(0,l.Wv)((0,l.$y)(t.fieldType),{key:0,currentField:t,isReadOnly:!1,fieldName:t.name,groupIndex:e.groupIndex,itemIndex:a,onInputClicked:e.inputClicked,onInputValueChanges:e.inputValueChanges,onUpdateModel:e.updateModel,onApplyFuzzySearch:e.applyFuzzySearch},null,40,["currentField","fieldName","groupIndex","itemIndex","onInputClicked","onInputValueChanges","onUpdateModel","onApplyFuzzySearch"])):(0,l.Q3)("",!0),t.name===e.activeFieldName?((0,l.uX)(),(0,l.CE)("div",Se,[(0,l.bF)(d,{round:"",color:"primary",icon:"delete",size:"xs",class:"float-right delete-ele",onClick:o[0]||(o[0]=o=>{e.$emit("removeField",o,e.groupIndex,e.itemIndex)})},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("delete")),1)])),_:1})])),_:1})])):(0,l.Q3)("",!0)],14,Ve)))),128))])),_:1},8,["modelValue"])])])}var Ue=t(13912),Xe=t(37673),Re=t(46032),qe=t(16028),$e=t(21529),De=t(52544),Qe=t(80747),ze=t(76093),We=t(18509),Je=t(55184),He=t(12397),Ke=t(68220),Ge=t(35519),Ye=t(34835),je=t(85203),Ze=t(46186),eo=t(34631),oo=t(89977);const to=(0,l.pM)({el:"fields_designer",mixins:[J.A,U.A],emits:["inputClicked","inputValueChanges","updateModel","applyFuzzySearch","itemAdded","removeField"],props:{isPanelSection:{type:Boolean,default:!1},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,default:0},itemIndex:{type:Number,default:0},currentField:{type:Object,default:new Object}},data(){return{}},components:{Label:Ee.A,CheckBox:Ue.A,TextInput:Re.A,EnumInput:qe.A,ExportButton:Xe.A,MultiCheckBox:$e.A,LineItemTable:Ke.A,PoMatchButton:De.A,InvoiceButtons:je.A,RejectDocument:We.A,SaveRulesButton:ze.A,TableOfCheckboxes:Ge.A,AmountButtonsPanel:Qe.A,HorizontalSeparator:Ye.A,AutoAccountingButton:Je.A,QRCodeExtractedFields:Ze.A,ExportWithoutValidation:He.A,ExtractedTableTabPanels:oo.A,AditionalAmountButtonsPanel:eo.A,draggable:xe.H},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{htmlElementClicked(e,o){e.stopPropagation(),this.inputClicked(o)},inputClicked(e){this.$emit("inputClicked",e)},inputValueChanges(e,o){this.$emit("inputValueChanges",e,o)},updateModel(e,o=!1){this.$emit("updateModel",e,o)},applyFuzzySearch(e){this.$emit("applyFuzzySearch",e)},itemAdded(e,o){this.$emit("itemAdded",e,o)}},setup(){const e=(0,H.uL)(),{formLayout:o,activeFieldName:t,renderComponent:l,formBuilderConfigModel:i,isFormBuilderMode:a}=(0,P.bP)(e),{getElementWidth:s}=e;return{formLayout:o,activeFieldName:t,renderComponent:l,isFormBuilderMode:a,formBuilderConfigModel:i,getElementWidth:s}}}),lo=(0,Z.A)(to,[["render",Pe],["__scopeId","data-v-f3a953d2"]]),io=lo;ae()(to,"components",{QBtn:ee.A,QTooltip:le.A});const ao={ref:"editor",style:{height:"500px",width:"100%"}};function so(e,o,t,i,a,s){return(0,l.uX)(),(0,l.CE)("div",ao,null,512)}var ro=t(26831),no=t.n(ro);t(69896),t(33422);no().config.setModuleUrl("ace/mode/json_worker","https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.14/worker-json.js");const mo=(0,l.pM)({name:"layout-json-editor",props:{jsonData:{type:Object,required:!0}},data(){return{formattedJson:(0,W.KR)(""),editorInstance:null}},mounted(){this.prepareJsonToDisplay(),this.initializeEditor()},beforeUnmount(){this.editorInstance&&this.editorInstance.destroy()},methods:{initializeEditor(){this.$refs.editor&&(this.editorInstance=no().edit(this.$refs.editor,{mode:"ace/mode/json",theme:"ace/theme/monokai",value:this.formattedJson,wrap:!0}),this.editorInstance.on("paste",(()=>{setTimeout((()=>{this.beautifyJson()}),100)})))},beautifyJson(){const e=this.getJson();try{if(!e)return;const o=JSON.parse(e),t=JSON.stringify(o,null,4);this.formattedJson=t,this.editorInstance.setValue(t,-1)}catch(o){logError(o)}},prepareJsonToDisplay(){this.formattedJson=JSON.stringify(this.jsonData,null,4)},getJson(){return this.editorInstance?this.editorInstance.getValue():""}},setup(){return{}}}),co=(0,Z.A)(mo,[["render",so]]),uo=co;var ho=t(76956),po=t(73855),fo=t(4225);const go=(0,l.pM)({el:"fields_designer",mixins:[J.A,U.A],emits:["showConnectionFromField","saveTemplate","markTableColumns","clearCanvas"],props:{isPanelSection:{type:Boolean,default:!1}},data(){return{showJsonForm:(0,W.KR)(!1),SUB_GROUP:fo.VV.SUB_GROUP,TABLE_OF_CHECKBOXES:fo.VV.TABLE_OF_CHECKBOXES}},components:{Label:Ee.A,SubGroup:io,CheckBox:Ue.A,TextInput:Re.A,EnumInput:qe.A,ExportButton:Xe.A,MultiCheckBox:$e.A,LineItemTable:Ke.A,TableOfCheckboxes:Ge.A,AmountButtonsPanel:Qe.A,HorizontalSeparator:Ye.A,AditionalAmountButtonsPanel:eo.A,ExtractedTableTabPanels:oo.A,PoMatchButton:De.A,SaveRulesButton:ze.A,InvoiceButtons:je.A,RejectDocument:We.A,LayoutJsonEditor:uo,AutoAccountingButton:Je.A,QRCodeExtractedFields:Ze.A,ExportWithoutValidation:He.A,draggable:xe.H},mounted:function(){document.addEventListener("add_field_to_designer",this.addFieldToDesigner),document.addEventListener("element_click",this.triggerFieldFocus)},unmounted:function(){document.removeEventListener("add_field_to_designer",this.addFieldToDesigner),document.removeEventListener("element_click",this.triggerFieldFocus)},methods:{itemAdded(e,o){if(!e.added)return;let t=e.added.element;if(t.fieldType==this.SUB_GROUP)return this.activeFieldName=t.name,void this.updateModel(t);if(this.keyToUpdateComponnets++,!t.hasOwnProperty("rows"))return void(this.formBuilderConfigModel[t.name]||this.updateModel(t));t.elementWidth=100,t.is_stcky_group=!1,t.right_border=!!this.isPanelSection,t.bottom_border=!!this.isPanelSection,t.is_panel_section_group=this.isPanelSection;let l=[];t.rows.forEach(((e,o)=>{e.forEach(((o,i)=>{o.elementWidth=t.name==ho.P.charges?50:this.calculateRowColSize(e.length),l.push(o)}))})),t.rows=[],t.rows=l,(0,ho.UN)(this.docType)&&t.name==ho.P.tax_details&&(this.filterFieldsForInvoices(t),this.adjustFieldsForInvoices(t)),this.cleanJson(o),this.formLayout[o].rows.length>0?this.formLayout.splice(o,0,t):this.formLayout[o]=t},cleanJson(e){const o=[];if(this.formLayout[e].rows.forEach(((e,t)=>{e.hasOwnProperty("rows")&&o.push(t)})),o.length>0){o.reverse();for(let t of o)this.formLayout[e].rows.splice(t,1)}},filterFieldsForInvoices(e){for(let[o,t]of e.rows.entries())if(fo.fN.amountGroup1.includes(t.field_name)){e.rows.splice(o,0,po.o.data().AMOUNT_BUTTONS_PANEL);break}for(let[o,t]of e.rows.entries())if(fo.fN.aditionalAmountFields.includes(t.field_name)){e.rows.splice(o,0,po.o.data().ADITIONAL_AMOUNT_BUTTONS_PANEL);break}},adjustFieldsForInvoices(e){for(let[o,t]of e.rows.entries())fo.fN.amountPanelField.includes(t.field_name)?t.elementWidth=Math.round(this.calculateRowColSize(fo.fN.amountGroup1.length)):fo.fN.aditionalAmountFields.includes(t.field_name)&&(t.elementWidth=Math.round(this.calculateRowColSize(fo.fN.additionalAmountInRow)))},calculateRowColSize(e){return e>1?100/e:100},addGroup(){const e={fieldType:fo.VV.GROUP,name:"group_"+(0,Me.A)(),title:"",group_key:"",is_panel_section_group:this.isPanelSection,elementWidth:100,right_border:!!this.isPanelSection,bottom_border:!!this.isPanelSection,is_stcky_group:!1,short_cut_key_1:"",short_cut_key_2:"",rows:[]};this.formLayout.push(e),this.formBuilderConfigModel[e.name]=e},deleteSection(e){this.activeTab="form_elements",this.activeFieldName="",this.$nextTick((function(){this.formLayout.splice(e,1),this.reRenderGroupForm++}))},moveGroupUp(e,o){if(0==o)return;const t=o-1,l=JSON.parse(JSON.stringify(this.formLayout[o]));this.formLayout.splice(o,1),this.formLayout.splice(t,0,l),this.reRenderGroupForm++,this.$nextTick((function(){let e="div-"+t;document.getElementById(e).scrollIntoView()}))},moveGroupDown(e,o){if(this.formLayout.length==o)return;const t=o+1,l=JSON.parse(JSON.stringify(this.formLayout[o]));this.formLayout.splice(o,1),this.formLayout.splice(o+1,0,l),this.reRenderGroupForm++,this.$nextTick((function(){let e="div-"+t;document.getElementById(e).scrollIntoView()}))},copyGroupJson(e,o){(0,Ie.A)(JSON.stringify(this.formLayout[o])).then((()=>{this.showSuccessToast("Copied!")}))},savePastedJson(){const e=this.$refs.layoutJsonEditor.getJson();if(!e)return;const o=JSON.parse(e);0!=Object.entries(o).length&&(this.formLayout.push(o),this.formBuilderConfigModel[o.name]=o,this.$nextTick((function(){setTimeout((()=>{this.$refs.fieldsContainer.scrollTop=this.$refs.fieldsContainer.scrollHeight}))})))},removeField(e,o,t=null){if(e.stopPropagation(),this.formBuilderConfigModel[this.activeFieldName]&&this.formBuilderConfigModel[this.activeFieldName].isDefaultField)for(let i of this.defaultFields)if(i.name===this.activeFieldName){i.isAlreadyAdded=!1;break}t?this.formLayout[o].rows[t]=this.formLayout[o].rows[t].rows.filter((e=>e.name!==this.activeFieldName)):this.formLayout[o].rows=this.formLayout[o].rows.filter((e=>e.name!==this.activeFieldName)),this.removeChildElements(this.formBuilderConfigModel[this.activeFieldName]);let l=!1;e:for(let[i,a]of this.formLayout.entries())for(let e of a.rows)if(e.name==this.activeFieldName){l=!0;break e}l||(delete this.formBuilderConfigModel[this.activeFieldName],delete this.formBuilderModel[this.activeFieldName]),this.activeFieldName="",this.activeTab="form_elements",this.$emit("clearCanvas")},removeChildElements(e){try{if(!e.hasOwnProperty("child_elements")||!Array.isArray(e.child_elements))return;for(let[o,t]of Object.entries(e.child_elements)){const e=t;delete this.formBuilderConfigModel[e.name],delete this.formBuilderModel[e.name]}}catch(o){logError(o)}},getElementBorder(e){let o="";return this.formBuilderConfigModel.hasOwnProperty(e.name)?(o=this.formBuilderConfigModel[e.name].right_border?" border-right":"",o+=this.formBuilderConfigModel[e.name].bottom_border?" border-bottom":"",o):(o=e.right_border?" border-right":"",o+=e.bottom_border?" border-bottom":"",o)},triggerFieldFocus(e){this.inputClicked(e.detail)},inputClicked(e){logInfo("step 2 =========> inputClicked"),this.activeTab="element_properties",this.activeFieldName=e,fo.VV.TABLE_OF_CHECKBOXES!==this.formBuilderConfigModel[e].fieldType&&fo.VV.EXPORT_BUTTON!==this.formBuilderConfigModel[e].fieldType&&(this.setTrOcrModeld(e),this.allowAreaSelection&&this.showConnectionFromField(e))},setTrOcrModeld(e){this.formBuilderConfigModel[e].hasOwnProperty("tr_ocr_model_id")||(this.formBuilderConfigModel[e].tr_ocr_model_id="")},inputValueChanges(e,o){fo.VV.TABLE_OF_CHECKBOXES===o?this.$emit("showConnectionFromField",e):"checkbox"===o&&this.inputClicked(e),setTimeout((()=>{this.formBuilderModel[e].formatted_value=!1}),50)},updateModel(e,o=!1){if(!this.formBuilderConfigModel.hasOwnProperty(e.name))if(this.formBuilderConfigModel[e.name]=JSON.parse(JSON.stringify(e)),e.fieldType===fo.VV.HORIZONTAL_SEPARATOR&&(e.hasOwnProperty("space_from_top")||e.hasOwnProperty("space_from_bottom")||(this.formBuilderConfigModel[e.name].space_from_top="q-mt-lg",this.formBuilderConfigModel[e.name].space_from_bottom="")),e.fieldType===fo.VV.EXTRACTED_TABLE&&(this.formBuilderModel[e.name]=JSON.parse(JSON.stringify(e))),e.fieldType===fo.VV.AI_EXTRACTED_TABLE&&(this.formBuilderModel[e.name]=JSON.parse(JSON.stringify(e))),e.fieldType!==fo.VV.TABLE_OF_CHECKBOXES){if(this.formBuilderModel[e.name]=[],this.formBuilderModel[e.name].page="",this.formBuilderModel[e.name].color="",this.formBuilderModel[e.name].score="",this.formBuilderModel[e.name].coords=[],this.formBuilderModel[e.name].confidence="",e.fieldType===fo.VV.MULTI_CHECK_BOX?(this.formBuilderModel[e.name].groupList=[],this.formBuilderModel[e.name].value="",this.formBuilderModel[e.name].formatted_value=""):e.fieldType===fo.VV.CHECK_BOX?(this.formBuilderModel[e.name].value=!1,this.formBuilderModel[e.name].formatted_value=!1,this.formBuilderConfigModel[e.name].hasOwnProperty("field_group")||(this.formBuilderConfigModel[e.name]["field_group"]=""),this.formBuilderConfigModel[e.name].hasOwnProperty("field_threshold")||(this.formBuilderConfigModel[e.name]["field_threshold"]=""),this.formBuilderConfigModel[e.name].hasOwnProperty("run_script_on_change")||(this.formBuilderConfigModel[e.name]["run_script_on_change"]=!1),this.formBuilderConfigModel[e.name].hasOwnProperty("tabIndex")||(this.formBuilderConfigModel[e.name]["tabIndex"]=0)):(this.formBuilderModel[e.name].value="",this.formBuilderModel[e.name].formatted_value="",this.formBuilderConfigModel[e.name].is_textarea=!!this.formBuilderConfigModel[e.name].is_textarea,this.formBuilderConfigModel[e.name].run_script_on_change=!!this.formBuilderConfigModel[e.name].run_script_on_change,this.formBuilderConfigModel[e.name].run_workflow_on_change=!!this.formBuilderConfigModel[e.name].run_workflow_on_change),this.formBuilderConfigModel[e.name].hasOwnProperty("tabIndex")||(this.formBuilderConfigModel[e.name].tabIndex=0),e.isDefaultField)for(let o of this.defaultFields)if(o.name===e.name){o.isAlreadyAdded=!0;break}o||(this.renderChildElements(e.name),this.activeFieldName=e.name)}else this.formBuilderConfigModel[e.name].tableBodyRows.forEach(((e,o)=>{e.forEach(((e,o)=>{e.hasOwnProperty("field_group")||(e["field_group"]=""),e.hasOwnProperty("field_threshold")||(e["field_threshold"]=""),e.hasOwnProperty("run_script_on_change")||(e["run_script_on_change"]=!1),e.hasOwnProperty("tabIndex")||(e["tabIndex"]=0),this.formBuilderModel[e.name]=JSON.parse(JSON.stringify(e)),this.formBuilderConfigModel[e.name]=JSON.parse(JSON.stringify(e))}))}))},applyFuzzySearch(e){return null},markTableColumns(e){this.$emit("markTableColumns",e)},showConnectionFromField(e){fo.iS.includes(this.formBuilderConfigModel[e].fieldType)&&this.$emit("showConnectionFromField",e)},addTableRow(e){let o=JSON.parse(JSON.stringify(fo.S$));for(let t of o)t.name="checkbox_"+(0,Me.A)(),t.formatted_value=!1,t.value=!1,t.fieldType=fo.VV.CHECK_BOX,this.formBuilderConfigModel[t.name]=[],this.formBuilderConfigModel[t.name]=JSON.parse(JSON.stringify(t)),this.formBuilderModel[t.name]=[],this.formBuilderModel[t.name].page="",this.formBuilderModel[t.name].color="",this.formBuilderModel[t.name].score="",this.formBuilderModel[t.name].coords=[],this.formBuilderModel[t.name].value=!1,this.formBuilderModel[t.name].confidence="",this.formBuilderModel[t.name].formatted_value=!1;this.formBuilderConfigModel[e].tableBodyRows.push(o)},addTableColumn(e){for(let o of this.formBuilderConfigModel[e].tableBodyRows){let e={isLabelArea:!1,isDisabled:!1,name:(0,Me.A)()};o.push(e)}for(let o of this.formBuilderConfigModel[e].tableHeaderRows)o.push("C")}},setup(){const e=(0,H.uL)(),{docType:o,showImages:t,activeTab:l,formLayout:i,defaultFields:a,formBuilderModel:s,formBuilderConfigModel:r,activeFieldName:n,keyToUpdateComponnets:d,renderComponent:m,formLayoutImages:c,isExtenedPanel:u,allowAreaSelection:h,isDefaultFieldLoaded:p,reRenderGroupForm:f}=(0,P.bP)(e),{getElementWidth:g,renderChildElements:_}=e;return{renderChildElements:_,docType:o,activeTab:l,showImages:t,formLayout:i,defaultFields:a,activeFieldName:n,renderComponent:m,formBuilderModel:s,formLayoutImages:c,reRenderGroupForm:f,isDefaultFieldLoaded:p,keyToUpdateComponnets:d,formBuilderConfigModel:r,allowAreaSelection:h,isExtenedPanel:u,getElementWidth:g}}});var _o=t(66908),vo=t(67837),bo=t(82156),yo=t(23316),Co=t(36914),ko=t(39150),wo=t(44189),Fo=t(67156),To=t(88672);const Bo=(0,Z.A)(go,[["render",Le],["__scopeId","data-v-9159b242"]]),Lo=Bo;ae()(go,"components",{QIcon:te.A,QTooltip:le.A,QToggle:_o.A,QInput:vo.A,QBtn:ee.A,QDialog:bo.A,QCard:yo.A,QToolbar:Co.A,QToolbarTitle:ko.A,QCardSection:wo.A,QField:Fo.A}),ae()(go,"directives",{ClosePopup:To.A});const Mo={key:0,class:"full-width"},Io={class:"row"},xo=["src"],Eo={class:""};function Ao(e,o,t,a,s,r){const n=(0,l.g2)("draggable");return e.filteredFields.length>0?((0,l.uX)(),(0,l.CE)("div",Mo,[(0,l.bF)(n,{list:e.filteredFields,class:"dragArea row",group:{name:"formbuilder",pull:"clone",put:!1},sort:!1,"item-key":"name"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.filteredFields,((e,o)=>((0,l.uX)(),(0,l.CE)("div",{key:o,class:"col-sm-12 col-md-12 col-lg-12 q-pa-sm cursor-pointer mt-5 border-radius-5px"},[(0,l.Lk)("div",Io,[(0,l.Lk)("img",{src:e.icon,width:"14",class:"q-mr-sm"},null,8,xo),(0,l.Lk)("div",Eo,(0,i.v_)(e.text),1)])])))),128))])),_:1},8,["list"])])):(0,l.Q3)("",!0)}var No=function(e,o,t,l){function i(e){return e instanceof t?e:new t((function(o){o(e)}))}return new(t||(t=Promise))((function(t,a){function s(e){try{n(l.next(e))}catch(o){a(o)}}function r(e){try{n(l["throw"](e))}catch(o){a(o)}}function n(e){e.done?t(e.value):i(e.value).then(s,r)}n((l=l.apply(e,o||[])).next())}))};const Oo=(0,l.pM)({name:"Elements",components:{draggable:xe.H},data(){return{tables:(0,W.KR)(po.o.data().tables),fields:(0,W.KR)(po.o.data().fields),dropElementOptions:po.o.data().dropElementOptions}},mounted(){this.init()},methods:{init(){this.prepareTables(),this.filteredFields=this.fields.filter((e=>0==e.hide_in_panel_list||void 0==e.hide_in_panel_list))},prepareTables(){return No(this,void 0,void 0,(function*(){const e=this.$route.params.doc_type;yield this.getDocumentTables(String(this.$route.params.doc_type));for(let[o,t]of Object.entries(this.documentTables))this.tables[0].name=o,this.tables[0].text="Table ("+o+")","INVOICE"==e&&(this.tables[0].fieldType=fo.VV.LINE_ITEM_TABLE),this.documentTableNames.push(o)}))},checkStopDragCondition(e){}},setup(){const e=(0,H.uL)(),{documentTables:o,documentTableNames:t}=(0,P.bP)(e),{getDocumentTables:l}=e;return{documentTables:o,documentTableNames:t,getDocumentTables:l,filteredFields:(0,W.KR)([])}}}),Vo=(0,Z.A)(Oo,[["render",Ao],["__scopeId","data-v-16912442"]]),So=Vo;ae()(Oo,"components",{QBtn:ee.A});var Po=t(11470);const Uo={class:"full-width"},Xo={class:"row"},Ro={class:""};function qo(e,o,t,a,s,r){const n=(0,l.g2)("q-icon"),d=(0,l.g2)("draggable");return(0,l.uX)(),(0,l.CE)("div",Uo,[(0,l.bF)(d,{list:e.defaultGroups,class:"dragArea row",group:{name:"formbuilder",pull:"clone",put:!1},sort:!1,"item-key":"name"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.defaultGroups,((o,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"col-sm-12 col-md-12 col-lg-12 q-pa-sm cursor-pointer mt-5 border-radius-5px"},[(0,l.Lk)("div",Xo,[(0,l.bF)(n,{name:"workspaces",size:"sm",class:"q-mr-sm"}),(0,l.Lk)("div",Ro,(0,i.v_)(e.getLabelForFormBuilder(o,"pages.screen2a.")),1)])])))),128))])),_:1},8,["list"])])}var $o=t(25891);const Do=(0,l.pM)({name:"GroupElements",mixins:[J.A,U.A,$o.A],components:{draggable:xe.H},data(){return{}},setup(){const e=(0,H.uL)(),{defaultGroups:o}=(0,P.bP)(e);return{defaultGroups:o}}}),Qo=(0,Z.A)(Do,[["render",qo],["__scopeId","data-v-6cb3b572"]]),zo=Qo;ae()(Do,"components",{QIcon:te.A,QBtn:ee.A});const Wo={class:"full-width"},Jo={class:"full-width"},Ho={class:"row"},Ko={class:"width-20px"},Go=["src"],Yo={class:"width-100-10px"},jo={class:"full-width"},Zo={class:"full-width text-grey-6"};function et(e,o,t,a,s,r){const n=(0,l.g2)("q-input"),d=(0,l.g2)("draggable");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",Wo,[(0,l.bF)(n,{modelValue:e.searchInput,"onUpdate:modelValue":o[0]||(o[0]=o=>e.searchInput=o),class:"q-pt-md q-pb-md",dense:"",autofocus:"",label:e.$t("pages.user.search"),outlined:""},null,8,["modelValue","label"])]),(0,l.Lk)("div",Jo,[(0,l.bF)(d,{list:e.filteredFields,class:"dragArea row",group:{name:"formbuilder",pull:"clone",put:!1},sort:!1,"item-key":"name"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.filteredFields,((e,o)=>((0,l.uX)(),(0,l.CE)("div",{key:o+"_"+e.field_name,class:"col-sm-12 col-md-12 col-lg-12 cursor-pointer q-pa-sm mt-5 border-radius-5px"},[(0,l.Lk)("div",Ho,[(0,l.Lk)("div",Ko,[(0,l.Lk)("img",{src:e.icon,width:"14"},null,8,Go)]),(0,l.Lk)("div",Yo,[(0,l.Lk)("div",jo,(0,i.v_)(e.label),1),(0,l.Lk)("div",Zo,(0,i.v_)(" ("+e.field_name+")"),1)])])])))),128))])),_:1},8,["list"])])],64)}var ot=function(e,o,t,l){function i(e){return e instanceof t?e:new t((function(o){o(e)}))}return new(t||(t=Promise))((function(t,a){function s(e){try{n(l.next(e))}catch(o){a(o)}}function r(e){try{n(l["throw"](e))}catch(o){a(o)}}function n(e){e.done?t(e.value):i(e.value).then(s,r)}n((l=l.apply(e,o||[])).next())}))};const tt=(0,l.pM)({name:"DefaultElements",mixins:[J.A,U.A,$o.A],components:{draggable:xe.H},data(){return{searchInput:"",filteredFields:[]}},watch:{searchInput(){this.updateFilteredFields()},defaultFields:{handler(){this.updateFilteredFields()},deep:!0}},methods:{init(){return ot(this,void 0,void 0,(function*(){this.hideLoading();try{yield this.loadDocumentDefaultFields(this.$route.params.doc_type),this.isDefaultFieldLoaded=!0,this.updateFilteredFields()}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}}))},updateFilteredFields(){this.filteredFields=this.defaultFields.filter((e=>!e.isHidden&&(""===this.searchInput||e.label.toLowerCase().includes(this.searchInput.toLowerCase()))&&!e.isAlreadyAdded))}},mounted(){this.init()},setup(){const e=(0,H.uL)(),{defaultFields:o,isDefaultFieldLoaded:t}=(0,P.bP)(e),{loadDocumentDefaultFields:l}=e;return{defaultFields:o,isDefaultFieldLoaded:t,loadDocumentDefaultFields:l}}}),lt=(0,Z.A)(tt,[["render",et],["__scopeId","data-v-41bef96b"]]),it=lt;ae()(tt,"components",{QInput:vo.A,QBtn:ee.A});const at=e=>((0,l.Qi)("data-v-623870c3"),e=e(),(0,l.jt)(),e),st={key:0,class:"row"},rt={key:0,class:"row col-12"},nt={class:"col-7 q-ml-md q-pt-sm"},dt={key:1,class:"row col-12"},mt={class:"col-4 q-ml-md q-pt-sm"},ct={key:2,class:"row col-12"},ut={class:"col-7 q-ml-md q-pt-sm"},ht={key:3,class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},pt={key:4,class:"full-width"},ft={class:"col-sm-12 col-md-12 col-lg-12"},gt=at((()=>(0,l.Lk)("div",{class:"col-sm-12 col-md-12 col-lg-12"},null,-1))),_t={class:"row"},vt={class:"q-pt-sm q-ml-md col-7"},bt={class:"col-sm-12 col-md-12 col-lg-12"},yt=at((()=>(0,l.Lk)("div",{class:"col-sm-12 col-md-12 col-lg-12"},null,-1))),Ct={class:"row"},kt={class:"q-ml-md col-7 q-pt-sm"},wt={class:"col-sm-12 col-md-12 col-lg-12"},Ft=at((()=>(0,l.Lk)("div",{class:"col-sm-12 col-md-12 col-lg-12"},null,-1))),Tt={class:"row"},Bt={class:"q-ml-md col-7 q-pt-sm"},Lt={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},Mt=at((()=>(0,l.Lk)("div",{class:"col-sm-12 col-md-12 col-lg-12"}," Pleae Define ShotCut For group ",-1))),It={class:"row"},xt={class:"col-5 q-pr-sm"},Et={class:"col-5 q-pl-sm"},At={class:"col-2 q-pl-sm"},Nt={key:5,class:"full-width"},Ot={key:0,class:"col-sm-12 col-md-12 col-lg-12"},Vt={class:"row"},St={class:"col-7 q-ml-md q-pt-sm"},Pt={class:"row"},Ut={class:"col-7 q-ml-md q-pt-sm"},Xt={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},Rt={class:"col-sm-12 col-md-12 col-lg-12"},qt={class:"col-sm-12 col-md-12 col-lg-12"},$t={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},Dt={class:"col-sm-12 col-md-12 col-lg-12"},Qt={class:"col-sm-12 col-md-12 col-lg-12"},zt={key:1,class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},Wt={class:"col-sm-12 col-md-12 col-lg-12"},Jt={class:"col-sm-12 col-md-12 col-lg-12"},Ht={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},Kt={class:"col-sm-12 col-md-12 col-lg-12"},Gt={class:"col-sm-12 col-md-12 col-lg-12"},Yt={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},jt={class:"col-sm-12 col-md-12 col-lg-12"},Zt={class:"col-sm-12 col-md-12 col-lg-12"},el={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},ol={class:"col-sm-12 col-md-12 col-lg-12"},tl={class:"col-sm-12 col-md-12 col-lg-12"},ll={key:7,class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},il=at((()=>(0,l.Lk)("div",{class:"col-sm-12 col-md-12 col-lg-12"}," Tab Index ",-1))),al={class:"col-sm-12 col-md-12 col-lg-12"},sl={key:8,class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},rl=at((()=>(0,l.Lk)("div",{class:"col-sm-12 col-md-12 col-lg-12"}," Field Group ",-1))),nl={class:"col-sm-12 col-md-12 col-lg-12"},dl={key:9,class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},ml=at((()=>(0,l.Lk)("div",{class:"col-sm-12 col-md-12 col-lg-12"}," Field Threshold ",-1))),cl={class:"col-sm-12 col-md-12 col-lg-12"},ul={key:10,class:"row q-pt-md"},hl={class:"col-sm-5 col-md-5 col-lg-5 q-pa-sm"},pl={class:"col-sm-5 col-md-5 col-lg-5 q-pa-sm"},fl=at((()=>(0,l.Lk)("div",{class:"col-sm-2 col-md-2 col-lg-2"},null,-1))),gl={class:"col-sm-5 col-md-5 col-lg-5 q-pa-sm"},_l={class:"col-sm-5 col-md-5 col-lg-5 q-pa-sm"},vl={class:"col-sm-2 col-md-2 col-lg-2"},bl={class:"col-sm-12 col-md-12 col-lg-12"},yl={key:11,class:"full-width"},Cl={key:1,class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},kl={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},wl={key:0,class:"col-sm-12 col-md-12 col-lg-12"},Fl={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},Tl={class:"col-sm-12 col-md-12 col-lg-12"},Bl={class:"col-sm-12 col-md-12 col-lg-12"},Ll={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},Ml={class:"col-sm-12 col-md-12 col-lg-12"},Il={class:"col-sm-12 col-md-12 col-lg-12"},xl={key:3,class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"};function El(e,o,t,a,s,r){const n=(0,l.g2)("q-toggle"),d=(0,l.g2)("q-select"),m=(0,l.g2)("q-tooltip"),c=(0,l.g2)("q-icon"),u=(0,l.g2)("q-input"),h=(0,l.g2)("keyboardShortcutInfoBtn"),p=(0,l.g2)("q-btn"),f=(0,l.g2)("PropertiesOfTableOfCheckboxes"),g=(0,l.g2)("q-checkbox"),_=(0,l.g2)("PropertiesOfExtractedTable");return(0,l.uX)(),(0,l.CE)(l.FK,null,[e.activeFieldName?((0,l.uX)(),(0,l.CE)("div",st,[e.formBuilderConfigModel[e.activeFieldName].fieldType!=e.SUB_GROUP?((0,l.uX)(),(0,l.CE)("div",rt,[(0,l.Lk)("span",nt,(0,i.v_)(e.$t("run_workflow_on_change")),1),(0,l.bF)(n,{class:"col-4",size:"md",modelValue:e.formBuilderConfigModel[e.activeFieldName].run_workflow_on_change,"onUpdate:modelValue":o[0]||(o[0]=o=>e.formBuilderConfigModel[e.activeFieldName].run_workflow_on_change=o),val:"md"},null,8,["modelValue"])])):(0,l.Q3)("",!0),e.formBuilderConfigModel[e.activeFieldName].run_workflow_on_change?((0,l.uX)(),(0,l.CE)("div",dt,[(0,l.Lk)("span",mt,(0,i.v_)(e.$t("workflow")),1),(0,l.bF)(d,{outlined:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].workflow_id_on_change,"onUpdate:modelValue":o[1]||(o[1]=o=>e.formBuilderConfigModel[e.activeFieldName].workflow_id_on_change=o),options:e.filter_workflow_list,onFilter:e.filterWorkflowlistEvent,label:e.$t("select_workflow"),class:"q-ml-md col-10",loading:e.workflow_loading,dense:"","emit-value":"","map-options":"",clearable:"","use-input":""},null,8,["modelValue","options","onFilter","label","loading"])])):(0,l.Q3)("",!0),e.isRunScriptEnabled()?((0,l.uX)(),(0,l.CE)("div",ct,[(0,l.Lk)("span",ut,(0,i.v_)(e.$t("run_script_on_change")),1),(0,l.bF)(n,{class:"col-4",size:"md",modelValue:e.formBuilderConfigModel[e.activeFieldName].run_script_on_change,"onUpdate:modelValue":o[2]||(o[2]=o=>e.formBuilderConfigModel[e.activeFieldName].run_script_on_change=o),val:"md"},null,8,["modelValue"])])):(0,l.Q3)("",!0),e.isButtonType()?((0,l.uX)(),(0,l.CE)("div",ht,[(0,l.bF)(d,{outlined:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].exportType,"onUpdate:modelValue":[o[3]||(o[3]=o=>e.formBuilderConfigModel[e.activeFieldName].exportType=o),o[4]||(o[4]=o=>{e.buttonTypeUpdated(o)})],options:e.options,label:"Select Button Type",dense:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])):(0,l.Q3)("",!0),e.formBuilderConfigModel[e.activeFieldName].fieldType===e.GROUP?((0,l.uX)(),(0,l.CE)("div",pt,[(0,l.Lk)("div",ft,[gt,(0,l.Lk)("div",_t,[(0,l.Lk)("span",vt,(0,i.v_)(e.$t("is_stcky_group")),1),(0,l.bF)(n,{class:"col-4",size:"md",modelValue:e.formBuilderConfigModel[e.activeFieldName].is_stcky_group,"onUpdate:modelValue":o[5]||(o[5]=o=>e.formBuilderConfigModel[e.activeFieldName].is_stcky_group=o),val:"md"},null,8,["modelValue"])])]),(0,l.Lk)("div",bt,[yt,(0,l.Lk)("div",Ct,[(0,l.Lk)("span",kt,(0,i.v_)(e.$t("active_right_border")),1),(0,l.bF)(n,{class:"col-4",size:"md",modelValue:e.formBuilderConfigModel[e.activeFieldName].right_border,"onUpdate:modelValue":o[6]||(o[6]=o=>e.formBuilderConfigModel[e.activeFieldName].right_border=o),val:"md"},null,8,["modelValue"])])]),(0,l.Lk)("div",wt,[Ft,(0,l.Lk)("div",Tt,[(0,l.Lk)("span",Bt,(0,i.v_)(e.$t("active_bottom_border")),1),(0,l.bF)(n,{class:"col-4",size:"md",modelValue:e.formBuilderConfigModel[e.activeFieldName].bottom_border,"onUpdate:modelValue":o[7]||(o[7]=o=>e.formBuilderConfigModel[e.activeFieldName].bottom_border=o),val:"md"},null,8,["modelValue"])])]),(0,l.Lk)("div",Lt,[Mt,(0,l.Lk)("div",It,[(0,l.Lk)("div",xt,[(0,l.bF)(d,{outlined:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].short_cut_key_1,"onUpdate:modelValue":[o[8]||(o[8]=o=>e.formBuilderConfigModel[e.activeFieldName].short_cut_key_1=o),o[9]||(o[9]=o=>{e.onShortCutKeyUpdate(e.formBuilderConfigModel[e.activeFieldName].short_cut_key_2)})],options:e.shortCutKeyList,label:"Key 1",dense:"","emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,l.Lk)("div",Et,[(0,l.bF)(u,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].short_cut_key_2,"onUpdate:modelValue":[o[10]||(o[10]=o=>e.formBuilderConfigModel[e.activeFieldName].short_cut_key_2=o),o[11]||(o[11]=o=>{e.onShortCutKeyUpdate(o)})],class:(0,i.C4)(e.formBuilderConfigModel[e.activeFieldName].error?"column-error-border":"")},{append:(0,l.k6)((()=>[e.formBuilderConfigModel[e.activeFieldName].error?((0,l.uX)(),(0,l.Wv)(c,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{class:"bg-red line-error-tooltip"},{default:(0,l.k6)((()=>[e.formBuilderConfigModel[e.activeFieldName].error?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)(" Shortcut already in use. Press shift + k to check existing list. ")],64)):(0,l.Q3)("",!0)])),_:1})])),_:1})):(0,l.Q3)("",!0)])),_:1},8,["modelValue","class"])]),(0,l.Lk)("div",At,[(0,l.bF)(h)])])])])):(0,l.Q3)("",!0),e.formBuilderConfigModel[e.activeFieldName].fieldType!=e.GROUP&&e.formBuilderConfigModel[e.activeFieldName].fieldType!=e.TABLE_OF_CHECKBOXES?((0,l.uX)(),(0,l.CE)("div",Nt,[e.formBuilderConfigModel[e.activeFieldName].fieldType===e.TEXT_INPUT?((0,l.uX)(),(0,l.CE)("div",Ot,[(0,l.Lk)("div",Vt,[(0,l.Lk)("span",St,(0,i.v_)(e.$t("display_label_left")),1),(0,l.bF)(n,{class:"col-4",size:"md",modelValue:e.formBuilderConfigModel[e.activeFieldName].displayLabelOnLeft,"onUpdate:modelValue":o[12]||(o[12]=o=>e.formBuilderConfigModel[e.activeFieldName].displayLabelOnLeft=o),val:"md"},null,8,["modelValue"])]),(0,l.Lk)("div",Pt,[(0,l.Lk)("span",Ut,(0,i.v_)(e.$t("is_textarea")),1),(0,l.bF)(n,{class:"col-4",size:"md",modelValue:e.formBuilderConfigModel[e.activeFieldName].is_textarea,"onUpdate:modelValue":o[13]||(o[13]=o=>e.formBuilderConfigModel[e.activeFieldName].is_textarea=o),val:"md"},null,8,["modelValue"])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Xt,[(0,l.Lk)("div",Rt,(0,i.v_)(e.$t("label")),1),(0,l.Lk)("div",qt,[(0,l.bF)(u,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].label,"onUpdate:modelValue":o[14]||(o[14]=o=>e.formBuilderConfigModel[e.activeFieldName].label=o),disable:e.formBuilderConfigModel[e.activeFieldName].isDefaultField,onBlur:o[15]||(o[15]=o=>e.updateFieldName(e.activeFieldName))},null,8,["modelValue","disable"])])]),(0,l.Lk)("div",$t,[(0,l.Lk)("div",Dt,(0,i.v_)(e.$t("field_name")),1),(0,l.Lk)("div",Qt,[(0,l.bF)(u,{outlined:"",dense:"",modelValue:e.activeComponentName,"onUpdate:modelValue":o[17]||(o[17]=o=>e.activeComponentName=o),disable:e.formBuilderConfigModel[e.activeFieldName].isDefaultField,onBlur:o[18]||(o[18]=o=>e.onFieldNameFocusLose(e.activeFieldName))},{after:(0,l.k6)((()=>[(0,l.bF)(c,{flat:"",dense:"",name:"fas fa-copy",size:"24px",class:"cursor-pointer",tabindex:"0",onClick:o[16]||(o[16]=o=>e.copyText(e.activeComponentName))})])),_:1},8,["modelValue","disable"])])]),e.formBuilderConfigModel[e.activeFieldName].displayLabelOnLeft?((0,l.uX)(),(0,l.CE)("div",zt,[(0,l.Lk)("div",Wt,(0,i.v_)(e.$t("label_width_percentage")),1),(0,l.Lk)("div",Jt,[(0,l.bF)(u,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].labelWidth,"onUpdate:modelValue":o[19]||(o[19]=o=>e.formBuilderConfigModel[e.activeFieldName].labelWidth=o),type:"number",rules:[o=>o>=3&&o<=100||e.$t("label_length_between_3_100")]},null,8,["modelValue","rules"])])])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),(0,l.Lk)("div",Ht,[(0,l.Lk)("div",Kt,(0,i.v_)(e.$t("element_width_percentage")),1),(0,l.Lk)("div",Gt,[(0,l.bF)(u,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].elementWidth,"onUpdate:modelValue":[o[20]||(o[20]=o=>e.formBuilderConfigModel[e.activeFieldName].elementWidth=o),o[21]||(o[21]=o=>{e.handleElementWidth(o)})],disable:e.formBuilderConfigModel[e.activeFieldName].fieldType===e.HORIZONTAL_SEPARATOR,type:"number",rules:[o=>o>=3&&o<=100||e.$t("field_length_between_3_100")]},null,8,["modelValue","disable","rules"])])]),e.formBuilderConfigModel[e.activeFieldName].fieldType===e.HORIZONTAL_SEPARATOR?((0,l.uX)(),(0,l.CE)(l.FK,{key:6},[(0,l.Lk)("div",Yt,[(0,l.Lk)("div",jt,(0,i.v_)(e.$t("space_from_top")),1),(0,l.Lk)("div",Zt,[(0,l.bF)(d,{outlined:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].space_from_top,"onUpdate:modelValue":o[22]||(o[22]=o=>e.formBuilderConfigModel[e.activeFieldName].space_from_top=o),options:e.spaceFromTopList,label:e.$t("space_from_top"),dense:"","emit-value":"","map-options":""},null,8,["modelValue","options","label"])])]),(0,l.Lk)("div",el,[(0,l.Lk)("div",ol,(0,i.v_)(e.$t("space_from_bottom")),1),(0,l.Lk)("div",tl,[(0,l.bF)(d,{outlined:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].space_from_bottom,"onUpdate:modelValue":o[23]||(o[23]=o=>e.formBuilderConfigModel[e.activeFieldName].space_from_bottom=o),options:e.spaceFromBottomList,label:e.$t("space_from_bottom"),dense:"","emit-value":"","map-options":""},null,8,["modelValue","options","label"])])])],64)):(0,l.Q3)("",!0),e.renderTabIndexField()?((0,l.uX)(),(0,l.CE)("div",ll,[il,(0,l.Lk)("div",al,[(0,l.bF)(u,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].tabIndex,"onUpdate:modelValue":o[24]||(o[24]=o=>e.formBuilderConfigModel[e.activeFieldName].tabIndex=o),type:"number"},null,8,["modelValue"])])])):(0,l.Q3)("",!0),e.formBuilderConfigModel[e.activeFieldName].fieldType===e.CHECK_BOX?((0,l.uX)(),(0,l.CE)("div",sl,[rl,(0,l.Lk)("div",nl,[(0,l.bF)(u,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].field_group,"onUpdate:modelValue":o[25]||(o[25]=o=>e.formBuilderConfigModel[e.activeFieldName].field_group=o)},null,8,["modelValue"])])])):(0,l.Q3)("",!0),e.formBuilderConfigModel[e.activeFieldName].fieldType===e.CHECK_BOX?((0,l.uX)(),(0,l.CE)("div",dl,[ml,(0,l.Lk)("div",cl,[(0,l.bF)(u,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].field_threshold,"onUpdate:modelValue":o[26]||(o[26]=o=>e.formBuilderConfigModel[e.activeFieldName].field_threshold=o)},null,8,["modelValue"])])])):(0,l.Q3)("",!0),e.formBuilderConfigModel[e.activeFieldName].fieldType===e.MULTI_CHECK_BOX?((0,l.uX)(),(0,l.CE)("div",ul,[(0,l.Lk)("div",hl,(0,i.v_)(e.$t("label")),1),(0,l.Lk)("div",pl,(0,i.v_)(e.$t("value")),1),fl,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.formBuilderConfigModel[e.activeFieldName].options,((o,t)=>((0,l.uX)(),(0,l.CE)(l.FK,{key:t},[(0,l.Lk)("div",gl,[(0,l.bF)(u,{outlined:"",dense:"",modelValue:o.label,"onUpdate:modelValue":e=>o.label=e,onChange:o=>e.setOptionValue(t)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),(0,l.Lk)("div",_l,[(0,l.bF)(u,{outlined:"",dense:"",modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,disable:""},null,8,["modelValue","onUpdate:modelValue"])]),(0,l.Lk)("div",vl,[e.formBuilderConfigModel[e.activeFieldName].options.length>2?((0,l.uX)(),(0,l.Wv)(p,{key:0,flat:"",size:"md",color:"primary",icon:"delete",onClick:o=>e.removeOption(t)},null,8,["onClick"])):(0,l.Q3)("",!0)])],64)))),128)),(0,l.Lk)("div",bl,[(0,l.bF)(p,{flat:"",color:"primary",label:"Add More",icon:"add",onClick:o[27]||(o[27]=o=>e.addOption())})])])):(0,l.Q3)("",!0),e.formBuilderConfigModel[e.activeFieldName].fieldType===e.TABLE_OF_CHECKBOXES?((0,l.uX)(),(0,l.CE)("div",yl,[(0,l.bF)(f,{isColumnMode:e.isColumnMode,rowIndex:e.rowIndex,columnIndex:e.columnIndex},null,8,["isColumnMode","rowIndex","columnIndex"])])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0),e.renderModelDropdown()?((0,l.uX)(),(0,l.CE)("div",Cl,[(0,l.bF)(d,{outlined:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].tr_ocr_model_id,"onUpdate:modelValue":[o[28]||(o[28]=o=>e.formBuilderConfigModel[e.activeFieldName].tr_ocr_model_id=o),o[29]||(o[29]=o=>e.onUpdateTROCRModel())],options:e.model_list,label:e.$t("select_ai_type"),dense:"","emit-value":"","map-options":""},null,8,["modelValue","options","label"])])):(0,l.Q3)("",!0),e.formBuilderConfigModel[e.activeFieldName].fieldType===e.TEXT_INPUT?((0,l.uX)(),(0,l.CE)(l.FK,{key:2},[(0,l.Lk)("div",kl,[(0,l.bF)(d,{outlined:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].list_of_values,"onUpdate:modelValue":[o[30]||(o[30]=o=>e.formBuilderConfigModel[e.activeFieldName].list_of_values=o),o[31]||(o[31]=o=>{e.onListOfValueSelect(o)})],options:e.lov_list,label:e.$t("select_list_of_values"),dense:"","emit-value":"","map-options":""},null,8,["modelValue","options","label"])]),e.formBuilderConfigModel[e.activeFieldName].list_of_values?((0,l.uX)(),(0,l.CE)("div",wl,[(0,l.bF)(g,{label:e.$t("enforce_list_of_values"),modelValue:e.formBuilderConfigModel[e.activeFieldName].enforce_list_of_values,"onUpdate:modelValue":o[32]||(o[32]=o=>e.formBuilderConfigModel[e.activeFieldName].enforce_list_of_values=o),size:"30px",color:"grey-6"},null,8,["label","modelValue"])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Fl,[(0,l.Lk)("div",Tl,(0,i.v_)(e.$t("field_length")),1),(0,l.Lk)("div",Bl,[(0,l.bF)(u,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].length,"onUpdate:modelValue":o[33]||(o[33]=o=>e.formBuilderConfigModel[e.activeFieldName].length=o),type:"number"},null,8,["modelValue"])])]),(0,l.Lk)("div",Ll,[(0,l.Lk)("div",Ml,(0,i.v_)(e.$t("banned_keywords")),1),(0,l.Lk)("div",Il,[(0,l.bF)(u,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].banned_keywords,"onUpdate:modelValue":o[34]||(o[34]=o=>e.formBuilderConfigModel[e.activeFieldName].banned_keywords=o),label:e.$t("comma_seperated_keywords")},null,8,["modelValue","label"])])])],64)):(0,l.Q3)("",!0),e.formBuilderConfigModel[e.activeFieldName].fieldType===e.EXTRACTED_TABLE&&e.formBuilderConfigModel[e.activeFieldName].columns?((0,l.uX)(),(0,l.CE)("div",xl,[(0,l.bF)(_,{columnIndex:e.columnIndex},null,8,["columnIndex"])])):(0,l.Q3)("",!0)],64)}var Al=t(72281),Nl=t(96056);const Ol=(0,l.Lk)("div",{class:"col-sm-12 col-md-12 col-lg-12 q-pt-md text-primary"}," Columns Settings ",-1),Vl={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},Sl={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},Pl={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"};function Ul(e,o,t,i,a,s){const r=(0,l.g2)("q-select"),n=(0,l.g2)("q-toggle");return(0,l.uX)(),(0,l.CE)(l.FK,null,[Ol,(0,l.Lk)("div",Vl,[(0,l.bF)(r,{outlined:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].columns[e.columnIndex].tr_ocr_model_id,"onUpdate:modelValue":[o[0]||(o[0]=o=>e.formBuilderConfigModel[e.activeFieldName].columns[e.columnIndex].tr_ocr_model_id=o),o[1]||(o[1]=o=>e.onColumnUpdateTROCRModel(e.formBuilderConfigModel[e.activeFieldName].columns[e.columnIndex].col_id,e.formBuilderConfigModel[e.activeFieldName].columns[e.columnIndex].tr_ocr_model_id))],options:e.model_list,label:"KI Model ("+e.formBuilderConfigModel[e.activeFieldName].columns[e.columnIndex].name+")",dense:"","emit-value":"","map-options":""},null,8,["modelValue","options","label"])]),(0,l.Lk)("div",Sl,[(0,l.bF)(r,{outlined:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].columns[e.columnIndex].list_of_values,"onUpdate:modelValue":o[2]||(o[2]=o=>e.formBuilderConfigModel[e.activeFieldName].columns[e.columnIndex].list_of_values=o),options:e.lov_list,label:"list Of values ("+e.formBuilderConfigModel[e.activeFieldName].columns[e.columnIndex].name+")",dense:"","emit-value":"","map-options":""},null,8,["modelValue","options","label"])]),(0,l.Lk)("div",Pl,[(0,l.bF)(n,{size:"md",modelValue:e.formBuilderConfigModel[e.activeFieldName].columns[e.columnIndex].run_script_on_change,"onUpdate:modelValue":o[3]||(o[3]=o=>e.formBuilderConfigModel[e.activeFieldName].columns[e.columnIndex].run_script_on_change=o),val:"md",label:e.$t("run_script_on_change")+" ("+e.formBuilderConfigModel[e.activeFieldName].columns[e.columnIndex].name+")",class:"q-mt-sm"},null,8,["modelValue","label"])])],64)}const Xl=(0,l.pM)({name:"PropertiesOfTableOfCheckboxes",props:{columnIndex:{type:Number,default:0}},data(){return{}},methods:{onColumnUpdateTROCRModel(e,o){const t=(0,S.$)("#col_"+e);t&&(o?t.classList.add("text-primary"):t.classList.remove("text-primary"))}},setup(){const e=(0,H.uL)(),{formLayout:o,activeFieldName:t,formBuilderModel:l,formBuilderConfigModel:i}=(0,P.bP)(e),a=(0,H.cY)(),{model_list:s}=(0,P.bP)(a),r=(0,H.yM)(),{lov_list:n}=(0,P.bP)(r);return{lov_list:n,model_list:s,formLayout:o,activeFieldName:t,formBuilderModel:l,formBuilderConfigModel:i}}});var Rl=t(94940);const ql=(0,Z.A)(Xl,[["render",Ul]]),$l=ql;ae()(Xl,"components",{QSelect:Rl.A,QToggle:_o.A});const Dl={class:"col-sm-8 col-md-8 col-lg-8"},Ql={class:"col-sm-4 col-md-4 col-lg-4"},zl={key:1,class:"row q-pt-md"},Wl={class:"col-sm-12 col-md-12 col-lg-12 q-pa-sm mt-5"},Jl={key:0,class:"row"},Hl={key:1,class:"row"},Kl={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},Gl={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},Yl=(0,l.Lk)("div",{class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"}," Tab Index ",-1),jl={class:"col-sm-12 col-md-12 col-lg-12"},Zl=(0,l.Lk)("div",{class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"}," Field Group ",-1),ei={class:"col-sm-12 col-md-12 col-lg-12"},oi=(0,l.Lk)("div",{class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"}," Field Threshold ",-1),ti={class:"col-sm-12 col-md-12 col-lg-12"},li={class:"col-sm-12 col-md-12 col-lg-12 q-pt-md"},ii={class:"col-sm-12 col-md-12 col-lg-12"};function ai(e,o,t,a,s,r){const n=(0,l.g2)("q-input"),d=(0,l.g2)("q-tooltip"),m=(0,l.g2)("q-btn"),c=(0,l.g2)("q-toggle"),u=(0,l.g2)("q-checkbox");return(0,l.uX)(),(0,l.CE)(l.FK,null,[e.isColumnMode?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(e.formBuilderConfigModel[e.activeFieldName].tableHeaderRows[e.rowIndex],((o,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"row q-pt-md",key:t},[(0,l.Lk)("div",Dl,[(0,l.bF)(n,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].tableHeaderRows[e.rowIndex][t],"onUpdate:modelValue":o=>e.formBuilderConfigModel[e.activeFieldName].tableHeaderRows[e.rowIndex][t]=o},null,8,["modelValue","onUpdate:modelValue"])]),(0,l.Lk)("div",Ql,[(0,l.bF)(m,{round:"",color:"primary",icon:"delete",size:"xs",class:"float-right",onClick:o=>e.deleteColumn(t)},{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.$t("delete")),1)])),_:1})])),_:2},1032,["onClick"])])])))),128)):(0,l.Q3)("",!0),e.isColumnMode?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",zl,[(0,l.Lk)("div",Wl,[e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].isLabelArea?((0,l.uX)(),(0,l.CE)("div",Jl,[(0,l.bF)(n,{class:"full-width",outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].label,"onUpdate:modelValue":o[0]||(o[0]=o=>e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].label=o)},null,8,["modelValue"])])):((0,l.uX)(),(0,l.CE)("div",Hl,[(0,l.Lk)("div",Kl,[(0,l.bF)(c,{size:"md",modelValue:e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].run_script_on_change,"onUpdate:modelValue":o[1]||(o[1]=o=>e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].run_script_on_change=o),val:"md",label:e.$t("run_script_on_change")},null,8,["modelValue","label"])]),(0,l.Lk)("div",Gl,[(0,l.bF)(u,{modelValue:e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].isDisabled,"onUpdate:modelValue":o[2]||(o[2]=o=>e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].isDisabled=o),label:"is Disabled ?"},null,8,["modelValue"])]),Yl,(0,l.Lk)("div",jl,[(0,l.bF)(n,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].tabIndex,"onUpdate:modelValue":o[3]||(o[3]=o=>e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].tabIndex=o),type:"number"},null,8,["modelValue"])]),Zl,(0,l.Lk)("div",ei,[(0,l.bF)(n,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].field_group,"onUpdate:modelValue":o[4]||(o[4]=o=>e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].field_group=o)},null,8,["modelValue"])]),oi,(0,l.Lk)("div",ti,[(0,l.bF)(n,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].field_threshold,"onUpdate:modelValue":o[5]||(o[5]=o=>e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].field_threshold=o)},null,8,["modelValue"])]),(0,l.Lk)("div",li,(0,i.v_)(e.$t("name")),1),(0,l.Lk)("div",ii,[(0,l.bF)(n,{outlined:"",dense:"",modelValue:e.formBuilderConfigModel[e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].name].name,"onUpdate:modelValue":o[6]||(o[6]=o=>e.formBuilderConfigModel[e.formBuilderConfigModel[e.activeFieldName].tableBodyRows[e.rowIndex][e.columnIndex].name].name=o),onBlur:o[7]||(o[7]=o=>e.onInputFocusLose(e.rowIndex,e.columnIndex))},null,8,["modelValue"])])]))])]))],64)}const si=(0,l.pM)({name:"PropertiesOfTableOfCheckboxes",props:{rowIndex:{type:Number,default:0},columnIndex:{type:Number,default:0},isColumnMode:{type:Boolean,default:!1}},data(){return{}},methods:{onInputFocusLose(e,o){const t=this.formBuilderConfigModel[this.activeFieldName].tableBodyRows[this.rowIndex][this.columnIndex].name,l=this.formBuilderConfigModel[t].name;t!==l&&(this.formBuilderConfigModel[l]=[],this.formBuilderConfigModel[l]=this.formBuilderConfigModel[t],this.formBuilderModel[l]=[],this.formBuilderModel[l]=this.formBuilderModel[t],delete this.formBuilderModel[t],delete this.formBuilderConfigModel[t],this.formBuilderConfigModel[this.activeFieldName].tableBodyRows[e][o].name=l)},deleteColumn(e){this.formBuilderConfigModel[this.activeFieldName].tableHeaderRows[this.rowIndex].tableBodyRows.splice(e,1);for(let o of this.formBuilderConfigModel[this.activeFieldName].tableBodyRows)o.splice(e,1)}},setup(){const e=(0,H.uL)(),{activeFieldName:o,formBuilderModel:t,formBuilderConfigModel:l,formLayout:i}=(0,P.bP)(e);return{formLayout:i,activeFieldName:o,formBuilderModel:t,formBuilderConfigModel:l}}});var ri=t(80460);const ni=(0,Z.A)(si,[["render",ai]]),di=ni;ae()(si,"components",{QInput:vo.A,QBtn:ee.A,QTooltip:le.A,QToggle:_o.A,QCheckbox:ri.A});var mi=t(84050),ci=t(91990);const ui=(0,l.pM)({name:"Properties",mixins:[Nl.A,U.A,mi.A,Al.A],components:{keyboardShortcutInfoBtn:ci.A,PropertiesOfExtractedTable:$l,PropertiesOfTableOfCheckboxes:di},data(){return{rowIndex:(0,W.KR)(0),columnIndex:(0,W.KR)(0),isColumnMode:(0,W.KR)(!0),selectedInput:(0,W.KR)(""),activeComponentName:(0,W.KR)(""),GROUP:fo.VV.GROUP,SUB_GROUP:fo.VV.SUB_GROUP,CHECK_BOX:fo.VV.CHECK_BOX,ENUM_INPUT:fo.VV.ENUM_INPUT,TEXT_INPUT:fo.VV.TEXT_INPUT,EXPORT_BUTTON:fo.VV.EXPORT_BUTTON,PO_MATCH_BUTTON:fo.VV.PO_MATCH_BUTTON,SAVE_RULES_BUTTON:fo.VV.SAVE_RULES_BUTTON,EXPORT_WITHOUT_VALIDATION_BUTTON:fo.VV.EXPORT_WITHOUT_VALIDATION_BUTTON,REJECT_DOCUMENT_BUTTON:fo.VV.REJECT_DOCUMENT_BUTTON,AUTO_ACCOUNTING_BUTTON:fo.VV.AUTO_ACCOUNTING_BUTTON,EXTRACTED_TABLE:fo.VV.EXTRACTED_TABLE,AI_EXTRACTED_TABLE:fo.VV.AI_EXTRACTED_TABLE,EXTRACTED_TABLE_TAB_PANELS:fo.VV.EXTRACTED_TABLE_TAB_PANELS,INVOICE_BUTTONS:fo.VV.INVOICE_BUTTONS,MULTI_CHECK_BOX:fo.VV.MULTI_CHECK_BOX,TABLE_OF_CHECKBOXES:fo.VV.TABLE_OF_CHECKBOXES,HORIZONTAL_SEPARATOR:fo.VV.HORIZONTAL_SEPARATOR,exiting_shortcut_keys:[]}},watch:{activeFieldName(e,o){e!=o&&(this.rowIndex=0,this.columnIndex=0,this.isColumnMode=!1,this.activeComponentName=this.activeFieldName)},workflow_loading(e,o){e!=o&&this.loadWorkflowFilteredList()}},mounted:function(){this.getModelList(),this.getLovList(),this.initDefaults(),this.exiting_shortcut_keys=this.fixedShortCutKeyList(),this.activeComponentName=this.activeFieldName,document.addEventListener("load_settings",this.loadSettings),document.addEventListener("load_settings_for_series",this.loadSettingsForSeries)},unmounted:function(){document.removeEventListener("load_settings",this.loadSettings),document.removeEventListener("load_settings_for_series",this.loadSettingsForSeries)},methods:{addOption(){const e={label:"Option",value:"op"};this.formBuilderConfigModel[this.activeFieldName].options.push(e)},removeOption(e){this.formBuilderConfigModel[this.activeFieldName].options.splice(e,1)},setOptionValue(e){this.formBuilderConfigModel[this.activeFieldName].options[e].value=this.stringReplaceWithString(this.formBuilderConfigModel[this.activeFieldName].options[e].label," ","")},loadSettings(e){this.rowIndex=e.detail.rowIndex,this.columnIndex=e.detail.columnIndex,this.isColumnMode=e.detail.isColumnMode},loadSettingsForSeries(e){const o=e.detail;if(o)for(const[t,l]of Object.entries(this.formBuilderConfigModel[this.activeFieldName].columns)){const e=l;if(e.col_id===o){this.columnIndex=+t;break}}},onFieldNameFocusLose(e){const o=this.formBuilderConfigModel[e].name;if(o!==this.activeComponentName){if(this.formBuilderConfigModel.hasOwnProperty(this.activeComponentName))return this.activeComponentName=e,void this.showErrorToast(this.$t("pages.messages.DUPLICATE_FIELD_FOUND"));if(!this.validateField(o))return this.activeComponentName=o,void(this.formBuilderConfigModel[e].name=o);this.formBuilderConfigModel[o].name=this.activeComponentName;e:for(const t of this.formLayout)for(let l of t.rows){if(l.name===e){if(l.fieldType==fo.VV.SUB_GROUP){l.name=this.formBuilderConfigModel[o].name,l.label=this.formBuilderConfigModel[o].label,l.elementWidth=this.formBuilderConfigModel[o].elementWidth;break e}for(const[e,t]of Object.entries(this.formBuilderConfigModel[o]))l[e]=t;break e}if(l.fieldType==fo.VV.SUB_GROUP&&l.rows.length>0){const t=l.rows;for(let l of t)if(l.name===e){for(const[e,t]of Object.entries(this.formBuilderConfigModel[o]))l[e]=t;break e}}}this.formBuilderConfigModel[this.activeComponentName]={},this.formBuilderConfigModel[this.activeComponentName]=JSON.parse(JSON.stringify(this.formBuilderConfigModel[o])),this.formBuilderModel[this.activeComponentName]={},this.formBuilderModel[this.activeComponentName]=JSON.parse(JSON.stringify(this.formBuilderModel[o])),this.activeFieldName=this.activeComponentName,delete this.formBuilderModel[o],delete this.formBuilderConfigModel[o]}},validateField(e){let o=!0;return""===e||null===e?(o=!1,this.showErrorToast(this.$t("pages.messages.NAME_MANDATORY"))):this.hasWhiteSpace(e)?(o=!1,this.showErrorToast(this.$t("pages.messages.SPACES_NOT_ALLOWED"))):this.checkFirstLetterIsSpecialOrNumber(e)&&(o=!1,this.showErrorToast(this.$t("errors.special_letter_number_not_allowed"))),o},updateFieldName(e){this.activeComponentName=this.stringReplaceWithString(this.formBuilderConfigModel[e].label," ","_"),this.onFieldNameFocusLose(e)},handleElementWidth(e){e>100?(this.formBuilderConfigModel[this.activeFieldName].elementWidth=100,this.showErrorToast(this.$t("field_length_between_3_100"))):e<3&&(this.formBuilderConfigModel[this.activeFieldName].elementWidth=3,this.showErrorToast(this.$t("field_length_between_3_100")))},renderModelDropdown(){return this.formBuilderConfigModel[this.activeFieldName].fieldType===this.TEXT_INPUT||this.formBuilderConfigModel[this.activeFieldName].fieldType===this.CHECK_BOX},onUpdateTROCRModel(){var e;const o=(0,S.$)("#"+this.activeFieldName);o&&(null===(e=o.closest(".element_parent"))||void 0===e||e.classList.toggle("text-primary"))},onColumnUpdateTROCRModel(e,o){const t=(0,S.$)("#col_"+e);t&&(o?t.classList.add("text-primary"):t.classList.remove("text-primary"))},renderTabIndexField(){return this.TEXT_INPUT===this.formBuilderConfigModel[this.activeFieldName].fieldType||this.CHECK_BOX===this.formBuilderConfigModel[this.activeFieldName].fieldType||this.MULTI_CHECK_BOX===this.formBuilderConfigModel[this.activeFieldName].fieldType},onShortCutKeyUpdate(e){e&&(e=e.toUpperCase());const o=this.formBuilderConfigModel[this.activeFieldName].short_cut_key_1,t=o.toUpperCase()+e;if(this.formBuilderConfigModel[this.activeFieldName].error=!1,!this.vaidateShortCutKey(t))return this.formBuilderConfigModel[this.activeFieldName].error=!0,void(this.formBuilderConfigModel[this.activeFieldName].short_cut_key_2="");this.formBuilderConfigModel[this.activeFieldName].short_cut_key_2=e.charAt(e.length-1)},vaidateShortCutKey(e){if(!e)return!0;const o=this.isUsedByOther(e);return!0!==o&&-1===this.exiting_shortcut_keys.indexOf(e)},isUsedByOther(e){let o=!1;for(const[t,l]of Object.entries(this.formBuilderConfigModel))"Group"===l.fieldType&&this.activeFieldName!=t&&e===l.short_cut_key_2.toUpperCase()&&(o=!0);return o},initDefaults(){const e=this.formBuilderConfigModel[this.activeFieldName].enforce_list_of_values;e||(this.formBuilderConfigModel[this.activeFieldName].enforce_list_of_values=!1)},onListOfValueSelect(e){e||(this.formBuilderConfigModel[this.activeFieldName].enforce_list_of_values=!1)},isRunScriptEnabled(){return this.formBuilderConfigModel[this.activeFieldName].fieldType===this.TEXT_INPUT||this.formBuilderConfigModel[this.activeFieldName].fieldType===this.ENUM_INPUT||this.formBuilderConfigModel[this.activeFieldName].fieldType===this.CHECK_BOX},isButtonType(){return this.formBuilderConfigModel[this.activeFieldName].fieldType===this.EXPORT_BUTTON||this.formBuilderConfigModel[this.activeFieldName].fieldType===this.PO_MATCH_BUTTON||this.formBuilderConfigModel[this.activeFieldName].fieldType===this.SAVE_RULES_BUTTON||this.formBuilderConfigModel[this.activeFieldName].fieldType===this.EXPORT_WITHOUT_VALIDATION_BUTTON||this.formBuilderConfigModel[this.activeFieldName].fieldType===this.REJECT_DOCUMENT_BUTTON},buttonTypeUpdated(e){"po_match"===e&&(this.formBuilderConfigModel[this.activeFieldName].fieldType=fo.VV.PO_MATCH_BUTTON),"save_rules"===e&&(this.formBuilderConfigModel[this.activeFieldName].fieldType=fo.VV.SAVE_RULES_BUTTON),"export_without_validation"===e&&(this.formBuilderConfigModel[this.activeFieldName].fieldType=fo.VV.EXPORT_WITHOUT_VALIDATION_BUTTON),"reject"===e&&(this.formBuilderConfigModel[this.activeFieldName].fieldType=fo.VV.REJECT_DOCUMENT_BUTTON)},loadWorkflowFilteredList(){this.filter_workflow_list=this.workflow_list},filterWorkflowlistEvent(e,o,t){o(e?()=>{const o=e.toLowerCase();this.filter_workflow_list=this.workflow_list.filter((e=>e.label.toLowerCase().startsWith(o)))}:()=>{this.filter_workflow_list=this.workflow_list})}},setup(){const e=(0,H.uL)(),{activeFieldName:o,formBuilderModel:t,formBuilderConfigModel:l,formLayout:i}=(0,P.bP)(e),a=(0,H.cY)(),{getModelList:s}=a,{model_list:r}=(0,P.bP)(a),n=(0,H.yM)(),{getLovList:d}=n,{lov_list:m}=(0,P.bP)(n),c=(0,H.Tm)(),{workflow_loading:u,workflow_list:h}=(0,P.bP)(c);return{workflow_loading:u,workflow_list:h,filter_workflow_list:(0,W.KR)([]),lov_list:m,getLovList:d,model_list:r,formLayout:i,activeFieldName:o,formBuilderModel:t,formBuilderConfigModel:l,options:[{label:"Export",value:ho.aH.export},{label:"Export mit Sonderwunsch",value:ho.aH.export_with_sonderwunsche},{label:"Export Without Validation",value:ho.aH.export_without_validation},{label:"PO Match",value:ho.aH.po_match},{label:"Save Rules",value:ho.aH.save_rules},{label:"Save",value:ho.aH.save},{label:"Reject",value:ho.aH.reject},{label:"Zurückgeben",value:ho.aH.reject},{label:"Quotes Detail",value:ho.aH.quotes_detail},{label:"Certificate of Analysis",value:ho.aH.coa}],shortCutKeyList:[{label:"Shift",value:"shift"},{label:"Alt",value:"alt"}],spaceFromTopList:[{label:"None",value:""},{label:"Extra Small",value:"q-mt-xs"},{label:"Small",value:"q-mt-sm"},{label:"Medium",value:"q-mt-md"},{label:"Large",value:"q-mt-lg"},{label:"Extra Large",value:"q-mt-xl"}],spaceFromBottomList:[{label:"None",value:""},{label:"Extra Small",value:"q-mb-xs"},{label:"Small",value:"q-mb-sm"},{label:"Medium",value:"q-mb-md"},{label:"Large",value:"q-mb-lg"},{label:"Extra Large",value:"q-mb-xl"}],getModelList:s}}}),hi=(0,Z.A)(ui,[["render",El],["__scopeId","data-v-623870c3"]]),pi=hi;ae()(ui,"components",{QToggle:_o.A,QSelect:Rl.A,QInput:vo.A,QIcon:te.A,QTooltip:le.A,QBtn:ee.A,QCheckbox:ri.A});var fi=t(77362);const gi={class:"form-builder-settings"},_i={class:"col-12"};function vi(e,o,t,a,s,r){const n=(0,l.g2)("q-tooltip"),d=(0,l.g2)("q-icon"),m=(0,l.g2)("q-checkbox");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.eW)((0,i.v_)(e.$t("show_tab_index"))+" ",1),(0,l.bF)(d,{name:"help_outline",class:"help-sign cursor-pointer"},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,(0,i.v_)(e.$t("show_tab_index")),1)])),_:1})])),_:1}),(0,l.bF)(m,{modelValue:e.showTabIndex,"onUpdate:modelValue":o[0]||(o[0]=o=>e.showTabIndex=o)},null,8,["modelValue"]),(0,l.Lk)("div",gi,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.fields,((o,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"row"},[(0,l.Lk)("div",_i,[(0,l.eW)((0,i.v_)(e.$t(o.translation_key))+" ",1),o.has_help?((0,l.uX)(),(0,l.Wv)(d,{key:0,name:"help_outline",onClick:t=>e.scrollToHelpSection(o.help_id),class:"help-sign cursor-pointer"},{default:(0,l.k6)((()=>[(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",null,(0,i.v_)(e.$t(o.help_tooltip_translation_key)),1)])),_:2},1024)])),_:2},1032,["onClick"])):(0,l.Q3)("",!0),((0,l.uX)(),(0,l.Wv)((0,l.$y)(o.type),{outlined:"","field-name":o.name,modelValue:e.settings[o.name],"onUpdate:modelValue":t=>e.settings[o.name]=t},null,8,["field-name","modelValue","onUpdate:modelValue"]))])])))),128))])],64)}var bi=t(16774),yi=t(64307);const Ci=(0,l.pM)({name:"Properties",mixins:[Nl.A,U.A,yi.A],components:{QCheckbox:ri.A,QInput:vo.A},data(){return{fields:bi.O}},methods:{},setup(){const e=(0,H.XB)(),{settings:o}=(0,P.bP)(e),{setGeneralSettings:t}=e,l=(0,H.uL)(),{showTabIndex:i}=(0,P.bP)(l);return{showTabIndex:i,settings:o,setGeneralSettings:t}}}),ki=(0,Z.A)(Ci,[["render",vi]]),wi=ki;function Fi(e,o,t,i,a,s){const r=(0,l.g2)("f-btn");return(0,l.uX)(),(0,l.Wv)(r,{label:e.$t("auto_generate_template"),class:"float-right q-mr-md",onClick:o[0]||(o[0]=o=>e.autoGenerateTemplate())},null,8,["label"])}ae()(Ci,"components",{QIcon:te.A,QTooltip:le.A,QCheckbox:ri.A,QField:Fo.A});const Ti=(0,l.pM)({name:"auto-generate-default-layout",mixins:[U.A],components:{},data(){return{buttonObj:(0,W.KR)(po.o.data().buttonObj)}},methods:{autoGenerateTemplate(){let e=[],o=[],t=new Map,l=JSON.parse(JSON.stringify(this.defaultGroups));for(let s of l){s.elementWidth=100,s.is_stcky_group=!1,s.right_border=!1,s.bottom_border=!1,s.is_panel_section_group=!1;let l=[];t.has(s.name)&&e.push(s.name),t.set(s.name,s.name),s.rows.forEach(((o,i)=>{o.forEach(((o,i)=>{o.elementWidth=50,l.push(o),t.has(o.field_name)&&e.push(o.field_name),t.set(o.field_name,o.field_name)}))})),s.rows=[],s.rows=l,l&&l.length>0&&o.push(s)}if(e&&e.length>0)return void this.showErrorToast("Duplicate key found: "+e.join(", "));this.formBuilderModel=[],this.formBuilderConfigModel=[],this.formLayout=o;const i=this.formLayout.length-1;let a=this.formLayout[i];a.rows||(a.rows=[]),a.rows.push(this.prepareExportButton()),a.rows.push(this.prepareSaveRulesButton());for(let s of this.defaultFields)s.isAlreadyAdded=!1;this.reRenderGroupForm++},prepareExportButton(){const e=JSON.parse(JSON.stringify(this.buttonObj));return e.name="export",e.label="Export",e.text="Export",e.exportType="export",e.translation_key="export_btn",e.fieldType=fo.VV.EXPORT_BUTTON,e},prepareSaveRulesButton(){const e=JSON.parse(JSON.stringify(this.buttonObj));return e.name="save_rules",e.label="Save Rules",e.text="Save Rules",e.exportType="save_rules",e.translation_key="save_rules_btn",e.fieldType=fo.VV.SAVE_RULES_BUTTON,e}},setup(){const e=(0,H.uL)(),{defaultGroups:o,formLayout:t,formBuilderModel:l,formBuilderConfigModel:i,reRenderGroupForm:a,defaultFields:s}=(0,P.bP)(e);return{formLayout:t,defaultFields:s,defaultGroups:o,formBuilderModel:l,reRenderGroupForm:a,formBuilderConfigModel:i}}}),Bi=(0,Z.A)(Ti,[["render",Fi]]),Li=Bi;var Mi=t(72608),Ii=t(29104);const xi=e=>((0,l.Qi)("data-v-6fa12cd0"),e=e(),(0,l.jt)(),e),Ei={class:"image-decorator",ref:"image-area",id:"image_area"},Ai={id:"screenshot_container"},Ni=["src","width"],Oi=["onMousedown","onMousemove","onClick"],Vi=["id"],Si=["onClick"],Pi=["onClick"],Ui=xi((()=>(0,l.Lk)("div",{class:"select-areas--delete_area"},null,-1))),Xi=[Ui],Ri={class:"c-crop--hide_main"},qi=["src","width"];function $i(e,o,t,a,s,r){const n=(0,l.g2)("Resizable");return(0,l.uX)(),(0,l.CE)("div",Ei,[(0,l.Lk)("div",Ai,[e.url?((0,l.uX)(),(0,l.CE)("img",{key:0,onLoad:o[0]||(o[0]=(...o)=>e.prepareImageData&&e.prepareImageData(...o)),id:"screenshot",class:"original-image",src:e.url,alt:"Original Image",width:e.width},null,40,Ni)):(0,l.Q3)("",!0),(0,l.Lk)("div",{class:"select-areas--overlay",style:(0,i.Tr)({opacity:e.opacityOverlay,position:"absolute",width:e.originImgSize.w+"px",height:e.originImgSize.h+"px",display:"block"})},null,4),(0,l.Lk)("div",{class:"pointer-events-none",id:"draw",style:(0,i.Tr)({"background-color":"rgb(0, 0, 0)",opacity:0,position:"absolute",width:e.originImgSize.w+"px",height:e.originImgSize.h+"px"}),onMousedown:o[1]||(o[1]=(...o)=>e.mouseDown&&e.mouseDown(...o)),onMousemove:o[2]||(o[2]=(...o)=>e.mouseMove&&e.mouseMove(...o))},null,36),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.areas,(o=>((0,l.uX)(),(0,l.CE)("div",{key:o.id},[(0,l.Lk)("div",{onMousedown:(0,Ii.D$)((t=>e.startMove(o,t)),["stop","prevent"]),onMousemove:t=>e.doMove(o,t),onClick:t=>e.showConnectionFromReact(o.connectionId)},[(0,l.Lk)("div",{id:"table"==o.areaType?o.connectionId+"_"+o.id+"_rect":o.connectionId+"_rect",class:"select-areas--outline",style:(0,i.Tr)({opacity:e.opacityOutline,position:"absolute",cursor:"default",width:o.width+4+"px",height:o.height+4+"px",left:e.areaDisplayPosX(o)-2+"px",top:e.areaDisplayPosY(o)-2+"px","z-index":o.z})},null,12,Vi),(0,l.Lk)("div",{class:"select-areas--background_area",style:(0,i.Tr)({background:`#fff url('${e.url}') -${o.x}px -${o.y}px / ${e.originImgSize.w}px ${e.originImgSize.h}px no-repeat`,position:"absolute",cursor:o.connectionId==e.connectionId?"move":"pointer",width:o.width+"px",height:o.height+"px",left:e.areaDisplayPosX(o)+"px",top:e.areaDisplayPosY(o)+"px","z-index":o.z+2}),onClick:t=>e.changeResizable(o.id)},null,12,Si),"table"==o.areaType&&o.resizable&&o.connectionId==e.connectionId?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"delete-area",style:(0,i.Tr)({display:"block",left:e.areaDisplayPosX(o)+o.width+"px",top:e.areaDisplayPosY(o)-25+"px","z-index":o.z+2}),onClick:t=>e.deleteSelected(o.id)},Xi,12,Pi)):(0,l.Q3)("",!0),o.connectionId==e.connectionId?((0,l.uX)(),(0,l.Wv)(n,{key:1,item:o,posImg:e.posImg,"pos-correction":e.posCorrection,onStartDrag:e.startDrag,onDoDrag:e.doDrag},null,8,["item","posImg","pos-correction","onStartDrag","onDoDrag"])):(0,l.Q3)("",!0)],40,Oi)])))),128))]),(0,l.Lk)("div",Ri,[(0,l.Lk)("img",{id:"c-crop--hide_img",src:e.url,alt:"",width:e.width},null,8,qi)])],512)}var Di=t(57034),Qi=function(e,o,t,l){function i(e){return e instanceof t?e:new t((function(o){o(e)}))}return new(t||(t=Promise))((function(t,a){function s(e){try{n(l.next(e))}catch(o){a(o)}}function r(e){try{n(l["throw"](e))}catch(o){a(o)}}function n(e){e.done?t(e.value):i(e.value).then(s,r)}n((l=l.apply(e,o||[])).next())}))};let zi,Wi,Ji;const Hi=(0,l.pM)({data(){return{mousedown:!1,originImgSize:{w:0,h:0,r:0},url:this.cropUrl,posImg:{top:0,left:0},areas:[{id:1,x:10,y:10,startX:10,startY:10,width:10,height:10,z:0,connectionId:"",areaType:"input",resizable:!1}],latestAreaItem:{startX:0,startY:0,endX:0,endY:0},scrollLeft:0,scrollTop:0,moveTempX:0,moveTempY:0,moveCurrentX:0,moveCurrentY:0,temp:0,dragdown:!1,move:!1,imageHeight:0,imageWidth:0}},props:{cropUrl:{type:String,default:"https://dev.doc2api.cloudintegration.eu/resource/image/1b90b6d5-63b5-446b-92a4-a60d57dc0edd/1.png"},width:{type:Number,default:1500},opacityOutline:{type:Number,default:.2},opacityOverlay:{type:Number,default:.2},posCorrection:{type:Boolean,default:!0},markedAreasStr:{type:String,default:""},connectionId:{type:String,default:""},allowMultiSelection:{type:Boolean,default:!1}},components:{Resizable:Di.A},mixins:[U.A],emits:["restrictDrawing"],watch:{cropUrl(e){this.url=e,setTimeout((()=>{this.setSize()}),200)},markedAreasStr(e){this.prepareDataForAreas()},width(e){return Qi(this,void 0,void 0,(function*(){yield this.setSize(),this.prepareImageData()}))}},methods:{areaDisplayPosX(e){return e.x+(this.posCorrection?this.posImg.left:0)},areaDisplayPosY(e){return e.y+(this.posCorrection?this.posImg.top:0)},mousePosX(e){return e.pageX-this.posImg.left},mousePosY(e){return e.pageY-this.posImg.top},setSize(){return Qi(this,void 0,void 0,(function*(){if(!this.url)return;let e=yield this.getSize(this.url);this.originImgSize=e}))},getSize(e){let o=this.$el.querySelector("#c-crop--hide_img");return new Promise((t=>{e&&o?(o.onload=function(){const e=zi.getSizeImg(o);t(e)},o.src=e):t({w:0,h:0,r:0})}))},getSizeImg(e){let o=e.width,t=e.height,l=0===o&&0===t?0:o/t;return{w:o,h:t,r:l}},calcPosOfBox(){let e=this.$refs["image-area"];this.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,this.scrollTop=window.pageYOffset||document.documentElement.scrollTop;let o=e.getBoundingClientRect().top,t=e.getBoundingClientRect().left;this.posImg.top=o+this.scrollTop,this.posImg.left=t+this.scrollLeft},mouseDown(e){this.mousedown=!0;let o=null;if(o=this.areas.length>0?this.areas.slice(-1).pop().id+1:1,0!=this.latestAreaItem.startX&&0!=this.latestAreaItem.startY){let t=this.latestAreaItem.startX,l=this.latestAreaItem.startY,i=e.layerX,a=e.layerY,s=i-t,r=a-l;(s<0||r<0)&&(i=t,a=l,t=e.layerX,l=e.layerY,s=i-t,r=a-l);let n={id:o,x:t,y:l,startX:t,startY:l,width:s,height:r,z:0,connectionId:this.connectionId,areaType:this.allowMultiSelection?"table":"input",resizable:!1};return this.areas.push(n),this.temp=n.id,void(this.latestAreaItem={startX:0,startY:0,endX:0,endY:0})}if(o){let t={id:o,x:this.mousePosX(e),y:this.mousePosY(e),startX:this.mousePosX(e),startY:this.mousePosY(e),width:0,height:0,z:0,connectionId:this.connectionId,areaType:this.allowMultiSelection?"table":"input",resizable:!1};this.areas.push(t),this.temp=t.id,this.latestAreaItem.startX=this.mousePosX(e),this.latestAreaItem.startY=this.mousePosY(e),this.latestAreaItem.endX=0,this.latestAreaItem.endY=0}},mouseMove(e){this.mousedown&&(this.areas.filter((e=>e.id===this.temp)).map((o=>{let t=e.pageX-this.posImg.left,l=e.pageY-this.posImg.top,i=o.startX-t,a=o.startY-l;i<0&&(i*=-1,t-=i),a<0&&(a*=-1,l-=a),o.x=t,o.y=l,o.width=i,o.height=a})),this.latestAreaItem={startX:0,startY:0,endX:0,endY:0})},mouseUp(){this.mousedown=!1,this.areas=this.areas.filter((e=>e.width>=3&&e.height>=3)),this.endMove(),this.endDrag(),this.prepareMarkedAreasList(),this.allowMultiSelection||this.$emit("restrictDrawing")},changeResizable(e){this.areas.filter((o=>o.id===e)).map((e=>{e.resizable=!0,e.z=100})),this.areas.filter((o=>o.id!==e)).map((e=>{e.resizable=!1,e.z=0}))},deleteSelected(e){this.areas=this.areas.filter((o=>o.id!==e)),this.prepareMarkedAreasList()},startDrag(){this.dragdown=!0},doDrag(e,o,t){if(this.dragdown)switch(o){case"w":t.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-t.pageX+this.posImg.left,e.x=t.pageX-this.posImg.left),e.width<10&&(e.x=e.x-10,e.width=e.width+10);break;case"sw":t.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-t.pageX+this.posImg.left,e.x=t.pageX-this.posImg.left),t.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=t.pageY-this.posImg.top-e.y),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=10);break;case"s":t.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=t.pageY-this.posImg.top-e.y),e.height<10&&(e.height=10);break;case"se":t.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=t.pageX-this.posImg.left-e.x),t.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=t.pageY-this.posImg.top-e.y),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=10);break;case"e":t.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=t.pageX-this.posImg.left-e.x),e.width<10&&(e.x=e.x-10,e.width=e.width+10);break;case"ne":t.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=t.pageX-this.posImg.left-e.x),t.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-t.pageY),e.y=t.pageY-this.posImg.top),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"n":t.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-t.pageY),e.y=t.pageY-this.posImg.top),e.height<10&&(e.height=e.height+10);break;case"nw":t.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-t.pageY),e.y=t.pageY-this.posImg.top),t.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-t.pageX+this.posImg.left,e.x=t.pageX-this.posImg.left),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;default:break}},endDrag(){this.dragdown=!1},startMove(e,o){this.move=!0,e.connectionId==this.connectionId&&(this.moveTempX=o.clientX,this.moveTempY=o.clientY,this.moveCurrentX=e.x,this.moveCurrentY=e.y)},doMove(e,o){if(e.connectionId==this.connectionId&&this.move){let t=this.moveCurrentX+(o.clientX-this.moveTempX),l=this.moveCurrentY+(o.clientY-this.moveTempY),i=this.originImgSize.w-e.width,a=this.originImgSize.h-e.height;t>0&&l>0&&t<i&&l<a&&(e.x=t,e.y=l)}},endMove(){this.move=!1},creatReactangle(e,o,t,l,i,a){let s=null;if(s=this.areas.length>0?this.areas.slice(-1).pop().id+1:1,s){let r={id:s,x:e,y:o,startX:e,startY:o,width:t,height:l,z:0,connectionId:i,areaType:a,resizable:!1};this.areas.push(r),this.temp=r.id}},prepareImageData(){Ji=(0,S.$)("#screenshot"),Ji&&(this.imageWidth=Ji.offsetWidth,this.imageHeight=Ji.offsetHeight,this.prepareDataForAreas())},prepareDataForAreas(){this.areas=[];let e=[];this.markedAreasList&&this.markedAreasList.length>0&&Array.from(this.markedAreasList).forEach((o=>{e=o.markedArea.split(",");let t=Math.round(this.imageWidth*e[0]),l=Math.round(this.imageHeight*e[1]),i=Math.round(this.imageWidth*e[2]),a=Math.round(this.imageHeight*e[3]),s=i-t,r=a-l;s<0&&(s*=-1,t-=s),r<0&&(r*=-1,l-=r),this.creatReactangle(t,l,s,r,o.connectionId,o.areaType)}))},getTableAreaAsString(e,o,t,l){let i=e/this.imageWidth,a=o/this.imageHeight,s=t/this.imageWidth,r=l/this.imageHeight;return i.toString()+","+a.toString()+","+s.toString()+","+r.toString()},prepareMarkedAreasList(){this.markedAreasList=[],Array.from(this.areas).forEach((e=>{let o=e.width+e.x,t=e.height+e.y;this.markedAreasList.push(Object.assign({},{markedArea:this.getTableAreaAsString(e.x,e.y,o,t),connectionId:e.connectionId,areaType:e.areaType}))}))},calculateLeftPosition(e){let o=this.areaDisplayPosX(e)+e.width;return o+50>=this.imageWidth&&(o=this.areaDisplayPosX(e)-60),o+"px"},calculatePositionFromTop(e){let o=this.areaDisplayPosY(e)-25;return o<0&&(o=this.areaDisplayPosY(e)),o+"px"},showConnectionFromReact(e){const o=new CustomEvent("show_connection_from_react",{detail:{connectionId:e}});document.dispatchEvent(o)}},mounted(){zi=this,this.setSize(),Wi=(0,S.$)("#image_area"),this.calcPosOfBox(),Wi.addEventListener("mousemove",this.calcPosOfBox),Wi.addEventListener("scroll",this.calcPosOfBox),Wi.addEventListener("mouseup",this.mouseUp)},unmounted:function(){Wi.removeEventListener("mousemove",this.calcPosOfBox),Wi.removeEventListener("scroll",this.calcPosOfBox),Wi.removeEventListener("mouseup",this.mouseUp)},setup(){const e=(0,H.uL)(),{markedAreasList:o}=(0,P.bP)(e);return{markedAreasList:o}}}),Ki=(0,Z.A)(Hi,[["render",$i],["__scopeId","data-v-6fa12cd0"]]),Gi=Ki;var Yi=t(64775),ji=t(64233),Zi=t(14907),ea=t(89156),oa=function(e,o,t,l){function i(e){return e instanceof t?e:new t((function(o){o(e)}))}return new(t||(t=Promise))((function(t,a){function s(e){try{n(l.next(e))}catch(o){a(o)}}function r(e){try{n(l["throw"](e))}catch(o){a(o)}}function n(e){e.done?t(e.value):i(e.value).then(s,r)}n((l=l.apply(e,o||[])).next())}))};const ta=(0,l.pM)({el:"#main",mixins:[J.A,U.A,ji.A,Nl.A],components:{AutoGenerateDefaultLayout:Li,DefaultElements:it,FieldsDesigner:Lo,DefaultGroups:zo,Properties:pi,Elements:So,ImportPdf:re,SubHeader:fi.A,ImageComponent:Gi,GeneralSettings:wi,Loader:ea.A,LayoutJsonEditor:uo},watch:{$route(e,o){this.renderComponent=!1,this.isFormBuilderMode=!1,this.defaultFields=[],this.formBuilderModel=[],this.formBuilderConfigModel=[],this.clearCanvas(),this.showImages=!1,this.activeTab="form_elements",this.activeFieldName=""},isExtenedPanel(e){this.disableEnablePanel()}},data(){return{imageIndex:0,templateId:(0,W.KR)(""),subDocType:(0,W.KR)(""),baseUrl:"",page:(0,W.KR)(1),imageHeight:0,imageWidth:200,connectionId:"",componentType:"input",keyImageChange:(0,W.KR)(0),splitterModel:(0,W.KR)(60),formSplitterModel:(0,W.KR)(50),showJsonForm:(0,W.KR)(!1),showPanel:(0,W.KR)(!1),markedAreasStr:"",allowMultiSelection:!1,language_origin:(0,W.KR)("")}},mounted:function(){this.renderComponent=!0,this.isFormBuilderMode=!0,this.formBuilderModel=[],this.formBuilderConfigModel=[],this.docType=this.$route.params.doc_type,this.templateId=this.$route.params.id,this.setSubDocType(),this.baseUrl=K.VA,this.prepareLanguageOriginList(),this.templateId?this.init():(this.formLayout=[],this.formLayoutImages=[],this.saveTemplate(!0)),this.getWorkflows(!0),document.addEventListener("show_connection_from_react",this.showConnectionFromReact),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.restrictDrawing())})),setTimeout((()=>{const e=(0,S.$)(".handle-scroll");e&&e.addEventListener("scroll",this.clearCanvas);const o=(0,S.$)("#field_scrolle");o&&o.addEventListener("scroll",this.clearCanvas)}),1e3)},unmounted:function(){document.removeEventListener("show_connection_from_react",this.showConnectionFromReact);const e=(0,S.$)(".handle-scroll");e&&e.removeEventListener("scroll",this.clearCanvas);const o=(0,S.$)("#field_scrolle");o&&o.removeEventListener("scroll",this.clearCanvas),this.clearCanvas()},methods:{init(){return oa(this,void 0,void 0,(function*(){this.formLayout=[],this.templateId=this.$route.params.id,this.templateId&&(yield this.loadLayoutTemplateById(),setTimeout((()=>{this.initImage(),this.prepareRectangles()}),500))}))},loadLayoutTemplateById(){return oa(this,void 0,void 0,(function*(){let e;try{this.showLoading(),e=yield Po.H7.getDocumentLayoutTemplateById(this.templateId),this.language_origin=e.doc_origin;let o=JSON.parse(e.layout_json);this.showImages=!1,o&&(this.formLayout=o.hasOwnProperty("layout")?o.layout:[],o.hasOwnProperty("images")&&o.images.length>0&&(this.formLayoutImages=o.images,this.showImages=!0),this.proximityTokens=o.proximity_tokens,this.isExtenedPanel=!!o.isExtenedPanelEnabled,this.allowAreaSelection=!e.extraction_type||"FLEX_COORDINATES"!==e.extraction_type,this.setGeneralSettings(o),this.disableEnablePanel())}catch(o){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(o)}finally{this.hideLoading()}this.formLayout&&this.prepareLayoutModel()}))},prepareLayoutModel(){for(const e of this.formLayout)e.fieldType||(e.fieldType=fo.VV.GROUP),this.formBuilderConfigModel[e.name]=JSON.parse(JSON.stringify(e)),this.formBuilderConfigModel[e.name].rows=[],this.formBuilderConfigModel[e.name].hasOwnProperty("short_cut_key_1")||(this.formBuilderConfigModel[e.name]["short_cut_key_1"]="",this.formBuilderConfigModel[e.name]["short_cut_key_2"]=""),this.formBuilderConfigModel[e.name].hasOwnProperty("is_stcky_group")||(this.formBuilderConfigModel[e.name]["is_stcky_group"]=!1)},initImage(){if(!this.showImages)return;let e=(0,S.$)("#image_container");this.imageWidth=e.offsetWidth,this.imageHeight=e.offsetHeight},setSubDocType(){this.$route.query&&this.$route.query.sub_doc_type&&(this.subDocType=String(this.$route.query.sub_doc_type||""))},zoomOut(){this.imageWidth>200&&(this.imageWidth=this.imageWidth-100)},zoomIn(){this.imageWidth=this.imageWidth+100},loadImageDetails(){this.initImage(),this.showPanel=!0,setTimeout((()=>{this.prepareRectangles()}),100)},loadImage(e,o){o&&this.keyImageChange++,this.saveMarkedAreasOfCurrentPage(),this.imageIndex=e,this.page=e+1,this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.prepareRectangles()},prepareFormBuilderJson(){let e=[];for(let[o,t]of this.formLayout.entries()){this.formBuilderConfigModel.hasOwnProperty(t.name)&&(t.elementWidth=this.formBuilderConfigModel[t.name].elementWidth,t.right_border=this.formBuilderConfigModel[t.name].right_border,t.bottom_border=this.formBuilderConfigModel[t.name].bottom_border,t.is_stcky_group=this.formBuilderConfigModel[t.name].is_stcky_group,t.short_cut_key_1=this.formBuilderConfigModel[t.name].short_cut_key_1,t.short_cut_key_2=this.formBuilderConfigModel[t.name].short_cut_key_2,t.is_panel_section_group=this.formBuilderConfigModel[t.name].is_panel_section_group,t.is_stcky_group&&e.push(o));for(let e of t.rows)if(e.fieldType!=fo.VV.SUB_GROUP)Object.assign(e,this.formBuilderConfigModel[e.name]);else{if(e.name=this.formBuilderConfigModel[e.name].name,e.label=this.formBuilderConfigModel[e.name].label,e.elementWidth=this.formBuilderConfigModel[e.name].elementWidth,0==e.rows.length)continue;const o=e.rows;for(let e of o)Object.assign(e,this.formBuilderConfigModel[e.name])}}for(const o of e){const e=this.formLayout[o];this.formLayout.splice(o,1),this.formLayout.unshift(e)}this.$forceUpdate()},validateForDuplicateNameFields(){let e=new Set;for(let[o,t]of this.formLayout.entries())for(let l of t.rows){if(l.fieldType==fo.VV.SUB_GROUP){if(0==l.rows.length)continue;const o=l.rows;for(let t of o){if(e.has(t.name))return{isValid:!1,field:t.name};e.add(t.name)}}else if(e.has(l.name))return{isValid:!1,field:l.name};e.add(l.name)}return{isValid:!0,field:""}},getLayoutJsonStr(){const e={layout:this.formLayout,images:this.formLayoutImages,proximity_tokens:this.proximityTokens,isExtenedPanelEnabled:this.isExtenedPanel};return Object.assign(e,this.getGeneralSettingsToSave()),JSON.stringify(e)},copyTemplate(){(0,Ie.A)(JSON.stringify(this.formLayout)).then((()=>{this.showSuccessToast("Copied!")}))},openJsonForm(){this.showJsonForm=!0},savePastedJson(){const e=this.$refs.layoutJsonEditor.getJson();e&&(this.formLayout=JSON.parse(e),this.saveTemplate(!1))},createTemplateAccordingToOrigin(){this.templateId="",this.saveTemplate(!0)},saveTemplate(e,o=!0){return oa(this,void 0,void 0,(function*(){const t=this.validateForDuplicateNameFields();if(!t.isValid)return void this.showErrorToast("Duplicate key found: "+t.field);let l;e&&(this.saveMarkedAreasOfCurrentPage(),this.prepareFormBuilderJson());try{this.showLoading();let e={doc_type_key:this.docType,sub_doc_type_key:this.subDocType||"",title:"form builder",layout_json:this.getLayoutJsonStr()};this.templateId?l=yield Po.H7.updateDocumentLayoutTemplateById(e,this.templateId):(e.doc_origin=this.language_origin,l=yield Po.H7.createDocumentLayoutTemplate(e)),l&&o&&this.showSuccessToast("Template Sucessfully saved"),this.templateId=l.id,this.$forceUpdate(),this.refreshView()}catch(i){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(i)}finally{this.hideLoading()}}))},refreshView(){const e=Mi.Z.getDetailViewRoute({doc_type_key:this.docType||"",layout_template_id:this.templateId||"",sub_doc_type_key:this.subDocType||""});e||logInfo("missing params for url"),this.$router.push(e)},removeBordersFromRectangles(){let e=document.body.getElementsByTagName("rect");for(let o of e)o.classList.remove("border")},removeAllConnectionLines(){const e=(0,S.$)("#connection_line");e&&e.remove()},saveMarkedAreasOfCurrentPage(){for(const e of this.documentTableNames)if(this.formBuilderConfigModel.hasOwnProperty(e))for(const o of this.formBuilderConfigModel[e].columns)o.coords=[];for(const e of this.markedAreasList)this.saveMarkedAreas(e.connectionId,e.markedArea,e.areaType)},saveMarkedAreas(e,o,t){let l;e:for(const i of this.formLayout)for(let a of i.rows){if(a.fieldType===fo.VV.EXTRACTED_TABLE&&"table"===t&&(l=e.split("__"),a.name=l[1])){for(const e of this.formBuilderConfigModel[l[1]].columns)e.col_id==l[0]&&e.coords.push({coord:o,page:this.page});break e}if(fo.iS.includes(a.fieldType)&&"table"!==t&&(a.fieldType===fo.VV.TABLE_OF_CHECKBOXES&&this.formBuilderConfigModel[a.name].tableBodyRows.forEach(((t,l)=>{t.forEach(((t,l)=>{if(t.name===e)return t.coords=[],t.page=this.page,void t.coords.push(o)}))})),a.name===e)){this.formBuilderConfigModel[e].page=this.page,this.formBuilderConfigModel[e].coords=[],this.formBuilderConfigModel[e].coords.push(o),a.page=this.page,a.coords=[],a.coords.push(o);break e}}},connect(e,o,t,l){const i=this.getOffset(e),a=this.getOffset(o),s=i.left,r=i.top+i.height/2;let n=a.left+a.width;const d=a.top+a.height/2,m=Math.sqrt((n-s)*(n-s)+(d-r)*(d-r)),c=(s+n)/2-m/2,u=(r+d)/2-l/2,h=Math.atan2(r-d,s-n)*(180/Math.PI);this.removeAllConnectionLines();const p=document.createElement("div");p.setAttribute("id","connection_line"),p.style.cssText="z-index: 102;padding:0px; margin:0px; height:"+l+"px; background-color:"+t+"; line-height:1px; position:absolute; left:"+c+"px; top:"+u+"px; width:"+m+"px; -moz-transform:rotate("+h+"deg); -webkit-transform:rotate("+h+"deg); -o-transform:rotate("+h+"deg); -ms-transform:rotate("+h+"deg); transform:rotate("+h+"deg);",document.body.appendChild(p)},getOffset(e){const o=e.getBoundingClientRect();return{left:o.left+window.pageXOffset,right:o.right+window.pageXOffset,top:o.top+window.pageYOffset,width:o.width||e.offsetWidth,height:o.height||e.offsetHeight}},refreshCanvas(){this.$forceUpdate(),this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.prepareRectangles()},clearCanvas(){this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays()},getElementToConnect(e){return this.componentType=e.getAttribute("child_type"),"checkbox"===this.componentType?e.querySelector(".q-checkbox__bg"):e},markTableColumns(e){this.allowMultiSelection=!0,this.connectionId=e,this.enableDrawing(),this.showNotification("Please Mark Areas against this column")},showConnectionFromReact(e){if(!e.detail||!e.detail.connectionId)return;const o=e.detail.connectionId;let t=(0,S.$)("#"+o);this.scrollInToViewCenter(t),this.showConnectionFromField(e.detail.connectionId)},showConnectionFromField(e){this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.restrictDrawing(),this.allowMultiSelection=!1,this.connectionId=e;let o=(0,S.$)("#"+e),t=o.getAttribute("pageno"),l=!1;t&&+t!==this.page&&(l=!0,this.page=+t,this.imageIndex=this.page-1,this.loadImageDetails(),this.$forceUpdate()),o.setAttribute("pageno",this.page.toString()),setTimeout((()=>{let t=(0,S.$)("#"+e+"_rect");t&&(this.scrollInToViewCenter(t),document.documentElement.scrollTop=0),setTimeout((()=>{if(!t){this.componentType=o.getAttribute("child_type");let e="";if("checkbox"===this.componentType)e=o.getAttribute("aria-checked")?"true":"";else{let t=o.querySelector(this.componentType);t&&(e=t.value)}return""!=e?this.showNotification(this.$t("pages.messages.SELECT_AREA_NO_COORDINATES")):this.showNotification(this.$t("pages.messages.SELECT_AREA")),void this.enableDrawing()}this.showConnection(e,t,this.getElementToConnect(o))}),50)}),l?400:100)},showConnection(e,o,t){o&&t?(this.drawOverlay(e,o),o.setAttribute("class","border"),this.connect(o,t,"#26a69a",2)):alert(this.$t("pages.messages.NO_MAPPING_AVAILABLE"))},drawOverlay(e,o){var t,l;this.connectionId=e,this.removeExistingConfirmationOverlays();const i=(0,S.$)("#"+e);if(!i)return;let a;this.componentType=i.getAttribute("child_type");let s="";if("checkbox"===this.componentType)s="false",a="Un-Checked","true"===i.getAttribute("aria-checked")&&(a="Checked",s="true");else{const o=(0,S.$)("."+e);s=o.innerHTML;const t=i.querySelector(this.componentType);a=t.value}const r=this.getOffset(o),n=document.createElement("div");n.setAttribute("id","confirmation_overlay"),n.style.position="absolute",n.style.zIndex="99999",n.style.left=r.left+"px",n.style.top=(+r.top+ +r.height+6).toString()+"px",n.style.background="#e2e2e2",n.style.color="#898989",n.style.minHeight="80px",n.style.minWidth="100px",n.style.maxWidth="50%",n.style.textAlign="center",n.style.padding="5px 10px 5px 10px",n.style.letterSpacing="1px",n.style.borderRadius="7px",n.style.boxShadow="0 1px 2px rgba(0,0,0,0.07),\n      0 2px 4px rgba(0,0,0,0.07),\n      0 4px 8px rgba(0,0,0,0.07),\n      0 8px 16px rgba(0,0,0,0.07),\n      0 16px 32px rgba(0,0,0,0.07),\n      0 32px 64px rgba(0,0,0,0.07);",n.innerHTML=`<div><b>${a}</b></div><div><b style='font-size: 9px'>${s}</b></div>\n                  <div>\n\n                  <span class='divOverlayWrong'>\n                    <i connectionId='${e}' style='display: inline-block;border-radius: 50px;box-shadow: 0px 0px 2px #888;padding: 0.5em 0.6em;' class='fa fa-times cursor-pointer'></i>\n                  </span>\n                  <span id='divOverlayCorrect'>\n                    <i style='display: inline-block;border-radius: 50px;box-shadow: 0px 0px 2px #888;padding: 0.5em 0.5em;' class='fas fa-check cursor-pointer'></i>\n                  </span></div>`,document.body.appendChild(n),null===(t=(0,S.$)("#divOverlayCorrect"))||void 0===t||t.addEventListener("click",(e=>{this.removeExistingConfirmationOverlays(),this.removeBordersFromRectangles(),this.removeAllConnectionLines()}));let d=document.getElementsByClassName("divOverlayWrong");Array.from(d).forEach((e=>{null===e||void 0===e||e.addEventListener("click",(e=>{this.connectionId=e.target.getAttribute("connectionId"),this.connectionId?(this.initTempFieldDelete(),this.markedAreasStr=JSON.stringify(this.markedAreasList),this.removeExistingConfirmationOverlays(),this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.$forceUpdate(),this.enableDrawing()):logError("connection id not found")}))}));try{const e=(0,S.$)("#confirmation_overlay"),o=null===(l=(0,S.$)("#confirmation_overlay"))||void 0===l?void 0:l.clientWidth,t=r.width,i=(+o-+t)/2;e.style.left=+r.left-+i+"px"}catch(m){}},initTempFieldDelete(){this.formBuilderConfigModel[this.connectionId].coords=[],this.clearTableOfCheckboxesCoords(),this.markedAreasList=this.markedAreasList.filter((e=>e.connectionId!==this.connectionId))},clearTableOfCheckboxesCoords(){if(this.formBuilderConfigModel[this.connectionId].fieldType==fo.VV.CHECK_BOX)for(const e of this.formLayout)for(let o of e.rows)o.fieldType===fo.VV.TABLE_OF_CHECKBOXES&&this.formBuilderConfigModel[o.name].tableBodyRows.forEach(((e,o)=>{e.forEach(((e,o)=>{if(e.name===this.connectionId)return e.coords=[],void(e.page=null)}))}))},prepareRectangles(){this.markedAreasList=[];for(const e of this.formLayout)for(let o of e.rows)this.formBuilderConfigModel.hasOwnProperty(o.name)&&(o.fieldType!==fo.VV.EXTRACTED_TABLE?fo.iS.includes(o.fieldType)&&(o.fieldType!==fo.VV.TABLE_OF_CHECKBOXES?!o.coords||o.coords.length<1||this.formBuilderConfigModel.hasOwnProperty(o.name)&&o.page&&o.page==this.page&&this.addMarkedAreaToList(o):this.prepareMarkedAreasForTableOfCheckboxes(o)):this.prepareMarkedAreasForSerieTable(o));this.markedAreasStr=JSON.stringify(this.markedAreasList)},prepareMarkedAreasForTableOfCheckboxes(e){for(let o of this.formBuilderConfigModel[e.name].tableBodyRows)for(let e of o)!e.coords||e.coords.length<1||this.formBuilderConfigModel.hasOwnProperty(e.name)&&e.page&&e.page==this.page&&this.addMarkedAreaToList(e)},prepareMarkedAreasForSerieTable(e){for(const o of this.formBuilderConfigModel[e.name].columns)if(o.coords&&!(o.coords.length<1))for(const t of o.coords)t.page&&t.page==this.page&&this.markedAreasList.push(Object.assign({},{markedArea:t.coord,connectionId:o.col_id+"__"+e.name,areaType:"table"}))},addMarkedAreaToList(e){const o=(0,S.$)("#"+e.name);o&&(o.setAttribute("pageno",e.page),this.markedAreasList.push(Object.assign({},{markedArea:e.coords[0],connectionId:e.name,areaType:"input"})))},disableEnablePanel(){this.isExtenedPanel?(this.splitterModel=60,this.showPanel=!0):this.splitterModel=94},enableDrawing(){const e=(0,S.$)("#draw");null===e||void 0===e||e.classList.add("cursor-crosshair"),null===e||void 0===e||e.classList.remove("pointer-events-none")},restrictDrawing(){const e=(0,S.$)("#draw");null===e||void 0===e||e.classList.add("pointer-events-none"),null===e||void 0===e||e.classList.remove("cursor-crosshair")},restoreDefaults(){return oa(this,void 0,void 0,(function*(){try{if(!this.templateId)return void logError("templateId not found");this.showLoading();const e=yield Po.H7.deleteDocumentLayoutTemplate(this.templateId);if(!1===e.success)throw{message:e.message};this.showSuccessToast(this.$t("pages.messages.operation_sucessfull")),this.templateId="",this.saveTemplate(!0,!1)}catch(e){const o=Yi.t.getErrorMessage(e);this.showErrorToast(o),logError(e)}finally{this.hideLoading()}}))},prepareLanguageOriginList(){return oa(this,void 0,void 0,(function*(){yield this.getLanguageIfEmpty(),this.language_origin_list=JSON.parse(JSON.stringify(this.language_origins)),this.language_origin_list[0].label=this.$t("default")}))}},setup(){const e=(0,Zi.A)(),o=(0,H.uL)(),{showImages:t,activeTab:l,isFormBuilderMode:i,keyToUpdateComponnets:a,renderComponent:s,defaultFields:r,formLayout:n,documentTableNames:d,formLayoutImages:m,formBuilderModel:c,formBuilderConfigModel:u,activeFieldName:h,isExtenedPanel:p,proximityTokens:f,docType:g,markedAreasList:_,allowAreaSelection:v}=(0,P.bP)(o),b=(0,H.XB)(),{setGeneralSettings:y,getGeneralSettingsToSave:C}=b,k=(0,H.QJ)(),{language_origins:w}=(0,P.bP)(k),{getLanguageIfEmpty:F}=k,T=(0,H._6)(),{tokenQueryParam:B}=(0,P.bP)(T);T.getTokenQueryParam();const L=(0,H.Tm)(),{getWorkflows:M}=L;return{getWorkflows:M,getLanguageIfEmpty:F,setGeneralSettings:y,getGeneralSettingsToSave:C,docType:g,activeTab:l,showImages:t,formLayout:n,defaultFields:r,activeFieldName:h,renderComponent:s,formLayoutImages:m,formBuilderModel:c,isFormBuilderMode:i,documentTableNames:d,keyToUpdateComponnets:a,formBuilderConfigModel:u,allowAreaSelection:v,isExtenedPanel:p,proximityTokens:f,markedAreasList:_,language_origins:w,language_origin_list:(0,W.KR)([]),tokenQueryParam:B,showNotification(o){e.notify({message:o,color:"primary",position:"top"})}}}});var la=t(90124),ia=t(25173),aa=t(13796),sa=t(42980),ra=t(10327),na=t(10386),da=t(39041),ma=t(71746),ca=t(88841),ua=t(98072),ha=t(49200);const pa=(0,Z.A)(ta,[["render",V],["__scopeId","data-v-3a703bd0"]]),fa=pa;ae()(ta,"components",{QBtn:ee.A,QIcon:te.A,QSelect:Rl.A,QItem:la.A,QItemSection:ia.A,QItemLabel:aa.A,QTooltip:le.A,QTabs:sa.A,QTab:ra.A,QSeparator:na.A,QTabPanels:da.A,QTabPanel:ma.A,QExpansionItem:ca.A,QSplitter:ua.A,QToggle:_o.A,QDialog:bo.A,QCard:yo.A,QToolbar:Co.A,QToolbarTitle:ko.A,QCardSection:wo.A,QForm:ha.A,QInput:vo.A,QCheckbox:ri.A}),ae()(ta,"directives",{ClosePopup:To.A})}}]);