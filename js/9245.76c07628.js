"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[9245],{59245:(e,l,t)=>{t.r(l),t.d(l,{default:()=>Xl});var a=t(61758);const o=e=>((0,a.Qi)("data-v-32e0e795"),e=e(),(0,a.jt)(),e),i={class:"container-wrapper row q-pl-md q-pr-md q-pb-md"},s={class:"col-xs-12 col-sm-4 col-md-3 col-lg-3 q-pt-sm full-height"},n={class:"full-width scroll-area-height scrolle-y"},d={class:"full-width",style:{position:"relative"}},r={class:"col-xs-12 col-sm-8 col-md-9 col-lg-9 padding-8-0-8-8"},u={class:"full-width"},c=o((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function p(e,l,t,o,p,m){const h=(0,a.g2)("SubHeader"),v=(0,a.g2)("f-btn"),f=(0,a.g2)("BackToSettings"),b=(0,a.g2)("q-tab"),g=(0,a.g2)("q-tabs"),_=(0,a.g2)("q-separator"),y=(0,a.g2)("Elements"),k=(0,a.g2)("q-expansion-item"),F=(0,a.g2)("FieldForm"),L=(0,a.g2)("q-tab-panel"),C=(0,a.g2)("Properties"),q=(0,a.g2)("q-tab-panels"),w=(0,a.g2)("FieldDesigner"),x=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(h,{name:"add_email_templates",label:e.$t(`${e.layout_type.toLowerCase()}_layout`)},null,8,["label"]),(0,a.bF)(f,{label:e.$t("supplier_layout"),back_to_rotue:"/settings/supplier/layouts_builder"},{default:(0,a.k6)((()=>[(0,a.bF)(v,{label:e.$t("use_default_template"),class:"float-right",onClick:e.useDefualtTemplate},null,8,["label","onClick"]),(0,a.bF)(v,{class:"float-right q-mr-sm",label:e.$t("save"),onClick:l[0]||(l[0]=l=>e.saveForm())},null,8,["label"]),(0,a.bF)(v,{appearance:"cancel",class:"float-right q-mr-sm",label:e.$t("cancel"),onClick:e.cancel},null,8,["label","onClick"])])),_:1},8,["label"]),(0,a.Lk)("div",i,[(0,a.Lk)("div",s,[(0,a.Lk)("div",n,[(0,a.Lk)("div",d,[(0,a.bF)(g,{modelValue:e.activeTab,"onUpdate:modelValue":l[1]||(l[1]=l=>e.activeTab=l),dense:"","active-class":"highlighted-back","indicator-color":"primary","active-color":"primary",align:"justify"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{name:"form_elements",label:e.$t("form_builder.elements")},null,8,["label"]),(0,a.bF)(b,{name:"element_properties",label:e.$t("form_builder.properties")},null,8,["label"])])),_:1},8,["modelValue"]),(0,a.bF)(_),(0,a.bF)(q,{modelValue:e.activeTab,"onUpdate:modelValue":l[2]||(l[2]=l=>e.activeTab=l),animated:""},{default:(0,a.k6)((()=>[(0,a.bF)(L,{name:"form_elements"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{"expand-separator":"",label:e.$t("form_builder.form_elements"),group:"fieldsGroup",class:"q-mb-md","header-class":"text-weight-bold rounded-borders solid-border-1px"},{default:(0,a.k6)((()=>[(0,a.bF)(y)])),_:1},8,["label"]),(0,a.bF)(k,{"expand-separator":"",label:e.$t("fields"),group:"fieldsGroup","header-class":"text-weight-bold rounded-borders solid-border-1px"},{default:(0,a.k6)((()=>[(0,a.bF)(F)])),_:1},8,["label"])])),_:1}),(0,a.bF)(L,{name:"element_properties"},{default:(0,a.k6)((()=>[e.renderComponent?((0,a.uX)(),(0,a.Wv)(C,{key:e.keyToUpdateComponnets})):(0,a.Q3)("",!0)])),_:1})])),_:1},8,["modelValue"])])])]),(0,a.Lk)("div",r,[(0,a.Lk)("div",u,[(0,a.bF)(w,{isPanelSection:!1})])])]),(0,a.bF)(x,{showing:e.loading,style:{"z-index":"2"}},{default:(0,a.k6)((()=>[c])),_:1},8,["showing"])],64)}var m=t(66693),h=t(25773),v=t(1659),f=t(1595),b=t(58790);const g=e=>((0,a.Qi)("data-v-640b65d4"),e=e(),(0,a.jt)(),e),_={class:"p-t-b-6 image_control_panel highlighted-back"},y={class:"row"},k={class:"panel-right col-sm-12 col-md-12 col-lg-12 pl-10"},F={key:0,class:"full-width"},L={key:"reRenderOnGroupChange",class:"right-content-height scrolle-y",id:"field_scrolle_2",style:{"min-height":"200px",height:"calc(100vh - 230px)","max-height":"calc(100vh - 230px)"}},C={class:"full-width"},q=["id"],w={class:"q-pt-sm q-pb-sm"},x={class:"row cursor-move"},A={class:"col-sm-4 col-md-4 col-lg-4 q-pr-sm"},E=g((()=>(0,a.Lk)("div",{class:"col-sm-4 col-md-4 col-lg-4"},null,-1))),T={class:"col-sm-4 col-md-4 col-lg-4"},V={key:0,class:"full-width meta"},O=["onClick"],$={key:1,class:"full-width q-pa-xs height-24"};function I(e,l,t,o,i,s){const n=(0,a.g2)("q-tooltip"),d=(0,a.g2)("q-icon"),r=(0,a.g2)("q-input"),u=(0,a.g2)("q-btn"),c=(0,a.g2)("Field"),p=(0,a.g2)("draggable");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",_,[(0,a.Lk)("div",y,[(0,a.Lk)("div",k,[(0,a.bF)(d,{name:"add",size:"24px",class:"float-rigth q-mr-sm cursor-pointer",onClick:l[0]||(l[0]=l=>e.addGroup())},{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,b.v_)(e.$t("add_step")),1)])),_:1})])),_:1})])])]),e.renderComponent?((0,a.uX)(),(0,a.CE)("div",F,[(0,a.Lk)("div",L,[(0,a.Lk)("div",C,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.formLayout,((l,t)=>((0,a.uX)(),(0,a.CE)("div",{key:`div-${t}`,id:`div-${t}`,class:"section-block dashed-border q-mb-md q-pa-sm"},[(0,a.Lk)("div",w,[(0,a.Lk)("div",x,[(0,a.Lk)("div",A,[(0,a.bF)(r,{outlined:"",dense:"",modelValue:l.name,"onUpdate:modelValue":e=>l.name=e,label:e.$t("name"),onClick:a=>e.inputClicked(l,t,"group")},null,8,["modelValue","onUpdate:modelValue","label","onClick"])]),E,(0,a.Lk)("div",T,[(0,a.bF)(u,{outline:"",round:"",size:"sm",color:"red-5",icon:"delete",class:"h-m-5 float-right",onClick:l=>e.deleteSection(t)},{default:(0,a.k6)((()=>[(0,a.bF)(n,{style:{"white-space":"nowrap"}},{default:(0,a.k6)((()=>[(0,a.eW)((0,b.v_)(e.$t("delete_step")),1)])),_:1})])),_:2},1032,["onClick"]),(0,a.bF)(u,{outline:"",round:"",size:"sm",color:"primary",icon:"move_up",class:"h-m-5 float-right",onClick:l=>e.moveGroupUp(l,t)},{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,b.v_)(e.$t("move_up")),1)])),_:1})])),_:2},1032,["onClick"]),(0,a.bF)(u,{outline:"",round:"",size:"sm",color:"primary",icon:"move_down",class:"h-m-5 float-right",onClick:l=>e.moveGroupDown(l,t)},{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,b.v_)(e.$t("move_down")),1)])),_:1})])),_:2},1032,["onClick"])])])]),e.isDefaultFieldLoaded?((0,a.uX)(),(0,a.CE)("div",V,[(0,a.bF)(p,{modelValue:l.rows,"onUpdate:modelValue":e=>l.rows=e,class:"dragArea row","item-key":"name",group:{name:"formbuilder",pull:!1,put:!0},sort:!0,"ghost-class":"sortable__ghost",onChange:l=>e.itemAdded(l,t)},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.rows,((l,o)=>((0,a.uX)(),(0,a.CE)("div",(0,a.v6)({key:o,ref_for:!0},l,{onClick:a=>e.inputClicked(l,t,"field"),class:["cursor-move",l.name==e.activeFieldName?"is--active  dashed-border":" "]}),[e.renderComponent?((0,a.uX)(),(0,a.Wv)(c,{meta_field:l,readonly:"file"===l.type||"FILE"===l.type||!0===l.is_hidden||l.readonly,key:l.name,"model-value":l.default_value},null,8,["meta_field","readonly","model-value"])):(0,a.Q3)("",!0),l.name===e.activeFieldName?((0,a.uX)(),(0,a.CE)("div",$,[(0,a.bF)(u,{round:"",color:"primary",icon:"delete",size:"xs",class:"float-right delete-ele",onClick:l=>e.removeField(l,t)},{default:(0,a.k6)((()=>[(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,b.v_)(e.$t("delete")),1)])),_:1})])),_:2},1032,["onClick"])])):(0,a.Q3)("",!0)],16,O)))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):(0,a.Q3)("",!0)],8,q)))),128))])])])):(0,a.Q3)("",!0)],64)}var S=t(38734),Q=t(4225),U=t(85192),P=t(60372),N=t(39231);const G=(0,a.pM)({el:"supplier_fields_designer",components:{draggable:N.H,Field:P.A},mounted:function(){},props:{isPanelSection:{type:Boolean,default:!1}},watch:{},data(){return{reRenderOnGroupChange:(0,S.KR)(0)}},setup(){const e=(0,f.M1)(),{activeTab:l,defaultGroups:t,defaultFields:a,formLayout:o,isDefaultFieldLoaded:i,keyToUpdateComponnets:s,activeFieldName:n,docType:d,allowAreaSelection:r,renderComponent:u,activeGroupIndex:c,propertiesType:p,model:m}=(0,v.bP)(e),h=()=>'<i class="q-icon material-icons">remove</i>';return{activeTab:l,defaultGroups:t,defaultFields:a,formLayout:o,isDefaultFieldLoaded:i,keyToUpdateComponnets:s,activeFieldName:n,docType:d,allowAreaSelection:r,renderComponent:u,activeGroupIndex:c,propertiesType:p,model:m,actionButton:h}},methods:{moveGroupUp(e,l){if(0==l)return;const t=l-1,a=JSON.parse(JSON.stringify(this.formLayout[l]));this.formLayout.splice(l,1),this.formLayout.splice(t,0,a),this.reRenderOnGroupChange++,this.$nextTick((function(){let e="div-"+t;document.getElementById(e).scrollIntoView()}))},moveGroupDown(e,l){if(this.formLayout.length==l)return;const t=l+1,a=JSON.parse(JSON.stringify(this.formLayout[l]));this.formLayout.splice(l,1),this.formLayout.splice(l+1,0,a),this.reRenderOnGroupChange++,this.$nextTick((function(){let e="div-"+t;document.getElementById(e).scrollIntoView()}))},deleteSection(e){this.activeTab="form_elements",this.activeFieldName="",this.$nextTick((function(){this.formLayout.splice(e,1),this.reRenderOnGroupChange++}))},itemAdded(e,l){let t=e.added.element;t.class||(t.class="col-6",t.type||(t.type=t.field_type),t.name||(t.name=(0,U.A)()),t.design||(t.design="outlined"),t.default||(t.is_default=!0),t.label||(t.label=t.title),t.readonly||(t.readonly=t.is_readonly),t.required||(t.required=t.is_required)),this.inputClicked(t,l,"field"),this.keyToUpdateComponnets++,t.hasOwnProperty("rows")&&(this.formLayout.pop(),this.formLayout.push(t))},removeField(e,l){e.stopPropagation(),this.formLayout[l].rows=this.formLayout[l].rows.filter((e=>e.name!==this.activeFieldName)),this.activeFieldName="",this.activeTab="form_elements"},inputClicked(e,l,t){if(void 0!==l&&null!==l&&(this.activeGroupIndex=l),this.propertiesType=t,"group"===t){const e=this.formLayout[l];this.model=e,this.activeFieldName=e.name}else this.activeFieldName=e.name,this.model=e;this.activeTab="element_properties"},addGroup(){const e={fieldType:Q.VV.GROUP,name:"",title:"",group_key:"",icon:"person",is_panel_section_group:this.isPanelSection,elementWidth:100,height:100,is_stcky_group:!1,short_cut_key_1:"",short_cut_key_2:"",rows:[]};this.formLayout.push(e)}}});var D=t(12807),X=t(50492),R=t(97410),B=t(67837),K=t(56384),M=t(67156),j=t(98582),W=t.n(j);const z=(0,D.A)(G,[["render",I],["__scopeId","data-v-640b65d4"]]),H=z;W()(G,"components",{QIcon:X.A,QTooltip:R.A,QInput:B.A,QBtn:K.A,QField:M.A});const J={key:0,class:"full-width"},Y={class:"row"},Z=["src"],ee={class:""};function le(e,l,t,o,i,s){const n=(0,a.g2)("draggable");return e.filteredFields.length>0?((0,a.uX)(),(0,a.CE)("div",J,[(0,a.bF)(n,{list:e.filteredFields,class:"dragArea row",group:{name:"formbuilder",pull:"clone",put:!1},sort:!1,"item-key":"name"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.filteredFields,((e,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,class:"col-sm-12 col-md-12 col-lg-12 q-pa-sm cursor-pointer mt-5 border-radius-5px"},[(0,a.Lk)("div",Y,[(0,a.Lk)("img",{src:e.icon,width:"14",class:"q-mr-sm"},null,8,Z),(0,a.Lk)("div",ee,(0,b.v_)(e.text),1)])])))),128))])),_:1},8,["list"])])):(0,a.Q3)("",!0)}var te=t(53474),ae=(t(18698),t(66715));const oe={components:{},data(){return{fields:[{type:te.O.STRING,icon:"images/text_icon.svg",label:"Label",field_name:"",name:"text_input_"+(0,U.A)(),text:ae.i18n.t("textbox"),class:"col-6",design:"outlined",readonly:!1,newLine:!0,required:!1},{type:te.O.NUMBER,icon:"images/text_icon.svg",label:"Label",field_name:"",name:"email_input_"+(0,U.A)(),text:ae.i18n.t("number"),class:"col-6",design:"outlined",readonly:!1,newLine:!0,required:!1},{type:te.O.TEXTAREA,icon:"images/text_icon.svg",label:"Label",field_name:"",name:"email_input_"+(0,U.A)(),text:ae.i18n.t("textarea"),class:"col-6",design:"outlined",readonly:!1,newLine:!0,required:!1},{type:te.O.NOTE,icon:"images/text_icon.svg",label:"Label",field_name:"",name:"note_"+(0,U.A)(),text:"Note",class:"col-6",design:"outlined",label_style:"inner",readonly:!1,newLine:!0,required:!1},{type:te.O.BOOLEAN,text:ae.i18n.t("boolean"),icon:"images/text_icon.svg",label:"Label",field_name:"",name:"checkbox_"+(0,U.A)(),class:"col-12",space:!0,readonly:!1,required:!1,default_value:!1}],sortElementOptions:{group:{name:"formbuilder",pull:!1,put:!0},sort:!0},dropElementOptions:{group:{name:"formbuilder",pull:"clone",put:!1},sort:!1,filter:".is-disabled"}}},methods:{}},ie=(0,a.pM)({name:"Elements",components:{draggable:N.H},data(){return{fields:(0,S.KR)(oe.data().fields),dropElementOptions:oe.data().dropElementOptions}},mounted(){this.init()},methods:{init(){this.filteredFields=this.fields.filter((e=>0==e.hide_in_panel_list||void 0==e.hide_in_panel_list))}},setup(){return{filteredFields:(0,S.KR)([])}}}),se=(0,D.A)(ie,[["render",le],["__scopeId","data-v-53ad0296"]]),ne=se;W()(ie,"components",{QBtn:K.A});var de=t(29104);const re={key:0,class:"row"},ue={class:"row col-12 q-pa-xs"},ce={class:"col-7 q-pt-sm"},pe={class:"row col-12 q-pa-xs"},me={class:"col-7 q-pt-sm"},he={class:"col-6 q-pa-xs"},ve={class:"col-12 q-pt-sm"},fe={class:"col-6 q-pa-xs"},be={class:"col-12 q-pt-sm"},ge={class:"col-6 q-pa-xs"},_e={class:"col-12 q-pt-sm"},ye={key:0,class:"row"},ke={class:"row col-12 q-pa-xs"},Fe={class:"col-7 q-pt-sm"},Le={class:"row col-12 q-pa-xs"},Ce={class:"col-7 q-pt-sm"},qe={class:"row q-my-md"},we={key:0,class:"row col-12 q-pa-xs"},xe={class:"col-7 q-pt-sm"},Ae={key:1,class:"col-12 q-pa-xs"},Ee={class:"col-12 q-pt-sm"},Te={class:"row q-my-md"},Ve={class:"col-6 q-pa-xs"},Oe={class:"col-12 q-pt-sm"},$e={key:0,class:"col-6 q-pa-xs"},Ie={class:"col-12 q-pt-sm"},Se={key:1,class:"col-12 q-pa-xs"},Qe={class:"col-12 q-pt-sm"},Ue={autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false"},Pe={class:"row q-my-md"},Ne={class:"col-6 q-pa-xs"},Ge={class:"col-12 q-pt-sm"},De={key:0,class:"col-6 q-pa-xs"},Xe={class:"col-12 q-pt-sm"},Re={class:"col-6 q-pa-xs"},Be={class:"col-12 q-pt-sm"},Ke={key:1,class:"col-6 q-pa-xs"},Me={class:"col-12 q-pt-sm"};function je(e,l,t,o,i,s){const n=(0,a.g2)("q-toggle"),d=(0,a.g2)("q-input"),r=(0,a.g2)("EdiIcon"),u=(0,a.g2)("q-icon"),c=(0,a.g2)("q-item-label"),p=(0,a.g2)("q-item-section"),m=(0,a.g2)("q-item"),h=(0,a.g2)("q-select"),v=(0,a.g2)("q-separator"),f=(0,a.g2)("Editor");return null!==e.activeGroupIndex?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},["group"===e.propertiesType?((0,a.uX)(),(0,a.CE)("div",re,[(0,a.Lk)("div",ue,[(0,a.Lk)("span",ce,(0,b.v_)(e.$t("multiple")),1),(0,a.bF)(n,{class:"col-4",size:"md","model-value":!!e.model["after"],"onUpdate:modelValue":l[0]||(l[0]=l=>{e.onChangePropertiesGroup(l,"after")})},null,8,["model-value"])]),(0,a.Lk)("div",pe,[(0,a.Lk)("span",me,(0,b.v_)(e.$t("hidden")),1),(0,a.bF)(n,{class:"col-4",size:"md","model-value":!!e.model["hidden"],"onUpdate:modelValue":l[1]||(l[1]=l=>{e.onChangePropertiesGroup(l,"hidden")})},null,8,["model-value"])]),(0,a.Lk)("div",he,[(0,a.Lk)("span",ve,(0,b.v_)(e.$t("name")),1),(0,a.bF)(d,{outlined:"",dense:"",modelValue:e.model["name"],"onUpdate:modelValue":[l[2]||(l[2]=l=>e.model["name"]=l),l[3]||(l[3]=l=>{e.onChangePropertiesGroup(l,"name")})],placeholder:e.$t("name")},null,8,["modelValue","placeholder"])]),(0,a.Lk)("div",fe,[(0,a.Lk)("span",be,(0,b.v_)(e.$t("translate_key")),1),(0,a.bF)(d,{outlined:"",dense:"",modelValue:e.model["title"],"onUpdate:modelValue":[l[4]||(l[4]=l=>e.model["title"]=l),l[5]||(l[5]=l=>{e.onChangePropertiesGroup(l,"title")})],placeholder:e.$t("translate_key")},null,8,["modelValue","placeholder"])]),(0,a.Lk)("div",ge,[(0,a.Lk)("span",_e,(0,b.v_)(e.$t("icon")),1),(0,a.bF)(h,{outlined:"",dense:"",modelValue:e.model["icon"],"onUpdate:modelValue":[l[6]||(l[6]=l=>e.model["icon"]=l),l[7]||(l[7]=l=>{e.onChangePropertiesGroup(l,"icon")})],options:e.iconOptions,"emit-value":"","map-options":""},{option:(0,a.k6)((e=>[(0,a.bF)(m,(0,b._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,b.v_)(e.opt.label)+" ",1),"edi"===e.opt.value?((0,a.uX)(),(0,a.Wv)(r,{key:0,color:"primary"})):((0,a.uX)(),(0,a.Wv)(u,{key:1,name:e.opt.value,class:"q-ml-xs",color:"primary"},null,8,["name"]))])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"])])])):(0,a.Q3)("",!0),e.activeFieldName&&"field"===e.propertiesType?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[e.model["type"]!==e.NOTE?((0,a.uX)(),(0,a.CE)("div",ye,[(0,a.Lk)("div",ke,[(0,a.Lk)("span",Fe,(0,b.v_)(e.$t("required")),1),(0,a.bF)(n,{class:"col-4",size:"md",modelValue:e.model["required"],"onUpdate:modelValue":[l[8]||(l[8]=l=>e.model["required"]=l),l[9]||(l[9]=l=>{e.onChangeProperties(l,"required")})]},null,8,["modelValue"])]),(0,a.Lk)("div",Le,[(0,a.Lk)("span",Ce,(0,b.v_)(e.$t("readonly")),1),(0,a.bF)(n,{class:"col-4",size:"md",modelValue:e.model["readonly"],"onUpdate:modelValue":[l[10]||(l[10]=l=>e.model["readonly"]=l),l[11]||(l[11]=l=>{e.onChangeProperties(l,"readonly")})]},null,8,["modelValue"])])])):(0,a.Q3)("",!0),e.model["type"]!==e.NOTE?((0,a.uX)(),(0,a.Wv)(v,{key:1})):(0,a.Q3)("",!0),(0,a.Lk)("div",qe,[e.model["type"]!==e.NOTE&&e.model["type"]!==e.RADIO?((0,a.uX)(),(0,a.CE)("div",we,[(0,a.Lk)("span",xe,(0,b.v_)(e.$t("label_inner")),1),(0,a.bF)(n,{class:"col-4",size:"md","model-value":"inner"===e.model["label_style"],"onUpdate:modelValue":l[12]||(l[12]=l=>{e.lableSetting(l)})},null,8,["model-value"])])):(0,a.Q3)("",!0),e.model["type"]!==e.NOTE?((0,a.uX)(),(0,a.CE)("div",Ae,[(0,a.Lk)("span",Ee,(0,b.v_)(e.$t("style_design")),1),(0,a.bF)(h,{outlined:"",dense:"",modelValue:e.model["design"],"onUpdate:modelValue":[l[13]||(l[13]=l=>e.model["design"]=l),l[14]||(l[14]=l=>{e.onChangeProperties(l,"design")})],options:e.InputDesign,"emit-value":"","map-options":""},null,8,["modelValue","options"])])):(0,a.Q3)("",!0)]),e.model["type"]!==e.NOTE?((0,a.uX)(),(0,a.Wv)(v,{key:2})):(0,a.Q3)("",!0),(0,a.Lk)("div",Te,[(0,a.Lk)("div",Ve,[(0,a.Lk)("span",Oe,(0,b.v_)(e.$t("type")),1),(0,a.bF)(d,{outlined:"",dense:"",modelValue:e.model["type"],"onUpdate:modelValue":l[15]||(l[15]=l=>e.model["type"]=l),readonly:!0},null,8,["modelValue"])]),e.model["type"]!==e.SELECT&&e.model["type"]!==e.SEARCH&&e.model["type"]!==e.RADIO||!e.model["options"]?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",$e,[(0,a.Lk)("span",Ie,(0,b.v_)(e.$t("default_option")),1),(0,a.bF)(h,{outlined:"",dense:"",modelValue:e.model["default_value"],"onUpdate:modelValue":[l[17]||(l[17]=l=>e.model["default_value"]=l),l[18]||(l[18]=l=>{e.onChangeProperties(l,"default_value")})],options:e.model["options"],"emit-value":"","map-options":""},(0,a.eX)({_:2},[e.model["default_value"]?{name:"append",fn:(0,a.k6)((()=>[(0,a.bF)(u,{name:"close",onClick:l[16]||(l[16]=(0,de.D$)((l=>e.model["default_value"]=""),["stop"])),class:"cursor-pointer"})])),key:"0"}:void 0]),1032,["modelValue","options"])])),e.model["type"]===e.NOTE?((0,a.uX)(),(0,a.CE)("div",Se,[(0,a.Lk)("span",Qe,(0,b.v_)(e.$t("Note")),1),(0,a.Lk)("div",null,[(0,a.Lk)("form",Ue,[(0,a.bF)(f,{value:e.model["default_value"],"onUpdate:value":l[19]||(l[19]=l=>{e.onChangeProperties(l,"default_value")})},null,8,["value"])])])])):(0,a.Q3)("",!0)]),(0,a.bF)(v),(0,a.Lk)("div",Pe,[(0,a.Lk)("div",Ne,[(0,a.Lk)("span",Ge,(0,b.v_)(e.$t("field_name")),1),(0,a.bF)(d,{outlined:"",dense:"",readonly:e.model["is_default"],modelValue:e.model["field_name"],"onUpdate:modelValue":[l[20]||(l[20]=l=>e.model["field_name"]=l),l[21]||(l[21]=l=>{e.onChangeProperties(l,"field_name")})],placeholder:e.$t("field_name")},null,8,["readonly","modelValue","placeholder"])]),e.model["type"]!==e.NOTE?((0,a.uX)(),(0,a.CE)("div",De,[(0,a.Lk)("span",Xe,(0,b.v_)(e.$t("label")),1),(0,a.bF)(d,{outlined:"",dense:"",readonly:e.model["is_default"],modelValue:e.model["title"],"onUpdate:modelValue":[l[22]||(l[22]=l=>e.model["title"]=l),l[23]||(l[23]=l=>{e.onChangeProperties(l,"title")})],placeholder:e.$t("label")},null,8,["readonly","modelValue","placeholder"])])):(0,a.Q3)("",!0),(0,a.Lk)("div",Re,[(0,a.Lk)("span",Be,(0,b.v_)(e.$t("field_width")),1),(0,a.bF)(h,{outlined:"",dense:"",modelValue:e.model["class"],"onUpdate:modelValue":[l[24]||(l[24]=l=>e.model["class"]=l),l[25]||(l[25]=l=>{e.onChangeProperties(l,"class")})],options:e.grid_class,"emit-value":"","map-options":""},null,8,["modelValue","options"])]),e.model["type"]!==e.NOTE&&e.model["type"]!==e.RADIO?((0,a.uX)(),(0,a.CE)("div",Ke,[(0,a.Lk)("span",Me,(0,b.v_)(e.$t("add_hint")),1),(0,a.bF)(d,{outlined:"",dense:"",modelValue:e.model["labelHint"],"onUpdate:modelValue":[l[26]||(l[26]=l=>e.model["labelHint"]=l),l[27]||(l[27]=l=>{e.onChangeProperties(l,"labelHint")})],placeholder:e.$t("label_hint"),required:!0},null,8,["modelValue","placeholder"])])):(0,a.Q3)("",!0)])],64)):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)}var We=t(24622),ze=t(72281),He=t(96056),Je=t(84050);const Ye=(0,a.Lk)("div",{class:"text-h6"},"Link",-1);function Ze(e,l,t,o,i,s){const n=(0,a.g2)("q-editor"),d=(0,a.g2)("q-card-section"),r=(0,a.g2)("q-input"),u=(0,a.g2)("q-select"),c=(0,a.g2)("q-btn"),p=(0,a.g2)("q-card-actions"),m=(0,a.g2)("q-card"),h=(0,a.g2)("q-dialog"),v=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(n,{ref:"editor",toolbar:[["left","center","right","justify","anchor"],["bold","italic","underline","strike"],["undo","redo"]],modelValue:e.editor_value,"onUpdate:modelValue":[l[0]||(l[0]=l=>e.editor_value=l),e.updateValue],definitions:{anchor:{icon:"link",handler:e.addAnchor}}},null,8,["modelValue","onUpdate:modelValue","definitions"]),(0,a.bF)(h,{modelValue:e.anchorModel,"onUpdate:modelValue":l[4]||(l[4]=l=>e.anchorModel=l)},{default:(0,a.k6)((()=>[(0,a.bF)(m,{style:{width:"300px","max-width":"80vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[Ye])),_:1}),(0,a.bF)(d,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{outlined:"",dense:"",modelValue:e.anchorObject.url,"onUpdate:modelValue":l[1]||(l[1]=l=>e.anchorObject.url=l),label:"URL"},null,8,["modelValue"]),(0,a.bF)(r,{class:"q-mt-md",outlined:"",dense:"",modelValue:e.anchorObject.text,"onUpdate:modelValue":l[2]||(l[2]=l=>e.anchorObject.text=l),label:"Text"},null,8,["modelValue"]),(0,a.bF)(u,{class:"q-mt-md",outlined:"",dense:"",modelValue:e.anchorObject.target,"onUpdate:modelValue":l[3]||(l[3]=l=>e.anchorObject.target=l),options:e.target,"emit-value":"","map-options":""},null,8,["modelValue","options"])])),_:1}),(0,a.bF)(p,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(c,{flat:"",label:e.$t("cancel"),color:"primary"},null,8,["label"]),[[v]]),(0,a.bo)((0,a.bF)(c,{flat:"",label:e.$t("confirm"),color:"primary",onClick:e.confirmAnchorTag},null,8,["label","onClick"]),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}const el=(0,a.pM)({name:"Editor",mixins:[],props:{value:{type:String,required:!0}},mounted(){this.editor_value=this.value?this.value:""},updated(){this.editor_value=this.value?this.value:""},data(){return{anchorModel:!1,anchorObject:{url:"",text:"",target:"_self"},editor_value:"",target:[{label:"Self",value:"_self"},{label:"Blank",value:"_blank"},{label:"Parent",value:"_parent"},{label:"Top",value:"_top"}]}},methods:{addAnchor(){this.anchorModel=!0},confirmAnchorTag(){const e=`<a class="text-primary" href="${this.anchorObject.url}" target="${this.anchorObject.target}">${this.anchorObject.text}</a>`;this.editor_value+=e,this.$emit("update:value",this.editor_value)},updateValue(){this.$emit("update:value",this.editor_value)}},setup(){const e=(0,S.KR)();return{editor:e}}});var ll=t(79075),tl=t(82156),al=t(23316),ol=t(44189),il=t(94940),sl=t(62669),nl=t(88672);const dl=(0,D.A)(el,[["render",Ze]]),rl=dl;W()(el,"components",{QEditor:ll.A,QDialog:tl.A,QCard:al.A,QCardSection:ol.A,QInput:B.A,QSelect:il.A,QCardActions:sl.A,QBtn:K.A}),W()(el,"directives",{ClosePopup:nl.A});var ul=t(31670);const cl=(0,a.pM)({name:"Properties",mixins:[He.A,We.A,Je.A,ze.A],components:{Editor:rl,EdiIcon:ul.A},data(){return{rowIndex:(0,S.KR)(0),columnIndex:(0,S.KR)(0),isColumnMode:(0,S.KR)(!0),selectedInput:(0,S.KR)(""),SELECT:te.O.SELECT,SEARCH:te.O.SEARCH,RADIO:te.O.RADIO,NOTE:te.O.NOTE,field_type_option:[{value:te.O.STRING,label:this.$t("textbox")},{value:te.O.TEXTAREA,label:this.$t("textarea")},{value:te.O.NUMBER,label:this.$t("number")},{value:te.O.SELECT,label:this.$t("select")},{value:te.O.SEARCH,label:this.$t("select_with_search")},{value:te.O.FILE,label:this.$t("file")},{value:te.O.BOOLEAN,label:this.$t("boolean")}],grid_class:[{label:12,value:"col-12"},{label:11,value:"col-11"},{label:10,value:"col-10"},{label:9,value:"col-9"},{label:8,value:"col-8"},{label:7,value:"col-7"},{label:6,value:"col-6"},{label:5,value:"col-5"},{label:4,value:"col-4"},{label:3,value:"col-3"},{label:2,value:"col-2"}],iconOptions:[{value:"person",label:"Person"},{value:"map",label:"Map"},{value:"contacts",label:"Contacts"},{value:"account_balance",label:"Account Balance"},{value:"shopping_cart",label:"Shopping Cart"},{value:"upload",label:"Upload"},{value:"edi",label:"EDI"}],InputDesign:[{value:"filled",label:"Filled"},{value:"outlined",label:"Outlined"},{value:"standout",label:"Standout"},{value:"borderless",label:"Borderless"},{value:"outlined-filled",label:"Outlined-Filled"}],exiting_shortcut_keys:[]}},computed:{},watch:{},methods:{lableSetting(e){!0===e?this.onChangeProperties("inner","label_style"):this.onChangeProperties("outer","label_style")},onChangeProperties(e,l){if(null!==this.activeGroupIndex){let t=this.formLayout[this.activeGroupIndex],a=t.rows.find((e=>e.name===this.activeFieldName));a&&(a[l]=e,this.model[l]=e,"options"===l&&(a["default_value"]=""))}},onChangePropertiesGroup(e,l){if(null!==this.activeGroupIndex){let t=this.formLayout[this.activeGroupIndex];t&&(t[l]=e,this.model[l]=e)}}},setup(){const e=(0,f.M1)(),{activeTab:l,defaultGroups:t,defaultFields:a,formLayout:o,renderComponent:i,isDefaultFieldLoaded:s,keyToUpdateComponnets:n,activeFieldName:d,activeGroupIndex:r,model:u,propertiesType:c}=(0,v.bP)(e),{addMultipleForm:p}=e;return{activeTab:l,defaultGroups:t,defaultFields:a,formLayout:o,renderComponent:i,isDefaultFieldLoaded:s,keyToUpdateComponnets:n,activeFieldName:d,activeGroupIndex:r,propertiesType:c,model:u,addMultipleForm:p,LabelStyle:["inner","stack","outer","inline"]}}});var pl=t(66908),ml=t(90124),hl=t(25173),vl=t(13796),fl=t(10386);const bl=(0,D.A)(cl,[["render",je],["__scopeId","data-v-1c89168c"]]),gl=bl;W()(cl,"components",{QToggle:pl.A,QInput:B.A,QSelect:il.A,QItem:ml.A,QItemSection:hl.A,QItemLabel:vl.A,QIcon:X.A,QSeparator:fl.A});var _l=t(18505),yl=t(11470);const kl=e=>((0,a.Qi)("data-v-32f7e1ab"),e=e(),(0,a.jt)(),e),Fl={class:"full-width"},Ll={key:0,class:"full-width"},Cl={class:"row"},ql=kl((()=>(0,a.Lk)("div",{class:"width-20px"},[(0,a.Lk)("img",{src:"images/text_icon.svg",width:"14",class:"q-mr-sm"})],-1))),wl={class:"width-100-10px"},xl={class:"full-width"},Al={class:"full-width text-grey-6"};function El(e,l,t,o,i,s){const n=(0,a.g2)("q-input"),d=(0,a.g2)("draggable");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",Fl,[(0,a.bF)(n,{modelValue:e.searchInput,"onUpdate:modelValue":l[0]||(l[0]=l=>e.searchInput=l),class:"q-pt-md q-pb-md",dense:"",autofocus:"",label:e.$t("pages.user.search"),outlined:""},null,8,["modelValue","label"])]),e.filteredFields.length>0?((0,a.uX)(),(0,a.CE)("div",Ll,[(0,a.bF)(d,{list:e.filteredFields,class:"dragArea row",group:{name:"formbuilder",pull:"clone",put:!1},sort:!1,"item-key":"name"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.filteredFields,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:"col-sm-12 col-md-12 col-lg-12 q-pa-sm cursor-pointer mt-5 border-radius-5px"},[(0,a.Lk)("div",Cl,[ql,(0,a.Lk)("div",wl,[(0,a.Lk)("div",xl,(0,b.v_)(e.title),1),(0,a.Lk)("div",Al,(0,b.v_)(" ("+e.field_name+")"),1)])])])))),128))])),_:1},8,["list"])])):(0,a.Q3)("",!0)],64)}const Tl=(0,a.pM)({name:"FieldList",mixins:[_l.A,We.A],components:{draggable:N.H},data(){return{searchInput:(0,S.KR)("")}},unmounted(){this.searchInput="";for(let e of this.defaultFields)e.isSearched=!0},watch:{searchInput(e){for(let l of this.defaultFields)l.isSearched=""===e||null==e||l.title.toLowerCase().includes(e.toLowerCase())}},computed:{filteredFields(){return this.defaultFields.filter((e=>e.isSearched))}},methods:{},setup(){const e=(0,f.M1)(),{defaultFields:l,listOfValues:t}=(0,v.bP)(e),{getDetaultFields:a}=e;return{fields:(0,S.KR)([]),getDetaultFields:a,listOfValuesApiService:yl.tA,listOfValues:t,defaultFields:l}}}),Vl=(0,D.A)(Tl,[["render",El],["__scopeId","data-v-32f7e1ab"]]),Ol=Vl;W()(Tl,"components",{QInput:B.A,QBtn:K.A});var $l=function(e,l,t,a){function o(e){return e instanceof t?e:new t((function(l){l(e)}))}return new(t||(t=Promise))((function(t,i){function s(e){try{d(a.next(e))}catch(l){i(l)}}function n(e){try{d(a["throw"](e))}catch(l){i(l)}}function d(e){e.done?t(e.value):o(e.value).then(s,n)}d((a=a.apply(e,l||[])).next())}))};const Il=(0,a.pM)({el:"#app",mixins:[_l.A,We.A,He.A],components:{SubHeader:m.A,BackToSettings:h.A,FieldDesigner:H,Elements:ne,Properties:gl,FieldForm:Ol},mounted(){this.renderComponent=!0,this.isDefaultFieldLoaded=!0,this.formLayout=[],this.init()},unmounted:function(){this.model={},this.activeTab="form_elements",this.defaultFields=[]},watch:{},data(){return{layout_type:this.$route.params.layout_type}},setup(){const e=(0,f.M1)(),{activeTab:l,defaultGroups:t,defaultFields:a,formLayout:o,renderComponent:i,isDefaultFieldLoaded:s,keyToUpdateComponnets:n,loading:d,model:r,isChangeDetected:u}=(0,v.bP)(e),{getSuppierLayoutByID:c,applyDefaultTemplate:p,getSupplierLayoutForBuilder:m,syncPropertiesFields:h}=e;return{activeTab:l,defaultGroups:t,defaultFields:a,formLayout:o,renderComponent:i,isDefaultFieldLoaded:s,keyToUpdateComponnets:n,loading:d,model:r,isChangeDetected:u,syncPropertiesFields:h,getSuppierLayoutByID:c,applyDefaultTemplate:p,getSupplierLayoutForBuilder:m}},methods:{cancel(){this.$router.push("/settings/supplier/layouts_builder")},validateGroup(){let e=!0;return this.formLayout.map((l=>{l.name&&""!==l.name&&null!==l.name?this.hasWhiteSpace(l.name)?(e=!1,this.showErrorToast(this.$t("pages.messages.SPACES_NOT_ALLOWED"))):this.checkFirstLetterIsSpecialOrNumber(l.name)?(e=!1,this.showErrorToast(this.$t("errors.special_letter_number_not_allowed"))):l.title&&""!==l.title&&null!==l.title||(e=!1,this.showErrorToast(this.$t("translate_key_required"))):(this.showErrorToast(this.$t("group_name_required")),e=!1)})),e},saveForm(){return $l(this,void 0,void 0,(function*(){if(!this.validateGroup())return;this.isChangeDetected&&this.syncPropertiesFields(this.formLayout),this.loading=!0;const e=JSON.stringify(this.formLayout),l={title:this.layout_type,layout_type:this.layout_type.toLowerCase(),layout_json:e};try{const e=yield yl.KT.createSupplierLayoutForm(l);yield this.getSupplierLayoutForBuilder(this.layout_type.toLowerCase()),!1===e.success?this.showErrorToast(e.message):this.showSuccessToast(this.$t("template_success_saved"))}catch(t){logInfo(t)}finally{this.loading=!1,this.renderComponent=!0}}))},useDefualtTemplate(){return $l(this,void 0,void 0,(function*(){const e=this.layout_type.toLowerCase();try{yield this.applyDefaultTemplate(e)}catch(l){this.showErrorToast(null===l||void 0===l?void 0:l.message)}}))},init(){return $l(this,void 0,void 0,(function*(){this.loading=!0;try{yield this.getSupplierLayoutForBuilder(this.layout_type.toLowerCase())}catch(e){logInfo(e)}finally{this.loading=!1}this.isChangeDetected&&this.showWarningAlert(this.$t("field_setting_changes_message"))}))}}});var Sl=t(42980),Ql=t(10327),Ul=t(39041),Pl=t(71746),Nl=t(88841),Gl=t(39035);const Dl=(0,D.A)(Il,[["render",p],["__scopeId","data-v-32e0e795"]]),Xl=Dl;W()(Il,"components",{QTabs:Sl.A,QTab:Ql.A,QSeparator:fl.A,QTabPanels:Ul.A,QTabPanel:Pl.A,QExpansionItem:Nl.A,QInnerLoading:Gl.A})}}]);