"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[7336],{47336:(e,t,s)=>{s.r(t),s.d(t,{default:()=>De});var n=s(83673),i=s(62323);const a={class:"container q-pa-xl settings"},o={style:{width:"100%"}},l={class:"q-pa-md"},r={style:{"margin-top":"3px"}};function c(e,t,s,c,_,u){const d=(0,n.up)("SubHeader"),h=(0,n.up)("BackToSettings"),g=(0,n.up)("q-separator"),p=(0,n.up)("q-icon"),m=(0,n.up)("q-space"),E=(0,n.up)("OCRQuality"),f=(0,n.up)("q-card-section"),v=(0,n.up)("q-card"),w=(0,n.up)("q-expansion-item"),T=(0,n.up)("OcrGeneral"),S=(0,n.up)("OcrTables"),A=(0,n.up)("OcrForHeaderFields"),b=(0,n.up)("q-list");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(d,{name:"ocr_settings",label:e.$t("ocr_settings")},null,8,["label"]),(0,n.Wm)(h),(0,n._)("div",a,[(0,n._)("div",o,[(0,n._)("div",l,[(0,n.Wm)(b,{bordered:"",class:"rounded-borders"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,n.w5)((()=>[(0,n.Wm)(p,{size:"25px",class:"q-mr-lg black_to_white",name:"img:settings/ocr.svg"}),(0,n._)("span",r,(0,i.zw)(e.$t("pages.settings.ocr_quality")),1),(0,n.Wm)(m)])),default:(0,n.w5)((()=>[(0,n.Wm)(g),(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(E)])),_:1})])),_:1})])),_:1}),(0,n.Wm)(w,{"expand-separator":"",icon:"description",label:e.$t("ocr_gereral_settings"),"header-class":"highlighted-back","default-opened":""},{default:(0,n.w5)((()=>[(0,n.Wm)(g),(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(T)])),_:1})])),_:1})])),_:1},8,["label"]),(0,n.Wm)(w,{"expand-separator":"",icon:"description",label:e.$t("ocr_table_settings"),"header-class":"highlighted-back","default-opened":""},{default:(0,n.w5)((()=>[(0,n.Wm)(g),(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(S)])),_:1})])),_:1})])),_:1},8,["label"]),(0,n.Wm)(w,{"expand-separator":"",icon:"description",label:e.$t("ocr_header_fields_settings"),"header-class":"highlighted-back","default-opened":""},{default:(0,n.w5)((()=>[(0,n.Wm)(g),(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A)])),_:1})])),_:1})])),_:1},8,["label"])])),_:1})])])])],64)}var _=s(13873),u=s(47845);const d={class:"row mt-30 justify-center",style:{height:"auto"}},h={style:{"margin-left":"200px","margin-right":"155px","margin-top":"20px"}},g={class:"row q-mt-sm",style:{}},p={class:"justify-center row q-mt-xl"};function m(e,t,s,a,o,l){const r=(0,n.up)("q-slider"),c=(0,n.up)("q-select");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",d,[(0,n._)("div",h,(0,i.zw)(e.$t("ocr_setting_info")),1)]),(0,n._)("div",null,[(0,n._)("div",g,[(0,n.Wm)(r,{class:"q-slider-ocr-settings q-slider-ocr-settings__track-container--h q-slider-ocr-settings__track q-slider-ocr-settings__track-markers",modelValue:e.ocr_check["OCR_PERCENTAGE"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.ocr_check["OCR_PERCENTAGE"]=t),min:0,max:100,color:"primary","label-always":"",markers:5,"marker-labels":e.arrayMarkerLabel,onChange:t[1]||(t[1]=t=>{e.save_org_pref(e.percent_name,t)})},null,8,["modelValue","marker-labels"])]),(0,n._)("div",p,[(0,n._)("div",{style:{width:"570px"},class:(0,i.C_)(+this.ocr_check["alert"]?"border-error-ocrserttings":"")},[(0,n.Wm)(c,{modelValue:e.ocr_check["OCR_TODO"],"onUpdate:modelValue":[t[2]||(t[2]=t=>e.ocr_check["OCR_TODO"]=t),t[3]||(t[3]=t=>{e.save_org_pref(e.task_name,t.value)})],options:e.to_do_list,label:e.$t("ocr_setting_quality_lower")},null,8,["modelValue","options","label"])],2)])])],64)}var E=s(53371),f=s(77378),v=s(61959),w=s(60727),T=function(e,t,s,n){function i(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(n.next(e))}catch(t){a(t)}}function l(e){try{r(n["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):i(e.value).then(o,l)}r((n=n.apply(e,t||[])).next())}))};const S=(0,n.aZ)({el:"#app",mixins:[f.Z],setup(){const e=(0,w.VF)(),{getSetting:t,updateSetting:s}=e;let n,i={};return{getSetting:t,updateSetting:s,arrayMarkerLabel:[{value:10,label:"10%"},{value:20,label:"20%"},{value:30,label:"30%"},{value:40,label:"40%"},{value:50,label:"50%"},{value:60,label:"60%"},{value:70,label:"70%"},{value:80,label:"80%"},{value:90,label:"90%"},{value:100,label:"100%"}],to_do_list:[{value:"run",label:E.i18n.t("run_anyway")},{value:"check",label:E.i18n.t("run_again_after_confirmation")},{value:"stop",label:E.i18n.t("throw_error")}],display_data:[],ocr_check:(0,v.iH)(i),epdf:(0,v.iH)(n),icon:(0,v.iH)(!1),processing:(0,v.iH)(!1)}},mounted(){this.initView()},data(){return{percent_name:"OCR_PERCENTAGE",task_name:"OCR_TODO",default_percent:"75",default_todo:"check"}},methods:{initView(){return T(this,void 0,void 0,(function*(){yield this.getData(),this.setDefaultValues(),this.setOCRTodo()}))},getData(){return T(this,void 0,void 0,(function*(){const e=yield this.getSetting(this.percent_name);void 0!=e&&(this.ocr_check[this.percent_name]=e);const t=yield this.getSetting(this.task_name);void 0!=t&&(this.ocr_check[this.task_name]=t)}))},setDefaultValues(){this.ocr_check.hasOwnProperty(this.percent_name)||(this.ocr_check[this.percent_name]="75",this.save_org_pref(this.percent_name,"75")),this.ocr_check.hasOwnProperty(this.task_name)||(this.ocr_check[this.task_name]="check",this.save_org_pref(this.task_name,"check"))},setOCRTodo(){for(const[e,t]of Object.entries(this.to_do_list))this.ocr_check[this.task_name]==t.value&&(this.ocr_check[this.task_name]=t.label)},save_org_pref(e,t){return T(this,void 0,void 0,(function*(){try{this.processing=!0;yield this.updateSetting(e,t);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(s){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.processing=!1}}))}}});var A=s(74260),b=s(62064),R=s(72448),O=s(2165),C=s(65735),y=s(7518),k=s.n(y);const I=(0,A.Z)(S,[["render",m],["__scopeId","data-v-3e1f902f"]]),x=I;k()(S,"components",{QSlider:b.Z,QSelect:R.Z,QBtn:O.Z,QCheckbox:C.Z});const U=e=>((0,n.dD)("data-v-0771ba4a"),e=e(),(0,n.Cn)(),e),W={class:"row content-start main-settings"},L=U((()=>(0,n._)("div",{class:"col-2"},null,-1))),D={class:"col-10"},V={class:"row content-start main-settings"},Z=U((()=>(0,n._)("div",{class:"col-2"},null,-1))),N={class:"col-10"},q={style:{"max-width":"400px"}},$=U((()=>(0,n._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1)));function Q(e,t,s,a,o,l){const r=(0,n.up)("q-checkbox"),c=(0,n.up)("q-tooltip"),_=(0,n.up)("q-icon"),u=(0,n.up)("q-inner-loading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",W,[L,(0,n._)("div",D,[(0,n.Wm)(r,{modelValue:e.USE_ETEXT_IF_AVAILABLE,"onUpdate:modelValue":t[0]||(t[0]=t=>e.USE_ETEXT_IF_AVAILABLE=t),label:e.$t("ocr_setting_etext"),"toggle-indeterminate":!1,onClick:t[1]||(t[1]=t=>e.save_org_pref("USE_ETEXT_IF_AVAILABLE",this.USE_ETEXT_IF_AVAILABLE))},null,8,["modelValue","label"])])]),(0,n._)("div",V,[Z,(0,n._)("div",N,[(0,n.Wm)(r,{modelValue:e.DESKEW_DOCUMENT,"onUpdate:modelValue":t[2]||(t[2]=t=>e.DESKEW_DOCUMENT=t),label:e.$t("use_deskew_if_available"),"toggle-indeterminate":!1,onClick:t[3]||(t[3]=t=>e.save_org_pref("DESKEW_DOCUMENT",this.DESKEW_DOCUMENT))},null,8,["modelValue","label"]),(0,n.Wm)(_,{name:"help_outline",class:"help-sign cursor-pointer"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",q,(0,i.zw)(e.$t("use_deskew_info")),1)])),_:1})])),_:1})])]),(0,n.Wm)(u,{showing:e.processing},{default:(0,n.w5)((()=>[$])),_:1},8,["showing"])],64)}var F=function(e,t,s,n){function i(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(n.next(e))}catch(t){a(t)}}function l(e){try{r(n["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):i(e.value).then(o,l)}r((n=n.apply(e,t||[])).next())}))};const H=(0,n.aZ)({el:"#app",components:{},mixins:[f.Z],setup(){const e=(0,w.VF)(),{getSetting:t,updateSetting:s}=e;return{getSetting:t,updateSetting:s,USE_ETEXT_IF_AVAILABLE:(0,v.iH)(!1),DESKEW_DOCUMENT:(0,v.iH)(!1),processing:(0,v.iH)(!1)}},beforeRouteLeave:function(e,t,s){s()},mounted:function(){this.getAllSettings()},methods:{getAllSettings(){return F(this,void 0,void 0,(function*(){this.processing=!0,this.USE_ETEXT_IF_AVAILABLE=yield this.getData("USE_ETEXT_IF_AVAILABLE"),this.DESKEW_DOCUMENT=yield this.getData("DESKEW_DOCUMENT"),this.processing=!1}))},getData(e){return F(this,void 0,void 0,(function*(){let t=!1;try{const s=yield this.getSetting(e);t="true"===s}catch(s){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR")),this.processing=!1}return t}))},save_org_pref(e,t){return F(this,void 0,void 0,(function*(){try{this.processing=!0;yield this.updateSetting(e,t);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(s){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.processing=!1}}))}}});var X=s(24554),B=s(5363),M=s(66941);const z=(0,A.Z)(H,[["render",Q],["__scopeId","data-v-0771ba4a"]]),G=z;k()(H,"components",{QCheckbox:C.Z,QIcon:X.Z,QTooltip:B.Z,QInnerLoading:M.Z});const P=e=>((0,n.dD)("data-v-12458761"),e=e(),(0,n.Cn)(),e),K={class:"row content-start main-settings"},Y=P((()=>(0,n._)("div",{class:"col-2"},null,-1))),j={class:"col-10"},J={style:{"max-width":"400px"}},ee=P((()=>(0,n._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1)));function te(e,t,s,a,o,l){const r=(0,n.up)("q-checkbox"),c=(0,n.up)("q-tooltip"),_=(0,n.up)("q-icon"),u=(0,n.up)("q-inner-loading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",K,[Y,(0,n._)("div",j,[(0,n.Wm)(r,{modelValue:e.USE_AI_DATA_FOR_TABLE,"onUpdate:modelValue":t[0]||(t[0]=t=>e.USE_AI_DATA_FOR_TABLE=t),label:e.$t("use_ai_data_for_tables"),"toggle-indeterminate":!1,onClick:t[1]||(t[1]=t=>e.save_org_pref("USE_AI_DATA_FOR_TABLE",this.USE_AI_DATA_FOR_TABLE))},null,8,["modelValue","label"]),(0,n.Wm)(_,{name:"help_outline",class:"help-sign cursor-pointer"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",J,(0,i.zw)(e.$t("use_ai_data_for_tables_info")),1)])),_:1})])),_:1})])]),(0,n.Wm)(u,{showing:e.processing},{default:(0,n.w5)((()=>[ee])),_:1},8,["showing"])],64)}var se=function(e,t,s,n){function i(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(n.next(e))}catch(t){a(t)}}function l(e){try{r(n["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):i(e.value).then(o,l)}r((n=n.apply(e,t||[])).next())}))};const ne=(0,n.aZ)({el:"#app",components:{},mixins:[f.Z],setup(){const e=(0,w.VF)(),{getSetting:t,updateSetting:s}=e;return{getSetting:t,updateSetting:s,USE_AI_DATA_FOR_TABLE:(0,v.iH)(!1),processing:(0,v.iH)(!1)}},mounted:function(){this.getAllSettings()},methods:{getAllSettings(){return se(this,void 0,void 0,(function*(){this.processing=!0,this.USE_AI_DATA_FOR_TABLE=yield this.getData("USE_AI_DATA_FOR_TABLE"),this.processing=!1}))},getData(e){return se(this,void 0,void 0,(function*(){let t=!1;try{const s=yield this.getSetting(e);t="true"===s}catch(s){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR")),this.processing=!1}return t}))},save_org_pref(e,t){return se(this,void 0,void 0,(function*(){try{this.processing=!0;yield this.updateSetting(e,t);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(s){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.processing=!1}}))}}}),ie=(0,A.Z)(ne,[["render",te],["__scopeId","data-v-12458761"]]),ae=ie;k()(ne,"components",{QCheckbox:C.Z,QIcon:X.Z,QTooltip:B.Z,QInnerLoading:M.Z});const oe=e=>((0,n.dD)("data-v-6c8f31ab"),e=e(),(0,n.Cn)(),e),le={class:"row"},re=oe((()=>(0,n._)("div",{class:"col-2 text-red text-weight-bold"},null,-1))),ce={class:"col-4 text-red text-weight-bold q-ml-sm"},_e={class:"row"},ue={class:"col-2 text-red text-weight-bold",style:{visibility:"hidden"}},de={class:"col-3 text-red text-weight-bold q-ml-sm"},he={class:"row content-start"},ge=oe((()=>(0,n._)("div",{class:"col-2"},null,-1))),pe={class:"col-10"},me={class:"row flex"},Ee={class:"col-auto q-mr-md"},fe={style:{"max-width":"400px"}},ve={class:"col-auto"},we={style:{"max-width":"400px"}},Te=oe((()=>(0,n._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1)));function Se(e,t,s,a,o,l){const r=(0,n.up)("q-checkbox"),c=(0,n.up)("q-tooltip"),_=(0,n.up)("q-icon"),u=(0,n.up)("q-inner-loading");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",le,[re,(0,n._)("div",ce,(0,i.zw)(e.$t("note"))+" "+(0,i.zw)(e.$t("note_ocr_header_fields")),1)]),(0,n._)("div",_e,[(0,n._)("div",ue,(0,i.zw)(e.$t("note")),1),(0,n._)("div",de,(0,i.zw)(e.$t("use_rules_extraction"))+" â†’ "+(0,i.zw)(e.$t("use_ai_extraction")),1)]),(0,n._)("div",he,[ge,(0,n._)("div",pe,[(0,n._)("div",me,[(0,n._)("div",Ee,[(0,n.Wm)(r,{modelValue:e.USE_RULES_EXTRACTION,"onUpdate:modelValue":t[0]||(t[0]=t=>e.USE_RULES_EXTRACTION=t),label:e.$t("use_rules_extraction"),"toggle-indeterminate":!1,onClick:t[1]||(t[1]=t=>e.save_org_pref("USE_RULES_EXTRACTION",this.USE_RULES_EXTRACTION))},null,8,["modelValue","label"]),(0,n.Wm)(_,{name:"help_outline",class:"help-sign cursor-pointer"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",fe,(0,i.zw)(e.$t("use_rules_extraction_info")),1)])),_:1})])),_:1})]),(0,n._)("div",ve,[(0,n.Wm)(r,{modelValue:e.USE_AI_EXTRACTION,"onUpdate:modelValue":t[2]||(t[2]=t=>e.USE_AI_EXTRACTION=t),label:e.$t("use_ai_extraction"),"toggle-indeterminate":!1,onClick:t[3]||(t[3]=t=>e.save_org_pref("USE_AI_EXTRACTION",this.USE_AI_EXTRACTION))},null,8,["modelValue","label"]),(0,n.Wm)(_,{name:"help_outline",class:"help-sign cursor-pointer"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n._)("div",we,(0,i.zw)(e.$t("use_ai_extraction_info")),1)])),_:1})])),_:1})])])])]),(0,n.Wm)(u,{showing:e.processing},{default:(0,n.w5)((()=>[Te])),_:1},8,["showing"])],64)}var Ae=function(e,t,s,n){function i(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(n.next(e))}catch(t){a(t)}}function l(e){try{r(n["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):i(e.value).then(o,l)}r((n=n.apply(e,t||[])).next())}))};const be=(0,n.aZ)({el:"#app",components:{},mixins:[f.Z],setup(){const e=(0,w.VF)(),{getSetting:t,updateSetting:s}=e;return{getSetting:t,updateSetting:s,USE_AI_EXTRACTION:(0,v.iH)(!1),USE_RULES_EXTRACTION:(0,v.iH)(!1),processing:(0,v.iH)(!1)}},mounted:function(){this.getAllSettings()},methods:{getAllSettings(){return Ae(this,void 0,void 0,(function*(){this.processing=!0,this.USE_AI_EXTRACTION=yield this.getData("USE_AI_EXTRACTION"),this.USE_RULES_EXTRACTION=yield this.getData("USE_RULES_EXTRACTION"),this.processing=!1}))},getData(e){return Ae(this,void 0,void 0,(function*(){let t=!1;try{const s=yield this.getSetting(e);t="true"===s}catch(s){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR")),this.processing=!1}return t}))},save_org_pref(e,t){return Ae(this,void 0,void 0,(function*(){try{this.processing=!0;yield this.updateSetting(e,t);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(s){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.processing=!1}}))}}}),Re=(0,A.Z)(be,[["render",Se],["__scopeId","data-v-6c8f31ab"]]),Oe=Re;k()(be,"components",{QCheckbox:C.Z,QIcon:X.Z,QTooltip:B.Z,QInnerLoading:M.Z});const Ce=(0,n.aZ)({el:"#app",components:{SubHeader:_.Z,BackToSettings:u.Z,OCRQuality:x,OcrGeneral:G,OcrTables:ae,OcrForHeaderFields:Oe}});var ye=s(27011),ke=s(60429),Ie=s(65869),xe=s(62025),Ue=s(10151),We=s(25589);const Le=(0,A.Z)(Ce,[["render",c]]),De=Le;k()(Ce,"components",{QList:ye.Z,QExpansionItem:ke.Z,QSeparator:Ie.Z,QIcon:X.Z,QSpace:xe.Z,QCard:Ue.Z,QCardSection:We.Z})}}]);