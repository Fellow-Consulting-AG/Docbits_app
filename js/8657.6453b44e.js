"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[8657],{8657:(e,s,o)=>{o.r(s),o.d(s,{default:()=>J});var r=o(59835),t=o(86970),a=o(61957);const l=e=>((0,r.dD)("data-v-7b52109b"),e=e(),(0,r.Cn)(),e),i={class:"page-holder"},n={class:"container"},d={class:"row window-height"},p={style:{width:"70%",position:"relative",top:"20vh",left:"15%"}},c={class:"text-primary text-h3 text-weight-bold"},m={key:0,style:{display:"flex","flex-direction":"column","align-items":"flex-start"},class:"row error q-mt-lg q-ml-md text-green-5 text-weight-bold"},u={style:{"align-self":"center"}},w={key:1,style:{display:"flex","flex-direction":"column","align-items":"flex-start"},class:"row error q-mt-lg q-ml-md text-red-5 text-weight-bold"},_={style:{"align-self":"center"}},h={class:"q-pt-lg q-mb-md"},g={class:"cursor-pointer"},f=["innerHTML"],v={class:"q-mb-lg"},b={class:"text-center"},y={class:"absolute-bottom"},x={style:{"border-top":"1px solid lightgrey"}},q={class:"text-sm text-muted q-pt-md"},Z=l((()=>(0,r._)("img",{class:"loader",src:"loader.gif",alt:"Loading..."},null,-1)));function C(e,s,o,l,C,W){const k=(0,r.up)("q-img"),H=(0,r.up)("q-select"),Q=(0,r.up)("q-card-section"),$=(0,r.up)("q-icon"),V=(0,r.up)("q-tooltip"),E=(0,r.up)("q-input"),D=(0,r.up)("q-btn"),F=(0,r.up)("q-card"),T=(0,r.up)("q-inner-loading");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",i,[(0,r._)("div",n,[(0,r._)("div",d,[(0,r.Wm)(F,{class:"col-4 justify-center"},{default:(0,r.w5)((()=>[(0,r.Wm)(Q,{class:"absolute-top"},{default:(0,r.w5)((()=>[(0,r.Wm)(k,{src:"docbits.svg",style:{"max-width":"185px"}}),(0,r.Wm)(H,{modelValue:e.locale,"onUpdate:modelValue":[s[0]||(s[0]=s=>e.locale=s),e.languageChanged],options:e.localeOptions,dense:"",borderless:"","emit-value":"","map-options":"","options-dense":"",class:"float-right q-ml-auto text-grey-7 text-uppercase q-mr-md"},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1}),(0,r._)("div",p,[(0,r.Wm)(Q,{class:"text-center"},{default:(0,r.w5)((()=>[(0,r._)("span",c,(0,t.zw)(e.$t("pages.reset_password.reset_password_header")),1),e.success_message?((0,r.wg)(),(0,r.iD)("div",m,[(0,r._)("span",u,(0,t.zw)(e.success_message),1)])):(0,r.kq)("",!0),e.error_message?((0,r.wg)(),(0,r.iD)("div",w,[(0,r._)("span",_,(0,t.zw)(e.error_message),1)])):(0,r.kq)("",!0),(0,r._)("div",h,[(0,r.Wm)(E,{outlined:"",label:e.$t("password"),class:(0,t.C_)("password full-width"),dense:"",modelValue:e.model["password"],"onUpdate:modelValue":s[2]||(s[2]=s=>e.model["password"]=s),"error-message":e.model_error["password"],error:""!=e.model_error["password"],type:!1===e.show_password?"password":"text"},{append:(0,r.w5)((()=>[(0,r.Wm)($,{color:"grey-7",name:!1===e.show_password?"visibility":"visibility_off",onClick:s[1]||(s[1]=s=>e.show_password=!e.show_password)},null,8,["name"])])),after:(0,r.w5)((()=>[(0,r._)("div",g,[(0,r.Wm)($,{name:"img:info_primary.svg"}),(0,r.Wm)(V,null,{default:(0,r.w5)((()=>[(0,r._)("span",{innerHTML:e.$t("password_hint")},null,8,f)])),_:1})])])),_:1},8,["label","modelValue","error-message","error","type"])]),(0,r._)("div",v,[(0,r.Wm)(E,{dense:"",outlined:"",label:e.$t("confirm_password"),class:(0,t.C_)("full-width password_confirm"),modelValue:e.model["password_confirm"],"onUpdate:modelValue":s[4]||(s[4]=s=>e.model["password_confirm"]=s),"error-message":e.model_error["password_confirm"],error:""!=e.model_error["password_confirm"],type:!1===e.show_confirm_password?"password":"text"},{append:(0,r.w5)((()=>[(0,r.Wm)($,{color:"grey-7",name:!1===e.show_confirm_password?"visibility":"visibility_off",onClick:s[3]||(s[3]=s=>e.show_confirm_password=!e.show_confirm_password)},null,8,["name"])])),_:1},8,["label","modelValue","error-message","error","type"])]),(0,r._)("div",b,[(0,r.Wm)(D,{unelevated:"",onKeyup:(0,a.D2)(e.submitForm,["enter"]),label:e.$t("pages.reset_password.resetBtn"),color:"primary","text-color":"white",onClick:s[5]||(s[5]=s=>e.submitForm())},null,8,["onKeyup","label"])])])),_:1})]),(0,r._)("div",y,[(0,r.Wm)(Q,{class:"text-center"},{default:(0,r.w5)((()=>[(0,r._)("div",x,[(0,r._)("div",q,[(0,r._)("a",{onClick:s[6]||(s[6]=s=>e.user_login())},(0,t.zw)(e.$t("pages.reset_password.back_to_login")),1)])])])),_:1})])])),_:1})])])]),(0,r.Wm)(T,{showing:e.processing},{default:(0,r.w5)((()=>[Z])),_:1},8,["showing"])],64)}var W=o(39981),k=o.n(W),H=o(49990),Q=o(9991),$=o(70501),V=o(37744),E=o(3833),D=o(38126),F=o(60499),T=function(e,s,o,r){function t(e){return e instanceof o?e:new o((function(s){s(e)}))}return new(o||(o=Promise))((function(o,a){function l(e){try{n(r.next(e))}catch(s){a(s)}}function i(e){try{n(r["throw"](e))}catch(s){a(s)}}function n(e){e.done?o(e.value):t(e.value).then(l,i)}n((r=r.apply(e,s||[])).next())}))};const z=(0,r.aZ)({el:"#app",mixins:[$.Z,H.Z],components:{},data(){return{}},setup(){let{locale:e}=(0,Q.QT)({useScope:"global"});return{model:(0,F.iH)({}),model_error:(0,F.iH)({}),processing:(0,F.iH)(!1),success_message:(0,F.iH)(""),locale:(0,F.iH)(e),error_message:(0,F.iH)(""),code:(0,F.iH)(""),show_password:(0,F.iH)(!1),show_confirm_password:(0,F.iH)(!1),localeOptions:[{value:"en-us",label:"English"},{value:"de",label:"Deutsch"},{value:"es-es",label:"Español"},{value:"fr",label:"Français"},{value:"nl",label:"Dutch"}]}},computed:{},mounted(){this.setNewModel(),this.getEmailAndCode()},methods:{languageChanged(){E.Z.set("selected_language",this.locale),D.Z.set("event_name","language_change"),E.Z.remove("doc_types")},setNewModel(){this.model["password"]="",this.model["password_confirm"]="",this.resetErrors()},resetErrors(){this.error_message="",this.model_error["password"]="",this.model_error["password_confirm"]=""},getEmailAndCode(){for(const[e,s]of Object.entries(this.$route.query))"code"===e&&(this.code=String(s))},user_login(){this.$router.push("/")},onResetPW(){this.$router.push("/forget-password")},submitForm(){return T(this,void 0,void 0,(function*(){try{if(!this.validateRow())return;this.processing=!0;let e=new FormData;e.append("token",this.code),e.append("password",this.model["password"]),e.append("password_confirm",this.model["password_confirm"]);const s=yield k().post(V.hi.reset_password,e,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,V.jd)()}});!0===s.data.success&&(this.success_message=s.data.message,this.setNewModel(),this.$router.push("/"))}catch(e){this.handleErrors(e)}finally{this.processing=!1}}))},validateRow(){let e=!1;return this.resetErrors(),!1===e&&""===this.model["password"]&&(this.model_error["password"]=this.$t("password")+"is required",e=!0),!1===e&&""===this.model["password_confirm"]&&(this.model_error["password_confirm"]=this.$t("password_confirm")+"is required",e=!0),!1===e&&this.model["password"]!==this.model["password_confirm"]&&(this.model_error["password_confirm"]="Passwords do not match",e=!0),!e},handleErrors(e){let s="";if(null!=e&&"object"==typeof e&&e.hasOwnProperty("message")&&(s=e.message),e&&e.response&&e.response.data&&e.response.data.hasOwnProperty("message")&&(s=e.response.data.message),s&&""!==s)throw this.error_message=s,{message:s}}}});var I=o(7683),M=o(44458),O=o(63190),P=o(70335),j=o(32259),L=o(13119),S=o(22857),U=o(46858),A=o(68879),N=o(60854),R=o(8326),B=o(18149),K=o(69984),Y=o.n(K);const G=(0,I.Z)(z,[["render",C],["__scopeId","data-v-7b52109b"]]),J=G;Y()(z,"components",{QCard:M.Z,QCardSection:O.Z,QImg:P.Z,QSelect:j.Z,QInput:L.Z,QIcon:S.Z,QTooltip:U.Z,QBtn:A.Z,QInnerLoading:N.Z,QForm:R.Z,QField:B.Z})}}]);