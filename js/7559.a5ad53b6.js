"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[7559],{27559:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Mo});var o=i(61758),s=i(58790),a=i(29104);const n=e=>((0,o.Qi)("data-v-6001a9bc"),e=e(),(0,o.jt)(),e),l={class:"row highlighted-back q-pl-md top-back-button-bar"},r={class:"row full-width"},d={key:2,class:"row q-pl-md",id:"validation_view"},c={class:"full-width",id:"right_section",ref:"right_section"},h={class:"q-pr-sm q-pa-sm"},u={class:"full-width medi-fields-content-height"},g={class:"scroll-area-height-validation"},m={id:"image_container"},p={class:"full-width",id:"image_scrolle",style:{position:"relative"}},_=n((()=>(0,o.Lk)("div",{class:"img-magnifier-glass"},null,-1))),f={id:"validate-container",class:""},v=["src","width"],b=["width","height","viewBox"],k={id:"marquee",ref:"marquee",x:"450",y:"420",width:"150",height:"150"},w={id:"boxes",ref:"boxes"},y={key:0,class:"full-width",id:"afterSlot"},C={key:0,class:"row q-pl-sm q-pr-sm"},x={class:"col-sm-12 col-md-12 col-lg-12 secondary-c-text text-h6 q-pb-md text-weight-bold"},F={class:"full-width"},L={class:"column absolute-right q-ml-auto justify-between right-action-bar back-white"},E={class:"action-bar-items",id:"validation_bar_content"},A=n((()=>(0,o.Lk)("br",null,null,-1))),D=["src"],I=["src"],S={class:"action-bar-bottom"},T={class:"q-my-auto"},R={class:"validation-view-button q-pt-md"},O={class:"hidden",id:"left_section",ref:"left_section"},M={key:0,class:"scroll-area-height-validation max-width-240"},P={class:"row justify-center q-pl-md q-pr-md q-pt-md"},q={class:"secondary-c-text text-h6 text-weight-bold"},V={class:"row"},B={class:"page-numbers center-inner"},W={class:"full-width pages-left-scroll-area-height scrolle-y pages-section-padding row justify-center"},$=["data-id","src"],N={key:1},K={key:2,class:"scroll-area-height-validation max-width-240 relative-position"},Q={key:3,class:"row bg-grey-2 q-pl-md q-pr-md q-pb-md"},z=n((()=>(0,o.Lk)("div",{class:"text-h6 text-bold"},"Need help deciding?",-1))),X={class:"row"},U={class:"text-weight-bold"},H={class:""},j={class:"text-weight-bold"},G={class:"row",style:{"border-radius":"5px"}},J={class:"full-width"},Y=n((()=>(0,o.Lk)("div",{class:"full-width"}," MONITOR 1 ",-1))),Z={class:"full-width"},ee=n((()=>(0,o.Lk)("div",{class:"full-width"}," MONITOR 2 ",-1))),te={class:"footer-filename"},ie={class:"footer-status-message"},oe={class:"next-prev-buttons float-right q-ml-auto"},se=n((()=>(0,o.Lk)("img",{width:"24",src:"images/back_new_2.svg"},null,-1))),ae=n((()=>(0,o.Lk)("img",{width:"24",src:"images/forward_new.svg"},null,-1))),ne={class:"footer-status-message"},le={key:3},re={key:4,class:"q-ml-auto"},de={key:6,class:"footer-status-message q-px-md"};function ce(e,t,i,n,ce,he){const ue=(0,o.g2)("DocumentLock"),ge=(0,o.g2)("InvoiceDuplicateLock"),me=(0,o.g2)("MessageBanner"),pe=(0,o.g2)("SubHeader"),_e=(0,o.g2)("timeSpentTimer"),fe=((0,o.g2)("AISeverityLevel"),(0,o.g2)("FieldsView")),ve=(0,o.g2)("q-resize-observer"),be=(0,o.g2)("AnnotationView"),ke=(0,o.g2)("q-btn"),we=(0,o.g2)("q-splitter"),ye=(0,o.g2)("q-tooltip"),Ce=(0,o.g2)("keyboardShortcutInfoBtn"),xe=(0,o.g2)("q-separator"),Fe=(0,o.g2)("TaskBtn"),Le=(0,o.g2)("import-multi-invoice"),Ee=(0,o.g2)("autoTesting"),Ae=(0,o.g2)("q-badge"),De=(0,o.g2)("q-icon"),Ie=(0,o.g2)("q-item-section"),Se=(0,o.g2)("q-item"),Te=(0,o.g2)("TfidfPreferenceControl"),Re=(0,o.g2)("q-list"),Oe=(0,o.g2)("q-menu"),Me=(0,o.g2)("q-input"),Pe=(0,o.g2)("supportForm"),qe=(0,o.g2)("TaskList"),Ve=(0,o.g2)("ErrorDocumentView"),Be=(0,o.g2)("Loader"),We=(0,o.g2)("q-space"),$e=(0,o.g2)("q-card-section"),Ne=(0,o.g2)("q-card"),Ke=(0,o.g2)("q-dialog"),Qe=(0,o.g2)("SplitDocument"),ze=(0,o.g2)("q-toolbar-title"),Xe=(0,o.g2)("q-toolbar"),Ue=(0,o.g2)("ScriptLogs"),He=(0,o.g2)("q-card-actions"),je=(0,o.g2)("q-select"),Ge=(0,o.g2)("f-btn"),Je=(0,o.g2)("NonMappedColumnsBtn"),Ye=(0,o.g2)("BlockSupplier"),Ze=(0,o.g2)("IgnoreTableValidation"),et=(0,o.g2)("UnBlockSupplier"),tt=(0,o.g2)("q-slider"),it=(0,o.g2)("q-footer"),ot=(0,o.gN)("close-popup");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(ue,{document_version:e.document_version,trigger_document_lock:e.trigger_document_lock,doc_id:e.docId,onSetTriggerDocumentLock:e.setTriggerDocumentLock},null,8,["document_version","trigger_document_lock","doc_id","onSetTriggerDocumentLock"]),!e.trigger_document_lock&&e.isInvoiceDuplicate?((0,o.uX)(),(0,o.Wv)(ge,{key:0,doc_id:e.docId,doc_type:e.docType,doc_status:e.docStatus,onSetInvoiceDuplicateStatus:e.setInvoiceDuplicateStatus},null,8,["doc_id","doc_type","doc_status","onSetInvoiceDuplicateStatus"])):(0,o.Q3)("",!0),!e.isReadOnly||e.trigger_document_lock||e.isInvoiceDuplicate?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(me,{key:1,message:e.error_message,messageCategoryClass:"error-banner"},null,8,["message"])),(0,o.bF)(pe,{name:"field_validation",onSearch:!1,label:e.$t("field_validation"),show_expiry_alert:!0},null,8,["label"]),(0,o.Lk)("div",l,[(0,o.Lk)("div",r,[(0,o.Lk)("div",{class:"q-pt-sm q-pl-md filename-container",style:(0,s.Tr)("width:"+(100-e.imageFieldSplitter)+"%")},[(0,o.bF)(_e)],4)]),(0,o.Q3)("",!0)]),e.doc_fetch_error?((0,o.uX)(),(0,o.CE)("div",Q,[(0,o.bF)(Ve)])):((0,o.uX)(),(0,o.CE)("div",d,[(0,o.Lk)("div",c,[(0,o.bF)(we,{limits:[30,80],modelValue:e.imageFieldSplitter,"onUpdate:modelValue":[t[16]||(t[16]=t=>e.imageFieldSplitter=t),t[17]||(t[17]=t=>e.splitterChanged())],class:"scroll-area-height-validation"},{before:(0,o.k6)((()=>[(0,o.Lk)("div",h,[(0,o.Lk)("div",u,[e.hasApiData()?((0,o.uX)(),(0,o.Wv)(fe,{key:0,ref:"fieldsView",page:e.page,isPanelSection:!1,renderOpenWindoIcon:!0,onGetImageDetails:e.getImageDetails,onSetSplitterModel:e.setSplitterModel,onHandleScroll:e.removeOverlayandLines,onShowConnectionFromField:e.showConnectionFromField,onRefreshCanvasAfterSelection:e.refreshCanvasAfterSelection,onRemoveOldMapiingsAndDrawNew:e.removeOldMapiingsAndDrawNew,onEnableOrDisableExportButton:e.enableOrDisableExportButton,onCheckFieldInvalid:e.checkFieldInvalid},null,8,["page","onGetImageDetails","onSetSplitterModel","onHandleScroll","onShowConnectionFromField","onRefreshCanvasAfterSelection","onRemoveOldMapiingsAndDrawNew","onEnableOrDisableExportButton","onCheckFieldInvalid"])):(0,o.Q3)("",!0)])])])),after:(0,o.k6)((()=>[(0,o.bF)(ve,{onResize:e.onResize,debounce:0},null,8,["onResize"]),(0,o.Lk)("div",g,[(0,o.Lk)("div",m,[(0,o.Lk)("div",p,[(0,o.bF)(we,{horizontal:"",limits:[0,100],disable:!e.isExtenedPanel,modelValue:e.splitterModel,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.splitterModel=t),e.removeOverlayandLines],class:"scroll-area-height-img","after-class":e.isExtenedPanel?"q-pa-xs":"q-px-sm","before-class":"q-pa-sm img-magnifier-container","separator-class":(e.isExtenedPanel,"q-ma-sm")},{before:(0,o.k6)((()=>[_,"annotate"==e.field_view_mode?((0,o.uX)(),(0,o.Wv)(be,{key:0,ref:"child_comp",enableEditing:e.enable_editing,cropUrl:e.image+"?"+e.tokenQueryParam,width:e.imageWidth,selectFont:e.selectFont,selectFontSize:e.selectFontSize,selectColor:e.selectColor,screenmode:"annotate"},null,8,["enableEditing","cropUrl","width","selectFont","selectFontSize","selectColor"])):(0,o.Q3)("",!0),(0,o.Lk)("div",f,[(0,o.Lk)("img",{class:"screenshot",src:e.image+"?"+e.tokenQueryParam,width:e.imageWidth,id:"screenshot",ref:"screenshot",draggable:"false",onLoad:t[0]||(t[0]=t=>{e.imageLoaded=!0,e.getImageDetails()})},null,40,v),((0,o.uX)(),(0,o.CE)("svg",{width:e.imageWidth,height:e.imageHeight,viewBox:e.viewBox,id:"draw",ref:"draw",xmlns:"http://www.w3.org/2000/svg",style:{height:"auto","border-bottom":"5px dotted"}},[(0,o.Lk)("rect",k,null,512),(0,o.Lk)("g",w,null,512)],8,b))])])),separator:(0,o.k6)((()=>[e.isExtenedPanel?((0,o.uX)(),(0,o.Wv)(ke,{key:0,disable:!e.isExtenedPanel,round:"",unelevated:"",size:"xs",icon:"swap_vert",class:"panel-expand-button highlighted-back z-index-1",onClick:t[1]||(t[1]=t=>e.toggleSplitter())},null,8,["disable"])):(0,o.Q3)("",!0)])),after:(0,o.k6)((()=>[e.renderComponent&&e.hasApiData()?((0,o.uX)(),(0,o.CE)("div",y,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.formLayout,((t,i)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:`div-${i}`},[!0===t.is_panel_section_group?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"display-inline-block",style:(0,s.Tr)("width:"+e.getElementWidth(t)+"%")},[t.title?((0,o.uX)(),(0,o.CE)("div",C,[(0,o.Lk)("div",x,(0,s.v_)(t.title),1)])):(0,o.Q3)("",!0),(0,o.Lk)("div",F,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.rows,((t,a)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:`div-${a}`},[e.isFieldHidden(t)?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"",style:(0,s.Tr)("width:"+e.getElementWidth(t)+"%")},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(t.fieldType),{currentField:t,isReadOnly:e.isReadOnly,fieldName:t.name,groupIndex:i,onUpdateModel:e.$refs["fieldsView"].updateModel,onInputClicked:e.$refs["fieldsView"].showConnectionFromField,onInputValueChanges:e.$refs["fieldsView"].onInputValueChanges,onApplyFuzzySearch:e.$refs["fieldsView"].applyFuzzySearchWrapper},null,40,["currentField","isReadOnly","fieldName","groupIndex","onUpdateModel","onInputClicked","onInputValueChanges","onApplyFuzzySearch"]))],4))],64)))),128))])],4)):(0,o.Q3)("",!0)],64)))),128))])):(0,o.Q3)("",!0)])),_:1},8,["disable","modelValue","after-class","separator-class","onUpdate:modelValue"])])]),(0,o.Lk)("div",L,[e.showScrollUpButton?((0,o.uX)(),(0,o.Wv)(ke,{key:0,icon:"keyboard_arrow_up",flat:"",class:"validation-view-scroll-down icon-grey",onClick:e.onScrollUp},null,8,["onClick"])):(0,o.Q3)("",!0),(0,o.Lk)("div",E,[(0,o.bF)(ke,{disable:"annotate"===e.field_view_mode,icon:"img:images/loupe.svg",dense:"",flat:"",class:"validation-view-button",onClick:e.initiateMagnifyGlass},{default:(0,o.k6)((()=>[(0,o.bF)(ye,{style:{"white-space":"nowrap"}},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("pages.screen2a.magnify")),1)])),_:1})])),_:1},8,["disable","onClick"]),(0,o.bF)(ke,{icon:"img:images/dual-monitor.svg",flat:"",class:"validation-view-button",onClick:e.selectBetweenMonitor},{default:(0,o.k6)((()=>[(0,o.bF)(ye,{style:{"white-space":"nowrap"}},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("open_image"))+" ",1),A,(0,o.eW)(" "+(0,s.v_)(e.$t("pages.messages.CHROME_ONLY")),1)])),_:1})])),_:1},8,["onClick"]),(0,o.bF)(Ce),(0,o.bF)(xe,{class:"separator-space"}),(0,o.bF)(Fe,{onBtnClicked:t[3]||(t[3]=t=>e.toggleSideBar("tasks"))}),e.user_settings["ANNOTATION_MODE"]&&"annotate"==e.field_view_mode?((0,o.uX)(),(0,o.Wv)(ke,{key:0,flat:"",class:"validation-view-button",onClick:t[4]||(t[4]=t=>e.changeScreenMode())},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{width:"24",height:"24",src:0==e.doc_annotations.length?"annotation/annotation_icon.svg":"annotation/annotation_icon_mark.svg"},null,8,D),(0,o.bF)(ye,{style:{"white-space":"nowrap"}},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("annotation.deactivate_mode")),1)])),_:1})])),_:1})):(0,o.Q3)("",!0),e.user_settings["ANNOTATION_MODE"]&&"validate"==e.field_view_mode?((0,o.uX)(),(0,o.Wv)(ke,{key:1,flat:"",class:"validation-view-button",onClick:t[5]||(t[5]=t=>e.changeScreenMode())},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{width:"24",height:"24",src:0==e.doc_annotations.length?"annotation/annotation_icon.svg":"annotation/annotation_icon_mark.svg"},null,8,I),(0,o.bF)(ye,{style:{"white-space":"nowrap"}},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("annotation.activate_mode")),1)])),_:1})])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(Le,{isDashboard:!1,docId:e.docId,onSetImages:e.setImage},null,8,["docId","onSetImages"]),!0===e.is_admin?((0,o.uX)(),(0,o.Wv)(ke,{key:2,disabled:"ELECTRONIC_DOCUMENT"===e.record.extraction_method,icon:"img:images/ocr_icon.svg",flat:"",class:"validation-view-button",onClick:e.viewOCRDocument},{default:(0,o.k6)((()=>[(0,o.bF)(ye,{style:{"white-space":"nowrap"}},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("ocr_view")),1)])),_:1})])),_:1},8,["disabled","onClick"])):(0,o.Q3)("",!0),(0,o.bF)(xe,{class:"separator-space"}),!0===e.is_debug?((0,o.uX)(),(0,o.Wv)(ke,{key:3,icon:"adb",flat:"",class:"validation-view-button icon-grey",onClick:t[6]||(t[6]=t=>e.enableOrDisableExportButton(!0))},{default:(0,o.k6)((()=>[(0,o.bF)(ye,null,{default:(0,o.k6)((()=>[(0,o.eW)("Debug Field Validations. Results will be displayed in the console after clicking it")])),_:1})])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(Ee,{onSetApiData:e.setApiData},null,8,["onSetApiData"]),(0,o.bF)(ke,{icon:"img:images/costumer_care.svg",flat:"",class:"validation-view-button",onClick:t[7]||(t[7]=t=>e.toggleSideBar("support"))},{default:(0,o.k6)((()=>[(0,o.bF)(ye,{style:{"white-space":"nowrap"}},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("pages.support.create_ticket")),1)])),_:1})])),_:1}),e.DOC_SCRIPT_MODULE?((0,o.uX)(),(0,o.Wv)(ke,{key:4,icon:"img:images/doc_script_logs.svg",flat:"",size:"20px",class:"validation-view-button v-p-0",onClick:t[8]||(t[8]=t=>e.display_doc_script_logs=!0)},{default:(0,o.k6)((()=>[e.script_error_count>0?((0,o.uX)(),(0,o.Wv)(Ae,{key:0,color:"red",rounded:"",floating:""},{default:(0,o.k6)((()=>[(0,o.eW)("!")])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(ye,{style:{"white-space":"nowrap"}},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("doc_script_logs")),1)])),_:1})])),_:1})):(0,o.Q3)("",!0),e.user_settings["BARCODE_ASSIGNMENT_SETTING"]?((0,o.uX)(),(0,o.Wv)(ke,{key:5,icon:"img:images/barcode.svg",flat:"",size:"20px",class:"validation-view-button v-p-0",onClick:t[9]||(t[9]=t=>e.prepareBarcodeData())},{default:(0,o.k6)((()=>[(0,o.bF)(ye,{style:{"white-space":"nowrap"}},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("barcode_assignment")),1)])),_:1})])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(ke,{flat:"",dense:"",size:"10px",class:"validation-view-button more_button",style:{background:"#707070",color:"white"},round:"",onClick:t[12]||(t[12]=(0,a.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz"},{default:(0,o.k6)((()=>[(0,o.bF)(Oe,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"top left",self:"top right"},{default:(0,o.k6)((()=>[(0,o.bF)(Re,{dense:"",style:{"min-width":"100px"}},{default:(0,o.k6)((()=>[e.images.length>1?((0,o.uX)(),(0,o.Wv)(Se,{key:0,clickable:"",onClick:e.displaySplitDocumentView},{default:(0,o.k6)((()=>[(0,o.bF)(Ie,{avatar:"",class:"list-avatar"},{default:(0,o.k6)((()=>[(0,o.bF)(De,{name:"img:images/split.svg",size:"xs",class:"invert",style:{"font-size":"22px"}})])),_:1}),(0,o.bF)(Ie,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("split_document_btn_tooltip")),1)])),_:1})])),_:1},8,["onClick"])):(0,o.Q3)("",!0),"INVOICE"==e.docType?((0,o.uX)(),(0,o.Wv)(Se,{key:1,clickable:"",onClick:t[10]||(t[10]=t=>e.toFlowScreen(this.$route.params.id))},{default:(0,o.k6)((()=>[(0,o.bF)(Ie,{avatar:"",class:"list-avatar"},{default:(0,o.k6)((()=>[(0,o.bF)(De,{name:"img:images/flow.svg",size:"xs",class:"invert",style:{"font-size":"22px"}})])),_:1}),(0,o.bF)(Ie,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("document_flow")),1)])),_:1})])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(xe,{inset:""}),(0,o.bF)(Se,{clickable:"",onClick:t[11]||(t[11]=t=>e.goToLayoutTemplate())},{default:(0,o.k6)((()=>[(0,o.bF)(Ie,{avatar:"",class:"list-avatar"},{default:(0,o.k6)((()=>[(0,o.bF)(De,{name:"img:images/layout.svg",size:"xs",class:"invert",style:{"font-size":"22px"}})])),_:1}),(0,o.bF)(Ie,null,{default:(0,o.k6)((()=>[(0,o.eW)("Go to Layout Template")])),_:1})])),_:1}),(0,o.bF)(xe,{inset:""}),e.record.tfidf_id?((0,o.uX)(),(0,o.Wv)(Se,{key:2},{default:(0,o.k6)((()=>[(0,o.bF)(Ie,null,{default:(0,o.k6)((()=>[(0,o.bF)(Te,{tfidf_id:e.record.tfidf_id,onRestartDocument:e.restartDocument,docId:e.docId},null,8,["tfidf_id","onRestartDocument","docId"])])),_:1})])),_:1})):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1})]),(0,o.Lk)("div",S,[e.showScrollDownButton?((0,o.uX)(),(0,o.Wv)(ke,{key:0,icon:"keyboard_arrow_down",flat:"",class:"validation-view-scroll-down icon-grey",onClick:e.onScrollDown},null,8,["onClick"])):(0,o.Q3)("",!0),(0,o.bF)(xe,{class:"q-mb-sm"}),(0,o.Lk)("div",T,[(0,o.bF)(ke,{icon:"img:images/pages.svg",flat:"",class:"validation-view-button",onClick:t[13]||(t[13]=t=>e.toggleSideBar("pages"))},{default:(0,o.k6)((()=>[(0,o.bF)(ye,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.currentPage())+" / "+(0,s.v_)(e.images.length),1)])),_:1})])),_:1})]),(0,o.bF)(Me,{outlined:"",dense:"",modelValue:e.page,"onUpdate:modelValue":[t[14]||(t[14]=t=>e.page=t),t[15]||(t[15]=t=>{e.quickActionClicked(t)})],class:"validation-view-input",onBlur:e.validatePageNumber},null,8,["modelValue","onBlur"]),(0,o.Lk)("span",R,(0,s.v_)(e.lastPageItem),1),(0,o.Lk)("div",null,[(0,o.bF)(ke,{disable:1==e.page,icon:"keyboard_arrow_up",flat:"",class:"validation-view-page-button icon-grey",onClick:e.movePageDown},null,8,["disable","onClick"]),(0,o.bF)(ke,{disable:e.page==e.lastPageItem,icon:"keyboard_arrow_down",flat:"",class:"validation-view-page-button icon-grey",onClick:e.movePageUp},null,8,["disable","onClick"])])])])])])),_:1},8,["modelValue"])],512),(0,o.Lk)("div",O,["pages"==e.current_sidebar?((0,o.uX)(),(0,o.CE)("div",M,[(0,o.Lk)("div",P,[(0,o.Lk)("span",q,(0,s.v_)(e.$t("pages.screen2a.pages")),1)]),(0,o.Lk)("div",V,[(0,o.Lk)("div",B,(0,s.v_)(e.currentPage())+"/"+(0,s.v_)(e.images.length),1)]),(0,o.Lk)("div",W,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.images,((i,a)=>((0,o.uX)(),(0,o.CE)("img",{"data-id":a,key:a,src:e.baseUrl+"/"+i.path+"?"+e.tokenQueryParam,class:(0,s.C4)(["q-pa-xs shadow-5 max-width-120 q-ma-sm cursor-pointer",a===e.page-1?"active":""]),style:{height:"160px"},onClick:t[18]||(t[18]=(...t)=>e.imageclicked&&e.imageclicked(...t))},null,10,$)))),128))])])):(0,o.Q3)("",!0),"support"==e.current_sidebar?((0,o.uX)(),(0,o.CE)("div",N,[(0,o.bF)(Pe)])):(0,o.Q3)("",!0),"tasks"==e.current_sidebar?((0,o.uX)(),(0,o.CE)("div",K,[(0,o.bF)(qe,{onBtnClicked:t[19]||(t[19]=t=>e.toggleSideBar("tasks"))})])):(0,o.Q3)("",!0)],512)])),(0,o.bF)(Be),(0,o.bF)(Ke,{modelValue:e.showDialog,"onUpdate:modelValue":t[21]||(t[21]=t=>e.showDialog=t)},{default:(0,o.k6)((()=>[(0,o.bF)(Ne,null,{default:(0,o.k6)((()=>[(0,o.bF)($e,{class:"row items-center q-pb-none"},{default:(0,o.k6)((()=>[z,(0,o.bF)(We),(0,o.bo)((0,o.bF)(ke,{icon:"close",flat:"",round:"",dense:""},null,512),[[ot]])])),_:1}),(0,o.bF)($e,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Don't think too much and just contact us to learn more about the application! ")])),_:1}),(0,o.Lk)("div",X,[(0,o.bF)(We),(0,o.bF)(ke,{flat:"",color:"primary",label:"Contact us",onClick:t[20]||(t[20]=t=>e.goFormular())})])])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(Ke,{modelValue:e.split_document,"onUpdate:modelValue":t[22]||(t[22]=t=>e.split_document=t),persistent:""},{default:(0,o.k6)((()=>[(0,o.bF)(Qe)])),_:1},8,["modelValue"]),(0,o.bF)(Ke,{modelValue:e.display_doc_script_logs,"onUpdate:modelValue":t[23]||(t[23]=t=>e.display_doc_script_logs=t)},{default:(0,o.k6)((()=>[(0,o.bF)(Ne,{class:"standard-popup-size"},{default:(0,o.k6)((()=>[(0,o.bF)(Xe,{class:"text-white secondary-toolbar"},{default:(0,o.k6)((()=>[(0,o.bF)(ze,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",U,(0,s.v_)(e.$t("doc_script_logs")),1)])),_:1}),(0,o.bo)((0,o.bF)(ke,{flat:"",round:"",dense:"",icon:"close"},null,512),[[ot]])])),_:1}),(0,o.bF)($e,null,{default:(0,o.k6)((()=>[(0,o.bF)(Ue)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Lk)("div",H,[(0,o.bF)(Ke,{modelValue:e.textConfirmation,"onUpdate:modelValue":t[28]||(t[28]=t=>e.textConfirmation=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.k6)((()=>[(0,o.bF)(Ne,{style:{width:"440px"}},{default:(0,o.k6)((()=>[(0,o.bF)(Xe,{class:"secondary-toolbar"},{default:(0,o.k6)((()=>[(0,o.bF)(ze,null,{default:(0,o.k6)((()=>[(0,o.Lk)("span",j,(0,s.v_)(e.$t("confirmation")),1)])),_:1}),(0,o.bo)((0,o.bF)(ke,{flat:"",round:"",dense:"",icon:"close"},null,512),[[ot]])])),_:1}),(0,o.bF)($e,{class:"q-pt-none"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.textConfirmationMsg),1)])),_:1}),(0,o.bF)(He,{align:"right",class:"text-teal"},{default:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(ke,{color:"grey",label:e.$t("pages.screen2a.cancel"),"data-cy":"cancel",onClick:t[24]||(t[24]=t=>e.cancelOverlayDiv())},null,8,["label"]),[[ot]]),(0,o.bo)((0,o.bF)(ke,{color:"grey","data-cy":"no",label:"Don't ask again",onClick:t[25]||(t[25]=t=>e.askLater())},null,512),[[ot]]),(0,o.bo)((0,o.bF)(ke,{color:"grey","data-cy":"no",label:e.$t("re_select"),onClick:t[26]||(t[26]=t=>e.enableDrawing(!0))},null,8,["label"]),[[ot]]),(0,o.bo)((0,o.bF)(ke,{color:"primary","data-cy":"yes",label:e.$t("pages.screen2a.yes"),onClick:t[27]||(t[27]=t=>e.updateFieldData())},null,8,["label"]),[[ot]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(Ke,{modelValue:e.saveInstant,"onUpdate:modelValue":t[29]||(t[29]=t=>e.saveInstant=t)},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.updateFieldData()),1)])),_:1},8,["modelValue"])]),(0,o.bF)(Ke,{modelValue:e.selectMonitor,"onUpdate:modelValue":t[32]||(t[32]=t=>e.selectMonitor=t),position:"top"},{default:(0,o.k6)((()=>[(0,o.bF)(Ne,{style:{width:"600px"}},{default:(0,o.k6)((()=>[(0,o.Lk)("div",G,[(0,o.Lk)("div",{style:{padding:"10px","text-align":"center"},class:"col-sm-6 col-md-6 col-lg-6 cursor-pointer",onClick:t[30]||(t[30]=t=>e.openComponentInSeparateWindow(0))},[(0,o.bF)($e,{class:"screenhover",style:{border:"1px solid #d8d8d8","border-radius":"5px"}},{default:(0,o.k6)((()=>[(0,o.Lk)("div",J,[(0,o.bF)(De,{name:"desktop_windows",size:"xl",style:{"font-size":"150px"}})]),Y])),_:1})]),(0,o.Lk)("div",{style:{padding:"10px","text-align":"center"},class:"col-sm-6 col-md-6 col-lg-6 cursor-pointer",onClick:t[31]||(t[31]=t=>e.openComponentInSeparateWindow(1))},[(0,o.bF)($e,{class:"screenhover",style:{border:"1px solid #d8d8d8","border-radius":"5px"}},{default:(0,o.k6)((()=>[(0,o.Lk)("div",Z,[(0,o.bF)(De,{name:"desktop_windows",size:"xl",style:{"font-size":"150px"}})]),ee])),_:1})])])])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(Ke,{modelValue:e.display_barcode_assignment,"onUpdate:modelValue":t[33]||(t[33]=t=>e.display_barcode_assignment=t),onKeydown:t[34]||(t[34]=(0,a.jR)((t=>e.display_barcode_assignment=!1),["esc"]))},{default:(0,o.k6)((()=>[(0,o.bF)(Ne,{style:{"min-width":"320px","max-width":"1000px"}},{default:(0,o.k6)((()=>[(0,o.bF)($e,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("Barcode Mapping (currently reverse order)")),1)])),_:1}),e.barcode_amount>0?((0,o.uX)(),(0,o.Wv)($e,{key:0},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.barcode_data,((t,i)=>((0,o.uX)(),(0,o.CE)("div",{style:{"margin-top":"15px"},key:t},[(0,o.eW)(" Barcode "+(0,s.v_)(i)+" : "+(0,s.v_)(t)+" ",1),(0,o.bF)(je,{outlined:"",dense:"",clearable:"",modelValue:e.barcode_field_set[i],"onUpdate:modelValue":[t=>e.barcode_field_set[i]=t,o=>e.setFieldData(t,e.barcode_field_set[i],i)],options:e.doc_fields},null,8,["modelValue","onUpdate:modelValue","options"])])))),128))])),_:1})):((0,o.uX)(),(0,o.Wv)($e,{key:1},{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,(0,s.v_)(e.$t("No Barcodes extracted/found")),1)])),_:1}))])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(it,{class:"validation-status-bar back-white"},{default:(0,o.k6)((()=>[(0,o.bF)(Xe,{class:(0,s.C4)(["row justify-start",""==e.current_sidebar?"":"opened-right-padding"])},{default:(0,o.k6)((()=>[(0,o.Lk)("span",te,(0,s.v_)(e.record.filename),1),(0,o.bF)(ke,{size:"md",flat:"",dense:"",class:"q-ml-xs",onClick:t[35]||(t[35]=t=>e.downloadFile())},{default:(0,o.k6)((()=>[(0,o.bF)(De,{name:"download",style:{color:"#8a8a8a"}})])),_:1}),(0,o.bF)(xe,{vertical:"",class:"q-mx-md"}),(0,o.Lk)("span",ie,(0,s.v_)(e.currentDisplayedMessage),1),e.currentDisplayedMessage?((0,o.uX)(),(0,o.Wv)(xe,{key:0,vertical:"",class:"q-mx-md"})):(0,o.Q3)("",!0),e.script_error_count>0?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[e.DOC_SCRIPT_MODULE?((0,o.uX)(),(0,o.CE)("span",{key:0,class:"footer-status-message text-red cursor-pointer",onClick:t[36]||(t[36]=t=>e.display_doc_script_logs=!0)},[(0,o.eW)((0,s.v_)(e.$t("error_in_document_script"))+" ",1),(0,o.bF)(Ae,{align:"top",rounded:"",color:"red"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.script_error_count),1)])),_:1})])):(0,o.Q3)("",!0),(0,o.bF)(xe,{vertical:"",class:"q-mx-md"})],64)):(0,o.Q3)("",!0),(0,o.Lk)("div",oe,[(0,o.bF)(Ge,{appearance:"tertiary","data-cy":"previous",onClick:t[37]||(t[37]=t=>e.routeToNextDoc("prev"))},{default:(0,o.k6)((()=>[(0,o.bF)(De,{class:"text-red-13",size:"sm"},{default:(0,o.k6)((()=>[se])),_:1}),(0,o.bF)(ye,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("Previous_Document")),1)])),_:1})])),_:1}),(0,o.bF)(Ge,{appearance:"tertiary","data-cy":"next",onClick:t[38]||(t[38]=t=>e.routeToNextDoc("next"))},{default:(0,o.k6)((()=>[(0,o.bF)(ye,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("Next_Document")),1)])),_:1}),(0,o.bF)(De,{class:"text-red-13",size:"sm",style:{"margin-left":"7px"}},{default:(0,o.k6)((()=>[ae])),_:1})])),_:1})]),(0,o.bF)(We),e.record.table_blocked?((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[(0,o.bF)(xe,{vertical:"",class:"q-mx-md"}),(0,o.bF)(De,{class:"text-blue",style:{"font-size":"22px"},name:"info"}),(0,o.Lk)("span",ne,(0,s.v_)(e.$t("block_supplier_warning")),1)],64)):(0,o.Q3)("",!0),(0,o.bF)(xe,{vertical:"",class:"q-mx-xs"}),e.record.table_blocked?((0,o.uX)(),(0,o.CE)("div",re,[(0,o.bF)(et,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"])])):((0,o.uX)(),(0,o.CE)("div",le,[(0,o.bF)(ke,{flat:"",dense:"",icon:"img:images/table_extraction.svg",class:"icon-grey validation-footer-table-button",onClick:e.goToTableExtraction},{default:(0,o.k6)((()=>[(0,o.bF)(ye,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("go_to_table_extraction_view")),1)])),_:1})])),_:1},8,["onClick"]),e.has_ai_table?((0,o.uX)(),(0,o.Wv)(ke,{key:0,flat:"",dense:"",icon:"img:images/Add_column.svg",class:"icon-grey-svg validation-footer-table-button",onClick:t[39]||(t[39]=t=>e.showNonMappedColumnsDialog())},{default:(0,o.k6)((()=>[(0,o.bF)(ye,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("add_empty_mapped_columns")),1)])),_:1})])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(Je),(0,o.bF)(Ye),e.has_ai_table?((0,o.uX)(),(0,o.Wv)(ke,{key:1,flat:"",dense:"",icon:"img:images/table_delete.svg",class:"icon-grey validation-footer-table-button",onClick:e.deleteTable},{default:(0,o.k6)((()=>[(0,o.bF)(ye,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("delete_table")),1)])),_:1})])),_:1},8,["onClick"])):(0,o.Q3)("",!0),e.has_ai_table?((0,o.uX)(),(0,o.Wv)(ke,{key:2,flat:"",dense:"",icon:"img:images/column.svg",class:"icon-grey validation-footer-table-button",onClick:t[40]||(t[40]=t=>e.addColumnInLineItems())},{default:(0,o.k6)((()=>[(0,o.bF)(ye,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("add_new_table_column")),1)])),_:1})])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(Ze,{class:"q-mx-xs"}),e.has_ai_table?((0,o.uX)(),(0,o.Wv)(ke,{key:3,flat:"",dense:"",icon:"repartition",class:"icon-grey validation-footer-table-button",onClick:t[41]||(t[41]=t=>e.restoreDeleteColumn())},{default:(0,o.k6)((()=>[(0,o.bF)(ye,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("restore_table_column")),1)])),_:1})])),_:1})):(0,o.Q3)("",!0)])),e.images.length?((0,o.uX)(),(0,o.Wv)(xe,{key:5,vertical:"",class:"q-mx-xs"})):(0,o.Q3)("",!0),e.images.length?((0,o.uX)(),(0,o.CE)("span",de,(0,s.v_)(e.currentPage())+" / "+(0,s.v_)(e.images.length),1)):(0,o.Q3)("",!0),"annotate"!==e.field_view_mode?((0,o.uX)(),(0,o.CE)(o.FK,{key:7},[(0,o.bF)(xe,{vertical:"",class:"q-mx-xs"}),(0,o.bF)(ke,{flat:"",dense:"",icon:"remove",class:"icon-grey validation-footer-button",onClick:e.ZoomOut},null,8,["onClick"]),(0,o.bF)(tt,{class:"zoom-slider",dense:"",modelValue:e.zoom_value,"onUpdate:modelValue":[t[42]||(t[42]=t=>e.zoom_value=t),t[43]||(t[43]=t=>{e.zoom(t)})],min:.3,max:.8,step:.005},null,8,["modelValue"]),(0,o.bF)(ke,{flat:"",dense:"",icon:"add",class:"icon-grey validation-footer-plus-button",onClick:e.ZoomIn},null,8,["onClick"])],64)):(0,o.Q3)("",!0)])),_:1},8,["class"])])),_:1})],64)}var he=i(1659),ue=i(6044),ge=i(24622),me=i(45938),pe=i(68450),_e=i(38734),fe=i(46162),ve=i(11470),be=i(96056),ke=i(89156),we=i(64233),ye=i(18505),Ce=i(57366),xe=i(64775),Fe=i(28684),Le=i(42300),Ee=i(51476),Ae=i(31018),De=i(96075),Ie=i(53665),Se=i(81589),Te=i(25891),Re=i(93970),Oe=i(39281),Me=i(93829),Pe=i(7080),qe=i(48051),Ve=i(93865),Be=i(68180),We=i(86124),$e=i(68987),Ne=i(82080),Ke=i(12566),Qe=i(14907),ze=i(41903),Xe=i(54885),Ue=i(45022),He=i(13322),je=i(46687),Ge=i(17604),Je=i(72608),Ye=i(64500),Ze=i(31191);const et=(0,o.Lk)("span",{class:"q-ml-sm"},"For this change to take effect, document must be restarted. Do you want to restart now?",-1);function tt(e,t,i,s,a,n){const l=(0,o.g2)("q-toggle"),r=(0,o.g2)("q-avatar"),d=(0,o.g2)("q-card-section"),c=(0,o.g2)("f-btn"),h=(0,o.g2)("q-card-actions"),u=(0,o.g2)("q-card"),g=(0,o.g2)("q-dialog"),m=(0,o.gN)("close-popup");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(l,{modelValue:e.eTextModel,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.eTextModel=t),t[1]||(t[1]=t=>e.showConfirmDialog())],label:e.$t("ocr_setting_etext")},null,8,["modelValue","label"]),(0,o.bF)(g,{modelValue:e.confirmRestart,"onUpdate:modelValue":t[4]||(t[4]=t=>e.confirmRestart=t),persistent:""},{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,o.k6)((()=>[(0,o.bF)(r,{icon:"warning",color:"primary"})])),_:1}),(0,o.bF)(d,{class:"row items-center"},{default:(0,o.k6)((()=>[et])),_:1}),(0,o.bF)(h,{align:"right"},{default:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(c,{appearance:"cancel","data-cy":"cancel",label:e.$t("cancel"),onClick:t[2]||(t[2]=t=>e.cancel())},null,8,["label"]),[[m]]),(0,o.bo)((0,o.bF)(c,{label:e.$t("confirm"),"data-cy":"delete-popup",onClick:t[3]||(t[3]=t=>e.saveSettingsAndRestart())},null,8,["label"]),[[m]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var it=i(76956),ot=function(e,t,i,o){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,a){function n(e){try{r(o.next(e))}catch(t){a(t)}}function l(e){try{r(o["throw"](e))}catch(t){a(t)}}function r(e){e.done?i(e.value):s(e.value).then(n,l)}r((o=o.apply(e,t||[])).next())}))};const st=(0,o.pM)({name:"TfidPreference",mixins:[ge.A],emits:["restartDocument"],props:{tfidf_id:{type:String,default:""},docId:{type:String,default:""}},data(){return{eTextModel:(0,_e.KR)(!1),confirmRestart:(0,_e.KR)(!1),use_etext_if_available:it.aH.use_etext_if_available}},mounted:function(){this.getTfidfPreference()},methods:{getTfidfPreference(){return ot(this,void 0,void 0,(function*(){try{let e=yield ve.jD.getTfidfPreference(this.use_etext_if_available,this.tfidf_id);"true"===e&&(this.eTextModel=!0)}catch(e){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e)}}))},saveSettings(){return ot(this,void 0,void 0,(function*(){try{const e=new FormData;e.append("key",this.use_etext_if_available),e.append("value",this.eTextModel.toString()),e.append("tfidf_id",this.tfidf_id);yield ve.jD.setTfidfPreference(e);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}}))},saveSettingsAndRestart(){return ot(this,void 0,void 0,(function*(){this.confirmRestart=!1,yield this.saveSettings(),this.$emit("restartDocument",this.docId)}))},cancel(){this.confirmRestart=!1,this.eTextModel=!this.eTextModel},showConfirmDialog(){this.confirmRestart=!0}}});var at=i(12807),nt=i(66908),lt=i(82156),rt=i(23316),dt=i(44189),ct=i(3952),ht=i(62669),ut=i(88672),gt=i(98582),mt=i.n(gt);const pt=(0,at.A)(st,[["render",tt]]),_t=pt;mt()(st,"components",{QToggle:nt.A,QDialog:lt.A,QCard:rt.A,QCardSection:dt.A,QAvatar:ct.A,QCardActions:ht.A}),mt()(st,"directives",{ClosePopup:ut.A});var ft=i(4924),vt=i(12682),bt=i(41843),kt=i(42517),wt=i(26471),yt=i(1595),Ct=i(18783),xt=i(7538),Ft=i(72440),Lt=i(68220),Et=i(21529),At=i(35519),Dt=i(92867),It=i(14291),St=i(82161),Tt=i(40260),Rt=i(32438),Ot=i(87873),Mt=i(39297),Pt=i(8708),qt=i(4995);const Vt=e=>((0,o.Qi)("data-v-4cdd5356"),e=e(),(0,o.jt)(),e),Bt=Vt((()=>(0,o.Lk)("img",{width:"24",height:"24",src:"images/keyboard_dark_2.svg"},null,-1)));function Wt(e,t,i,n,l,r){const d=(0,o.g2)("q-tooltip"),c=(0,o.g2)("q-icon"),h=(0,o.g2)("q-btn"),u=(0,o.g2)("q-item-section"),g=(0,o.g2)("q-item-label"),m=(0,o.g2)("q-item"),p=(0,o.g2)("keyboardShortcutInfo"),_=(0,o.g2)("q-card-actions"),f=(0,o.g2)("q-card"),v=(0,o.g2)("q-dialog"),b=(0,o.gN)("close-popup");return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.show_all_menu_btns?((0,o.uX)(),(0,o.Wv)(h,{key:0,flat:"",class:"validation-view-button"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{name:"keyboard",width:"22",class:"keyboard-icon cursor-pointer",onClick:e.buttonClick},{default:(0,o.k6)((()=>[(0,o.bF)(d,{style:{"white-space":"nowrap"}},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("keyboard_shortcut")),1)])),_:1})])),_:1},8,["onClick"])])),_:1})):(0,o.bo)(((0,o.uX)(),(0,o.Wv)(m,{key:1,clickable:"",onClick:e.buttonClick},{default:(0,o.k6)((()=>[(0,o.bF)(u,{avatar:""},{default:(0,o.k6)((()=>[Bt])),_:1}),(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(g,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.$t("keyboard_shortcut")),1)])),_:1})])),_:1})])),_:1},8,["onClick"])),[[b]]),(0,o.bF)(v,{modelValue:e.showKeyboardShortcuts,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showKeyboardShortcuts=t),onKeydown:t[2]||(t[2]=(0,a.jR)((t=>e.showKeyboardShortcuts=!1),["esc"]))},{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(p),(0,o.bF)(_,{align:"right"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{flat:"",color:"primary",label:e.$t("close"),class:"float-right",style:{"font-weight":"900"},onClick:t[0]||(t[0]=t=>e.showKeyboardShortcuts=!1)},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}const $t={class:"text-weight-medium text-h6"},Nt={class:"highlighted-back"},Kt={class:"text-left",style:{"font-weight":"bold"}},Qt={class:"text-left",style:{"font-weight":"900"}},zt=(0,o.Lk)("tr",null,[(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Moves to next fields "),(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,o.Lk)("span",{class:"shortcut-Key-box"}," Enter ")])],-1),Xt=(0,o.Lk)("tr",null,[(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Validate & jump to next red-marked field "),(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,o.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," TAB ")])],-1),Ut={class:"text-left",style:{"font-weight":"bold"}},Ht={class:"text-left",style:{"font-weight":"900"}},jt=["src"],Gt=(0,o.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," k ",-1),Jt=(0,o.Lk)("tr",null,[(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Checkbox check/uncheck "),(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,o.Lk)("span",{class:"shortcut-Key-box"}," Space ")])],-1),Yt=(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Moves to next group of fields ",-1),Zt={class:"text-left",style:{"font-weight":"900"}},ei=["src"],ti=(0,o.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," G ",-1),ii=(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Move To first field of first group ",-1),oi={class:"text-left",style:{"font-weight":"900"}},si=["src"],ai=(0,o.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," F ",-1),ni=(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Save document ",-1),li={class:"text-left",style:{"font-weight":"900"}},ri=["src"],di=(0,o.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," S ",-1),ci=(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Reject document ",-1),hi={class:"text-left",style:{"font-weight":"900"}},ui=["src"],gi=(0,o.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," R ",-1),mi=(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Export without Sonderwunsch ",-1),pi={class:"text-left",style:{"font-weight":"900"}},_i=["src"],fi=(0,o.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," E ",-1),vi=(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Export with Sonderwunsch ",-1),bi={class:"text-left",style:{"font-weight":"900"}},ki=["src"],wi=(0,o.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," W ",-1),yi=(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Jump to Table Section ",-1),Ci={class:"text-left",style:{"font-weight":"900"}},xi=["src"],Fi=(0,o.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," T ",-1),Li=(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Create new line ",-1),Ei={class:"text-left",style:{"font-weight":"900"}},Ai=["src"],Di=(0,o.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," plus (+) ",-1),Ii=(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Move to Next Column ",-1),Si={class:"text-left"},Ti=(0,o.Lk)("img",{src:"images/keyboard-left-arrow.svg"},null,-1),Ri=(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Move to previous Column ",-1),Oi={class:"text-left"},Mi={class:"q-mr-sm"},Pi=(0,o.Lk)("img",{src:"images/keyboard-right-arrow.svg"},null,-1),qi=(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Move to above Row ",-1),Vi={class:"text-left"},Bi=(0,o.Lk)("img",{src:"images/keyboard-up-arrow.svg"},null,-1),Wi=(0,o.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Move to below Row ",-1),$i={class:"text-left"},Ni=(0,o.Lk)("img",{src:"images/keyboard-down-arrow.svg"},null,-1),Ki={key:0},Qi={class:"text-left",style:{"font-weight":"bold"}},zi={class:"text-left",style:{"font-weight":"900"}},Xi={class:"shortcut-Key-box q-mr-sm"},Ui={class:"shortcut-Key-box q-ml-sm"};function Hi(e,t,i,a,n,l){const r=(0,o.g2)("q-card-section"),d=(0,o.g2)("q-icon"),c=(0,o.g2)("q-markup-table");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",$t,(0,s.v_)(e.$t("keyboard_shortcuts")),1)])),_:1}),(0,o.bF)(r,{class:"v-p-0"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{class:"full-width",style:{overflow:"scroll","max-height":"60vh"},"virtual-scroll":""},{default:(0,o.k6)((()=>[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",Nt,[(0,o.Lk)("th",Kt,(0,s.v_)(e.$t("action")),1),(0,o.Lk)("th",Qt,(0,s.v_)(e.$t("keyboard_shortcut")),1)])]),(0,o.Lk)("tbody",null,[zt,Xt,(0,o.Lk)("tr",null,[(0,o.Lk)("td",Ut,(0,s.v_)(e.$t("doc2light.descriptions.check_keyboard_shortcut")),1),(0,o.Lk)("td",Ht,[(0,o.bF)(d,{size:"40px",class:"black_to_white"},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,jt)])),_:1}),(0,o.eW)(" + "),Gt])]),Jt,(0,o.Lk)("tr",null,[Yt,(0,o.Lk)("td",Zt,[(0,o.bF)(d,{size:"40px",class:"black_to_white"},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,ei)])),_:1}),(0,o.eW)(" + "),ti])]),(0,o.Lk)("tr",null,[ii,(0,o.Lk)("td",oi,[(0,o.bF)(d,{size:"40px",class:"black_to_white"},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,si)])),_:1}),(0,o.eW)(" + "),ai])]),(0,o.Lk)("tr",null,[ni,(0,o.Lk)("td",li,[(0,o.bF)(d,{size:"40px",class:"black_to_white"},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,ri)])),_:1}),(0,o.eW)(" + "),di])]),(0,o.Lk)("tr",null,[ci,(0,o.Lk)("td",hi,[(0,o.bF)(d,{size:"40px",class:"black_to_white"},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,ui)])),_:1}),(0,o.eW)(" + "),gi])]),(0,o.Lk)("tr",null,[mi,(0,o.Lk)("td",pi,[(0,o.bF)(d,{size:"40px",class:"black_to_white"},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,_i)])),_:1}),(0,o.eW)(" + "),fi])]),(0,o.Lk)("tr",null,[vi,(0,o.Lk)("td",bi,[(0,o.bF)(d,{size:"40px",class:"black_to_white"},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,ki)])),_:1}),(0,o.eW)(" + "),wi])]),(0,o.Lk)("tr",null,[yi,(0,o.Lk)("td",Ci,[(0,o.bF)(d,{size:"40px",class:"black_to_white"},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,xi)])),_:1}),(0,o.eW)(" + "),Fi])]),(0,o.Lk)("tr",null,[Li,(0,o.Lk)("td",Ei,[(0,o.bF)(d,{size:"40px",class:"black_to_white"},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,Ai)])),_:1}),(0,o.eW)(" + "),Di])]),(0,o.Lk)("tr",null,[Ii,(0,o.Lk)("td",Si,[(0,o.bF)(d,{size:"36px",class:"black_to_white"},{default:(0,o.k6)((()=>[Ti])),_:1})])]),(0,o.Lk)("tr",null,[Ri,(0,o.Lk)("td",Oi,[(0,o.Lk)("span",Mi,[(0,o.bF)(d,{size:"36px",class:"black_to_white"},{default:(0,o.k6)((()=>[Pi])),_:1})])])]),(0,o.Lk)("tr",null,[qi,(0,o.Lk)("td",Vi,[(0,o.bF)(d,{size:"36px",class:"black_to_white"},{default:(0,o.k6)((()=>[Bi])),_:1})])]),(0,o.Lk)("tr",null,[Wi,(0,o.Lk)("td",$i,[(0,o.bF)(d,{size:"36px",class:"black_to_white"},{default:(0,o.k6)((()=>[Ni])),_:1})])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.formLayout,((e,t)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:t},[""!==e.short_cut_key_2&&""!==e.short_cut_key_1?((0,o.uX)(),(0,o.CE)("tr",Ki,[(0,o.Lk)("td",Qi," Move to Group "+(0,s.v_)(e.title),1),(0,o.Lk)("td",zi,[(0,o.Lk)("span",Xi,(0,s.v_)(e.short_cut_key_1),1),(0,o.eW)(" + "),(0,o.Lk)("span",Ui,(0,s.v_)(e.short_cut_key_2),1)])])):(0,o.Q3)("",!0)],64)))),128))])])),_:1})])),_:1})],64)}var ji=i(18453);const Gi=(0,o.pM)({el:"#app",mixins:[ji.A],props:{},components:{},data(){return{combination_key:""}},mounted:function(){this.combination_key=this.getCombinationKey(null)},setup(){const e=(0,yt.uL)(),{formLayout:t}=(0,he.bP)(e);return{formLayout:t}}});var Ji=i(857),Yi=i(50492);const Zi=(0,at.A)(Gi,[["render",Hi]]),eo=Zi;mt()(Gi,"components",{QCardSection:dt.A,QMarkupTable:Ji.A,QIcon:Yi.A});const to=(0,o.pM)({el:"#app",mixins:[ji.A],props:{},components:{keyboardShortcutInfo:eo},mounted:function(){window.addEventListener("keydown",this.keyboardKeyDownEvent)},unmounted:function(){window.removeEventListener("keydown",this.keyboardKeyDownEvent)},methods:{keyboardKeyDownEvent(e){const t=this.isCombinationKey(e);75===e.keyCode&&!0===t&&(e.preventDefault(),this.showKeyboardShortcuts=!0)},buttonClick(){this.showKeyboardShortcuts=!0}},data(){return{}},setup(){const e=(0,yt.q3)(),{show_all_menu_btns:t}=(0,he.bP)(e);return{show_all_menu_btns:t,showKeyboardShortcuts:(0,_e.KR)(!1)}}});var io=i(56384),oo=i(97410),so=i(90124),ao=i(25173),no=i(13796);const lo=(0,at.A)(to,[["render",Wt],["__scopeId","data-v-4cdd5356"]]),ro=lo;mt()(to,"components",{QBtn:io.A,QIcon:Yi.A,QTooltip:oo.A,QItem:so.A,QItemSection:ao.A,QItemLabel:no.A,QDialog:lt.A,QCard:rt.A,QCardActions:ht.A}),mt()(to,"directives",{ClosePopup:ut.A});var co=i(86224),ho=i(73937),uo=i(35065),go=i(15369),mo=function(e,t,i,o){function s(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,a){function n(e){try{r(o.next(e))}catch(t){a(t)}}function l(e){try{r(o["throw"](e))}catch(t){a(t)}}function r(e){e.done?i(e.value):s(e.value).then(n,l)}r((o=o.apply(e,t||[])).next())}))};const po=document.querySelector.bind(document),_o=(0,o.pM)({el:"#app",mixins:[ge.A,be.A,ye.A,we.A,Ce.A,Le.A,Ae.A,Te.A,Ye.A,ft.A,Ne.A,je.A,Ze.A,co.A,Fe.A,ue.A],components:{Loader:ke.A,scriptBtn:We.A,SubHeader:Be.A,ScriptLogs:go.A,supportForm:He.A,autoTesting:Ie.A,DocumentLock:Se.A,BlockSupplier:It.A,MessageBanner:Re.A,SelectionPopup:Oe.A,Classification:Me.A,AISeverityLevel:Pe.A,ImportMultiInvoice:Ve.A,IgnoreTableValidation:Dt.A,FieldsView:qe["default"],SplitDocument:$e.A,ErrorDocumentView:Ke.A,InvoiceDuplicateLock:Ge.A,TfidfPreferenceControl:_t,restartClassificationPopup:wt.A,Label:Ct.A,CheckBox:xt.A,TextInput:Ft.A,LineItemTable:Lt.A,MultiCheckBox:Et.A,TableOfCheckboxes:At.A,HorizontalSeparator:Tt.A,ExtractedTableTabPanels:Ot.A,timeSpentTimer:qt.A,keyboardShortcutInfoBtn:ro,autoAccountingBtn:Rt.A,InvoiceButtons:Mt.A,AnnotationView:uo.A,QRCodeExtractedFields:Pt.A,TaskBtn:vt.A,TaskList:bt.A,UnBlockSupplier:St.A,NonMappedColumnsBtn:kt.A},watch:{$route(e,t){if(!e.hasOwnProperty("path")||!t.hasOwnProperty("path"))return;const i=e.path.split("/"),o=t.path.split("/");i.length>2&&o.length>2&&i[1]===o[1]&&this.get_cached_data_id!=this.docId&&window.location.reload()}},data(){return{skipDocTypes:["restart_in_progress","restarted"],docId:"",docStatus:"",contact:this.$t("confirm"),showDialog:!1,showExportDialog:!1,zoom_value:(0,_e.KR)(.6),showArticlePage:!1,disableSelectionButton:!0,loading:!1,isTableRow:(0,_e.KR)(!1),shownButtonsLength:0,showExpandButton:!1,saveInstant:!1,magnifyGlass:{},allowedDoctypes:it.Gk,format_warning_dismiss:{},excluded_fields:["fields_group"],account_block:"",error_message:"",currentDisplayedMessage:(0,_e.KR)(""),trigger_document_lock:(0,_e.KR)(!1),isInvoiceDuplicate:(0,_e.KR)(!1),split_document:(0,_e.KR)(!1),headerFabIcon:(0,_e.KR)(!1),dropdownModel:(0,_e.KR)(!1),imageLoaded:(0,_e.KR)(!1),textConfirmation:!1,selectMonitor:(0,_e.KR)(!1),doc_script_module_setting:it.$B,barcode_amount:(0,_e.KR)(0),barcode_data:(0,_e.KR)({}),display_barcode_assignment:(0,_e.KR)(!1),barcode_field_set:(0,_e.KR)({}),doc_fields:(0,_e.KR)([])}},beforeRouteLeave:function(e,t,i){return mo(this,void 0,void 0,(function*(){this.setDataToCache(),this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.removeMagnifier(),this.removeAllNotifications(),this.page=1,this.external_window&&this.external_window.close(),"function"===typeof this.format_warning_dismiss&&this.format_warning_dismiss(),e.params.id!==t.params.id&&(yield this.releaseDocLock({doc_id:this.record.doc_id})),this.resetDocStore(e.fullPath),this.resetStoreOnRouteChange(),i()}))},showDialog1:function(){setTimeout((()=>{this.showDialog=!0}),2e3)},beforeMount:function(){this.renderComponent=!1,this.isExtenedPanel=!1},mounted:function(){this.showLoading(),this.connectWebSocket(),this.init(),this.show_all_menu_btns=!0,this.isDebugFlagHandler(),this.is_admin=(0,ho.N6)();let e=this.$route.params.id;this.getDocAnnotations(e),window.addEventListener("resize",this.windowResize),document.body.addEventListener("click",this.mouseClicked,!0);const t=po(".img-magnifier-container");t&&t.addEventListener("scroll",this.removeOverlayandLines);const i=po(".q-splitter__after");i&&i.addEventListener("scroll",this.removeOverlayandLines),document.addEventListener("dispatch_status_bar_message",this.dispatchTaskbarMessage),document.addEventListener("highlight_table_row",this.highlightTableRowArea),document.addEventListener("refresh_canvas",this.refreshCanvas),document.addEventListener("set_splitter_model",this.setSplitterModelWrapper),window.FieldValidationView=this},unmounted:function(){window.removeEventListener("resize",this.windowResize),window.removeEventListener("keydown",this.keydownEvent),document.removeEventListener("dispatch_status_bar_message",this.dispatchTaskbarMessage),document.removeEventListener("highlight_table_row",this.highlightTableRowArea),document.removeEventListener("removeSelectedAreaOnImage",this.removeSelectedAreaOnImage);const e=po(".img-magnifier-container");e&&e.removeEventListener("scroll",this.removeOverlayandLines);const t=po(".q-splitter__after");t&&t.removeEventListener("scroll",this.removeOverlayandLines);try{this.screenshot=po(".screenshot"),this.screenshot&&(this.screenshot.removeEventListener("dblclick",this.dblClickToSelect),this.screenshot.removeEventListener("pointerdown",this.startDrag))}catch(i){logError("something went wrong while unmount",i)}document.removeEventListener("refresh_canvas",this.refreshCanvas),document.removeEventListener("set_splitter_model",this.setSplitterModelWrapper)},methods:{prepareBarcodeData(){this.record.hasOwnProperty("barcode_mapping")||(this.record.barcode_mapping={}),this.barcode_field_set=JSON.parse(JSON.stringify(this.record.barcode_mapping)),this.doc_fields=[],this.barcode_amount=Object.keys(JSON.parse(JSON.stringify(this.record.barcode_data))).length;let e=JSON.parse(JSON.stringify(this.record.barcode_data)),t=1;for(const[i,o]of Object.entries(e))o.forEach((e=>{this.barcode_data[t]=e,t+=1}));for(let i in this.formBuilderConfigModel){let e=this.formBuilderConfigModel[i];"TextInput"!=e.fieldType&&"AmountFields"!=e.fieldType||e.hasOwnProperty("id")&&(e["value"]=e["field_id"],e["label"]=this.$t(e["field_name"]),this.doc_fields.push(e))}this.display_barcode_assignment=!0},setFieldData(e,t,i){if(null!=this.record.barcode_mapping[i]&&void 0!=this.record.barcode_mapping[i]){let e=this.record.barcode_mapping[i].field_name;this.formBuilderModel[e].formatted_value="",this.$refs.fieldsView.inputValueChanges(e)}null!=t&&void 0!=t&&(this.record.barcode_mapping[i]=t,this.formBuilderModel[t.field_name].formatted_value=e,this.$refs.fieldsView.inputValueChanges(t.field_name))},dispatchTaskbarMessage(e){e.detail.message&&(this.currentDisplayedMessage=e.detail.message)},showNonMappedColumnsDialog(){if(this.isFormBuilderMode||this.isReadOnly)return;const e=new CustomEvent("show_non_mapped_columns_dialog",{});document.dispatchEvent(e)},deleteTable(){if(this.isFormBuilderMode||this.isReadOnly)return;this.record.tables=[];const e=new CustomEvent("delete_table",{});document.dispatchEvent(e)},addColumnInLineItems(){if(this.isFormBuilderMode||this.isReadOnly)return;const e=new CustomEvent("add_ai_new_column",{});document.dispatchEvent(e)},ZoomIn(){this.zoom_value>=.79||(this.zoom_value=this.zoom_value+.1,this.zoom(this.zoom_value))},ZoomOut(){this.zoom_value<=.3||(this.zoom_value=this.zoom_value-.1,this.zoom(this.zoom_value))},toggleSideBar(e){if(this.current_sidebar==e)return this.toggleMenu(),void(this.current_sidebar="");""==this.current_sidebar&&this.toggleMenu(),this.current_sidebar=e},improveDocuments(){return mo(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;yield ve.M8.improve_document_quality(this.docId)}catch(e){return this.hideLoading(),void this.showErrorToast("There was an error improving the document")}}))},init(){return mo(this,void 0,void 0,(function*(){try{if(this.docId=this.$route.params.id,this.setAppType(),yield this.startSettingsFetch(),yield this.getInvoiceDataByDocId(this.docId),!this.record||0===Object.keys(this.record).length||!1===this.record.success||this.doc_fetch_error)return void this.hideLoading();this.handleReadOnly(),this.handleDocLockSubscribe(),this.getSplitterValueFromStorage(),this.handleDiplicateInvoiceSettings(),this.isReadOnly?(this.error_message=this.$t("pages.messages.READ_ONLY_MSG"),this.trigger_document_lock=!1):this.trigger_document_lock=!0,this.initPage()}catch(e){logError(e)}finally{this.hideLoading()}}))},handleDiplicateInvoiceSettings(){return mo(this,void 0,void 0,(function*(){yield this.getDocTypeSettings(),this.isInvoiceDuplicate=this.model[it.aH.DUPLICATE_DETECTION],this.isInvoiceDuplicate||(this.isInvoiceDuplicate=this.model[it.aH.DUPLICATE_INVOICE_DETECTION])}))},setInvoiceDuplicateStatus(e){this.isInvoiceDuplicate=e},setTriggerDocumentLock(e){this.trigger_document_lock=e},setCurrentPage(){this.lastPageItem=this.record.images.length},setAppType(){this.$route.params.id||this.goToDashboard(),setTimeout((()=>{this.showDialog=!1}),1e4)},handleDocLockSubscribe(){const e=(0,yt.oI)();e.$subscribe(((e,t)=>{this.isReadOnly=!this.doc_lock.success,this.handleReadOnly()}))},handleReadOnly(){if(it.B2.includes(this.record.status))return void(this.isReadOnly=!0);const e=me.tH.hasAccess("update");e||(this.isReadOnly=!0)},getInvoiceDataByDocId(e){return mo(this,void 0,void 0,(function*(){try{if((yield this.setRecordFromCache())&&this.record.doc_id===e)return;this.record=[],this.clearSelectedSessionStorage(),yield this.getDocumentById(e)}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}}))},getConfidence(e){return e?e<1?(100*+e.toFixed(2)).toFixed(0):+e.toFixed(2):""},initPage(){this.handleFormatWarning(),this.docType=this.record.doc_type,this.docStatus=this.record.status,this.setImage(),this.initImageArea(),window.addEventListener("keydown",this.keydownEvent),document.addEventListener("removeSelectedAreaOnImage",this.removeSelectedAreaOnImage),this.getAI_IndicatorData(),this.enableOrDisableExportButton(),setTimeout((()=>{this.setCurrentPage()}),200),this.DOC_SCRIPT_MODULE=this.user_settings[this.doc_script_module_setting]},changeContentScroll(e){const t=document.querySelector("#validation_bar_content");var i=t.scrollTop;t.scrollTop=i+e},onScrollUp(){this.changeContentScroll(-110);const e=document.querySelector("#validation_bar_content"),t=e.scrollHeight-e.clientHeight;var i=e.scrollTop;this.showScrollDownButton=i!=t,this.showScrollUpButton=0!=i},onScrollDown(){this.changeContentScroll(110);const e=document.querySelector("#validation_bar_content"),t=e.scrollHeight-e.clientHeight;var i=e.scrollTop;this.showScrollDownButton=i!=t,this.showScrollUpButton=0!=i},openPDfWindoByDefault(){this.user_settings["DUAL_MONITOR_MODE_SETTING"]&&this.isMultiScreen()&&0==this.pdf_in_window&&this.selectBetweenMonitor()},isElementLoaded(e){return mo(this,void 0,void 0,(function*(){while(null===document.querySelector(e))yield new Promise((e=>requestAnimationFrame(e)));return document.querySelector(e)}))},selectBetweenMonitor(){return mo(this,void 0,void 0,(function*(){if(0!=this.pdf_in_window)this.closeExternalWindow();else if(this.isMultiScreen()){const e=yield ve.jD.getUserPreference({key:"MONITOR_PREFERENCE"});if(e){let t=e.slice(-1),i=isNaN(t)?0:+t-1;this.openComponentInSeparateWindow(i)}else this.selectMonitor=!0}else this.showErrorToast(this.$t("pages.messages.MULTI_SCREENS_NOT_FOUND"))}))},closeExternalWindow(){this.external_window.close(),this.pdf_in_window=!1,this.splitterModel=80,this.prepareRectangles()},openComponentInSeparateWindow(e){this.pdf_in_window=!0,this.selectMonitor=!1,this.splitterModel=0,this.setDataToCache(),this.removeOverlayandLines();let t=this.$router.resolve({path:"/show_pdf/"+this.docId});this.openWindowOnSelectedMonitor(e,t.href)},getPreviousDocId(e){return mo(this,void 0,void 0,(function*(){try{let{currentDocIndex:t,paginationCount:i,userPagination:o,documents:s,skip:a,query:n}=e,l="";if(t>=0&&i>=1){let e=i,r=t-1,d=!1;while(!d)if(r>=0){if(this.skipDocTypes.includes(s[r].status)){r--;continue}l=s[r].id,d=!0}else{if(a<=0)break;e--,a=(e-1)*o;const t=yield ve.z6.getList(`?&skip=${a}&limit=`+o+n);s=t.documents,r=t.documents.length-1}}else s.length>0&&(l=s[0].id);return{nextId:l,skip:a}}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}}))},getNextDocId(e){return mo(this,void 0,void 0,(function*(){let{currentDocIndex:t,paginationCount:i,userPagination:o,totalRecord:s,totalPage:a,response:n,skip:l,query:r}=e,d="";if(t>=0&&i!==a){let e=n.documents,a=i,c=t+1,h=!1;while(!h)if(c<e.length){if(this.skipDocTypes.includes(e[c].status)){c++;continue}d=e[c].id,h=!0}else{if(l>=s)break;a++,l=(a-1)*o;const t=yield ve.z6.getList(`?&skip=${l}&limit=`+o+r);e=t.documents,c=0}}else n.documents.length>0&&(d=n.documents[0].id);return{nextId:d,skip:l}}))},routeToNextDoc(e){var t;return mo(this,void 0,void 0,(function*(){this.showLoading();try{let i=yield this.makeQueryParamFromFilters(!1);const o=yield ve.jD.getUserAllPreferences();let s=null!==(t=o.PAGINATION_SIZE)&&void 0!==t?t:10,a=this.getPaginationCount();a||(a=1);let n=(a-1)*s;const l=yield ve.z6.getList(`?&skip=${n}&limit=`+s+i);let r=l.documents.findIndex((e=>e.id===this.docId)),d=l.overview["results-count"];const c=Math.ceil(l.total/s);let h="",u={nextId:"",skip:n};if("next"===e?u=yield this.getNextDocId({currentDocIndex:r,paginationCount:a,userPagination:s,totalRecord:d,totalPage:c,response:l,skip:n,query:i}):"prev"===e&&(u=yield this.getPreviousDocId({currentDocIndex:r,paginationCount:a,userPagination:s,documents:l.documents,skip:n,query:i})),h=u.nextId,n=u.skip,""!==h&&null!==h){this.showSuccessToast(this.$t("pages.messages.NEXT_DOC_LOADED")),this.unLockDoc(),window.removeEventListener("beforeunload",this.onTabClose),this.resetAllStoreData();const e=Math.ceil(n/parseInt(s))+1;Ue.A.set((0,Ee.un)(it.me),{paginationCount:e,pagination_size:s}),this.$router.push("/field_validation_v1/"+h)}else this.showErrorToast(this.$t("pages.messages.NO_NEXT_DOC"))}catch(i){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(i)}finally{this.hideLoading()}}))},onTabClose(e){let t=ze.A.has("event_name")?ze.A.getItem("event_name"):null;t&&"language_change"===t||(e.preventDefault(),e.returnValue="",this.clearSelectedSessionStorage())},keydownEvent(e){try{"Escape"===e.key?(this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.restrictDrawing(),this.removeMagnifier(),this.isInvoiceDuplicate=!1):"Enter"===e.key?(this.removeExistingConfirmationOverlays(),this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.connectionId=""):"ArrowDown"===e.key&&(this.removeExistingConfirmationOverlays(),this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.$refs["fieldsView"].selectNextField(this.connectionId),setTimeout((()=>{this.enableOrDisableExportButton()}),5),this.connectionId="")}catch(e){logInfo(e)}},getAI_IndicatorData(){return mo(this,void 0,void 0,(function*(){try{let e;if(this.ai_fields=this.record&&this.record.fields&&Array.isArray(this.record.fields)?this.record.fields.length:0,!this.record.filter_values||!(this.record.filter_values.length>0)||!Array.isArray(this.record.filter_values))throw"getAI_IndicatorData () no filter_values or doc_type to proceed";let t="?doc_type="+this.record.doc_type+"&filter_values="+this.record.filter_values.join();if(e=yield ve.M8.get_ai_score(t),!1===e.success)throw e.message;if(!0===e.success){this.ai_rules=e.rules,this.mean_effective_weight=e.mean_effective_weight;const t=new CustomEvent("FV_gauge_calculation",{detail:e});document.dispatchEvent(t)}}catch(e){logError(e)}}))},imageclicked(e){this.image=this.baseUrl+"/"+(0,De.v)(this.record.images[e.target.dataset.id].path),this.page=parseInt(e.target.dataset.id)+1,this.pdf_in_window?this.pdfInChildPage():this.pdfInSamePage()},movePageUp(){this.page!=this.lastPageItem?(this.page++,this.quickActionClicked(this.page)):this.showErrorToast(this.$t("pages.screen2a.page_limit_reached"))},movePageDown(){1!=this.page&&(this.page--,this.quickActionClicked(this.page))},downloadFile(){try{let e=fe.VA+"/resource/document/"+this.docId+"/"+this.docId+".pdf?"+this.tokenQueryParam;if(!e)return;fetch(e).then((e=>e.blob())).then((e=>{const t=URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.download=this.record.filename,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(t)})).catch((e=>{logError("Error downloading file:",e)}))}catch(e){logError(e)}},validatePageNumber(){this.page?(this.page>this.lastPageItem&&(this.page=this.lastPageItem),this.quickActionClicked(this.page)):this.page=1},quickActionClicked(e){!e||0==e||e>this.lastPageItem||(this.image=this.baseUrl+"/"+(0,De.v)(this.record.images[e-1].path),this.pdf_in_window?this.pdfInChildPage():this.pdfInSamePage())},pdfInSamePage(){this.removeOverlayandLines(),this.getImageDetails()},pdfInChildPage(){this.external_window.PdfView.image=this.image,this.external_window.PdfView.removeOverlayandLines(),this.$nextTick((()=>{this.external_window.PdfView.prepareRectangles()}))},getImageDetails(){if(0==this.renderComponent||0==this.imageLoaded)return;let e=this.screenshot;if(0==this.screenshot.offsetWidth&&(e=po("#screenshot2")),this.imageWidth=e.offsetWidth,this.imageHeight=e.offsetHeight,this.viewBox="0 0 "+String(this.imageWidth)+" "+String(this.imageHeight),this.$nextTick((()=>{this.prepareRectangles()})),this.hideLoading(),this.enableOrDisableExportButton(),this.connectionId){let e=this.getElementToConnect(po("#"+this.connectionId));if(!e)return;this.handleHighlightReact(this.connectionId,e)}},assignImageDimenions(){let e=po("#image_container");if(e){e.querySelector(".q-splitter__before");this.imageWidth=e.offsetWidth-90,this.imageHeight=e.offsetHeight-32}this.viewBox="0 0 "+String(this.imageWidth)+" "+String(this.imageHeight)},showConnectionFromRect(e){this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.restrictDrawing();const t=e.target.getAttribute("connectionId"),i=e.target,o=this.getElementToConnect(po("#"+t));this.scrollInToViewCenter(o),this.scrollInToViewCenter(i),document.documentElement.scrollTop=0,setTimeout((()=>{if(t.startsWith(it.Al))return i.classList.add("border"),void this.dsiplayFieldInToView(t);this.showConnection(t,i,o)}),50)},highlightTableRowArea(e){this.showConnectionFromField(e.detail,!0)},showConnectionFromField(e,t=!1){if(this.isTableRow=t,"annotate"===this.field_view_mode)return void this.showNotification(this.$t("annotation_mode_is_on_warning"));this.pdf_in_window?(this.external_window.PdfView.removeOverlayandLines(),this.external_window.PdfView.restrictDrawing()):(this.removeOverlayandLines(),this.restrictDrawing());let i=this.getElementToConnect(po("#"+e));if(!i)return;let o=Number(i.getAttribute("pageno"));o=isNaN(o)?this.page:o;const s=o&&o!==this.page;if(this.connectionId=e,s)return this.page=o,this.image=this.baseUrl+"/"+(0,De.v)(this.record.images[this.page-1].path),void(this.pdf_in_window&&this.sendMessegeToChildWindow("image",this.image,!0));this.handleHighlightReact(e,i)},handleHighlightReact(e,t){this.$nextTick((()=>{this.pdf_in_window?this.external_window.PdfView.proceedForReactFinding(e,t,this.isTableRow):this.proceedForReactFinding(e,t,this.isTableRow)}))},proceedForReactFinding(e,t,i){let o=po("#"+e+"_rect");o&&(this.scrollInToViewCenter(o),document.documentElement.scrollTop=0),setTimeout((()=>{i?this.highlightRow(o):o?this.showConnection(e,o,t):this.proceedIfReactNotFound(t)}),50)},proceedIfReactNotFound(e){if("ELECTRONIC_DOCUMENT"===this.record.extraction_method)return;this.componentType=e.getAttribute("child_type");let t="";if("checkbox"===this.componentType)t=e.getAttribute("aria-checked")?"true":"";else{let i=e.querySelector(this.componentType);i&&(t=i.value)}if(""!=t){this.showNotification(this.$t("pages.messages.SELECT_AREA_NO_COORDINATES"));const e=new CustomEvent("dispatch_status_bar_message",{detail:{message:this.$t("pages.messages.SELECT_AREA")}});document.dispatchEvent(e)}else{this.showNotification(this.$t("pages.messages.SELECT_AREA"));const e=new CustomEvent("dispatch_status_bar_message",{detail:{message:this.$t("pages.messages.SELECT_AREA")}});document.dispatchEvent(e)}this.pdf_in_window?(this.external_window.PdfView.enableDrawing(),this.external_window.PdfView.connectionId=this.connectionId):this.enableDrawing()},showConnection(e,t,i){this.pdf_in_window?this.external_window.PdfView.proceedForReactFinding(e,i,!1):t&&i?(this.drawOverlay(e,t),t.classList.add("border"),this.connect(t,i,"#26a69a",2)):alert(this.$t("pages.messages.NO_MAPPING_AVAILABLE"))},saveOverlayResult(){this.cleanRectangles(),this.pdf_in_window?this.external_window.PdfView.redraw():this.redraw(),this.getTextByCoordinates(this.rectCordinate)},connect(e,t,i,o){const s=this.getOffset(e),a=this.getOffset(t),n=s.left,l=s.top+s.height/2,r=a.right,d=a.top+a.height/2,c=Math.sqrt((r-n)*(r-n)+(d-l)*(d-l)),h=(n+r)/2-c/2,u=(l+d)/2-o/2,g=Math.atan2(l-d,n-r)*(180/Math.PI);this.removeAllConnectionLines();const m=document.createElement("div");m.setAttribute("id","connection_line"),m.style.cssText="z-index: 102;padding:0px; margin:0px; height:"+o+"px; background-color:"+i+"; line-height:1px; position:absolute; left:"+h+"px; top:"+u+"px; width:"+c+"px; -moz-transform:rotate("+g+"deg); -webkit-transform:rotate("+g+"deg); -o-transform:rotate("+g+"deg); -ms-transform:rotate("+g+"deg); transform:rotate("+g+"deg);",document.body.appendChild(m)},getTextByCoordinates(e){return mo(this,void 0,void 0,(function*(){const t=this.record;let i,o=new FormData,s=e.startX/this.imageWidth,a=e.startY/this.imageHeight,n=e.endX/this.imageWidth,l=e.endY/this.imageHeight;o.append("x0",s.toString()),o.append("y0",a.toString()),o.append("x1",n.toString()),o.append("y1",l.toString()),o.append("doc_id",t.doc_id),o.append("page",this.page.toString()),o.append("field_name",this.connectionId),this.showLoading();try{i=yield ve.M8.get_field_value(o)}catch(d){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(d)}finally{this.hideLoading()}this.textApiResponse=i;const r=i.coords;if(!r||0===r[0].x&&0===r[0].y&&""===i.formatted_value)return this.showErrorToast(this.$t("pages.messages.EMPTY_MAPPING_NOT_ALLOWED")),void(this.pdf_in_window?(this.external_window.PdfView.prepareRectangles(),this.external_window.PdfView.enableDrawing()):(this.prepareRectangles(),this.enableDrawing()));"INVOICE"==this.record.doc_type?this.dontAsk?(this.textApiResponse.multi_line?this.textConfirmationMsg=this.$t("is_multi_line_confirm"):this.textConfirmationMsg=this.$t("is_draw_correct"),this.textConfirmation=!0):this.saveInstant=!0:this.updateFieldData()}))},updateFieldData(){this.$refs["fieldsView"].updateFieldData(this.textApiResponse),this.saveInstant=!1,this.textApiResponse=null},enableOrDisableExportButton(e){this.enableExportButton=!0,this.fieldErrors={},this.record.fields.forEach(((e,t)=>{this.checkFieldInvalid(e,!1)})),e&&this.printFieldsNeedToBeValidated(this.fieldErrors)},checkFieldInvalid(e,t=!0){if(!1===e.is_valid&&!this.isFieldCalcualtedFromLayout(e.name)&&this.isfieldsNotDisplayed(e.name))return this.enableExportButton=!1,void(this.fieldErrors[e.name]=this.getLabelForFormBuilder(this.formBuilderConfigModel[e.name],"form_builder."));this.fieldErrors.hasOwnProperty(e.name)&&delete this.fieldErrors[e.name],t&&0===(0,pe.Ns)(this.fieldErrors)&&(this.enableExportButton=!0)},printFieldsNeedToBeValidated(e){e?(logInfo("======================================="),logInfo("Following fields need to be validated"),logInfo(JSON.parse(JSON.stringify(e))),logInfo("=======================================")):logInfo("All fields are validated")},isFieldCalcualtedFromLayout(e){let t=!1;for(const i of this.formLayout)for(const o of i.rows)o.field_name==e&&o.calculation_formula&&(t=!0);return t},isfieldsNotDisplayed(e){let t=!0;return this.fieldsNotDisplayed.hasOwnProperty(e)&&(t=!1),t},setApiData(e){this.record=e,this.$forceUpdate()},windowResize(){this.assignImageDimenions(),this.connectionId="",setTimeout((()=>{this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.getImageDetails(),this.removeMagnifier()}),20)},refreshCanvas(){this.prepareRectangles(),this.$forceUpdate(),this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.getImageDetails(),this.redraw()},refreshCanvasAfterSelection(e){this.refreshCanvas(),this.showConnectionFromField(e)},removeSelectedAreaOnImage(e){this.rectangles.pop(),this.refreshCanvas(),this.restrictDrawing()},handleFormatWarning(){"XML_INVOICE"!=this.record.doc_type&&(this.format_warning_dismiss=this.showRulesNotFoundToast(this.record,window.location.href))},isDebugFlagHandler(){this.is_debug=!1,this.$route.query&&"true"===this.$route.query.is_debug&&(this.is_debug=!0)},viewOCRDocument(){let e=this.$router.resolve({path:"/ocr-document/"+this.docId+"/"+this.page});window.open(e.href,"_blank","location=yes,toolbar=yes,scrollbars=yes,resizable=yes,left=500,width=1500,height=1000")},fieldValidationError(e){let t="REQUIRED";return e&&(t=e),t},hasApiData(){return 0!==(0,pe.Ns)(this.record)&&!this.doc_fetch_error},removeOldMapiingsAndDrawNew(e){if(this.pdf_in_window)return this.external_window.PdfView.restrictDrawing(),this.external_window.PdfView.record=this.record,void this.external_window.PdfView.prepareRectangles();this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays(),this.restrictDrawing(),this.prepareRectangles();let t=this.getElementToConnect(po("#"+e)),i=po("#"+e+"_rect");i&&t&&this.showConnection(e,i,t)},getElementToConnect(e){return this.componentType=e.getAttribute("child_type"),"checkbox"===this.componentType?e.querySelector(".q-checkbox__bg"):e},toggleSplitter(){this.splitterModel>=95?(this.splitterModel=60,this.setAfterPanelHeight(!0)):this.splitterModel=115},setSplitterModelWrapper(e){this.setSplitterModel(e.detail.data)},setSplitterModel(e){this.splitterModel=100,this.setAfterPanelHeight(e)},setAfterPanelHeight(e){e&&this.isElementLoaded("#afterSlot").then((e=>{const t=po("#afterSlot"),i=po("#image_scrolle");if(t&&i){let e=t.offsetHeight/i.offsetHeight*100;this.splitterModel=100-e-5,this.openPDfWindoByDefault()}}))},displaySplitDocumentView(){this.isReadOnly||(this.split_document=!0)},onResize(e){this.windowResize()},goToLayoutTemplate(){try{if(!this.doc_loaded)return;const e=Je.Z.getDetailViewRoute({doc_type_key:this.record.doc_type||"",layout_template_id:this.layout_template_id||"",sub_doc_type_key:this.record.sub_doc_type||""});e||logInfo("missing params for url"),window.open(e,"_blank").focus()}catch(e){logError(e)}},toFlowScreen(e){this.$router.push("/doc_flow/"+e)},askLater(){Xe.A.set("dontAsk","neverAsk"),Xe.A.get("dontAsk")},restartDocument(e){try{return ve.z6.restartDocument(e),this.goToDashboard(),!0}catch(t){const e=xe.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}},getSupplier(){let e="supplier_name",t="";for(let i of this.record.fields)if(i.name===e&&i.formatted_value){t=i.formatted_value;break}return t},goToDashboard(){this.$router.push("/dashboard")},splitterChanged(){this.saveSplitterValueInStorage();const e=new CustomEvent("splitter_changed",{detail:this.splitterModel});document.dispatchEvent(e)},getOverlayHeadings(){const e=po("#"+this.connectionId);if(!e)return"";const t=e.getAttribute("child_type");if(!t)return"";this.componentType=t;let i="",o="";if("checkbox"===this.componentType)o=e.getAttribute("aria-label"),i="Un-Checked","true"===e.getAttribute("aria-checked")&&(i="Checked");else{const t=po("."+this.connectionId);o=t.innerHTML;const s=e.querySelector(this.componentType);i=s.value}return i+it.Tr+o},selectNextField(e){this.$refs["fieldsView"].selectNextField(e),setTimeout((()=>{this.enableOrDisableExportButton()}),5)},initTempFieldDelete(){this.$refs["fieldsView"].initTempFieldDelete()},getFieldByIndex(e){return this.formBuilderModel[e]},getHTMLField(e){const t=po("#"+e.name);return t&&e.page&&null!=e.page&&e.coords&&t.setAttribute("pageno",e.page),t},initiateMagnifyGlass(){this.pdf_in_window?this.external_window.PdfView.initMagnifyGlass():this.initMagnifyGlass()},sendMessegeToChildWindow(e,t,i){this.external_window.PdfView.getDataFromParent({key:e,value:t,redraw:i})},changeScreenMode(){if(!this.isReadOnly){if("validate"==this.field_view_mode){this.field_view_mode="annotate",po("#validate-container").classList.add("hidden"),this.screenshot.classList.remove("cursor-crosshair"),this.removeOverlayandLines(),this.screenshot.removeEventListener("dblclick",this.dblClickToSelect),this.screenshot.removeEventListener("pointerdown",this.startDrag),this.screenshot.removeEventListener("pointerdown",this.startDrag),document.body.removeEventListener("click",this.mouseClicked,!0);const e=po(".img-magnifier-container");e&&e.removeEventListener("scroll",this.removeOverlayandLines);const t=po(".q-splitter__after");t&&t.removeEventListener("scroll",this.removeOverlayandLines),this.enable_editing=!0}else{po("#validate-container").classList.remove("hidden"),this.field_view_mode="validate",this.screenshot.addEventListener("dblclick",this.dblClickToSelect),this.screenshot.addEventListener("pointerdown",this.startDrag),this.screenshot.addEventListener("pointerdown",this.startDrag),document.body.addEventListener("click",this.mouseClicked,!0);const e=po(".img-magnifier-container");e&&e.addEventListener("scroll",this.removeOverlayandLines);const t=po(".q-splitter__after");t&&t.addEventListener("scroll",this.removeOverlayandLines),this.enable_editing=!1,this.getImageDetails()}this.screenshot.classList.remove("cursor-crosshair")}},enableEditing(){this.enable_editing,this.screenshot.classList.add("cursor-crosshair")},unLockDoc(e){this.releaseDocLock({doc_id:this.record.doc_id})},goToTableExtraction(){this.$router.push("/tbl_ext_v3/"+this.$route.params.id)},restoreDeleteColumn(){if(this.isFormBuilderMode||this.isReadOnly)return;const e=new CustomEvent("restore_delete_column",{});document.dispatchEvent(e)}},setup(){const e=(0,Qe.A)(),t=(Xe.A.set("dontAsk",""),Xe.A.get("dontAsk"),(0,yt.q3)());t.$reset();const{record:i,get_cached_data_id:o,doc_loaded:s,confirmationForPoConnectionReset:a,error:n,notifications:l,layout_template_id:r,show_all_menu_btns:d,has_ai_table:c,fieldErrors:h,enableExportButton:u,page:g,document_version:m,doc_annotations:p,fieldsNotDisplayed:_,script_error_count:f}=(0,he.bP)(t),{getDocumentById:v,resetDocStore:b,resetAllStoreData:k,setRecordFromCache:w,setDataToCache:y,removeCache:C,getDocAnnotations:x}=t,F=(0,yt.uL)(),{formLayout:L,isExtenedPanel:E,formBuilderModel:A,formBuilderConfigModel:D,renderComponent:I,docType:S}=(0,he.bP)(F),{getElementWidth:T,isFieldHidden:R}=F;let O=[],M=[],P=(0,_e.KR)(!1),q=(0,_e.KR)(!1),V=(0,_e.KR)(!1);const B=(0,yt.oI)(),{releaseDocLock:W}=B,{doc_lock:$}=(0,he.bP)(B),N=(0,yt.XB)(),{isConfirmationBoxDisable:K}=(0,he.bP)(N),{resetStoreOnRouteChange:Q}=N,z=(0,yt.fX)(),{makeQueryParamFromFilters:X,getPaginationCount:U}=z,H=(0,yt.Bu)(),{user_settings:j}=(0,he.bP)(H),{startSettingsFetch:G}=H,J=(0,yt._6)(),{tokenQueryParam:Y}=(0,he.bP)(J);J.getTokenQueryParam();const Z=(0,yt.G6)(),{connect:ee}=Z,te=(0,yt.wt)(),{model:ie}=(0,he.bP)(te),{getDocTypeSettings:oe}=te;let se=[],ae={startX:0,startY:0,endX:0,endY:0};const ne={x:0,y:0,width:0,height:0,connectionId:""};let le=0,re=0,de=po(".screenshot"),ce=po("#marquee"),ue=(po("#foreignObject"),po("#boxes")),ge=po(".areas");return{getPaginationCount:U,getDocTypeSettings:oe,resetAllStoreData:k,resetDocStore:b,isFieldHidden:R,doc_annotations:p,connectWebSocket:ee,show_all_menu_btns:d,get_cached_data_id:o,has_ai_table:c,doc_loaded:s,removeCache:C,setDataToCache:y,releaseDocLock:W,getDocumentById:v,setRecordFromCache:w,resetStoreOnRouteChange:Q,isConfirmationBoxDisable:K,fields_pending_load_count:(0,_e.KR)(0),fields_loaded_count:(0,_e.KR)(0),notifications:l,record:i,docType:S,confirmationForPoConnectionReset:a,doc_fetch_error:(0,_e.KR)(n),doc_lock:$,page:g,showTooltip:P,showTooltipWithHide:q,showTooltipWithClose:V,tableRows:O,fieldsNotDisplayed:_,image:(0,_e.KR)(""),current_sidebar:(0,_e.KR)(""),layout:M,images:(0,_e.KR)({}),baseUrl:fe.VA,isReadOnly:(0,_e.KR)(!1),componentType:"input",lastPageItem:(0,_e.KR)(0),lineitem_count:0,lineitem_error:(0,_e.KR)(!1),is_debug:(0,_e.KR)(!1),tb_version:"default",document_version:m,showScrollDownButton:(0,_e.KR)(!1),showScrollUpButton:(0,_e.KR)(!1),splitterModel:(0,_e.KR)(60),imageFieldSplitter:(0,_e.KR)(76),showNotification(t){e.notify({message:t,color:"primary",position:"top"})},doc_type_list:M,ai_rules:(0,_e.KR)(0),ai_fields:(0,_e.KR)(0),mean_effective_weight:(0,_e.KR)(0),textConfirmationMsg:(0,_e.KR)(""),formLayout:L,isExtenedPanel:E,renderComponent:I,enableExportButton:u,getElementWidth:T,imageHeight:(0,_e.KR)(0),imageWidth:(0,_e.KR)(0),viewBox:(0,_e.KR)("0 0 0 0"),textApiResponse:(0,_e.KR)(),connectionId:(0,_e.KR)(""),is_admin:(0,_e.KR)(!1),layout_template_id:r,pdf_in_window:!1,external_window:(0,_e.KR)(),makeQueryParamFromFilters:X,rectangles:se,rectCordinate:ae,marqueeRect:ne,startX:le,startY:re,screenshot:de,marquee:ce,boxes:ue,areas:ge,formBuilderModel:A,formBuilderConfigModel:D,user_settings:j,startSettingsFetch:G,getDocAnnotations:x,tokenQueryParam:Y,screen_mode:(0,_e.KR)(!1),field_view_mode:(0,_e.KR)("validate"),enable_editing:(0,_e.KR)(!1),fieldErrors:h,selectFont:(0,_e.KR)("Helvetica"),selectFontSize:(0,_e.KR)(12),selectColor:(0,_e.KR)("#000000"),DOC_SCRIPT_MODULE:(0,_e.KR)(!1),display_doc_script_logs:(0,_e.KR)(!1),script_error_count:f,model:ie}}});var fo=i(98072),vo=i(1096),bo=i(10386),ko=i(23954),wo=i(84436),yo=i(53999),Co=i(67837),xo=i(76056),Fo=i(93676),Lo=i(36914),Eo=i(39150),Ao=i(94940),Do=i(57092),Io=i(1444),So=i(80460),To=i(67156),Ro=i(42315);const Oo=(0,at.A)(_o,[["render",ce],["__scopeId","data-v-6001a9bc"]]),Mo=Oo;mt()(_o,"components",{QIcon:Yi.A,QSplitter:fo.A,QResizeObserver:vo.A,QBtn:io.A,QTooltip:oo.A,QSeparator:bo.A,QBadge:ko.A,QMenu:wo.A,QList:yo.A,QItem:so.A,QItemSection:ao.A,QInput:Co.A,QDrawer:xo.A,QDialog:lt.A,QCard:rt.A,QCardSection:dt.A,QSpace:Fo.A,QToolbar:Lo.A,QToolbarTitle:Eo.A,QCardActions:ht.A,QSelect:Ao.A,QFooter:Do.A,QSlider:Io.A,QCheckbox:So.A,QField:To.A,QTable:Ro.A}),mt()(_o,"directives",{ClosePopup:ut.A})}}]);