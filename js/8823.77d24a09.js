"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[8823],{38823:(t,e,i)=>{i.r(e),i.d(e,{default:()=>B});var l=i(59835);const o={id:"services",class:"services section-bg"},a={class:"row"},s={class:"col-11",style:{padding:"20px","margin-left":"50px"}};function n(t,e,i,n,d,c){const r=(0,l.up)("Tags_Middle");return(0,l.wg)(),(0,l.iD)("section",o,[(0,l._)("div",a,[(0,l._)("div",s,[(0,l.Wm)(r)])])])}var d=i(49990),c=i(60499),r=i(70501),u=i(54170),h=i(86970),p=i(61957);const g={class:"row text-weight-bolder top-row"},_={class:"full-width",style:{"margin-top":"10px"}},m={style:{"text-align":"left",color:"white"}},w={style:{width:"100px"}},f={style:{"max-height":"50vh",overflow:"scroll"}},b=["onClick"],k=["onClick"],v=["onClick"],y=["onClick"];function C(t,e,i,o,a,s){const n=(0,l.up)("q-input"),d=(0,l.up)("q-space"),c=(0,l.up)("DefaultBtn"),r=(0,l.up)("q-checkbox"),u=(0,l.up)("DeleteQfab"),C=(0,l.up)("q-fab"),x=(0,l.up)("q-chip"),V=(0,l.up)("q-markup-table"),Z=(0,l.up)("EditCreatePopup"),D=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",g,[(0,l.Wm)(n,{style:{width:"40%"},outlined:"",dense:"",debounce:"500",modelValue:t.filter,"onUpdate:modelValue":[e[0]||(e[0]=e=>t.filter=e),t.applyFilter],label:t.$t("name")},null,8,["modelValue","label","onUpdate:modelValue"]),(0,l.Wm)(d),(0,l.Wm)(c,{label:t.$t("doc2light.pages.add"),onClick:e[1]||(e[1]=e=>t.show_tag_popup=!0)},null,8,["label"])]),(0,l._)("div",_,[(0,l.Wm)(V,{class:"sticky-column-for-table q-table-seperator white-back",style:{"max-height":"70vh","overflow-y":"auto"},dense:"",flat:""},{default:(0,l.w5)((()=>[(0,l._)("thead",null,[(0,l._)("tr",m,[(0,l._)("th",w,[(0,l.Wm)(r,{dark:"",modelValue:t.headerCheckbox,"onUpdate:modelValue":[e[2]||(e[2]=e=>t.headerCheckbox=e),e[3]||(e[3]=e=>t.changeAction())]},null,8,["modelValue"]),(0,l.Wm)(C,{flat:"",modelValue:t.headerFabIcon,"onUpdate:modelValue":e[4]||(e[4]=e=>t.headerFabIcon=e),disable:t.selection.length<1,"label-position":"top","data-cy":"actions","external-label":"",icon:"more_vert",direction:"down",padding:"xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{info:t.$t("doc2light.pages.tags"),tooltip:t.$t("delete"),function:t.deleteMarked,argument:t.selection},null,8,["info","tooltip","function","argument"])])),_:1},8,["modelValue","disable"])]),(0,l._)("th",null,(0,h.zw)(t.$t("doc2light.table.name")),1),(0,l._)("th",null,(0,h.zw)(t.$t("doc2light.table.color")),1),(0,l._)("th",null,(0,h.zw)(t.$t("doc2light.table.regex_rythm")),1),(0,l._)("th",null,(0,h.zw)(t.$t("doc2light.table.regex")),1)])]),(0,l._)("tbody",f,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.tag_list,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e["id"]},[(0,l._)("td",null,[(0,l.Wm)(r,{modelValue:e.rowSelection,"onUpdate:modelValue":[t=>e.rowSelection=t,i=>t.selectionList(e)]},null,8,["modelValue","onUpdate:modelValue"])]),(0,l._)("td",{onClick:i=>t.onEditClick(e.id)},(0,h.zw)(t.replaceEmpty(e["name"])),9,b),(0,l._)("td",{onClick:i=>t.onEditClick(e.id)},[(0,l.Wm)(x,{style:(0,h.j5)({"background-color":e.color,color:t.color_check(e.color)})},{default:(0,l.w5)((()=>[(0,l.Uk)((0,h.zw)(t.replaceEmpty(e["color"])),1)])),_:2},1032,["style"])],8,k),(0,l._)("td",{onClick:i=>t.onEditClick(e.id)},(0,h.zw)(t.replaceEmpty(e["method"])),9,v),(0,l._)("td",{onClick:i=>t.onEditClick(e.id)},(0,h.zw)(t.replaceEmpty(e["regex"])),9,y)])))),128))])])),_:1})]),(0,l.Wm)(D,{modelValue:t.show_tag_popup,"onUpdate:modelValue":e[5]||(e[5]=e=>t.show_tag_popup=e),onKeydown:e[6]||(e[6]=(0,p.D2)((e=>t.setter()),["esc"]))},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{mode:"create"})])),_:1},8,["modelValue"]),(0,l.Wm)(D,{modelValue:t.show_edit_popup,"onUpdate:modelValue":e[7]||(e[7]=e=>t.show_edit_popup=e),onKeydown:e[8]||(e[8]=(0,p.D2)((e=>t.setter()),["esc"]))},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{mode:"edit",id:t.tag_id},null,8,["id"])])),_:1},8,["modelValue"])],64)}var x=i(40469),V=i(7363),Z=i(45847),D=i(42412),H=i(47342),W=function(t,e,i,l){function o(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,a){function s(t){try{d(l.next(t))}catch(e){a(e)}}function n(t){try{d(l["throw"](t))}catch(e){a(e)}}function d(t){t.done?i(t.value):o(t.value).then(s,n)}d((l=l.apply(t,e||[])).next())}))};const E=(0,l.aZ)({data(){return{showIcons:!1,supportURL:"https://dev.cloudintegration.eu/doc2_support"}},components:{DefaultBtn:D.Z,EditCreatePopup:Z.Z,DeleteQfab:H.Z},mixins:[r.Z],mounted(){this.initView(),this.resetAllSelectedRows()},methods:{setter(){this.show_edit_popup=!1,this.tag_list=this.apidata.tagData.data},replaceEmpty(t){return null!=t&&"undefined"!=t||(t="-"),t},initView(){return W(this,void 0,void 0,(function*(){yield this.setTagsFromServer(),this.tag_list=this.apidata.tagData.data}))},onTrashbinClick(t){return W(this,void 0,void 0,(function*(){yield this.delete_tag(t)}))},onEditClick(t){this.tag_id=t,this.show_edit_popup=!0},selectionList(t){this.selection.indexOf(t.id)>=0?this.selection.splice(this.selection.indexOf(t.id),1):this.selection.push(t.id)},handleActions(t){this.tag_list[t].fabaction,this.tag_list[t].fabaction},selectAllRows(){this.selection=[];for(const[t,e]of Object.entries(this.tag_list))this.tag_list[t].rowSelection=!0,this.selection.push(this.tag_list[t].id)},resetAllSelectedRows(){this.selection=[],this.headerCheckbox=!1;for(const[t,e]of Object.entries(this.tag_list))this.tag_list[t].rowSelection=!1},changeAction(){!0===this.headerCheckbox?this.selectAllRows():this.resetAllSelectedRows()},applyFilter(){if(""==this.filter)this.tag_list=this.apidata.tagData.data;else{this.tag_list={};for(const[t,e]of Object.entries(this.apidata.tagData.data))e.name.toLowerCase().includes(this.filter.toLowerCase())&&(this.tag_list[t]=this.apidata.tagData.data[t])}},deleteMarked(t){this.showLoading(),t.forEach((t=>W(this,void 0,void 0,(function*(){yield this.delete_tag(t)})))),this.tag_skip=0,this.hideLoading()},formateDate(t,e){return u.ZP.formatDate(t,e)},color_check(t){if(null==t)return"black";var e=t.substring(1),i=parseInt(e,16),l=i>>16&255,o=i>>8&255,a=i>>0&255,s=.2126*l+.7152*o+.0722*a;return s<40?"white":"black"}},setup(){const t=(0,x.Wb)(),e=(0,V.Jk)(t),{setTagsFromServer:i,delete_tag:l}=t;return{apidata:(0,c.iH)(e),filter:(0,c.iH)(""),tag_list:(0,c.iH)({}),view:(0,c.iH)("list"),show_tag_popup:(0,c.iH)(!1),headerCheckbox:(0,c.iH)(!1),headerFabIcon:(0,c.iH)(!1),selection:(0,c.iH)([]),show_edit_popup:(0,c.iH)(!1),tag_id:(0,c.iH)(),tag_skip:(0,c.iH)(1),delete_tag:l,setTagsFromServer:i}}});var Q=i(7683),S=i(13119),T=i(90136),U=i(66933),F=i(61450),q=i(11221),z=i(19361),A=i(57691),I=i(32074),$=i(69984),L=i.n($);const M=(0,Q.Z)(E,[["render",C]]),R=M;L()(E,"components",{QInput:S.Z,QSpace:T.Z,QMarkupTable:U.Z,QTable:F.Z,QCheckbox:q.Z,QFab:z.Z,QChip:A.Z,QDialog:I.Z});const O=(0,l.aZ)({data(){return{}},components:{Tags_Middle:R},mixins:[r.Z,d.Z],methods:{formateDate(t,e){return u.ZP.formatDate(t,e)}},setup(){return{showMenu:(0,c.iH)(!1),showIcons:(0,c.iH)(!0),filter:(0,c.iH)(""),view:(0,c.iH)("list")}}});var P=i(68879);const j=(0,Q.Z)(O,[["render",n],["__scopeId","data-v-fc5bd3a4"]]),B=j;L()(O,"components",{QBtn:P.Z})}}]);