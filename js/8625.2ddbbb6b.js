"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[8625],{68625:(e,t,i)=>{i.r(t),i.d(t,{default:()=>le});var a=i(59835);const n=(0,a._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1);function o(e,t,i,o,s,c){const d=(0,a.up)("DocumentLock"),r=(0,a.up)("PageTop"),l=(0,a.up)("TableSelection"),g=(0,a.up)("q-inner-loading");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d,{document_version:e.document_version,trigger_document_lock:e.trigger_document_lock},null,8,["document_version","trigger_document_lock"]),(0,a.Wm)(r),"table_selection"==e.view?((0,a.wg)(),(0,a.j4)(l,{key:0})):(0,a.kq)("",!0),(0,a.Wm)(g,{showing:e.processing},{default:(0,a.w5)((()=>[n])),_:1},8,["showing"])],64)}var s=i(60499),c=i(46624),d=i(7363),r=i(37446),l=i(49990),g=i(45175);const m={class:"row full-width page-top q-mb-sm"},u={class:"left-side q-mr-auto"};function h(e,t,i,n,o,s){const c=(0,a.up)("BreadCrumbs");return(0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("span",u,[(0,a.Wm)(c)]),(0,a.WI)(e.$slots,"default",{},void 0,!0)])}const p={id:"breadcrumb"},_=(0,a.uE)('<li><a><span class="icon icon-home"></span>Detail View</a></li><li><a><span class="icon icon-beaker"></span> Table Selection</a></li><li class="selected"><a><span class="icon icon-double-angle-right"></span> Table Extraction</a></li><li><a><span class="icon icon-rocket"></span>Custom Columns &amp; Rows</a></li><li><a><span class="icon icon-arrow-down"></span> Custom Formatting</a></li><li><a><span class="icon icon-arrow-down"></span> Finish</a></li>',6),w=[_];function f(e,t,i,n,o,s){return(0,a.wg)(),(0,a.iD)("ul",p,w)}const v=(0,a.aZ)({components:{},props:{},mounted:function(){this.initView()},methods:{initView(){}}});var k=i(7683);const b=(0,k.Z)(v,[["render",f]]),I=b,y=(0,a.aZ)({components:{BreadCrumbs:I},props:{},mounted:function(){this.initView()},methods:{initView(){}}}),Z=(0,k.Z)(y,[["render",h],["__scopeId","data-v-04391a09"]]),x=Z;var D=i(86970);const H={class:"row full-width q-ma-sm"},L={class:"col-auto"},C={class:"col",style:{"margin-right":"10px"}},W={class:"full-width bg-white",id:"image_container",ref:"image_container"},q={class:"full-width full-height scrolle-y",id:"image_scrolle",style:{position:"relative"}},V=["data-page","src","width"];function T(e,t,i,n,o,s){const c=(0,a.up)("ImagesList"),d=(0,a.up)("AddColumnSplitterBtn");return(0,a.wg)(),(0,a.iD)("div",H,[(0,a._)("div",L,[(0,a.Wm)(c)]),(0,a._)("div",C,[(0,a._)("div",W,[(0,a._)("div",q,[(0,a._)("div",{id:"zoom",style:(0,D.j5)('background-image: url("'+e.image+' "); top: 51px;left: 506px; background-position: 268.297px 82.6934px;')},null,4),(0,a._)("img",{class:"screenshot","data-page":e.page,src:e.image,width:e.imageWidth,id:"screenshot",ref:"screenshot",draggable:"false",onLoad:t[0]||(t[0]=(...t)=>e.getImageDetails&&e.getImageDetails(...t))},null,40,V),(0,a.Wm)(d)])],512)])])}const J={class:"max-width-120 images-list"},P={class:"full-width bg-white q-ma-sm scroll-area-height"},z={class:"row justify-center q-pl-md q-pr-md q-pt-md"},B={class:"secondary-c-text text-h6 text-weight-bold"},S={class:"q-pl-md q-pr-md full-width left-scroll-area-height scrolle-y"},E=["data-id","src","onLoad"];function Q(e,t,i,n,o,s){return(0,a.wg)(),(0,a.iD)("div",J,[(0,a._)("div",P,[(0,a._)("div",z,[(0,a._)("span",B,(0,D.zw)(e.$t("pages.screen2a.pages")),1)]),(0,a._)("div",S,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.images,((i,n)=>((0,a.wg)(),(0,a.iD)("img",{"data-id":n,key:n,src:e.baseUrl+"/"+i.path+"?"+e.tokenQueryParam,class:(0,D.C_)(["q-pa-sm shadow-5 full-width q-ma-sm cursor-pointer",n===this.page-1?"active":""]),style:{height:"auto"},onClick:t[0]||(t[0]=(...t)=>e.imageclicked&&e.imageclicked(...t)),onLoad:t=>{e.imageLoaded(t,n)}},null,42,E)))),128))])])])}var U=i(77607),$=i(65528);const R=(0,a.aZ)({el:"#app",mixins:[U.Z],components:{},props:{},watch:{doc_loaded:{handler:function(e,t){this.initView()}}},mounted:function(){this.initView()},methods:{imageLoaded(e,t){this.image_load_count++,this.image_load_count>this.images.length&&(this.image_load_count=this.images.length),this.image_load_count===this.images.length&&(this.processing=!1)},initView(){this.doc_loaded&&(this.processing=!0,this.image_load_count=0,this.images=(0,$.PN)(this.record.images))},imageclicked(e){this.page=parseInt(e.target.dataset.id)+1,this.setImage(this.record)}},setup(){const e=(0,c.H_)(),{record:t,doc_loaded:i}=(0,d.Jk)(e),a=(0,c.Iy)(),{page:n,baseUrl:o}=(0,d.Jk)(a),{setImage:r}=a,l=(0,c.wX)(),{tokenQueryParam:g}=(0,d.Jk)(l);return l.getTokenQueryParam(),{tokenQueryParam:g,record:t,doc_loaded:i,images:(0,s.iH)([]),processing:(0,s.iH)(!1),baseUrl:o,image_load_count:(0,s.iH)(0),page:n,setImage:r}}}),j=(0,k.Z)(R,[["render",Q],["__scopeId","data-v-44f78f61"]]),A=j,F=e=>((0,a.dD)("data-v-2b55ac9a"),e=e(),(0,a.Cn)(),e),Y={class:"button-add-column-splitter",onclick:"addColumnSplitter();","data-toggle":"tooltip","data-placement":"right"},K=F((()=>(0,a._)("i",{class:"fa fa-plus",style:{position:"absolute",top:"41%",right:"3px"}},null,-1))),M=(0,a.Uk)("Add Column");function N(e,t,i,n,o,s){const c=(0,a.up)("q-tooltip");return(0,a.wg)(),(0,a.iD)("div",Y,[K,(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[M])),_:1})])}const X=(0,a.aZ)({el:"#app",mixins:[U.Z],components:{},props:{},watch:{doc_loaded:{handler:function(e,t){this.initView()}}},mounted:function(){this.initView()},methods:{initView(){this.doc_loaded},addColumnSplitter(e){}},setup(){const e=(0,c.H_)(),{record:t,doc_loaded:i}=(0,d.Jk)(e),a=(0,c.Iy)(),{page:n}=(0,d.Jk)(a),{setImage:o}=a;return{}}});var G=i(46858),O=i(69984),ee=i.n(O);const te=(0,k.Z)(X,[["render",N],["__scopeId","data-v-2b55ac9a"]]),ie=te;ee()(X,"components",{QTooltip:G.Z});const ae=(0,a.aZ)({mixins:[l.Z],components:{ImagesList:A,AddColumnSplitterBtn:ie},watch:{doc_loaded:{handler:function(e,t){this.initView()}},image:{handler:function(e,t){this.calculateImage()}}},mounted:function(){this.initView(),window.ts=this},unmounted:function(){window.removeEventListener("resize",this.windowResize)},data(){return{}},methods:{initView(){this.doc_loaded&&(window.addEventListener("resize",this.windowResize),this.image_container=this.$refs.image_container,this.setImage(this.record))},calculateImage(){this.image_container&&(this.imageWidth=this.image_container.offsetWidth-30,this.imageHeight=this.image_container.offsetHeight)},getImageDetails(){const e=this.$refs.screenshot;this.imageInfo={offsetWidth:e.offsetWidth,offsetHeight:e.offsetHeight}},windowResize(){this.calculateImage()}},setup(){const e=(0,c.H_)(),{record:t,doc_loaded:i}=(0,d.Jk)(e),a=(0,c.Iy)(),{page:n,baseUrl:o,image:s,imageWidth:r,imageHeight:l,image_container:g,imageInfo:m}=(0,d.Jk)(a),{setImage:u}=a;return{record:t,doc_loaded:i,imageInfo:m,setImage:u,image:s,page:n,baseUrl:o,imageWidth:r,imageHeight:l,image_container:g}}}),ne=(0,k.Z)(ae,[["render",T],["__scopeId","data-v-07994c6e"]]),oe=ne;var se=function(e,t,i,a){function n(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function s(e){try{d(a.next(e))}catch(t){o(t)}}function c(e){try{d(a["throw"](e))}catch(t){o(t)}}function d(e){e.done?i(e.value):n(e.value).then(s,c)}d((a=a.apply(e,t||[])).next())}))};const ce=(0,a.aZ)({mixins:[l.Z],el:"#app",components:{DocumentLock:g.Z,PageTop:x,TableSelection:oe},watch:{doc_processing:{handler:function(e,t){this.handleLoader(e)}}},setup(){const e=(0,c.H_)(),{getDocumentById:t}=e,{processing:i,document_version:a}=(0,d.Jk)(e),n=(0,c.hx)(),{doc_id:o,processing:r,view:l}=(0,d.Jk)(n),{handleLoader:g}=n;return{getDocumentById:t,handleLoader:g,doc_id:o,doc_processing:i,processing:r,document_version:a,trigger_document_lock:(0,s.iH)(!1),view:l}},data(){return{}},mounted(){this.init()},methods:{init(){return se(this,void 0,void 0,(function*(){try{this.doc_id=this.$route.params.id,yield this.getDocumentById(this.doc_id)}catch(e){const t=r.w.getErrorMessage(e);this.showErrorToast(t)}finally{this.processing=!1}}))}}});var de=i(60854);const re=(0,k.Z)(ce,[["render",o]]),le=re;ee()(ce,"components",{QInnerLoading:de.Z})}}]);