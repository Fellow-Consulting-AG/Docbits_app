(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[996],{59389:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var pinia__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1659),src_utils_int__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87374),src_mixins_toasts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24622),vue__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(61758),vue__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(38734),src_validatior_index__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(40057),src_constants_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(76956),src_utils_displayFieldLabel__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25891),src_validatior_validation_mixin__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(55987),src_utils_amountConversionHelper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(82080),src_formBuilder_utils_formBuilderHelper__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(79893),src_formBuilder_form_elements_components_InfoPanel_vue__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(31453),src_formBuilder_form_elements_components_autocomplete_vue__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(79045),src_formBuilder_form_elements_components_AddFieldAsLineItem_vue__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(14144),src_formBuilder_form_elements_formatter_TextInput_index__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(21279),src_store_main__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(83319),__awaiter=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const __WEBPACK_DEFAULT_EXPORT__=(0,vue__WEBPACK_IMPORTED_MODULE_13__.pM)({name:"TextInput",components:{InfoPanel:src_formBuilder_form_elements_components_InfoPanel_vue__WEBPACK_IMPORTED_MODULE_8__.A,autocomplete:src_formBuilder_form_elements_components_autocomplete_vue__WEBPACK_IMPORTED_MODULE_9__.A,AddFieldAsLineItem:src_formBuilder_form_elements_components_AddFieldAsLineItem_vue__WEBPACK_IMPORTED_MODULE_10__.A},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,default:0},itemIndex:{type:Number,default:0}},emits:["inputClicked","inputValueChanges","updateModel","applyFuzzySearch","markTableColumns","itemAdded","removeField"],mixins:[src_utils_displayFieldLabel__WEBPACK_IMPORTED_MODULE_4__.A,src_formBuilder_utils_formBuilderHelper__WEBPACK_IMPORTED_MODULE_7__.A,src_validatior_validation_mixin__WEBPACK_IMPORTED_MODULE_5__.A,src_utils_int__WEBPACK_IMPORTED_MODULE_0__.A,src_mixins_toasts__WEBPACK_IMPORTED_MODULE_1__.A,src_utils_amountConversionHelper__WEBPACK_IMPORTED_MODULE_6__.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.init()},unmounted:function(){let e=this.getInputEl();e&&e.removeEventListener("update_field_value",this.updateModel)},methods:{init(){return __awaiter(this,void 0,void 0,(function*(){yield this.$nextTick();let e=this.getInputEl();e&&e.addEventListener("update_field_value",this.updateModel)}))},getInputEl(){let e=document.querySelector("."+this.fieldName+"_input");return e},updateModel(e){try{this.formBuilderModel[this.fieldName].formatted_value=e.detail.val,this.validateUpdateValue()}catch(t){logError(t)}},inputFieldClicked(e,t){e.stopPropagation(),this.$emit("inputClicked",t)},modelUpdated(e){setTimeout((()=>{this.formatArtikalNummer(),this.formBuilderModel[this.fieldName].update_timestamp=Date.now()}),10)},formatArtikalNummer(){this.isFieldArtikelNummber()&&(this.formBuilderModel[this.fieldName].formatted_value=src_formBuilder_form_elements_formatter_TextInput_index__WEBPACK_IMPORTED_MODULE_11__.n.format(this.formBuilderModel[this.fieldName].formatted_value))},isFieldArtikelNummber(){const e=this.getArtikelNummerFields();return!!e.includes(this.fieldName)},formatAndvalidateDate(){const e=this.getFieldType();"date"===e&&src_formBuilder_form_elements_formatter_TextInput_index__WEBPACK_IMPORTED_MODULE_11__.v.format(this.formBuilderModel[this.fieldName].formatted_value).then((e=>{this.formBuilderModel[this.fieldName].formatted_value=e,""==e&&this.throwInputError("invalid_input_date")}))},changeEvent(){this.formatAndvalidateDate(),this.validateUpdateValue()},validateUpdateValue(){return __awaiter(this,void 0,void 0,(function*(){if(this.isFormBuilderMode)return;let e=this.formBuilderModel[this.fieldName].formatted_value;if(this.formBuilderModel[this.fieldName].update_timestamp=Date.now(),!e||""==e)return void this.$emit("inputValueChanges",this.fieldName,"input");let t=!0,l="";this.formBuilderModel[this.fieldName].input_error=l;let a=this.formBuilderConfigModel[this.fieldName],o=this.formBuilderModel[this.fieldName];this.isFieldArtikelNummber()&&(a.isFieldArtikelNummber=!0),({is_valid:t,input_error:l}=yield src_validatior_index__WEBPACK_IMPORTED_MODULE_2__.m.init(o,a)),t?this.$emit("inputValueChanges",this.fieldName,"input"):this.throwInputError(l)}))},throwInputError(e){this.formBuilderModel[this.fieldName].input_error=e,this.$emit("inputValueChanges",this.fieldName,"input")},fieldMask(){if(this.isFormBuilderMode)return"";const e=this.getFieldType();let t="";switch(e){case"date":t=src_formBuilder_form_elements_formatter_TextInput_index__WEBPACK_IMPORTED_MODULE_11__.v.getMask(this.getDocDateFormat());break;default:t="";break}return t},getFieldType(){return this.formBuilderConfigModel[this.fieldName]&&this.formBuilderConfigModel[this.fieldName].field_type?String(this.formBuilderConfigModel[this.fieldName].field_type.toLowerCase()):""},addErrorClass(){if(!this.hasInputError(this.fieldName))return"";let e=" invalid-input ";return this.formBuilderModel[this.fieldName].input_error&&(e+=" "+this.formBuilderModel[this.fieldName].input_error+" "),e},deleteRuleConfirmation(){this.deleteConfirmationDlg=!0},deleteRule(){this.$emit("inputValueChanges",this.fieldName,"delete_rule")},isCalculatorIconAllowed(){try{let t=void 0!=this.formBuilderConfigModel[this.fieldName].calculator&&null!=this.formBuilderConfigModel[this.fieldName].calculator&&1==this.formBuilderConfigModel[this.fieldName].calculator&&(""==this.formBuilderModel[this.fieldName].formatted_value||null==this.formBuilderModel[this.fieldName].formatted_value);if(0==t)return!1;let l=this.formBuilderConfigModel[this.fieldName].calculator_formula;var e=/\[(.*?)\]/g;let a=null,o=!1;while(null!==(a=e.exec(l))){const e=a[1];if(!this.formBuilderModel[e])return!1;const t=this.formBuilderModel[e].value?this.formBuilderModel[e].value:this.formBuilderModel[e].formatted_value;if(!t||""==t){o=!0;break}}return 1!=o}catch(t){return logError(t),!1}},calculateValueOnCalulatorClick(){return __awaiter(this,void 0,void 0,(function*(){try{let field_name=this.formBuilderConfigModel[this.fieldName].field_name;this.removeFieldInputError(field_name);let calculator_formula=this.formBuilderConfigModel[this.fieldName].calculator_formula,translated_formula=calculator_formula,result2=null,isAnyFieldEmpty=!1;var pattern=/\[(.*?)\]/g;const values=[];while(null!==(result2=pattern.exec(calculator_formula))){const e=result2[1],t=this.formBuilderModel[e].value;if(!t||""==t){isAnyFieldEmpty=!0;break}values.push({key:this.formBuilderModel[e].formatted_value,value:this.formBuilderModel[e].formatted_value})}const formatted_values=yield this.formatMultiValues(values,this.amount_format_locale);if(1==isAnyFieldEmpty)return void this.showErrorToast(this.$t("pages.messages.ERROR_CALCULATION_NOT_POSSIBLE"));while(null!==(result2=pattern.exec(calculator_formula))){const e=result2[1],t="["+e+"]",l=this.searchValueByKey(this.formBuilderModel[e].formatted_value,formatted_values);translated_formula=translated_formula.replace(t,l)}let calculated_value=eval(translated_formula).toFixed(2);this.fieldName.startsWith("tax_rate")&&(calculated_value=parseFloat(calculated_value).toFixed(1)),this.formBuilderModel[this.fieldName].value=calculated_value,this.formBuilderModel[this.fieldName].update_timestamp=Date.now();const formatted_value=yield this.formatValue(calculated_value,"en_US",this.amount_format_locale);this.formBuilderModel[this.fieldName].formatted_value=formatted_value,this.fieldCaluclations(),this.$emit("inputValueChanges",this.fieldName,"calculated"),this.$forceUpdate()}catch(err){logError(err)}}))},fieldCaluclations(){for(const e of this.formLayout)for(const t of e.rows)if(t.calculation_formula){const e=this.prepareFormula(t.calculation_formula);this.performCalulations(t.field_name,e,this.amount_format_locale,t.field_type)}},removeFieldInputError(e){this.formBuilderModel[e].hasOwnProperty("input_error")&&(this.formBuilderModel[e].input_error="")},displayAddFieldAsLineItemMenu(){let e=!1;return this.$route.path.includes("field_validation_v1")&&this.user_settings&&this.user_settings[src_constants_js__WEBPACK_IMPORTED_MODULE_3__.lZ]?("AMOUNT"==this.formBuilderConfigModel[this.fieldName].field_type&&(e=!0),e):e},getTranslations(){let e=this.formBuilderConfigModel[this.fieldName];return e.parent_field_name&&(e=this.formBuilderConfigModel[e.parent_field_name]),this.getLabelForFormBuilder(e,"form_builder.")}},setup(){const e=(0,src_store_main__WEBPACK_IMPORTED_MODULE_12__.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,formLayout:o,showTabIndex:i}=(0,pinia__WEBPACK_IMPORTED_MODULE_14__.bP)(e),{getDocDateFormat:s,getArtikelNummerFields:n,performCalulations:r,isExtraInfo:d,hasInputError:u,showClearRuleButton:c}=e,p=(0,src_store_main__WEBPACK_IMPORTED_MODULE_12__.yM)(),{getListOfValues:h}=p,m=(0,src_store_main__WEBPACK_IMPORTED_MODULE_12__.q3)(),{prepareFormula:_}=m,{amount_format_locale:b,lookup_configurations:v}=(0,pinia__WEBPACK_IMPORTED_MODULE_14__.bP)(m),g=(0,src_store_main__WEBPACK_IMPORTED_MODULE_12__.Bu)(),{user_settings:f}=(0,pinia__WEBPACK_IMPORTED_MODULE_14__.bP)(g),y=(0,src_store_main__WEBPACK_IMPORTED_MODULE_12__.gP)(),{formatValue:k,formatMultiValues:w,searchValueByKey:C}=y,x=(0,src_store_main__WEBPACK_IMPORTED_MODULE_12__.vm)(),{lookup_loading_fields:L}=(0,pinia__WEBPACK_IMPORTED_MODULE_14__.bP)(x),{interpolate:F}=x;return{interpolate:F,lookup_loading_fields:L,lookup_configurations:v,amount_format_locale:b,getArtikelNummerFields:n,showClearRuleButton:c,performCalulations:r,formatMultiValues:w,searchValueByKey:C,getDocDateFormat:s,getListOfValues:h,prepareFormula:_,hasInputError:u,formatValue:k,isExtraInfo:d,user_settings:f,formLayout:o,showTabIndex:i,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,deleteConfirmationDlg:(0,vue__WEBPACK_IMPORTED_MODULE_15__.KR)(!1),mask:(0,vue__WEBPACK_IMPORTED_MODULE_15__.KR)("")}}})},14792:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(25891);const o={mixins:[a.A],methods:{getInputFieldWidth(e){return e.displayLabelOnLeft?100-+e.labelWidth:100}}}},34300:(e,t,l)=>{"use strict";l.d(t,{yS:()=>x,DY:()=>C,MJ:()=>k,cd:()=>w,QR:()=>g,Fm:()=>L,iT:()=>f,Cb:()=>y});var a=l(82303),o=l(46162),i=l(76283),s=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};class n extends i.A{constructor({}){super({})}getById(e){return super.get(o.FH.get_doc+e)}get_all_docs(){return super.get(o.FH.all_documents)}dashboard(e){return super.get(o.FH.dashboard+e)}create_doc(e){const t={headers:{"Content-Type":"multipart/form-data"}};return super.post(o.FH.create_doc,e,t)}get_directscan_documents(){return super.get(o.FH.get_directscan_documents)}split_ocr_and_upload_to_store(e,t,l,a,i,s,n,r){const d="?name="+e+"&path="+t+"&store_id="+l+"&auto_name="+i,u=new FormData;return u.append("file",a),u.append("separators",s),u.append("sorted_indexes",n),u.append("deleted_indexes",r),super.post(o.FH.split_ocr_upload+d,u)}ocr_upload_to_store(e,t,l,a,i){const s="?name="+e+"&path="+t+"&store_id="+l+"&auto_name="+i,n=new FormData;return n.append("file",a),super.post(o.FH.ocr_upload_to_store+s,n)}split_create_doc(e,t,l,a){const i=Object.create(null,{post:{get:()=>super.post}});return s(this,void 0,void 0,(function*(){const s=new FormData;return s.append("file",e),s.append("separators",t),s.append("sorted_indexes",l),s.append("deleted_indexes",a),i.post.call(this,o.FH.split_create_doc,s)}))}split_old_doc(e,t,l,a){const i=Object.create(null,{post:{get:()=>super.post}});return s(this,void 0,void 0,(function*(){const s=new FormData;return s.append("doc_id",e),s.append("separators",t),s.append("sorted_indexes",l),s.append("deleted_indexes",a),i.post.call(this,o.FH.split_old_doc,s)}))}delete_doc_by_id(e){const t=new FormData;return t.append("doc_id",e),super.delete(o.FH.delete_doc,t)}download_doc(e){return s(this,void 0,void 0,(function*(){const t=yield(0,o.L3)(),l=yield a.A.get(o.FH.download_doc+"/"+e,{responseType:"blob",headers:{Authorization:t}});return URL.createObjectURL(new Blob([l.data,e+".pdf",l.headers["content-type"]]))}))}getThumbnail(e){return s(this,void 0,void 0,(function*(){const t=yield(0,o.L3)(),l=yield a.A.get(o.FH.get_doc_thumbnail+e,{responseType:"blob",headers:{Authorization:t}});return l.data}))}get_doc_text(e){const t=new FormData;return t.append("doc_id",e),super.get(o.FH.get_doc_text+"/"+e,t)}update_doc(e,t,l,a,i,s){let n=e;return""!==t&&(n+="?name="+t),""!==l&&(n+="&asi_num="+l),void 0!==a&&(n+="&correspondent="+a),void 0!==i&&(n+="&doc_type="+i),""!==s&&(n+="&tags="+s),super.put(o.FH.update_doc+n,new FormData)}remove_tag_from_doc(e,t){const l=new FormData;return l.append("doc_id",e),l.append("tag_id",t),super.put(o.FH.remove_tag_from_doc,l)}performDocSplit(e,t){const l=new FormData;l.append("doc_id",t);for(const[a,o]of Object.entries(e))l.append(a,o);return super.post(o.FH.split_document,l)}}var r=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};class d extends i.A{constructor({}){super({})}init_auth(e,t){const l=new FormData;return l.append("store_type",e),"dropbox"!=e&&"lexoffice"!=e||l.append("data",t),super.post(o.FH.init_auth,l)}updateStore(e,t,l){let a;if(logInfo(t),"dropbox"==t){a="?store_id="+e+"&store_type="+t;const i=new FormData;return i.append("data",l),super.put(o.FH.edit_store+"/"+a,i)}return a="?store_id="+e+"&store_type="+t,super.put(o.FH.edit_store+"/"+a,new FormData)}deleteStore(e){const t="?store_id="+e;return super.delete(o.FH.delete_store+t,null)}ms_auth(e){return super.get(o.FH.ms_auth+e)}getAccessableStores(){return super.get(o.FH.get_accessable_user_stores)}renameStore(e,t){const l="?store_id="+e+"&name="+t;return super.put(o.FH.rename_store+l,new FormData)}get_store_content(){return super.get(o.FH.get_store_content)}importFile(e){return super.post(o.FH.import_files,e)}getFolders(){return super.get(o.FH.get_folders)}toggleStorePublicity(e){const t="?store_id="+e;return super.get(o.FH.toggle_store_publicity+t)}downloadFile(e){return r(this,void 0,void 0,(function*(){const t=yield(0,o.L3)(),l=yield a.A.post(o.FH.download_files,e,{responseType:"blob",headers:{Authorization:t}});return URL.createObjectURL(new Blob([l.data,"Document.pdf",l.headers["content-type"]]))}))}uploadtostore(e){return super.post(o.FH.upload_files,e)}get_paths_for_org(){return super.get(o.FH.get_paths_for_org)}saveFolder(e,t,l){const a="?store_id="+e+"&path_id="+t+"&path_name="+l;return super.post(o.FH.add_update_storepath+a,new FormData)}removeFolder(e,t){const l="?store_id="+e+"&id="+t;return super.post(o.FH.add_update_storepath+l,new FormData)}getOrgStore(){return super.get(o.FH.get_org_store)}}class u extends i.A{constructor({}){super({})}get_tag(e){return super.get(o.FH.get_tag+e)}get_all_tags(){return super.get(o.FH.get_all_tags)}create_tag(e,t,l,a){let i="";return i+="?tag_name="+e,i+="&method="+t,i+="&regex="+l,i+="&color="+a.replace("#","%23"),super.post(o.FH.create_tag+i,new FormData)}update_tag(e,t,l,a,i){const s="?id="+e+"&name="+t+"&method="+l+"&regex="+a+"&color="+i.replace("#","%23");return super.put(o.FH.update_tag+s,new FormData)}delete_tag(e){const t=new FormData;return t.append("tag_id",e),super.delete(o.FH.delete_tag,t)}}class c extends i.A{constructor({}){super({})}get_correspondent(e){return super.get(o.FH.get_correspondent+"/"+e)}get_all_correspondents(){return super.get(o.FH.get_all_correspondents)}create_correspondent(e,t,l,a){let i="";return i+="?name="+e,i+="&method="+t,i+="&regex="+l,i+="&priority="+a,super.post(o.FH.create_correspondent+i,new FormData)}update_correspondent(e,t,l,a,i){let s="?id="+e+"&name="+t+"&method="+l+"&regex="+a;return i&&(s+="&priority="+i),super.put(o.FH.update_correspondent+s,new FormData)}delete_correspondent(e){const t=new FormData;return t.append("id",e),super.delete(o.FH.delete_correspondent,t)}}class p extends i.A{constructor({}){super({})}get_doctype(e){return super.get(o.FH.get_doctype+"/"+e)}get_all_doctypes(){return super.get(o.FH.get_all_doctypes)}create_doctype(e,t,l,a){logInfo("REGEX",l),logInfo("PRIORITY",a);const i="?name="+e+"&method="+t+"&regex="+l+"&priority="+a;return super.post(o.FH.create_doctype+i,new FormData)}update_doctype(e,t,l,a,i){let s="?id="+e+"&name="+t+"&method="+a+"&regex="+i;return l&&(s+="&priority="+l),super.put(o.FH.update_doctype+s,new FormData)}delete_doctype(e){let t="";return t+="?id="+e,super.delete(o.FH.delete_doctype+t,null)}}class h extends i.A{constructor({}){super({})}dashboard(e){return super.get(o.FH.dashboard+e)}get_correspondent(e){return super.get(o.FH.get_correspondent+"/"+e)}get_all_correspondents(){return super.get(o.FH.get_all_correspondents)}create_correspondent(e){return super.post(o.FH.create_correspondent+e,new FormData)}update_correspondent(e){return super.put(o.FH.update_correspondent+e,new FormData)}delete_correspondent(e){const t=new FormData;return t.append("id",e),super.delete(o.FH.delete_correspondent,t)}get_doctype(e){return super.get(o.FH.get_doctype+"/"+e)}get_all_doctypes(){return super.get(o.FH.get_all_doctypes)}create_doctype(e){return super.post(o.FH.create_doctype+"/"+e,new FormData)}update_doctype(e){return super.put(o.FH.update_doctype+e,new FormData)}delete_doctype(e){return super.delete(o.FH.delete_doctype+e,null)}get_tag(e){return super.get(o.FH.get_tag+e)}get_all_tags(){return super.get(o.FH.get_all_tags)}create_tag(e){return super.post(o.FH.create_tag+e,new FormData)}update_tag(e){return super.put(o.FH.update_tag+e,new FormData)}delete_tag(e){const t=new FormData;return t.append("tag_id",e),super.delete(o.FH.delete_tag,t)}}class m extends i.A{constructor({}){super({})}get_correspondent_group(e){return super.get(o.FH.get_correspondent_group+"/"+e)}all_correspondent_groups(){return super.get(o.FH.get_all_correspondent_groups)}create_correspondent_group(e){const t=new FormData;return t.append("group_name",e),super.post(o.FH.create_correspondent_group,t)}rename_correspondent_group(e,t){const l=new FormData;return l.append("id",e),l.append("name",t),super.put(o.FH.rename_correspondent_group,l)}add_correspondent_to_group(e,t){const l=new FormData;return l.append("group_id",e),l.append("correspondent_id",t),super.put(o.FH.add_correspondent_to_group,l)}remove_correspondent_from_group(e,t){const l=new FormData;return l.append("group_id",e),l.append("correspondent_id",t),super.put(o.FH.remove_correspondent_from_group,l)}delete_correspondent_group(e){const t=new FormData;return t.append("id",e),super.delete(o.FH.delete_correspondent_group,t)}}var _=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};class b extends i.A{constructor({}){super({})}init_auth(e){return super.post(o.FH.init_auth,e)}getStoreFiles(e,t){const l="?store_id="+t;return super.get(o.FH.get_store_content+l)}getStoreFolders(e,t){const l="?store_id="+t;return super.get(o.FH.get_store_content+l)}getFolders(e){const t="?store_id="+e;return super.get(o.FH.get_folders+t)}uploadFiletoGDrive(e,t,l){let a="";a+="?path="+t.id+"&store_id="+l;const i=new FormData;return i.append("file",e),super.post(o.FH.upload_files+a,i)}uploadFiletoSpace(e,t,l=!1,a,i){let s="";"googledrive"==a||"onedrive"==a?s+="?path="+t.id+"&overwrite="+l+"&store_id="+i:"dropbox"==a?s+="?path="+t.path+"&overwrite="+l+"&store_id="+i:"lexoffice"==a&&(s+="?store_id="+i);const n=new FormData;for(const[o,r]of Object.entries(e))n.append(o,r);return super.post(o.FH.upload_files+s,n)}importSpaceFileToAlfred(e,t,l){const a=[];"GoogleDrive"==l||"Onedrive"==l?a.push(e.id):a.push(e.path);const i="?store_id="+t,s=new FormData;for(const[o,n]of Object.entries(a))s.append(o,n);return super.post(o.FH.import_files+i,s)}downloadFileFromSpace(e,t,l){return _(this,void 0,void 0,(function*(){const i=yield(0,o.L3)(),s="?store_id="+t,n=[];"GoogleDrive"==l||"Onedrive"==l?n.push(e.id):n.push(e.path);const r=yield a.A.post(o.FH.download_files+s,n,{responseType:"blob",headers:{Authorization:i}});return URL.createObjectURL(new Blob([r.data,e.label+"pdf",r.headers["content-type"]]))}))}}class v extends i.A{constructor({}){super({})}get_all_paths(){return super.get(o.FH.get_path_dashboard)}remove_path_condition_pair(e,t){const l="?directory_id="+e+"&condition_id="+t;return super.delete(o.FH.remove_path_condition_pair+l,null)}edit_pathdirectory(e,t,l,a){const i="?directory_id="+e+"&store_id="+t+"&name="+l+"&path="+a;return super.put(o.FH.edit_pathdirectory+i,new FormData)}create_path_condition_pair(e,t,l,a){const i="?directory_id="+a+"&value_1="+e+"&value_2="+t+"&value_3="+l;return super.post(o.FH.create_path_condition_pair+i,new FormData)}add_pathdirectory(e,t,l){const a="?store_id="+e+"&name="+t+"&path="+l;return super.post(o.FH.create_pathdirectory+a,new FormData)}delete_pathdirectory(e){const t="?directory_id="+e;return super.delete(o.FH.delete_pathdirectory+t,null)}}const g=new n({}),f=new d({}),y=new u({}),k=new c({}),w=new p({}),C=(new h({}),new m({})),x=new b({}),L=new v({})},63008:(e,t,l)=>{"use strict";l.d(t,{C4:()=>F.C,GX:()=>w,A2:()=>L,IO:()=>s});var a=l(1659),o=l(34300),i=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const s=(0,a.nY)("doc2light_document_store",{state:()=>({doctype:"",docs:[],doc_ids:[],doc_view:new Blob,document:{},page:"",doc_count:"",doc_thumbnails:{}}),actions:{setData(e){if(Object.keys(e).forEach((t=>{e[t]=null===e[t]?"":e[t]})),this.doc_ids.indexOf(e.doc_id)>=0);else{this.doc_ids.push(e.doc_id);const t=[];e.tags.forEach((e=>{t.push(e)})),this.docs.push({id:e.doc_id,title:e.title,asn:e.asi_num,doc_type:e.doc_type,assignee:e.correspondent,created_on:e.created_on,last_modified:e.last_modified,metadata:e.metadata,tags:t,timeline:e.timeline})}},set_docview(e){this.doc_view=e},get_all_docs(){return i(this,void 0,void 0,(function*(){yield o.QR.get_all_docs().then((e=>{const t=e;1==t.success&&Array.from(e.data).forEach((e=>{this.setData(e)}))}))}))},dashboard(e){return i(this,void 0,void 0,(function*(){yield o.QR.dashboard(e).then((e=>{const t=e;1==t.success&&(this.doc_count=t.doc_count,this.doc_ids=[],this.docs=[],Array.from(e.data).forEach((e=>{this.setData(e)})))}))}))},delete_doc(e){return i(this,void 0,void 0,(function*(){yield o.QR.delete_doc_by_id(e)}))},get_by_id(e){return i(this,void 0,void 0,(function*(){const t=yield o.QR.getById(e);return this.document=t,t}))},get_doc_thumbnail(e){return i(this,void 0,void 0,(function*(){if(e in this.doc_thumbnails===!1)try{this.doc_thumbnails[e]=yield o.QR.getThumbnail(e)}catch(t){this.doc_thumbnails[e]="error"}return this.doc_thumbnails[e]}))},remove_tag_from_doc(e,t){return i(this,void 0,void 0,(function*(){yield o.QR.remove_tag_from_doc(e,t).then((l=>{const a=l;1==a.success&&Array.from(this.docs).forEach((l=>{if(l.id==e){const e=this.docs.indexOf(l);Array.from(this.docs[e].tags).forEach((l=>{l.id==t&&this.docs[e].tags.splice(this.docs[e].tags.indexOf(l),1)}))}}))}))}))}}});var n=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};(0,a.nY)("doc2light_tag_store",{state:()=>({tags:[],tag_ids:[]}),actions:{setTag(e){Object.keys(e).forEach((t=>{e[t]=null===e[t]?"":e[t]})),this.tag_ids.indexOf(e.id)>=0||(this.tag_ids.push(e.id),this.tags.push({id:e.id,name:e.tag,color:e.color}))},get_all_tags(){return n(this,void 0,void 0,(function*(){const e=yield o.Cb.get_all_tags();1==e.data.success&&Array.from(e.data.tags).forEach((e=>{this.setTag(e)}))}))},get_tag(e){return n(this,void 0,void 0,(function*(){const t=yield o.Cb.get_tag(e);return t}))},update_tag(e,t,l,a,i){return n(this,void 0,void 0,(function*(){yield o.Cb.update_tag(e,t,l,a,i).then((l=>{const a=l;1==a.success&&this.update_store_data(e,t,i)}))}))},update_store_data(e,t,l){const a=this.tags.findIndex((t=>t.id===e));if(-1!==a)this.tags[a].name=t,this.tags[a].color=l;else{const a={id:e,tag:t,color:l};this.setTag(a)}},remove_store_data(e){const t=this.tags.findIndex((t=>t.id===e));this.tags.splice(t,1)},create_tag(e,t,l,a){return n(this,void 0,void 0,(function*(){const i=yield o.Cb.create_tag(e,t,l,a);if(1==i.data.success){i.data.tag.id;logInfo(i.data.tag),this.setTag(i.data.tag)}}))},delete_tag(e){return n(this,void 0,void 0,(function*(){const t=yield o.Cb.delete_tag(e);1==t.data.success&&this.remove_store_data(e)}))}}});var r=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};(0,a.nY)("doc2light_doctype_store",{state:()=>({doc_types:[],doc_type_ids:[]}),actions:{setDoctype(e){Object.keys(e).forEach((t=>{e[t]=null===e[t]?"":e[t]})),this.doc_type_ids.indexOf(e.id)>=0||(this.doc_type_ids.push(e.id),this.doc_types.push({id:e.id,name:e.name,regex:e.regex,priority:e.priority,method:e.method}))},get_doctype(e){return r(this,void 0,void 0,(function*(){const t=yield o.cd.get_doctype(e).then((e=>e));return t}))},get_all_doctypes(){return r(this,void 0,void 0,(function*(){yield o.cd.get_all_doctypes().then((e=>{const t=e;return t.hasOwnProperty("doctypes")?(Array.from(t.doctypes).forEach((e=>{this.setDoctype(e)})),e):e}))}))},create_doctype(e,t,l,a){return r(this,void 0,void 0,(function*(){yield o.cd.create_doctype(e,t,l,a).then((e=>{const t=e;t.success&&this.setDoctype(t)}))}))},update_doctype(e,t,l,a,i){return r(this,void 0,void 0,(function*(){const s=yield o.cd.update_doctype(e,t,l,a,i).then((o=>(this.update_typestore_data(e,t,a,l,i),o))).catch((e=>{const t=e.response;return t}));return s}))},update_typestore_data(e,t,l,a,o){const i=this.doc_types.findIndex((t=>t.id===e));if(-1!==i)this.doc_types[i].name=t,this.doc_types[i].classification_type=l,this.doc_types[i].priority=a,this.doc_types[i].regex=o;else{const l={id:e,tag:t};this.setDoctype(l)}},remove_doctype_store_data(e){const t=this.doc_types.findIndex((t=>t.id===e));this.doc_types.splice(t,1)},delete_doctype(e){return r(this,void 0,void 0,(function*(){let t="";t+="?id="+e;yield o.cd.delete_doctype(t);this.remove_doctype_store_data(e)}))}}});var d=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};(0,a.nY)("doc2light_corresp_store",{state:()=>({correspondents:[],corresp_ids:[]}),actions:{setCorresp(e){Object.keys(e).forEach((t=>{e[t]=null===e[t]?"":e[t]})),this.corresp_ids.indexOf(e.id)>=0||(this.corresp_ids.push(e.id),this.correspondents.push({id:e.id,name:e.name,priority:e.priority,extraction_type:e.extraction_type,regex:e.regex}))},update_store_data(e,t,l,a,o){const i=this.correspondents.findIndex((t=>t.id===e));if(-1!==i)this.correspondents[i].name=t,this.correspondents[i].extraction_type=l,this.correspondents[i].priority=a,this.correspondents[i].regex=o;else{const l={id:e,tag:t};this.setCorresp(l)}},get_all_correspondents(){return d(this,void 0,void 0,(function*(){const e=yield o.MJ.get_all_correspondents().then((e=>{const t=e;return t.hasOwnProperty("correspondents")?(Array.from(t.correspondents).forEach((e=>{this.setCorresp(e)})),e):e}));return e}))},delete_correspondent(e){return d(this,void 0,void 0,(function*(){yield o.MJ.delete_correspondent(e).then((t=>(this.remove_corresp_store_data(e),t)))}))},get_correspondent(e){return d(this,void 0,void 0,(function*(){const t=yield o.MJ.get_correspondent(e).then((e=>{const t=e;return logInfo(t),e}));return t}))},remove_corresp_store_data(e){const t=this.correspondents.findIndex((t=>t.id===e));this.correspondents.splice(t,1)},create_correspondent(e,t,l,a){return d(this,void 0,void 0,(function*(){yield o.MJ.create_correspondent(e,t,l,a).then((e=>{const t=e;logInfo(t),this.setCorresp(t.correspondent)}))}))},update_correspondent(e,t,l,a,i){return d(this,void 0,void 0,(function*(){const s=yield o.MJ.update_correspondent(e,t,l,a,i).then((o=>(this.update_store_data(e,t,l,i,a),o))).catch((e=>{const t=e.response;return t}));return s}))}}});function u(e){const t={priorities:[],data:{}};return e.doctypes.forEach((e=>{const l={id:e.id,name:e.name,regex:e.regex,method:e.method,priority:e.priority,fabaction:!1,rowSelection:!1};t.data[l.id]=l,null!==l.priority&&t.priorities.push(l.priority)})),t}function c(e,t){e.hasOwnProperty("data")||(e.data={}),e.hasOwnProperty("priorities")||(e.priorities=[]);const l={id:t.id,name:t.name,regex:t.regex,method:t.method,priority:t.priority,fabaction:!1,rowSelection:!1};return e.data[l.id]=l,null!==l.priority&&e.priorities.push(l.priority),e}function p(e){const t={data:{}};return e.paths.forEach((e=>{const l={id:e.id,name:e.name,path:e.path,store:e.store,conditions:e.conditions,fabaction:!1,rowSelection:!1};t.data[l.id]=l})),t}function h(e){const t={data:{}};return e.tags.forEach((e=>{const l={id:e.id,name:e.tag,method:e.extraction_type,regex:e.regex,color:e.color,fabaction:!1,rowSelection:!1};t.data[l.id]=l})),t}function m(e,t){e.hasOwnProperty("data")||(e.data={});const l={id:t.tag.id,name:t.tag.tag,method:t.tag.method,regex:t.tag.regex,color:t.tag.color,fabaction:!1,rowSelection:!1};return e.data[l.id]=l,e}function _(e){const t={priorities:[],data:{}};return e.correspondents.forEach((e=>{const l={id:e.id,name:e.name,regex:e.regex,method:e.extraction_type,priority:e.priority,fabaction:!1,rowSelection:!1};t.data[l.id]=l,null!==l.priority&&t.priorities.push(l.priority)})),t}function b(e,t){e.hasOwnProperty("data")||(e.data={}),e.hasOwnProperty("priorities")||(e.priorities=[]);const l={id:t.correspondent.id,name:t.correspondent.name,regex:t.correspondent.regex,method:t.correspondent.method,priority:t.correspondent.priority,fabaction:!1,rowSelection:!1};return e.data[l.id]=l,null!==l.priority&&e.priorities.push(l.priority),e}function v(e){const t={data:{}};return e.correspondent_groups.forEach((e=>{const l={id:e.id,name:e.name,correspondents:e.correspondents,fabaction:!1,rowSelection:!1};t.data[l.id]=l})),t}function g(e,t){e.hasOwnProperty("data")||(e.data={});const l={id:t.group.id,name:t.group.name,correspondents:t.group.correspondents,fabaction:!1,rowSelection:!1};return e.data[l.id]=l,e}function f(e){const t={documents:{}};return t.doc_count=e.doc_count,t.current_dashboard_docs=[],e.data.forEach((e=>{const l=[];null!=e.tags&&e.tags.forEach((e=>{null!=e&&l.push({value:e["id"],label:e["name"]})}));const a=null===e.correspondent?null:e.correspondent,o=null===e.doc_type?null:e.doc_type,i={asi:null,timeline:e.timeline,metadata:e.metadata,id:e.doc_id,name:e.title,created_on:e.created_on,last_modified:e.last_modified,tags:l,doc_type:o,correspondent:a,image_data:null,image:null};t.documents[i.id]=i,t.current_dashboard_docs.push(i.id)})),t}var y=l(36246),k=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const w=(0,a.nY)("doc2light_comb_store",{state:()=>({doc_count:"",page_count:1,doc_thumbnails:{},correspondentData:{},documentData:{},docTypeData:{},tagData:{},dashboardDocs:{},groupData:{},pathData:{}}),getters:{getDashboardDocIds:e=>e.documentData.current_dashboard_docs,getCurrentPageCount:e=>e.page_count,getDocIds:e=>Object.keys(e.documentData.documents),getDocData:e=>t=>e.documentData.documents[t],getDocCorrespondent:e=>t=>{const l=e.documentData.documents[t].correspondent;return null===l?"":e.correspondentData.data[l.id].name},getDocTags:e=>t=>e.documentData.documents[t].tags,getTagIds:e=>Object.keys(e.tagData.data),getTagData:e=>t=>e.tagData.data[t],getDocTypeIds:e=>Object.keys(e.docTypeData.data),getDocTypePriorities:e=>e.docTypeData.priorities,getDocTypeData:e=>t=>e.docTypeData.data[t],getCorrespondentIds:e=>Object.keys(e.correspondentData.data),getCorrespondentPriorities:e=>e.correspondentData.priorities,getCorrespondentData:e=>t=>e.correspondentData.data[t],getGroupIds:e=>Object.keys(e.groupData.data),getGroupData:e=>t=>e.groupData.data[t]},actions:{loadFromServer(){return k(this,void 0,void 0,(function*(){yield this.setCorrespondentsFromServer(),yield this.setDocumentsDashboard(),yield this.setDocTypesfromServer(),yield this.setTagsFromServer(),yield this.setGroupsFromServer(),yield this.setPathsFromServer(),this.prepareDashboard()}))},setDocumentsDashboard(e="?limit=18"){return k(this,void 0,void 0,(function*(){e+="&skip="+18*(this.page_count-1);yield o.QR.dashboard(e).then((e=>{this.documentData=f(e)})).catch((e=>{logInfo(e)}))}))},setDocTypesfromServer(){return k(this,void 0,void 0,(function*(){yield o.cd.get_all_doctypes().then((e=>{this.docTypeData=u(e)})).catch((e=>{const t=e;logInfo(t)}))}))},setTagsFromServer(){return k(this,void 0,void 0,(function*(){yield o.Cb.get_all_tags().then((e=>{this.tagData=h(e)})).catch((e=>{const t=e;logInfo(t)}))}))},setPathsFromServer(){return k(this,void 0,void 0,(function*(){yield o.Fm.get_all_paths().then((e=>{this.pathData=p(e)})).catch((e=>{const t=e;logInfo(t)}))}))},setCorrespondentsFromServer(){return k(this,void 0,void 0,(function*(){yield o.MJ.get_all_correspondents().then((e=>{this.correspondentData=_(e)})).catch((e=>{const t=e;logInfo(t)}))}))},setGroupsFromServer(){return k(this,void 0,void 0,(function*(){yield o.DY.all_correspondent_groups().then((e=>{this.groupData=v(e)})).catch((e=>{const t=e;logInfo(t)}))}))},prepareDashboard(){this.dashboardDocs={docs:{},doc_ids:this.documentData.current_dashboard_docs},this.documentData.current_dashboard_docs.forEach((e=>{const t=[],l=this.documentData.documents[e];l.tags.forEach((e=>{const l=this.tagData.data[e.value];t.push(l)}));const a={id:"",name:"",method:"",priority:"",regex:"",fabaction:!1,rowSelection:!1},o={id:"",name:"",method:"",priority:"",regex:"",fabaction:!1,rowSelection:!1},i=null===l.asi?"-":l.asi,s=null===l.doc_type?a:l.doc_type,n=C(l.created_on,"YYYY-MM-DD HH:mm:ss"),r=null===l.last_modified?"-":C(l.last_modified,"YYYY-MM-DD HH:mm:ss"),d=null===l.correspondent?o:l.correspondent,u={id:l.id,name:l.name,asi:i,metadata:l.metadata,tags:t,correspondent:d,last_modified:r,created_on:n,doc_type:s,fabaction:!1,rowSelection:!1,image_data:l.image_data,image:l.image};this.dashboardDocs.docs[l.id]=u}))},delete_doc(e){return k(this,void 0,void 0,(function*(){yield o.QR.delete_doc_by_id(e);delete this.documentData.documents[e],delete this.dashboardDocs.docs[e]}))},get_by_id(e){return k(this,void 0,void 0,(function*(){const t=yield o.QR.getById(e);return t}))},get_doc_thumbnail(e){return k(this,void 0,void 0,(function*(){if(e in this.doc_thumbnails===!1)try{this.doc_thumbnails[e]=yield o.QR.getThumbnail(e)}catch(t){this.doc_thumbnails[e]="error"}return this.doc_thumbnails[e]}))},change_pagecount(e){this.page_count=e},remove_tag_from_doc(e,t){return k(this,void 0,void 0,(function*(){const l=yield o.QR.remove_tag_from_doc(e,t),a=l;1==a.success&&(this.documentData.documents[e].tags.splice(this.documentData.documents[e].tags.indexOf(t),1),this.dashboardDocs.docs[e].tags.splice(this.dashboardDocs.docs[e].tags.indexOf(t),1))}))},get_tag(e){return k(this,void 0,void 0,(function*(){const t=yield o.Cb.get_tag(e);return t}))},update_tag(e,t,l,a,i){return k(this,void 0,void 0,(function*(){const s=yield o.Cb.update_tag(e,t,l,a,i),n=s;1==n.success&&m(this.tagData,n)}))},create_tag(e,t,l,a){return k(this,void 0,void 0,(function*(){const i=yield o.Cb.create_tag(e,t,l,a),s=i;1==s.success&&m(this.tagData,i)}))},delete_tag(e){return k(this,void 0,void 0,(function*(){const t=yield o.Cb.delete_tag(e),l=t;1==l.success&&delete this.tagData.data[e]}))},remove_path_condition_pair(e,t){return k(this,void 0,void 0,(function*(){yield o.Fm.remove_path_condition_pair(e,t).then((l=>{delete this.pathData.data[e].conditions.data[t]}))}))},create_path_condition_pair(e,t,l,a){return k(this,void 0,void 0,(function*(){yield o.Fm.create_path_condition_pair(e,t,l,a).then((e=>{}))}))},edit_pathdirectory(e,t,l,a){return k(this,void 0,void 0,(function*(){yield o.Fm.edit_pathdirectory(e,t,l,a).then((t=>{this.pathData.data[e]=t.directory}))}))},add_pathdirectory(e,t,l){return k(this,void 0,void 0,(function*(){const a=yield o.Fm.add_pathdirectory(e,t,l).then((e=>{const t={id:e.directory.id,name:e.directory.name,path:e.directory.path,store:e.directory.store,conditions:e.directory.conditions,fabaction:!1,rowSelection:!1};return this.pathData.data[t.id]=t,e}));return a}))},delete_pathdirectory(e){return k(this,void 0,void 0,(function*(){yield o.Fm.delete_pathdirectory(e).then((t=>{delete this.pathData.data[e]}))}))},get_doctype(e){return k(this,void 0,void 0,(function*(){const t=yield o.cd.get_doctype(e).then((e=>e));return t}))},create_doctype(e,t,l,a){return k(this,void 0,void 0,(function*(){yield o.cd.create_doctype(e,t,l,a).then((e=>{const t=e;logInfo(e),c(this.docTypeData,t.doctype)}))}))},update_doctype(e,t,l,a,i){return k(this,void 0,void 0,(function*(){yield o.cd.update_doctype(e,t,l,a,i).then((e=>{c(this.docTypeData,e)})).catch((e=>{e.response}))}))},delete_doctype(e){return k(this,void 0,void 0,(function*(){const t=yield o.cd.delete_doctype(e),l=t;1==l.success&&delete this.docTypeData.data[e]}))},get_all_correspondents(){return k(this,void 0,void 0,(function*(){const e=yield o.MJ.get_all_correspondents().then((e=>{const t=e;if(1==t.success)return this.groupData=v(t),e}));return e}))},delete_correspondent(e){return k(this,void 0,void 0,(function*(){yield o.MJ.delete_correspondent(e).then((t=>{const l=t;if(1==l.success)return delete this.correspondentData.data[e],t}))}))},get_correspondent(e){return k(this,void 0,void 0,(function*(){const t=yield o.MJ.get_correspondent(e).then((e=>e));return t}))},create_correspondent(e,t,l,a){return k(this,void 0,void 0,(function*(){yield o.MJ.create_correspondent(e,t,l,a).then((e=>{const t=e;b(this.correspondentData,t)}))}))},update_correspondent(e,t,l,a,i){return k(this,void 0,void 0,(function*(){yield o.MJ.update_correspondent(e,t,l,a,i).then((e=>{const t=e;if(1==t.success)return b(this.correspondentData,t),t})).catch((e=>{const t=e.response;return t}))}))},get_all_correspondent_groups(){return k(this,void 0,void 0,(function*(){yield o.DY.all_correspondent_groups().then((e=>{const t=e;if(1==t.success)return v(t),e}))}))},rename_correspondent_group(e,t){return k(this,void 0,void 0,(function*(){yield o.DY.rename_correspondent_group(e,t).then((e=>{const t=e;if(1==t.success)return g(this.groupData,t),e}))}))},remove_correspondent_from_group(e,t){return k(this,void 0,void 0,(function*(){yield o.DY.remove_correspondent_from_group(t,e).then((l=>{const a=l;if(1==a.success)return this.groupData.data[t].correspondents.splice(this.groupData.data[t].correspondents.indexOf(e),1),l}))}))},add_correspondent_to_group(e,t,l,a){return k(this,void 0,void 0,(function*(){yield o.DY.add_correspondent_to_group(t,e).then((e=>{const t=e;1==t.success&&g(this.groupData,t)}))}))},delete_correspondent_group(e){return k(this,void 0,void 0,(function*(){yield o.DY.delete_correspondent_group(e).then((t=>{const l=t;if(1==l.success)return delete this.groupData.data[e],t}))}))},get_correspondent_groups(e){return k(this,void 0,void 0,(function*(){const t=yield o.DY.get_correspondent_group(e).then((e=>e));return t}))},create_correspondent_group(e){return k(this,void 0,void 0,(function*(){yield o.DY.create_correspondent_group(e).then((e=>{const t=e;1==t.success&&g(this.groupData,t.group)}))}))}}});function C(e,t){return y.Ay.formatDate(e,t)}var x=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const L=(0,a.nY)("doc2light_corresp_group_store",{state:()=>({correspondent_groups:[],corresp_group_ids:[]}),actions:{setGroups(e){Object.keys(e).forEach((t=>{e[t]=null===e[t]?"":e[t]})),this.corresp_group_ids.indexOf(e.id)>=0||(this.corresp_group_ids.push(e.id),this.correspondent_groups.push({id:e.id,name:e.name,correspondents:e.correspondents}))},update_store_data(e,t,l){const a=this.correspondent_groups.findIndex((t=>t.id===e));if(-1!==a)this.correspondent_groups[a].name=t,this.correspondent_groups[a].correspondents.push(l);else{const l={id:e,name:t};this.setGroups(l)}},get_all_correspondent_groups(){return x(this,void 0,void 0,(function*(){yield o.DY.all_correspondent_groups().then((e=>{const t=e;return t.hasOwnProperty("correspondent_groups")?(Array.from(t.correspondent_groups).forEach((e=>{this.setGroups(e)})),e):e}))}))},rename_correspondent_group(e,t){return x(this,void 0,void 0,(function*(){yield o.DY.rename_correspondent_group(e,t).then((l=>{const a=l;return this.update_store_data(e,t,a.group.correspondents),l}))}))},remove_correspondent_from_group(e,t){return x(this,void 0,void 0,(function*(){yield o.DY.remove_correspondent_from_group(t,e).then((l=>(this.remove_corresp_from_group_store_data(t,e),l)))}))},add_correspondent_to_group(e,t,l){return x(this,void 0,void 0,(function*(){yield o.DY.add_correspondent_to_group(t,e).then((e=>{const a=e;this.add_corresp_to_store_data(t,a.data.correspondent_id,l)}))}))},delete_correspondent_group(e){return x(this,void 0,void 0,(function*(){yield o.DY.delete_correspondent_group(e).then((t=>{this.remove_corresp_group_store_data(e);const l=t;return logInfo(l),t}))}))},remove_corresp_group_store_data(e){const t=this.correspondent_groups.findIndex((t=>t.id===e));this.correspondent_groups.splice(t,1)},get_correspondent_groups(e){return x(this,void 0,void 0,(function*(){const t=yield o.DY.get_correspondent_group(e).then((e=>e));return t}))},add_corresp_to_store_data(e,t,l){const a=this.correspondent_groups.findIndex((t=>t.id===e));this.correspondent_groups[a].correspondents.push({id:t,name:l})},remove_corresp_from_group_store_data(e,t){const l=this.correspondent_groups.findIndex((t=>t.id===e)),a=this.correspondent_groups[l].correspondents.findIndex((e=>e.id===t));a>-1&&this.correspondent_groups[l].correspondents.splice(a,1)},create_correspondent_group(e){return x(this,void 0,void 0,(function*(){yield o.DY.create_correspondent_group(e).then((e=>{const t=e;logInfo(t),this.setGroups(t.group)}))}))}}});var F=l(98872),E=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const A={id:"",label:"/",children:[],children_ids:[],saved:0};(0,a.nY)("alfred_store_store",{state:()=>({current_store:{},stores:[],folders:{},root_folder:A,current_folder:A,store_type:"google_drive",saved_folders:[]}),getters:{getStoreType:e=>e.store_type,getCurrentStore:e=>e.current_store,getCurrentFolder:e=>e.current_folder,getCurrentFolderFolders:e=>{const t=[];return e.current_folder.children.forEach((l=>{void 0!==e.folders[l]&&t.push(e.folders[l])})),t},getRootFolder:e=>e.root_folder,getRootFolderData:e=>{const t=[];return e.root_folder.children.forEach((l=>{void 0!==e.folders[l]&&t.push(e.folders[l])})),t}},actions:{prepareData(){return E(this,void 0,void 0,(function*(){yield this.getStores(),null!=this.current_store&&(yield this.loadStoreContent(this.current_store.id),this.setStoreType(this.current_store.type))}))},getStores(){return E(this,void 0,void 0,(function*(){this.stores=[];yield o.iT.getAccessableStores().then((e=>{e.exports.forEach(((e,t)=>{this.stores.push(e)}))})).catch((e=>{throw e}))}))},get_paths_for_org(){o.iT.get_paths_for_org().then((e=>{e.paths.forEach((e=>{const t={folder_id:e.path_id,store_id:e.store_id,id:e.id};this.saved_folders.push(t)}))}))},loadStoreContent(e){return E(this,void 0,void 0,(function*(){this.folders={},this.get_paths_for_org(),yield o.yS.getFolders(e).then((e=>{const t=[],l=[];e.folders.forEach((e=>{l.push(e.id)})),e.folders.forEach((e=>{t.push(e.id)})),e.folders.forEach((e=>{this.saved_folders.forEach((t=>{if(e.id==t.folder_id){logInfo(e.id),logInfo(t.folder_id);const l={id:e.id,label:e.label,children:[],children_ids:[],saved:1};logInfo("IS SAVED",l.saved),this.folders[l.id]=l}else{const t={id:e.id,label:e.label,children:[],children_ids:[],saved:0};this.folders[t.id]=t}logInfo("AFTER",this.folders[e.id])}))})),this.current_folder=this.root_folder,logInfo("FOLDERS",this.folders),logInfo("SAVED FOLDERS",this.saved_folders)})).catch((e=>{throw e}))}))},uploadFiletoGDrive(e,t,l){return E(this,void 0,void 0,(function*(){yield o.yS.uploadFiletoGDrive(e,t,l).catch((e=>{throw e}))}))},updateStore(e,t,l){return E(this,void 0,void 0,(function*(){yield o.iT.updateStore(e,t,l).catch((e=>{throw e}))}))},deleteStore(e){o.iT.deleteStore(e).catch((e=>{throw e}))},setStoreType(e){this.store_type=e},setFolder(e){this.current_folder=e}}})},98872:(e,t,l)=>{"use strict";l.d(t,{C:()=>n});var a=l(1659),o=l(34300),i=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const s={path:"/",id:"root",files:[],folders:[],label:"/"},n=(0,a.nY)("doc2light_space_store",{state:()=>({files:{},folders:{},current_folder:s,root_folder:s,store_type:""}),getters:{getStoreType:e=>e.store_type,getCurrentFolder:e=>e.current_folder,getCurrentFolderFolders:e=>{const t=[];return e.current_folder.folders.forEach((l=>{void 0!==e.folders[l]&&t.push(e.folders[l])})),t},getCurrentFolderFiles:e=>{const t=[];return e.current_folder.files.forEach((l=>{void 0!==e.files[l]&&t.push(e.files[l])})),t},getRootFolder:e=>s,getRootFolderData:e=>{const t=[];return e.root_folder.folders.forEach((l=>{void 0!==e.folders[l]&&t.push(e.folders[l])})),t}},actions:{getFileById(e){return this.files[e]},getFolderById(e){return this.folders[e]},loadStoreContent(e){return i(this,void 0,void 0,(function*(){this.files={},this.folders={},yield o.yS.getStoreFiles("",e).then((e=>{this.store_type=e.store;const t=[],l=[];logInfo("CHECK"),e.files.forEach((e=>{this.files[e.id]=e,t.push(e.id)})),e.folders.forEach((e=>{l.push(e.id)})),e.folders.forEach((e=>{var a;const o={id:e.id,path:e.path,label:e.label,files:[],folders:[]};null===(a=e.children)||void 0===a||a.forEach((e=>{var a,i;t.includes(e)?null===(a=o.files)||void 0===a||a.push(e):l.includes(e)?null===(i=o.folders)||void 0===i||i.push(e):logError("Missing id "+e+" not a file or folder id - not adding id")})),this.folders[o.id]=o})),this.set_root_files(),this.current_folder=this.root_folder})).catch((e=>{throw e}))}))},setFolder(e){this.current_folder=e},set_root_files(){this.root_folder.files=[],this.root_folder.folders=[],Object.values(this.files).forEach((e=>{null===this.root_folder.files&&(this.root_folder.files=[]),-1==e.path.search("/.+/")&&this.root_folder.files.push(e.id)})),Object.values(this.folders).forEach((e=>{null===this.root_folder.folders&&(this.root_folder.folders=[]),-1==e.path.search("/.+/")&&this.root_folder.folders.push(e.id)}))},downloadFileFromSpace(e,t){return i(this,void 0,void 0,(function*(){return yield o.yS.downloadFileFromSpace(e,t,this.store_type).then((e=>e)).catch((e=>{throw e}))}))},importSpaceFileToAlfred(e,t){return i(this,void 0,void 0,(function*(){yield o.yS.importSpaceFileToAlfred(e,t,this.store_type).catch((e=>{throw e}))}))},uploadFiletoSpace(e,t,l,a,s){return i(this,void 0,void 0,(function*(){yield o.yS.uploadFiletoSpace(e,t,l,s,a).catch((e=>{throw e}))}))}}})},72608:(e,t,l)=>{"use strict";l.d(t,{Z:()=>a});const a={getDetailViewRoute(e){let t="";try{t="/manage_layout_builder/"+e.doc_type_key,e.layout_template_id&&(t+="/"+e.layout_template_id),e.sub_doc_type_key&&(t+="?sub_doc_type="+e.sub_doc_type_key)}catch(l){logError(l)}return t}}},64307:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(83319);const o={methods:{scrollToHelpSection(e){const t=(0,a.uL)();t.showInHelpSection(),setTimeout((()=>{try{const t=document.getElementById(e);if(!t)return;t.scrollIntoView({behavior:"smooth"})}catch(t){logError(t)}}),0)}}}},16853:(e,t,l)=>{"use strict";l.d(t,{j:()=>d});var a=l(1659),o=l(82303),i=l(34300),s=l(85487),n=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const r={id:"",label:"/",children:[],children_ids:[],saved:0},d=(0,a.nY)("scanner_store",{state:()=>({valid_url:"https://local.polydocs.io:",scanners:[],file:"",filedata:{},pager:{},page_count:0,current_carousel_name:"store",carousel_names:["store","scan","documents"],folder_selection:!0,new_scan:{},showDownloadInstallerButton:!1,showDragDrop:!0,showSplitButton:!1,no_store:!0,loading:!1,showPulsating:!0,current_store:{},stores:[],shown_folders:{},folders:{},documents:[],saved_folders:[],root_folder:r,current_folder:{},current_folder_url:"",store_type:"google_drive",oauthToken:null}),getters:{getShowDownloadInstallerButton:e=>e.showDownloadInstallerButton,getScannersfromStore:e=>e.scanners,getFiledata:e=>e.filedata,getFile:e=>e.file,getUrl:e=>e.valid_url,getCurrentStore:e=>e.current_store,getCurrentFolder:e=>e.current_folder,getTableDocuments:e=>e.documents,getPageCount:e=>e.page_count,getBackDisable:e=>e.page_count>0,getNextDisable:e=>e.page_count<2,getCarouselName:e=>e.current_carousel_name},actions:{subtractPage(){this.page_count=this.getPageCount-1,this.current_carousel_name=this.carousel_names[this.getPageCount]},addPage(){this.page_count=this.getPageCount+1,this.current_carousel_name=this.carousel_names[this.getPageCount]},getStore(){return n(this,void 0,void 0,(function*(){yield i.iT.getOrgStore().then((e=>{1==e.success&&(this.oauthToken=e.store.access_token,this.current_carousel_name="scan",this.current_store=e.store)})).catch((e=>{throw this.current_store={},e}))}))},checkAlfred(e){return n(this,void 0,void 0,(function*(){try{yield o.A.get(e+"12500/"),yield this.getScanners(e+"12500/")}catch(t){try{yield o.A.get(e+"12154/"),yield this.getScanners(e+"12154/")}catch(t){try{yield o.A.get(e+"12346/"),yield this.getScanners(e+"12346/")}catch(t){this.showDownloadInstallerButton=!0}}}}))},callScanners(e){return n(this,void 0,void 0,(function*(){"https://local.polydocs.io:"===e?(logInfo("Checking alfred"),this.checkAlfred(this.valid_url)):this.showDownloadInstallerButton=!1,this.valid_url=e;const t=yield o.A.get((0,s.MV)(e+"scanners"));if(1!=t.data.success)throw"No scanners found";this.scanners=[],t.data.scanners.forEach((e=>{this.scanners.push({value:e["Host"],label:e["Device"]})}))}))},getScanners(e){return n(this,void 0,void 0,(function*(){yield this.callScanners(e),yield this.callScanners(e),yield this.callScanners(e)}))},doScan(){return n(this,void 0,void 0,(function*(){this.showSplitButton=!1;let e=this.valid_url+"scan?host="+this.new_scan["source"]["value"];1==this.new_scan["automatic_get"]?e+="&source=adf":e+="&source=platen",""!=this.new_scan["pixel_type"]["value"]&&(e=e+"&color="+this.new_scan["pixel_type"]["value"]),""!=this.new_scan["2_sided"]&&(e=e+"&duplex_input="+this.new_scan["2_sided"]);yield o.A.get(e,{responseType:"blob"}).then((e=>(this.file=URL.createObjectURL(e.data),this.new_scan["automatic_get"]&&(this.showSplitButton=!0),this.filedata=e.data,this.showDragDrop=!1,{message:"TEST"}))).catch((e=>(logInfo(e),{message:"Something failed"})))}))},uploadFiles(e){return n(this,void 0,void 0,(function*(){for(const l in e)try{const t=new FormData,a=e[l];t.append("file",a),yield i.QR.ocr_upload_to_store(this.new_scan["name"],this.current_folder.id,this.current_store.id,a,this.new_scan["auto_doc_name"])}catch(t){logInfo(t)}""!=this.current_folder_url&&window.open(this.current_folder_url,"_blank")}))},uploadSingleFile(){return n(this,void 0,void 0,(function*(){try{yield i.QR.ocr_upload_to_store(this.new_scan["name"],this.current_folder.id,this.current_store.id,this.filedata,this.new_scan["auto_doc_name"]),""!=this.current_folder_url&&window.open(this.current_folder_url,"_blank")}catch(e){logInfo(e)}}))},uploadSplitOcr(e,t,l){return n(this,void 0,void 0,(function*(){try{yield i.QR.split_ocr_and_upload_to_store(this.new_scan["name"],this.current_folder.id,this.current_store.id,this.filedata,this.new_scan["auto_doc_name"],e,t,l),""!=this.current_folder_url&&window.open(this.current_folder_url,"_blank")}catch(a){logInfo(a)}}))},setShowInstaller(){this.showDownloadInstallerButton,this.showDownloadInstallerButton},prepareData(){return n(this,void 0,void 0,(function*(){yield this.getStore(),null!=this.current_store&&"google_drive"!=this.store_type&&(yield this.loadStoreContent(this.current_store.id)),this.get_paths_for_org()}))},loadTableDocuments(){return n(this,void 0,void 0,(function*(){yield i.QR.get_directscan_documents().then((e=>{e.documents.forEach((e=>{this.documents.push(e)}))})).catch((e=>{logInfo(e)}))}))},loadStoreContent(e){return n(this,void 0,void 0,(function*(){this.folders={},yield i.yS.getFolders(e).then((e=>{const t=[],l=[];e.folders.forEach((e=>{l.push(e.id)})),e.folders.forEach((e=>{t.push(e.id)})),e.folders.forEach((e=>{const t={id:e.id,label:e.label,children:[],children_ids:[],saved:0};this.folders[t.id]=t})),this.shown_folders=this.folders,this.current_folder=this.root_folder})).catch((e=>{throw e}))}))},init_auth(e,t){return n(this,void 0,void 0,(function*(){yield i.iT.init_auth(e,t).then((e=>{window.open(e.url,"_blank")})).catch((e=>{throw e}))}))},deleteStore(e){i.iT.deleteStore(e).then((e=>{this.current_store={}})).catch((e=>{throw e}))},setStoreType(e){this.store_type=e},setFolder(e){this.saved_folders.forEach((t=>{e.id==t.folder_id&&(e.saved=1)})),this.current_folder=e,this.folder_selection=!1},get_paths_for_org(){this.saved_folders=[],i.iT.get_paths_for_org().then((e=>{e.paths.forEach((e=>{const t={label:e.path_name,folder_id:e.path_id,store_id:e.store,id:e.id};this.saved_folders.push(t)}))}))},filterFolders(e){""!=e?(this.shown_folders={},Object.values(this.folders).forEach((t=>{t.label.toUpperCase().includes(e.toUpperCase())&&(this.shown_folders[t.id]=t)}))):this.shown_folders=this.folders},saveFolder(e,t){return i.iT.saveFolder(this.current_store.id,e,t)},removeFolder(e){return i.iT.removeFolder(this.current_store.id,e)}}})},76380:(e,t,l)=>{"use strict";l.d(t,{A:()=>m});var a=l(82303),o=l(6044),i=l(24622),s=l(61758),n=l(38734),r=l(24481),d=l(83319),u=l(46162),c=l(85487),p=l(76956),h=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const m=(0,s.pM)({mixins:[r.A,o.A,i.A],data(){return{docrowID:(0,n.KR)(),statusList:[],QualityText:(0,n.KR)(),QualityConfirm:(0,n.KR)(!1)}},methods:{prepareStatusList(){this.statusList["new"]=[],this.statusList["new"]["value"]="new",this.statusList["new"]["class"]="bg-light-green-6",this.statusList["ready_for_review"]=[],this.statusList["ready_for_review"]["value"]="ready_for_review",this.statusList["ready_for_review"]["class"]="bg-amber-7",this.statusList["ready_for_validation"]=[],this.statusList["ready_for_validation"]["value"]="ready_for_validation",this.statusList["ready_for_validation"]["class"]="bg-amber-7",this.statusList["validating"]=[],this.statusList["validating"]["value"]="ready_for_validation",this.statusList["validating"]["class"]="bg-amber-7",this.statusList["validated_pending_export"]=[],this.statusList["validated_pending_export"]["value"]="validated_pending_export",this.statusList["validated_pending_export"]["class"]="bg-amber-7",this.statusList["pending_confirmation"]=[],this.statusList["pending_confirmation"]["value"]="pending_confirmation",this.statusList["pending_confirmation"]["class"]="bg-amber-7",this.statusList["finished"]=[],this.statusList["finished"]["value"]="finished",this.statusList["finished"]["class"]="bg-light-green-6",this.statusList["workflow"]=[],this.statusList["workflow"]["value"]="workflow",this.statusList["workflow"]["class"]="bg-light-green-6",this.statusList["completed"]=[],this.statusList["completed"]["value"]="completed",this.statusList["completed"]["class"]="bg-light-green-6",this.statusList["restarted"]=[],this.statusList["restarted"]["value"]="restarted",this.statusList["restarted"]["class"]="bg-blue-14",this.statusList["error"]=[],this.statusList["error"]["value"]="error",this.statusList["error"]["class"]="bg-red-13",this.statusList["export_error"]=[],this.statusList["export_error"]["value"]="error",this.statusList["export_error"]["class"]="bg-red-13",this.statusList["restart_export"]=[],this.statusList["restart_export"]["value"]="restart_export",this.statusList["restart_export"]["class"]="bg-blue-14",this.statusList["running"]=[],this.statusList["running"]["value"]="running",this.statusList["running"]["class"]="bg-blue-14",this.statusList["in_progress"]=[],this.statusList["in_progress"]["value"]="in_progress",this.statusList["in_progress"]["class"]="bg-blue-14",this.statusList["restart_in_progress"]=[],this.statusList["restart_in_progress"]["value"]="restart_in_progress",this.statusList["restart_in_progress"]["class"]="bg-blue-14",this.statusList["exporting"]=[],this.statusList["exporting"]["value"]="exporting",this.statusList["exporting"]["class"]="bg-blue-14",this.statusList["archived"]=[],this.statusList["archived"]["value"]="archived",this.statusList["archived"]["class"]="bg-blue-14"},setDisplayDocType(e){const t=this.getDocTypeForDisplay(e),l=this.displayDocType(t);return String(l)},getStatusClass(e){let t="";const l=this.statusList.hasOwnProperty(e);return t=l?this.statusList[e]["class"]:"bg-grey",t+=" dashboard-status-badge",t},setRowStyle(e){if(e.hasOwnProperty("export_data_fetched")&&!0===e["export_data_fetched"]&&!this.isStatusError(e["status"]))return"exported-row"},getClassesForColumn(e,t){const l="";let a="running"===e?"enableDrawingRectangle":"cursor-pointer";return a+="filename"===t?" text-primary ":"",a+=t.includes("amount")?" text-right ":"",a+" "+l},rowClick(e,t,l){const a=e["id"]?e["id"]:e["doc_id"];e["id"]=a;const o=e["status"];e["doc_type"];t&&this.storeCurrentRowId(a),"archived"!==o?this.isStatusError(o)?this.toDocumentErrorView(e):"classified"!==o?"validating"!==o&&"validated_pending_export"!==o&&"pending_watcher_export"!==o&&("pending_confirmation"!==o?"validated_pending_approval"!==o?"approved_pending_second_approval"!==o?"in_review"!==o?l?this.handleMediRoutes(e):"rejected"!==o?p.Yd.includes(o)&&(e.layout||"ready_for_validation"===o?this.toValidationScreen(a):p.B2.includes(o)&&this.viewRecord(a)):this.toRejectedScreen(a):this.toInReviewScreen(a,e):this.toPendingSecondApprovalScreen(a,e):this.toPendingApprovalScreen(a,e):this.getQualityInfos(e)):this.toDocumentClassifiyView(e):this.toValidationScreen(a)},storeCurrentRowId(e){this.setDataToSessionStorage("selected_row_id",e)},isStatusError(e){return"error"===e||"export_error"===e},toRejectedScreen(e){this.$router.push("/rejected/"+e)},toFlowScreen(e){this.storeCurrentRowId(e),this.$router.push("/doc_flow/"+e)},toValidationScreen(e){this.setDataToSessionStorage("view_mod","edit"),this.$router.push("/field_validation_v1/"+e)},toInReviewScreen(e,t){this.$router.push("/in_review/"+e)},toPendingApprovalScreen(e,t){return h(this,void 0,void 0,(function*(){if(t.layout){const l=(0,d.wt)(),a=yield l.getSettingsByDocTypeAndSettingKey(t.doc_type,p.WE);a?this.$router.push("/ready_for_approval_v3/"+e):this.$router.push("/ready-for-approval-v2/"+e)}else this.setDataToSessionStorage("view_mod","edit"),this.$router.push("/ready-for-approval/"+e)}))},toPendingSecondApprovalScreen(e,t){t.layout?this.$router.push("/ready-for-second-approval-v2/"+e):(this.setDataToSessionStorage("view_mod","edit"),this.$router.push("/ready-for-second-approval/"+e))},toMediValidationScreen(e){this.$router.push("/field_validation/"+e)},toMediValidationV3Screen(e){this.$router.push("/medi_order_v3/"+e)},toDocumentErrorView(e){this.$router.push("/document_error/"+e["id"])},toDocumentClassifiyView(e){this.$router.push("/document_classifiy/"+e["id"])},handleMediRoutes(e){e.layout?this.toMediValidationV3Screen(e["id"]):this.showErrorToast(this.$t("pages.messages.NO_LAYOUT_DEFINATION_FOUND"))},viewRecord(e){this.setDataToSessionStorage("view_mod","view"),this.$router.push("/field_validation_v1/"+e)},getQualityInfos(e){return h(this,void 0,void 0,(function*(){if("pending_confirmation"==e["status"]){const t=yield(0,u.L3)(),l=yield a.A.get((0,c.MV)(u.FH.get_error_infos),{headers:{Authorization:t},params:{doc_id:e["id"]}});return l["data"]["row"]=e,1===Object.keys(l).length?(this.QualityText={message:"None"},!1):(this.QualityText=l["data"],this.QualityConfirm=!0,this.docrowID=l["data"]["row"]["id"],!0)}}))},updateDashboardTable(e,t){if("update"===e.action){const l=t.map((e=>e.id)),a=e.data.doc_id;l.includes(a)&&t.forEach((t=>{t.id===e.data.doc_id&&(t.status=e.data.status,t.last_modified_on=e.data.last_modified_on)}))}}}})},95548:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var a=l(46162);const o="081217929822";var i=l(78652),s=l(24622);const n={methods:{help_center(){window.open(a.FH.support_ticket)},call_us(){window.open(a.FH.support_ticket)},get_call_us_support_no(){return o},copyText(){const e=this.get_call_us_support_no();e.trim().length>0&&(0,i.A)(e).then((()=>{s.A.methods.showSuccessToast("Copied!")}))}}}},30582:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var a=l(61758),o=l(38734),i=l(18698),s=l(62488);const n=(0,a.pM)({mixins:[],data(){return{docrowID:(0,o.KR)(),statusList:[],QualityText:(0,o.KR)(),QualityConfirm:(0,o.KR)(!1)}},methods:{setRowStyle(e){if(e.hasOwnProperty("export_data_fetched")&&!0===e["export_data_fetched"])return"exported-row"},goToDetails(e){const t=null===e||void 0===e?void 0:e.id;this.$router.push(`/invoice/details/${t}`)},statusColor(e){return e?(0,s.qY)(e.toLowerCase())||"primary":""},showPaymentMethodLabel(e){let t;const l=i.paymentMtdAPOptions.find((t=>t.value===e));return t=l?l.label:"",t},displayLastSixDigits(e){let t;return t=e&&e.length>6?e.slice(-6):e,t},dateFields(e){const t=["invoice_date","invoice_due_date","payment_date"];return t.some((t=>e.includes(t)))},getClassesForColumn(e){let t="";return t+="document_id"===e?" text-primary ":"",t+=e.includes("amount")?" text-right ":"",t}},setup(){return{}}})},42102:(e,t,l)=>{"use strict";l.d(t,{y:()=>u});var a=l(82303),o=l(1659),i=l(46162),s=l(11470),n=l(85487),r=l(38734),d=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const u=(0,o.nY)("term_and_condtion",{state:()=>({loading:!1,url:(0,r.KR)("")}),getters:{},actions:{uploadTerm(e){return d(this,void 0,void 0,(function*(){this.loading=!0;try{yield s.U4.upload(e),yield this.getFile(),this.loading=!1}catch(t){logInfo(t,"error")}}))},getFile(){return d(this,void 0,void 0,(function*(){try{const e=(0,n.I)();if(e){const t=yield a.A.get(`${i.VA}/supplier/get_terms_and_conditions?org_id=${e}`,{responseType:"blob"});if(t){const e=t.headers["content-type"],l=e&&e.includes("application/json");if(l){const e=yield t.data.text();if(e){const t=JSON.parse(e);if(!1===t.success)return}}else this.url=window.URL.createObjectURL(t.data)}}}catch(e){logError("Failed to fetch file:",e)}}))}}})},18698:(e,t,l)=>{"use strict";l.r(t),l.d(t,{activityCodeOptions:()=>f,addressTypeOptions:()=>p,autoInvApprovOptions:()=>k,cashDiscountTermOptions:()=>_,countryOptions:()=>r,currencyOptions:()=>b,dateCodeOptions:()=>S,dateFormatOptions:()=>u,dateTypeOptions:()=>A,deliveryMethodOptions:()=>E,deliveryTermOptions:()=>F,exchangeRateOptions:()=>v,getStatusByValue:()=>I,getSupplierGroupLabelByValue:()=>n,invApprovCond1Options:()=>w,invApprovCond2Options:()=>C,invApprovCond3Options:()=>x,languageOptions:()=>d,mediaProfileOptions:()=>c,metaFormConstant:()=>O,metaStepsConstant:()=>M,orderTypeOptions:()=>L,paymentMtdAPOptions:()=>g,paymentTermOptions:()=>m,referenceTypeOptions:()=>h,stateOptions:()=>o,supplierConstant:()=>T,supplierGroupOptions:()=>s,supplierStatuses:()=>D,taxWithholdMtdOptions:()=>y,zipGeoCodeOptions:()=>i});const a=[{state:"",name:"",country:""},{state:"",name:"n/a",country:"AR"},{state:"AS",name:"AMERICAN SOMOA",country:"AS"},{state:"",name:"n/a",country:"AT"},{state:"",name:"n/a",country:"AU"},{state:"NS",name:"New South Wales",country:"AU"},{state:"NT",name:"Nth Territories",country:"AU"},{state:"QL",name:"Queensland",country:"AU"},{state:"SA",name:"Sth Australia",country:"AU"},{state:"TS",name:"Tasmania",country:"AU"},{state:"VI",name:"Victoria",country:"AU"},{state:"WA",name:"West Australia",country:"AU"},{state:"BB",name:"BARBADOS",country:"BB"},{state:"",name:"n/a",country:"BE"},{state:"",name:"n/a",country:"BG"},{state:"BM",name:"BERMUDA",country:"BM"},{state:"",name:"n/a",country:"BR"},{state:"SP",name:"SAO PAULO",country:"BR"},{state:"AB",name:"ALBERTA",country:"CA"},{state:"BC",name:"BR COLUMBIA",country:"CA"},{state:"MB",name:"MANITOBA",country:"CA"},{state:"NB",name:"NEW BRUNSWICK",country:"CA"},{state:"NL",name:"NEWFDLND/LABR",country:"CA"},{state:"NS",name:"NOVA SCOTIA",country:"CA"},{state:"NT",name:"NW TERRITORIES",country:"CA"},{state:"NU",name:"NUNAVUT",country:"CA"},{state:"ON",name:"ONTARIO",country:"CA"},{state:"PE",name:"PR EDWARD IS",country:"CA"},{state:"QC",name:"QUEBEC",country:"CA"},{state:"SK",name:"SASKATCHEWAN",country:"CA"},{state:"YT",name:"YUKON",country:"CA"},{state:"ZZ",name:"UNIDENTIFIED -",country:"CA"},{state:"",name:"n/a",country:"CG"},{state:"",name:"n/a",country:"CH"},{state:"",name:"n/a",country:"CI"},{state:"",name:"n/a",country:"CL"},{state:"",name:"n/a",country:"CM"},{state:"",name:"n/a",country:"CN"},{state:"",name:"n/a",country:"CO"},{state:"",name:"n/a",country:"CR"},{state:"CW",name:"CURACAO",country:"CW"},{state:"",name:"n/a",country:"CY"},{state:"",name:"n/a",country:"CZ"},{state:"",name:"n/a",country:"DE"},{state:"BB",name:"Brandenburg",country:"DE"},{state:"BE",name:"Berlin",country:"DE"},{state:"BW",name:"Baden-Wrttembg",country:"DE"},{state:"BY",name:"Bayern",country:"DE"},{state:"HB",name:"Bremen",country:"DE"},{state:"HE",name:"Hessen",country:"DE"},{state:"HH",name:"Hamburg",country:"DE"},{state:"MV",name:"Mecklenburg-Vpn",country:"DE"},{state:"NI",name:"Niedersachsen",country:"DE"},{state:"NW",name:"Nordrhein-Westf",country:"DE"},{state:"RP",name:"Rheinland-Pfalz",country:"DE"},{state:"SH",name:"Schleswig-Holst",country:"DE"},{state:"SL",name:"Saarland",country:"DE"},{state:"SN",name:"Sachsen",country:"DE"},{state:"ST",name:"Sachsen-Anhalt",country:"DE"},{state:"TH",name:"Thringen",country:"DE"},{state:"",name:"n/a",country:"DK"},{state:"",name:"n/a",country:"EE"},{state:"",name:"n/a",country:"EG"},{state:"",name:"n/a",country:"ES"},{state:"",name:"n/a",country:"FI"},{state:"",name:"n/a",country:"FR"},{state:"",name:"n/a",country:"GA"},{state:"",name:"n/a",country:"GB"},{state:"",name:"n/a",country:"GR"},{state:"GU",name:"GUATEMALA",country:"GT"},{state:"GU",name:"GUAM",country:"GU"},{state:"",name:"n/a",country:"HK"},{state:"HN",name:"HONDURAS",country:"HN"},{state:"",name:"n/a",country:"HR"},{state:"",name:"n/a",country:"HU"},{state:"",name:"n/a",country:"ID"},{state:"",name:"n/a",country:"IE"},{state:"CL",name:"Co. Clare",country:"IE"},{state:"CO",name:"Co. Cork",country:"IE"},{state:"CR",name:"Co. Carlow",country:"IE"},{state:"CV",name:"Co. Cavan",country:"IE"},{state:"DO",name:"Co. Donegal",country:"IE"},{state:"DU",name:"Co. Dublin",country:"IE"},{state:"GA",name:"Co. Galway",country:"IE"},{state:"KD",name:"Co. Kildare",country:"IE"},{state:"KE",name:"Co. Kerry",country:"IE"},{state:"KL",name:"Co. Kilkenny",country:"IE"},{state:"LA",name:"Co. Laois",country:"IE"},{state:"LE",name:"Co. Leitrim",country:"IE"},{state:"LI",name:"Co. Limerick",country:"IE"},{state:"LN",name:"Co. Longford",country:"IE"},{state:"LT",name:"Co. Louth",country:"IE"},{state:"MA",name:"Co. Mayo",country:"IE"},{state:"ME",name:"Co. Meath",country:"IE"},{state:"MO",name:"Co. Monaghan",country:"IE"},{state:"OF",name:"Co. Offaly",country:"IE"},{state:"RO",name:"Co. Roscommon",country:"IE"},{state:"SL",name:"Co. Sligo",country:"IE"},{state:"TI",name:"Co. Tipperary",country:"IE"},{state:"WA",name:"Co. Waterford",country:"IE"},{state:"WI",name:"Co. Wicklow",country:"IE"},{state:"WS",name:"Co. Westmeath",country:"IE"},{state:"WX",name:"Co. Wexford",country:"IE"},{state:"ZZ",name:"UNIDENTIFIED -",country:"IE"},{state:"",name:"n/a",country:"IL"},{state:"",name:"n/a",country:"IN"},{state:"",name:"n/a",country:"IS"},{state:"",name:"n/a",country:"IT"},{state:"",name:"n/a",country:"JP"},{state:"JP",name:"JAPAN",country:"JP"},{state:"",name:"n/a",country:"KR"},{state:"KR",name:"KOREA, REPUBLIC",country:"KR"},{state:"",name:"n/a",country:"LB"},{state:"",name:"n/a",country:"LT"},{state:"",name:"n/a",country:"LU"},{state:"",name:"n/a",country:"LV"},{state:"",name:"n/a",country:"MA"},{state:"MH",name:"MARSHALL ISLAND",country:"MH"},{state:"",name:"n/a",country:"MT"},{state:"",name:"n/a",country:"MX"},{state:"MX",name:"MEXICO",country:"MX"},{state:"",name:"n/a",country:"MY"},{state:"",name:"n/a",country:"NE"},{state:"",name:"n/a",country:"NG"},{state:"",name:"n/a",country:"NL"},{state:"",name:"n/a",country:"NO"},{state:"",name:"n/a",country:"NZ"},{state:"PA",name:"PANAMA",country:"PA"},{state:"",name:"n/a",country:"PE"},{state:"",name:"n/a",country:"PH"},{state:"",name:"n/a",country:"PK"},{state:"",name:"n/a",country:"PL"},{state:"",name:"n/a",country:"PR"},{state:"PR",name:"PUERTO RICO",country:"PR"},{state:"",name:"n/a",country:"PT"},{state:"",name:"n/a",country:"RO"},{state:"",name:"n/a",country:"RU"},{state:"",name:"n/a",country:"SA"},{state:"",name:"n/a",country:"SE"},{state:"",name:"n/a",country:"SG"},{state:"",name:"n/a",country:"SI"},{state:"",name:"n/a",country:"SK"},{state:"",name:"n/a",country:"SN"},{state:"",name:"n/a",country:"TH"},{state:"",name:"n/a",country:"TN"},{state:"",name:"n/a",country:"TR"},{state:"",name:"n/a",country:"TW"},{state:"AK",name:"ALASKA",country:"US"},{state:"AL",name:"ALABAMA",country:"US"},{state:"AR",name:"ARKANSAS",country:"US"},{state:"AZ",name:"ARIZONA",country:"US"},{state:"CA",name:"CALIFORNIA",country:"US"},{state:"CO",name:"COLORADO",country:"US"},{state:"CT",name:"CONNECTICUT",country:"US"},{state:"DC",name:"DISTRICT OF COL",country:"US"},{state:"DE",name:"DELAWARE",country:"US"},{state:"FL",name:"FLORIDA",country:"US"},{state:"GA",name:"GEORGIA",country:"US"},{state:"HI",name:"HAWAII",country:"US"},{state:"IA",name:"IOWA",country:"US"},{state:"ID",name:"IDAHO",country:"US"},{state:"IL",name:"ILLINOIS",country:"US"},{state:"IN",name:"INDIANA",country:"US"},{state:"KS",name:"KANSAS",country:"US"},{state:"KY",name:"KENTUCKY",country:"US"},{state:"LA",name:"LOUISIANA",country:"US"},{state:"MA",name:"MASSACHUSETTS",country:"US"},{state:"MD",name:"MARYLAND",country:"US"},{state:"ME",name:"MAINE",country:"US"},{state:"MI",name:"MICHIGAN",country:"US"},{state:"MN",name:"MINNESOTA",country:"US"},{state:"MO",name:"MISSOURI",country:"US"},{state:"MS",name:"MISSISSIPPI",country:"US"},{state:"MT",name:"MONTANA",country:"US"},{state:"NC",name:"NORTH CAROLINA",country:"US"},{state:"ND",name:"NORTH DAKOTA",country:"US"},{state:"NE",name:"NEBRASKA",country:"US"},{state:"NH",name:"NEW HAMPSHIRE",country:"US"},{state:"NJ",name:"NEW JERSEY",country:"US"},{state:"NM",name:"NEW MEXICO",country:"US"},{state:"NV",name:"NEVADA",country:"US"},{state:"NY",name:"NEW YORK",country:"US"},{state:"OH",name:"OHIO",country:"US"},{state:"OK",name:"OKLAHOMA",country:"US"},{state:"OR",name:"OREGON",country:"US"},{state:"PA",name:"PENNSYLVANIA",country:"US"},{state:"PR",name:"Puerto Rico",country:"US"},{state:"RI",name:"RHODE ISLAND",country:"US"},{state:"SC",name:"SOUTH CAROLINA",country:"US"},{state:"SD",name:"SOUTH DAKOTA",country:"US"},{state:"TN",name:"TENNESSEE",country:"US"},{state:"TX",name:"TEXAS",country:"US"},{state:"UT",name:"UTAH",country:"US"},{state:"VA",name:"VIRGINIA",country:"US"},{state:"VT",name:"VERMONT",country:"US"},{state:"WA",name:"WASHINGTON",country:"US"},{state:"WI",name:"WISCONSIN",country:"US"},{state:"WV",name:"WEST VIRGINIA",country:"US"},{state:"WY",name:"WYOMING",country:"US"},{state:"ZZ",name:"UNIDENTIFIED -",country:"US"},{state:"",name:"n/a",country:"VE"},{state:"VI",name:"VIRGIN ISLAND",country:"VI"},{state:"",name:"n/a",country:"VN"},{state:"",name:"n/a",country:"ZA"}],o=e=>{if(!e){const e=a.filter((e=>"n/a"!==e.name));return e.map((e=>({label:e.name,value:e.state})))}const t=a.filter((t=>t.country===e));return t.map((e=>({label:e.name,value:e.state})))},i=[{value:"",label:"1"},{value:"501",label:"361030501"},{value:"544",label:"361030544"},{value:"1001",label:"250131001"},{value:"1002",label:"250151002"},{value:"1003",label:"250151003"},{value:"1004",label:"250151004"},{value:"1005",label:"250271005"},{value:"1007",label:"250151007"},{value:"1008",label:"250131008"},{value:"1009",label:"250131009"},{value:"1010",label:"250131010"},{value:"1011",label:"250131011"},{value:"1012",label:"250151012"},{value:"1013",label:"250131013"},{value:"1014",label:"250131014"},{value:"1020",label:"250131020"},{value:"1021",label:"250131021"},{value:"1022",label:"250131022"},{value:"1026",label:"250151026"},{value:"1027",label:"250151027"},{value:"1028",label:"250131028"},{value:"1029",label:"250031029"},{value:"1030",label:"250131030"},{value:"1031",label:"250271031"},{value:"1032",label:"250151032"},{value:"1033",label:"250151033"},{value:"1034",label:"250131034"},{value:"1035",label:"250151035"},{value:"1036",label:"250131036"},{value:"1037",label:"250271037"},{value:"1038",label:"250151038"},{value:"1039",label:"250151039"},{value:"1040",label:"250131040"},{value:"1041",label:"250131041"},{value:"1050",label:"250151050"},{value:"1053",label:"250151053"},{value:"1054",label:"250111054"},{value:"1056",label:"250131056"},{value:"1057",label:"250131057"},{value:"1059",label:"250151059"},{value:"1060",label:"250151060"},{value:"1061",label:"250151061"},{value:"1062",label:"250151062"},{value:"1063",label:"250151063"},{value:"1066",label:"250151066"},{value:"1068",label:"250271068"},{value:"1069",label:"250131069"},{value:"1070",label:"250151070"},{value:"1071",label:"250131071"},{value:"1072",label:"250111072"},{value:"1073",label:"250151073"},{value:"1074",label:"250271074"},{value:"1075",label:"250151075"},{value:"1077",label:"250131077"},{value:"1079",label:"250131079"},{value:"1080",label:"250131080"},{value:"1081",label:"250131081"},{value:"1082",label:"250151082"},{value:"1083",label:"250271083"},{value:"1084",label:"250151084"},{value:"1085",label:"250131085"},{value:"1086",label:"250131086"},{value:"1088",label:"250151088"},{value:"1089",label:"250131089"},{value:"1090",label:"250131090"},{value:"1092",label:"250271092"},{value:"1093",label:"250111093"},{value:"1094",label:"250271094"},{value:"1095",label:"250131095"},{value:"1096",label:"250151096"},{value:"1097",label:"250131097"},{value:"1098",label:"250151098"},{value:"1101",label:"250131101"},{value:"1102",label:"250131102"},{value:"1103",label:"250131103"},{value:"1104",label:"250131104"},{value:"1105",label:"250131105"},{value:"1106",label:"250131106"},{value:"1107",label:"250131107"},{value:"1108",label:"250131108"},{value:"1109",label:"250131109"},{value:"1111",label:"250131111"},{value:"1115",label:"250131115"},{value:"1116",label:"250131116"},{value:"1118",label:"250131118"},{value:"1119",label:"250131119"},{value:"1128",label:"250131128"},{value:"1129",label:"250131129"},{value:"1138",label:"250131138"},{value:"1139",label:"250131139"},{value:"1144",label:"250131144"},{value:"1151",label:"250131151"},{value:"1152",label:"250131152"},{value:"1199",label:"250131199"},{value:"1201",label:"250031201"},{value:"1202",label:"250031202"},{value:"1203",label:"250031203"},{value:"1220",label:"250031220"},{value:"1222",label:"250031222"},{value:"1223",label:"250031223"},{value:"1224",label:"250031224"},{value:"1225",label:"250031225"},{value:"1226",label:"250031226"},{value:"1227",label:"250031227"},{value:"1229",label:"250031229"},{value:"1230",label:"250031230"},{value:"1235",label:"250031235"},{value:"1236",label:"250031236"},{value:"1237",label:"250031237"},{value:"1238",label:"250031238"},{value:"1240",label:"250031240"},{value:"1242",label:"250031242"},{value:"1243",label:"250151243"},{value:"1244",label:"250031244"},{value:"1245",label:"250031245"},{value:"1247",label:"250031247"},{value:"1252",label:"250031252"},{value:"1253",label:"250031253"},{value:"1254",label:"250031254"},{value:"1255",label:"250031255"},{value:"1256",label:"250031256"},{value:"1257",label:"250031257"},{value:"1258",label:"250031258"},{value:"1259",label:"250031259"},{value:"1260",label:"250031260"},{value:"1262",label:"250031262"},{value:"1263",label:"250031263"},{value:"1264",label:"250031264"},{value:"1266",label:"250031266"},{value:"1267",label:"250031267"},{value:"1270",label:"250031270"},{value:"1301",label:"250111301"},{value:"1302",label:"250111302"},{value:"1330",label:"250111330"},{value:"1331",label:"250271331"},{value:"1337",label:"250111337"},{value:"1338",label:"250111338"},{value:"1339",label:"250111339"},{value:"1340",label:"250111340"},{value:"1341",label:"250111341"},{value:"1342",label:"250111342"},{value:"1343",label:"250031343"},{value:"1344",label:"250111344"},{value:"1346",label:"250111346"},{value:"1347",label:"250111347"},{value:"1349",label:"250111349"},{value:"1350",label:"250111350"},{value:"1351",label:"250111351"},{value:"1354",label:"250111354"},{value:"1355",label:"250111355"},{value:"1360",label:"250111360"},{value:"1364",label:"250111364"},{value:"1366",label:"250271366"},{value:"1367",label:"250111367"},{value:"1368",label:"250271368"},{value:"1370",label:"250111370"},{value:"1373",label:"250111373"},{value:"1375",label:"250111375"},{value:"1376",label:"250111376"},{value:"1378",label:"250111378"},{value:"1379",label:"250111379"},{value:"1380",label:"250111380"},{value:"1420",label:"250271420"},{value:"1430",label:"250271430"},{value:"1431",label:"250171431"},{value:"1432",label:"250171432"},{value:"1434",label:"250271434"},{value:"1436",label:"250271436"},{value:"1438",label:"250271438"},{value:"1440",label:"250271440"},{value:"1441",label:"250271441"},{value:"1450",label:"250171450"},{value:"1451",label:"250271451"},{value:"1452",label:"250271452"},{value:"1453",label:"250271453"},{value:"1460",label:"250171460"},{value:"1462",label:"250271462"},{value:"1463",label:"250171463"},{value:"1464",label:"250171464"},{value:"1467",label:"250271467"},{value:"1468",label:"250271468"},{value:"1469",label:"250171469"},{value:"1470",label:"250171470"},{value:"1471",label:"250171471"},{value:"1472",label:"250171472"},{value:"1473",label:"250271473"},{value:"1474",label:"250171474"},{value:"1475",label:"250271475"},{value:"1501",label:"250271501"},{value:"1503",label:"250271503"},{value:"1504",label:"250271504"},{value:"1505",label:"250271505"},{value:"1506",label:"250271506"},{value:"1507",label:"250271507"},{value:"1508",label:"250271508"},{value:"1509",label:"250271509"},{value:"1510",label:"250271510"},{value:"1515",label:"250271515"},{value:"1516",label:"250271516"},{value:"1518",label:"250271518"},{value:"1519",label:"250271519"},{value:"1520",label:"250271520"},{value:"1521",label:"250131521"},{value:"1522",label:"250271522"},{value:"1523",label:"250271523"},{value:"1524",label:"250271524"},{value:"1525",label:"250271525"},{value:"1526",label:"250271526"},{value:"1527",label:"250271527"},{value:"1529",label:"250271529"},{value:"1531",label:"250271531"},{value:"1532",label:"250271532"},{value:"1534",label:"250271534"},{value:"1535",label:"250271535"},{value:"1536",label:"250271536"},{value:"1537",label:"250271537"},{value:"1538",label:"250271538"},{value:"1540",label:"250271540"},{value:"1541",label:"250271541"},{value:"1542",label:"250271542"},{value:"1543",label:"250271543"},{value:"1545",label:"250271545"},{value:"1546",label:"250271546"},{value:"1550",label:"250271550"},{value:"1560",label:"250271560"},{value:"1561",label:"250271561"},{value:"1562",label:"250271562"},{value:"1564",label:"250271564"},{value:"1566",label:"250271566"},{value:"1568",label:"250271568"},{value:"1569",label:"250271569"},{value:"1570",label:"250271570"},{value:"1571",label:"250271571"},{value:"1581",label:"250271581"},{value:"1583",label:"250271583"},{value:"1585",label:"250271585"},{value:"1586",label:"250271586"},{value:"1588",label:"250271588"},{value:"1590",label:"250271590"},{value:"1601",label:"250271601"},{value:"1602",label:"250271602"},{value:"1603",label:"250271603"},{value:"1604",label:"250271604"},{value:"1605",label:"250271605"},{value:"1606",label:"250271606"},{value:"1607",label:"250271607"},{value:"1608",label:"250271608"},{value:"1609",label:"250271609"},{value:"1610",label:"250271610"},{value:"1611",label:"250271611"},{value:"1612",label:"250271612"},{value:"1613",label:"250271613"},{value:"1614",label:"250271614"},{value:"1615",label:"250271615"},{value:"1653",label:"250271653"},{value:"1655",label:"250271655"},{value:"1701",label:"250171701"},{value:"1702",label:"250171702"},{value:"1703",label:"250171703"},{value:"1704",label:"250171704"},{value:"1705",label:"250171705"},{value:"1718",label:"250171718"},{value:"1719",label:"250171719"},{value:"1720",label:"250171720"},{value:"1721",label:"250171721"},{value:"1730",label:"250171730"},{value:"1731",label:"250171731"},{value:"1740",label:"250271740"},{value:"1741",label:"250171741"},{value:"1742",label:"250171742"},{value:"1745",label:"250271745"},{value:"1746",label:"250171746"},{value:"1747",label:"250271747"},{value:"1748",label:"250171748"},{value:"1749",label:"250171749"},{value:"1752",label:"250171752"},{value:"1754",label:"250171754"},{value:"1756",label:"250271756"},{value:"1757",label:"250271757"},{value:"1760",label:"250171760"},{value:"1770",label:"250171770"},{value:"1772",label:"250271772"},{value:"1773",label:"250171773"},{value:"1775",label:"250171775"},{value:"1776",label:"250171776"},{value:"1778",label:"250171778"},{value:"1784",label:"250171784"},{value:"1801",label:"250171801"},{value:"1803",label:"250171803"},{value:"1805",label:"250171805"},{value:"1810",label:"250091810"},{value:"1812",label:"250091812"},{value:"1813",label:"250171813"},{value:"1815",label:"250171815"},{value:"1821",label:"250171821"},{value:"1822",label:"250171822"},{value:"1824",label:"250171824"},{value:"1826",label:"250171826"},{value:"1827",label:"250171827"},{value:"1830",label:"250091830"},{value:"1831",label:"250091831"},{value:"1832",label:"250091832"},{value:"1833",label:"250091833"},{value:"1834",label:"250091834"},{value:"1835",label:"250091835"},{value:"1840",label:"250091840"},{value:"1841",label:"250091841"},{value:"1842",label:"250091842"},{value:"1843",label:"250091843"},{value:"1844",label:"250091844"},{value:"1845",label:"250091845"},{value:"1850",label:"250171850"},{value:"1851",label:"250171851"},{value:"1852",label:"250171852"},{value:"1853",label:"250171853"},{value:"1854",label:"250171854"},{value:"1860",label:"250091860"},{value:"1862",label:"250171862"},{value:"1863",label:"250171863"},{value:"1864",label:"250171864"},{value:"1865",label:"250171865"},{value:"1866",label:"250171866"},{value:"1867",label:"250171867"},{value:"1876",label:"250171876"},{value:"1879",label:"250171879"},{value:"1880",label:"250171880"},{value:"1885",label:"250091885"},{value:"1886",label:"250171886"},{value:"1887",label:"250171887"},{value:"1888",label:"250171888"},{value:"1889",label:"250171889"},{value:"1890",label:"250171890"},{value:"1899",label:"250091899"},{value:"1901",label:"250091901"},{value:"1902",label:"250091902"},{value:"1903",label:"250091903"},{value:"1904",label:"250091904"},{value:"1905",label:"250091905"},{value:"1906",label:"250091906"},{value:"1907",label:"250091907"},{value:"1908",label:"250091908"},{value:"1910",label:"250091910"},{value:"1913",label:"250091913"},{value:"1915",label:"250091915"},{value:"1921",label:"250091921"},{value:"1922",label:"250091922"},{value:"1923",label:"250091923"},{value:"1929",label:"250091929"},{value:"1930",label:"250091930"},{value:"1931",label:"250091931"},{value:"1936",label:"250091936"},{value:"1937",label:"250091937"},{value:"1938",label:"250091938"},{value:"1940",label:"250091940"},{value:"1944",label:"250091944"},{value:"1945",label:"250091945"},{value:"1949",label:"250091949"},{value:"1950",label:"250091950"},{value:"1951",label:"250091951"},{value:"1952",label:"250091952"},{value:"1960",label:"250091960"},{value:"1961",label:"250091961"},{value:"1965",label:"250091965"},{value:"1966",label:"250091966"},{value:"1969",label:"250091969"},{value:"1970",label:"250091970"},{value:"1971",label:"250091971"},{value:"1982",label:"250091982"},{value:"1983",label:"250091983"},{value:"1984",label:"250091984"},{value:"1985",label:"250091985"},{value:"2018",label:"250232018"},{value:"2019",label:"250212019"},{value:"2020",label:"250232020"},{value:"2021",label:"250212021"},{value:"2025",label:"250212025"},{value:"2026",label:"250212026"},{value:"2027",label:"250212027"},{value:"2030",label:"250212030"},{value:"2032",label:"250212032"},{value:"2035",label:"250212035"},{value:"2038",label:"250212038"},{value:"2040",label:"250232040"},{value:"2041",label:"250232041"},{value:"2043",label:"250232043"},{value:"2044",label:"250232044"},{value:"2045",label:"250232045"},{value:"2047",label:"250232047"},{value:"2048",label:"250052048"},{value:"2050",label:"250232050"},{value:"2051",label:"250232051"},{value:"2052",label:"250212052"},{value:"2053",label:"250212053"},{value:"2054",label:"250212054"},{value:"2055",label:"250232055"},{value:"2056",label:"250212056"},{value:"2059",label:"250232059"},{value:"2060",label:"250232060"},{value:"2061",label:"250232061"},{value:"2062",label:"250212062"},{value:"2065",label:"250232065"},{value:"2066",label:"250232066"},{value:"2067",label:"250212067"},{value:"2070",label:"250212070"},{value:"2071",label:"250212071"},{value:"2072",label:"250212072"},{value:"2081",label:"250212081"},{value:"2090",label:"250212090"},{value:"2093",label:"250212093"},{value:"2108",label:"250252108"},{value:"2109",label:"250252109"},{value:"2110",label:"250252110"},{value:"2111",label:"250252111"},{value:"2112",label:"250252112"},{value:"2113",label:"250252113"},{value:"2114",label:"250252114"},{value:"2115",label:"250252115"},{value:"2116",label:"250252116"},{value:"2117",label:"250252117"},{value:"2118",label:"250252118"},{value:"2119",label:"250252119"},{value:"2120",label:"250252120"},{value:"2121",label:"250252121"},{value:"2122",label:"250252122"},{value:"2123",label:"250252123"},{value:"2124",label:"250252124"},{value:"2125",label:"250252125"},{value:"2126",label:"250252126"},{value:"2127",label:"250252127"},{value:"2128",label:"250252128"},{value:"2129",label:"250252129"},{value:"2130",label:"250252130"},{value:"2131",label:"250252131"},{value:"2132",label:"250252132"},{value:"2133",label:"250252133"},{value:"2134",label:"250252134"},{value:"2135",label:"250252135"},{value:"2136",label:"250252136"},{value:"2137",label:"250252137"},{value:"2138",label:"250172138"},{value:"2139",label:"250172139"},{value:"2140",label:"250172140"},{value:"2141",label:"250172141"},{value:"2142",label:"250172142"},{value:"2143",label:"250172143"},{value:"2144",label:"250172144"},{value:"2145",label:"250172145"},{value:"2148",label:"250172148"},{value:"2149",label:"250172149"},{value:"2150",label:"250252150"},{value:"2151",label:"250252151"},{value:"2152",label:"250252152"},{value:"2153",label:"250172153"},{value:"2155",label:"250172155"},{value:"2156",label:"250172156"},{value:"2163",label:"250252163"},{value:"2169",label:"250212169"},{value:"2170",label:"250212170"},{value:"2171",label:"250212171"},{value:"2176",label:"250172176"},{value:"2180",label:"250172180"},{value:"2184",label:"250212184"},{value:"2185",label:"250212185"},{value:"2186",label:"250212186"},{value:"2187",label:"250212187"},{value:"2188",label:"250212188"},{value:"2189",label:"250212189"},{value:"2190",label:"250212190"},{value:"2191",label:"250212191"},{value:"2196",label:"250252196"},{value:"2199",label:"250252199"},{value:"2201",label:"250252201"},{value:"2203",label:"250252203"},{value:"2204",label:"250252204"},{value:"2205",label:"250252205"},{value:"2206",label:"250252206"},{value:"2210",label:"250252210"},{value:"2211",label:"250252211"},{value:"2212",label:"250252212"},{value:"2215",label:"250252215"},{value:"2217",label:"250252217"},{value:"2222",label:"250252222"},{value:"2238",label:"250172238"},{value:"2241",label:"250252241"},{value:"2266",label:"250252266"},{value:"2269",label:"250212269"},{value:"2283",label:"250252283"},{value:"2284",label:"250252284"},{value:"2293",label:"250252293"},{value:"2297",label:"250252297"},{value:"2298",label:"250252298"},{value:"2301",label:"250232301"},{value:"2302",label:"250232302"},{value:"2303",label:"250232303"},{value:"2304",label:"250232304"},{value:"2305",label:"250232305"},{value:"2322",label:"250212322"},{value:"2324",label:"250232324"},{value:"2325",label:"250232325"},{value:"2327",label:"250232327"},{value:"2330",label:"250232330"},{value:"2331",label:"250232331"},{value:"2332",label:"250232332"},{value:"2333",label:"250232333"},{value:"2334",label:"250052334"},{value:"2337",label:"250232337"},{value:"2338",label:"250232338"},{value:"2339",label:"250232339"},{value:"2340",label:"250232340"},{value:"2341",label:"250232341"},{value:"2343",label:"250212343"},{value:"2344",label:"250232344"},{value:"2345",label:"250232345"},{value:"2346",label:"250232346"},{value:"2347",label:"250232347"},{value:"2348",label:"250232348"},{value:"2349",label:"250232349"},{value:"2350",label:"250232350"},{value:"2351",label:"250232351"},{value:"2355",label:"250232355"},{value:"2356",label:"250052356"},{value:"2357",label:"250052357"},{value:"2358",label:"250232358"},{value:"2359",label:"250232359"},{value:"2360",label:"250232360"},{value:"2361",label:"250232361"},{value:"2362",label:"250232362"},{value:"2364",label:"250232364"},{value:"2366",label:"250232366"},{value:"2367",label:"250232367"},{value:"2368",label:"250212368"},{value:"2370",label:"250232370"},{value:"2375",label:"250052375"},{value:"2379",label:"250232379"},{value:"2381",label:"250232381"},{value:"2382",label:"250232382"},{value:"2420",label:"250172420"},{value:"2421",label:"250172421"},{value:"2445",label:"250212445"},{value:"2446",label:"250212446"},{value:"2447",label:"250212447"},{value:"2451",label:"250172451"},{value:"2452",label:"250172452"},{value:"2453",label:"250172453"},{value:"2454",label:"250172454"},{value:"2455",label:"250172455"},{value:"2456",label:"250172456"},{value:"2457",label:"250212457"},{value:"2458",label:"250172458"},{value:"2459",label:"250172459"},{value:"2460",label:"250172460"},{value:"2461",label:"250172461"},{value:"2462",label:"250172462"},{value:"2464",label:"250172464"},{value:"2465",label:"250172465"},{value:"2466",label:"250172466"},{value:"2467",label:"250172467"},{value:"2468",label:"250172468"},{value:"2471",label:"250172471"},{value:"2472",label:"250172472"},{value:"2474",label:"250172474"},{value:"2475",label:"250172475"},{value:"2476",label:"250172476"},{value:"2477",label:"250172477"},{value:"2478",label:"250172478"},{value:"2479",label:"250172479"},{value:"2481",label:"250212481"},{value:"2482",label:"250212482"},{value:"2492",label:"250212492"},{value:"2493",label:"250172493"},{value:"2494",label:"250212494"},{value:"2495",label:"250172495"},{value:"2532",label:"250012532"},{value:"2534",label:"250012534"},{value:"2535",label:"250072535"},{value:"2536",label:"250012536"},{value:"2537",label:"250012537"},{value:"2538",label:"250232538"},{value:"2539",label:"250072539"},{value:"2540",label:"250012540"},{value:"2541",label:"250012541"},{value:"2542",label:"250012542"},{value:"2543",label:"250012543"},{value:"2552",label:"250072552"},{value:"2553",label:"250012553"},{value:"2554",label:"250192554"},{value:"2556",label:"250012556"},{value:"2557",label:"250072557"},{value:"2558",label:"250232558"},{value:"2559",label:"250012559"},{value:"2561",label:"250012561"},{value:"2562",label:"250012562"},{value:"2563",label:"250012563"},{value:"2564",label:"250192564"},{value:"2568",label:"250072568"},{value:"2571",label:"250232571"},{value:"2574",label:"250012574"},{value:"2575",label:"250072575"},{value:"2576",label:"250232576"},{value:"2584",label:"250192584"},{value:"2601",label:"250012601"},{value:"2630",label:"250012630"},{value:"2631",label:"250012631"},{value:"2632",label:"250012632"},{value:"2633",label:"250012633"},{value:"2634",label:"250012634"},{value:"2635",label:"250012635"},{value:"2637",label:"250012637"},{value:"2638",label:"250012638"},{value:"2639",label:"250012639"},{value:"2641",label:"250012641"},{value:"2642",label:"250012642"},{value:"2643",label:"250012643"},{value:"2644",label:"250012644"},{value:"2645",label:"250012645"},{value:"2646",label:"250012646"},{value:"2647",label:"250012647"},{value:"2648",label:"250012648"},{value:"2649",label:"250012649"},{value:"2650",label:"250012650"},{value:"2651",label:"250012651"},{value:"2652",label:"250012652"},{value:"2653",label:"250012653"},{value:"2655",label:"250012655"},{value:"2657",label:"250012657"},{value:"2659",label:"250012659"},{value:"2660",label:"250012660"},{value:"2661",label:"250012661"},{value:"2662",label:"250012662"},{value:"2663",label:"250012663"},{value:"2664",label:"250012664"},{value:"2666",label:"250012666"},{value:"2667",label:"250012667"},{value:"2668",label:"250012668"},{value:"2669",label:"250012669"},{value:"2670",label:"250012670"},{value:"2671",label:"250012671"},{value:"2672",label:"250012672"},{value:"2673",label:"250012673"},{value:"2675",label:"250012675"},{value:"2702",label:"250052702"},{value:"2703",label:"250052703"},{value:"2712",label:"250052712"},{value:"2713",label:"250072713"},{value:"2714",label:"250052714"},{value:"2715",label:"250052715"},{value:"2717",label:"250052717"},{value:"2718",label:"250052718"},{value:"2719",label:"250052719"},{value:"2720",label:"250052720"},{value:"2721",label:"250052721"},{value:"2722",label:"250052722"},{value:"2723",label:"250052723"},{value:"2724",label:"250052724"},{value:"2725",label:"250052725"},{value:"2726",label:"250052726"},{value:"2738",label:"250232738"},{value:"2739",label:"250232739"},{value:"2740",label:"250052740"},{value:"2741",label:"250052741"},{value:"2742",label:"250052742"},{value:"2743",label:"250052743"},{value:"2744",label:"250052744"},{value:"2745",label:"250052745"},{value:"2746",label:"250052746"},{value:"2747",label:"250052747"},{value:"2748",label:"250052748"},{value:"2760",label:"250052760"},{value:"2761",label:"250052761"},{value:"2762",label:"250212762"},{value:"2763",label:"250052763"},{value:"2764",label:"250052764"},{value:"2766",label:"250052766"},{value:"2767",label:"250052767"},{value:"2768",label:"250052768"},{value:"2769",label:"250052769"},{value:"2770",label:"250232770"},{value:"2771",label:"250052771"},{value:"2777",label:"250052777"},{value:"2779",label:"250052779"},{value:"2780",label:"250052780"},{value:"2790",label:"250052790"},{value:"2791",label:"250052791"},{value:"2801",label:"440052801"},{value:"2802",label:"440072802"},{value:"2804",label:"440092804"},{value:"2806",label:"440012806"},{value:"2807",label:"440092807"},{value:"2808",label:"440092808"},{value:"2809",label:"440012809"},{value:"2812",label:"440092812"},{value:"2813",label:"440092813"},{value:"2814",label:"440072814"},{value:"2815",label:"440072815"},{value:"2816",label:"440032816"},{value:"2817",label:"440032817"},{value:"2818",label:"440032818"},{value:"2822",label:"440092822"},{value:"2823",label:"440072823"},{value:"2824",label:"440072824"},{value:"2825",label:"440072825"},{value:"2826",label:"440072826"},{value:"2827",label:"440032827"},{value:"2828",label:"440072828"},{value:"2829",label:"440072829"},{value:"2830",label:"440072830"},{value:"2831",label:"440072831"},{value:"2832",label:"440092832"},{value:"2833",label:"440092833"},{value:"2835",label:"440052835"},{value:"2836",label:"440092836"},{value:"2837",label:"440052837"},{value:"2838",label:"440072838"},{value:"2839",label:"440072839"},{value:"2840",label:"440052840"},{value:"2841",label:"440052841"},{value:"2842",label:"440052842"},{value:"2852",label:"440092852"},{value:"2857",label:"440072857"},{value:"2858",label:"440072858"},{value:"2859",label:"440072859"},{value:"2860",label:"440072860"},{value:"2861",label:"440072861"},{value:"2862",label:"440072862"},{value:"2863",label:"440072863"},{value:"2864",label:"440072864"},{value:"2865",label:"440072865"},{value:"2871",label:"440052871"},{value:"2872",label:"440052872"},{value:"2873",label:"440092873"},{value:"2874",label:"440092874"},{value:"2875",label:"440092875"},{value:"2876",label:"440072876"},{value:"2877",label:"440092877"},{value:"2878",label:"440052878"},{value:"2879",label:"440092879"},{value:"2880",label:"440092880"},{value:"2881",label:"440092881"},{value:"2882",label:"440092882"},{value:"2883",label:"440092883"},{value:"2885",label:"440012885"},{value:"2886",label:"440032886"},{value:"2887",label:"440032887"},{value:"2888",label:"440032888"},{value:"2889",label:"440032889"},{value:"2891",label:"440092891"},{value:"2892",label:"440092892"},{value:"2893",label:"440032893"},{value:"2894",label:"440092894"},{value:"2895",label:"440072895"},{value:"2896",label:"440072896"},{value:"2898",label:"440092898"},{value:"2901",label:"440072901"},{value:"2902",label:"440072902"},{value:"2903",label:"440072903"},{value:"2904",label:"440072904"},{value:"2905",label:"440072905"},{value:"2906",label:"440072906"},{value:"2907",label:"440072907"},{value:"2908",label:"440072908"},{value:"2909",label:"440072909"},{value:"2910",label:"440072910"},{value:"2911",label:"440072911"},{value:"2912",label:"440072912"},{value:"2914",label:"440072914"},{value:"2915",label:"440072915"},{value:"2916",label:"440072916"},{value:"2917",label:"440072917"},{value:"2918",label:"440072918"},{value:"2919",label:"440072919"},{value:"2920",label:"440072920"},{value:"2921",label:"440072921"},{value:"2940",label:"440072940"},{value:"3031",label:"330113031"},{value:"3032",label:"330153032"},{value:"3033",label:"330113033"},{value:"3034",label:"330153034"},{value:"3036",label:"330153036"},{value:"3037",label:"330153037"},{value:"3038",label:"330153038"},{value:"3040",label:"330153040"},{value:"3041",label:"330153041"},{value:"3042",label:"330153042"},{value:"3043",label:"330113043"},{value:"3044",label:"330153044"},{value:"3045",label:"330113045"},{value:"3046",label:"330133046"},{value:"3047",label:"330113047"},{value:"3048",label:"330113048"},{value:"3049",label:"330113049"},{value:"3051",label:"330113051"},{value:"3052",label:"330113052"},{value:"3053",label:"330153053"},{value:"3054",label:"330113054"},{value:"3055",label:"330113055"},{value:"3057",label:"330113057"},{value:"3060",label:"330113060"},{value:"3061",label:"330113061"},{value:"3062",label:"330113062"},{value:"3063",label:"330113063"},{value:"3064",label:"330113064"},{value:"3070",label:"330113070"},{value:"3071",label:"330113071"},{value:"3073",label:"330153073"},{value:"3076",label:"330113076"},{value:"3077",label:"330153077"},{value:"3079",label:"330153079"},{value:"3082",label:"330113082"},{value:"3084",label:"330113084"},{value:"3086",label:"330113086"},{value:"3087",label:"330153087"},{value:"3101",label:"330113101"},{value:"3102",label:"330113102"},{value:"3103",label:"330113103"},{value:"3104",label:"330113104"},{value:"3105",label:"330113105"},{value:"3106",label:"330133106"},{value:"3108",label:"330113108"},{value:"3109",label:"330113109"},{value:"3110",label:"330113110"},{value:"3111",label:"330113111"},{value:"3215",label:"330093215"},{value:"3216",label:"330133216"},{value:"3217",label:"330093217"},{value:"3218",label:"330013218"},{value:"3220",label:"330013220"},{value:"3221",label:"330133221"},{value:"3222",label:"330093222"},{value:"3223",label:"330093223"},{value:"3224",label:"330133224"},{value:"3225",label:"330013225"},{value:"3226",label:"330013226"},{value:"3227",label:"330033227"},{value:"3229",label:"330133229"},{value:"3230",label:"330133230"},{value:"3231",label:"330133231"},{value:"3233",label:"330133233"},{value:"3234",label:"330133234"},{value:"3235",label:"330133235"},{value:"3237",label:"330013237"},{value:"3238",label:"330093238"},{value:"3240",label:"330093240"},{value:"3241",label:"330093241"},{value:"3242",label:"330133242"},{value:"3243",label:"330133243"},{value:"3244",label:"330113244"},{value:"3245",label:"330093245"},{value:"3246",label:"330013246"},{value:"3247",label:"330013247"},{value:"3249",label:"330013249"},{value:"3251",label:"330093251"},{value:"3252",label:"330013252"},{value:"3253",label:"330013253"},{value:"3254",label:"330033254"},{value:"3255",label:"330133255"},{value:"3256",label:"330013256"},{value:"3257",label:"330133257"},{value:"3258",label:"330133258"},{value:"3259",label:"330033259"},{value:"3260",label:"330133260"},{value:"3261",label:"330153261"},{value:"3262",label:"330093262"},{value:"3263",label:"330133263"},{value:"3264",label:"330093264"},{value:"3266",label:"330093266"},{value:"3268",label:"330133268"},{value:"3269",label:"330013269"},{value:"3272",label:"330133272"},{value:"3273",label:"330133273"},{value:"3275",label:"330133275"},{value:"3276",label:"330013276"},{value:"3278",label:"330133278"},{value:"3279",label:"330093279"},{value:"3280",label:"330193280"},{value:"3281",label:"330113281"},{value:"3282",label:"330093282"},{value:"3284",label:"330193284"},{value:"3285",label:"330093285"},{value:"3287",label:"330133287"},{value:"3289",label:"330013289"},{value:"3290",label:"330153290"},{value:"3291",label:"330153291"},{value:"3293",label:"330093293"},{value:"3298",label:"330013298"},{value:"3299",label:"330013299"},{value:"3301",label:"330133301"},{value:"3302",label:"330133302"},{value:"3303",label:"330133303"},{value:"3304",label:"330133304"},{value:"3305",label:"330133305"},{value:"3307",label:"330133307"},{value:"3431",label:"330053431"},{value:"3435",label:"330053435"},{value:"3440",label:"330113440"},{value:"3441",label:"330053441"},{value:"3442",label:"330113442"},{value:"3443",label:"330053443"},{value:"3444",label:"330053444"},{value:"3445",label:"330053445"},{value:"3446",label:"330053446"},{value:"3447",label:"330053447"},{value:"3448",label:"330053448"},{value:"3449",label:"330113449"},{value:"3450",label:"330053450"},{value:"3451",label:"330053451"},{value:"3452",label:"330053452"},{value:"3455",label:"330053455"},{value:"3456",label:"330053456"},{value:"3457",label:"330053457"},{value:"3458",label:"330113458"},{value:"3461",label:"330053461"},{value:"3462",label:"330053462"},{value:"3464",label:"330053464"},{value:"3465",label:"330053465"},{value:"3466",label:"330053466"},{value:"3467",label:"330053467"},{value:"3468",label:"330113468"},{value:"3469",label:"330053469"},{value:"3470",label:"330053470"},{value:"3561",label:"330093561"},{value:"3570",label:"330073570"},{value:"3574",label:"330093574"},{value:"3575",label:"330073575"},{value:"3576",label:"330073576"},{value:"3579",label:"330073579"},{value:"3580",label:"330093580"},{value:"3581",label:"330073581"},{value:"3582",label:"330073582"},{value:"3583",label:"330073583"},{value:"3584",label:"330073584"},{value:"3585",label:"330093585"},{value:"3586",label:"330093586"},{value:"3588",label:"330073588"},{value:"3589",label:"330073589"},{value:"3590",label:"330073590"},{value:"3592",label:"330073592"},{value:"3593",label:"330073593"},{value:"3595",label:"330073595"},{value:"3597",label:"330073597"},{value:"3598",label:"330073598"},{value:"3601",label:"330193601"},{value:"3602",label:"330053602"},{value:"3603",label:"330193603"},{value:"3604",label:"330053604"},{value:"3605",label:"330193605"},{value:"3607",label:"330193607"},{value:"3608",label:"330053608"},{value:"3609",label:"330053609"},{value:"3740",label:"330093740"},{value:"3741",label:"330093741"},{value:"3743",label:"330193743"},{value:"3745",label:"330193745"},{value:"3746",label:"330193746"},{value:"3748",label:"330093748"},{value:"3749",label:"330093749"},{value:"3750",label:"330093750"},{value:"3751",label:"330193751"},{value:"3752",label:"330193752"},{value:"3753",label:"330193753"},{value:"3754",label:"330193754"},{value:"3755",label:"330093755"},{value:"3756",label:"330093756"},{value:"3765",label:"330093765"},{value:"3766",label:"330093766"},{value:"3768",label:"330093768"},{value:"3769",label:"330093769"},{value:"3770",label:"330193770"},{value:"3771",label:"330093771"},{value:"3773",label:"330193773"},{value:"3774",label:"330093774"},{value:"3777",label:"330093777"},{value:"3779",label:"330093779"},{value:"3780",label:"330093780"},{value:"3781",label:"330193781"},{value:"3782",label:"330193782"},{value:"3784",label:"330093784"},{value:"3785",label:"330093785"},{value:"3801",label:"330153801"},{value:"3802",label:"330153802"},{value:"3803",label:"330153803"},{value:"3804",label:"330153804"},{value:"3809",label:"330013809"},{value:"3810",label:"330013810"},{value:"3811",label:"330153811"},{value:"3812",label:"330033812"},{value:"3813",label:"330033813"},{value:"3814",label:"330033814"},{value:"3815",label:"330173815"},{value:"3816",label:"330033816"},{value:"3817",label:"330033817"},{value:"3818",label:"330033818"},{value:"3819",label:"330153819"},{value:"3820",label:"330173820"},{value:"3821",label:"330173821"},{value:"3822",label:"330173822"},{value:"3823",label:"330173823"},{value:"3824",label:"330173824"},{value:"3825",label:"330173825"},{value:"3826",label:"330153826"},{value:"3827",label:"330153827"},{value:"3830",label:"330033830"},{value:"3832",label:"330033832"},{value:"3833",label:"330153833"},{value:"3835",label:"330173835"},{value:"3836",label:"330033836"},{value:"3837",label:"330013837"},{value:"3838",label:"330033838"},{value:"3839",label:"330173839"},{value:"3840",label:"330153840"},{value:"3841",label:"330153841"},{value:"3842",label:"330153842"},{value:"3843",label:"330153843"},{value:"3844",label:"330153844"},{value:"3845",label:"330033845"},{value:"3846",label:"330033846"},{value:"3847",label:"330033847"},{value:"3848",label:"330153848"},{value:"3849",label:"330033849"},{value:"3850",label:"330033850"},{value:"3851",label:"330173851"},{value:"3852",label:"330173852"},{value:"3853",label:"330033853"},{value:"3854",label:"330153854"},{value:"3855",label:"330173855"},{value:"3856",label:"330153856"},{value:"3857",label:"330153857"},{value:"3858",label:"330153858"},{value:"3859",label:"330153859"},{value:"3860",label:"330033860"},{value:"3861",label:"330173861"},{value:"3862",label:"330153862"},{value:"3864",label:"330033864"},{value:"3865",label:"330153865"},{value:"3866",label:"330173866"},{value:"3867",label:"330173867"},{value:"3868",label:"330173868"},{value:"3869",label:"330173869"},{value:"3870",label:"330153870"},{value:"3871",label:"330153871"},{value:"3872",label:"330033872"},{value:"3873",label:"330153873"},{value:"3874",label:"330153874"},{value:"3875",label:"330033875"},{value:"3878",label:"330173878"},{value:"3882",label:"330033882"},{value:"3883",label:"330033883"},{value:"3884",label:"330173884"},{value:"3885",label:"330153885"},{value:"3886",label:"330033886"},{value:"3887",label:"330173887"},{value:"3890",label:"330033890"},{value:"3894",label:"330033894"},{value:"3896",label:"330033896"},{value:"3897",label:"330033897"},{value:"3901",label:"230313901"},{value:"3902",label:"230313902"},{value:"3903",label:"230313903"},{value:"3904",label:"230313904"},{value:"3905",label:"230313905"},{value:"3906",label:"230313906"},{value:"3907",label:"230313907"},{value:"3908",label:"230313908"},{value:"3909",label:"230313909"},{value:"3910",label:"230313910"},{value:"3911",label:"230313911"},{value:"4001",label:"230314001"},{value:"4002",label:"230314002"},{value:"4003",label:"230054003"},{value:"4004",label:"230314004"},{value:"4005",label:"230314005"},{value:"4006",label:"230314006"},{value:"4007",label:"230314007"},{value:"4008",label:"230234008"},{value:"4009",label:"230054009"},{value:"4010",label:"230174010"},{value:"4011",label:"230054011"},{value:"4013",label:"230054013"},{value:"4014",label:"230314014"},{value:"4015",label:"230054015"},{value:"4016",label:"230174016"},{value:"4017",label:"230054017"},{value:"4019",label:"230054019"},{value:"4020",label:"230314020"},{value:"4021",label:"230054021"},{value:"4022",label:"230174022"},{value:"4024",label:"230054024"},{value:"4027",label:"230314027"},{value:"4028",label:"230314028"},{value:"4029",label:"230054029"},{value:"4030",label:"230314030"},{value:"4032",label:"230054032"},{value:"4033",label:"230054033"},{value:"4034",label:"230054034"},{value:"4037",label:"230174037"},{value:"4038",label:"230054038"},{value:"4039",label:"230054039"},{value:"4040",label:"230054040"},{value:"4041",label:"230174041"},{value:"4042",label:"230314042"},{value:"4043",label:"230314043"},{value:"4046",label:"230314046"},{value:"4047",label:"230314047"},{value:"4048",label:"230314048"},{value:"4049",label:"230314049"},{value:"4050",label:"230054050"},{value:"4051",label:"230174051"},{value:"4054",label:"230314054"},{value:"4055",label:"230054055"},{value:"4056",label:"230314056"},{value:"4057",label:"230054057"},{value:"4061",label:"230314061"},{value:"4062",label:"230054062"},{value:"4063",label:"230314063"},{value:"4064",label:"230314064"},{value:"4066",label:"230054066"},{value:"4068",label:"230174068"},{value:"4069",label:"230054069"},{value:"4070",label:"230054070"},{value:"4071",label:"230054071"},{value:"4072",label:"230314072"},{value:"4073",label:"230314073"},{value:"4074",label:"230054074"},{value:"4076",label:"230314076"},{value:"4077",label:"230054077"},{value:"4078",label:"230054078"},{value:"4079",label:"230054079"},{value:"4082",label:"230054082"},{value:"4083",label:"230314083"},{value:"4084",label:"230054084"},{value:"4085",label:"230054085"},{value:"4086",label:"230234086"},{value:"4087",label:"230314087"},{value:"4088",label:"230174088"},{value:"4090",label:"230314090"},{value:"4091",label:"230054091"},{value:"4092",label:"230054092"},{value:"4093",label:"230314093"},{value:"4094",label:"230314094"},{value:"4095",label:"230314095"},{value:"4096",label:"230054096"},{value:"4097",label:"230054097"},{value:"4098",label:"230054098"},{value:"4101",label:"230054101"},{value:"4102",label:"230054102"},{value:"4103",label:"230054103"},{value:"4104",label:"230054104"},{value:"4105",label:"230054105"},{value:"4106",label:"230054106"},{value:"4107",label:"230054107"},{value:"4108",label:"230054108"},{value:"4109",label:"230054109"},{value:"4110",label:"230054110"},{value:"4112",label:"230054112"},{value:"4116",label:"230054116"},{value:"4122",label:"230054122"},{value:"4123",label:"230054123"},{value:"4124",label:"230054124"},{value:"4210",label:"230014210"},{value:"4211",label:"230014211"},{value:"4212",label:"230014212"},{value:"4216",label:"230174216"},{value:"4217",label:"230174217"},{value:"4219",label:"230174219"},{value:"4220",label:"230174220"},{value:"4221",label:"230174221"},{value:"4222",label:"230014222"},{value:"4223",label:"230014223"},{value:"4224",label:"230174224"},{value:"4225",label:"230074225"},{value:"4226",label:"230174226"},{value:"4227",label:"230174227"},{value:"4228",label:"230014228"},{value:"4230",label:"230014230"},{value:"4231",label:"230174231"},{value:"4234",label:"230074234"},{value:"4236",label:"230014236"},{value:"4237",label:"230174237"},{value:"4238",label:"230174238"},{value:"4239",label:"230074239"},{value:"4240",label:"230014240"},{value:"4241",label:"230014241"},{value:"4243",label:"230014243"},{value:"4250",label:"230014250"},{value:"4252",label:"230014252"},{value:"4253",label:"230014253"},{value:"4254",label:"230014254"},{value:"4255",label:"230174255"},{value:"4256",label:"230014256"},{value:"4257",label:"230174257"},{value:"4258",label:"230014258"},{value:"4259",label:"230114259"},{value:"4260",label:"230054260"},{value:"4261",label:"230174261"},{value:"4262",label:"230074262"},{value:"4263",label:"230014263"},{value:"4265",label:"230114265"},{value:"4266",label:"230014266"},{value:"4267",label:"230174267"},{value:"4268",label:"230174268"},{value:"4270",label:"230174270"},{value:"4271",label:"230174271"},{value:"4274",label:"230014274"},{value:"4275",label:"230174275"},{value:"4276",label:"230174276"},{value:"4280",label:"230014280"},{value:"4281",label:"230174281"},{value:"4282",label:"230014282"},{value:"4284",label:"230114284"},{value:"4285",label:"230074285"},{value:"4286",label:"230174286"},{value:"4287",label:"230234287"},{value:"4288",label:"230014288"},{value:"4289",label:"230174289"},{value:"4290",label:"230174290"},{value:"4291",label:"230014291"},{value:"4292",label:"230174292"},{value:"4294",label:"230074294"},{value:"4330",label:"230114330"},{value:"4332",label:"230114332"},{value:"4333",label:"230114333"},{value:"4336",label:"230114336"},{value:"4338",label:"230114338"},{value:"4341",label:"230154341"},{value:"4342",label:"230154342"},{value:"4343",label:"230114343"},{value:"4344",label:"230114344"},{value:"4345",label:"230114345"},{value:"4346",label:"230114346"},{value:"4347",label:"230114347"},{value:"4348",label:"230154348"},{value:"4349",label:"230114349"},{value:"4350",label:"230114350"},{value:"4351",label:"230114351"},{value:"4352",label:"230114352"},{value:"4353",label:"230154353"},{value:"4354",label:"230274354"},{value:"4355",label:"230114355"},{value:"4357",label:"230234357"},{value:"4358",label:"230114358"},{value:"4359",label:"230114359"},{value:"4360",label:"230114360"},{value:"4363",label:"230114363"},{value:"4364",label:"230114364"},{value:"4401",label:"230194401"},{value:"4402",label:"230194402"},{value:"4406",label:"230214406"},{value:"4408",label:"230094408"},{value:"4410",label:"230194410"},{value:"4411",label:"230194411"},{value:"4412",label:"230194412"},{value:"4413",label:"230294413"},{value:"4414",label:"230214414"},{value:"4415",label:"230214415"},{value:"4416",label:"230094416"},{value:"4417",label:"230194417"},{value:"4418",label:"230194418"},{value:"4419",label:"230194419"},{value:"4420",label:"230094420"},{value:"4421",label:"230094421"},{value:"4422",label:"230194422"},{value:"4424",label:"230034424"},{value:"4426",label:"230214426"},{value:"4427",label:"230194427"},{value:"4428",label:"230194428"},{value:"4429",label:"230094429"},{value:"4430",label:"230194430"},{value:"4431",label:"230094431"},{value:"4434",label:"230194434"},{value:"4435",label:"230194435"},{value:"4438",label:"230274438"},{value:"4441",label:"230214441"},{value:"4442",label:"230214442"},{value:"4443",label:"230214443"},{value:"4444",label:"230194444"},{value:"4448",label:"230194448"},{value:"4449",label:"230194449"},{value:"4450",label:"230194450"},{value:"4451",label:"230034451"},{value:"4453",label:"230194453"},{value:"4454",label:"230294454"},{value:"4455",label:"230194455"},{value:"4456",label:"230194456"},{value:"4457",label:"230194457"},{value:"4459",label:"230194459"},{value:"4460",label:"230194460"},{value:"4461",label:"230194461"},{value:"4462",label:"230194462"},{value:"4463",label:"230214463"},{value:"4464",label:"230214464"},{value:"4468",label:"230194468"},{value:"4469",label:"230194469"},{value:"4471",label:"230034471"},{value:"4472",label:"230094472"},{value:"4473",label:"230194473"},{value:"4474",label:"230194474"},{value:"4475",label:"230194475"},{value:"4476",label:"230094476"},{value:"4478",label:"230254478"},{value:"4479",label:"230214479"},{value:"4481",label:"230214481"},{value:"4485",label:"230214485"},{value:"4487",label:"230194487"},{value:"4488",label:"230194488"},{value:"4489",label:"230194489"},{value:"4490",label:"230294490"},{value:"4491",label:"230294491"},{value:"4492",label:"230294492"},{value:"4493",label:"230194493"},{value:"4495",label:"230194495"},{value:"4496",label:"230274496"},{value:"4497",label:"230034497"},{value:"4530",label:"230234530"},{value:"4535",label:"230154535"},{value:"4537",label:"230154537"},{value:"4538",label:"230154538"},{value:"4539",label:"230154539"},{value:"4541",label:"230154541"},{value:"4543",label:"230154543"},{value:"4544",label:"230154544"},{value:"4547",label:"230134547"},{value:"4548",label:"230234548"},{value:"4549",label:"230154549"},{value:"4551",label:"230154551"},{value:"4553",label:"230154553"},{value:"4554",label:"230154554"},{value:"4555",label:"230154555"},{value:"4556",label:"230154556"},{value:"4558",label:"230154558"},{value:"4562",label:"230234562"},{value:"4563",label:"230134563"},{value:"4564",label:"230154564"},{value:"4565",label:"230234565"},{value:"4568",label:"230154568"},{value:"4570",label:"230154570"},{value:"4571",label:"230154571"},{value:"4572",label:"230154572"},{value:"4573",label:"230154573"},{value:"4574",label:"230134574"},{value:"4575",label:"230154575"},{value:"4576",label:"230154576"},{value:"4578",label:"230154578"},{value:"4579",label:"230234579"},{value:"4605",label:"230094605"},{value:"4606",label:"230294606"},{value:"4607",label:"230094607"},{value:"4609",label:"230094609"},{value:"4611",label:"230294611"},{value:"4612",label:"230094612"},{value:"4613",label:"230094613"},{value:"4614",label:"230094614"},{value:"4616",label:"230094616"},{value:"4617",label:"230094617"},{value:"4619",label:"230294619"},{value:"4622",label:"230294622"},{value:"4623",label:"230294623"},{value:"4624",label:"230094624"},{value:"4625",label:"230094625"},{value:"4626",label:"230294626"},{value:"4627",label:"230094627"},{value:"4628",label:"230294628"},{value:"4629",label:"230094629"},{value:"4630",label:"230294630"},{value:"4631",label:"230294631"},{value:"4634",label:"230094634"},{value:"4635",label:"230094635"},{value:"4637",label:"230294637"},{value:"4640",label:"230094640"},{value:"4642",label:"230094642"},{value:"4643",label:"230294643"},{value:"4644",label:"230094644"},{value:"4645",label:"230134645"},{value:"4646",label:"230094646"},{value:"4648",label:"230294648"},{value:"4649",label:"230294649"},{value:"4650",label:"230094650"},{value:"4652",label:"230294652"},{value:"4653",label:"230094653"},{value:"4654",label:"230294654"},{value:"4655",label:"230294655"},{value:"4657",label:"230294657"},{value:"4658",label:"230294658"},{value:"4660",label:"230094660"},{value:"4662",label:"230094662"},{value:"4664",label:"230094664"},{value:"4666",label:"230294666"},{value:"4667",label:"230294667"},{value:"4668",label:"230294668"},{value:"4669",label:"230094669"},{value:"4671",label:"230294671"},{value:"4672",label:"230094672"},{value:"4673",label:"230094673"},{value:"4674",label:"230094674"},{value:"4675",label:"230094675"},{value:"4676",label:"230094676"},{value:"4677",label:"230094677"},{value:"4679",label:"230094679"},{value:"4680",label:"230294680"},{value:"4681",label:"230094681"},{value:"4683",label:"230094683"},{value:"4684",label:"230094684"},{value:"4685",label:"230094685"},{value:"4686",label:"230294686"},{value:"4691",label:"230294691"},{value:"4693",label:"230094693"},{value:"4694",label:"230294694"},{value:"4730",label:"230034730"},{value:"4732",label:"230034732"},{value:"4733",label:"230034733"},{value:"4734",label:"230034734"},{value:"4735",label:"230034735"},{value:"4736",label:"230034736"},{value:"4737",label:"230034737"},{value:"4738",label:"230034738"},{value:"4739",label:"230034739"},{value:"4740",label:"230034740"},{value:"4741",label:"230034741"},{value:"4742",label:"230034742"},{value:"4743",label:"230034743"},{value:"4744",label:"230034744"},{value:"4745",label:"230034745"},{value:"4746",label:"230034746"},{value:"4747",label:"230034747"},{value:"4750",label:"230034750"},{value:"4751",label:"230034751"},{value:"4756",label:"230034756"},{value:"4757",label:"230034757"},{value:"4758",label:"230034758"},{value:"4760",label:"230034760"},{value:"4761",label:"230034761"},{value:"4762",label:"230034762"},{value:"4763",label:"230034763"},{value:"4764",label:"230034764"},{value:"4765",label:"230194765"},{value:"4766",label:"230034766"},{value:"4768",label:"230034768"},{value:"4769",label:"230034769"},{value:"4772",label:"230034772"},{value:"4773",label:"230034773"},{value:"4774",label:"230034774"},{value:"4775",label:"230034775"},{value:"4776",label:"230034776"},{value:"4777",label:"230194777"},{value:"4779",label:"230034779"},{value:"4780",label:"230034780"},{value:"4781",label:"230034781"},{value:"4783",label:"230034783"},{value:"4785",label:"230034785"},{value:"4786",label:"230034786"},{value:"4787",label:"230034787"},{value:"4841",label:"230134841"},{value:"4843",label:"230134843"},{value:"4847",label:"230134847"},{value:"4848",label:"230274848"},{value:"4849",label:"230274849"},{value:"4850",label:"230274850"},{value:"4851",label:"230134851"},{value:"4852",label:"230154852"},{value:"4853",label:"230134853"},{value:"4854",label:"230134854"},{value:"4855",label:"230134855"},{value:"4856",label:"230134856"},{value:"4858",label:"230134858"},{value:"4859",label:"230134859"},{value:"4860",label:"230134860"},{value:"4861",label:"230134861"},{value:"4862",label:"230134862"},{value:"4863",label:"230134863"},{value:"4864",label:"230134864"},{value:"4865",label:"230134865"},{value:"4901",label:"230114901"},{value:"4903",label:"230114903"},{value:"4910",label:"230114910"},{value:"4911",label:"230254911"},{value:"4912",label:"230254912"},{value:"4915",label:"230274915"},{value:"4917",label:"230114917"},{value:"4918",label:"230114918"},{value:"4920",label:"230254920"},{value:"4921",label:"230274921"},{value:"4922",label:"230274922"},{value:"4923",label:"230254923"},{value:"4924",label:"230254924"},{value:"4925",label:"230254925"},{value:"4926",label:"230114926"},{value:"4927",label:"230114927"},{value:"4928",label:"230194928"},{value:"4929",label:"230254929"},{value:"4930",label:"230194930"},{value:"4932",label:"230194932"},{value:"4933",label:"230194933"},{value:"4935",label:"230114935"},{value:"4936",label:"230074936"},{value:"4937",label:"230254937"},{value:"4938",label:"230074938"},{value:"4939",label:"230194939"},{value:"4940",label:"230074940"},{value:"4941",label:"230274941"},{value:"4942",label:"230254942"},{value:"4943",label:"230254943"},{value:"4944",label:"230254944"},{value:"4945",label:"230254945"},{value:"4947",label:"230074947"},{value:"4949",label:"230274949"},{value:"4950",label:"230254950"},{value:"4951",label:"230274951"},{value:"4952",label:"230274952"},{value:"4953",label:"230194953"},{value:"4954",label:"230254954"},{value:"4955",label:"230074955"},{value:"4956",label:"230074956"},{value:"4957",label:"230254957"},{value:"4958",label:"230254958"},{value:"4961",label:"230254961"},{value:"4962",label:"230114962"},{value:"4963",label:"230114963"},{value:"4964",label:"230074964"},{value:"4965",label:"230254965"},{value:"4966",label:"230074966"},{value:"4967",label:"230254967"},{value:"4969",label:"230194969"},{value:"4970",label:"230074970"},{value:"4971",label:"230254971"},{value:"4972",label:"230274972"},{value:"4973",label:"230274973"},{value:"4974",label:"230274974"},{value:"4975",label:"230254975"},{value:"4976",label:"230254976"},{value:"4978",label:"230254978"},{value:"4979",label:"230254979"},{value:"4981",label:"230274981"},{value:"4982",label:"230074982"},{value:"4983",label:"230074983"},{value:"4984",label:"230074984"},{value:"4985",label:"230254985"},{value:"4986",label:"230274986"},{value:"4987",label:"230274987"},{value:"4988",label:"230274988"},{value:"4989",label:"230114989"},{value:"4992",label:"230074992"},{value:"5001",label:"500275001"},{value:"5009",label:"500275009"},{value:"5030",label:"500275030"},{value:"5031",label:"500275031"},{value:"5032",label:"500275032"},{value:"5033",label:"500175033"},{value:"5034",label:"500275034"},{value:"5035",label:"500275035"},{value:"5036",label:"500175036"},{value:"5037",label:"500275037"},{value:"5038",label:"500175038"},{value:"5039",label:"500175039"},{value:"5040",label:"500175040"},{value:"5041",label:"500175041"},{value:"5042",label:"500055042"},{value:"5043",label:"500175043"},{value:"5045",label:"500175045"},{value:"5046",label:"500055046"},{value:"5047",label:"500275047"},{value:"5048",label:"500275048"},{value:"5049",label:"500275049"},{value:"5050",label:"500055050"},{value:"5051",label:"500175051"},{value:"5052",label:"500275052"},{value:"5053",label:"500275053"},{value:"5054",label:"500175054"},{value:"5055",label:"500275055"},{value:"5056",label:"500275056"},{value:"5058",label:"500175058"},{value:"5059",label:"500275059"},{value:"5060",label:"500175060"},{value:"5061",label:"500175061"},{value:"5062",label:"500275062"},{value:"5065",label:"500275065"},{value:"5067",label:"500275067"},{value:"5068",label:"500275068"},{value:"5069",label:"500055069"},{value:"5070",label:"500175070"},{value:"5071",label:"500275071"},{value:"5072",label:"500175072"},{value:"5073",label:"500275073"},{value:"5074",label:"500175074"},{value:"5075",label:"500175075"},{value:"5076",label:"500175076"},{value:"5077",label:"500175077"},{value:"5079",label:"500175079"},{value:"5081",label:"500175081"},{value:"5083",label:"500175083"},{value:"5084",label:"500275084"},{value:"5085",label:"500175085"},{value:"5086",label:"500175086"},{value:"5088",label:"500275088"},{value:"5089",label:"500275089"},{value:"5091",label:"500275091"},{value:"5101",label:"500255101"},{value:"5141",label:"500255141"},{value:"5142",label:"500275142"},{value:"5143",label:"500275143"},{value:"5146",label:"500255146"},{value:"5148",label:"500255148"},{value:"5149",label:"500275149"},{value:"5150",label:"500275150"},{value:"5151",label:"500275151"},{value:"5152",label:"500035152"},{value:"5153",label:"500275153"},{value:"5154",label:"500255154"},{value:"5155",label:"500255155"},{value:"5156",label:"500275156"},{value:"5158",label:"500255158"},{value:"5159",label:"500255159"},{value:"5161",label:"500275161"},{value:"5201",label:"500035201"},{value:"5250",label:"500035250"},{value:"5251",label:"500035251"},{value:"5252",label:"500035252"},{value:"5253",label:"500035253"},{value:"5254",label:"500035254"},{value:"5255",label:"500035255"},{value:"5257",label:"500035257"},{value:"5260",label:"500035260"},{value:"5261",label:"500035261"},{value:"5262",label:"500035262"},{value:"5301",label:"500255301"},{value:"5302",label:"500255302"},{value:"5303",label:"500255303"},{value:"5304",label:"500255304"},{value:"5340",label:"500035340"},{value:"5341",label:"500255341"},{value:"5342",label:"500255342"},{value:"5343",label:"500255343"},{value:"5344",label:"500255344"},{value:"5345",label:"500255345"},{value:"5346",label:"500255346"},{value:"5350",label:"500035350"},{value:"5351",label:"500255351"},{value:"5352",label:"500035352"},{value:"5353",label:"500255353"},{value:"5354",label:"500255354"},{value:"5355",label:"500255355"},{value:"5356",label:"500255356"},{value:"5357",label:"500255357"},{value:"5358",label:"500255358"},{value:"5359",label:"500255359"},{value:"5360",label:"500255360"},{value:"5361",label:"500255361"},{value:"5362",label:"500255362"},{value:"5363",label:"500255363"},{value:"5401",label:"500075401"},{value:"5402",label:"500075402"},{value:"5403",label:"500075403"},{value:"5404",label:"500075404"},{value:"5405",label:"500075405"},{value:"5406",label:"500075406"},{value:"5407",label:"500075407"},{value:"5408",label:"500075408"},{value:"5439",label:"500075439"},{value:"5440",label:"500135440"},{value:"5441",label:"500115441"},{value:"5442",label:"500155442"},{value:"5443",label:"500015443"},{value:"5444",label:"500155444"},{value:"5445",label:"500075445"},{value:"5446",label:"500075446"},{value:"5447",label:"500115447"},{value:"5448",label:"500115448"},{value:"5449",label:"500075449"},{value:"5450",label:"500115450"},{value:"5451",label:"500075451"},{value:"5452",label:"500075452"},{value:"5453",label:"500075453"},{value:"5454",label:"500115454"},{value:"5455",label:"500115455"},{value:"5456",label:"500015456"},{value:"5457",label:"500115457"},{value:"5458",label:"500135458"},{value:"5459",label:"500115459"},{value:"5460",label:"500115460"},{value:"5461",label:"500075461"},{value:"5462",label:"500075462"},{value:"5463",label:"500135463"},{value:"5464",label:"500155464"},{value:"5465",label:"500075465"},{value:"5466",label:"500075466"},{value:"5468",label:"500075468"},{value:"5469",label:"500015469"},{value:"5470",label:"500115470"},{value:"5471",label:"500115471"},{value:"5472",label:"500015472"},{value:"5473",label:"500015473"},{value:"5474",label:"500135474"},{value:"5476",label:"500115476"},{value:"5477",label:"500075477"},{value:"5478",label:"500115478"},{value:"5479",label:"500115479"},{value:"5481",label:"500115481"},{value:"5482",label:"500075482"},{value:"5483",label:"500115483"},{value:"5485",label:"500115485"},{value:"5486",label:"500135486"},{value:"5487",label:"500015487"},{value:"5488",label:"500115488"},{value:"5489",label:"500075489"},{value:"5490",label:"500075490"},{value:"5491",label:"500015491"},{value:"5492",label:"500155492"},{value:"5494",label:"500075494"},{value:"5495",label:"500075495"},{value:"5501",label:"250095501"},{value:"5601",label:"500235601"},{value:"5602",label:"500235602"},{value:"5603",label:"500235603"},{value:"5604",label:"500235604"},{value:"5609",label:"500235609"},{value:"5620",label:"500235620"},{value:"5633",label:"500235633"},{value:"5640",label:"500235640"},{value:"5641",label:"500235641"},{value:"5647",label:"500235647"},{value:"5648",label:"500235648"},{value:"5649",label:"500235649"},{value:"5650",label:"500235650"},{value:"5651",label:"500235651"},{value:"5652",label:"500155652"},{value:"5653",label:"500155653"},{value:"5654",label:"500235654"},{value:"5655",label:"500155655"},{value:"5656",label:"500155656"},{value:"5657",label:"500155657"},{value:"5658",label:"500235658"},{value:"5660",label:"500235660"},{value:"5661",label:"500155661"},{value:"5662",label:"500155662"},{value:"5663",label:"500235663"},{value:"5664",label:"500235664"},{value:"5665",label:"500155665"},{value:"5666",label:"500235666"},{value:"5667",label:"500235667"},{value:"5669",label:"500235669"},{value:"5670",label:"500235670"},{value:"5671",label:"500235671"},{value:"5672",label:"500155672"},{value:"5673",label:"500235673"},{value:"5674",label:"500235674"},{value:"5675",label:"500175675"},{value:"5676",label:"500235676"},{value:"5677",label:"500235677"},{value:"5678",label:"500235678"},{value:"5679",label:"500175679"},{value:"5680",label:"500155680"},{value:"5681",label:"500235681"},{value:"5682",label:"500235682"},{value:"5701",label:"500215701"},{value:"5702",label:"500215702"},{value:"5730",label:"500215730"},{value:"5731",label:"500215731"},{value:"5732",label:"500215732"},{value:"5733",label:"500215733"},{value:"5734",label:"500015734"},{value:"5735",label:"500215735"},{value:"5736",label:"500215736"},{value:"5737",label:"500215737"},{value:"5738",label:"500215738"},{value:"5739",label:"500215739"},{value:"5740",label:"500015740"},{value:"5741",label:"500215741"},{value:"5742",label:"500215742"},{value:"5743",label:"500215743"},{value:"5744",label:"500215744"},{value:"5745",label:"500215745"},{value:"5746",label:"500275746"},{value:"5747",label:"500015747"},{value:"5748",label:"500015748"},{value:"5750",label:"500215750"},{value:"5751",label:"500215751"},{value:"5753",label:"500015753"},{value:"5757",label:"500215757"},{value:"5758",label:"500215758"},{value:"5759",label:"500215759"},{value:"5760",label:"500015760"},{value:"5761",label:"500215761"},{value:"5762",label:"500215762"},{value:"5763",label:"500215763"},{value:"5764",label:"500215764"},{value:"5765",label:"500215765"},{value:"5766",label:"500015766"},{value:"5767",label:"500275767"},{value:"5768",label:"500035768"},{value:"5769",label:"500015769"},{value:"5770",label:"500015770"},{value:"5772",label:"500275772"},{value:"5773",label:"500215773"},{value:"5774",label:"500215774"},{value:"5775",label:"500215775"},{value:"5776",label:"500035776"},{value:"5777",label:"500215777"},{value:"5778",label:"500015778"},{value:"5819",label:"500055819"},{value:"5820",label:"500195820"},{value:"5821",label:"500055821"},{value:"5822",label:"500195822"},{value:"5823",label:"500195823"},{value:"5824",label:"500095824"},{value:"5825",label:"500195825"},{value:"5826",label:"500195826"},{value:"5827",label:"500195827"},{value:"5828",label:"500055828"},{value:"5829",label:"500195829"},{value:"5830",label:"500195830"},{value:"5832",label:"500055832"},{value:"5833",label:"500195833"},{value:"5836",label:"500055836"},{value:"5837",label:"500095837"},{value:"5838",label:"500055838"},{value:"5839",label:"500195839"},{value:"5840",label:"500095840"},{value:"5841",label:"500195841"},{value:"5842",label:"500195842"},{value:"5843",label:"500055843"},{value:"5845",label:"500195845"},{value:"5846",label:"500095846"},{value:"5847",label:"500195847"},{value:"5848",label:"500055848"},{value:"5849",label:"500055849"},{value:"5850",label:"500055850"},{value:"5851",label:"500055851"},{value:"5853",label:"500195853"},{value:"5855",label:"500195855"},{value:"5857",label:"500195857"},{value:"5858",label:"500095858"},{value:"5859",label:"500195859"},{value:"5860",label:"500195860"},{value:"5861",label:"500055861"},{value:"5862",label:"500055862"},{value:"5863",label:"500055863"},{value:"5866",label:"500055866"},{value:"5867",label:"500055867"},{value:"5868",label:"500195868"},{value:"5871",label:"500055871"},{value:"5872",label:"500195872"},{value:"5873",label:"500055873"},{value:"5874",label:"500195874"},{value:"5875",label:"500195875"},{value:"5901",label:"500095901"},{value:"5902",label:"500095902"},{value:"5903",label:"500095903"},{value:"5904",label:"500095904"},{value:"5905",label:"500095905"},{value:"5906",label:"500095906"},{value:"5907",label:"500095907"},{value:"6001",label:"90036001"},{value:"6002",label:"90036002"},{value:"6006",label:"90036006"},{value:"6010",label:"90036010"},{value:"6011",label:"90036011"},{value:"6013",label:"90036013"},{value:"6016",label:"90036016"},{value:"6018",label:"90056018"},{value:"6019",label:"90036019"},{value:"6020",label:"90036020"},{value:"6021",label:"90056021"},{value:"6022",label:"90036022"},{value:"6023",label:"90036023"},{value:"6024",label:"90056024"},{value:"6025",label:"90036025"},{value:"6026",label:"90036026"},{value:"6027",label:"90036027"},{value:"6028",label:"90036028"},{value:"6029",label:"90136029"},{value:"6030",label:"90036030"},{value:"6031",label:"90056031"},{value:"6032",label:"90036032"},{value:"6033",label:"90036033"},{value:"6034",label:"90036034"},{value:"6035",label:"90036035"},{value:"6037",label:"90036037"},{value:"6039",label:"90056039"},{value:"6040",label:"90036040"},{value:"6041",label:"90036041"},{value:"6042",label:"90036042"},{value:"6043",label:"90136043"},{value:"6045",label:"90036045"},{value:"6050",label:"90036050"},{value:"6051",label:"90036051"},{value:"6052",label:"90036052"},{value:"6053",label:"90036053"},{value:"6057",label:"90056057"},{value:"6058",label:"90056058"},{value:"6059",label:"90056059"},{value:"6060",label:"90036060"},{value:"6061",label:"90056061"},{value:"6062",label:"90036062"},{value:"6063",label:"90056063"},{value:"6064",label:"90036064"},{value:"6065",label:"90036065"},{value:"6066",label:"90136066"},{value:"6067",label:"90036067"},{value:"6068",label:"90056068"},{value:"6069",label:"90056069"},{value:"6070",label:"90036070"},{value:"6071",label:"90136071"},{value:"6072",label:"90136072"},{value:"6073",label:"90036073"},{value:"6074",label:"90036074"},{value:"6075",label:"90136075"},{value:"6076",label:"90136076"},{value:"6077",label:"90136077"},{value:"6078",label:"90036078"},{value:"6079",label:"90056079"},{value:"6080",label:"90036080"},{value:"6081",label:"90036081"},{value:"6082",label:"90036082"},{value:"6083",label:"90036083"},{value:"6084",label:"90136084"},{value:"6085",label:"90036085"},{value:"6087",label:"90036087"},{value:"6088",label:"90036088"},{value:"6089",label:"90036089"},{value:"6090",label:"90036090"},{value:"6091",label:"90036091"},{value:"6092",label:"90036092"},{value:"6093",label:"90036093"},{value:"6094",label:"90056094"},{value:"6095",label:"90036095"},{value:"6096",label:"90036096"},{value:"6098",label:"90056098"},{value:"6101",label:"90036101"},{value:"6102",label:"90036102"},{value:"6103",label:"90036103"},{value:"6104",label:"90036104"},{value:"6105",label:"90036105"},{value:"6106",label:"90036106"},{value:"6107",label:"90036107"},{value:"6108",label:"90036108"},{value:"6109",label:"90036109"},{value:"6110",label:"90036110"},{value:"6111",label:"90036111"},{value:"6112",label:"90036112"},{value:"6114",label:"90036114"},{value:"6115",label:"90036115"},{value:"6117",label:"90036117"},{value:"6118",label:"90036118"},{value:"6119",label:"90036119"},{value:"6120",label:"90036120"},{value:"6123",label:"90036123"},{value:"6126",label:"90036126"},{value:"6127",label:"90036127"},{value:"6128",label:"90036128"},{value:"6129",label:"90036129"},{value:"6131",label:"90036131"},{value:"6132",label:"90036132"},{value:"6133",label:"90036133"},{value:"6134",label:"90036134"},{value:"6137",label:"90036137"},{value:"6138",label:"90036138"},{value:"6140",label:"90036140"},{value:"6141",label:"90036141"},{value:"6142",label:"90036142"},{value:"6143",label:"90036143"},{value:"6144",label:"90036144"},{value:"6145",label:"90036145"},{value:"6146",label:"90036146"},{value:"6147",label:"90036147"},{value:"6150",label:"90036150"},{value:"6151",label:"90036151"},{value:"6152",label:"90036152"},{value:"6153",label:"90036153"},{value:"6154",label:"90036154"},{value:"6155",label:"90036155"},{value:"6156",label:"90036156"},{value:"6160",label:"90036160"},{value:"6161",label:"90036161"},{value:"6167",label:"90036167"},{value:"6176",label:"90036176"},{value:"6180",label:"90036180"},{value:"6183",label:"90036183"},{value:"6199",label:"90036199"},{value:"6226",label:"90156226"},{value:"6230",label:"90156230"},{value:"6231",label:"90136231"},{value:"6232",label:"90136232"},{value:"6233",label:"90156233"},{value:"6234",label:"90156234"},{value:"6235",label:"90156235"},{value:"6237",label:"90136237"},{value:"6238",label:"90136238"},{value:"6239",label:"90156239"},{value:"6241",label:"90156241"},{value:"6242",label:"90156242"},{value:"6243",label:"90156243"},{value:"6244",label:"90156244"},{value:"6245",label:"90156245"},{value:"6246",label:"90156246"},{value:"6247",label:"90156247"},{value:"6248",label:"90136248"},{value:"6249",label:"90116249"},{value:"6250",label:"90136250"},{value:"6251",label:"90136251"},{value:"6254",label:"90116254"},{value:"6255",label:"90156255"},{value:"6256",label:"90156256"},{value:"6258",label:"90156258"},{value:"6259",label:"90156259"},{value:"6260",label:"90156260"},{value:"6262",label:"90156262"},{value:"6263",label:"90156263"},{value:"6264",label:"90156264"},{value:"6265",label:"90136265"},{value:"6266",label:"90156266"},{value:"6267",label:"90156267"},{value:"6268",label:"90136268"},{value:"6269",label:"90136269"},{value:"6277",label:"90156277"},{value:"6278",label:"90156278"},{value:"6279",label:"90136279"},{value:"6280",label:"90156280"},{value:"6281",label:"90156281"},{value:"6282",label:"90156282"},{value:"6320",label:"90116320"},{value:"6330",label:"90116330"},{value:"6331",label:"90156331"},{value:"6332",label:"90156332"},{value:"6333",label:"90116333"},{value:"6334",label:"90116334"},{value:"6335",label:"90116335"},{value:"6336",label:"90116336"},{value:"6338",label:"90116338"},{value:"6339",label:"90116339"},{value:"6340",label:"90116340"},{value:"6349",label:"90116349"},{value:"6350",label:"90116350"},{value:"6351",label:"90116351"},{value:"6353",label:"90116353"},{value:"6354",label:"90156354"},{value:"6355",label:"90116355"},{value:"6357",label:"90116357"},{value:"6359",label:"90116359"},{value:"6360",label:"90116360"},{value:"6365",label:"90116365"},{value:"6370",label:"90116370"},{value:"6371",label:"90116371"},{value:"6372",label:"90116372"},{value:"6373",label:"90156373"},{value:"6374",label:"90156374"},{value:"6375",label:"90116375"},{value:"6376",label:"90116376"},{value:"6377",label:"90156377"},{value:"6378",label:"90116378"},{value:"6379",label:"90116379"},{value:"6380",label:"90116380"},{value:"6382",label:"90116382"},{value:"6383",label:"90116383"},{value:"6384",label:"90116384"},{value:"6385",label:"90116385"},{value:"6387",label:"90156387"},{value:"6388",label:"90116388"},{value:"6389",label:"90116389"},{value:"6390",label:"361036390"},{value:"6401",label:"90096401"},{value:"6403",label:"90096403"},{value:"6404",label:"90016404"},{value:"6405",label:"90096405"},{value:"6408",label:"90096408"},{value:"6409",label:"90076409"},{value:"6410",label:"90096410"},{value:"6411",label:"90096411"},{value:"6412",label:"90076412"},{value:"6413",label:"90076413"},{value:"6414",label:"90076414"},{value:"6415",label:"90116415"},{value:"6416",label:"90076416"},{value:"6417",label:"90076417"},{value:"6418",label:"90096418"},{value:"6419",label:"90076419"},{value:"6420",label:"90116420"},{value:"6422",label:"90076422"},{value:"6423",label:"90076423"},{value:"6424",label:"90076424"},{value:"6426",label:"90076426"},{value:"6437",label:"90096437"},{value:"6438",label:"90076438"},{value:"6439",label:"90116439"},{value:"6440",label:"90016440"},{value:"6441",label:"90076441"},{value:"6442",label:"90076442"},{value:"6443",label:"90096443"},{value:"6444",label:"90036444"},{value:"6447",label:"90036447"},{value:"6450",label:"90096450"},{value:"6451",label:"90096451"},{value:"6455",label:"90076455"},{value:"6456",label:"90076456"},{value:"6457",label:"90076457"},{value:"6459",label:"90076459"},{value:"6460",label:"90096460"},{value:"6461",label:"90096461"},{value:"6467",label:"90036467"},{value:"6468",label:"90016468"},{value:"6469",label:"90076469"},{value:"6470",label:"90016470"},{value:"6471",label:"90096471"},{value:"6472",label:"90096472"},{value:"6473",label:"90096473"},{value:"6474",label:"90116474"},{value:"6475",label:"90076475"},{value:"6477",label:"90096477"},{value:"6478",label:"90096478"},{value:"6479",label:"90036479"},{value:"6480",label:"90076480"},{value:"6481",label:"90076481"},{value:"6482",label:"90016482"},{value:"6483",label:"90096483"},{value:"6484",label:"90016484"},{value:"6487",label:"90096487"},{value:"6488",label:"90096488"},{value:"6489",label:"90036489"},{value:"6491",label:"90016491"},{value:"6492",label:"90096492"},{value:"6493",label:"90096493"},{value:"6494",label:"90096494"},{value:"6495",label:"90096495"},{value:"6498",label:"90076498"},{value:"6501",label:"90096501"},{value:"6502",label:"90096502"},{value:"6503",label:"90096503"},{value:"6504",label:"90096504"},{value:"6505",label:"90096505"},{value:"6506",label:"90096506"},{value:"6507",label:"90096507"},{value:"6508",label:"90096508"},{value:"6509",label:"90096509"},{value:"6510",label:"90096510"},{value:"6511",label:"90096511"},{value:"6512",label:"90096512"},{value:"6513",label:"90096513"},{value:"6514",label:"90096514"},{value:"6515",label:"90096515"},{value:"6516",label:"90096516"},{value:"6517",label:"90096517"},{value:"6518",label:"90096518"},{value:"6519",label:"90096519"},{value:"6520",label:"90096520"},{value:"6521",label:"90096521"},{value:"6524",label:"90096524"},{value:"6525",label:"90096525"},{value:"6530",label:"90096530"},{value:"6531",label:"90096531"},{value:"6532",label:"90096532"},{value:"6533",label:"90096533"},{value:"6534",label:"90096534"},{value:"6535",label:"90096535"},{value:"6536",label:"90096536"},{value:"6537",label:"90096537"},{value:"6538",label:"90096538"},{value:"6540",label:"90096540"},{value:"6601",label:"90016601"},{value:"6602",label:"90016602"},{value:"6604",label:"90016604"},{value:"6605",label:"90016605"},{value:"6606",label:"90016606"},{value:"6607",label:"90016607"},{value:"6608",label:"90016608"},{value:"6610",label:"90016610"},{value:"6611",label:"90016611"},{value:"6612",label:"90016612"},{value:"6614",label:"90016614"},{value:"6615",label:"90016615"},{value:"6673",label:"90016673"},{value:"6699",label:"90016699"},{value:"6701",label:"90096701"},{value:"6702",label:"90096702"},{value:"6703",label:"90096703"},{value:"6704",label:"90096704"},{value:"6705",label:"90096705"},{value:"6706",label:"90096706"},{value:"6708",label:"90096708"},{value:"6710",label:"90096710"},{value:"6712",label:"90096712"},{value:"6716",label:"90096716"},{value:"6720",label:"90096720"},{value:"6721",label:"90096721"},{value:"6722",label:"90096722"},{value:"6723",label:"90096723"},{value:"6724",label:"90096724"},{value:"6725",label:"90096725"},{value:"6726",label:"90096726"},{value:"6749",label:"90096749"},{value:"6750",label:"90056750"},{value:"6751",label:"90056751"},{value:"6752",label:"90056752"},{value:"6753",label:"90056753"},{value:"6754",label:"90056754"},{value:"6755",label:"90056755"},{value:"6756",label:"90056756"},{value:"6757",label:"90056757"},{value:"6758",label:"90056758"},{value:"6759",label:"90056759"},{value:"6762",label:"90096762"},{value:"6763",label:"90056763"},{value:"6770",label:"90096770"},{value:"6776",label:"90056776"},{value:"6777",label:"90056777"},{value:"6778",label:"90056778"},{value:"6779",label:"90056779"},{value:"6781",label:"90056781"},{value:"6782",label:"90056782"},{value:"6783",label:"90056783"},{value:"6784",label:"90016784"},{value:"6785",label:"90056785"},{value:"6786",label:"90056786"},{value:"6787",label:"90056787"},{value:"6790",label:"90056790"},{value:"6791",label:"90056791"},{value:"6792",label:"90056792"},{value:"6793",label:"90056793"},{value:"6794",label:"90056794"},{value:"6795",label:"90056795"},{value:"6796",label:"90056796"},{value:"6798",label:"90056798"},{value:"6801",label:"90016801"},{value:"6804",label:"90016804"},{value:"6807",label:"90016807"},{value:"6810",label:"90016810"},{value:"6811",label:"90016811"},{value:"6812",label:"90016812"},{value:"6813",label:"90016813"},{value:"6814",label:"90016814"},{value:"6816",label:"90016816"},{value:"6817",label:"90016817"},{value:"6820",label:"90016820"},{value:"6824",label:"90016824"},{value:"6825",label:"90016825"},{value:"6828",label:"90016828"},{value:"6829",label:"90016829"},{value:"6830",label:"90016830"},{value:"6831",label:"90016831"},{value:"6836",label:"90016836"},{value:"6838",label:"90016838"},{value:"6840",label:"90016840"},{value:"6850",label:"90016850"},{value:"6851",label:"90016851"},{value:"6852",label:"90016852"},{value:"6853",label:"90016853"},{value:"6854",label:"90016854"},{value:"6855",label:"90016855"},{value:"6856",label:"90016856"},{value:"6857",label:"90016857"},{value:"6858",label:"90016858"},{value:"6860",label:"90016860"},{value:"6870",label:"90016870"},{value:"6875",label:"90016875"},{value:"6876",label:"90016876"},{value:"6877",label:"90016877"},{value:"6878",label:"90016878"},{value:"6879",label:"90016879"},{value:"6880",label:"90016880"},{value:"6881",label:"90016881"},{value:"6883",label:"90016883"},{value:"6888",label:"90016888"},{value:"6889",label:"90016889"},{value:"6890",label:"90016890"},{value:"6896",label:"90016896"},{value:"6897",label:"90016897"},{value:"6901",label:"90016901"},{value:"6902",label:"90016902"},{value:"6903",label:"90016903"},{value:"6904",label:"90016904"},{value:"6905",label:"90016905"},{value:"6906",label:"90016906"},{value:"6907",label:"90016907"},{value:"6910",label:"90016910"},{value:"6911",label:"90016911"},{value:"6912",label:"90016912"},{value:"6913",label:"90016913"},{value:"6914",label:"90016914"},{value:"6926",label:"90016926"},{value:"6927",label:"90016927"},{value:"7001",label:"340237001"},{value:"7002",label:"340177002"},{value:"7003",label:"340137003"},{value:"7004",label:"340137004"},{value:"7005",label:"340277005"},{value:"7006",label:"340137006"},{value:"7007",label:"340137007"},{value:"7008",label:"340237008"},{value:"7009",label:"340137009"},{value:"7010",label:"340037010"},{value:"7011",label:"340317011"},{value:"7012",label:"340317012"},{value:"7013",label:"340317013"},{value:"7014",label:"340317014"},{value:"7015",label:"340317015"},{value:"7016",label:"340397016"},{value:"7017",label:"340137017"},{value:"7018",label:"340137018"},{value:"7019",label:"340137019"},{value:"7020",label:"340037020"},{value:"7021",label:"340137021"},{value:"7022",label:"340037022"},{value:"7023",label:"340397023"},{value:"7024",label:"340037024"},{value:"7026",label:"340037026"},{value:"7027",label:"340397027"},{value:"7028",label:"340137028"},{value:"7029",label:"340177029"},{value:"7030",label:"340177030"},{value:"7031",label:"340037031"},{value:"7032",label:"340177032"},{value:"7033",label:"340397033"},{value:"7034",label:"340277034"},{value:"7035",label:"340277035"},{value:"7036",label:"340397036"},{value:"7039",label:"340137039"},{value:"7040",label:"340137040"},{value:"7041",label:"340137041"},{value:"7042",label:"340137042"},{value:"7043",label:"340137043"},{value:"7044",label:"340137044"},{value:"7045",label:"340277045"},{value:"7046",label:"340277046"},{value:"7047",label:"340177047"},{value:"7050",label:"340137050"},{value:"7051",label:"340137051"},{value:"7052",label:"340137052"},{value:"7054",label:"340277054"},{value:"7055",label:"340317055"},{value:"7057",label:"340037057"},{value:"7058",label:"340277058"},{value:"7059",label:"340357059"},{value:"7060",label:"340397060"},{value:"7061",label:"340397061"},{value:"7062",label:"340397062"},{value:"7063",label:"340397063"},{value:"7064",label:"340237064"},{value:"7065",label:"340397065"},{value:"7066",label:"340397066"},{value:"7067",label:"340237067"},{value:"7068",label:"340137068"},{value:"7069",label:"340357069"},{value:"7070",label:"340037070"},{value:"7071",label:"340037071"},{value:"7072",label:"340037072"},{value:"7073",label:"340037073"},{value:"7074",label:"340037074"},{value:"7075",label:"340037075"},{value:"7076",label:"340397076"},{value:"7077",label:"340237077"},{value:"7078",label:"340137078"},{value:"7079",label:"340137079"},{value:"7080",label:"340237080"},{value:"7081",label:"340397081"},{value:"7082",label:"340277082"},{value:"7083",label:"340397083"},{value:"7086",label:"340177086"},{value:"7087",label:"340177087"},{value:"7088",label:"340397088"},{value:"7090",label:"340397090"},{value:"7091",label:"340397091"},{value:"7092",label:"340397092"},{value:"7093",label:"340177093"},{value:"7094",label:"340177094"},{value:"7095",label:"340237095"},{value:"7096",label:"340177096"},{value:"7097",label:"340177097"},{value:"7099",label:"340177099"},{value:"7101",label:"340137101"},{value:"7102",label:"340137102"},{value:"7103",label:"340137103"},{value:"7104",label:"340137104"},{value:"7105",label:"340137105"},{value:"7106",label:"340137106"},{value:"7107",label:"340137107"},{value:"7108",label:"340137108"},{value:"7109",label:"340137109"},{value:"7110",label:"340137110"},{value:"7111",label:"340137111"},{value:"7112",label:"340137112"},{value:"7114",label:"340137114"},{value:"7175",label:"340137175"},{value:"7184",label:"340137184"},{value:"7188",label:"340137188"},{value:"7189",label:"340137189"},{value:"7191",label:"340137191"},{value:"7192",label:"340137192"},{value:"7193",label:"340137193"},{value:"7195",label:"340137195"},{value:"7198",label:"340137198"},{value:"7199",label:"340137199"},{value:"7201",label:"340397201"},{value:"7202",label:"340397202"},{value:"7203",label:"340397203"},{value:"7204",label:"340397204"},{value:"7205",label:"340397205"},{value:"7206",label:"340397206"},{value:"7207",label:"340397207"},{value:"7208",label:"340397208"},{value:"7302",label:"340177302"},{value:"7303",label:"340177303"},{value:"7304",label:"340177304"},{value:"7305",label:"340177305"},{value:"7306",label:"340177306"},{value:"7307",label:"340177307"},{value:"7308",label:"340177308"},{value:"7310",label:"340177310"},{value:"7311",label:"340177311"},{value:"7395",label:"340177395"},{value:"7399",label:"340177399"},{value:"7401",label:"340037401"},{value:"7403",label:"340317403"},{value:"7405",label:"340277405"},{value:"7407",label:"340037407"},{value:"7410",label:"340037410"},{value:"7416",label:"340377416"},{value:"7417",label:"340037417"},{value:"7418",label:"340377418"},{value:"7419",label:"340377419"},{value:"7420",label:"340317420"},{value:"7421",label:"340317421"},{value:"7422",label:"340377422"},{value:"7423",label:"340037423"},{value:"7424",label:"340317424"},{value:"7428",label:"340377428"},{value:"7430",label:"340037430"},{value:"7432",label:"340037432"},{value:"7435",label:"340317435"},{value:"7436",label:"340037436"},{value:"7438",label:"340277438"},{value:"7439",label:"340377439"},{value:"7440",label:"340277440"},{value:"7442",label:"340317442"},{value:"7444",label:"340277444"},{value:"7446",label:"340037446"},{value:"7450",label:"340037450"},{value:"7451",label:"340037451"},{value:"7452",label:"340037452"},{value:"7456",label:"340317456"},{value:"7457",label:"340277457"},{value:"7458",label:"340037458"},{value:"7460",label:"340377460"},{value:"7461",label:"340377461"},{value:"7462",label:"340377462"},{value:"7463",label:"340037463"},{value:"7465",label:"340317465"},{value:"7470",label:"340317470"},{value:"7474",label:"340317474"},{value:"7480",label:"340317480"},{value:"7481",label:"340037481"},{value:"7495",label:"340037495"},{value:"7501",label:"340317501"},{value:"7502",label:"340317502"},{value:"7503",label:"340317503"},{value:"7504",label:"340317504"},{value:"7505",label:"340317505"},{value:"7506",label:"340317506"},{value:"7507",label:"340317507"},{value:"7508",label:"340317508"},{value:"7509",label:"340317509"},{value:"7510",label:"340317510"},{value:"7511",label:"340317511"},{value:"7512",label:"340317512"},{value:"7513",label:"340317513"},{value:"7514",label:"340317514"},{value:"7522",label:"340317522"},{value:"7524",label:"340317524"},{value:"7533",label:"340317533"},{value:"7538",label:"340317538"},{value:"7543",label:"340317543"},{value:"7544",label:"340317544"},{value:"7601",label:"340037601"},{value:"7602",label:"340037602"},{value:"7603",label:"340037603"},{value:"7604",label:"340037604"},{value:"7605",label:"340037605"},{value:"7606",label:"340037606"},{value:"7607",label:"340037607"},{value:"7608",label:"340037608"},{value:"7620",label:"340037620"},{value:"7621",label:"340037621"},{value:"7624",label:"340037624"},{value:"7626",label:"340037626"},{value:"7627",label:"340037627"},{value:"7628",label:"340037628"},{value:"7630",label:"340037630"},{value:"7631",label:"340037631"},{value:"7632",label:"340037632"},{value:"7640",label:"340037640"},{value:"7641",label:"340037641"},{value:"7642",label:"340037642"},{value:"7643",label:"340037643"},{value:"7644",label:"340037644"},{value:"7645",label:"340037645"},{value:"7646",label:"340037646"},{value:"7647",label:"340037647"},{value:"7648",label:"340037648"},{value:"7649",label:"340037649"},{value:"7650",label:"340037650"},{value:"7652",label:"340037652"},{value:"7653",label:"340037653"},{value:"7656",label:"340037656"},{value:"7657",label:"340037657"},{value:"7660",label:"340037660"},{value:"7661",label:"340037661"},{value:"7662",label:"340037662"},{value:"7663",label:"340037663"},{value:"7666",label:"340037666"},{value:"7670",label:"340037670"},{value:"7675",label:"340037675"},{value:"7676",label:"340037676"},{value:"7677",label:"340037677"},{value:"7699",label:"340037699"},{value:"7701",label:"340257701"},{value:"7702",label:"340257702"},{value:"7703",label:"340257703"},{value:"7704",label:"340257704"},{value:"7710",label:"340257710"},{value:"7711",label:"340257711"},{value:"7712",label:"340257712"},{value:"7715",label:"340257715"},{value:"7716",label:"340257716"},{value:"7717",label:"340257717"},{value:"7718",label:"340257718"},{value:"7719",label:"340257719"},{value:"7720",label:"340257720"},{value:"7721",label:"340257721"},{value:"7722",label:"340257722"},{value:"7723",label:"340257723"},{value:"7724",label:"340257724"},{value:"7726",label:"340257726"},{value:"7727",label:"340257727"},{value:"7728",label:"340257728"},{value:"7730",label:"340257730"},{value:"7731",label:"340257731"},{value:"7732",label:"340257732"},{value:"7733",label:"340257733"},{value:"7734",label:"340257734"},{value:"7735",label:"340257735"},{value:"7737",label:"340257737"},{value:"7738",label:"340257738"},{value:"7739",label:"340257739"},{value:"7740",label:"340257740"},{value:"7746",label:"340257746"},{value:"7747",label:"340257747"},{value:"7748",label:"340257748"},{value:"7750",label:"340257750"},{value:"7751",label:"340257751"},{value:"7752",label:"340257752"},{value:"7753",label:"340257753"},{value:"7754",label:"340257754"},{value:"7755",label:"340257755"},{value:"7756",label:"340257756"},{value:"7757",label:"340257757"},{value:"7758",label:"340257758"},{value:"7760",label:"340257760"},{value:"7762",label:"340257762"},{value:"7763",label:"340257763"},{value:"7764",label:"340257764"},{value:"7765",label:"340257765"},{value:"7799",label:"340257799"},{value:"7801",label:"340277801"},{value:"7802",label:"340277802"},{value:"7803",label:"340277803"},{value:"7806",label:"340277806"},{value:"7820",label:"340417820"},{value:"7821",label:"340377821"},{value:"7822",label:"340377822"},{value:"7823",label:"340417823"},{value:"7825",label:"340417825"},{value:"7826",label:"340377826"},{value:"7827",label:"340377827"},{value:"7828",label:"340277828"},{value:"7829",label:"340417829"},{value:"7830",label:"340197830"},{value:"7831",label:"340417831"},{value:"7832",label:"340417832"},{value:"7833",label:"340417833"},{value:"7834",label:"340277834"},{value:"7836",label:"340277836"},{value:"7837",label:"340277837"},{value:"7838",label:"340417838"},{value:"7839",label:"340377839"},{value:"7840",label:"340417840"},{value:"7842",label:"340277842"},{value:"7843",label:"340377843"},{value:"7844",label:"340417844"},{value:"7845",label:"340277845"},{value:"7846",label:"340417846"},{value:"7847",label:"340277847"},{value:"7848",label:"340377848"},{value:"7849",label:"340277849"},{value:"7850",label:"340277850"},{value:"7851",label:"340377851"},{value:"7852",label:"340277852"},{value:"7853",label:"340277853"},{value:"7855",label:"340377855"},{value:"7856",label:"340277856"},{value:"7857",label:"340277857"},{value:"7860",label:"340377860"},{value:"7863",label:"340417863"},{value:"7865",label:"340417865"},{value:"7866",label:"340277866"},{value:"7869",label:"340277869"},{value:"7870",label:"340277870"},{value:"7871",label:"340377871"},{value:"7874",label:"340377874"},{value:"7875",label:"340377875"},{value:"7876",label:"340277876"},{value:"7877",label:"340377877"},{value:"7878",label:"340277878"},{value:"7879",label:"340377879"},{value:"7880",label:"340417880"},{value:"7881",label:"340377881"},{value:"7882",label:"340417882"},{value:"7885",label:"340277885"},{value:"7890",label:"340377890"},{value:"7901",label:"340397901"},{value:"7902",label:"340397902"},{value:"7920",label:"340357920"},{value:"7921",label:"340357921"},{value:"7922",label:"340397922"},{value:"7924",label:"340357924"},{value:"7926",label:"340277926"},{value:"7927",label:"340277927"},{value:"7928",label:"340277928"},{value:"7930",label:"340277930"},{value:"7931",label:"340357931"},{value:"7932",label:"340277932"},{value:"7933",label:"340277933"},{value:"7934",label:"340357934"},{value:"7935",label:"340277935"},{value:"7936",label:"340277936"},{value:"7938",label:"340357938"},{value:"7939",label:"340357939"},{value:"7940",label:"340277940"},{value:"7945",label:"340277945"},{value:"7946",label:"340277946"},{value:"7950",label:"340277950"},{value:"7960",label:"340277960"},{value:"7961",label:"340277961"},{value:"7962",label:"340277962"},{value:"7963",label:"340277963"},{value:"7970",label:"340277970"},{value:"7974",label:"340397974"},{value:"7976",label:"340277976"},{value:"7977",label:"340357977"},{value:"7978",label:"340357978"},{value:"7979",label:"340197979"},{value:"7980",label:"340277980"},{value:"7981",label:"340277981"},{value:"7999",label:"340277999"},{value:"8001",label:"340338001"},{value:"8002",label:"340078002"},{value:"8003",label:"340078003"},{value:"8004",label:"340078004"},{value:"8005",label:"340298005"},{value:"8006",label:"340298006"},{value:"8007",label:"340078007"},{value:"8008",label:"340298008"},{value:"8009",label:"340078009"},{value:"8010",label:"340058010"},{value:"8011",label:"340058011"},{value:"8012",label:"340078012"},{value:"8014",label:"340158014"},{value:"8015",label:"340058015"},{value:"8016",label:"340058016"},{value:"8018",label:"340078018"},{value:"8019",label:"340058019"},{value:"8020",label:"340158020"},{value:"8021",label:"340078021"},{value:"8022",label:"340058022"},{value:"8023",label:"340338023"},{value:"8025",label:"340158025"},{value:"8026",label:"340078026"},{value:"8027",label:"340158027"},{value:"8028",label:"340158028"},{value:"8029",label:"340078029"},{value:"8030",label:"340078030"},{value:"8031",label:"340078031"},{value:"8032",label:"340158032"},{value:"8033",label:"340078033"},{value:"8034",label:"340078034"},{value:"8035",label:"340078035"},{value:"8036",label:"340058036"},{value:"8037",label:"340018037"},{value:"8038",label:"340338038"},{value:"8039",label:"340158039"},{value:"8041",label:"340058041"},{value:"8042",label:"340058042"},{value:"8043",label:"340078043"},{value:"8045",label:"340078045"},{value:"8046",label:"340058046"},{value:"8048",label:"340058048"},{value:"8049",label:"340078049"},{value:"8050",label:"340298050"},{value:"8051",label:"340158051"},{value:"8052",label:"340058052"},{value:"8053",label:"340058053"},{value:"8054",label:"340058054"},{value:"8055",label:"340058055"},{value:"8056",label:"340158056"},{value:"8057",label:"340058057"},{value:"8059",label:"340078059"},{value:"8060",label:"340058060"},{value:"8061",label:"340158061"},{value:"8062",label:"340158062"},{value:"8063",label:"340158063"},{value:"8064",label:"340058064"},{value:"8065",label:"340058065"},{value:"8066",label:"340158066"},{value:"8067",label:"340338067"},{value:"8068",label:"340058068"},{value:"8069",label:"340338069"},{value:"8070",label:"340338070"},{value:"8071",label:"340158071"},{value:"8072",label:"340338072"},{value:"8073",label:"340058073"},{value:"8074",label:"340158074"},{value:"8075",label:"340058075"},{value:"8076",label:"340058076"},{value:"8077",label:"340058077"},{value:"8078",label:"340078078"},{value:"8079",label:"340338079"},{value:"8080",label:"340158080"},{value:"8081",label:"340078081"},{value:"8083",label:"340078083"},{value:"8084",label:"340078084"},{value:"8085",label:"340158085"},{value:"8086",label:"340158086"},{value:"8087",label:"340298087"},{value:"8088",label:"340058088"},{value:"8089",label:"340078089"},{value:"8090",label:"340158090"},{value:"8091",label:"340078091"},{value:"8092",label:"340298092"},{value:"8093",label:"340158093"},{value:"8094",label:"340158094"},{value:"8095",label:"340078095"},{value:"8096",label:"340158096"},{value:"8097",label:"340158097"},{value:"8098",label:"340338098"},{value:"8099",label:"340078099"},{value:"8101",label:"340078101"},{value:"8102",label:"340078102"},{value:"8103",label:"340078103"},{value:"8104",label:"340078104"},{value:"8105",label:"340078105"},{value:"8106",label:"340078106"},{value:"8107",label:"340078107"},{value:"8108",label:"340078108"},{value:"8109",label:"340078109"},{value:"8110",label:"340078110"},{value:"8201",label:"340018201"},{value:"8202",label:"340098202"},{value:"8203",label:"340018203"},{value:"8204",label:"340098204"},{value:"8205",label:"340018205"},{value:"8210",label:"340098210"},{value:"8212",label:"340098212"},{value:"8213",label:"340018213"},{value:"8214",label:"340098214"},{value:"8215",label:"340018215"},{value:"8217",label:"340018217"},{value:"8218",label:"340098218"},{value:"8219",label:"340098219"},{value:"8220",label:"340018220"},{value:"8221",label:"340018221"},{value:"8223",label:"340098223"},{value:"8224",label:"340058224"},{value:"8225",label:"340018225"},{value:"8226",label:"340098226"},{value:"8230",label:"340098230"},{value:"8231",label:"340018231"},{value:"8232",label:"340018232"},{value:"8234",label:"340018234"},{value:"8240",label:"340018240"},{value:"8241",label:"340018241"},{value:"8242",label:"340098242"},{value:"8243",label:"340098243"},{value:"8244",label:"340018244"},{value:"8245",label:"340098245"},{value:"8246",label:"340098246"},{value:"8247",label:"340098247"},{value:"8248",label:"340098248"},{value:"8250",label:"340098250"},{value:"8251",label:"340098251"},{value:"8252",label:"340098252"},{value:"8260",label:"340098260"},{value:"8270",label:"340098270"},{value:"8302",label:"340118302"},{value:"8310",label:"340018310"},{value:"8311",label:"340118311"},{value:"8312",label:"340158312"},{value:"8313",label:"340118313"},{value:"8314",label:"340118314"},{value:"8315",label:"340118315"},{value:"8316",label:"340118316"},{value:"8317",label:"340018317"},{value:"8318",label:"340338318"},{value:"8319",label:"340018319"},{value:"8320",label:"340118320"},{value:"8321",label:"340118321"},{value:"8322",label:"340158322"},{value:"8323",label:"340118323"},{value:"8324",label:"340118324"},{value:"8326",label:"340018326"},{value:"8327",label:"340118327"},{value:"8328",label:"340158328"},{value:"8329",label:"340118329"},{value:"8330",label:"340018330"},{value:"8332",label:"340118332"},{value:"8340",label:"340018340"},{value:"8341",label:"340018341"},{value:"8342",label:"340018342"},{value:"8343",label:"340158343"},{value:"8344",label:"340158344"},{value:"8345",label:"340118345"},{value:"8346",label:"340018346"},{value:"8347",label:"340338347"},{value:"8348",label:"340118348"},{value:"8349",label:"340118349"},{value:"8350",label:"340018350"},{value:"8352",label:"340118352"},{value:"8353",label:"340118353"},{value:"8360",label:"340118360"},{value:"8361",label:"340118361"},{value:"8362",label:"340118362"},{value:"8401",label:"340018401"},{value:"8402",label:"340018402"},{value:"8403",label:"340018403"},{value:"8404",label:"340018404"},{value:"8405",label:"340018405"},{value:"8406",label:"340018406"},{value:"8501",label:"340258501"},{value:"8502",label:"340358502"},{value:"8504",label:"340358504"},{value:"8505",label:"340058505"},{value:"8510",label:"340258510"},{value:"8511",label:"340058511"},{value:"8512",label:"340238512"},{value:"8514",label:"340258514"},{value:"8515",label:"340058515"},{value:"8518",label:"340058518"},{value:"8520",label:"340218520"},{value:"8525",label:"340218525"},{value:"8526",label:"340258526"},{value:"8527",label:"340298527"},{value:"8528",label:"340358528"},{value:"8530",label:"340198530"},{value:"8533",label:"340298533"},{value:"8534",label:"340218534"},{value:"8535",label:"340258535"},{value:"8536",label:"340238536"},{value:"8540",label:"340218540"},{value:"8541",label:"340218541"},{value:"8542",label:"340218542"},{value:"8543",label:"340218543"},{value:"8544",label:"340218544"},{value:"8550",label:"340218550"},{value:"8551",label:"340198551"},{value:"8553",label:"340358553"},{value:"8554",label:"340058554"},{value:"8555",label:"340258555"},{value:"8556",label:"340198556"},{value:"8557",label:"340198557"},{value:"8558",label:"340358558"},{value:"8559",label:"340198559"},{value:"8560",label:"340218560"},{value:"8561",label:"340218561"},{value:"8562",label:"340058562"},{value:"8601",label:"340218601"},{value:"8602",label:"340218602"},{value:"8603",label:"340218603"},{value:"8604",label:"340218604"},{value:"8605",label:"340218605"},{value:"8606",label:"340218606"},{value:"8607",label:"340218607"},{value:"8608",label:"340218608"},{value:"8609",label:"340218609"},{value:"8610",label:"340218610"},{value:"8611",label:"340218611"},{value:"8618",label:"340218618"},{value:"8619",label:"340218619"},{value:"8620",label:"340218620"},{value:"8625",label:"340218625"},{value:"8628",label:"340218628"},{value:"8629",label:"340218629"},{value:"8638",label:"340218638"},{value:"8640",label:"340058640"},{value:"8641",label:"340058641"},{value:"8644",label:"340218644"},{value:"8645",label:"340218645"},{value:"8646",label:"340218646"},{value:"8647",label:"340218647"},{value:"8648",label:"340218648"},{value:"8650",label:"340218650"},{value:"8666",label:"340218666"},{value:"8690",label:"340218690"},{value:"8691",label:"340218691"},{value:"8695",label:"340218695"},{value:"8701",label:"340298701"},{value:"8720",label:"340258720"},{value:"8721",label:"340298721"},{value:"8722",label:"340298722"},{value:"8723",label:"340298723"},{value:"8724",label:"340298724"},{value:"8730",label:"340258730"},{value:"8731",label:"340298731"},{value:"8732",label:"340298732"},{value:"8733",label:"340298733"},{value:"8734",label:"340298734"},{value:"8735",label:"340298735"},{value:"8736",label:"340258736"},{value:"8738",label:"340298738"},{value:"8739",label:"340298739"},{value:"8740",label:"340298740"},{value:"8741",label:"340298741"},{value:"8742",label:"340298742"},{value:"8750",label:"340258750"},{value:"8751",label:"340298751"},{value:"8752",label:"340298752"},{value:"8753",label:"340298753"},{value:"8754",label:"340298754"},{value:"8755",label:"340298755"},{value:"8756",label:"340298756"},{value:"8757",label:"340298757"},{value:"8758",label:"340298758"},{value:"8759",label:"340298759"},{value:"8801",label:"340198801"},{value:"8802",label:"340198802"},{value:"8803",label:"340198803"},{value:"8804",label:"340198804"},{value:"8805",label:"340358805"},{value:"8807",label:"340358807"},{value:"8808",label:"340418808"},{value:"8809",label:"340198809"},{value:"8810",label:"340238810"},{value:"8812",label:"340358812"},{value:"8816",label:"340238816"},{value:"8817",label:"340238817"},{value:"8818",label:"340238818"},{value:"8820",label:"340238820"},{value:"8821",label:"340358821"},{value:"8822",label:"340198822"},{value:"8823",label:"340358823"},{value:"8824",label:"340238824"},{value:"8825",label:"340198825"},{value:"8826",label:"340198826"},{value:"8827",label:"340198827"},{value:"8828",label:"340238828"},{value:"8829",label:"340198829"},{value:"8830",label:"340238830"},{value:"8831",label:"340238831"},{value:"8832",label:"340238832"},{value:"8833",label:"340198833"},{value:"8834",label:"340198834"},{value:"8835",label:"340358835"},{value:"8836",label:"340358836"},{value:"8837",label:"340238837"},{value:"8840",label:"340238840"},{value:"8844",label:"340358844"},{value:"8846",label:"340238846"},{value:"8848",label:"340198848"},{value:"8850",label:"340238850"},{value:"8852",label:"340238852"},{value:"8853",label:"340358853"},{value:"8854",label:"340238854"},{value:"8855",label:"340238855"},{value:"8857",label:"340238857"},{value:"8858",label:"340198858"},{value:"8859",label:"340238859"},{value:"8861",label:"340238861"},{value:"8862",label:"340238862"},{value:"8863",label:"340238863"},{value:"8865",label:"340418865"},{value:"8867",label:"340198867"},{value:"8868",label:"340198868"},{value:"8869",label:"340358869"},{value:"8870",label:"340198870"},{value:"8871",label:"340238871"},{value:"8872",label:"340238872"},{value:"8873",label:"340358873"},{value:"8875",label:"340358875"},{value:"8876",label:"340358876"},{value:"8879",label:"340238879"},{value:"8880",label:"340358880"},{value:"8882",label:"340238882"},{value:"8884",label:"340238884"},{value:"8885",label:"340198885"},{value:"8886",label:"340418886"},{value:"8887",label:"340198887"},{value:"8888",label:"340198888"},{value:"8889",label:"340198889"},{value:"8890",label:"340358890"},{value:"8899",label:"340238899"},{value:"8901",label:"340238901"},{value:"8902",label:"340238902"},{value:"8903",label:"340238903"},{value:"8904",label:"340238904"},{value:"8906",label:"340238906"},{value:"8933",label:"340238933"},{value:"8989",label:"340238989"},{value:"10001",label:"360610001"},{value:"10002",label:"360610002"},{value:"10003",label:"360610003"},{value:"10004",label:"360610004"},{value:"10005",label:"360610005"},{value:"10006",label:"360610006"},{value:"10007",label:"360610007"},{value:"10008",label:"360610008"},{value:"10009",label:"360610009"},{value:"10010",label:"360610010"},{value:"10011",label:"360610011"},{value:"10012",label:"360610012"},{value:"10013",label:"360610013"},{value:"10014",label:"360610014"},{value:"10016",label:"360610016"},{value:"10017",label:"360610017"},{value:"10018",label:"360610018"},{value:"10019",label:"360610019"},{value:"10020",label:"360610020"},{value:"10021",label:"360610021"},{value:"10022",label:"360610022"},{value:"10023",label:"360610023"},{value:"10024",label:"360610024"},{value:"10025",label:"360610025"},{value:"10026",label:"360610026"},{value:"10027",label:"360610027"},{value:"10028",label:"360610028"},{value:"10029",label:"360610029"},{value:"10030",label:"360610030"},{value:"10031",label:"360610031"},{value:"10032",label:"360610032"},{value:"10033",label:"360610033"},{value:"10034",label:"360610034"},{value:"10035",label:"360610035"},{value:"10036",label:"360610036"},{value:"10037",label:"360610037"},{value:"10038",label:"360610038"},{value:"10039",label:"360610039"},{value:"10040",label:"360610040"},{value:"10041",label:"360610041"},{value:"10043",label:"360610043"},{value:"10044",label:"360610044"},{value:"10045",label:"360610045"},{value:"10055",label:"360610055"},{value:"10060",label:"360610060"},{value:"10065",label:"360610065"},{value:"10069",label:"360610069"},{value:"10075",label:"360610075"},{value:"10080",label:"360610080"},{value:"10081",label:"360610081"},{value:"10087",label:"360610087"},{value:"10090",label:"360610090"},{value:"10101",label:"360610101"},{value:"10102",label:"360610102"},{value:"10103",label:"360610103"},{value:"10104",label:"360610104"},{value:"10105",label:"360610105"},{value:"10106",label:"360610106"},{value:"10107",label:"360610107"},{value:"10108",label:"360610108"},{value:"10109",label:"360610109"},{value:"10110",label:"360610110"},{value:"10111",label:"360610111"},{value:"10112",label:"360610112"},{value:"10113",label:"360610113"},{value:"10114",label:"360610114"},{value:"10115",label:"360610115"},{value:"10116",label:"360610116"},{value:"10117",label:"360610117"},{value:"10118",label:"360610118"},{value:"10119",label:"360610119"},{value:"10120",label:"360610120"},{value:"10121",label:"360610121"},{value:"10122",label:"360610122"},{value:"10123",label:"360610123"},{value:"10124",label:"360610124"},{value:"10125",label:"360610125"},{value:"10126",label:"360610126"},{value:"10128",label:"360610128"},{value:"10129",label:"360610129"},{value:"10130",label:"360610130"},{value:"10131",label:"360610131"},{value:"10132",label:"360610132"},{value:"10133",label:"360610133"},{value:"10138",label:"360610138"},{value:"10150",label:"360610150"},{value:"10151",label:"360610151"},{value:"10152",label:"360610152"},{value:"10153",label:"360610153"},{value:"10154",label:"360610154"},{value:"10155",label:"360610155"},{value:"10156",label:"360610156"},{value:"10157",label:"360610157"},{value:"10158",label:"360610158"},{value:"10159",label:"360610159"},{value:"10160",label:"360610160"},{value:"10162",label:"360610162"},{value:"10163",label:"360610163"},{value:"10164",label:"360610164"},{value:"10165",label:"360610165"},{value:"10166",label:"360610166"},{value:"10167",label:"360610167"},{value:"10168",label:"360610168"},{value:"10169",label:"360610169"},{value:"10170",label:"360610170"},{value:"10171",label:"360610171"},{value:"10172",label:"360610172"},{value:"10173",label:"360610173"},{value:"10174",label:"360610174"},{value:"10175",label:"360610175"},{value:"10176",label:"360610176"},{value:"10177",label:"360610177"},{value:"10178",label:"360610178"},{value:"10179",label:"360610179"},{value:"10185",label:"360610185"},{value:"10199",label:"360610199"},{value:"10203",label:"360610203"},{value:"10211",label:"360610211"},{value:"10212",label:"360610212"},{value:"10213",label:"360610213"},{value:"10242",label:"360610242"},{value:"10249",label:"360610249"},{value:"10256",label:"360610256"},{value:"10258",label:"360610258"},{value:"10259",label:"360610259"},{value:"10260",label:"360610260"},{value:"10261",label:"360610261"},{value:"10265",label:"360610265"},{value:"10268",label:"360610268"},{value:"10269",label:"360610269"},{value:"10270",label:"360610270"},{value:"10271",label:"360610271"},{value:"10272",label:"360610272"},{value:"10273",label:"360610273"},{value:"10274",label:"360610274"},{value:"10275",label:"360610275"},{value:"10276",label:"360610276"},{value:"10277",label:"360610277"},{value:"10278",label:"360610278"},{value:"10279",label:"360610279"},{value:"10280",label:"360610280"},{value:"10281",label:"360610281"},{value:"10282",label:"360610282"},{value:"10285",label:"360610285"},{value:"10286",label:"360610286"},{value:"10301",label:"360850301"},{value:"10302",label:"360850302"},{value:"10303",label:"360850303"},{value:"10304",label:"360850304"},{value:"10305",label:"360850305"},{value:"10306",label:"360850306"},{value:"10307",label:"360850307"},{value:"10308",label:"360850308"},{value:"10309",label:"360850309"},{value:"10310",label:"360850310"},{value:"10311",label:"360850311"},{value:"10312",label:"360850312"},{value:"10313",label:"360850313"},{value:"10314",label:"360850314"},{value:"10451",label:"360050451"},{value:"10452",label:"360050452"},{value:"10453",label:"360050453"},{value:"10454",label:"360050454"},{value:"10455",label:"360050455"},{value:"10456",label:"360050456"},{value:"10457",label:"360050457"},{value:"10458",label:"360050458"},{value:"10459",label:"360050459"},{value:"10460",label:"360050460"},{value:"10461",label:"360050461"},{value:"10462",label:"360050462"},{value:"10463",label:"360050463"},{value:"10464",label:"360050464"},{value:"10465",label:"360050465"},{value:"10466",label:"360050466"},{value:"10467",label:"360050467"},{value:"10468",label:"360050468"},{value:"10469",label:"360050469"},{value:"10470",label:"360050470"},{value:"10471",label:"360050471"},{value:"10472",label:"360050472"},{value:"10473",label:"360050473"},{value:"10474",label:"360050474"},{value:"10475",label:"360050475"},{value:"10501",label:"361190501"},{value:"10502",label:"361190502"},{value:"10503",label:"361190503"},{value:"10504",label:"361190504"},{value:"10505",label:"361190505"},{value:"10506",label:"361190506"},{value:"10507",label:"361190507"},{value:"10509",label:"360790509"},{value:"10510",label:"361190510"},{value:"10511",label:"361190511"},{value:"10512",label:"360790512"},{value:"10514",label:"361190514"},{value:"10516",label:"360790516"},{value:"10517",label:"361190517"},{value:"10518",label:"361190518"},{value:"10519",label:"361190519"},{value:"10520",label:"361190520"},{value:"10521",label:"361190521"},{value:"10522",label:"361190522"},{value:"10523",label:"361190523"},{value:"10524",label:"360790524"},{value:"10526",label:"361190526"},{value:"10527",label:"361190527"},{value:"10528",label:"361190528"},{value:"10530",label:"361190530"},{value:"10532",label:"361190532"},{value:"10533",label:"361190533"},{value:"10535",label:"361190535"},{value:"10536",label:"361190536"},{value:"10537",label:"360790537"},{value:"10538",label:"361190538"},{value:"10540",label:"361190540"},{value:"10541",label:"360790541"},{value:"10542",label:"360790542"},{value:"10543",label:"361190543"},{value:"10545",label:"361190545"},{value:"10546",label:"361190546"},{value:"10547",label:"361190547"},{value:"10548",label:"361190548"},{value:"10549",label:"361190549"},{value:"10550",label:"361190550"},{value:"10551",label:"361190551"},{value:"10552",label:"361190552"},{value:"10553",label:"361190553"},{value:"10560",label:"361190560"},{value:"10562",label:"361190562"},{value:"10566",label:"361190566"},{value:"10567",label:"361190567"},{value:"10570",label:"361190570"},{value:"10573",label:"361190573"},{value:"10576",label:"361190576"},{value:"10577",label:"361190577"},{value:"10578",label:"361190578"},{value:"10579",label:"360790579"},{value:"10580",label:"361190580"},{value:"10583",label:"361190583"},{value:"10587",label:"361190587"},{value:"10588",label:"361190588"},{value:"10589",label:"361190589"},{value:"10590",label:"361190590"},{value:"10591",label:"361190591"},{value:"10594",label:"361190594"},{value:"10595",label:"361190595"},{value:"10596",label:"361190596"},{value:"10597",label:"361190597"},{value:"10598",label:"361190598"},{value:"10601",label:"361190601"},{value:"10602",label:"361190602"},{value:"10603",label:"361190603"},{value:"10604",label:"361190604"},{value:"10605",label:"361190605"},{value:"10606",label:"361190606"},{value:"10607",label:"361190607"},{value:"10610",label:"361190610"},{value:"10701",label:"361190701"},{value:"10702",label:"361190702"},{value:"10703",label:"361190703"},{value:"10704",label:"361190704"},{value:"10705",label:"361190705"},{value:"10706",label:"361190706"},{value:"10707",label:"361190707"},{value:"10708",label:"361190708"},{value:"10709",label:"361190709"},{value:"10710",label:"361190710"},{value:"10801",label:"361190801"},{value:"10802",label:"361190802"},{value:"10803",label:"361190803"},{value:"10804",label:"361190804"},{value:"10805",label:"361190805"},{value:"10901",label:"360870901"},{value:"10910",label:"360710910"},{value:"10911",label:"360710911"},{value:"10912",label:"360710912"},{value:"10913",label:"360870913"},{value:"10914",label:"360710914"},{value:"10915",label:"360710915"},{value:"10916",label:"360710916"},{value:"10917",label:"360710917"},{value:"10918",label:"360710918"},{value:"10919",label:"360710919"},{value:"10920",label:"360870920"},{value:"10921",label:"360710921"},{value:"10922",label:"360710922"},{value:"10923",label:"360870923"},{value:"10924",label:"360710924"},{value:"10925",label:"360710925"},{value:"10926",label:"360710926"},{value:"10927",label:"360870927"},{value:"10928",label:"360710928"},{value:"10930",label:"360710930"},{value:"10931",label:"360870931"},{value:"10932",label:"360710932"},{value:"10933",label:"360710933"},{value:"10940",label:"360710940"},{value:"10941",label:"360710941"},{value:"10949",label:"360710949"},{value:"10950",label:"360710950"},{value:"10952",label:"360870952"},{value:"10953",label:"360710953"},{value:"10954",label:"360870954"},{value:"10956",label:"360870956"},{value:"10958",label:"360710958"},{value:"10959",label:"360710959"},{value:"10960",label:"360870960"},{value:"10962",label:"360870962"},{value:"10963",label:"360710963"},{value:"10964",label:"360870964"},{value:"10965",label:"360870965"},{value:"10968",label:"360870968"},{value:"10969",label:"360710969"},{value:"10970",label:"360870970"},{value:"10973",label:"360710973"},{value:"10974",label:"360870974"},{value:"10975",label:"360710975"},{value:"10976",label:"360870976"},{value:"10977",label:"360870977"},{value:"10979",label:"360710979"},{value:"10980",label:"360870980"},{value:"10981",label:"360710981"},{value:"10982",label:"360870982"},{value:"10983",label:"360870983"},{value:"10984",label:"360870984"},{value:"10985",label:"360710985"},{value:"10986",label:"360870986"},{value:"10987",label:"360710987"},{value:"10988",label:"360710988"},{value:"10989",label:"360870989"},{value:"10990",label:"360710990"},{value:"10992",label:"360710992"},{value:"10993",label:"360870993"},{value:"10994",label:"360870994"},{value:"10996",label:"360710996"},{value:"10997",label:"360710997"},{value:"10998",label:"360710998"},{value:"11001",label:"360591001"},{value:"11002",label:"360591002"},{value:"11003",label:"360591003"},{value:"11004",label:"360811004"},{value:"11005",label:"360811005"},{value:"11010",label:"360591010"},{value:"11020",label:"360591020"},{value:"11021",label:"360591021"},{value:"11022",label:"360591022"},{value:"11023",label:"360591023"},{value:"11024",label:"360591024"},{value:"11026",label:"360591026"},{value:"11027",label:"360591027"},{value:"11030",label:"360591030"},{value:"11040",label:"360591040"},{value:"11042",label:"360591042"},{value:"11050",label:"360591050"},{value:"11051",label:"360591051"},{value:"11052",label:"360591052"},{value:"11053",label:"360591053"},{value:"11054",label:"360591054"},{value:"11055",label:"360591055"},{value:"11096",label:"360591096"},{value:"11101",label:"360811101"},{value:"11102",label:"360811102"},{value:"11103",label:"360811103"},{value:"11104",label:"360811104"},{value:"11105",label:"360811105"},{value:"11106",label:"360811106"},{value:"11109",label:"360811109"},{value:"11120",label:"360811120"},{value:"11201",label:"360471201"},{value:"11202",label:"360471202"},{value:"11203",label:"360471203"},{value:"11204",label:"360471204"},{value:"11205",label:"360471205"},{value:"11206",label:"360471206"},{value:"11207",label:"360471207"},{value:"11208",label:"360471208"},{value:"11209",label:"360471209"},{value:"11210",label:"360471210"},{value:"11211",label:"360471211"},{value:"11212",label:"360471212"},{value:"11213",label:"360471213"},{value:"11214",label:"360471214"},{value:"11215",label:"360471215"},{value:"11216",label:"360471216"},{value:"11217",label:"360471217"},{value:"11218",label:"360471218"},{value:"11219",label:"360471219"},{value:"11220",label:"360471220"},{value:"11221",label:"360471221"},{value:"11222",label:"360471222"},{value:"11223",label:"360471223"},{value:"11224",label:"360471224"},{value:"11225",label:"360471225"},{value:"11226",label:"360471226"},{value:"11228",label:"360471228"},{value:"11229",label:"360471229"},{value:"11230",label:"360471230"},{value:"11231",label:"360471231"},{value:"11232",label:"360471232"},{value:"11233",label:"360471233"},{value:"11234",label:"360471234"},{value:"11235",label:"360471235"},{value:"11236",label:"360471236"},{value:"11237",label:"360471237"},{value:"11238",label:"360471238"},{value:"11239",label:"360471239"},{value:"11241",label:"360471241"},{value:"11242",label:"360471242"},{value:"11243",label:"360471243"},{value:"11245",label:"360471245"},{value:"11247",label:"360471247"},{value:"11249",label:"360471249"},{value:"11251",label:"360471251"},{value:"11252",label:"360471252"},{value:"11256",label:"360471256"},{value:"11351",label:"360811351"},{value:"11352",label:"360811352"},{value:"11354",label:"360811354"},{value:"11355",label:"360811355"},{value:"11356",label:"360811356"},{value:"11357",label:"360811357"},{value:"11358",label:"360811358"},{value:"11359",label:"360811359"},{value:"11360",label:"360811360"},{value:"11361",label:"360811361"},{value:"11362",label:"360811362"},{value:"11363",label:"360811363"},{value:"11364",label:"360811364"},{value:"11365",label:"360811365"},{value:"11366",label:"360811366"},{value:"11367",label:"360811367"},{value:"11368",label:"360811368"},{value:"11369",label:"360811369"},{value:"11370",label:"360811370"},{value:"11371",label:"360811371"},{value:"11372",label:"360811372"},{value:"11373",label:"360811373"},{value:"11374",label:"360811374"},{value:"11375",label:"360811375"},{value:"11377",label:"360811377"},{value:"11378",label:"360811378"},{value:"11379",label:"360811379"},{value:"11380",label:"360811380"},{value:"11381",label:"360811381"},{value:"11385",label:"360811385"},{value:"11386",label:"360811386"},{value:"11405",label:"360811405"},{value:"11411",label:"360811411"},{value:"11412",label:"360811412"},{value:"11413",label:"360811413"},{value:"11414",label:"360811414"},{value:"11415",label:"360811415"},{value:"11416",label:"360811416"},{value:"11417",label:"360811417"},{value:"11418",label:"360811418"},{value:"11419",label:"360811419"},{value:"11420",label:"360811420"},{value:"11421",label:"360811421"},{value:"11422",label:"360811422"},{value:"11423",label:"360811423"},{value:"11424",label:"360811424"},{value:"11425",label:"360811425"},{value:"11426",label:"360811426"},{value:"11427",label:"360811427"},{value:"11428",label:"360811428"},{value:"11429",label:"360811429"},{value:"11430",label:"360811430"},{value:"11431",label:"360811431"},{value:"11432",label:"360811432"},{value:"11433",label:"360811433"},{value:"11434",label:"360811434"},{value:"11435",label:"360811435"},{value:"11436",label:"360811436"},{value:"11439",label:"360811439"},{value:"11451",label:"360811451"},{value:"11499",label:"360811499"},{value:"11501",label:"360591501"},{value:"11507",label:"360591507"},{value:"11509",label:"360591509"},{value:"11510",label:"360591510"},{value:"11514",label:"360591514"},{value:"11516",label:"360591516"},{value:"11518",label:"360591518"},{value:"11520",label:"360591520"},{value:"11530",label:"360591530"},{value:"11531",label:"360591531"},{value:"11542",label:"360591542"},{value:"11545",label:"360591545"},{value:"11547",label:"360591547"},{value:"11548",label:"360591548"},{value:"11549",label:"360591549"},{value:"11550",label:"360591550"},{value:"11551",label:"360591551"},{value:"11552",label:"360591552"},{value:"11553",label:"360591553"},{value:"11554",label:"360591554"},{value:"11555",label:"360591555"},{value:"11556",label:"360591556"},{value:"11557",label:"360591557"},{value:"11558",label:"360591558"},{value:"11559",label:"360591559"},{value:"11560",label:"360591560"},{value:"11561",label:"360591561"},{value:"11563",label:"360591563"},{value:"11565",label:"360591565"},{value:"11566",label:"360591566"},{value:"11568",label:"360591568"},{value:"11569",label:"360591569"},{value:"11570",label:"360591570"},{value:"11571",label:"360591571"},{value:"11572",label:"360591572"},{value:"11575",label:"360591575"},{value:"11576",label:"360591576"},{value:"11577",label:"360591577"},{value:"11579",label:"360591579"},{value:"11580",label:"360591580"},{value:"11581",label:"360591581"},{value:"11582",label:"360591582"},{value:"11590",label:"360591590"},{value:"11596",label:"360591596"},{value:"11598",label:"360591598"},{value:"11599",label:"360591599"},{value:"11690",label:"360811690"},{value:"11691",label:"360811691"},{value:"11692",label:"360811692"},{value:"11693",label:"360811693"},{value:"11694",label:"360811694"},{value:"11695",label:"360811695"},{value:"11697",label:"360811697"},{value:"11701",label:"361031701"},{value:"11702",label:"361031702"},{value:"11703",label:"361031703"},{value:"11704",label:"361031704"},{value:"11705",label:"361031705"},{value:"11706",label:"361031706"},{value:"11707",label:"361031707"},{value:"11709",label:"360591709"},{value:"11710",label:"360591710"},{value:"11713",label:"361031713"},{value:"11714",label:"360591714"},{value:"11715",label:"361031715"},{value:"11716",label:"361031716"},{value:"11717",label:"361031717"},{value:"11718",label:"361031718"},{value:"11719",label:"361031719"},{value:"11720",label:"361031720"},{value:"11721",label:"361031721"},{value:"11722",label:"361031722"},{value:"11724",label:"361031724"},{value:"11725",label:"361031725"},{value:"11726",label:"361031726"},{value:"11727",label:"361031727"},{value:"11729",label:"361031729"},{value:"11730",label:"361031730"},{value:"11731",label:"361031731"},{value:"11732",label:"360591732"},{value:"11733",label:"361031733"},{value:"11735",label:"360591735"},{value:"11737",label:"360591737"},{value:"11738",label:"361031738"},{value:"11739",label:"361031739"},{value:"11740",label:"361031740"},{value:"11741",label:"361031741"},{value:"11742",label:"361031742"},{value:"11743",label:"361031743"},{value:"11746",label:"361031746"},{value:"11747",label:"361031747"},{value:"11749",label:"361031749"},{value:"11751",label:"361031751"},{value:"11752",label:"361031752"},{value:"11753",label:"360591753"},{value:"11754",label:"361031754"},{value:"11755",label:"361031755"},{value:"11756",label:"360591756"},{value:"11757",label:"361031757"},{value:"11758",label:"360591758"},{value:"11760",label:"361031760"},{value:"11762",label:"360591762"},{value:"11763",label:"361031763"},{value:"11764",label:"361031764"},{value:"11765",label:"360591765"},{value:"11766",label:"361031766"},{value:"11767",label:"361031767"},{value:"11768",label:"361031768"},{value:"11769",label:"361031769"},{value:"11770",label:"361031770"},{value:"11771",label:"360591771"},{value:"11772",label:"361031772"},{value:"11773",label:"360591773"},{value:"11775",label:"361031775"},{value:"11776",label:"361031776"},{value:"11777",label:"361031777"},{value:"11778",label:"361031778"},{value:"11779",label:"361031779"},{value:"11780",label:"361031780"},{value:"11782",label:"361031782"},{value:"11783",label:"360591783"},{value:"11784",label:"361031784"},{value:"11786",label:"361031786"},{value:"11787",label:"361031787"},{value:"11788",label:"361031788"},{value:"11789",label:"361031789"},{value:"11790",label:"361031790"},{value:"11791",label:"360591791"},{value:"11792",label:"361031792"},{value:"11793",label:"360591793"},{value:"11794",label:"361031794"},{value:"11795",label:"361031795"},{value:"11796",label:"361031796"},{value:"11797",label:"360591797"},{value:"11798",label:"361031798"},{value:"11801",label:"360591801"},{value:"11802",label:"360591802"},{value:"11803",label:"360591803"},{value:"11804",label:"360591804"},{value:"11815",label:"360591815"},{value:"11853",label:"360591853"},{value:"11901",label:"361031901"},{value:"11930",label:"361031930"},{value:"11931",label:"361031931"},{value:"11932",label:"361031932"},{value:"11933",label:"361031933"},{value:"11934",label:"361031934"},{value:"11935",label:"361031935"},{value:"11937",label:"361031937"},{value:"11939",label:"361031939"},{value:"11940",label:"361031940"},{value:"11941",label:"361031941"},{value:"11942",label:"361031942"},{value:"11944",label:"361031944"},{value:"11946",label:"361031946"},{value:"11947",label:"361031947"},{value:"11948",label:"361031948"},{value:"11949",label:"361031949"},{value:"11950",label:"361031950"},{value:"11951",label:"361031951"},{value:"11952",label:"361031952"},{value:"11953",label:"361031953"},{value:"11954",label:"361031954"},{value:"11955",label:"361031955"},{value:"11956",label:"361031956"},{value:"11957",label:"361031957"},{value:"11958",label:"361031958"},{value:"11959",label:"361031959"},{value:"11960",label:"361031960"},{value:"11961",label:"361031961"},{value:"11962",label:"361031962"},{value:"11963",label:"361031963"},{value:"11964",label:"361031964"},{value:"11965",label:"361031965"},{value:"11967",label:"361031967"},{value:"11968",label:"361031968"},{value:"11969",label:"361031969"},{value:"11970",label:"361031970"},{value:"11971",label:"361031971"},{value:"11972",label:"361031972"},{value:"11973",label:"361031973"},{value:"11975",label:"361031975"},{value:"11976",label:"361031976"},{value:"11977",label:"361031977"},{value:"11978",label:"361031978"},{value:"11980",label:"361031980"},{value:"12007",label:"360012007"},{value:"12008",label:"360932008"},{value:"12009",label:"360012009"},{value:"12010",label:"360572010"},{value:"12015",label:"360392015"},{value:"12016",label:"360572016"},{value:"12017",label:"360212017"},{value:"12018",label:"360832018"},{value:"12019",label:"360912019"},{value:"12020",label:"360912020"},{value:"12022",label:"360832022"},{value:"12023",label:"360012023"},{value:"12024",label:"360212024"},{value:"12025",label:"360352025"},{value:"12027",label:"360912027"},{value:"12028",label:"360832028"},{value:"12029",label:"360212029"},{value:"12031",label:"360952031"},{value:"12032",label:"360352032"},{value:"12033",label:"360832033"},{value:"12035",label:"360952035"},{value:"12036",label:"360952036"},{value:"12037",label:"360212037"},{value:"12040",label:"360832040"},{value:"12041",label:"360012041"},{value:"12042",label:"360392042"},{value:"12043",label:"360952043"},{value:"12045",label:"360012045"},{value:"12046",label:"360012046"},{value:"12047",label:"360012047"},{value:"12050",label:"360212050"},{value:"12051",label:"360392051"},{value:"12052",label:"360832052"},{value:"12053",label:"360932053"},{value:"12054",label:"360012054"},{value:"12055",label:"360012055"},{value:"12056",label:"360932056"},{value:"12057",label:"361152057"},{value:"12058",label:"360392058"},{value:"12059",label:"360012059"},{value:"12060",label:"360212060"},{value:"12061",label:"360832061"},{value:"12062",label:"360832062"},{value:"12063",label:"360832063"},{value:"12064",label:"360772064"},{value:"12065",label:"360912065"},{value:"12066",label:"360952066"},{value:"12067",label:"360012067"},{value:"12068",label:"360572068"},{value:"12069",label:"360572069"},{value:"12070",label:"360572070"},{value:"12071",label:"360952071"},{value:"12072",label:"360572072"},{value:"12073",label:"360952073"},{value:"12074",label:"360912074"},{value:"12075",label:"360212075"},{value:"12076",label:"360952076"},{value:"12077",label:"360012077"},{value:"12078",label:"360352078"},{value:"12082",label:"360832082"},{value:"12083",label:"360392083"},{value:"12084",label:"360012084"},{value:"12085",label:"360012085"},{value:"12086",label:"360572086"},{value:"12087",label:"360392087"},{value:"12089",label:"360832089"},{value:"12090",label:"360832090"},{value:"12092",label:"360952092"},{value:"12093",label:"360252093"},{value:"12094",label:"360832094"},{value:"12095",label:"360352095"},{value:"12106",label:"360212106"},{value:"12107",label:"360012107"},{value:"12108",label:"360412108"},{value:"12110",label:"360012110"},{value:"12115",label:"360212115"},{value:"12116",label:"360772116"},{value:"12117",label:"360352117"},{value:"12118",label:"360912118"},{value:"12120",label:"360012120"},{value:"12121",label:"360832121"},{value:"12122",label:"360952122"},{value:"12123",label:"360832123"},{value:"12124",label:"360392124"},{value:"12125",label:"360212125"},{value:"12128",label:"360012128"},{value:"12130",label:"360212130"},{value:"12131",label:"360952131"},{value:"12132",label:"360212132"},{value:"12133",label:"360832133"},{value:"12134",label:"360352134"},{value:"12136",label:"360212136"},{value:"12137",label:"360932137"},{value:"12138",label:"360832138"},{value:"12139",label:"360412139"},{value:"12140",label:"360832140"},{value:"12141",label:"360932141"},{value:"12143",label:"360012143"},{value:"12144",label:"360832144"},{value:"12147",label:"360012147"},{value:"12148",label:"360912148"},{value:"12149",label:"360952149"},{value:"12150",label:"360932150"},{value:"12151",label:"360912151"},{value:"12153",label:"360832153"},{value:"12154",label:"360832154"},{value:"12155",label:"360772155"},{value:"12156",label:"360212156"},{value:"12157",label:"360952157"},{value:"12158",label:"360012158"},{value:"12159",label:"360012159"},{value:"12160",label:"360952160"},{value:"12161",label:"360012161"},{value:"12164",label:"360412164"},{value:"12165",label:"360212165"},{value:"12166",label:"360572166"},{value:"12167",label:"360252167"},{value:"12168",label:"360832168"},{value:"12169",label:"360832169"},{value:"12170",label:"360912170"},{value:"12172",label:"360212172"},{value:"12173",label:"360212173"},{value:"12174",label:"360212174"},{value:"12175",label:"360952175"},{value:"12176",label:"360392176"},{value:"12177",label:"360572177"},{value:"12180",label:"360832180"},{value:"12181",label:"360832181"},{value:"12182",label:"360832182"},{value:"12183",label:"360012183"},{value:"12184",label:"360212184"},{value:"12185",label:"360832185"},{value:"12186",label:"360012186"},{value:"12187",label:"360952187"},{value:"12188",label:"360912188"},{value:"12189",label:"360012189"},{value:"12190",label:"360412190"},{value:"12192",label:"360392192"},{value:"12193",label:"360012193"},{value:"12194",label:"360952194"},{value:"12195",label:"360212195"},{value:"12196",label:"360832196"},{value:"12197",label:"360772197"},{value:"12198",label:"360832198"},{value:"12201",label:"360012201"},{value:"12202",label:"360012202"},{value:"12203",label:"360012203"},{value:"12204",label:"360012204"},{value:"12205",label:"360012205"},{value:"12206",label:"360012206"},{value:"12207",label:"360012207"},{value:"12208",label:"360012208"},{value:"12209",label:"360012209"},{value:"12210",label:"360012210"},{value:"12211",label:"360012211"},{value:"12212",label:"360012212"},{value:"12214",label:"360012214"},{value:"12220",label:"360012220"},{value:"12222",label:"360012222"},{value:"12223",label:"360012223"},{value:"12224",label:"360012224"},{value:"12225",label:"360012225"},{value:"12226",label:"360012226"},{value:"12227",label:"360012227"},{value:"12228",label:"360012228"},{value:"12229",label:"360012229"},{value:"12230",label:"360012230"},{value:"12231",label:"360012231"},{value:"12232",label:"360012232"},{value:"12233",label:"360012233"},{value:"12234",label:"360012234"},{value:"12235",label:"360012235"},{value:"12236",label:"360012236"},{value:"12237",label:"360012237"},{value:"12238",label:"360012238"},{value:"12239",label:"360012239"},{value:"12240",label:"361112240"},{value:"12241",label:"360012241"},{value:"12242",label:"360012242"},{value:"12243",label:"360012243"},{value:"12244",label:"360012244"},{value:"12245",label:"360012245"},{value:"12246",label:"360012246"},{value:"12247",label:"360012247"},{value:"12248",label:"360012248"},{value:"12249",label:"360012249"},{value:"12250",label:"360712250"},{value:"12255",label:"360012255"},{value:"12257",label:"360012257"},{value:"12260",label:"360012260"},{value:"12261",label:"360012261"},{value:"12288",label:"360012288"},{value:"12301",label:"360932301"},{value:"12302",label:"360932302"},{value:"12303",label:"360932303"},{value:"12304",label:"360932304"},{value:"12305",label:"360932305"},{value:"12306",label:"360932306"},{value:"12307",label:"360932307"},{value:"12308",label:"360932308"},{value:"12309",label:"360932309"},{value:"12325",label:"360932325"},{value:"12345",label:"360932345"},{value:"12401",label:"361112401"},{value:"12402",label:"361112402"},{value:"12404",label:"361112404"},{value:"12405",label:"360392405"},{value:"12406",label:"360252406"},{value:"12407",label:"360392407"},{value:"12409",label:"361112409"},{value:"12410",label:"361112410"},{value:"12411",label:"361112411"},{value:"12412",label:"361112412"},{value:"12413",label:"360392413"},{value:"12414",label:"360392414"},{value:"12416",label:"361112416"},{value:"12417",label:"361112417"},{value:"12418",label:"360392418"},{value:"12419",label:"361112419"},{value:"12420",label:"361112420"},{value:"12421",label:"360252421"},{value:"12422",label:"360392422"},{value:"12423",label:"360392423"},{value:"12424",label:"360392424"},{value:"12427",label:"360392427"},{value:"12428",label:"361112428"},{value:"12429",label:"361112429"},{value:"12430",label:"360252430"},{value:"12431",label:"360392431"},{value:"12432",label:"361112432"},{value:"12433",label:"361112433"},{value:"12434",label:"360252434"},{value:"12435",label:"361112435"},{value:"12436",label:"360392436"},{value:"12438",label:"360252438"},{value:"12439",label:"360392439"},{value:"12440",label:"361112440"},{value:"12441",label:"361112441"},{value:"12442",label:"360392442"},{value:"12443",label:"361112443"},{value:"12444",label:"360392444"},{value:"12446",label:"361112446"},{value:"12448",label:"361112448"},{value:"12449",label:"361112449"},{value:"12450",label:"360392450"},{value:"12451",label:"360392451"},{value:"12452",label:"360392452"},{value:"12453",label:"361112453"},{value:"12454",label:"360392454"},{value:"12455",label:"360252455"},{value:"12456",label:"361112456"},{value:"12457",label:"361112457"},{value:"12458",label:"361112458"},{value:"12459",label:"360252459"},{value:"12460",label:"360392460"},{value:"12461",label:"361112461"},{value:"12463",label:"360392463"},{value:"12464",label:"361112464"},{value:"12465",label:"361112465"},{value:"12466",label:"361112466"},{value:"12468",label:"360392468"},{value:"12469",label:"360012469"},{value:"12470",label:"360392470"},{value:"12471",label:"361112471"},{value:"12472",label:"361112472"},{value:"12473",label:"360392473"},{value:"12474",label:"360252474"},{value:"12475",label:"361112475"},{value:"12477",label:"361112477"},{value:"12480",label:"361112480"},{value:"12481",label:"361112481"},{value:"12482",label:"360392482"},{value:"12483",label:"361112483"},{value:"12484",label:"361112484"},{value:"12485",label:"360392485"},{value:"12486",label:"361112486"},{value:"12487",label:"361112487"},{value:"12489",label:"361112489"},{value:"12490",label:"361112490"},{value:"12491",label:"361112491"},{value:"12492",label:"360392492"},{value:"12493",label:"361112493"},{value:"12494",label:"361112494"},{value:"12495",label:"361112495"},{value:"12496",label:"360392496"},{value:"12498",label:"361112498"},{value:"12501",label:"360272501"},{value:"12502",label:"360212502"},{value:"12503",label:"360212503"},{value:"12504",label:"360272504"},{value:"12506",label:"360272506"},{value:"12507",label:"360272507"},{value:"12508",label:"360272508"},{value:"12510",label:"360272510"},{value:"12511",label:"360272511"},{value:"12512",label:"360272512"},{value:"12513",label:"360212513"},{value:"12514",label:"360272514"},{value:"12515",label:"361112515"},{value:"12516",label:"360212516"},{value:"12517",label:"360212517"},{value:"12518",label:"360712518"},{value:"12520",label:"360712520"},{value:"12521",label:"360212521"},{value:"12522",label:"360272522"},{value:"12523",label:"360212523"},{value:"12524",label:"360272524"},{value:"12525",label:"361112525"},{value:"12526",label:"360212526"},{value:"12527",label:"360272527"},{value:"12528",label:"361112528"},{value:"12529",label:"360212529"},{value:"12530",label:"360212530"},{value:"12531",label:"360272531"},{value:"12533",label:"360272533"},{value:"12534",label:"360212534"},{value:"12537",label:"360272537"},{value:"12538",label:"360272538"},{value:"12540",label:"360272540"},{value:"12541",label:"360212541"},{value:"12542",label:"361112542"},{value:"12543",label:"360712543"},{value:"12544",label:"360212544"},{value:"12545",label:"360272545"},{value:"12546",label:"360272546"},{value:"12547",label:"361112547"},{value:"12548",label:"361112548"},{value:"12549",label:"360712549"},{value:"12550",label:"360712550"},{value:"12551",label:"360712551"},{value:"12552",label:"360712552"},{value:"12553",label:"360712553"},{value:"12555",label:"360712555"},{value:"12561",label:"361112561"},{value:"12563",label:"360792563"},{value:"12564",label:"360272564"},{value:"12565",label:"360212565"},{value:"12566",label:"360712566"},{value:"12567",label:"360272567"},{value:"12568",label:"361112568"},{value:"12569",label:"360272569"},{value:"12570",label:"360272570"},{value:"12571",label:"360272571"},{value:"12572",label:"360272572"},{value:"12574",label:"360272574"},{value:"12575",label:"360712575"},{value:"12577",label:"360712577"},{value:"12578",label:"360272578"},{value:"12580",label:"360272580"},{value:"12581",label:"360272581"},{value:"12582",label:"360272582"},{value:"12583",label:"360272583"},{value:"12584",label:"360712584"},{value:"12585",label:"360272585"},{value:"12586",label:"360712586"},{value:"12588",label:"361112588"},{value:"12589",label:"361112589"},{value:"12590",label:"360272590"},{value:"12592",label:"360272592"},{value:"12594",label:"360272594"},{value:"12601",label:"360272601"},{value:"12602",label:"360272602"},{value:"12603",label:"360272603"},{value:"12604",label:"360272604"},{value:"12701",label:"361052701"},{value:"12719",label:"361052719"},{value:"12720",label:"361052720"},{value:"12721",label:"361052721"},{value:"12722",label:"361052722"},{value:"12723",label:"361052723"},{value:"12724",label:"361052724"},{value:"12725",label:"361052725"},{value:"12726",label:"361052726"},{value:"12727",label:"361052727"},{value:"12729",label:"360712729"},{value:"12732",label:"361052732"},{value:"12733",label:"361052733"},{value:"12734",label:"361052734"},{value:"12736",label:"361052736"},{value:"12737",label:"361052737"},{value:"12738",label:"361052738"},{value:"12740",label:"361052740"},{value:"12741",label:"361052741"},{value:"12742",label:"361052742"},{value:"12743",label:"361052743"},{value:"12745",label:"361052745"},{value:"12746",label:"360712746"},{value:"12747",label:"361052747"},{value:"12748",label:"361052748"},{value:"12749",label:"361052749"},{value:"12750",label:"361052750"},{value:"12751",label:"361052751"},{value:"12752",label:"361052752"},{value:"12754",label:"361052754"},{value:"12758",label:"361052758"},{value:"12759",label:"361052759"},{value:"12760",label:"360252760"},{value:"12762",label:"361052762"},{value:"12763",label:"361052763"},{value:"12764",label:"361052764"},{value:"12765",label:"361052765"},{value:"12766",label:"361052766"},{value:"12767",label:"361052767"},{value:"12768",label:"361052768"},{value:"12769",label:"361052769"},{value:"12770",label:"361052770"},{value:"12771",label:"360712771"},{value:"12775",label:"361052775"},{value:"12776",label:"360252776"},{value:"12777",label:"361052777"},{value:"12778",label:"361052778"},{value:"12779",label:"361052779"},{value:"12780",label:"360712780"},{value:"12781",label:"361052781"},{value:"12783",label:"361052783"},{value:"12784",label:"361052784"},{value:"12785",label:"360712785"},{value:"12786",label:"361052786"},{value:"12787",label:"361052787"},{value:"12788",label:"361052788"},{value:"12789",label:"361052789"},{value:"12790",label:"361052790"},{value:"12791",label:"361052791"},{value:"12792",label:"361052792"},{value:"12801",label:"361132801"},{value:"12803",label:"360912803"},{value:"12804",label:"361132804"},{value:"12808",label:"361132808"},{value:"12809",label:"361152809"},{value:"12810",label:"361132810"},{value:"12811",label:"361132811"},{value:"12812",label:"360412812"},{value:"12814",label:"361132814"},{value:"12815",label:"361132815"},{value:"12816",label:"361152816"},{value:"12817",label:"361132817"},{value:"12819",label:"361152819"},{value:"12820",label:"361132820"},{value:"12821",label:"361152821"},{value:"12822",label:"360912822"},{value:"12823",label:"361152823"},{value:"12824",label:"361132824"},{value:"12827",label:"361152827"},{value:"12828",label:"361152828"},{value:"12831",label:"360912831"},{value:"12832",label:"361152832"},{value:"12833",label:"360912833"},{value:"12834",label:"361152834"},{value:"12835",label:"360912835"},{value:"12836",label:"361132836"},{value:"12837",label:"361152837"},{value:"12838",label:"361152838"},{value:"12839",label:"361152839"},{value:"12841",label:"361152841"},{value:"12842",label:"360412842"},{value:"12843",label:"361132843"},{value:"12844",label:"361152844"},{value:"12845",label:"361132845"},{value:"12846",label:"361132846"},{value:"12847",label:"360412847"},{value:"12848",label:"361152848"},{value:"12849",label:"361152849"},{value:"12850",label:"360912850"},{value:"12851",label:"360312851"},{value:"12852",label:"360312852"},{value:"12853",label:"361132853"},{value:"12854",label:"361152854"},{value:"12855",label:"360312855"},{value:"12856",label:"361132856"},{value:"12857",label:"360312857"},{value:"12858",label:"360312858"},{value:"12859",label:"360912859"},{value:"12860",label:"361132860"},{value:"12861",label:"361152861"},{value:"12862",label:"361132862"},{value:"12863",label:"360912863"},{value:"12864",label:"360412864"},{value:"12865",label:"361152865"},{value:"12866",label:"360912866"},{value:"12870",label:"360312870"},{value:"12871",label:"360912871"},{value:"12872",label:"360312872"},{value:"12873",label:"361152873"},{value:"12874",label:"361132874"},{value:"12878",label:"361132878"},{value:"12879",label:"360312879"},{value:"12883",label:"360312883"},{value:"12884",label:"360912884"},{value:"12885",label:"361132885"},{value:"12886",label:"361132886"},{value:"12887",label:"361152887"},{value:"12901",label:"360192901"},{value:"12903",label:"360192903"},{value:"12910",label:"360192910"},{value:"12911",label:"360192911"},{value:"12912",label:"360192912"},{value:"12913",label:"360312913"},{value:"12914",label:"360332914"},{value:"12915",label:"360332915"},{value:"12916",label:"360332916"},{value:"12917",label:"360332917"},{value:"12918",label:"360192918"},{value:"12919",label:"360192919"},{value:"12920",label:"360332920"},{value:"12921",label:"360192921"},{value:"12922",label:"360892922"},{value:"12923",label:"360192923"},{value:"12924",label:"360192924"},{value:"12926",label:"360332926"},{value:"12927",label:"360892927"},{value:"12928",label:"360312928"},{value:"12929",label:"360192929"},{value:"12930",label:"360332930"},{value:"12932",label:"360312932"},{value:"12933",label:"360192933"},{value:"12934",label:"360192934"},{value:"12935",label:"360192935"},{value:"12936",label:"360312936"},{value:"12937",label:"360332937"},{value:"12939",label:"360332939"},{value:"12941",label:"360312941"},{value:"12942",label:"360312942"},{value:"12943",label:"360312943"},{value:"12944",label:"360312944"},{value:"12945",label:"360332945"},{value:"12946",label:"360312946"},{value:"12949",label:"360892949"},{value:"12950",label:"360312950"},{value:"12952",label:"360192952"},{value:"12953",label:"360332953"},{value:"12955",label:"360192955"},{value:"12956",label:"360312956"},{value:"12957",label:"360332957"},{value:"12958",label:"360192958"},{value:"12959",label:"360192959"},{value:"12960",label:"360312960"},{value:"12961",label:"360312961"},{value:"12962",label:"360192962"},{value:"12964",label:"360312964"},{value:"12965",label:"360892965"},{value:"12966",label:"360332966"},{value:"12967",label:"360892967"},{value:"12969",label:"360332969"},{value:"12970",label:"360332970"},{value:"12972",label:"360192972"},{value:"12973",label:"360892973"},{value:"12974",label:"360312974"},{value:"12975",label:"360312975"},{value:"12976",label:"360332976"},{value:"12977",label:"360312977"},{value:"12978",label:"360192978"},{value:"12979",label:"360192979"},{value:"12980",label:"360332980"},{value:"12981",label:"360192981"},{value:"12983",label:"360332983"},{value:"12985",label:"360192985"},{value:"12986",label:"360332986"},{value:"12987",label:"360312987"},{value:"12989",label:"360332989"},{value:"12992",label:"360192992"},{value:"12993",label:"360312993"},{value:"12995",label:"360332995"},{value:"12996",label:"360312996"},{value:"12997",label:"360312997"},{value:"12998",label:"360312998"},{value:"13020",label:"360673020"},{value:"13021",label:"360113021"},{value:"13022",label:"360113022"},{value:"13024",label:"360113024"},{value:"13026",label:"360113026"},{value:"13027",label:"360673027"},{value:"13028",label:"360753028"},{value:"13029",label:"360673029"},{value:"13030",label:"360533030"},{value:"13031",label:"360673031"},{value:"13032",label:"360533032"},{value:"13033",label:"360113033"},{value:"13034",label:"360113034"},{value:"13035",label:"360533035"},{value:"13036",label:"360753036"},{value:"13037",label:"360533037"},{value:"13039",label:"360673039"},{value:"13040",label:"360233040"},{value:"13041",label:"360673041"},{value:"13042",label:"360753042"},{value:"13043",label:"360533043"},{value:"13044",label:"360753044"},{value:"13045",label:"360233045"},{value:"13051",label:"360673051"},{value:"13052",label:"360533052"},{value:"13053",label:"361093053"},{value:"13054",label:"360653054"},{value:"13056",label:"360233056"},{value:"13057",label:"360673057"},{value:"13060",label:"360673060"},{value:"13061",label:"360533061"},{value:"13062",label:"361093062"},{value:"13063",label:"360673063"},{value:"13064",label:"360113064"},{value:"13065",label:"360993065"},{value:"13066",label:"360673066"},{value:"13068",label:"361093068"},{value:"13069",label:"360753069"},{value:"13071",label:"360113071"},{value:"13072",label:"360533072"},{value:"13073",label:"361093073"},{value:"13074",label:"360753074"},{value:"13076",label:"360753076"},{value:"13077",label:"360233077"},{value:"13078",label:"360673078"},{value:"13080",label:"360673080"},{value:"13081",label:"360113081"},{value:"13082",label:"360673082"},{value:"13083",label:"360753083"},{value:"13084",label:"360673084"},{value:"13087",label:"360233087"},{value:"13088",label:"360673088"},{value:"13089",label:"360673089"},{value:"13090",label:"360673090"},{value:"13092",label:"360113092"},{value:"13093",label:"360753093"},{value:"13101",label:"360233101"},{value:"13102",label:"361093102"},{value:"13103",label:"360753103"},{value:"13104",label:"360673104"},{value:"13107",label:"360753107"},{value:"13108",label:"360673108"},{value:"13110",label:"360673110"},{value:"13111",label:"360113111"},{value:"13112",label:"360673112"},{value:"13113",label:"360113113"},{value:"13114",label:"360753114"},{value:"13115",label:"360753115"},{value:"13116",label:"360673116"},{value:"13117",label:"360113117"},{value:"13118",label:"360113118"},{value:"13119",label:"360673119"},{value:"13120",label:"360673120"},{value:"13121",label:"360753121"},{value:"13122",label:"360533122"},{value:"13123",label:"360653123"},{value:"13124",label:"360173124"},{value:"13126",label:"360753126"},{value:"13131",label:"360753131"},{value:"13132",label:"360753132"},{value:"13134",label:"360533134"},{value:"13135",label:"360753135"},{value:"13136",label:"360173136"},{value:"13137",label:"360673137"},{value:"13138",label:"360673138"},{value:"13139",label:"360113139"},{value:"13140",label:"360113140"},{value:"13141",label:"360233141"},{value:"13142",label:"360753142"},{value:"13143",label:"361173143"},{value:"13144",label:"360753144"},{value:"13145",label:"360753145"},{value:"13146",label:"361173146"},{value:"13147",label:"360113147"},{value:"13148",label:"360993148"},{value:"13152",label:"360673152"},{value:"13153",label:"360673153"},{value:"13154",label:"361173154"},{value:"13155",label:"360173155"},{value:"13156",label:"360113156"},{value:"13157",label:"360653157"},{value:"13158",label:"360233158"},{value:"13159",label:"360673159"},{value:"13160",label:"360113160"},{value:"13162",label:"360653162"},{value:"13163",label:"360533163"},{value:"13164",label:"360673164"},{value:"13165",label:"360993165"},{value:"13166",label:"360113166"},{value:"13167",label:"360753167"},{value:"13201",label:"360673201"},{value:"13202",label:"360673202"},{value:"13203",label:"360673203"},{value:"13204",label:"360673204"},{value:"13205",label:"360673205"},{value:"13206",label:"360673206"},{value:"13207",label:"360673207"},{value:"13208",label:"360673208"},{value:"13209",label:"360673209"},{value:"13210",label:"360673210"},{value:"13211",label:"360673211"},{value:"13212",label:"360673212"},{value:"13214",label:"360673214"},{value:"13215",label:"360673215"},{value:"13217",label:"360673217"},{value:"13218",label:"360673218"},{value:"13219",label:"360673219"},{value:"13220",label:"360673220"},{value:"13221",label:"360673221"},{value:"13224",label:"360673224"},{value:"13225",label:"360673225"},{value:"13235",label:"360673235"},{value:"13244",label:"360673244"},{value:"13250",label:"360673250"},{value:"13251",label:"360673251"},{value:"13252",label:"360673252"},{value:"13261",label:"360673261"},{value:"13290",label:"360673290"},{value:"13301",label:"360653301"},{value:"13302",label:"360753302"},{value:"13303",label:"360653303"},{value:"13304",label:"360653304"},{value:"13305",label:"360493305"},{value:"13308",label:"360653308"},{value:"13309",label:"360653309"},{value:"13310",label:"360533310"},{value:"13312",label:"360493312"},{value:"13313",label:"360653313"},{value:"13314",label:"360533314"},{value:"13315",label:"360773315"},{value:"13316",label:"360653316"},{value:"13317",label:"360573317"},{value:"13318",label:"360653318"},{value:"13319",label:"360653319"},{value:"13320",label:"360773320"},{value:"13321",label:"360653321"},{value:"13322",label:"360653322"},{value:"13323",label:"360653323"},{value:"13324",label:"360433324"},{value:"13325",label:"360493325"},{value:"13326",label:"360773326"},{value:"13327",label:"360493327"},{value:"13328",label:"360653328"},{value:"13329",label:"360433329"},{value:"13331",label:"360433331"},{value:"13332",label:"360533332"},{value:"13333",label:"360773333"},{value:"13334",label:"360533334"},{value:"13335",label:"360773335"},{value:"13337",label:"360773337"},{value:"13338",label:"360653338"},{value:"13339",label:"360573339"},{value:"13340",label:"360433340"},{value:"13341",label:"360653341"},{value:"13342",label:"360773342"},{value:"13343",label:"360493343"},{value:"13345",label:"360493345"},{value:"13346",label:"360533346"},{value:"13348",label:"360773348"},{value:"13350",label:"360433350"},{value:"13352",label:"360653352"},{value:"13353",label:"360413353"},{value:"13354",label:"360653354"},{value:"13355",label:"360533355"},{value:"13357",label:"360433357"},{value:"13360",label:"360413360"},{value:"13361",label:"360433361"},{value:"13362",label:"360653362"},{value:"13363",label:"360653363"},{value:"13364",label:"360533364"},{value:"13365",label:"360433365"},{value:"13367",label:"360493367"},{value:"13368",label:"360493368"},{value:"13401",label:"360653401"},{value:"13402",label:"360533402"},{value:"13403",label:"360653403"},{value:"13404",label:"360493404"},{value:"13406",label:"360433406"},{value:"13407",label:"360433407"},{value:"13408",label:"360533408"},{value:"13409",label:"360533409"},{value:"13410",label:"360573410"},{value:"13411",label:"360173411"},{value:"13413",label:"360653413"},{value:"13415",label:"360773415"},{value:"13416",label:"360433416"},{value:"13417",label:"360653417"},{value:"13418",label:"360533418"},{value:"13420",label:"360433420"},{value:"13421",label:"360533421"},{value:"13424",label:"360653424"},{value:"13425",label:"360653425"},{value:"13426",label:"360753426"},{value:"13428",label:"360573428"},{value:"13431",label:"360433431"},{value:"13433",label:"360493433"},{value:"13435",label:"360653435"},{value:"13436",label:"360413436"},{value:"13437",label:"360753437"},{value:"13438",label:"360653438"},{value:"13439",label:"360773439"},{value:"13440",label:"360653440"},{value:"13441",label:"360653441"},{value:"13442",label:"360653442"},{value:"13449",label:"360653449"},{value:"13450",label:"360773450"},{value:"13452",label:"360573452"},{value:"13454",label:"360433454"},{value:"13455",label:"360653455"},{value:"13456",label:"360653456"},{value:"13457",label:"360773457"},{value:"13459",label:"360953459"},{value:"13460",label:"360173460"},{value:"13461",label:"360653461"},{value:"13464",label:"360173464"},{value:"13465",label:"360533465"},{value:"13468",label:"360773468"},{value:"13469",label:"360653469"},{value:"13470",label:"360353470"},{value:"13471",label:"360653471"},{value:"13472",label:"360433472"},{value:"13473",label:"360493473"},{value:"13475",label:"360773475"},{value:"13476",label:"360653476"},{value:"13477",label:"360653477"},{value:"13478",label:"360653478"},{value:"13479",label:"360653479"},{value:"13480",label:"360653480"},{value:"13482",label:"360773482"},{value:"13483",label:"360653483"},{value:"13484",label:"360533484"},{value:"13485",label:"360533485"},{value:"13486",label:"360653486"},{value:"13488",label:"360773488"},{value:"13489",label:"360493489"},{value:"13490",label:"360653490"},{value:"13491",label:"360433491"},{value:"13492",label:"360653492"},{value:"13493",label:"360753493"},{value:"13494",label:"360653494"},{value:"13495",label:"360653495"},{value:"13501",label:"360653501"},{value:"13502",label:"360653502"},{value:"13503",label:"360653503"},{value:"13504",label:"360653504"},{value:"13505",label:"360653505"},{value:"13599",label:"360653599"},{value:"13601",label:"360453601"},{value:"13602",label:"360453602"},{value:"13603",label:"360453603"},{value:"13605",label:"360453605"},{value:"13606",label:"360453606"},{value:"13607",label:"360453607"},{value:"13608",label:"360453608"},{value:"13611",label:"360453611"},{value:"13612",label:"360453612"},{value:"13613",label:"360893613"},{value:"13614",label:"360893614"},{value:"13615",label:"360453615"},{value:"13616",label:"360453616"},{value:"13617",label:"360893617"},{value:"13618",label:"360453618"},{value:"13619",label:"360453619"},{value:"13620",label:"360493620"},{value:"13621",label:"360893621"},{value:"13622",label:"360453622"},{value:"13623",label:"360893623"},{value:"13624",label:"360453624"},{value:"13625",label:"360893625"},{value:"13626",label:"360493626"},{value:"13627",label:"360493627"},{value:"13628",label:"360453628"},{value:"13630",label:"360893630"},{value:"13631",label:"360493631"},{value:"13632",label:"360453632"},{value:"13633",label:"360893633"},{value:"13634",label:"360453634"},{value:"13635",label:"360893635"},{value:"13636",label:"360453636"},{value:"13637",label:"360453637"},{value:"13638",label:"360453638"},{value:"13639",label:"360893639"},{value:"13640",label:"360453640"},{value:"13641",label:"360453641"},{value:"13642",label:"360893642"},{value:"13643",label:"360453643"},{value:"13645",label:"360893645"},{value:"13646",label:"360893646"},{value:"13647",label:"360893647"},{value:"13648",label:"360493648"},{value:"13649",label:"360893649"},{value:"13650",label:"360453650"},{value:"13651",label:"360453651"},{value:"13652",label:"360893652"},{value:"13654",label:"360893654"},{value:"13655",label:"360333655"},{value:"13656",label:"360453656"},{value:"13657",label:"360453657"},{value:"13658",label:"360893658"},{value:"13659",label:"360453659"},{value:"13660",label:"360893660"},{value:"13661",label:"360453661"},{value:"13662",label:"360893662"},{value:"13664",label:"360893664"},{value:"13665",label:"360453665"},{value:"13666",label:"360893666"},{value:"13667",label:"360893667"},{value:"13668",label:"360893668"},{value:"13669",label:"360893669"},{value:"13670",label:"360893670"},{value:"13671",label:"360453671"},{value:"13672",label:"360893672"},{value:"13673",label:"360453673"},{value:"13674",label:"360453674"},{value:"13675",label:"360453675"},{value:"13676",label:"360893676"},{value:"13677",label:"360893677"},{value:"13678",label:"360893678"},{value:"13679",label:"360453679"},{value:"13680",label:"360893680"},{value:"13681",label:"360893681"},{value:"13682",label:"360453682"},{value:"13683",label:"360893683"},{value:"13684",label:"360893684"},{value:"13685",label:"360453685"},{value:"13687",label:"360893687"},{value:"13690",label:"360893690"},{value:"13691",label:"360453691"},{value:"13692",label:"360453692"},{value:"13693",label:"360453693"},{value:"13694",label:"360893694"},{value:"13695",label:"360893695"},{value:"13696",label:"360893696"},{value:"13697",label:"360893697"},{value:"13699",label:"360893699"},{value:"13730",label:"360173730"},{value:"13731",label:"360253731"},{value:"13732",label:"361073732"},{value:"13733",label:"360173733"},{value:"13734",label:"361073734"},{value:"13736",label:"361073736"},{value:"13737",label:"360073737"},{value:"13738",label:"360233738"},{value:"13739",label:"360253739"},{value:"13740",label:"360253740"},{value:"13743",label:"361073743"},{value:"13744",label:"360073744"},{value:"13745",label:"360073745"},{value:"13746",label:"360073746"},{value:"13747",label:"360773747"},{value:"13748",label:"360073748"},{value:"13749",label:"360073749"},{value:"13750",label:"360253750"},{value:"13751",label:"360253751"},{value:"13752",label:"360253752"},{value:"13753",label:"360253753"},{value:"13754",label:"360073754"},{value:"13755",label:"360253755"},{value:"13756",label:"360253756"},{value:"13757",label:"360253757"},{value:"13758",label:"360173758"},{value:"13760",label:"360073760"},{value:"13761",label:"360073761"},{value:"13762",label:"360073762"},{value:"13763",label:"360073763"},{value:"13774",label:"360253774"},{value:"13775",label:"360253775"},{value:"13776",label:"360773776"},{value:"13777",label:"360073777"},{value:"13778",label:"360173778"},{value:"13780",label:"360173780"},{value:"13782",label:"360253782"},{value:"13783",label:"360253783"},{value:"13784",label:"360233784"},{value:"13786",label:"360253786"},{value:"13787",label:"360073787"},{value:"13788",label:"360253788"},{value:"13790",label:"360073790"},{value:"13794",label:"360073794"},{value:"13795",label:"360073795"},{value:"13796",label:"360773796"},{value:"13797",label:"360073797"},{value:"13801",label:"360173801"},{value:"13802",label:"360073802"},{value:"13803",label:"360233803"},{value:"13804",label:"360253804"},{value:"13806",label:"360253806"},{value:"13807",label:"360773807"},{value:"13808",label:"360773808"},{value:"13809",label:"360173809"},{value:"13810",label:"360773810"},{value:"13811",label:"361073811"},{value:"13812",label:"361073812"},{value:"13813",label:"360073813"},{value:"13814",label:"360173814"},{value:"13815",label:"360173815"},{value:"13820",label:"360773820"},{value:"13825",label:"360773825"},{value:"13826",label:"360073826"},{value:"13827",label:"361073827"},{value:"13830",label:"360173830"},{value:"13832",label:"360173832"},{value:"13833",label:"360073833"},{value:"13834",label:"360773834"},{value:"13835",label:"361073835"},{value:"13838",label:"360253838"},{value:"13839",label:"360253839"},{value:"13840",label:"361073840"},{value:"13841",label:"360173841"},{value:"13842",label:"360253842"},{value:"13843",label:"360773843"},{value:"13844",label:"360173844"},{value:"13845",label:"361073845"},{value:"13846",label:"360253846"},{value:"13847",label:"360253847"},{value:"13848",label:"360073848"},{value:"13849",label:"360773849"},{value:"13850",label:"360073850"},{value:"13851",label:"360073851"},{value:"13856",label:"360253856"},{value:"13859",label:"360773859"},{value:"13860",label:"360253860"},{value:"13861",label:"360773861"},{value:"13862",label:"360073862"},{value:"13863",label:"360233863"},{value:"13864",label:"361073864"},{value:"13865",label:"360073865"},{value:"13901",label:"360073901"},{value:"13902",label:"360073902"},{value:"13903",label:"360073903"},{value:"13904",label:"360073904"},{value:"13905",label:"360073905"},{value:"14001",label:"360294001"},{value:"14004",label:"360294004"},{value:"14005",label:"360374005"},{value:"14006",label:"360294006"},{value:"14008",label:"360634008"},{value:"14009",label:"361214009"},{value:"14010",label:"360294010"},{value:"14011",label:"361214011"},{value:"14012",label:"360634012"},{value:"14013",label:"360374013"},{value:"14020",label:"360374020"},{value:"14021",label:"360374021"},{value:"14024",label:"361214024"},{value:"14025",label:"360294025"},{value:"14026",label:"360294026"},{value:"14027",label:"360294027"},{value:"14028",label:"360634028"},{value:"14029",label:"360034029"},{value:"14030",label:"360294030"},{value:"14031",label:"360294031"},{value:"14032",label:"360294032"},{value:"14033",label:"360294033"},{value:"14034",label:"360294034"},{value:"14035",label:"360294035"},{value:"14036",label:"360374036"},{value:"14037",label:"361214037"},{value:"14038",label:"360294038"},{value:"14039",label:"361214039"},{value:"14040",label:"360374040"},{value:"14041",label:"360094041"},{value:"14042",label:"360094042"},{value:"14043",label:"360294043"},{value:"14047",label:"360294047"},{value:"14048",label:"360134048"},{value:"14051",label:"360294051"},{value:"14052",label:"360294052"},{value:"14054",label:"360374054"},{value:"14055",label:"360294055"},{value:"14056",label:"360374056"},{value:"14057",label:"360294057"},{value:"14058",label:"360374058"},{value:"14059",label:"360294059"},{value:"14060",label:"360034060"},{value:"14061",label:"360294061"},{value:"14062",label:"360134062"},{value:"14063",label:"360134063"},{value:"14065",label:"360034065"},{value:"14066",label:"361214066"},{value:"14067",label:"360634067"},{value:"14068",label:"360294068"},{value:"14069",label:"360294069"},{value:"14070",label:"360094070"},{value:"14072",label:"360294072"},{value:"14075",label:"360294075"},{value:"14080",label:"360294080"},{value:"14081",label:"360294081"},{value:"14082",label:"361214082"},{value:"14083",label:"361214083"},{value:"14085",label:"360294085"},{value:"14086",label:"360294086"},{value:"14091",label:"360294091"},{value:"14092",label:"360634092"},{value:"14094",label:"360634094"},{value:"14095",label:"360634095"},{value:"14098",label:"360734098"},{value:"14101",label:"360094101"},{value:"14102",label:"360294102"},{value:"14103",label:"360734103"},{value:"14105",label:"360634105"},{value:"14107",label:"360634107"},{value:"14108",label:"360634108"},{value:"14109",label:"360634109"},{value:"14110",label:"360294110"},{value:"14111",label:"360294111"},{value:"14112",label:"360294112"},{value:"14113",label:"361214113"},{value:"14120",label:"360634120"},{value:"14125",label:"360374125"},{value:"14126",label:"360634126"},{value:"14127",label:"360294127"},{value:"14129",label:"360094129"},{value:"14130",label:"361214130"},{value:"14131",label:"360634131"},{value:"14132",label:"360634132"},{value:"14133",label:"360094133"},{value:"14134",label:"360294134"},{value:"14135",label:"360134135"},{value:"14136",label:"360134136"},{value:"14138",label:"360094138"},{value:"14139",label:"360294139"},{value:"14140",label:"360294140"},{value:"14141",label:"360294141"},{value:"14143",label:"360374143"},{value:"14144",label:"360634144"},{value:"14145",label:"361214145"},{value:"14150",label:"360294150"},{value:"14151",label:"360294151"},{value:"14166",label:"360134166"},{value:"14167",label:"361214167"},{value:"14168",label:"360094168"},{value:"14169",label:"360294169"},{value:"14170",label:"360294170"},{value:"14171",label:"360094171"},{value:"14172",label:"360634172"},{value:"14173",label:"360094173"},{value:"14174",label:"360634174"},{value:"14201",label:"360294201"},{value:"14202",label:"360294202"},{value:"14203",label:"360294203"},{value:"14204",label:"360294204"},{value:"14205",label:"360294205"},{value:"14206",label:"360294206"},{value:"14207",label:"360294207"},{value:"14208",label:"360294208"},{value:"14209",label:"360294209"},{value:"14210",label:"360294210"},{value:"14211",label:"360294211"},{value:"14212",label:"360294212"},{value:"14213",label:"360294213"},{value:"14214",label:"360294214"},{value:"14215",label:"360294215"},{value:"14216",label:"360294216"},{value:"14217",label:"360294217"},{value:"14218",label:"360294218"},{value:"14219",label:"360294219"},{value:"14220",label:"360294220"},{value:"14221",label:"360294221"},{value:"14222",label:"360294222"},{value:"14223",label:"360294223"},{value:"14224",label:"360294224"},{value:"14225",label:"360294225"},{value:"14226",label:"360294226"},{value:"14227",label:"360294227"},{value:"14228",label:"360294228"},{value:"14231",label:"360294231"},{value:"14233",label:"360294233"},{value:"14240",label:"360294240"},{value:"14241",label:"360294241"},{value:"14260",label:"360294260"},{value:"14261",label:"360294261"},{value:"14263",label:"360294263"},{value:"14264",label:"360294264"},{value:"14265",label:"360294265"},{value:"14267",label:"360294267"},{value:"14269",label:"360294269"},{value:"14270",label:"360294270"},{value:"14272",label:"360294272"},{value:"14273",label:"360294273"},{value:"14276",label:"360294276"},{value:"14280",label:"360294280"},{value:"14301",label:"360634301"},{value:"14302",label:"360634302"},{value:"14303",label:"360634303"},{value:"14304",label:"360634304"},{value:"14305",label:"360634305"},{value:"14410",label:"360554410"},{value:"14411",label:"360734411"},{value:"14413",label:"361174413"},{value:"14414",label:"360514414"},{value:"14415",label:"361234415"},{value:"14416",label:"360374416"},{value:"14418",label:"361234418"},{value:"14420",label:"360554420"},{value:"14422",label:"360374422"},{value:"14423",label:"360514423"},{value:"14424",label:"360694424"},{value:"14425",label:"360694425"},{value:"14427",label:"361214427"},{value:"14428",label:"360554428"},{value:"14429",label:"360734429"},{value:"14430",label:"360554430"},{value:"14432",label:"360694432"},{value:"14433",label:"361174433"},{value:"14435",label:"360514435"},{value:"14437",label:"360514437"},{value:"14441",label:"361234441"},{value:"14443",label:"360694443"},{value:"14445",label:"360554445"},{value:"14449",label:"361174449"},{value:"14450",label:"360554450"},{value:"14452",label:"360734452"},{value:"14453",label:"360694453"},{value:"14454",label:"360514454"},{value:"14456",label:"360694456"},{value:"14461",label:"360694461"},{value:"14462",label:"360514462"},{value:"14463",label:"360694463"},{value:"14464",label:"360554464"},{value:"14466",label:"360514466"},{value:"14467",label:"360554467"},{value:"14468",label:"360554468"},{value:"14469",label:"360694469"},{value:"14470",label:"360734470"},{value:"14471",label:"360694471"},{value:"14472",label:"360554472"},{value:"14475",label:"360694475"},{value:"14476",label:"360734476"},{value:"14477",label:"360734477"},{value:"14478",label:"361234478"},{value:"14479",label:"360734479"},{value:"14480",label:"360514480"},{value:"14481",label:"360514481"},{value:"14482",label:"360374482"},{value:"14485",label:"360514485"},{value:"14486",label:"360514486"},{value:"14487",label:"360514487"},{value:"14488",label:"360514488"},{value:"14489",label:"361174489"},{value:"14502",label:"361174502"},{value:"14504",label:"360694504"},{value:"14505",label:"361174505"},{value:"14506",label:"360554506"},{value:"14507",label:"361234507"},{value:"14508",label:"360734508"},{value:"14510",label:"360514510"},{value:"14511",label:"360554511"},{value:"14512",label:"360694512"},{value:"14513",label:"361174513"},{value:"14514",label:"360554514"},{value:"14515",label:"360554515"},{value:"14516",label:"361174516"},{value:"14517",label:"360514517"},{value:"14518",label:"360694518"},{value:"14519",label:"361174519"},{value:"14520",label:"361174520"},{value:"14521",label:"360994521"},{value:"14522",label:"361174522"},{value:"14525",label:"360374525"},{value:"14526",label:"360554526"},{value:"14527",label:"361234527"},{value:"14529",label:"361014529"},{value:"14530",label:"361214530"},{value:"14532",label:"360694532"},{value:"14533",label:"360514533"},{value:"14534",label:"360554534"},{value:"14536",label:"361214536"},{value:"14537",label:"360694537"},{value:"14538",label:"361174538"},{value:"14539",label:"360514539"},{value:"14541",label:"360994541"},{value:"14542",label:"361174542"},{value:"14543",label:"360554543"},{value:"14544",label:"361234544"},{value:"14545",label:"360514545"},{value:"14546",label:"360554546"},{value:"14547",label:"360694547"},{value:"14548",label:"360694548"},{value:"14549",label:"361214549"},{value:"14550",label:"361214550"},{value:"14551",label:"361174551"},{value:"14555",label:"361174555"},{value:"14556",label:"360514556"},{value:"14557",label:"360374557"},{value:"14558",label:"360514558"},{value:"14559",label:"360554559"},{value:"14560",label:"360514560"},{value:"14561",label:"360694561"},{value:"14563",label:"361174563"},{value:"14564",label:"360694564"},{value:"14568",label:"361174568"},{value:"14569",label:"361214569"},{value:"14571",label:"360734571"},{value:"14572",label:"361014572"},{value:"14580",label:"360554580"},{value:"14585",label:"360694585"},{value:"14586",label:"360554586"},{value:"14588",label:"360994588"},{value:"14589",label:"361174589"},{value:"14590",label:"361174590"},{value:"14591",label:"361214591"},{value:"14592",label:"360514592"},{value:"14602",label:"360554602"},{value:"14603",label:"360554603"},{value:"14604",label:"360554604"},{value:"14605",label:"360554605"},{value:"14606",label:"360554606"},{value:"14607",label:"360554607"},{value:"14608",label:"360554608"},{value:"14609",label:"360554609"},{value:"14610",label:"360554610"},{value:"14611",label:"360554611"},{value:"14612",label:"360554612"},{value:"14613",label:"360554613"},{value:"14614",label:"360554614"},{value:"14615",label:"360554615"},{value:"14616",label:"360554616"},{value:"14617",label:"360554617"},{value:"14618",label:"360554618"},{value:"14619",label:"360554619"},{value:"14620",label:"360554620"},{value:"14621",label:"360554621"},{value:"14622",label:"360554622"},{value:"14623",label:"360554623"},{value:"14624",label:"360554624"},{value:"14625",label:"360554625"},{value:"14626",label:"360554626"},{value:"14627",label:"360554627"},{value:"14638",label:"360554638"},{value:"14639",label:"360554639"},{value:"14642",label:"360554642"},{value:"14643",label:"360554643"},{value:"14644",label:"360554644"},{value:"14646",label:"360554646"},{value:"14647",label:"360554647"},{value:"14649",label:"360554649"},{value:"14650",label:"360554650"},{value:"14651",label:"360554651"},{value:"14652",label:"360554652"},{value:"14653",label:"360554653"},{value:"14692",label:"360554692"},{value:"14694",label:"360554694"},{value:"14701",label:"360134701"},{value:"14702",label:"360134702"},{value:"14706",label:"360094706"},{value:"14707",label:"360034707"},{value:"14708",label:"360034708"},{value:"14709",label:"360034709"},{value:"14710",label:"360134710"},{value:"14711",label:"360034711"},{value:"14712",label:"360134712"},{value:"14714",label:"360034714"},{value:"14715",label:"360034715"},{value:"14716",label:"360134716"},{value:"14717",label:"360034717"},{value:"14718",label:"360134718"},{value:"14719",label:"360094719"},{value:"14720",label:"360134720"},{value:"14721",label:"360034721"},{value:"14722",label:"360134722"},{value:"14723",label:"360134723"},{value:"14724",label:"360134724"},{value:"14726",label:"360094726"},{value:"14727",label:"360034727"},{value:"14728",label:"360134728"},{value:"14729",label:"360094729"},{value:"14730",label:"360094730"},{value:"14731",label:"360094731"},{value:"14732",label:"360134732"},{value:"14733",label:"360134733"},{value:"14735",label:"360034735"},{value:"14736",label:"360134736"},{value:"14737",label:"360094737"},{value:"14738",label:"360134738"},{value:"14739",label:"360034739"},{value:"14740",label:"360134740"},{value:"14741",label:"360094741"},{value:"14742",label:"360134742"},{value:"14743",label:"360094743"},{value:"14744",label:"360034744"},{value:"14745",label:"360034745"},{value:"14747",label:"360134747"},{value:"14748",label:"360094748"},{value:"14750",label:"360134750"},{value:"14751",label:"360094751"},{value:"14752",label:"360134752"},{value:"14753",label:"360094753"},{value:"14754",label:"360034754"},{value:"14755",label:"360094755"},{value:"14756",label:"360134756"},{value:"14757",label:"360134757"},{value:"14758",label:"360134758"},{value:"14760",label:"360094760"},{value:"14766",label:"360094766"},{value:"14767",label:"360134767"},{value:"14769",label:"360134769"},{value:"14770",label:"360094770"},{value:"14772",label:"360094772"},{value:"14774",label:"360034774"},{value:"14775",label:"360134775"},{value:"14777",label:"360034777"},{value:"14778",label:"360094778"},{value:"14779",label:"360094779"},{value:"14781",label:"360134781"},{value:"14782",label:"360134782"},{value:"14783",label:"360094783"},{value:"14784",label:"360134784"},{value:"14785",label:"360134785"},{value:"14786",label:"360034786"},{value:"14787",label:"360134787"},{value:"14788",label:"360094788"},{value:"14801",label:"361014801"},{value:"14802",label:"360034802"},{value:"14803",label:"360034803"},{value:"14804",label:"360034804"},{value:"14805",label:"360974805"},{value:"14806",label:"360034806"},{value:"14807",label:"361014807"},{value:"14808",label:"361014808"},{value:"14809",label:"361014809"},{value:"14810",label:"361014810"},{value:"14812",label:"360154812"},{value:"14813",label:"360034813"},{value:"14814",label:"360154814"},{value:"14815",label:"360974815"},{value:"14816",label:"360154816"},{value:"14817",label:"361094817"},{value:"14818",label:"360974818"},{value:"14819",label:"361014819"},{value:"14820",label:"361014820"},{value:"14821",label:"361014821"},{value:"14822",label:"360034822"},{value:"14823",label:"361014823"},{value:"14824",label:"360974824"},{value:"14825",label:"360154825"},{value:"14826",label:"361014826"},{value:"14827",label:"361014827"},{value:"14830",label:"361014830"},{value:"14831",label:"361014831"},{value:"14836",label:"360514836"},{value:"14837",label:"361234837"},{value:"14838",label:"360154838"},{value:"14839",label:"361014839"},{value:"14840",label:"361014840"},{value:"14841",label:"360974841"},{value:"14842",label:"361234842"},{value:"14843",label:"361014843"},{value:"14845",label:"360154845"},{value:"14846",label:"360514846"},{value:"14847",label:"360994847"},{value:"14850",label:"361094850"},{value:"14851",label:"361094851"},{value:"14852",label:"361094852"},{value:"14853",label:"361094853"},{value:"14854",label:"361094854"},{value:"14855",label:"361014855"},{value:"14856",label:"361014856"},{value:"14857",label:"361234857"},{value:"14858",label:"361014858"},{value:"14859",label:"360154859"},{value:"14860",label:"360994860"},{value:"14861",label:"360154861"},{value:"14863",label:"360974863"},{value:"14864",label:"360154864"},{value:"14865",label:"360974865"},{value:"14867",label:"361094867"},{value:"14869",label:"360974869"},{value:"14870",label:"361014870"},{value:"14871",label:"360154871"},{value:"14872",label:"360154872"},{value:"14873",label:"361014873"},{value:"14874",label:"361014874"},{value:"14876",label:"360974876"},{value:"14877",label:"361014877"},{value:"14878",label:"360974878"},{value:"14879",label:"361014879"},{value:"14880",label:"360034880"},{value:"14881",label:"361094881"},{value:"14882",label:"361094882"},{value:"14883",label:"361074883"},{value:"14884",label:"360034884"},{value:"14885",label:"361014885"},{value:"14886",label:"361094886"},{value:"14887",label:"360974887"},{value:"14889",label:"360154889"},{value:"14891",label:"360974891"},{value:"14892",label:"361074892"},{value:"14893",label:"361014893"},{value:"14894",label:"360154894"},{value:"14895",label:"360034895"},{value:"14897",label:"360034897"},{value:"14898",label:"361014898"},{value:"14901",label:"360154901"},{value:"14902",label:"360154902"},{value:"14903",label:"360154903"},{value:"14904",label:"360154904"},{value:"14905",label:"360154905"},{value:"15001",label:"420075001"},{value:"15003",label:"420075003"},{value:"15004",label:"421255004"},{value:"15005",label:"420075005"},{value:"15006",label:"420035006"},{value:"15007",label:"420035007"},{value:"15009",label:"420075009"},{value:"15010",label:"420075010"},{value:"15012",label:"421295012"},{value:"15014",label:"420035014"},{value:"15015",label:"420035015"},{value:"15017",label:"420035017"},{value:"15018",label:"420035018"},{value:"15019",label:"421255019"},{value:"15020",label:"420035020"},{value:"15021",label:"421255021"},{value:"15022",label:"421255022"},{value:"15024",label:"420035024"},{value:"15025",label:"420035025"},{value:"15026",label:"420035026"},{value:"15027",label:"420075027"},{value:"15028",label:"420035028"},{value:"15030",label:"420035030"},{value:"15031",label:"420035031"},{value:"15032",label:"420035032"},{value:"15033",label:"421255033"},{value:"15034",label:"420035034"},{value:"15035",label:"420035035"},{value:"15037",label:"420035037"},{value:"15038",label:"421255038"},{value:"15042",label:"420075042"},{value:"15043",label:"420075043"},{value:"15044",label:"420035044"},{value:"15045",label:"420035045"},{value:"15046",label:"420035046"},{value:"15047",label:"420035047"},{value:"15049",label:"420035049"},{value:"15050",label:"420075050"},{value:"15051",label:"420035051"},{value:"15052",label:"420075052"},{value:"15053",label:"421255053"},{value:"15054",label:"421255054"},{value:"15055",label:"421255055"},{value:"15056",label:"420035056"},{value:"15057",label:"421255057"},{value:"15059",label:"420075059"},{value:"15060",label:"421255060"},{value:"15061",label:"420075061"},{value:"15062",label:"421295062"},{value:"15063",label:"421255063"},{value:"15064",label:"420035064"},{value:"15065",label:"420035065"},{value:"15066",label:"420075066"},{value:"15067",label:"421255067"},{value:"15068",label:"421295068"},{value:"15069",label:"421295069"},{value:"15071",label:"420035071"},{value:"15072",label:"421295072"},{value:"15074",label:"420075074"},{value:"15075",label:"420035075"},{value:"15076",label:"420035076"},{value:"15077",label:"420075077"},{value:"15078",label:"421255078"},{value:"15081",label:"420075081"},{value:"15082",label:"420035082"},{value:"15083",label:"421295083"},{value:"15084",label:"420035084"},{value:"15085",label:"421295085"},{value:"15086",label:"420035086"},{value:"15087",label:"421295087"},{value:"15088",label:"420035088"},{value:"15089",label:"421295089"},{value:"15090",label:"420035090"},{value:"15091",label:"420035091"},{value:"15095",label:"420035095"},{value:"15096",label:"420035096"},{value:"15101",label:"420035101"},{value:"15102",label:"420035102"},{value:"15104",label:"420035104"},{value:"15106",label:"420035106"},{value:"15108",label:"420035108"},{value:"15110",label:"420035110"},{value:"15112",label:"420035112"},{value:"15116",label:"420035116"},{value:"15120",label:"420035120"},{value:"15122",label:"420035122"},{value:"15123",label:"420035123"},{value:"15126",label:"420035126"},{value:"15127",label:"420035127"},{value:"15129",label:"420035129"},{value:"15131",label:"420035131"},{value:"15132",label:"420035132"},{value:"15133",label:"420035133"},{value:"15134",label:"420035134"},{value:"15135",label:"420035135"},{value:"15136",label:"420035136"},{value:"15137",label:"420035137"},{value:"15139",label:"420035139"},{value:"15140",label:"420035140"},{value:"15142",label:"420035142"},{value:"15143",label:"420035143"},{value:"15144",label:"420035144"},{value:"15145",label:"420035145"},{value:"15146",label:"420035146"},{value:"15147",label:"420035147"},{value:"15148",label:"420035148"},{value:"15201",label:"420035201"},{value:"15202",label:"420035202"},{value:"15203",label:"420035203"},{value:"15204",label:"420035204"},{value:"15205",label:"420035205"},{value:"15206",label:"420035206"},{value:"15207",label:"420035207"},{value:"15208",label:"420035208"},{value:"15209",label:"420035209"},{value:"15210",label:"420035210"},{value:"15211",label:"420035211"},{value:"15212",label:"420035212"},{value:"15213",label:"420035213"},{value:"15214",label:"420035214"},{value:"15215",label:"420035215"},{value:"15216",label:"420035216"},{value:"15217",label:"420035217"},{value:"15218",label:"420035218"},{value:"15219",label:"420035219"},{value:"15220",label:"420035220"},{value:"15221",label:"420035221"},{value:"15222",label:"420035222"},{value:"15223",label:"420035223"},{value:"15224",label:"420035224"},{value:"15225",label:"420035225"},{value:"15226",label:"420035226"},{value:"15227",label:"420035227"},{value:"15228",label:"420035228"},{value:"15229",label:"420035229"},{value:"15230",label:"420035230"},{value:"15231",label:"420035231"},{value:"15232",label:"420035232"},{value:"15233",label:"420035233"},{value:"15234",label:"420035234"},{value:"15235",label:"420035235"},{value:"15236",label:"420035236"},{value:"15237",label:"420035237"},{value:"15238",label:"420035238"},{value:"15239",label:"420035239"},{value:"15240",label:"420035240"},{value:"15241",label:"420035241"},{value:"15242",label:"420035242"},{value:"15243",label:"420035243"},{value:"15244",label:"420035244"},{value:"15250",label:"420035250"},{value:"15251",label:"420035251"},{value:"15252",label:"420035252"},{value:"15253",label:"420035253"},{value:"15254",label:"420035254"},{value:"15255",label:"420035255"},{value:"15257",label:"420035257"},{value:"15258",label:"420035258"},{value:"15259",label:"420035259"},{value:"15260",label:"420035260"},{value:"15261",label:"420035261"},{value:"15262",label:"420035262"},{value:"15264",label:"420035264"},{value:"15265",label:"420035265"},{value:"15267",label:"420035267"},{value:"15268",label:"420035268"},{value:"15270",label:"420035270"},{value:"15272",label:"420035272"},{value:"15274",label:"420035274"},{value:"15275",label:"420035275"},{value:"15276",label:"420035276"},{value:"15277",label:"420035277"},{value:"15278",label:"420035278"},{value:"15279",label:"420035279"},{value:"15281",label:"420035281"},{value:"15282",label:"420035282"},{value:"15283",label:"420035283"},{value:"15286",label:"420035286"},{value:"15289",label:"420035289"},{value:"15290",label:"420035290"},{value:"15295",label:"420035295"},{value:"15301",label:"421255301"},{value:"15310",label:"420595310"},{value:"15311",label:"421255311"},{value:"15312",label:"421255312"},{value:"15313",label:"421255313"},{value:"15314",label:"421255314"},{value:"15315",label:"420595315"},{value:"15316",label:"420595316"},{value:"15317",label:"421255317"},{value:"15320",label:"420595320"},{value:"15321",label:"421255321"},{value:"15322",label:"420595322"},{value:"15323",label:"421255323"},{value:"15324",label:"421255324"},{value:"15325",label:"420595325"},{value:"15327",label:"420595327"},{value:"15329",label:"421255329"},{value:"15330",label:"421255330"},{value:"15331",label:"421255331"},{value:"15332",label:"421255332"},{value:"15333",label:"421255333"},{value:"15334",label:"420595334"},{value:"15336",label:"421255336"},{value:"15337",label:"420595337"},{value:"15338",label:"420595338"},{value:"15339",label:"421255339"},{value:"15340",label:"421255340"},{value:"15341",label:"420595341"},{value:"15342",label:"421255342"},{value:"15344",label:"420595344"},{value:"15345",label:"421255345"},{value:"15346",label:"420595346"},{value:"15347",label:"421255347"},{value:"15348",label:"421255348"},{value:"15349",label:"420595349"},{value:"15350",label:"421255350"},{value:"15351",label:"420595351"},{value:"15352",label:"420595352"},{value:"15353",label:"420595353"},{value:"15357",label:"420595357"},{value:"15358",label:"421255358"},{value:"15359",label:"420595359"},{value:"15360",label:"421255360"},{value:"15361",label:"421255361"},{value:"15362",label:"420595362"},{value:"15363",label:"421255363"},{value:"15364",label:"420595364"},{value:"15365",label:"421255365"},{value:"15366",label:"421255366"},{value:"15367",label:"421255367"},{value:"15368",label:"421255368"},{value:"15370",label:"420595370"},{value:"15376",label:"421255376"},{value:"15377",label:"421255377"},{value:"15378",label:"421255378"},{value:"15379",label:"421255379"},{value:"15380",label:"420595380"},{value:"15401",label:"420515401"},{value:"15410",label:"420515410"},{value:"15411",label:"421115411"},{value:"15412",label:"421255412"},{value:"15413",label:"420515413"},{value:"15415",label:"420515415"},{value:"15416",label:"420515416"},{value:"15417",label:"420515417"},{value:"15419",label:"421255419"},{value:"15420",label:"420515420"},{value:"15421",label:"420515421"},{value:"15422",label:"420515422"},{value:"15423",label:"421255423"},{value:"15424",label:"421115424"},{value:"15425",label:"420515425"},{value:"15427",label:"421255427"},{value:"15428",label:"420515428"},{value:"15429",label:"421255429"},{value:"15430",label:"420515430"},{value:"15431",label:"420515431"},{value:"15432",label:"421255432"},{value:"15433",label:"420515433"},{value:"15434",label:"421255434"},{value:"15435",label:"420515435"},{value:"15436",label:"420515436"},{value:"15437",label:"420515437"},{value:"15438",label:"420515438"},{value:"15439",label:"420515439"},{value:"15440",label:"420515440"},{value:"15442",label:"420515442"},{value:"15443",label:"420515443"},{value:"15444",label:"420515444"},{value:"15445",label:"420515445"},{value:"15446",label:"420515446"},{value:"15447",label:"420515447"},{value:"15448",label:"421295448"},{value:"15449",label:"420515449"},{value:"15450",label:"420515450"},{value:"15451",label:"420515451"},{value:"15454",label:"420515454"},{value:"15455",label:"420515455"},{value:"15456",label:"420515456"},{value:"15458",label:"420515458"},{value:"15459",label:"420515459"},{value:"15460",label:"420515460"},{value:"15461",label:"420515461"},{value:"15462",label:"420515462"},{value:"15463",label:"420515463"},{value:"15464",label:"420515464"},{value:"15465",label:"420515465"},{value:"15466",label:"420515466"},{value:"15467",label:"420515467"},{value:"15468",label:"420515468"},{value:"15469",label:"420515469"},{value:"15470",label:"420515470"},{value:"15472",label:"420515472"},{value:"15473",label:"420515473"},{value:"15474",label:"420515474"},{value:"15475",label:"420515475"},{value:"15476",label:"420515476"},{value:"15477",label:"421255477"},{value:"15478",label:"420515478"},{value:"15479",label:"421295479"},{value:"15480",label:"420515480"},{value:"15482",label:"420515482"},{value:"15483",label:"421255483"},{value:"15484",label:"420515484"},{value:"15485",label:"421115485"},{value:"15486",label:"420515486"},{value:"15488",label:"420515488"},{value:"15489",label:"420515489"},{value:"15490",label:"420515490"},{value:"15492",label:"420515492"},{value:"15501",label:"421115501"},{value:"15502",label:"421115502"},{value:"15510",label:"421115510"},{value:"15520",label:"421115520"},{value:"15521",label:"420095521"},{value:"15522",label:"420095522"},{value:"15530",label:"421115530"},{value:"15531",label:"421115531"},{value:"15532",label:"421115532"},{value:"15533",label:"420095533"},{value:"15534",label:"420095534"},{value:"15535",label:"420095535"},{value:"15536",label:"420575536"},{value:"15537",label:"420095537"},{value:"15538",label:"421115538"},{value:"15539",label:"420095539"},{value:"15540",label:"421115540"},{value:"15541",label:"421115541"},{value:"15542",label:"421115542"},{value:"15544",label:"421115544"},{value:"15545",label:"420095545"},{value:"15546",label:"421115546"},{value:"15547",label:"421115547"},{value:"15548",label:"421115548"},{value:"15549",label:"421115549"},{value:"15550",label:"420095550"},{value:"15551",label:"421115551"},{value:"15552",label:"421115552"},{value:"15553",label:"421115553"},{value:"15554",label:"420095554"},{value:"15555",label:"421115555"},{value:"15557",label:"421115557"},{value:"15558",label:"421115558"},{value:"15559",label:"420095559"},{value:"15560",label:"421115560"},{value:"15561",label:"421115561"},{value:"15562",label:"421115562"},{value:"15563",label:"421115563"},{value:"15564",label:"421115564"},{value:"15565",label:"421115565"},{value:"15601",label:"421295601"},{value:"15605",label:"421295605"},{value:"15606",label:"421295606"},{value:"15610",label:"421295610"},{value:"15611",label:"421295611"},{value:"15612",label:"421295612"},{value:"15613",label:"420055613"},{value:"15615",label:"421295615"},{value:"15616",label:"421295616"},{value:"15617",label:"421295617"},{value:"15618",label:"421295618"},{value:"15619",label:"421295619"},{value:"15620",label:"421295620"},{value:"15621",label:"421295621"},{value:"15622",label:"421115622"},{value:"15623",label:"421295623"},{value:"15624",label:"421295624"},{value:"15625",label:"421295625"},{value:"15626",label:"421295626"},{value:"15627",label:"421295627"},{value:"15628",label:"421295628"},{value:"15629",label:"421295629"},{value:"15631",label:"420515631"},{value:"15632",label:"421295632"},{value:"15633",label:"421295633"},{value:"15634",label:"421295634"},{value:"15635",label:"421295635"},{value:"15636",label:"421295636"},{value:"15637",label:"421295637"},{value:"15638",label:"421295638"},{value:"15639",label:"421295639"},{value:"15640",label:"421295640"},{value:"15641",label:"421295641"},{value:"15642",label:"421295642"},{value:"15644",label:"421295644"},{value:"15646",label:"421295646"},{value:"15647",label:"421295647"},{value:"15650",label:"421295650"},{value:"15655",label:"421295655"},{value:"15656",label:"420055656"},{value:"15658",label:"421295658"},{value:"15660",label:"421295660"},{value:"15661",label:"421295661"},{value:"15662",label:"421295662"},{value:"15663",label:"421295663"},{value:"15664",label:"421295664"},{value:"15665",label:"421295665"},{value:"15666",label:"421295666"},{value:"15668",label:"421295668"},{value:"15670",label:"421295670"},{value:"15671",label:"421295671"},{value:"15672",label:"421295672"},{value:"15673",label:"420055673"},{value:"15674",label:"421295674"},{value:"15675",label:"421295675"},{value:"15676",label:"421295676"},{value:"15677",label:"421295677"},{value:"15678",label:"421295678"},{value:"15679",label:"421295679"},{value:"15680",label:"421295680"},{value:"15681",label:"420635681"},{value:"15682",label:"420055682"},{value:"15683",label:"421295683"},{value:"15684",label:"421295684"},{value:"15685",label:"421295685"},{value:"15686",label:"420055686"},{value:"15687",label:"421295687"},{value:"15688",label:"421295688"},{value:"15689",label:"421295689"},{value:"15690",label:"421295690"},{value:"15691",label:"421295691"},{value:"15692",label:"421295692"},{value:"15693",label:"421295693"},{value:"15695",label:"421295695"},{value:"15696",label:"421295696"},{value:"15697",label:"421295697"},{value:"15698",label:"421295698"},{value:"15701",label:"420635701"},{value:"15705",label:"420635705"},{value:"15710",label:"420635710"},{value:"15711",label:"420655711"},{value:"15712",label:"420635712"},{value:"15713",label:"420635713"},{value:"15714",label:"420215714"},{value:"15715",label:"420655715"},{value:"15716",label:"420635716"},{value:"15717",label:"420635717"},{value:"15720",label:"420635720"},{value:"15721",label:"420335721"},{value:"15722",label:"420215722"},{value:"15723",label:"420635723"},{value:"15724",label:"420635724"},{value:"15725",label:"420635725"},{value:"15727",label:"420635727"},{value:"15728",label:"420635728"},{value:"15729",label:"420635729"},{value:"15730",label:"420655730"},{value:"15731",label:"420635731"},{value:"15732",label:"420635732"},{value:"15733",label:"420655733"},{value:"15734",label:"420635734"},{value:"15736",label:"420055736"},{value:"15737",label:"420215737"},{value:"15738",label:"420215738"},{value:"15739",label:"420635739"},{value:"15741",label:"420635741"},{value:"15742",label:"420635742"},{value:"15744",label:"420655744"},{value:"15745",label:"420635745"},{value:"15746",label:"420635746"},{value:"15747",label:"420635747"},{value:"15748",label:"420635748"},{value:"15750",label:"420635750"},{value:"15752",label:"420635752"},{value:"15753",label:"420335753"},{value:"15754",label:"420635754"},{value:"15756",label:"420635756"},{value:"15757",label:"420335757"},{value:"15758",label:"420635758"},{value:"15759",label:"420635759"},{value:"15760",label:"420215760"},{value:"15761",label:"420635761"},{value:"15762",label:"420215762"},{value:"15763",label:"420635763"},{value:"15764",label:"420655764"},{value:"15765",label:"420635765"},{value:"15767",label:"420655767"},{value:"15770",label:"420655770"},{value:"15771",label:"420635771"},{value:"15772",label:"420635772"},{value:"15773",label:"420215773"},{value:"15774",label:"420635774"},{value:"15775",label:"420215775"},{value:"15776",label:"420655776"},{value:"15777",label:"420635777"},{value:"15778",label:"420655778"},{value:"15779",label:"421295779"},{value:"15780",label:"420655780"},{value:"15781",label:"420655781"},{value:"15783",label:"420635783"},{value:"15784",label:"420655784"},{value:"15801",label:"420335801"},{value:"15821",label:"420475821"},{value:"15822",label:"420475822"},{value:"15823",label:"420475823"},{value:"15824",label:"420655824"},{value:"15825",label:"420655825"},{value:"15827",label:"420475827"},{value:"15828",label:"420655828"},{value:"15829",label:"420655829"},{value:"15831",label:"420475831"},{value:"15832",label:"420235832"},{value:"15834",label:"420235834"},{value:"15840",label:"420655840"},{value:"15841",label:"420475841"},{value:"15845",label:"420475845"},{value:"15846",label:"420475846"},{value:"15847",label:"420655847"},{value:"15848",label:"420335848"},{value:"15849",label:"420335849"},{value:"15851",label:"420655851"},{value:"15853",label:"420475853"},{value:"15856",label:"420335856"},{value:"15857",label:"420475857"},{value:"15860",label:"420655860"},{value:"15861",label:"420235861"},{value:"15863",label:"420655863"},{value:"15864",label:"420655864"},{value:"15865",label:"420655865"},{value:"15866",label:"420335866"},{value:"15868",label:"420475868"},{value:"15870",label:"420475870"},{value:"15901",label:"420215901"},{value:"15902",label:"420215902"},{value:"15904",label:"420215904"},{value:"15905",label:"420215905"},{value:"15906",label:"420215906"},{value:"15907",label:"420215907"},{value:"15909",label:"420215909"},{value:"15915",label:"420215915"},{value:"15920",label:"420635920"},{value:"15921",label:"420215921"},{value:"15922",label:"420215922"},{value:"15923",label:"421295923"},{value:"15924",label:"421115924"},{value:"15925",label:"420215925"},{value:"15926",label:"421115926"},{value:"15927",label:"420215927"},{value:"15928",label:"421115928"},{value:"15929",label:"420635929"},{value:"15930",label:"420215930"},{value:"15931",label:"420215931"},{value:"15934",label:"420215934"},{value:"15935",label:"421115935"},{value:"15936",label:"421115936"},{value:"15937",label:"421115937"},{value:"15938",label:"420215938"},{value:"15940",label:"420215940"},{value:"15942",label:"420215942"},{value:"15943",label:"420215943"},{value:"15944",label:"420635944"},{value:"15945",label:"420215945"},{value:"15946",label:"420215946"},{value:"15948",label:"420215948"},{value:"15949",label:"420635949"},{value:"15951",label:"420215951"},{value:"15952",label:"420215952"},{value:"15953",label:"421115953"},{value:"15954",label:"420635954"},{value:"15955",label:"420215955"},{value:"15956",label:"420215956"},{value:"15957",label:"420215957"},{value:"15958",label:"420215958"},{value:"15959",label:"421115959"},{value:"15960",label:"420215960"},{value:"15961",label:"420635961"},{value:"15962",label:"420215962"},{value:"15963",label:"421115963"},{value:"16001",label:"420196001"},{value:"16002",label:"420196002"},{value:"16003",label:"420196003"},{value:"16016",label:"420196016"},{value:"16017",label:"420196017"},{value:"16018",label:"420196018"},{value:"16020",label:"420196020"},{value:"16021",label:"420196021"},{value:"16022",label:"420196022"},{value:"16023",label:"420196023"},{value:"16024",label:"420196024"},{value:"16025",label:"420196025"},{value:"16027",label:"420196027"},{value:"16028",label:"420316028"},{value:"16029",label:"420196029"},{value:"16030",label:"420196030"},{value:"16033",label:"420196033"},{value:"16034",label:"420196034"},{value:"16035",label:"420196035"},{value:"16036",label:"420316036"},{value:"16037",label:"420196037"},{value:"16038",label:"420196038"},{value:"16039",label:"420196039"},{value:"16040",label:"420196040"},{value:"16041",label:"420196041"},{value:"16045",label:"420196045"},{value:"16046",label:"420196046"},{value:"16048",label:"420196048"},{value:"16049",label:"420316049"},{value:"16050",label:"420196050"},{value:"16051",label:"420736051"},{value:"16052",label:"420196052"},{value:"16053",label:"420196053"},{value:"16054",label:"420316054"},{value:"16055",label:"420196055"},{value:"16056",label:"420196056"},{value:"16057",label:"420196057"},{value:"16058",label:"420316058"},{value:"16059",label:"420196059"},{value:"16061",label:"420196061"},{value:"16063",label:"420196063"},{value:"16066",label:"420196066"},{value:"16101",label:"420736101"},{value:"16102",label:"420736102"},{value:"16103",label:"420736103"},{value:"16105",label:"420736105"},{value:"16107",label:"420736107"},{value:"16108",label:"420736108"},{value:"16110",label:"420396110"},{value:"16111",label:"420396111"},{value:"16112",label:"420736112"},{value:"16113",label:"420856113"},{value:"16114",label:"420856114"},{value:"16115",label:"420076115"},{value:"16116",label:"420736116"},{value:"16117",label:"420736117"},{value:"16120",label:"420736120"},{value:"16121",label:"420856121"},{value:"16123",label:"420076123"},{value:"16124",label:"420856124"},{value:"16125",label:"420856125"},{value:"16127",label:"420856127"},{value:"16130",label:"420856130"},{value:"16131",label:"420396131"},{value:"16132",label:"420736132"},{value:"16133",label:"420856133"},{value:"16134",label:"420396134"},{value:"16136",label:"420076136"},{value:"16137",label:"420856137"},{value:"16140",label:"420736140"},{value:"16141",label:"420736141"},{value:"16142",label:"420736142"},{value:"16143",label:"420736143"},{value:"16145",label:"420856145"},{value:"16146",label:"420856146"},{value:"16148",label:"420856148"},{value:"16150",label:"420856150"},{value:"16151",label:"420856151"},{value:"16153",label:"420856153"},{value:"16154",label:"420856154"},{value:"16155",label:"420736155"},{value:"16156",label:"420736156"},{value:"16157",label:"420736157"},{value:"16159",label:"420856159"},{value:"16160",label:"420736160"},{value:"16161",label:"420856161"},{value:"16172",label:"420736172"},{value:"16201",label:"420056201"},{value:"16210",label:"420056210"},{value:"16211",label:"420636211"},{value:"16212",label:"420056212"},{value:"16213",label:"420316213"},{value:"16214",label:"420316214"},{value:"16217",label:"420536217"},{value:"16218",label:"420056218"},{value:"16220",label:"420316220"},{value:"16221",label:"420316221"},{value:"16222",label:"420056222"},{value:"16223",label:"420056223"},{value:"16224",label:"420316224"},{value:"16225",label:"420316225"},{value:"16226",label:"420056226"},{value:"16228",label:"420056228"},{value:"16229",label:"420056229"},{value:"16230",label:"420316230"},{value:"16232",label:"420316232"},{value:"16233",label:"420316233"},{value:"16234",label:"420316234"},{value:"16235",label:"420316235"},{value:"16236",label:"420056236"},{value:"16238",label:"420056238"},{value:"16239",label:"420536239"},{value:"16240",label:"420656240"},{value:"16242",label:"420316242"},{value:"16244",label:"420056244"},{value:"16245",label:"420056245"},{value:"16246",label:"420636246"},{value:"16248",label:"420316248"},{value:"16249",label:"420056249"},{value:"16250",label:"420056250"},{value:"16253",label:"420056253"},{value:"16254",label:"420316254"},{value:"16255",label:"420316255"},{value:"16256",label:"420636256"},{value:"16257",label:"420316257"},{value:"16258",label:"420316258"},{value:"16259",label:"420056259"},{value:"16260",label:"420316260"},{value:"16261",label:"420056261"},{value:"16262",label:"420056262"},{value:"16263",label:"420056263"},{value:"16301",label:"421216301"},{value:"16311",label:"420856311"},{value:"16312",label:"421236312"},{value:"16313",label:"421236313"},{value:"16314",label:"420396314"},{value:"16316",label:"420396316"},{value:"16317",label:"421216317"},{value:"16319",label:"420316319"},{value:"16321",label:"420536321"},{value:"16322",label:"420536322"},{value:"16323",label:"421216323"},{value:"16326",label:"420316326"},{value:"16327",label:"420396327"},{value:"16328",label:"420396328"},{value:"16329",label:"421236329"},{value:"16331",label:"420316331"},{value:"16332",label:"420316332"},{value:"16333",label:"420836333"},{value:"16334",label:"420316334"},{value:"16335",label:"420396335"},{value:"16340",label:"421236340"},{value:"16341",label:"421216341"},{value:"16342",label:"421216342"},{value:"16343",label:"421216343"},{value:"16344",label:"421216344"},{value:"16345",label:"421236345"},{value:"16346",label:"421216346"},{value:"16347",label:"421236347"},{value:"16350",label:"421236350"},{value:"16351",label:"421236351"},{value:"16352",label:"421236352"},{value:"16353",label:"420536353"},{value:"16354",label:"420396354"},{value:"16360",label:"420396360"},{value:"16361",label:"420316361"},{value:"16362",label:"421216362"},{value:"16364",label:"421216364"},{value:"16365",label:"421236365"},{value:"16366",label:"421236366"},{value:"16367",label:"421236367"},{value:"16368",label:"421236368"},{value:"16369",label:"421236369"},{value:"16370",label:"420536370"},{value:"16371",label:"421236371"},{value:"16372",label:"421216372"},{value:"16373",label:"421216373"},{value:"16374",label:"421216374"},{value:"16375",label:"420316375"},{value:"16388",label:"420396388"},{value:"16401",label:"420496401"},{value:"16402",label:"421236402"},{value:"16403",label:"420396403"},{value:"16404",label:"420396404"},{value:"16405",label:"421236405"},{value:"16406",label:"420396406"},{value:"16407",label:"420496407"},{value:"16410",label:"420496410"},{value:"16411",label:"420496411"},{value:"16412",label:"420496412"},{value:"16413",label:"420496413"},{value:"16415",label:"420496415"},{value:"16416",label:"421236416"},{value:"16417",label:"420496417"},{value:"16420",label:"421236420"},{value:"16421",label:"420496421"},{value:"16422",label:"420396422"},{value:"16423",label:"420496423"},{value:"16424",label:"420396424"},{value:"16426",label:"420496426"},{value:"16427",label:"420496427"},{value:"16428",label:"420496428"},{value:"16430",label:"420496430"},{value:"16432",label:"420396432"},{value:"16433",label:"420396433"},{value:"16434",label:"420396434"},{value:"16435",label:"420396435"},{value:"16436",label:"421236436"},{value:"16438",label:"420496438"},{value:"16440",label:"420396440"},{value:"16441",label:"420496441"},{value:"16442",label:"420496442"},{value:"16443",label:"420496443"},{value:"16444",label:"420496444"},{value:"16475",label:"420496475"},{value:"16501",label:"420496501"},{value:"16502",label:"420496502"},{value:"16503",label:"420496503"},{value:"16504",label:"420496504"},{value:"16505",label:"420496505"},{value:"16506",label:"420496506"},{value:"16507",label:"420496507"},{value:"16508",label:"420496508"},{value:"16509",label:"420496509"},{value:"16510",label:"420496510"},{value:"16511",label:"420496511"},{value:"16512",label:"420496512"},{value:"16514",label:"420496514"},{value:"16515",label:"420496515"},{value:"16522",label:"420496522"},{value:"16530",label:"420496530"},{value:"16531",label:"420496531"},{value:"16534",label:"420496534"},{value:"16538",label:"420496538"},{value:"16541",label:"420496541"},{value:"16544",label:"420496544"},{value:"16546",label:"420496546"},{value:"16550",label:"420496550"},{value:"16553",label:"420496553"},{value:"16563",label:"420496563"},{value:"16565",label:"420496565"},{value:"16601",label:"420136601"},{value:"16602",label:"420136602"},{value:"16603",label:"420136603"},{value:"16611",label:"420616611"},{value:"16613",label:"420216613"},{value:"16616",label:"420336616"},{value:"16617",label:"420136617"},{value:"16619",label:"420216619"},{value:"16620",label:"420336620"},{value:"16621",label:"420616621"},{value:"16622",label:"420616622"},{value:"16623",label:"420616623"},{value:"16624",label:"420216624"},{value:"16625",label:"420096625"},{value:"16627",label:"420336627"},{value:"16629",label:"420216629"},{value:"16630",label:"420216630"},{value:"16631",label:"420136631"},{value:"16633",label:"420096633"},{value:"16634",label:"420616634"},{value:"16635",label:"420136635"},{value:"16636",label:"420216636"},{value:"16637",label:"420136637"},{value:"16638",label:"420616638"},{value:"16639",label:"420216639"},{value:"16640",label:"420216640"},{value:"16641",label:"420216641"},{value:"16644",label:"420216644"},{value:"16645",label:"420336645"},{value:"16646",label:"420216646"},{value:"16647",label:"420616647"},{value:"16648",label:"420136648"},{value:"16650",label:"420096650"},{value:"16651",label:"420336651"},{value:"16652",label:"420616652"},{value:"16654",label:"420616654"},{value:"16655",label:"420096655"},{value:"16656",label:"420336656"},{value:"16657",label:"420616657"},{value:"16659",label:"420096659"},{value:"16660",label:"420616660"},{value:"16661",label:"420336661"},{value:"16662",label:"420136662"},{value:"16663",label:"420336663"},{value:"16664",label:"420096664"},{value:"16665",label:"420136665"},{value:"16666",label:"420336666"},{value:"16667",label:"420096667"},{value:"16668",label:"420216668"},{value:"16669",label:"420616669"},{value:"16670",label:"420096670"},{value:"16671",label:"420336671"},{value:"16672",label:"420096672"},{value:"16673",label:"420136673"},{value:"16674",label:"420616674"},{value:"16675",label:"420216675"},{value:"16677",label:"420276677"},{value:"16678",label:"420096678"},{value:"16679",label:"420096679"},{value:"16680",label:"420336680"},{value:"16681",label:"420336681"},{value:"16682",label:"420136682"},{value:"16683",label:"420616683"},{value:"16684",label:"420136684"},{value:"16685",label:"420616685"},{value:"16686",label:"420136686"},{value:"16689",label:"420576689"},{value:"16691",label:"420576691"},{value:"16692",label:"420336692"},{value:"16693",label:"420136693"},{value:"16694",label:"420616694"},{value:"16695",label:"420096695"},{value:"16698",label:"420336698"},{value:"16699",label:"420216699"},{value:"16701",label:"420836701"},{value:"16720",label:"421056720"},{value:"16724",label:"420836724"},{value:"16725",label:"420836725"},{value:"16726",label:"420836726"},{value:"16727",label:"420836727"},{value:"16728",label:"420476728"},{value:"16729",label:"420836729"},{value:"16730",label:"420836730"},{value:"16731",label:"420836731"},{value:"16732",label:"420836732"},{value:"16733",label:"420836733"},{value:"16734",label:"420476734"},{value:"16735",label:"420836735"},{value:"16738",label:"420836738"},{value:"16740",label:"420836740"},{value:"16743",label:"420836743"},{value:"16744",label:"420836744"},{value:"16745",label:"420836745"},{value:"16746",label:"421056746"},{value:"16748",label:"421056748"},{value:"16749",label:"420836749"},{value:"16750",label:"420836750"},{value:"16801",label:"420276801"},{value:"16802",label:"420276802"},{value:"16803",label:"420276803"},{value:"16804",label:"420276804"},{value:"16805",label:"420276805"},{value:"16820",label:"420276820"},{value:"16821",label:"420336821"},{value:"16822",label:"420356822"},{value:"16823",label:"420276823"},{value:"16825",label:"420336825"},{value:"16826",label:"420276826"},{value:"16827",label:"420276827"},{value:"16828",label:"420276828"},{value:"16829",label:"420276829"},{value:"16830",label:"420336830"},{value:"16832",label:"420276832"},{value:"16833",label:"420336833"},{value:"16834",label:"420336834"},{value:"16835",label:"420276835"},{value:"16836",label:"420336836"},{value:"16837",label:"420336837"},{value:"16838",label:"420336838"},{value:"16839",label:"420336839"},{value:"16840",label:"420336840"},{value:"16841",label:"420276841"},{value:"16843",label:"420336843"},{value:"16844",label:"420276844"},{value:"16845",label:"420336845"},{value:"16847",label:"420336847"},{value:"16848",label:"420356848"},{value:"16849",label:"420336849"},{value:"16850",label:"420336850"},{value:"16851",label:"420276851"},{value:"16852",label:"420276852"},{value:"16853",label:"420276853"},{value:"16854",label:"420276854"},{value:"16855",label:"420336855"},{value:"16856",label:"420276856"},{value:"16858",label:"420336858"},{value:"16859",label:"420276859"},{value:"16860",label:"420336860"},{value:"16861",label:"420336861"},{value:"16863",label:"420336863"},{value:"16864",label:"420276864"},{value:"16865",label:"420276865"},{value:"16866",label:"420276866"},{value:"16868",label:"420276868"},{value:"16870",label:"420276870"},{value:"16871",label:"420336871"},{value:"16872",label:"420276872"},{value:"16873",label:"420336873"},{value:"16874",label:"420276874"},{value:"16875",label:"420276875"},{value:"16876",label:"420336876"},{value:"16877",label:"420276877"},{value:"16878",label:"420336878"},{value:"16879",label:"420336879"},{value:"16881",label:"420336881"},{value:"16882",label:"420276882"},{value:"16901",label:"421176901"},{value:"16910",label:"420156910"},{value:"16911",label:"421176911"},{value:"16912",label:"421176912"},{value:"16914",label:"420156914"},{value:"16915",label:"421056915"},{value:"16917",label:"421176917"},{value:"16920",label:"421176920"},{value:"16921",label:"421176921"},{value:"16922",label:"421056922"},{value:"16923",label:"421056923"},{value:"16925",label:"420156925"},{value:"16926",label:"420156926"},{value:"16927",label:"421056927"},{value:"16928",label:"421176928"},{value:"16929",label:"421176929"},{value:"16930",label:"421176930"},{value:"16932",label:"421176932"},{value:"16933",label:"421176933"},{value:"16935",label:"421176935"},{value:"16936",label:"421176936"},{value:"16937",label:"421056937"},{value:"16938",label:"421176938"},{value:"16939",label:"421176939"},{value:"16940",label:"421176940"},{value:"16941",label:"421056941"},{value:"16942",label:"421176942"},{value:"16943",label:"421056943"},{value:"16945",label:"420156945"},{value:"16946",label:"421176946"},{value:"16947",label:"420156947"},{value:"16948",label:"421056948"},{value:"16950",label:"421176950"},{value:"17001",label:"420417001"},{value:"17002",label:"420617002"},{value:"17003",label:"420757003"},{value:"17004",label:"420877004"},{value:"17005",label:"420437005"},{value:"17006",label:"420997006"},{value:"17007",label:"420417007"},{value:"17009",label:"420877009"},{value:"17010",label:"420757010"},{value:"17011",label:"420417011"},{value:"17013",label:"420417013"},{value:"17014",label:"420677014"},{value:"17015",label:"420417015"},{value:"17016",label:"420757016"},{value:"17017",label:"420977017"},{value:"17018",label:"420437018"},{value:"17019",label:"421337019"},{value:"17020",label:"420997020"},{value:"17021",label:"420677021"},{value:"17022",label:"420717022"},{value:"17023",label:"420437023"},{value:"17024",label:"420997024"},{value:"17025",label:"420417025"},{value:"17026",label:"420757026"},{value:"17027",label:"420417027"},{value:"17028",label:"420437028"},{value:"17029",label:"420877029"},{value:"17030",label:"420437030"},{value:"17032",label:"420437032"},{value:"17033",label:"420437033"},{value:"17034",label:"420437034"},{value:"17035",label:"420677035"},{value:"17036",label:"420437036"},{value:"17037",label:"420997037"},{value:"17038",label:"420757038"},{value:"17039",label:"420757039"},{value:"17040",label:"420997040"},{value:"17041",label:"420757041"},{value:"17042",label:"420757042"},{value:"17043",label:"420417043"},{value:"17044",label:"420877044"},{value:"17045",label:"420997045"},{value:"17046",label:"420757046"},{value:"17047",label:"420997047"},{value:"17048",label:"420437048"},{value:"17049",label:"420677049"},{value:"17050",label:"420417050"},{value:"17051",label:"420877051"},{value:"17052",label:"420617052"},{value:"17053",label:"420997053"},{value:"17054",label:"420877054"},{value:"17055",label:"420417055"},{value:"17056",label:"420677056"},{value:"17057",label:"420437057"},{value:"17058",label:"420677058"},{value:"17059",label:"420677059"},{value:"17060",label:"420617060"},{value:"17061",label:"420437061"},{value:"17062",label:"420997062"},{value:"17063",label:"420877063"},{value:"17064",label:"420757064"},{value:"17065",label:"420417065"},{value:"17066",label:"420617066"},{value:"17067",label:"420757067"},{value:"17068",label:"420997068"},{value:"17069",label:"420997069"},{value:"17070",label:"420417070"},{value:"17071",label:"420997071"},{value:"17072",label:"420417072"},{value:"17073",label:"420757073"},{value:"17074",label:"420997074"},{value:"17075",label:"420877075"},{value:"17076",label:"420677076"},{value:"17077",label:"420757077"},{value:"17078",label:"420757078"},{value:"17080",label:"420437080"},{value:"17081",label:"420417081"},{value:"17082",label:"420677082"},{value:"17083",label:"420757083"},{value:"17084",label:"420877084"},{value:"17085",label:"420757085"},{value:"17086",label:"420677086"},{value:"17087",label:"420757087"},{value:"17088",label:"420757088"},{value:"17089",label:"420437089"},{value:"17090",label:"420997090"},{value:"17093",label:"420417093"},{value:"17094",label:"420677094"},{value:"17097",label:"420437097"},{value:"17098",label:"420437098"},{value:"17099",label:"420877099"},{value:"17101",label:"420437101"},{value:"17102",label:"420437102"},{value:"17103",label:"420437103"},{value:"17104",label:"420437104"},{value:"17105",label:"420437105"},{value:"17106",label:"420437106"},{value:"17107",label:"420437107"},{value:"17108",label:"420437108"},{value:"17109",label:"420437109"},{value:"17110",label:"420437110"},{value:"17111",label:"420437111"},{value:"17112",label:"420437112"},{value:"17113",label:"420437113"},{value:"17120",label:"420437120"},{value:"17121",label:"420437121"},{value:"17122",label:"420437122"},{value:"17123",label:"420437123"},{value:"17124",label:"420437124"},{value:"17125",label:"420437125"},{value:"17126",label:"420437126"},{value:"17127",label:"420437127"},{value:"17128",label:"420437128"},{value:"17129",label:"420437129"},{value:"17130",label:"420437130"},{value:"17140",label:"420437140"},{value:"17177",label:"420437177"},{value:"17201",label:"420557201"},{value:"17202",label:"420557202"},{value:"17210",label:"420557210"},{value:"17211",label:"420097211"},{value:"17212",label:"420577212"},{value:"17213",label:"420617213"},{value:"17214",label:"420557214"},{value:"17215",label:"420577215"},{value:"17217",label:"420557217"},{value:"17219",label:"420557219"},{value:"17220",label:"420557220"},{value:"17221",label:"420557221"},{value:"17222",label:"420557222"},{value:"17223",label:"420577223"},{value:"17224",label:"420557224"},{value:"17225",label:"420557225"},{value:"17228",label:"420577228"},{value:"17229",label:"420577229"},{value:"17231",label:"420557231"},{value:"17232",label:"420557232"},{value:"17233",label:"420577233"},{value:"17235",label:"420557235"},{value:"17236",label:"420557236"},{value:"17237",label:"420557237"},{value:"17238",label:"420577238"},{value:"17239",label:"420617239"},{value:"17240",label:"420417240"},{value:"17241",label:"420417241"},{value:"17243",label:"420617243"},{value:"17244",label:"420557244"},{value:"17246",label:"420557246"},{value:"17247",label:"420557247"},{value:"17249",label:"420617249"},{value:"17250",label:"420557250"},{value:"17251",label:"420557251"},{value:"17252",label:"420557252"},{value:"17253",label:"420617253"},{value:"17254",label:"420557254"},{value:"17255",label:"420617255"},{value:"17256",label:"420557256"},{value:"17257",label:"420417257"},{value:"17260",label:"420617260"},{value:"17261",label:"420557261"},{value:"17262",label:"420557262"},{value:"17263",label:"420557263"},{value:"17264",label:"420617264"},{value:"17265",label:"420557265"},{value:"17266",label:"420417266"},{value:"17267",label:"420577267"},{value:"17268",label:"420557268"},{value:"17271",label:"420557271"},{value:"17272",label:"420557272"},{value:"17301",label:"420017301"},{value:"17302",label:"421337302"},{value:"17303",label:"420017303"},{value:"17304",label:"420017304"},{value:"17306",label:"420017306"},{value:"17307",label:"420017307"},{value:"17309",label:"421337309"},{value:"17310",label:"420017310"},{value:"17311",label:"421337311"},{value:"17312",label:"421337312"},{value:"17313",label:"421337313"},{value:"17314",label:"421337314"},{value:"17315",label:"421337315"},{value:"17316",label:"420017316"},{value:"17317",label:"421337317"},{value:"17318",label:"421337318"},{value:"17319",label:"421337319"},{value:"17320",label:"420017320"},{value:"17321",label:"421337321"},{value:"17322",label:"421337322"},{value:"17323",label:"421337323"},{value:"17324",label:"420017324"},{value:"17325",label:"420017325"},{value:"17327",label:"421337327"},{value:"17329",label:"421337329"},{value:"17331",label:"421337331"},{value:"17332",label:"421337332"},{value:"17333",label:"421337333"},{value:"17334",label:"421337334"},{value:"17335",label:"421337335"},{value:"17337",label:"420017337"},{value:"17339",label:"421337339"},{value:"17340",label:"420017340"},{value:"17342",label:"421337342"},{value:"17343",label:"420017343"},{value:"17344",label:"420017344"},{value:"17345",label:"421337345"},{value:"17347",label:"421337347"},{value:"17349",label:"421337349"},{value:"17350",label:"420017350"},{value:"17352",label:"421337352"},{value:"17353",label:"420017353"},{value:"17354",label:"421337354"},{value:"17355",label:"421337355"},{value:"17356",label:"421337356"},{value:"17358",label:"421337358"},{value:"17360",label:"421337360"},{value:"17361",label:"421337361"},{value:"17362",label:"421337362"},{value:"17363",label:"421337363"},{value:"17364",label:"421337364"},{value:"17365",label:"421337365"},{value:"17366",label:"421337366"},{value:"17368",label:"421337368"},{value:"17370",label:"421337370"},{value:"17371",label:"421337371"},{value:"17372",label:"420017372"},{value:"17375",label:"420017375"},{value:"17401",label:"421337401"},{value:"17402",label:"421337402"},{value:"17403",label:"421337403"},{value:"17404",label:"421337404"},{value:"17405",label:"421337405"},{value:"17406",label:"421337406"},{value:"17407",label:"421337407"},{value:"17408",label:"421337408"},{value:"17501",label:"420717501"},{value:"17502",label:"420717502"},{value:"17503",label:"420717503"},{value:"17504",label:"420717504"},{value:"17505",label:"420717505"},{value:"17506",label:"420717506"},{value:"17507",label:"420717507"},{value:"17508",label:"420717508"},{value:"17509",label:"420717509"},{value:"17512",label:"420717512"},{value:"17516",label:"420717516"},{value:"17517",label:"420717517"},{value:"17518",label:"420717518"},{value:"17519",label:"420717519"},{value:"17520",label:"420717520"},{value:"17521",label:"420717521"},{value:"17522",label:"420717522"},{value:"17527",label:"420717527"},{value:"17528",label:"420717528"},{value:"17529",label:"420717529"},{value:"17532",label:"420717532"},{value:"17533",label:"420717533"},{value:"17534",label:"420717534"},{value:"17535",label:"420717535"},{value:"17536",label:"420717536"},{value:"17537",label:"420717537"},{value:"17538",label:"420717538"},{value:"17540",label:"420717540"},{value:"17543",label:"420717543"},{value:"17545",label:"420717545"},{value:"17547",label:"420717547"},{value:"17549",label:"420717549"},{value:"17550",label:"420717550"},{value:"17551",label:"420717551"},{value:"17552",label:"420717552"},{value:"17554",label:"420717554"},{value:"17555",label:"420717555"},{value:"17557",label:"420717557"},{value:"17560",label:"420717560"},{value:"17562",label:"420717562"},{value:"17563",label:"420717563"},{value:"17564",label:"420717564"},{value:"17565",label:"420717565"},{value:"17566",label:"420717566"},{value:"17567",label:"420717567"},{value:"17568",label:"420717568"},{value:"17569",label:"420717569"},{value:"17570",label:"420717570"},{value:"17572",label:"420717572"},{value:"17573",label:"420717573"},{value:"17575",label:"420717575"},{value:"17576",label:"420717576"},{value:"17578",label:"420717578"},{value:"17579",label:"420717579"},{value:"17580",label:"420717580"},{value:"17581",label:"420717581"},{value:"17582",label:"420717582"},{value:"17583",label:"420717583"},{value:"17584",label:"420717584"},{value:"17585",label:"420717585"},{value:"17601",label:"420717601"},{value:"17602",label:"420717602"},{value:"17603",label:"420717603"},{value:"17604",label:"420717604"},{value:"17605",label:"420717605"},{value:"17606",label:"420717606"},{value:"17607",label:"420717607"},{value:"17608",label:"420717608"},{value:"17611",label:"420717611"},{value:"17622",label:"420717622"},{value:"17699",label:"420717699"},{value:"17701",label:"420817701"},{value:"17702",label:"420817702"},{value:"17703",label:"420817703"},{value:"17705",label:"420817705"},{value:"17720",label:"420817720"},{value:"17721",label:"420357721"},{value:"17723",label:"420817723"},{value:"17724",label:"420157724"},{value:"17726",label:"420357726"},{value:"17727",label:"420817727"},{value:"17728",label:"420817728"},{value:"17729",label:"420357729"},{value:"17730",label:"420977730"},{value:"17731",label:"421137731"},{value:"17735",label:"420157735"},{value:"17737",label:"420817737"},{value:"17739",label:"420817739"},{value:"17740",label:"420817740"},{value:"17742",label:"420817742"},{value:"17744",label:"420817744"},{value:"17745",label:"420357745"},{value:"17747",label:"420357747"},{value:"17748",label:"420357748"},{value:"17749",label:"420977749"},{value:"17750",label:"420357750"},{value:"17751",label:"420357751"},{value:"17752",label:"420817752"},{value:"17754",label:"420817754"},{value:"17756",label:"420817756"},{value:"17758",label:"421137758"},{value:"17760",label:"420357760"},{value:"17762",label:"420817762"},{value:"17763",label:"420817763"},{value:"17764",label:"420357764"},{value:"17765",label:"421177765"},{value:"17768",label:"421137768"},{value:"17769",label:"420817769"},{value:"17771",label:"420817771"},{value:"17772",label:"420977772"},{value:"17774",label:"420817774"},{value:"17776",label:"420817776"},{value:"17777",label:"420977777"},{value:"17778",label:"420357778"},{value:"17779",label:"420357779"},{value:"17801",label:"420977801"},{value:"17810",label:"420817810"},{value:"17812",label:"421097812"},{value:"17813",label:"421097813"},{value:"17814",label:"420377814"},{value:"17815",label:"420377815"},{value:"17820",label:"420377820"},{value:"17821",label:"420937821"},{value:"17822",label:"420937822"},{value:"17823",label:"420977823"},{value:"17824",label:"420977824"},{value:"17827",label:"421097827"},{value:"17829",label:"421197829"},{value:"17830",label:"420977830"},{value:"17831",label:"421097831"},{value:"17832",label:"420977832"},{value:"17833",label:"421097833"},{value:"17834",label:"420977834"},{value:"17835",label:"421197835"},{value:"17836",label:"420977836"},{value:"17837",label:"421197837"},{value:"17840",label:"420977840"},{value:"17841",label:"421097841"},{value:"17842",label:"421097842"},{value:"17843",label:"421097843"},{value:"17844",label:"421197844"},{value:"17845",label:"421197845"},{value:"17846",label:"420377846"},{value:"17847",label:"420977847"},{value:"17850",label:"420977850"},{value:"17851",label:"420977851"},{value:"17853",label:"421097853"},{value:"17855",label:"421197855"},{value:"17856",label:"421197856"},{value:"17857",label:"420977857"},{value:"17858",label:"420377858"},{value:"17859",label:"420377859"},{value:"17860",label:"420977860"},{value:"17861",label:"421097861"},{value:"17862",label:"421097862"},{value:"17864",label:"421097864"},{value:"17865",label:"420977865"},{value:"17866",label:"420977866"},{value:"17867",label:"420977867"},{value:"17868",label:"420977868"},{value:"17870",label:"421097870"},{value:"17872",label:"420977872"},{value:"17876",label:"421097876"},{value:"17877",label:"420977877"},{value:"17878",label:"420797878"},{value:"17880",label:"421197880"},{value:"17881",label:"420977881"},{value:"17882",label:"421097882"},{value:"17883",label:"421197883"},{value:"17884",label:"420937884"},{value:"17885",label:"421197885"},{value:"17886",label:"421197886"},{value:"17887",label:"421197887"},{value:"17888",label:"420377888"},{value:"17889",label:"421097889"},{value:"17901",label:"421077901"},{value:"17920",label:"420377920"},{value:"17921",label:"421077921"},{value:"17922",label:"421077922"},{value:"17923",label:"421077923"},{value:"17925",label:"421077925"},{value:"17929",label:"421077929"},{value:"17930",label:"421077930"},{value:"17931",label:"421077931"},{value:"17932",label:"421077932"},{value:"17933",label:"421077933"},{value:"17934",label:"421077934"},{value:"17935",label:"421077935"},{value:"17936",label:"421077936"},{value:"17938",label:"421077938"},{value:"17941",label:"420977941"},{value:"17943",label:"421077943"},{value:"17944",label:"421077944"},{value:"17945",label:"421077945"},{value:"17946",label:"421077946"},{value:"17948",label:"421077948"},{value:"17949",label:"421077949"},{value:"17951",label:"421077951"},{value:"17952",label:"421077952"},{value:"17953",label:"421077953"},{value:"17954",label:"421077954"},{value:"17957",label:"421077957"},{value:"17959",label:"421077959"},{value:"17960",label:"421077960"},{value:"17961",label:"421077961"},{value:"17963",label:"421077963"},{value:"17964",label:"421077964"},{value:"17965",label:"421077965"},{value:"17966",label:"421077966"},{value:"17967",label:"421077967"},{value:"17968",label:"421077968"},{value:"17970",label:"421077970"},{value:"17972",label:"421077972"},{value:"17974",label:"421077974"},{value:"17976",label:"421077976"},{value:"17978",label:"420437978"},{value:"17979",label:"421077979"},{value:"17980",label:"421077980"},{value:"17981",label:"421077981"},{value:"17982",label:"421077982"},{value:"17983",label:"421077983"},{value:"17985",label:"421077985"},{value:"18001",label:"420958001"},{value:"18002",label:"420958002"},{value:"18003",label:"420958003"},{value:"18011",label:"420778011"},{value:"18012",label:"420258012"},{value:"18013",label:"420958013"},{value:"18014",label:"420958014"},{value:"18015",label:"420958015"},{value:"18016",label:"420958016"},{value:"18017",label:"420958017"},{value:"18018",label:"420778018"},{value:"18020",label:"420958020"},{value:"18025",label:"420778025"},{value:"18030",label:"420258030"},{value:"18031",label:"420778031"},{value:"18032",label:"420778032"},{value:"18034",label:"420778034"},{value:"18035",label:"420958035"},{value:"18036",label:"420778036"},{value:"18037",label:"420778037"},{value:"18038",label:"420958038"},{value:"18039",label:"420178039"},{value:"18040",label:"420958040"},{value:"18041",label:"420918041"},{value:"18042",label:"420958042"},{value:"18043",label:"420958043"},{value:"18044",label:"420958044"},{value:"18045",label:"420958045"},{value:"18046",label:"420778046"},{value:"18049",label:"420778049"},{value:"18051",label:"420778051"},{value:"18052",label:"420778052"},{value:"18053",label:"420778053"},{value:"18054",label:"420918054"},{value:"18055",label:"420958055"},{value:"18056",label:"420118056"},{value:"18058",label:"420898058"},{value:"18059",label:"420778059"},{value:"18060",label:"420778060"},{value:"18062",label:"420778062"},{value:"18063",label:"420958063"},{value:"18064",label:"420958064"},{value:"18065",label:"420778065"},{value:"18066",label:"420778066"},{value:"18067",label:"420958067"},{value:"18068",label:"420778068"},{value:"18069",label:"420778069"},{value:"18070",label:"420118070"},{value:"18071",label:"420258071"},{value:"18072",label:"420958072"},{value:"18073",label:"420918073"},{value:"18074",label:"420918074"},{value:"18076",label:"420918076"},{value:"18077",label:"420178077"},{value:"18078",label:"420778078"},{value:"18079",label:"420778079"},{value:"18080",label:"420778080"},{value:"18081",label:"420178081"},{value:"18083",label:"420958083"},{value:"18084",label:"420918084"},{value:"18085",label:"420958085"},{value:"18086",label:"420958086"},{value:"18087",label:"420778087"},{value:"18088",label:"420958088"},{value:"18091",label:"420958091"},{value:"18092",label:"420778092"},{value:"18098",label:"420778098"},{value:"18099",label:"420778099"},{value:"18101",label:"420778101"},{value:"18102",label:"420778102"},{value:"18103",label:"420778103"},{value:"18104",label:"420778104"},{value:"18105",label:"420778105"},{value:"18106",label:"420778106"},{value:"18109",label:"420778109"},{value:"18195",label:"420778195"},{value:"18201",label:"420798201"},{value:"18202",label:"420798202"},{value:"18210",label:"420258210"},{value:"18211",label:"421078211"},{value:"18212",label:"420258212"},{value:"18214",label:"421078214"},{value:"18216",label:"420258216"},{value:"18218",label:"421078218"},{value:"18219",label:"420798219"},{value:"18220",label:"421078220"},{value:"18221",label:"420798221"},{value:"18222",label:"420798222"},{value:"18223",label:"420798223"},{value:"18224",label:"420798224"},{value:"18225",label:"420798225"},{value:"18229",label:"420258229"},{value:"18230",label:"420258230"},{value:"18231",label:"421078231"},{value:"18232",label:"420258232"},{value:"18234",label:"420798234"},{value:"18235",label:"420258235"},{value:"18237",label:"421078237"},{value:"18239",label:"420798239"},{value:"18240",label:"420258240"},{value:"18241",label:"420798241"},{value:"18242",label:"421078242"},{value:"18244",label:"420258244"},{value:"18245",label:"421078245"},{value:"18246",label:"420798246"},{value:"18247",label:"420798247"},{value:"18248",label:"421078248"},{value:"18249",label:"420798249"},{value:"18250",label:"420258250"},{value:"18251",label:"420798251"},{value:"18252",label:"421078252"},{value:"18254",label:"420258254"},{value:"18255",label:"420258255"},{value:"18256",label:"420798256"},{value:"18301",label:"420898301"},{value:"18302",label:"420898302"},{value:"18320",label:"420898320"},{value:"18321",label:"420898321"},{value:"18322",label:"420898322"},{value:"18323",label:"420898323"},{value:"18324",label:"421038324"},{value:"18325",label:"420898325"},{value:"18326",label:"420898326"},{value:"18327",label:"420898327"},{value:"18328",label:"421038328"},{value:"18330",label:"420898330"},{value:"18331",label:"420898331"},{value:"18332",label:"420898332"},{value:"18333",label:"420898333"},{value:"18334",label:"420898334"},{value:"18335",label:"420898335"},{value:"18336",label:"421038336"},{value:"18337",label:"421038337"},{value:"18340",label:"421038340"},{value:"18341",label:"420898341"},{value:"18342",label:"420898342"},{value:"18343",label:"420958343"},{value:"18344",label:"420898344"},{value:"18346",label:"420898346"},{value:"18347",label:"420898347"},{value:"18348",label:"420898348"},{value:"18349",label:"420898349"},{value:"18350",label:"420898350"},{value:"18351",label:"420958351"},{value:"18352",label:"420898352"},{value:"18353",label:"420898353"},{value:"18354",label:"420898354"},{value:"18355",label:"420898355"},{value:"18356",label:"420898356"},{value:"18357",label:"420898357"},{value:"18360",label:"420898360"},{value:"18370",label:"420898370"},{value:"18371",label:"421038371"},{value:"18372",label:"420898372"},{value:"18403",label:"420698403"},{value:"18405",label:"421278405"},{value:"18407",label:"420698407"},{value:"18410",label:"420698410"},{value:"18411",label:"420698411"},{value:"18413",label:"421158413"},{value:"18414",label:"420698414"},{value:"18415",label:"421278415"},{value:"18416",label:"420698416"},{value:"18417",label:"421278417"},{value:"18419",label:"421318419"},{value:"18420",label:"420698420"},{value:"18421",label:"421158421"},{value:"18424",label:"420698424"},{value:"18425",label:"421038425"},{value:"18426",label:"421038426"},{value:"18427",label:"421278427"},{value:"18428",label:"421278428"},{value:"18430",label:"421158430"},{value:"18431",label:"421278431"},{value:"18433",label:"420698433"},{value:"18434",label:"420698434"},{value:"18435",label:"421038435"},{value:"18436",label:"421278436"},{value:"18437",label:"421278437"},{value:"18438",label:"421278438"},{value:"18439",label:"421278439"},{value:"18440",label:"420698440"},{value:"18441",label:"421158441"},{value:"18443",label:"421278443"},{value:"18444",label:"420698444"},{value:"18445",label:"421278445"},{value:"18446",label:"421318446"},{value:"18447",label:"420698447"},{value:"18448",label:"420698448"},{value:"18449",label:"421278449"},{value:"18451",label:"421038451"},{value:"18452",label:"420698452"},{value:"18453",label:"421278453"},{value:"18454",label:"421278454"},{value:"18455",label:"421278455"},{value:"18456",label:"421278456"},{value:"18457",label:"421038457"},{value:"18458",label:"421038458"},{value:"18459",label:"421278459"},{value:"18460",label:"421278460"},{value:"18461",label:"421278461"},{value:"18462",label:"421278462"},{value:"18463",label:"421278463"},{value:"18464",label:"421038464"},{value:"18465",label:"421158465"},{value:"18466",label:"420898466"},{value:"18469",label:"421278469"},{value:"18470",label:"421158470"},{value:"18471",label:"420698471"},{value:"18472",label:"421278472"},{value:"18473",label:"421278473"},{value:"18501",label:"420698501"},{value:"18502",label:"420698502"},{value:"18503",label:"420698503"},{value:"18504",label:"420698504"},{value:"18505",label:"420698505"},{value:"18507",label:"420698507"},{value:"18508",label:"420698508"},{value:"18509",label:"420698509"},{value:"18510",label:"420698510"},{value:"18512",label:"420698512"},{value:"18515",label:"420698515"},{value:"18517",label:"420698517"},{value:"18518",label:"420698518"},{value:"18519",label:"420698519"},{value:"18540",label:"420698540"},{value:"18577",label:"420698577"},{value:"18601",label:"420798601"},{value:"18602",label:"420798602"},{value:"18603",label:"420378603"},{value:"18610",label:"420898610"},{value:"18611",label:"420798611"},{value:"18612",label:"420798612"},{value:"18614",label:"421138614"},{value:"18615",label:"421318615"},{value:"18616",label:"421138616"},{value:"18617",label:"420798617"},{value:"18618",label:"420798618"},{value:"18619",label:"421138619"},{value:"18621",label:"420798621"},{value:"18622",label:"420798622"},{value:"18623",label:"421318623"},{value:"18624",label:"420258624"},{value:"18625",label:"421318625"},{value:"18626",label:"421138626"},{value:"18627",label:"420798627"},{value:"18628",label:"421138628"},{value:"18629",label:"421318629"},{value:"18630",label:"421318630"},{value:"18631",label:"420378631"},{value:"18632",label:"421138632"},{value:"18634",label:"420798634"},{value:"18635",label:"420798635"},{value:"18636",label:"421318636"},{value:"18640",label:"420798640"},{value:"18641",label:"420798641"},{value:"18642",label:"420798642"},{value:"18643",label:"420798643"},{value:"18644",label:"420798644"},{value:"18651",label:"420798651"},{value:"18653",label:"420698653"},{value:"18654",label:"420798654"},{value:"18655",label:"420798655"},{value:"18656",label:"420798656"},{value:"18657",label:"421318657"},{value:"18660",label:"420798660"},{value:"18661",label:"420798661"},{value:"18690",label:"420798690"},{value:"18701",label:"420798701"},{value:"18702",label:"420798702"},{value:"18703",label:"420798703"},{value:"18704",label:"420798704"},{value:"18705",label:"420798705"},{value:"18706",label:"420798706"},{value:"18707",label:"420798707"},{value:"18708",label:"420798708"},{value:"18709",label:"420798709"},{value:"18710",label:"420798710"},{value:"18711",label:"420798711"},{value:"18762",label:"420798762"},{value:"18764",label:"420798764"},{value:"18765",label:"420798765"},{value:"18766",label:"420798766"},{value:"18767",label:"420798767"},{value:"18769",label:"420798769"},{value:"18773",label:"420798773"},{value:"18801",label:"421158801"},{value:"18810",label:"420158810"},{value:"18812",label:"421158812"},{value:"18813",label:"421158813"},{value:"18814",label:"420158814"},{value:"18815",label:"420158815"},{value:"18816",label:"421158816"},{value:"18817",label:"420158817"},{value:"18818",label:"421158818"},{value:"18820",label:"421158820"},{value:"18821",label:"421158821"},{value:"18822",label:"421158822"},{value:"18823",label:"421158823"},{value:"18824",label:"421158824"},{value:"18825",label:"421158825"},{value:"18826",label:"421158826"},{value:"18827",label:"421158827"},{value:"18828",label:"421158828"},{value:"18829",label:"420158829"},{value:"18830",label:"421158830"},{value:"18831",label:"420158831"},{value:"18832",label:"420158832"},{value:"18833",label:"420158833"},{value:"18834",label:"421158834"},{value:"18837",label:"420158837"},{value:"18840",label:"420158840"},{value:"18842",label:"421158842"},{value:"18843",label:"421158843"},{value:"18844",label:"421158844"},{value:"18845",label:"420158845"},{value:"18846",label:"420158846"},{value:"18847",label:"421158847"},{value:"18848",label:"420158848"},{value:"18850",label:"420158850"},{value:"18851",label:"420158851"},{value:"18853",label:"420158853"},{value:"18854",label:"420158854"},{value:"18901",label:"420178901"},{value:"18902",label:"420178902"},{value:"18910",label:"420178910"},{value:"18911",label:"420178911"},{value:"18912",label:"420178912"},{value:"18913",label:"420178913"},{value:"18914",label:"420178914"},{value:"18915",label:"420918915"},{value:"18916",label:"420178916"},{value:"18917",label:"420178917"},{value:"18918",label:"420918918"},{value:"18920",label:"420178920"},{value:"18921",label:"420178921"},{value:"18922",label:"420178922"},{value:"18923",label:"420178923"},{value:"18924",label:"420918924"},{value:"18925",label:"420178925"},{value:"18927",label:"420178927"},{value:"18928",label:"420178928"},{value:"18929",label:"420178929"},{value:"18930",label:"420178930"},{value:"18931",label:"420178931"},{value:"18932",label:"420178932"},{value:"18933",label:"420178933"},{value:"18934",label:"420178934"},{value:"18935",label:"420178935"},{value:"18936",label:"420918936"},{value:"18938",label:"420178938"},{value:"18940",label:"420178940"},{value:"18942",label:"420178942"},{value:"18943",label:"420178943"},{value:"18944",label:"420178944"},{value:"18946",label:"420178946"},{value:"18947",label:"420178947"},{value:"18949",label:"420178949"},{value:"18950",label:"420178950"},{value:"18951",label:"420178951"},{value:"18953",label:"420178953"},{value:"18954",label:"420178954"},{value:"18955",label:"420178955"},{value:"18956",label:"420178956"},{value:"18957",label:"420918957"},{value:"18958",label:"420918958"},{value:"18960",label:"420178960"},{value:"18962",label:"420178962"},{value:"18963",label:"420178963"},{value:"18964",label:"420918964"},{value:"18966",label:"420178966"},{value:"18968",label:"420178968"},{value:"18969",label:"420918969"},{value:"18970",label:"420178970"},{value:"18971",label:"420918971"},{value:"18972",label:"420178972"},{value:"18974",label:"420178974"},{value:"18976",label:"420178976"},{value:"18977",label:"420178977"},{value:"18979",label:"420918979"},{value:"18980",label:"420178980"},{value:"18981",label:"420178981"},{value:"18991",label:"420178991"},{value:"19001",label:"420919001"},{value:"19002",label:"420919002"},{value:"19003",label:"420919003"},{value:"19004",label:"420919004"},{value:"19006",label:"420919006"},{value:"19007",label:"420179007"},{value:"19008",label:"420459008"},{value:"19009",label:"420919009"},{value:"19010",label:"420459010"},{value:"19012",label:"420919012"},{value:"19013",label:"420459013"},{value:"19014",label:"420459014"},{value:"19015",label:"420459015"},{value:"19016",label:"420459016"},{value:"19017",label:"420459017"},{value:"19018",label:"420459018"},{value:"19019",label:"421019019"},{value:"19020",label:"420179020"},{value:"19021",label:"420179021"},{value:"19022",label:"420459022"},{value:"19023",label:"420459023"},{value:"19025",label:"420919025"},{value:"19026",label:"420459026"},{value:"19027",label:"420919027"},{value:"19028",label:"420459028"},{value:"19029",label:"420459029"},{value:"19030",label:"420179030"},{value:"19031",label:"420919031"},{value:"19032",label:"420459032"},{value:"19033",label:"420459033"},{value:"19034",label:"420919034"},{value:"19035",label:"420919035"},{value:"19036",label:"420459036"},{value:"19037",label:"420459037"},{value:"19038",label:"420919038"},{value:"19039",label:"420459039"},{value:"19040",label:"420919040"},{value:"19041",label:"420919041"},{value:"19043",label:"420459043"},{value:"19044",label:"420919044"},{value:"19046",label:"420919046"},{value:"19047",label:"420179047"},{value:"19048",label:"420179048"},{value:"19049",label:"420179049"},{value:"19050",label:"420459050"},{value:"19052",label:"420459052"},{value:"19053",label:"420179053"},{value:"19054",label:"420179054"},{value:"19055",label:"420179055"},{value:"19056",label:"420179056"},{value:"19057",label:"420179057"},{value:"19058",label:"420179058"},{value:"19060",label:"420459060"},{value:"19061",label:"420459061"},{value:"19063",label:"420459063"},{value:"19064",label:"420459064"},{value:"19065",label:"420459065"},{value:"19066",label:"420919066"},{value:"19067",label:"420179067"},{value:"19070",label:"420459070"},{value:"19072",label:"420919072"},{value:"19073",label:"420459073"},{value:"19074",label:"420459074"},{value:"19075",label:"420919075"},{value:"19076",label:"420459076"},{value:"19078",label:"420459078"},{value:"19079",label:"420459079"},{value:"19080",label:"420459080"},{value:"19081",label:"420459081"},{value:"19082",label:"420459082"},{value:"19083",label:"420459083"},{value:"19085",label:"420459085"},{value:"19086",label:"420459086"},{value:"19087",label:"420299087"},{value:"19088",label:"420459088"},{value:"19089",label:"420459089"},{value:"19090",label:"420919090"},{value:"19091",label:"420459091"},{value:"19092",label:"421019092"},{value:"19093",label:"421019093"},{value:"19094",label:"420459094"},{value:"19095",label:"420919095"},{value:"19096",label:"420919096"},{value:"19098",label:"420459098"},{value:"19099",label:"421019099"},{value:"19101",label:"421019101"},{value:"19102",label:"421019102"},{value:"19103",label:"421019103"},{value:"19104",label:"421019104"},{value:"19105",label:"421019105"},{value:"19106",label:"421019106"},{value:"19107",label:"421019107"},{value:"19108",label:"421019108"},{value:"19109",label:"421019109"},{value:"19110",label:"421019110"},{value:"19111",label:"421019111"},{value:"19112",label:"421019112"},{value:"19113",label:"420459113"},{value:"19114",label:"421019114"},{value:"19115",label:"421019115"},{value:"19116",label:"421019116"},{value:"19118",label:"421019118"},{value:"19119",label:"421019119"},{value:"19120",label:"421019120"},{value:"19121",label:"421019121"},{value:"19122",label:"421019122"},{value:"19123",label:"421019123"},{value:"19124",label:"421019124"},{value:"19125",label:"421019125"},{value:"19126",label:"421019126"},{value:"19127",label:"421019127"},{value:"19128",label:"421019128"},{value:"19129",label:"421019129"},{value:"19130",label:"421019130"},{value:"19131",label:"421019131"},{value:"19132",label:"421019132"},{value:"19133",label:"421019133"},{value:"19134",label:"421019134"},{value:"19135",label:"421019135"},{value:"19136",label:"421019136"},{value:"19137",label:"421019137"},{value:"19138",label:"421019138"},{value:"19139",label:"421019139"},{value:"19140",label:"421019140"},{value:"19141",label:"421019141"},{value:"19142",label:"421019142"},{value:"19143",label:"421019143"},{value:"19144",label:"421019144"},{value:"19145",label:"421019145"},{value:"19146",label:"421019146"},{value:"19147",label:"421019147"},{value:"19148",label:"421019148"},{value:"19149",label:"421019149"},{value:"19150",label:"421019150"},{value:"19151",label:"421019151"},{value:"19152",label:"421019152"},{value:"19153",label:"421019153"},{value:"19154",label:"421019154"},{value:"19155",label:"421019155"},{value:"19160",label:"421019160"},{value:"19161",label:"421019161"},{value:"19162",label:"421019162"},{value:"19170",label:"421019170"},{value:"19171",label:"421019171"},{value:"19172",label:"421019172"},{value:"19173",label:"421019173"},{value:"19175",label:"421019175"},{value:"19176",label:"421019176"},{value:"19177",label:"421019177"},{value:"19178",label:"421019178"},{value:"19179",label:"421019179"},{value:"19181",label:"421019181"},{value:"19182",label:"421019182"},{value:"19183",label:"421019183"},{value:"19184",label:"421019184"},{value:"19185",label:"421019185"},{value:"19187",label:"421019187"},{value:"19188",label:"421019188"},{value:"19190",label:"421019190"},{value:"19191",label:"421019191"},{value:"19192",label:"421019192"},{value:"19193",label:"421019193"},{value:"19194",label:"421019194"},{value:"19195",label:"421019195"},{value:"19196",label:"421019196"},{value:"19197",label:"421019197"},{value:"19244",label:"421019244"},{value:"19255",label:"421019255"},{value:"19301",label:"420299301"},{value:"19310",label:"420299310"},{value:"19311",label:"420299311"},{value:"19312",label:"420299312"},{value:"19316",label:"420299316"},{value:"19317",label:"420299317"},{value:"19318",label:"420299318"},{value:"19319",label:"420459319"},{value:"19320",label:"420299320"},{value:"19330",label:"420299330"},{value:"19331",label:"420459331"},{value:"19333",label:"420299333"},{value:"19335",label:"420299335"},{value:"19339",label:"420459339"},{value:"19340",label:"420459340"},{value:"19341",label:"420299341"},{value:"19342",label:"420459342"},{value:"19343",label:"420299343"},{value:"19344",label:"420299344"},{value:"19345",label:"420299345"},{value:"19346",label:"420299346"},{value:"19347",label:"420299347"},{value:"19348",label:"420299348"},{value:"19350",label:"420299350"},{value:"19351",label:"420299351"},{value:"19352",label:"420299352"},{value:"19353",label:"420299353"},{value:"19354",label:"420299354"},{value:"19355",label:"420299355"},{value:"19357",label:"420299357"},{value:"19358",label:"420299358"},{value:"19360",label:"420299360"},{value:"19362",label:"420299362"},{value:"19363",label:"420299363"},{value:"19365",label:"420299365"},{value:"19366",label:"420299366"},{value:"19367",label:"420299367"},{value:"19369",label:"420299369"},{value:"19371",label:"420299371"},{value:"19372",label:"420299372"},{value:"19373",label:"420459373"},{value:"19374",label:"420299374"},{value:"19375",label:"420299375"},{value:"19376",label:"420299376"},{value:"19380",label:"420299380"},{value:"19381",label:"420299381"},{value:"19382",label:"420299382"},{value:"19383",label:"420299383"},{value:"19390",label:"420299390"},{value:"19395",label:"420299395"},{value:"19397",label:"420299397"},{value:"19398",label:"420299398"},{value:"19399",label:"420299399"},{value:"19401",label:"420919401"},{value:"19403",label:"420919403"},{value:"19404",label:"420919404"},{value:"19405",label:"420919405"},{value:"19406",label:"420919406"},{value:"19407",label:"420919407"},{value:"19408",label:"420919408"},{value:"19409",label:"420919409"},{value:"19415",label:"420919415"},{value:"19421",label:"420299421"},{value:"19422",label:"420919422"},{value:"19423",label:"420919423"},{value:"19424",label:"420919424"},{value:"19425",label:"420299425"},{value:"19426",label:"420919426"},{value:"19428",label:"420919428"},{value:"19429",label:"420919429"},{value:"19430",label:"420919430"},{value:"19432",label:"420299432"},{value:"19435",label:"420919435"},{value:"19436",label:"420919436"},{value:"19437",label:"420919437"},{value:"19438",label:"420919438"},{value:"19440",label:"420919440"},{value:"19441",label:"420919441"},{value:"19442",label:"420299442"},{value:"19443",label:"420919443"},{value:"19444",label:"420919444"},{value:"19446",label:"420919446"},{value:"19450",label:"420919450"},{value:"19451",label:"420919451"},{value:"19453",label:"420919453"},{value:"19454",label:"420919454"},{value:"19455",label:"420919455"},{value:"19456",label:"420919456"},{value:"19457",label:"420299457"},{value:"19460",label:"420299460"},{value:"19462",label:"420919462"},{value:"19464",label:"420919464"},{value:"19465",label:"420299465"},{value:"19468",label:"420919468"},{value:"19470",label:"420299470"},{value:"19472",label:"420919472"},{value:"19473",label:"420919473"},{value:"19474",label:"420919474"},{value:"19475",label:"420299475"},{value:"19477",label:"420919477"},{value:"19478",label:"420919478"},{value:"19480",label:"420299480"},{value:"19481",label:"420299481"},{value:"19482",label:"420299482"},{value:"19484",label:"420299484"},{value:"19486",label:"420919486"},{value:"19490",label:"420919490"},{value:"19492",label:"420919492"},{value:"19493",label:"420299493"},{value:"19494",label:"420299494"},{value:"19495",label:"420299495"},{value:"19496",label:"420299496"},{value:"19501",label:"420719501"},{value:"19503",label:"420119503"},{value:"19504",label:"420119504"},{value:"19505",label:"420119505"},{value:"19506",label:"420119506"},{value:"19507",label:"420119507"},{value:"19508",label:"420119508"},{value:"19510",label:"420119510"},{value:"19511",label:"420119511"},{value:"19512",label:"420119512"},{value:"19516",label:"420119516"},{value:"19518",label:"420119518"},{value:"19519",label:"420119519"},{value:"19520",label:"420299520"},{value:"19522",label:"420119522"},{value:"19523",label:"420119523"},{value:"19525",label:"420919525"},{value:"19526",label:"420119526"},{value:"19529",label:"420119529"},{value:"19530",label:"420119530"},{value:"19533",label:"420119533"},{value:"19534",label:"420119534"},{value:"19535",label:"420119535"},{value:"19536",label:"420119536"},{value:"19538",label:"420119538"},{value:"19539",label:"420119539"},{value:"19540",label:"420119540"},{value:"19541",label:"420119541"},{value:"19543",label:"420119543"},{value:"19544",label:"420119544"},{value:"19545",label:"420119545"},{value:"19547",label:"420119547"},{value:"19548",label:"420119548"},{value:"19549",label:"421079549"},{value:"19550",label:"420119550"},{value:"19551",label:"420119551"},{value:"19554",label:"420119554"},{value:"19555",label:"420119555"},{value:"19559",label:"420119559"},{value:"19560",label:"420119560"},{value:"19562",label:"420119562"},{value:"19564",label:"420119564"},{value:"19565",label:"420119565"},{value:"19567",label:"420119567"},{value:"19601",label:"420119601"},{value:"19602",label:"420119602"},{value:"19603",label:"420119603"},{value:"19604",label:"420119604"},{value:"19605",label:"420119605"},{value:"19606",label:"420119606"},{value:"19607",label:"420119607"},{value:"19608",label:"420119608"},{value:"19609",label:"420119609"},{value:"19610",label:"420119610"},{value:"19611",label:"420119611"},{value:"19612",label:"420119612"},{value:"19701",label:"100039701"},{value:"19702",label:"100039702"},{value:"19703",label:"100039703"},{value:"19706",label:"100039706"},{value:"19707",label:"100039707"},{value:"19708",label:"100039708"},{value:"19709",label:"100039709"},{value:"19710",label:"100039710"},{value:"19711",label:"100039711"},{value:"19712",label:"100039712"},{value:"19713",label:"100039713"},{value:"19714",label:"100039714"},{value:"19715",label:"100039715"},{value:"19716",label:"100039716"},{value:"19717",label:"100039717"},{value:"19718",label:"100039718"},{value:"19720",label:"100039720"},{value:"19721",label:"100039721"},{value:"19725",label:"100039725"},{value:"19726",label:"100039726"},{value:"19730",label:"100039730"},{value:"19731",label:"100039731"},{value:"19732",label:"100039732"},{value:"19733",label:"100039733"},{value:"19734",label:"100039734"},{value:"19735",label:"100039735"},{value:"19736",label:"100039736"},{value:"19801",label:"100039801"},{value:"19802",label:"100039802"},{value:"19803",label:"100039803"},{value:"19804",label:"100039804"},{value:"19805",label:"100039805"},{value:"19806",label:"100039806"},{value:"19807",label:"100039807"},{value:"19808",label:"100039808"},{value:"19809",label:"100039809"},{value:"19810",label:"100039810"},{value:"19850",label:"100039850"},{value:"19880",label:"100039880"},{value:"19884",label:"100039884"},{value:"19885",label:"100039885"},{value:"19886",label:"100039886"},{value:"19890",label:"100039890"},{value:"19891",label:"100039891"},{value:"19892",label:"100039892"},{value:"19893",label:"100039893"},{value:"19894",label:"100039894"},{value:"19895",label:"100039895"},{value:"19896",label:"100039896"},{value:"19897",label:"100039897"},{value:"19898",label:"100039898"},{value:"19899",label:"100039899"},{value:"19901",label:"100019901"},{value:"19902",label:"100019902"},{value:"19903",label:"100019903"},{value:"19904",label:"100019904"},{value:"19905",label:"100019905"},{value:"19906",label:"100019906"},{value:"19930",label:"100059930"},{value:"19931",label:"100059931"},{value:"19933",label:"100059933"},{value:"19934",label:"100019934"},{value:"19936",label:"100019936"},{value:"19938",label:"100019938"},{value:"19939",label:"100059939"},{value:"19940",label:"100059940"},{value:"19941",label:"100059941"},{value:"19943",label:"100019943"},{value:"19944",label:"100059944"},{value:"19945",label:"100059945"},{value:"19946",label:"100019946"},{value:"19947",label:"100059947"},{value:"19950",label:"100059950"},{value:"19951",label:"100059951"},{value:"19952",label:"100019952"},{value:"19953",label:"100019953"},{value:"19954",label:"100019954"},{value:"19955",label:"100019955"},{value:"19956",label:"100059956"},{value:"19958",label:"100059958"},{value:"19960",label:"100059960"},{value:"19961",label:"100019961"},{value:"19962",label:"100019962"},{value:"19963",label:"100059963"},{value:"19964",label:"100019964"},{value:"19966",label:"100059966"},{value:"19967",label:"100059967"},{value:"19968",label:"100059968"},{value:"19969",label:"100059969"},{value:"19970",label:"100059970"},{value:"19971",label:"100059971"},{value:"19973",label:"100059973"},{value:"19975",label:"100059975"},{value:"19977",label:"100019977"},{value:"19979",label:"100019979"},{value:"19980",label:"100019980"},{value:"20001",label:"110010001"},{value:"20002",label:"110010002"},{value:"20003",label:"110010003"},{value:"20004",label:"110010004"},{value:"20005",label:"110010005"},{value:"20006",label:"110010006"},{value:"20007",label:"110010007"},{value:"20008",label:"110010008"},{value:"20009",label:"110010009"},{value:"20010",label:"110010010"},{value:"20011",label:"110010011"},{value:"20012",label:"110010012"},{value:"20013",label:"110010013"},{value:"20015",label:"110010015"},{value:"20016",label:"110010016"},{value:"20017",label:"110010017"},{value:"20018",label:"110010018"},{value:"20019",label:"110010019"},{value:"20020",label:"110010020"},{value:"20022",label:"110010022"},{value:"20024",label:"110010024"},{value:"20026",label:"110010026"},{value:"20027",label:"110010027"},{value:"20029",label:"110010029"},{value:"20030",label:"110010030"},{value:"20032",label:"110010032"},{value:"20033",label:"110010033"},{value:"20035",label:"110010035"},{value:"20036",label:"110010036"},{value:"20037",label:"110010037"},{value:"20038",label:"110010038"},{value:"20039",label:"110010039"},{value:"20040",label:"110010040"},{value:"20041",label:"110010041"},{value:"20042",label:"110010042"},{value:"20043",label:"110010043"},{value:"20044",label:"110010044"},{value:"20045",label:"110010045"},{value:"20047",label:"110010047"},{value:"20049",label:"110010049"},{value:"20050",label:"110010050"},{value:"20052",label:"110010052"},{value:"20053",label:"110010053"},{value:"20055",label:"110010055"},{value:"20056",label:"110010056"},{value:"20057",label:"110010057"},{value:"20058",label:"110010058"},{value:"20059",label:"110010059"},{value:"20060",label:"110010060"},{value:"20061",label:"110010061"},{value:"20062",label:"110010062"},{value:"20063",label:"110010063"},{value:"20064",label:"110010064"},{value:"20065",label:"110010065"},{value:"20066",label:"110010066"},{value:"20067",label:"110010067"},{value:"20068",label:"110010068"},{value:"20069",label:"110010069"},{value:"20070",label:"110010070"},{value:"20071",label:"110010071"},{value:"20073",label:"110010073"},{value:"20074",label:"110010074"},{value:"20075",label:"110010075"},{value:"20076",label:"110010076"},{value:"20077",label:"110010077"},{value:"20078",label:"110010078"},{value:"20080",label:"110010080"},{value:"20081",label:"110010081"},{value:"20082",label:"110010082"},{value:"20090",label:"110010090"},{value:"20091",label:"110010091"},{value:"20101",label:"511070101"},{value:"20102",label:"511070102"},{value:"20103",label:"511070103"},{value:"20104",label:"511070104"},{value:"20105",label:"511070105"},{value:"20106",label:"510470106"},{value:"20108",label:"516830108"},{value:"20109",label:"511530109"},{value:"20110",label:"516830110"},{value:"20111",label:"511530111"},{value:"20112",label:"511530112"},{value:"20113",label:"516830113"},{value:"20115",label:"510610115"},{value:"20116",label:"510610116"},{value:"20117",label:"511070117"},{value:"20118",label:"511070118"},{value:"20119",label:"510610119"},{value:"20120",label:"510590120"},{value:"20121",label:"510590121"},{value:"20122",label:"510590122"},{value:"20124",label:"510590124"},{value:"20128",label:"510610128"},{value:"20129",label:"511070129"},{value:"20130",label:"510430130"},{value:"20131",label:"511070131"},{value:"20132",label:"511070132"},{value:"20134",label:"511070134"},{value:"20135",label:"510430135"},{value:"20136",label:"511530136"},{value:"20137",label:"510610137"},{value:"20138",label:"510610138"},{value:"20139",label:"510610139"},{value:"20140",label:"510610140"},{value:"20141",label:"511070141"},{value:"20142",label:"511070142"},{value:"20143",label:"511530143"},{value:"20144",label:"510610144"},{value:"20146",label:"511070146"},{value:"20147",label:"511070147"},{value:"20148",label:"511070148"},{value:"20149",label:"511070149"},{value:"20151",label:"510590151"},{value:"20152",label:"511070152"},{value:"20153",label:"510590153"},{value:"20155",label:"511530155"},{value:"20156",label:"511530156"},{value:"20158",label:"511070158"},{value:"20159",label:"511070159"},{value:"20160",label:"511070160"},{value:"20163",label:"511070163"},{value:"20164",label:"511070164"},{value:"20165",label:"511070165"},{value:"20166",label:"511070166"},{value:"20167",label:"511070167"},{value:"20168",label:"511530168"},{value:"20169",label:"511530169"},{value:"20170",label:"510590170"},{value:"20171",label:"510590171"},{value:"20172",label:"510590172"},{value:"20175",label:"511070175"},{value:"20176",label:"511070176"},{value:"20177",label:"511070177"},{value:"20178",label:"511070178"},{value:"20180",label:"511070180"},{value:"20181",label:"511530181"},{value:"20182",label:"511530182"},{value:"20184",label:"510610184"},{value:"20185",label:"510610185"},{value:"20186",label:"510610186"},{value:"20187",label:"510610187"},{value:"20188",label:"510610188"},{value:"20189",label:"511070189"},{value:"20190",label:"510590190"},{value:"20191",label:"510590191"},{value:"20192",label:"510590192"},{value:"20194",label:"510590194"},{value:"20195",label:"510590195"},{value:"20196",label:"510590196"},{value:"20197",label:"511070197"},{value:"20198",label:"510610198"},{value:"20201",label:"110010201"},{value:"20202",label:"110010202"},{value:"20203",label:"110010203"},{value:"20204",label:"110010204"},{value:"20206",label:"110010206"},{value:"20207",label:"110010207"},{value:"20208",label:"110010208"},{value:"20210",label:"110010210"},{value:"20211",label:"110010211"},{value:"20212",label:"110010212"},{value:"20213",label:"110010213"},{value:"20214",label:"110010214"},{value:"20215",label:"110010215"},{value:"20216",label:"110010216"},{value:"20217",label:"110010217"},{value:"20218",label:"110010218"},{value:"20219",label:"110010219"},{value:"20220",label:"110010220"},{value:"20221",label:"110010221"},{value:"20222",label:"110010222"},{value:"20223",label:"110010223"},{value:"20224",label:"110010224"},{value:"20226",label:"110010226"},{value:"20227",label:"110010227"},{value:"20228",label:"110010228"},{value:"20229",label:"110010229"},{value:"20230",label:"110010230"},{value:"20232",label:"110010232"},{value:"20233",label:"110010233"},{value:"20235",label:"110010235"},{value:"20237",label:"110010237"},{value:"20238",label:"110010238"},{value:"20239",label:"110010239"},{value:"20240",label:"110010240"},{value:"20241",label:"110010241"},{value:"20242",label:"110010242"},{value:"20244",label:"110010244"},{value:"20245",label:"110010245"},{value:"20250",label:"110010250"},{value:"20251",label:"110010251"},{value:"20252",label:"110010252"},{value:"20254",label:"110010254"},{value:"20260",label:"110010260"},{value:"20261",label:"110010261"},{value:"20262",label:"110010262"},{value:"20265",label:"110010265"},{value:"20266",label:"110010266"},{value:"20268",label:"110010268"},{value:"20270",label:"110010270"},{value:"20277",label:"110010277"},{value:"20289",label:"110010289"},{value:"20299",label:"110010299"},{value:"20301",label:"110010301"},{value:"20303",label:"110010303"},{value:"20306",label:"110010306"},{value:"20310",label:"110010310"},{value:"20314",label:"110010314"},{value:"20317",label:"110010317"},{value:"20318",label:"110010318"},{value:"20319",label:"110010319"},{value:"20330",label:"110010330"},{value:"20340",label:"110010340"},{value:"20350",label:"110010350"},{value:"20355",label:"110010355"},{value:"20370",label:"110010370"},{value:"20372",label:"110010372"},{value:"20373",label:"110010373"},{value:"20374",label:"110010374"},{value:"20375",label:"110010375"},{value:"20376",label:"110010376"},{value:"20380",label:"110010380"},{value:"20388",label:"110010388"},{value:"20389",label:"110010389"},{value:"20390",label:"110010390"},{value:"20391",label:"110010391"},{value:"20392",label:"110010392"},{value:"20393",label:"110010393"},{value:"20394",label:"110010394"},{value:"20395",label:"110010395"},{value:"20398",label:"110010398"},{value:"20401",label:"110010401"},{value:"20402",label:"110010402"},{value:"20403",label:"110010403"},{value:"20404",label:"110010404"},{value:"20405",label:"110010405"},{value:"20406",label:"110010406"},{value:"20407",label:"110010407"},{value:"20408",label:"110010408"},{value:"20409",label:"110010409"},{value:"20410",label:"110010410"},{value:"20411",label:"110010411"},{value:"20412",label:"110010412"},{value:"20413",label:"110010413"},{value:"20414",label:"110010414"},{value:"20415",label:"110010415"},{value:"20416",label:"110010416"},{value:"20417",label:"110010417"},{value:"20418",label:"110010418"},{value:"20419",label:"110010419"},{value:"20420",label:"110010420"},{value:"20421",label:"110010421"},{value:"20422",label:"110010422"},{value:"20423",label:"110010423"},{value:"20424",label:"110010424"},{value:"20425",label:"110010425"},{value:"20426",label:"110010426"},{value:"20427",label:"110010427"},{value:"20428",label:"110010428"},{value:"20429",label:"110010429"},{value:"20431",label:"110010431"},{value:"20433",label:"110010433"},{value:"20434",label:"110010434"},{value:"20435",label:"110010435"},{value:"20436",label:"110010436"},{value:"20437",label:"110010437"},{value:"20439",label:"110010439"},{value:"20440",label:"110010440"},{value:"20441",label:"110010441"},{value:"20442",label:"110010442"},{value:"20444",label:"110010444"},{value:"20447",label:"110010447"},{value:"20451",label:"110010451"},{value:"20453",label:"110010453"},{value:"20456",label:"110010456"},{value:"20460",label:"110010460"},{value:"20463",label:"110010463"},{value:"20468",label:"110010468"},{value:"20469",label:"110010469"},{value:"20470",label:"110010470"},{value:"20472",label:"110010472"},{value:"20500",label:"110010500"},{value:"20501",label:"110010501"},{value:"20502",label:"110010502"},{value:"20503",label:"110010503"},{value:"20504",label:"110010504"},{value:"20505",label:"110010505"},{value:"20506",label:"110010506"},{value:"20507",label:"110010507"},{value:"20508",label:"110010508"},{value:"20509",label:"110010509"},{value:"20510",label:"110010510"},{value:"20511",label:"110010511"},{value:"20515",label:"110010515"},{value:"20520",label:"110010520"},{value:"20521",label:"110010521"},{value:"20522",label:"110010522"},{value:"20523",label:"110010523"},{value:"20524",label:"110010524"},{value:"20525",label:"110010525"},{value:"20526",label:"110010526"},{value:"20527",label:"110010527"},{value:"20528",label:"110010528"},{value:"20529",label:"110010529"},{value:"20530",label:"110010530"},{value:"20531",label:"110010531"},{value:"20533",label:"110010533"},{value:"20534",label:"110010534"},{value:"20535",label:"110010535"},{value:"20536",label:"110010536"},{value:"20537",label:"110010537"},{value:"20538",label:"110010538"},{value:"20539",label:"110010539"},{value:"20540",label:"110010540"},{value:"20541",label:"110010541"},{value:"20542",label:"110010542"},{value:"20543",label:"110010543"},{value:"20544",label:"110010544"},{value:"20546",label:"110010546"},{value:"20547",label:"110010547"},{value:"20548",label:"110010548"},{value:"20549",label:"110010549"},{value:"20551",label:"110010551"},{value:"20552",label:"110010552"},{value:"20553",label:"110010553"},{value:"20554",label:"110010554"},{value:"20555",label:"110010555"},{value:"20557",label:"110010557"},{value:"20559",label:"110010559"},{value:"20560",label:"110010560"},{value:"20565",label:"110010565"},{value:"20566",label:"110010566"},{value:"20570",label:"110010570"},{value:"20571",label:"110010571"},{value:"20572",label:"110010572"},{value:"20573",label:"110010573"},{value:"20575",label:"110010575"},{value:"20576",label:"110010576"},{value:"20577",label:"110010577"},{value:"20578",label:"110010578"},{value:"20579",label:"110010579"},{value:"20580",label:"110010580"},{value:"20581",label:"110010581"},{value:"20585",label:"110010585"},{value:"20586",label:"110010586"},{value:"20588",label:"240030588"},{value:"20590",label:"110010590"},{value:"20591",label:"110010591"},{value:"20593",label:"110010593"},{value:"20594",label:"110010594"},{value:"20597",label:"110010597"},{value:"20598",label:"510590598"},{value:"20599",label:"110010599"},{value:"20601",label:"240170601"},{value:"20602",label:"240170602"},{value:"20603",label:"240170603"},{value:"20604",label:"240170604"},{value:"20606",label:"240370606"},{value:"20607",label:"240330607"},{value:"20608",label:"240330608"},{value:"20609",label:"240370609"},{value:"20610",label:"240090610"},{value:"20611",label:"240170611"},{value:"20612",label:"240170612"},{value:"20613",label:"240330613"},{value:"20615",label:"240090615"},{value:"20616",label:"240170616"},{value:"20617",label:"240170617"},{value:"20618",label:"240370618"},{value:"20619",label:"240370619"},{value:"20620",label:"240370620"},{value:"20621",label:"240370621"},{value:"20622",label:"240170622"},{value:"20623",label:"240330623"},{value:"20624",label:"240370624"},{value:"20625",label:"240170625"},{value:"20626",label:"240370626"},{value:"20627",label:"240370627"},{value:"20628",label:"240370628"},{value:"20629",label:"240090629"},{value:"20630",label:"240370630"},{value:"20632",label:"240170632"},{value:"20634",label:"240370634"},{value:"20635",label:"240370635"},{value:"20636",label:"240370636"},{value:"20637",label:"240170637"},{value:"20639",label:"240090639"},{value:"20640",label:"240170640"},{value:"20643",label:"240170643"},{value:"20645",label:"240170645"},{value:"20646",label:"240170646"},{value:"20650",label:"240370650"},{value:"20653",label:"240370653"},{value:"20656",label:"240370656"},{value:"20657",label:"240090657"},{value:"20658",label:"240170658"},{value:"20659",label:"240370659"},{value:"20660",label:"240370660"},{value:"20661",label:"240170661"},{value:"20662",label:"240170662"},{value:"20664",label:"240170664"},{value:"20667",label:"240370667"},{value:"20670",label:"240370670"},{value:"20674",label:"240370674"},{value:"20675",label:"240170675"},{value:"20676",label:"240090676"},{value:"20677",label:"240170677"},{value:"20678",label:"240090678"},{value:"20680",label:"240370680"},{value:"20682",label:"240170682"},{value:"20684",label:"240370684"},{value:"20685",label:"240090685"},{value:"20686",label:"240370686"},{value:"20687",label:"240370687"},{value:"20688",label:"240090688"},{value:"20689",label:"240090689"},{value:"20690",label:"240370690"},{value:"20692",label:"240370692"},{value:"20693",label:"240170693"},{value:"20695",label:"240170695"},{value:"20697",label:"240330697"},{value:"20701",label:"240030701"},{value:"20703",label:"240330703"},{value:"20704",label:"240330704"},{value:"20705",label:"240330705"},{value:"20706",label:"240330706"},{value:"20707",label:"240330707"},{value:"20708",label:"240330708"},{value:"20709",label:"240330709"},{value:"20710",label:"240330710"},{value:"20711",label:"240030711"},{value:"20712",label:"240330712"},{value:"20714",label:"240090714"},{value:"20715",label:"240330715"},{value:"20716",label:"240330716"},{value:"20717",label:"240330717"},{value:"20718",label:"240330718"},{value:"20719",label:"240330719"},{value:"20720",label:"240330720"},{value:"20721",label:"240330721"},{value:"20722",label:"240330722"},{value:"20723",label:"240270723"},{value:"20724",label:"240030724"},{value:"20725",label:"240330725"},{value:"20726",label:"240330726"},{value:"20731",label:"240330731"},{value:"20732",label:"240090732"},{value:"20733",label:"240030733"},{value:"20735",label:"240330735"},{value:"20736",label:"240090736"},{value:"20737",label:"240330737"},{value:"20738",label:"240330738"},{value:"20740",label:"240330740"},{value:"20741",label:"240330741"},{value:"20742",label:"240330742"},{value:"20743",label:"240330743"},{value:"20744",label:"240330744"},{value:"20745",label:"240330745"},{value:"20746",label:"240330746"},{value:"20747",label:"240330747"},{value:"20748",label:"240330748"},{value:"20749",label:"240330749"},{value:"20750",label:"240330750"},{value:"20751",label:"240030751"},{value:"20752",label:"240330752"},{value:"20753",label:"240330753"},{value:"20754",label:"240090754"},{value:"20755",label:"240030755"},{value:"20757",label:"240330757"},{value:"20758",label:"240030758"},{value:"20759",label:"240270759"},{value:"20762",label:"240330762"},{value:"20763",label:"240270763"},{value:"20764",label:"240030764"},{value:"20765",label:"240030765"},{value:"20768",label:"240330768"},{value:"20769",label:"240330769"},{value:"20770",label:"240330770"},{value:"20771",label:"240330771"},{value:"20772",label:"240330772"},{value:"20773",label:"240330773"},{value:"20774",label:"240330774"},{value:"20775",label:"240330775"},{value:"20776",label:"240030776"},{value:"20777",label:"240270777"},{value:"20778",label:"240030778"},{value:"20779",label:"240030779"},{value:"20781",label:"240330781"},{value:"20782",label:"240330782"},{value:"20783",label:"240330783"},{value:"20784",label:"240330784"},{value:"20785",label:"240330785"},{value:"20787",label:"240330787"},{value:"20788",label:"240330788"},{value:"20790",label:"240330790"},{value:"20791",label:"240330791"},{value:"20792",label:"240330792"},{value:"20794",label:"240270794"},{value:"20797",label:"240330797"},{value:"20799",label:"240330799"},{value:"20810",label:"240310810"},{value:"20811",label:"240310811"},{value:"20812",label:"240310812"},{value:"20813",label:"240310813"},{value:"20814",label:"240310814"},{value:"20815",label:"240310815"},{value:"20816",label:"240310816"},{value:"20817",label:"240310817"},{value:"20818",label:"240310818"},{value:"20824",label:"240310824"},{value:"20825",label:"240310825"},{value:"20827",label:"240310827"},{value:"20830",label:"240310830"},{value:"20832",label:"240310832"},{value:"20833",label:"240310833"},{value:"20837",label:"240310837"},{value:"20838",label:"240310838"},{value:"20839",label:"240310839"},{value:"20841",label:"240310841"},{value:"20842",label:"240310842"},{value:"20847",label:"240310847"},{value:"20848",label:"240310848"},{value:"20849",label:"240310849"},{value:"20850",label:"240310850"},{value:"20851",label:"240310851"},{value:"20852",label:"240310852"},{value:"20853",label:"240310853"},{value:"20854",label:"240310854"},{value:"20855",label:"240310855"},{value:"20857",label:"240310857"},{value:"20859",label:"240310859"},{value:"20860",label:"240310860"},{value:"20861",label:"240310861"},{value:"20862",label:"240310862"},{value:"20866",label:"240310866"},{value:"20868",label:"240310868"},{value:"20871",label:"240310871"},{value:"20872",label:"240310872"},{value:"20874",label:"240310874"},{value:"20875",label:"240310875"},{value:"20876",label:"240310876"},{value:"20877",label:"240310877"},{value:"20878",label:"240310878"},{value:"20879",label:"240310879"},{value:"20880",label:"240310880"},{value:"20882",label:"240310882"},{value:"20883",label:"240310883"},{value:"20884",label:"240310884"},{value:"20885",label:"240310885"},{value:"20886",label:"240310886"},{value:"20889",label:"240310889"},{value:"20891",label:"240310891"},{value:"20892",label:"240310892"},{value:"20894",label:"240310894"},{value:"20895",label:"240310895"},{value:"20896",label:"240310896"},{value:"20897",label:"240310897"},{value:"20898",label:"240310898"},{value:"20899",label:"240310899"},{value:"20901",label:"240310901"},{value:"20902",label:"240310902"},{value:"20903",label:"240310903"},{value:"20904",label:"240310904"},{value:"20905",label:"240310905"},{value:"20906",label:"240310906"},{value:"20907",label:"240310907"},{value:"20908",label:"240310908"},{value:"20910",label:"240310910"},{value:"20911",label:"240310911"},{value:"20912",label:"240310912"},{value:"20913",label:"240310913"},{value:"20914",label:"240310914"},{value:"20915",label:"240310915"},{value:"20916",label:"240310916"},{value:"20918",label:"240310918"},{value:"20993",label:"240310993"},{value:"20997",label:"240310997"},{value:"21001",label:"240251001"},{value:"21005",label:"240251005"},{value:"21009",label:"240251009"},{value:"21010",label:"240251010"},{value:"21012",label:"240031012"},{value:"21013",label:"240051013"},{value:"21014",label:"240251014"},{value:"21015",label:"240251015"},{value:"21017",label:"240251017"},{value:"21018",label:"240251018"},{value:"21020",label:"240051020"},{value:"21022",label:"240051022"},{value:"21023",label:"240051023"},{value:"21027",label:"240051027"},{value:"21028",label:"240251028"},{value:"21029",label:"240271029"},{value:"21030",label:"240051030"},{value:"21031",label:"240051031"},{value:"21032",label:"240031032"},{value:"21034",label:"240251034"},{value:"21035",label:"240031035"},{value:"21036",label:"240271036"},{value:"21037",label:"240031037"},{value:"21040",label:"240251040"},{value:"21041",label:"240271041"},{value:"21042",label:"240271042"},{value:"21043",label:"240271043"},{value:"21044",label:"240271044"},{value:"21045",label:"240271045"},{value:"21046",label:"240271046"},{value:"21047",label:"240251047"},{value:"21048",label:"240131048"},{value:"21050",label:"240251050"},{value:"21051",label:"240051051"},{value:"21052",label:"240051052"},{value:"21053",label:"240051053"},{value:"21054",label:"240031054"},{value:"21056",label:"240031056"},{value:"21057",label:"240051057"},{value:"21060",label:"240031060"},{value:"21061",label:"240031061"},{value:"21062",label:"240031062"},{value:"21065",label:"240051065"},{value:"21071",label:"240051071"},{value:"21074",label:"240131074"},{value:"21075",label:"240271075"},{value:"21076",label:"240031076"},{value:"21077",label:"240031077"},{value:"21078",label:"240251078"},{value:"21082",label:"240051082"},{value:"21084",label:"240251084"},{value:"21085",label:"240251085"},{value:"21087",label:"240051087"},{value:"21088",label:"240131088"},{value:"21090",label:"240031090"},{value:"21092",label:"240051092"},{value:"21093",label:"240051093"},{value:"21094",label:"240051094"},{value:"21102",label:"240131102"},{value:"21104",label:"240051104"},{value:"21105",label:"240051105"},{value:"21106",label:"240031106"},{value:"21108",label:"240031108"},{value:"21111",label:"240051111"},{value:"21113",label:"240031113"},{value:"21114",label:"240031114"},{value:"21117",label:"240051117"},{value:"21120",label:"240051120"},{value:"21122",label:"240031122"},{value:"21123",label:"240031123"},{value:"21128",label:"240051128"},{value:"21130",label:"240251130"},{value:"21131",label:"240051131"},{value:"21132",label:"240251132"},{value:"21133",label:"240051133"},{value:"21136",label:"240051136"},{value:"21139",label:"240051139"},{value:"21140",label:"240031140"},{value:"21144",label:"240031144"},{value:"21146",label:"240031146"},{value:"21150",label:"240271150"},{value:"21152",label:"240051152"},{value:"21153",label:"240051153"},{value:"21154",label:"240251154"},{value:"21155",label:"240051155"},{value:"21156",label:"240051156"},{value:"21157",label:"240131157"},{value:"21158",label:"240131158"},{value:"21160",label:"240251160"},{value:"21161",label:"240051161"},{value:"21162",label:"240051162"},{value:"21163",label:"240051163"},{value:"21201",label:"245101201"},{value:"21202",label:"245101202"},{value:"21203",label:"245101203"},{value:"21204",label:"240051204"},{value:"21205",label:"245101205"},{value:"21206",label:"245101206"},{value:"21207",label:"240051207"},{value:"21208",label:"240051208"},{value:"21209",label:"245101209"},{value:"21210",label:"245101210"},{value:"21211",label:"245101211"},{value:"21212",label:"245101212"},{value:"21213",label:"245101213"},{value:"21214",label:"245101214"},{value:"21215",label:"245101215"},{value:"21216",label:"245101216"},{value:"21217",label:"245101217"},{value:"21218",label:"245101218"},{value:"21219",label:"240051219"},{value:"21220",label:"240051220"},{value:"21221",label:"240051221"},{value:"21222",label:"240051222"},{value:"21223",label:"245101223"},{value:"21224",label:"245101224"},{value:"21225",label:"245101225"},{value:"21226",label:"245101226"},{value:"21227",label:"240051227"},{value:"21228",label:"240051228"},{value:"21229",label:"245101229"},{value:"21230",label:"245101230"},{value:"21231",label:"245101231"},{value:"21233",label:"245101233"},{value:"21234",label:"240051234"},{value:"21235",label:"240051235"},{value:"21236",label:"240051236"},{value:"21237",label:"240051237"},{value:"21239",label:"245101239"},{value:"21240",label:"240031240"},{value:"21241",label:"240051241"},{value:"21244",label:"240051244"},{value:"21250",label:"240051250"},{value:"21251",label:"245101251"},{value:"21252",label:"240051252"},{value:"21263",label:"245101263"},{value:"21264",label:"245101264"},{value:"21270",label:"245101270"},{value:"21273",label:"245101273"},{value:"21275",label:"245101275"},{value:"21278",label:"245101278"},{value:"21279",label:"245101279"},{value:"21280",label:"245101280"},{value:"21281",label:"245101281"},{value:"21282",label:"245101282"},{value:"21284",label:"245101284"},{value:"21285",label:"240051285"},{value:"21286",label:"240051286"},{value:"21287",label:"245101287"},{value:"21288",label:"245101288"},{value:"21289",label:"245101289"},{value:"21290",label:"245101290"},{value:"21297",label:"245101297"},{value:"21298",label:"245101298"},{value:"21401",label:"240031401"},{value:"21402",label:"240031402"},{value:"21403",label:"240031403"},{value:"21404",label:"240031404"},{value:"21405",label:"240031405"},{value:"21409",label:"240031409"},{value:"21411",label:"240031411"},{value:"21412",label:"240031412"},{value:"21501",label:"240011501"},{value:"21502",label:"240011502"},{value:"21503",label:"240011503"},{value:"21504",label:"240011504"},{value:"21505",label:"240011505"},{value:"21520",label:"240231520"},{value:"21521",label:"240011521"},{value:"21522",label:"240231522"},{value:"21523",label:"240231523"},{value:"21524",label:"240011524"},{value:"21528",label:"240011528"},{value:"21529",label:"240011529"},{value:"21530",label:"240011530"},{value:"21531",label:"240231531"},{value:"21532",label:"240011532"},{value:"21536",label:"240231536"},{value:"21538",label:"240231538"},{value:"21539",label:"240011539"},{value:"21540",label:"240011540"},{value:"21541",label:"240231541"},{value:"21542",label:"240011542"},{value:"21543",label:"240011543"},{value:"21545",label:"240011545"},{value:"21550",label:"240231550"},{value:"21555",label:"240011555"},{value:"21556",label:"240011556"},{value:"21557",label:"240011557"},{value:"21560",label:"240011560"},{value:"21561",label:"240231561"},{value:"21562",label:"240011562"},{value:"21601",label:"240411601"},{value:"21607",label:"240351607"},{value:"21609",label:"240111609"},{value:"21610",label:"240291610"},{value:"21612",label:"240411612"},{value:"21613",label:"240191613"},{value:"21617",label:"240351617"},{value:"21619",label:"240351619"},{value:"21620",label:"240291620"},{value:"21622",label:"240191622"},{value:"21623",label:"240351623"},{value:"21624",label:"240411624"},{value:"21625",label:"240411625"},{value:"21626",label:"240191626"},{value:"21627",label:"240191627"},{value:"21628",label:"240351628"},{value:"21629",label:"240111629"},{value:"21631",label:"240191631"},{value:"21632",label:"240111632"},{value:"21634",label:"240191634"},{value:"21635",label:"240291635"},{value:"21636",label:"240111636"},{value:"21638",label:"240351638"},{value:"21639",label:"240111639"},{value:"21640",label:"240111640"},{value:"21641",label:"240111641"},{value:"21643",label:"240191643"},{value:"21644",label:"240351644"},{value:"21645",label:"240291645"},{value:"21647",label:"240411647"},{value:"21648",label:"240191648"},{value:"21649",label:"240111649"},{value:"21650",label:"240291650"},{value:"21651",label:"240291651"},{value:"21652",label:"240411652"},{value:"21653",label:"240411653"},{value:"21654",label:"240411654"},{value:"21655",label:"240111655"},{value:"21656",label:"240351656"},{value:"21657",label:"240411657"},{value:"21658",label:"240351658"},{value:"21659",label:"240191659"},{value:"21660",label:"240111660"},{value:"21661",label:"240291661"},{value:"21662",label:"240411662"},{value:"21663",label:"240411663"},{value:"21664",label:"240191664"},{value:"21665",label:"240411665"},{value:"21666",label:"240351666"},{value:"21667",label:"240291667"},{value:"21668",label:"240351668"},{value:"21669",label:"240191669"},{value:"21670",label:"240111670"},{value:"21671",label:"240411671"},{value:"21672",label:"240191672"},{value:"21673",label:"240411673"},{value:"21675",label:"240191675"},{value:"21676",label:"240411676"},{value:"21677",label:"240191677"},{value:"21678",label:"240291678"},{value:"21679",label:"240411679"},{value:"21690",label:"240291690"},{value:"21701",label:"240211701"},{value:"21702",label:"240211702"},{value:"21703",label:"240211703"},{value:"21704",label:"240211704"},{value:"21705",label:"240211705"},{value:"21709",label:"240211709"},{value:"21710",label:"240211710"},{value:"21711",label:"240431711"},{value:"21713",label:"240431713"},{value:"21714",label:"240211714"},{value:"21715",label:"240431715"},{value:"21716",label:"240211716"},{value:"21717",label:"240211717"},{value:"21718",label:"240211718"},{value:"21719",label:"240431719"},{value:"21720",label:"240431720"},{value:"21721",label:"240431721"},{value:"21722",label:"240431722"},{value:"21723",label:"240271723"},{value:"21727",label:"240211727"},{value:"21733",label:"240431733"},{value:"21734",label:"240431734"},{value:"21737",label:"240271737"},{value:"21738",label:"240271738"},{value:"21740",label:"240431740"},{value:"21741",label:"240431741"},{value:"21742",label:"240431742"},{value:"21746",label:"240431746"},{value:"21747",label:"240431747"},{value:"21749",label:"240431749"},{value:"21750",label:"240431750"},{value:"21754",label:"240211754"},{value:"21755",label:"240211755"},{value:"21756",label:"240431756"},{value:"21757",label:"240131757"},{value:"21758",label:"240211758"},{value:"21759",label:"240211759"},{value:"21762",label:"240211762"},{value:"21765",label:"240271765"},{value:"21766",label:"240011766"},{value:"21767",label:"240431767"},{value:"21769",label:"240211769"},{value:"21770",label:"240211770"},{value:"21771",label:"240131771"},{value:"21773",label:"240211773"},{value:"21774",label:"240211774"},{value:"21775",label:"240211775"},{value:"21776",label:"240131776"},{value:"21777",label:"240211777"},{value:"21778",label:"240211778"},{value:"21779",label:"240431779"},{value:"21780",label:"240211780"},{value:"21781",label:"240431781"},{value:"21782",label:"240431782"},{value:"21783",label:"240431783"},{value:"21784",label:"240131784"},{value:"21787",label:"240131787"},{value:"21788",label:"240211788"},{value:"21790",label:"240211790"},{value:"21791",label:"240131791"},{value:"21792",label:"240211792"},{value:"21793",label:"240211793"},{value:"21794",label:"240271794"},{value:"21795",label:"240431795"},{value:"21797",label:"240131797"},{value:"21798",label:"240211798"},{value:"21801",label:"240451801"},{value:"21802",label:"240451802"},{value:"21803",label:"240451803"},{value:"21804",label:"240451804"},{value:"21810",label:"240451810"},{value:"21811",label:"240471811"},{value:"21813",label:"240471813"},{value:"21814",label:"240451814"},{value:"21817",label:"240391817"},{value:"21821",label:"240391821"},{value:"21822",label:"240451822"},{value:"21824",label:"240391824"},{value:"21826",label:"240451826"},{value:"21829",label:"240471829"},{value:"21830",label:"240451830"},{value:"21835",label:"240191835"},{value:"21836",label:"240391836"},{value:"21837",label:"240451837"},{value:"21838",label:"240391838"},{value:"21840",label:"240451840"},{value:"21841",label:"240471841"},{value:"21842",label:"240471842"},{value:"21843",label:"240471843"},{value:"21849",label:"240451849"},{value:"21850",label:"240451850"},{value:"21851",label:"240471851"},{value:"21852",label:"240451852"},{value:"21853",label:"240391853"},{value:"21856",label:"240451856"},{value:"21857",label:"240391857"},{value:"21861",label:"240451861"},{value:"21862",label:"240471862"},{value:"21863",label:"240471863"},{value:"21864",label:"240471864"},{value:"21865",label:"240451865"},{value:"21866",label:"240391866"},{value:"21867",label:"240391867"},{value:"21869",label:"240191869"},{value:"21871",label:"240391871"},{value:"21872",label:"240471872"},{value:"21874",label:"240451874"},{value:"21875",label:"240451875"},{value:"21890",label:"240391890"},{value:"21901",label:"240151901"},{value:"21902",label:"240151902"},{value:"21903",label:"240151903"},{value:"21904",label:"240151904"},{value:"21911",label:"240151911"},{value:"21912",label:"240151912"},{value:"21913",label:"240151913"},{value:"21914",label:"240151914"},{value:"21915",label:"240151915"},{value:"21916",label:"240151916"},{value:"21917",label:"240151917"},{value:"21918",label:"240151918"},{value:"21919",label:"240151919"},{value:"21920",label:"240151920"},{value:"21921",label:"240151921"},{value:"21922",label:"240151922"},{value:"21930",label:"240151930"},{value:"22003",label:"510592003"},{value:"22009",label:"510592009"},{value:"22015",label:"510592015"},{value:"22025",label:"511532025"},{value:"22026",label:"511532026"},{value:"22027",label:"510592027"},{value:"22030",label:"510592030"},{value:"22031",label:"510592031"},{value:"22032",label:"510592032"},{value:"22033",label:"510592033"},{value:"22034",label:"510592034"},{value:"22035",label:"510592035"},{value:"22036",label:"510592036"},{value:"22037",label:"510592037"},{value:"22038",label:"510592038"},{value:"22039",label:"510592039"},{value:"22040",label:"516102040"},{value:"22041",label:"510592041"},{value:"22042",label:"510592042"},{value:"22043",label:"510592043"},{value:"22044",label:"510592044"},{value:"22046",label:"516102046"},{value:"22060",label:"510592060"},{value:"22066",label:"510592066"},{value:"22067",label:"510592067"},{value:"22079",label:"510592079"},{value:"22081",label:"510592081"},{value:"22082",label:"510592082"},{value:"22095",label:"510592095"},{value:"22096",label:"510592096"},{value:"22101",label:"510592101"},{value:"22102",label:"510592102"},{value:"22103",label:"510592103"},{value:"22106",label:"510592106"},{value:"22107",label:"510592107"},{value:"22108",label:"510592108"},{value:"22109",label:"510592109"},{value:"22116",label:"510592116"},{value:"22118",label:"510592118"},{value:"22119",label:"510592119"},{value:"22121",label:"510592121"},{value:"22122",label:"510592122"},{value:"22124",label:"510592124"},{value:"22125",label:"511532125"},{value:"22134",label:"511532134"},{value:"22135",label:"511792135"},{value:"22150",label:"510592150"},{value:"22151",label:"510592151"},{value:"22152",label:"510592152"},{value:"22153",label:"510592153"},{value:"22156",label:"510592156"},{value:"22158",label:"510592158"},{value:"22159",label:"510592159"},{value:"22160",label:"510592160"},{value:"22161",label:"510592161"},{value:"22172",label:"511532172"},{value:"22180",label:"510592180"},{value:"22181",label:"510592181"},{value:"22182",label:"510592182"},{value:"22183",label:"510592183"},{value:"22185",label:"510592185"},{value:"22191",label:"511532191"},{value:"22192",label:"511532192"},{value:"22193",label:"511532193"},{value:"22194",label:"511532194"},{value:"22195",label:"511532195"},{value:"22199",label:"510592199"},{value:"22201",label:"510132201"},{value:"22202",label:"510132202"},{value:"22203",label:"510132203"},{value:"22204",label:"510132204"},{value:"22205",label:"510132205"},{value:"22206",label:"510132206"},{value:"22207",label:"510132207"},{value:"22209",label:"510132209"},{value:"22210",label:"510132210"},{value:"22211",label:"510132211"},{value:"22212",label:"510132212"},{value:"22213",label:"510132213"},{value:"22214",label:"510132214"},{value:"22215",label:"510132215"},{value:"22216",label:"510132216"},{value:"22217",label:"510132217"},{value:"22219",label:"510132219"},{value:"22225",label:"510132225"},{value:"22226",label:"510132226"},{value:"22227",label:"510132227"},{value:"22230",label:"510132230"},{value:"22240",label:"510132240"},{value:"22241",label:"510132241"},{value:"22242",label:"510132242"},{value:"22243",label:"510132243"},{value:"22244",label:"510132244"},{value:"22245",label:"510132245"},{value:"22246",label:"510132246"},{value:"22301",label:"515102301"},{value:"22302",label:"515102302"},{value:"22303",label:"510592303"},{value:"22304",label:"515102304"},{value:"22305",label:"515102305"},{value:"22306",label:"510592306"},{value:"22307",label:"510592307"},{value:"22308",label:"510592308"},{value:"22309",label:"510592309"},{value:"22310",label:"510592310"},{value:"22311",label:"515102311"},{value:"22312",label:"510592312"},{value:"22313",label:"515102313"},{value:"22314",label:"515102314"},{value:"22315",label:"510592315"},{value:"22320",label:"515102320"},{value:"22331",label:"515102331"},{value:"22332",label:"515102332"},{value:"22333",label:"515102333"},{value:"22334",label:"515102334"},{value:"22350",label:"515102350"},{value:"22401",label:"516302401"},{value:"22402",label:"516302402"},{value:"22403",label:"516302403"},{value:"22404",label:"516302404"},{value:"22405",label:"511792405"},{value:"22406",label:"511792406"},{value:"22407",label:"511772407"},{value:"22408",label:"511772408"},{value:"22412",label:"516302412"},{value:"22427",label:"510332427"},{value:"22428",label:"510332428"},{value:"22430",label:"511792430"},{value:"22432",label:"511332432"},{value:"22433",label:"511372433"},{value:"22435",label:"511332435"},{value:"22436",label:"510572436"},{value:"22437",label:"510572437"},{value:"22438",label:"510572438"},{value:"22442",label:"511932442"},{value:"22443",label:"511932443"},{value:"22446",label:"510332446"},{value:"22448",label:"510992448"},{value:"22451",label:"510992451"},{value:"22454",label:"510572454"},{value:"22456",label:"511332456"},{value:"22460",label:"511592460"},{value:"22463",label:"511792463"},{value:"22469",label:"511932469"},{value:"22471",label:"511792471"},{value:"22472",label:"511592472"},{value:"22473",label:"511332473"},{value:"22476",label:"510572476"},{value:"22480",label:"511032480"},{value:"22481",label:"510992481"},{value:"22482",label:"511032482"},{value:"22485",label:"510992485"},{value:"22488",label:"511932488"},{value:"22501",label:"510332501"},{value:"22503",label:"511032503"},{value:"22504",label:"510572504"},{value:"22507",label:"511032507"},{value:"22508",label:"511372508"},{value:"22509",label:"510572509"},{value:"22511",label:"511332511"},{value:"22513",label:"511032513"},{value:"22514",label:"510332514"},{value:"22517",label:"511032517"},{value:"22520",label:"511932520"},{value:"22523",label:"511032523"},{value:"22524",label:"511932524"},{value:"22526",label:"510992526"},{value:"22528",label:"511032528"},{value:"22529",label:"511932529"},{value:"22530",label:"511332530"},{value:"22534",label:"511772534"},{value:"22535",label:"510332535"},{value:"22538",label:"510332538"},{value:"22539",label:"511332539"},{value:"22542",label:"511372542"},{value:"22544",label:"510992544"},{value:"22545",label:"511792545"},{value:"22546",label:"510332546"},{value:"22547",label:"510992547"},{value:"22548",label:"511592548"},{value:"22551",label:"511772551"},{value:"22552",label:"510332552"},{value:"22553",label:"511772553"},{value:"22554",label:"511792554"},{value:"22555",label:"511792555"},{value:"22556",label:"511792556"},{value:"22558",label:"511932558"},{value:"22560",label:"510572560"},{value:"22565",label:"511772565"},{value:"22567",label:"511372567"},{value:"22570",label:"511332570"},{value:"22572",label:"511592572"},{value:"22576",label:"511032576"},{value:"22577",label:"511932577"},{value:"22578",label:"511032578"},{value:"22579",label:"511332579"},{value:"22580",label:"510332580"},{value:"22581",label:"511932581"},{value:"22601",label:"518402601"},{value:"22602",label:"510692602"},{value:"22603",label:"510692603"},{value:"22604",label:"518402604"},{value:"22610",label:"511872610"},{value:"22611",label:"510432611"},{value:"22620",label:"510432620"},{value:"22622",label:"510692622"},{value:"22623",label:"511572623"},{value:"22624",label:"510692624"},{value:"22625",label:"510692625"},{value:"22626",label:"511712626"},{value:"22627",label:"511572627"},{value:"22630",label:"511872630"},{value:"22637",label:"510692637"},{value:"22639",label:"510612639"},{value:"22640",label:"511572640"},{value:"22641",label:"511712641"},{value:"22642",label:"511872642"},{value:"22643",label:"510612643"},{value:"22644",label:"511712644"},{value:"22645",label:"510692645"},{value:"22646",label:"510432646"},{value:"22649",label:"511872649"},{value:"22650",label:"511392650"},{value:"22652",label:"511712652"},{value:"22654",label:"510692654"},{value:"22655",label:"510692655"},{value:"22656",label:"510692656"},{value:"22657",label:"511712657"},{value:"22660",label:"511712660"},{value:"22663",label:"510432663"},{value:"22664",label:"511712664"},{value:"22701",label:"510472701"},{value:"22709",label:"511132709"},{value:"22711",label:"511132711"},{value:"22712",label:"510612712"},{value:"22713",label:"510472713"},{value:"22714",label:"510472714"},{value:"22715",label:"511132715"},{value:"22716",label:"511572716"},{value:"22718",label:"510472718"},{value:"22719",label:"511132719"},{value:"22720",label:"510612720"},{value:"22722",label:"511132722"},{value:"22723",label:"511132723"},{value:"22724",label:"510472724"},{value:"22725",label:"511132725"},{value:"22726",label:"510472726"},{value:"22727",label:"511132727"},{value:"22728",label:"510612728"},{value:"22729",label:"510472729"},{value:"22730",label:"511132730"},{value:"22731",label:"511132731"},{value:"22732",label:"511132732"},{value:"22733",label:"510472733"},{value:"22734",label:"510612734"},{value:"22735",label:"510472735"},{value:"22736",label:"510472736"},{value:"22737",label:"510472737"},{value:"22738",label:"511132738"},{value:"22739",label:"510612739"},{value:"22740",label:"511572740"},{value:"22741",label:"510472741"},{value:"22742",label:"510612742"},{value:"22743",label:"511132743"},{value:"22746",label:"510472746"},{value:"22747",label:"511572747"},{value:"22748",label:"511132748"},{value:"22749",label:"511572749"},{value:"22801",label:"516602801"},{value:"22802",label:"516602802"},{value:"22803",label:"516602803"},{value:"22807",label:"516602807"},{value:"22810",label:"511712810"},{value:"22811",label:"511652811"},{value:"22812",label:"511652812"},{value:"22815",label:"511652815"},{value:"22820",label:"511652820"},{value:"22821",label:"511652821"},{value:"22824",label:"511712824"},{value:"22827",label:"511652827"},{value:"22830",label:"511652830"},{value:"22831",label:"511652831"},{value:"22832",label:"511652832"},{value:"22833",label:"511652833"},{value:"22834",label:"511652834"},{value:"22835",label:"511392835"},{value:"22840",label:"511652840"},{value:"22841",label:"511652841"},{value:"22842",label:"511712842"},{value:"22843",label:"510152843"},{value:"22844",label:"511712844"},{value:"22845",label:"511712845"},{value:"22846",label:"511652846"},{value:"22847",label:"511712847"},{value:"22848",label:"511652848"},{value:"22849",label:"511392849"},{value:"22850",label:"511652850"},{value:"22851",label:"511392851"},{value:"22853",label:"511652853"},{value:"22901",label:"510032901"},{value:"22902",label:"515402902"},{value:"22903",label:"515402903"},{value:"22904",label:"515402904"},{value:"22905",label:"515402905"},{value:"22906",label:"515402906"},{value:"22907",label:"515402907"},{value:"22908",label:"515402908"},{value:"22909",label:"510032909"},{value:"22910",label:"515402910"},{value:"22911",label:"510032911"},{value:"22920",label:"511252920"},{value:"22922",label:"511252922"},{value:"22923",label:"510032923"},{value:"22924",label:"510032924"},{value:"22931",label:"510032931"},{value:"22932",label:"510032932"},{value:"22935",label:"510792935"},{value:"22936",label:"510032936"},{value:"22937",label:"510032937"},{value:"22938",label:"511252938"},{value:"22939",label:"510152939"},{value:"22940",label:"510032940"},{value:"22942",label:"511372942"},{value:"22943",label:"510032943"},{value:"22945",label:"510032945"},{value:"22946",label:"510032946"},{value:"22947",label:"510032947"},{value:"22948",label:"511132948"},{value:"22949",label:"511252949"},{value:"22952",label:"510152952"},{value:"22957",label:"511372957"},{value:"22958",label:"511252958"},{value:"22959",label:"510032959"},{value:"22960",label:"511372960"},{value:"22963",label:"510652963"},{value:"22964",label:"511252964"},{value:"22965",label:"510792965"},{value:"22967",label:"511252967"},{value:"22968",label:"510792968"},{value:"22969",label:"511252969"},{value:"22971",label:"511252971"},{value:"22972",label:"511372972"},{value:"22973",label:"510792973"},{value:"22974",label:"510652974"},{value:"22976",label:"511252976"},{value:"22980",label:"518202980"},{value:"22987",label:"510032987"},{value:"22989",label:"511132989"},{value:"23001",label:"510733001"},{value:"23002",label:"510073002"},{value:"23003",label:"510733003"},{value:"23004",label:"510293004"},{value:"23005",label:"510853005"},{value:"23009",label:"511013009"},{value:"23011",label:"511273011"},{value:"23014",label:"511453014"},{value:"23015",label:"510853015"},{value:"23018",label:"510733018"},{value:"23021",label:"511153021"},{value:"23022",label:"510653022"},{value:"23023",label:"510973023"},{value:"23024",label:"511093024"},{value:"23025",label:"511153025"},{value:"23027",label:"510493027"},{value:"23030",label:"510363030"},{value:"23031",label:"511193031"},{value:"23032",label:"511193032"},{value:"23035",label:"511153035"},{value:"23038",label:"510653038"},{value:"23039",label:"510753039"},{value:"23040",label:"510493040"},{value:"23043",label:"511193043"},{value:"23045",label:"511153045"},{value:"23047",label:"510853047"},{value:"23050",label:"511153050"},{value:"23055",label:"510653055"},{value:"23056",label:"511153056"},{value:"23058",label:"510873058"},{value:"23059",label:"510873059"},{value:"23060",label:"510873060"},{value:"23061",label:"510733061"},{value:"23062",label:"510733062"},{value:"23063",label:"510753063"},{value:"23064",label:"511153064"},{value:"23065",label:"510753065"},{value:"23066",label:"511153066"},{value:"23067",label:"510753067"},{value:"23068",label:"511153068"},{value:"23069",label:"510333069"},{value:"23070",label:"511193070"},{value:"23071",label:"511193071"},{value:"23072",label:"510733072"},{value:"23075",label:"510873075"},{value:"23076",label:"511153076"},{value:"23079",label:"511193079"},{value:"23081",label:"510953081"},{value:"23083",label:"510073083"},{value:"23084",label:"510653084"},{value:"23085",label:"510973085"},{value:"23086",label:"511013086"},{value:"23089",label:"511273089"},{value:"23090",label:"511993090"},{value:"23091",label:"510973091"},{value:"23092",label:"511193092"},{value:"23093",label:"511093093"},{value:"23102",label:"510753102"},{value:"23103",label:"510753103"},{value:"23105",label:"510073105"},{value:"23106",label:"511013106"},{value:"23107",label:"510733107"},{value:"23108",label:"510973108"},{value:"23109",label:"511153109"},{value:"23110",label:"510973110"},{value:"23111",label:"510853111"},{value:"23112",label:"510413112"},{value:"23113",label:"510413113"},{value:"23114",label:"510413114"},{value:"23115",label:"510573115"},{value:"23116",label:"510853116"},{value:"23117",label:"511093117"},{value:"23119",label:"511153119"},{value:"23120",label:"510413120"},{value:"23123",label:"510293123"},{value:"23124",label:"511273124"},{value:"23125",label:"511153125"},{value:"23126",label:"510973126"},{value:"23127",label:"510953127"},{value:"23128",label:"510733128"},{value:"23129",label:"510753129"},{value:"23130",label:"511153130"},{value:"23131",label:"510733131"},{value:"23138",label:"511153138"},{value:"23139",label:"511453139"},{value:"23140",label:"511273140"},{value:"23141",label:"511273141"},{value:"23146",label:"510853146"},{value:"23147",label:"510363147"},{value:"23148",label:"510973148"},{value:"23149",label:"510733149"},{value:"23150",label:"510873150"},{value:"23153",label:"510753153"},{value:"23154",label:"510733154"},{value:"23155",label:"510733155"},{value:"23156",label:"510973156"},{value:"23160",label:"510753160"},{value:"23161",label:"510973161"},{value:"23162",label:"510853162"},{value:"23163",label:"511153163"},{value:"23168",label:"510953168"},{value:"23169",label:"511193169"},{value:"23170",label:"511093170"},{value:"23173",label:"517603173"},{value:"23175",label:"511193175"},{value:"23176",label:"511193176"},{value:"23177",label:"510973177"},{value:"23178",label:"510733178"},{value:"23180",label:"511193180"},{value:"23181",label:"511013181"},{value:"23183",label:"510733183"},{value:"23184",label:"510733184"},{value:"23185",label:"518303185"},{value:"23186",label:"518303186"},{value:"23187",label:"518303187"},{value:"23188",label:"510953188"},{value:"23190",label:"510733190"},{value:"23192",label:"510853192"},{value:"23218",label:"517603218"},{value:"23219",label:"517603219"},{value:"23220",label:"517603220"},{value:"23221",label:"517603221"},{value:"23222",label:"517603222"},{value:"23223",label:"517603223"},{value:"23224",label:"517603224"},{value:"23225",label:"517603225"},{value:"23226",label:"517603226"},{value:"23227",label:"517603227"},{value:"23228",label:"510873228"},{value:"23229",label:"510873229"},{value:"23230",label:"517603230"},{value:"23231",label:"510873231"},{value:"23232",label:"517603232"},{value:"23233",label:"510873233"},{value:"23234",label:"510413234"},{value:"23235",label:"510413235"},{value:"23236",label:"510413236"},{value:"23237",label:"510413237"},{value:"23238",label:"510873238"},{value:"23241",label:"517603241"},{value:"23242",label:"517603242"},{value:"23249",label:"517603249"},{value:"23250",label:"510873250"},{value:"23255",label:"517603255"},{value:"23260",label:"517603260"},{value:"23261",label:"517603261"},{value:"23269",label:"517603269"},{value:"23273",label:"510873273"},{value:"23274",label:"517603274"},{value:"23276",label:"517603276"},{value:"23278",label:"517603278"},{value:"23279",label:"510873279"},{value:"23282",label:"517603282"},{value:"23284",label:"517603284"},{value:"23285",label:"517603285"},{value:"23286",label:"517603286"},{value:"23288",label:"510873288"},{value:"23289",label:"517603289"},{value:"23290",label:"517603290"},{value:"23291",label:"517603291"},{value:"23292",label:"517603292"},{value:"23293",label:"517603293"},{value:"23294",label:"510873294"},{value:"23295",label:"517603295"},{value:"23297",label:"510413297"},{value:"23298",label:"517603298"},{value:"23301",label:"510013301"},{value:"23302",label:"510013302"},{value:"23303",label:"510013303"},{value:"23304",label:"510933304"},{value:"23306",label:"510013306"},{value:"23307",label:"511313307"},{value:"23308",label:"510013308"},{value:"23310",label:"511313310"},{value:"23313",label:"511313313"},{value:"23314",label:"510933314"},{value:"23315",label:"510933315"},{value:"23316",label:"511313316"},{value:"23320",label:"515503320"},{value:"23321",label:"515503321"},{value:"23322",label:"515503322"},{value:"23323",label:"515503323"},{value:"23324",label:"515503324"},{value:"23325",label:"515503325"},{value:"23326",label:"515503326"},{value:"23327",label:"515503327"},{value:"23328",label:"515503328"},{value:"23336",label:"510013336"},{value:"23337",label:"510013337"},{value:"23341",label:"510013341"},{value:"23345",label:"510013345"},{value:"23347",label:"511313347"},{value:"23350",label:"511313350"},{value:"23354",label:"511313354"},{value:"23356",label:"510013356"},{value:"23357",label:"510013357"},{value:"23358",label:"510013358"},{value:"23359",label:"510013359"},{value:"23389",label:"510013389"},{value:"23395",label:"510013395"},{value:"23396",label:"510013396"},{value:"23397",label:"510933397"},{value:"23398",label:"511313398"},{value:"23399",label:"510013399"},{value:"23401",label:"510013401"},{value:"23404",label:"510013404"},{value:"23405",label:"511313405"},{value:"23407",label:"510013407"},{value:"23408",label:"511313408"},{value:"23409",label:"510013409"},{value:"23410",label:"510013410"},{value:"23412",label:"510013412"},{value:"23413",label:"511313413"},{value:"23414",label:"510013414"},{value:"23415",label:"510013415"},{value:"23416",label:"510013416"},{value:"23417",label:"510013417"},{value:"23418",label:"510013418"},{value:"23419",label:"511313419"},{value:"23420",label:"510013420"},{value:"23421",label:"510013421"},{value:"23422",label:"510013422"},{value:"23423",label:"510013423"},{value:"23424",label:"510933424"},{value:"23426",label:"510013426"},{value:"23427",label:"510013427"},{value:"23429",label:"511313429"},{value:"23430",label:"510933430"},{value:"23431",label:"510933431"},{value:"23432",label:"518003432"},{value:"23433",label:"518003433"},{value:"23434",label:"518003434"},{value:"23435",label:"518003435"},{value:"23436",label:"518003436"},{value:"23437",label:"518003437"},{value:"23438",label:"518003438"},{value:"23439",label:"518003439"},{value:"23440",label:"510013440"},{value:"23441",label:"510013441"},{value:"23442",label:"510013442"},{value:"23443",label:"511313443"},{value:"23450",label:"518103450"},{value:"23451",label:"518103451"},{value:"23452",label:"518103452"},{value:"23453",label:"518103453"},{value:"23454",label:"518103454"},{value:"23455",label:"518103455"},{value:"23456",label:"518103456"},{value:"23457",label:"518103457"},{value:"23458",label:"518103458"},{value:"23459",label:"518103459"},{value:"23460",label:"518103460"},{value:"23461",label:"518103461"},{value:"23462",label:"518103462"},{value:"23463",label:"518103463"},{value:"23464",label:"518103464"},{value:"23465",label:"518103465"},{value:"23466",label:"518103466"},{value:"23467",label:"518103467"},{value:"23471",label:"518103471"},{value:"23479",label:"518103479"},{value:"23480",label:"510013480"},{value:"23482",label:"511313482"},{value:"23483",label:"510013483"},{value:"23486",label:"511313486"},{value:"23487",label:"510933487"},{value:"23488",label:"510013488"},{value:"23501",label:"517103501"},{value:"23502",label:"517103502"},{value:"23503",label:"517103503"},{value:"23504",label:"517103504"},{value:"23505",label:"517103505"},{value:"23506",label:"517103506"},{value:"23507",label:"517103507"},{value:"23508",label:"517103508"},{value:"23509",label:"517103509"},{value:"23510",label:"517103510"},{value:"23511",label:"517103511"},{value:"23513",label:"517103513"},{value:"23514",label:"517103514"},{value:"23515",label:"517103515"},{value:"23517",label:"517103517"},{value:"23518",label:"517103518"},{value:"23519",label:"517103519"},{value:"23523",label:"517103523"},{value:"23529",label:"517103529"},{value:"23541",label:"517103541"},{value:"23551",label:"517103551"},{value:"23601",label:"517003601"},{value:"23602",label:"517003602"},{value:"23603",label:"517003603"},{value:"23604",label:"517003604"},{value:"23605",label:"517003605"},{value:"23606",label:"517003606"},{value:"23607",label:"517003607"},{value:"23608",label:"517003608"},{value:"23609",label:"517003609"},{value:"23612",label:"517003612"},{value:"23628",label:"517003628"},{value:"23630",label:"517003630"},{value:"23651",label:"516503651"},{value:"23661",label:"516503661"},{value:"23662",label:"517353662"},{value:"23663",label:"516503663"},{value:"23664",label:"516503664"},{value:"23665",label:"516503665"},{value:"23666",label:"516503666"},{value:"23667",label:"516503667"},{value:"23668",label:"516503668"},{value:"23669",label:"516503669"},{value:"23670",label:"516503670"},{value:"23681",label:"516503681"},{value:"23690",label:"511993690"},{value:"23691",label:"511993691"},{value:"23692",label:"511993692"},{value:"23693",label:"511993693"},{value:"23694",label:"511993694"},{value:"23696",label:"511993696"},{value:"23701",label:"517403701"},{value:"23702",label:"517403702"},{value:"23703",label:"517403703"},{value:"23704",label:"517403704"},{value:"23705",label:"517403705"},{value:"23707",label:"517403707"},{value:"23708",label:"517403708"},{value:"23709",label:"517403709"},{value:"23801",label:"511493801"},{value:"23803",label:"517303803"},{value:"23804",label:"517303804"},{value:"23805",label:"517303805"},{value:"23806",label:"517303806"},{value:"23821",label:"510253821"},{value:"23822",label:"510073822"},{value:"23824",label:"511353824"},{value:"23827",label:"511753827"},{value:"23828",label:"511753828"},{value:"23829",label:"511753829"},{value:"23830",label:"510533830"},{value:"23831",label:"510413831"},{value:"23832",label:"510413832"},{value:"23833",label:"510533833"},{value:"23834",label:"515703834"},{value:"23836",label:"510413836"},{value:"23837",label:"511753837"},{value:"23838",label:"510413838"},{value:"23839",label:"511813839"},{value:"23840",label:"510533840"},{value:"23841",label:"510533841"},{value:"23842",label:"511493842"},{value:"23843",label:"510253843"},{value:"23844",label:"511753844"},{value:"23845",label:"510253845"},{value:"23846",label:"511813846"},{value:"23847",label:"515953847"},{value:"23850",label:"510533850"},{value:"23851",label:"516203851"},{value:"23856",label:"510253856"},{value:"23857",label:"510253857"},{value:"23860",label:"516703860"},{value:"23866",label:"511753866"},{value:"23867",label:"510813867"},{value:"23868",label:"510253868"},{value:"23870",label:"510813870"},{value:"23872",label:"510533872"},{value:"23873",label:"510253873"},{value:"23874",label:"511753874"},{value:"23875",label:"511493875"},{value:"23876",label:"510253876"},{value:"23878",label:"511753878"},{value:"23879",label:"510813879"},{value:"23881",label:"511813881"},{value:"23882",label:"511833882"},{value:"23883",label:"511813883"},{value:"23884",label:"511833884"},{value:"23885",label:"510533885"},{value:"23887",label:"510253887"},{value:"23888",label:"511833888"},{value:"23889",label:"510253889"},{value:"23890",label:"511833890"},{value:"23891",label:"511833891"},{value:"23893",label:"510253893"},{value:"23894",label:"510533894"},{value:"23897",label:"511833897"},{value:"23898",label:"510933898"},{value:"23899",label:"511813899"},{value:"23901",label:"511473901"},{value:"23909",label:"511473909"},{value:"23915",label:"511173915"},{value:"23917",label:"511173917"},{value:"23919",label:"511173919"},{value:"23920",label:"510253920"},{value:"23921",label:"510293921"},{value:"23922",label:"511353922"},{value:"23923",label:"510373923"},{value:"23924",label:"511173924"},{value:"23927",label:"511173927"},{value:"23930",label:"511353930"},{value:"23934",label:"510373934"},{value:"23936",label:"510293936"},{value:"23937",label:"510373937"},{value:"23938",label:"510253938"},{value:"23939",label:"510113939"},{value:"23941",label:"511113941"},{value:"23942",label:"511473942"},{value:"23943",label:"511473943"},{value:"23944",label:"511113944"},{value:"23947",label:"510373947"},{value:"23950",label:"511173950"},{value:"23952",label:"511113952"},{value:"23954",label:"511473954"},{value:"23955",label:"511353955"},{value:"23958",label:"510113958"},{value:"23959",label:"510373959"},{value:"23960",label:"511473960"},{value:"23962",label:"510373962"},{value:"23963",label:"510373963"},{value:"23964",label:"510373964"},{value:"23966",label:"511473966"},{value:"23967",label:"510373967"},{value:"23968",label:"511173968"},{value:"23970",label:"511173970"},{value:"23974",label:"511113974"},{value:"23976",label:"510373976"},{value:"24001",label:"517704001"},{value:"24002",label:"517704002"},{value:"24003",label:"517704003"},{value:"24004",label:"517704004"},{value:"24005",label:"517704005"},{value:"24006",label:"517704006"},{value:"24007",label:"517704007"},{value:"24008",label:"517704008"},{value:"24009",label:"517704009"},{value:"24010",label:"517704010"},{value:"24011",label:"517704011"},{value:"24012",label:"517704012"},{value:"24013",label:"517704013"},{value:"24014",label:"517704014"},{value:"24015",label:"517704015"},{value:"24016",label:"517704016"},{value:"24017",label:"517704017"},{value:"24018",label:"511614018"},{value:"24019",label:"511614019"},{value:"24020",label:"511614020"},{value:"24022",label:"517704022"},{value:"24023",label:"517704023"},{value:"24024",label:"517704024"},{value:"24025",label:"517704025"},{value:"24026",label:"517704026"},{value:"24027",label:"517704027"},{value:"24028",label:"517704028"},{value:"24029",label:"517704029"},{value:"24030",label:"517704030"},{value:"24031",label:"517704031"},{value:"24032",label:"517704032"},{value:"24033",label:"517704033"},{value:"24034",label:"517704034"},{value:"24035",label:"517704035"},{value:"24036",label:"517704036"},{value:"24037",label:"517704037"},{value:"24038",label:"517704038"},{value:"24040",label:"517704040"},{value:"24042",label:"517704042"},{value:"24043",label:"517704043"},{value:"24050",label:"510234050"},{value:"24053",label:"511414053"},{value:"24054",label:"510894054"},{value:"24055",label:"510894055"},{value:"24058",label:"511554058"},{value:"24059",label:"511614059"},{value:"24060",label:"511214060"},{value:"24061",label:"511214061"},{value:"24062",label:"511214062"},{value:"24063",label:"511214063"},{value:"24064",label:"510234064"},{value:"24065",label:"510674065"},{value:"24066",label:"510234066"},{value:"24067",label:"510674067"},{value:"24068",label:"511214068"},{value:"24069",label:"511434069"},{value:"24070",label:"510454070"},{value:"24072",label:"510634072"},{value:"24073",label:"511214073"},{value:"24076",label:"511414076"},{value:"24077",label:"510234077"},{value:"24078",label:"510894078"},{value:"24079",label:"510634079"},{value:"24082",label:"511414082"},{value:"24083",label:"510234083"},{value:"24084",label:"511554084"},{value:"24085",label:"510234085"},{value:"24086",label:"510714086"},{value:"24087",label:"511214087"},{value:"24088",label:"510674088"},{value:"24089",label:"510894089"},{value:"24090",label:"510234090"},{value:"24091",label:"510634091"},{value:"24092",label:"510674092"},{value:"24093",label:"510714093"},{value:"24095",label:"510194095"},{value:"24101",label:"510674101"},{value:"24102",label:"510674102"},{value:"24104",label:"510194104"},{value:"24105",label:"510634105"},{value:"24111",label:"511214111"},{value:"24112",label:"510894112"},{value:"24113",label:"516904113"},{value:"24114",label:"516904114"},{value:"24115",label:"516904115"},{value:"24120",label:"511414120"},{value:"24121",label:"510194121"},{value:"24122",label:"510194122"},{value:"24124",label:"510714124"},{value:"24126",label:"511554126"},{value:"24127",label:"510454127"},{value:"24128",label:"510714128"},{value:"24129",label:"511554129"},{value:"24130",label:"510234130"},{value:"24131",label:"510454131"},{value:"24132",label:"511554132"},{value:"24133",label:"511414133"},{value:"24134",label:"510714134"},{value:"24136",label:"510714136"},{value:"24137",label:"510674137"},{value:"24138",label:"510634138"},{value:"24139",label:"511434139"},{value:"24141",label:"517504141"},{value:"24142",label:"517504142"},{value:"24143",label:"517504143"},{value:"24146",label:"510674146"},{value:"24147",label:"510714147"},{value:"24148",label:"510894148"},{value:"24149",label:"511214149"},{value:"24150",label:"510714150"},{value:"24151",label:"510674151"},{value:"24153",label:"517754153"},{value:"24155",label:"517754155"},{value:"24157",label:"517704157"},{value:"24161",label:"511434161"},{value:"24162",label:"511214162"},{value:"24165",label:"510894165"},{value:"24167",label:"510714167"},{value:"24168",label:"510894168"},{value:"24171",label:"511414171"},{value:"24174",label:"510194174"},{value:"24175",label:"510234175"},{value:"24176",label:"510674176"},{value:"24177",label:"511414177"},{value:"24178",label:"510194178"},{value:"24179",label:"511614179"},{value:"24184",label:"510674184"},{value:"24185",label:"511414185"},{value:"24201",label:"515204201"},{value:"24202",label:"511914202"},{value:"24203",label:"515204203"},{value:"24205",label:"515204205"},{value:"24209",label:"515204209"},{value:"24210",label:"511914210"},{value:"24211",label:"511914211"},{value:"24212",label:"511914212"},{value:"24215",label:"511954215"},{value:"24216",label:"511954216"},{value:"24217",label:"510514217"},{value:"24218",label:"511054218"},{value:"24219",label:"511954219"},{value:"24220",label:"510514220"},{value:"24221",label:"511054221"},{value:"24224",label:"511674224"},{value:"24225",label:"511674225"},{value:"24226",label:"510514226"},{value:"24228",label:"510514228"},{value:"24230",label:"511954230"},{value:"24236",label:"511914236"},{value:"24237",label:"510514237"},{value:"24239",label:"510274239"},{value:"24243",label:"511054243"},{value:"24244",label:"511694244"},{value:"24245",label:"511694245"},{value:"24246",label:"511954246"},{value:"24248",label:"511054248"},{value:"24250",label:"511694250"},{value:"24251",label:"511694251"},{value:"24256",label:"510514256"},{value:"24258",label:"511694258"},{value:"24260",label:"511674260"},{value:"24263",label:"511054263"},{value:"24265",label:"511054265"},{value:"24266",label:"511674266"},{value:"24269",label:"510514269"},{value:"24270",label:"511914270"},{value:"24271",label:"511694271"},{value:"24272",label:"510514272"},{value:"24273",label:"517204273"},{value:"24277",label:"511054277"},{value:"24279",label:"511954279"},{value:"24280",label:"511674280"},{value:"24281",label:"511054281"},{value:"24282",label:"511054282"},{value:"24283",label:"511954283"},{value:"24290",label:"511694290"},{value:"24292",label:"510774292"},{value:"24293",label:"511954293"},{value:"24301",label:"511554301"},{value:"24311",label:"511734311"},{value:"24312",label:"510354312"},{value:"24313",label:"511974313"},{value:"24314",label:"510214314"},{value:"24315",label:"510214315"},{value:"24316",label:"511854316"},{value:"24317",label:"510354317"},{value:"24318",label:"510214318"},{value:"24319",label:"511734319"},{value:"24322",label:"511974322"},{value:"24323",label:"511974323"},{value:"24324",label:"511554324"},{value:"24325",label:"510354325"},{value:"24326",label:"510774326"},{value:"24327",label:"511914327"},{value:"24328",label:"510354328"},{value:"24330",label:"510774330"},{value:"24333",label:"516404333"},{value:"24340",label:"511914340"},{value:"24343",label:"510354343"},{value:"24347",label:"511554347"},{value:"24348",label:"510774348"},{value:"24350",label:"510354350"},{value:"24351",label:"510354351"},{value:"24352",label:"510354352"},{value:"24354",label:"511734354"},{value:"24360",label:"511974360"},{value:"24361",label:"511914361"},{value:"24363",label:"510774363"},{value:"24366",label:"510214366"},{value:"24368",label:"511974368"},{value:"24370",label:"511734370"},{value:"24374",label:"511974374"},{value:"24375",label:"511734375"},{value:"24377",label:"511854377"},{value:"24378",label:"510774378"},{value:"24380",label:"510634380"},{value:"24381",label:"510354381"},{value:"24382",label:"511974382"},{value:"24401",label:"517904401"},{value:"24402",label:"517904402"},{value:"24411",label:"510154411"},{value:"24412",label:"510174412"},{value:"24413",label:"510914413"},{value:"24415",label:"511634415"},{value:"24416",label:"515304416"},{value:"24421",label:"510154421"},{value:"24422",label:"510054422"},{value:"24426",label:"515804426"},{value:"24430",label:"510154430"},{value:"24431",label:"510154431"},{value:"24432",label:"510154432"},{value:"24433",label:"510914433"},{value:"24435",label:"511634435"},{value:"24437",label:"510154437"},{value:"24438",label:"510234438"},{value:"24439",label:"511634439"},{value:"24440",label:"510154440"},{value:"24441",label:"511654441"},{value:"24442",label:"510914442"},{value:"24445",label:"510174445"},{value:"24448",label:"510054448"},{value:"24450",label:"511634450"},{value:"24457",label:"510054457"},{value:"24458",label:"510914458"},{value:"24459",label:"510154459"},{value:"24460",label:"510174460"},{value:"24463",label:"510154463"},{value:"24464",label:"511254464"},{value:"24465",label:"510914465"},{value:"24467",label:"510154467"},{value:"24468",label:"510914468"},{value:"24469",label:"510154469"},{value:"24471",label:"511654471"},{value:"24472",label:"511634472"},{value:"24473",label:"511634473"},{value:"24474",label:"510054474"},{value:"24476",label:"510154476"},{value:"24477",label:"510154477"},{value:"24479",label:"510154479"},{value:"24482",label:"510154482"},{value:"24483",label:"511634483"},{value:"24484",label:"510174484"},{value:"24485",label:"510154485"},{value:"24486",label:"510154486"},{value:"24487",label:"510174487"},{value:"24501",label:"516804501"},{value:"24502",label:"516804502"},{value:"24503",label:"516804503"},{value:"24504",label:"516804504"},{value:"24505",label:"516804505"},{value:"24506",label:"516804506"},{value:"24513",label:"510314513"},{value:"24514",label:"516804514"},{value:"24515",label:"516804515"},{value:"24517",label:"510314517"},{value:"24520",label:"510834520"},{value:"24521",label:"510094521"},{value:"24522",label:"510114522"},{value:"24523",label:"510194523"},{value:"24526",label:"510194526"},{value:"24527",label:"511434527"},{value:"24528",label:"510314528"},{value:"24529",label:"511174529"},{value:"24530",label:"511434530"},{value:"24531",label:"511434531"},{value:"24533",label:"510094533"},{value:"24534",label:"510834534"},{value:"24535",label:"510834535"},{value:"24536",label:"510194536"},{value:"24538",label:"510314538"},{value:"24539",label:"510834539"},{value:"24540",label:"515904540"},{value:"24541",label:"515904541"},{value:"24543",label:"515904543"},{value:"24549",label:"511434549"},{value:"24550",label:"510314550"},{value:"24551",label:"510194551"},{value:"24553",label:"510094553"},{value:"24554",label:"510314554"},{value:"24555",label:"511634555"},{value:"24556",label:"510194556"},{value:"24557",label:"511434557"},{value:"24558",label:"510834558"},{value:"24562",label:"510294562"},{value:"24563",label:"511434563"},{value:"24565",label:"511434565"},{value:"24566",label:"511434566"},{value:"24569",label:"511434569"},{value:"24570",label:"510194570"},{value:"24571",label:"510314571"},{value:"24572",label:"510094572"},{value:"24574",label:"510094574"},{value:"24576",label:"510314576"},{value:"24577",label:"510834577"},{value:"24578",label:"511634578"},{value:"24579",label:"511634579"},{value:"24580",label:"511174580"},{value:"24581",label:"511254581"},{value:"24586",label:"511434586"},{value:"24588",label:"510314588"},{value:"24589",label:"510834589"},{value:"24590",label:"510034590"},{value:"24592",label:"510834592"},{value:"24593",label:"510114593"},{value:"24594",label:"511434594"},{value:"24595",label:"510094595"},{value:"24597",label:"510834597"},{value:"24598",label:"510834598"},{value:"24599",label:"510294599"},{value:"24601",label:"511854601"},{value:"24602",label:"511854602"},{value:"24603",label:"510274603"},{value:"24604",label:"511854604"},{value:"24605",label:"511854605"},{value:"24606",label:"511854606"},{value:"24607",label:"510274607"},{value:"24608",label:"511854608"},{value:"24609",label:"511854609"},{value:"24612",label:"511854612"},{value:"24613",label:"511854613"},{value:"24614",label:"510274614"},{value:"24619",label:"511854619"},{value:"24620",label:"510274620"},{value:"24622",label:"510274622"},{value:"24624",label:"510274624"},{value:"24627",label:"510274627"},{value:"24628",label:"510274628"},{value:"24630",label:"511854630"},{value:"24631",label:"510274631"},{value:"24634",label:"510274634"},{value:"24635",label:"511854635"},{value:"24637",label:"511854637"},{value:"24639",label:"511854639"},{value:"24640",label:"511854640"},{value:"24641",label:"511854641"},{value:"24646",label:"510274646"},{value:"24647",label:"510274647"},{value:"24649",label:"511674649"},{value:"24651",label:"511854651"},{value:"24656",label:"510274656"},{value:"24657",label:"510274657"},{value:"24658",label:"510274658"},{value:"24701",label:"540554701"},{value:"24712",label:"540554712"},{value:"24714",label:"540554714"},{value:"24715",label:"540554715"},{value:"24716",label:"541094716"},{value:"24719",label:"541094719"},{value:"24724",label:"540554724"},{value:"24726",label:"541094726"},{value:"24729",label:"540554729"},{value:"24731",label:"540554731"},{value:"24732",label:"540554732"},{value:"24733",label:"540554733"},{value:"24736",label:"540554736"},{value:"24737",label:"540554737"},{value:"24738",label:"540554738"},{value:"24739",label:"540554739"},{value:"24740",label:"540554740"},{value:"24747",label:"540554747"},{value:"24751",label:"540554751"},{value:"24801",label:"540474801"},{value:"24808",label:"540474808"},{value:"24811",label:"540474811"},{value:"24813",label:"540474813"},{value:"24815",label:"540474815"},{value:"24816",label:"540474816"},{value:"24817",label:"540474817"},{value:"24818",label:"541094818"},{value:"24822",label:"541094822"},{value:"24823",label:"541094823"},{value:"24826",label:"540474826"},{value:"24827",label:"541094827"},{value:"24828",label:"540474828"},{value:"24829",label:"540474829"},{value:"24830",label:"540474830"},{value:"24831",label:"540474831"},{value:"24834",label:"541094834"},{value:"24836",label:"540474836"},{value:"24839",label:"541094839"},{value:"24843",label:"540474843"},{value:"24844",label:"540474844"},{value:"24845",label:"541094845"},{value:"24846",label:"540474846"},{value:"24847",label:"541094847"},{value:"24848",label:"540474848"},{value:"24849",label:"541094849"},{value:"24850",label:"540474850"},{value:"24851",label:"540594851"},{value:"24853",label:"540474853"},{value:"24854",label:"541094854"},{value:"24855",label:"540474855"},{value:"24857",label:"541094857"},{value:"24859",label:"541094859"},{value:"24860",label:"541094860"},{value:"24861",label:"540474861"},{value:"24862",label:"540474862"},{value:"24866",label:"540474866"},{value:"24867",label:"541094867"},{value:"24868",label:"540474868"},{value:"24869",label:"541094869"},{value:"24870",label:"541094870"},{value:"24871",label:"540474871"},{value:"24872",label:"540474872"},{value:"24873",label:"540474873"},{value:"24874",label:"541094874"},{value:"24878",label:"540474878"},{value:"24879",label:"540474879"},{value:"24880",label:"541094880"},{value:"24881",label:"540474881"},{value:"24882",label:"541094882"},{value:"24884",label:"540474884"},{value:"24887",label:"540474887"},{value:"24888",label:"540474888"},{value:"24892",label:"540474892"},{value:"24894",label:"540474894"},{value:"24895",label:"540474895"},{value:"24898",label:"541094898"},{value:"24901",label:"540254901"},{value:"24902",label:"540254902"},{value:"24910",label:"540634910"},{value:"24915",label:"540754915"},{value:"24916",label:"540254916"},{value:"24918",label:"540634918"},{value:"24920",label:"540754920"},{value:"24924",label:"540754924"},{value:"24925",label:"540254925"},{value:"24927",label:"540754927"},{value:"24931",label:"540254931"},{value:"24934",label:"540754934"},{value:"24935",label:"540894935"},{value:"24938",label:"540254938"},{value:"24941",label:"540634941"},{value:"24943",label:"540254943"},{value:"24944",label:"540754944"},{value:"24945",label:"540634945"},{value:"24946",label:"540754946"},{value:"24951",label:"540634951"},{value:"24954",label:"540754954"},{value:"24957",label:"540254957"},{value:"24962",label:"540894962"},{value:"24963",label:"540634963"},{value:"24966",label:"540254966"},{value:"24970",label:"540254970"},{value:"24974",label:"540634974"},{value:"24976",label:"540634976"},{value:"24977",label:"540254977"},{value:"24981",label:"540894981"},{value:"24983",label:"540634983"},{value:"24984",label:"540634984"},{value:"24985",label:"540634985"},{value:"24986",label:"540254986"},{value:"24991",label:"540254991"},{value:"24993",label:"540634993"},{value:"25002",label:"540195002"},{value:"25003",label:"540055003"},{value:"25005",label:"540875005"},{value:"25007",label:"540815007"},{value:"25008",label:"540815008"},{value:"25009",label:"540055009"},{value:"25011",label:"540795011"},{value:"25015",label:"540395015"},{value:"25019",label:"540155019"},{value:"25021",label:"540055021"},{value:"25022",label:"540455022"},{value:"25024",label:"540055024"},{value:"25025",label:"540395025"},{value:"25026",label:"540395026"},{value:"25028",label:"540055028"},{value:"25030",label:"540155030"},{value:"25031",label:"540195031"},{value:"25033",label:"540795033"},{value:"25035",label:"540395035"},{value:"25036",label:"540195036"},{value:"25039",label:"540395039"},{value:"25040",label:"540195040"},{value:"25043",label:"540155043"},{value:"25044",label:"540815044"},{value:"25045",label:"540395045"},{value:"25047",label:"540055047"},{value:"25048",label:"540815048"},{value:"25049",label:"540055049"},{value:"25051",label:"540055051"},{value:"25053",label:"540055053"},{value:"25054",label:"540395054"},{value:"25057",label:"540195057"},{value:"25059",label:"540675059"},{value:"25060",label:"540815060"},{value:"25061",label:"540395061"},{value:"25062",label:"540815062"},{value:"25063",label:"540155063"},{value:"25064",label:"540395064"},{value:"25067",label:"540395067"},{value:"25070",label:"540795070"},{value:"25071",label:"540395071"},{value:"25075",label:"540395075"},{value:"25076",label:"540455076"},{value:"25079",label:"540395079"},{value:"25081",label:"540055081"},{value:"25082",label:"540535082"},{value:"25083",label:"540395083"},{value:"25085",label:"540195085"},{value:"25086",label:"540395086"},{value:"25088",label:"540155088"},{value:"25090",label:"540195090"},{value:"25093",label:"540055093"},{value:"25102",label:"540395102"},{value:"25103",label:"540395103"},{value:"25106",label:"540535106"},{value:"25107",label:"540395107"},{value:"25108",label:"540055108"},{value:"25109",label:"540795109"},{value:"25110",label:"540395110"},{value:"25111",label:"540155111"},{value:"25112",label:"540395112"},{value:"25113",label:"540155113"},{value:"25114",label:"540055114"},{value:"25115",label:"540195115"},{value:"25118",label:"540195118"},{value:"25119",label:"540195119"},{value:"25121",label:"540455121"},{value:"25123",label:"540535123"},{value:"25124",label:"540795124"},{value:"25125",label:"540155125"},{value:"25126",label:"540395126"},{value:"25130",label:"540055130"},{value:"25132",label:"540395132"},{value:"25133",label:"540155133"},{value:"25134",label:"540395134"},{value:"25136",label:"540195136"},{value:"25139",label:"540195139"},{value:"25140",label:"540815140"},{value:"25141",label:"540155141"},{value:"25142",label:"540055142"},{value:"25143",label:"540395143"},{value:"25148",label:"540055148"},{value:"25149",label:"540055149"},{value:"25152",label:"540195152"},{value:"25154",label:"540055154"},{value:"25156",label:"540395156"},{value:"25159",label:"540795159"},{value:"25160",label:"540395160"},{value:"25161",label:"540195161"},{value:"25162",label:"540395162"},{value:"25164",label:"540155164"},{value:"25165",label:"540055165"},{value:"25168",label:"540795168"},{value:"25169",label:"540055169"},{value:"25173",label:"540195173"},{value:"25174",label:"540815174"},{value:"25177",label:"540395177"},{value:"25180",label:"540815180"},{value:"25181",label:"540055181"},{value:"25183",label:"540455183"},{value:"25185",label:"540195185"},{value:"25186",label:"540195186"},{value:"25187",label:"540535187"},{value:"25193",label:"540055193"},{value:"25201",label:"540395201"},{value:"25202",label:"540395202"},{value:"25203",label:"540055203"},{value:"25204",label:"540055204"},{value:"25205",label:"540055205"},{value:"25206",label:"540055206"},{value:"25208",label:"540055208"},{value:"25209",label:"540815209"},{value:"25211",label:"540155211"},{value:"25213",label:"540795213"},{value:"25214",label:"540395214"},{value:"25231",label:"540355231"},{value:"25234",label:"540135234"},{value:"25235",label:"540135235"},{value:"25239",label:"540355239"},{value:"25241",label:"540355241"},{value:"25243",label:"540875243"},{value:"25244",label:"540355244"},{value:"25245",label:"540355245"},{value:"25247",label:"540535247"},{value:"25248",label:"540355248"},{value:"25251",label:"540875251"},{value:"25252",label:"540355252"},{value:"25253",label:"540535253"},{value:"25259",label:"540875259"},{value:"25260",label:"540535260"},{value:"25261",label:"540135261"},{value:"25262",label:"540355262"},{value:"25264",label:"540535264"},{value:"25265",label:"540535265"},{value:"25266",label:"540875266"},{value:"25267",label:"540215267"},{value:"25268",label:"540135268"},{value:"25270",label:"540875270"},{value:"25271",label:"540355271"},{value:"25275",label:"540355275"},{value:"25276",label:"540875276"},{value:"25285",label:"540155285"},{value:"25286",label:"540875286"},{value:"25287",label:"540535287"},{value:"25301",label:"540395301"},{value:"25302",label:"540395302"},{value:"25303",label:"540395303"},{value:"25304",label:"540395304"},{value:"25305",label:"540395305"},{value:"25306",label:"540395306"},{value:"25309",label:"540395309"},{value:"25311",label:"540395311"},{value:"25312",label:"540395312"},{value:"25313",label:"540395313"},{value:"25314",label:"540395314"},{value:"25315",label:"540395315"},{value:"25317",label:"540395317"},{value:"25320",label:"540395320"},{value:"25321",label:"540395321"},{value:"25322",label:"540395322"},{value:"25323",label:"540395323"},{value:"25324",label:"540395324"},{value:"25325",label:"540395325"},{value:"25326",label:"540395326"},{value:"25327",label:"540395327"},{value:"25328",label:"540395328"},{value:"25329",label:"540395329"},{value:"25330",label:"540395330"},{value:"25331",label:"540395331"},{value:"25332",label:"540395332"},{value:"25333",label:"540395333"},{value:"25334",label:"540395334"},{value:"25335",label:"540395335"},{value:"25336",label:"540395336"},{value:"25337",label:"540395337"},{value:"25338",label:"540395338"},{value:"25339",label:"540395339"},{value:"25350",label:"540395350"},{value:"25356",label:"540395356"},{value:"25357",label:"540395357"},{value:"25358",label:"540395358"},{value:"25360",label:"540395360"},{value:"25361",label:"540395361"},{value:"25362",label:"540395362"},{value:"25364",label:"540395364"},{value:"25365",label:"540395365"},{value:"25375",label:"540395375"},{value:"25387",label:"540395387"},{value:"25389",label:"540395389"},{value:"25392",label:"540395392"},{value:"25396",label:"540395396"},{value:"25401",label:"540035401"},{value:"25402",label:"540035402"},{value:"25403",label:"540035403"},{value:"25404",label:"540035404"},{value:"25405",label:"540035405"},{value:"25410",label:"540375410"},{value:"25411",label:"540655411"},{value:"25413",label:"540035413"},{value:"25414",label:"540375414"},{value:"25419",label:"540035419"},{value:"25420",label:"540035420"},{value:"25421",label:"540035421"},{value:"25422",label:"540655422"},{value:"25423",label:"540375423"},{value:"25425",label:"540375425"},{value:"25427",label:"540035427"},{value:"25428",label:"540035428"},{value:"25430",label:"540375430"},{value:"25431",label:"540275431"},{value:"25432",label:"540375432"},{value:"25434",label:"540275434"},{value:"25437",label:"540275437"},{value:"25438",label:"540375438"},{value:"25440",label:"540035440"},{value:"25441",label:"540375441"},{value:"25442",label:"540375442"},{value:"25443",label:"540375443"},{value:"25444",label:"540275444"},{value:"25446",label:"540375446"},{value:"25501",label:"540435501"},{value:"25502",label:"540535502"},{value:"25503",label:"540535503"},{value:"25504",label:"540115504"},{value:"25505",label:"540455505"},{value:"25506",label:"540435506"},{value:"25507",label:"540995507"},{value:"25508",label:"540455508"},{value:"25510",label:"540795510"},{value:"25511",label:"540995511"},{value:"25512",label:"540995512"},{value:"25514",label:"540995514"},{value:"25515",label:"540535515"},{value:"25517",label:"540995517"},{value:"25520",label:"540535520"},{value:"25521",label:"540435521"},{value:"25523",label:"540435523"},{value:"25524",label:"540435524"},{value:"25526",label:"540795526"},{value:"25529",label:"540055529"},{value:"25530",label:"540995530"},{value:"25534",label:"540995534"},{value:"25535",label:"540995535"},{value:"25537",label:"540115537"},{value:"25540",label:"540435540"},{value:"25541",label:"540115541"},{value:"25544",label:"540435544"},{value:"25545",label:"540115545"},{value:"25547",label:"540455547"},{value:"25550",label:"540535550"},{value:"25555",label:"540995555"},{value:"25557",label:"540435557"},{value:"25559",label:"540115559"},{value:"25560",label:"540795560"},{value:"25562",label:"540995562"},{value:"25564",label:"540435564"},{value:"25565",label:"540435565"},{value:"25567",label:"540435567"},{value:"25569",label:"540795569"},{value:"25570",label:"540995570"},{value:"25571",label:"540435571"},{value:"25572",label:"540055572"},{value:"25573",label:"540435573"},{value:"25601",label:"540455601"},{value:"25606",label:"540455606"},{value:"25607",label:"540455607"},{value:"25608",label:"540595608"},{value:"25611",label:"540455611"},{value:"25612",label:"540455612"},{value:"25614",label:"540455614"},{value:"25617",label:"540455617"},{value:"25621",label:"540595621"},{value:"25624",label:"540455624"},{value:"25625",label:"540455625"},{value:"25628",label:"540455628"},{value:"25630",label:"540455630"},{value:"25632",label:"540455632"},{value:"25634",label:"540455634"},{value:"25635",label:"540455635"},{value:"25637",label:"540455637"},{value:"25638",label:"540455638"},{value:"25639",label:"540455639"},{value:"25644",label:"540455644"},{value:"25646",label:"540455646"},{value:"25647",label:"540455647"},{value:"25649",label:"540455649"},{value:"25650",label:"540595650"},{value:"25651",label:"540595651"},{value:"25652",label:"540455652"},{value:"25653",label:"540455653"},{value:"25654",label:"540455654"},{value:"25661",label:"540595661"},{value:"25665",label:"540595665"},{value:"25666",label:"540595666"},{value:"25667",label:"540595667"},{value:"25669",label:"540995669"},{value:"25670",label:"540595670"},{value:"25671",label:"540595671"},{value:"25672",label:"540595672"},{value:"25674",label:"540595674"},{value:"25676",label:"540595676"},{value:"25678",label:"540595678"},{value:"25685",label:"540595685"},{value:"25686",label:"540595686"},{value:"25688",label:"540595688"},{value:"25690",label:"540595690"},{value:"25691",label:"540595691"},{value:"25692",label:"540595692"},{value:"25696",label:"540595696"},{value:"25699",label:"540995699"},{value:"25701",label:"540115701"},{value:"25702",label:"540115702"},{value:"25703",label:"540115703"},{value:"25704",label:"540115704"},{value:"25705",label:"540115705"},{value:"25706",label:"540115706"},{value:"25707",label:"540115707"},{value:"25708",label:"540115708"},{value:"25709",label:"540115709"},{value:"25710",label:"540115710"},{value:"25711",label:"540115711"},{value:"25712",label:"540115712"},{value:"25713",label:"540115713"},{value:"25714",label:"540115714"},{value:"25715",label:"540115715"},{value:"25716",label:"540115716"},{value:"25717",label:"540115717"},{value:"25718",label:"540115718"},{value:"25719",label:"540115719"},{value:"25720",label:"540115720"},{value:"25721",label:"540115721"},{value:"25722",label:"540115722"},{value:"25723",label:"540115723"},{value:"25724",label:"540115724"},{value:"25725",label:"540115725"},{value:"25726",label:"540115726"},{value:"25727",label:"540115727"},{value:"25728",label:"540115728"},{value:"25729",label:"540115729"},{value:"25755",label:"540115755"},{value:"25770",label:"540115770"},{value:"25771",label:"540115771"},{value:"25772",label:"540115772"},{value:"25773",label:"540115773"},{value:"25774",label:"540115774"},{value:"25775",label:"540115775"},{value:"25776",label:"540115776"},{value:"25777",label:"540115777"},{value:"25778",label:"540115778"},{value:"25779",label:"540115779"},{value:"25801",label:"540815801"},{value:"25802",label:"540815802"},{value:"25810",label:"541095810"},{value:"25811",label:"540815811"},{value:"25812",label:"540195812"},{value:"25813",label:"540815813"},{value:"25817",label:"540815817"},{value:"25818",label:"540815818"},{value:"25820",label:"540555820"},{value:"25823",label:"540815823"},{value:"25825",label:"540815825"},{value:"25826",label:"541095826"},{value:"25827",label:"540815827"},{value:"25831",label:"540195831"},{value:"25832",label:"540815832"},{value:"25833",label:"540195833"},{value:"25836",label:"540815836"},{value:"25837",label:"540195837"},{value:"25839",label:"540815839"},{value:"25840",label:"540195840"},{value:"25841",label:"540555841"},{value:"25843",label:"540815843"},{value:"25844",label:"540815844"},{value:"25845",label:"541095845"},{value:"25846",label:"540195846"},{value:"25848",label:"541095848"},{value:"25849",label:"540815849"},{value:"25851",label:"540815851"},{value:"25853",label:"540815853"},{value:"25854",label:"540195854"},{value:"25855",label:"540195855"}],s=[{label:"BROKER",value:"BKR"},{label:"COMMUNITY RELATIONS",value:"CMR"},{label:"CO-PACKER",value:"COP"},{label:"EMPLOYEE",value:"EMP"},{label:"FREIGHT",value:"FRT"},{label:"GOVERNMENT",value:"GOV"},{label:"INDIRECT",value:"IND"},{label:"LOGISTICS",value:"LOG"},{label:"MEI",value:"MEI"},{label:"PACKAGING",value:"PKG"},{label:"RAW MATERIAL",value:"RAW"},{label:"RENTS",value:"REN"},{label:"SHAREHOLDER",value:"SHR"},{label:"TRANSFER LIABILITY",value:"TRF"},{label:"UTILITIES",value:"UTL"}],n=e=>{const t=s.findIndex((t=>t.value===e));return t>-1?s[t].label:e},r=[{label:"United States",value:"US"},{label:"American Samoa",value:"AS"},{label:"Barbados",value:"BB"},{label:"Bahrain",value:"BH"},{label:"Bermuda",value:"BM"},{label:"Brazil",value:"BR"},{label:"Canada",value:"CA"},{label:"Curacao",value:"CW"},{label:"Spain",value:"ES"},{label:"United Kingdom",value:"GB"},{label:"Guatemala",value:"GT"},{label:"Guam",value:"GU"},{label:"Honduras",value:"HN"},{label:"Japan",value:"JP"},{label:"Korea, Republic of",value:"KR"},{label:"Cayman Islands",value:"KY"},{label:"Marshall Islands",value:"MH"},{label:"Mexico",value:"MX"},{label:"Panama",value:"PA"},{label:"Puerto Rico",value:"PR"},{label:"Thailand",value:"TH"},{label:"Virgin Islands",value:"VI"}],d=[{label:"ENGLISH",value:"GB"}],u=[{label:"YMD-Year month day",value:"YMD"},{label:"DMY-Day month year",value:"DMY"},{label:"MDY-Month day year",value:"MDY"},{label:"YWD-Year week day",value:"YWD"}],c=[{label:"OPTIONAL",value:""},{label:"NOT SPECIFIED",value:"00"},{label:"PAPER PRINTOUT",value:"01"},{label:"FAX",value:"02"},{label:"EDI",value:"03"},{label:"EMAIL",value:"04"},{label:"FAX/COPY",value:"21"},{label:"EDI/COPY",value:"31"},{label:"EMAIL/COPY",value:"41"}],p=[{label:"Physical Address",value:"01"},{label:"Pickup Address",value:"03"},{label:"Remittance Address",value:"10"}],h=[{label:"Purchasing",value:"10"},{label:"Delivery Phone#",value:"15"},{label:"Certificate of Analysis",value:"20"},{label:"Quality Assurance",value:"25"},{label:"Finance",value:"30"},{label:"Sales",value:"35"}],m=[{label:"BJ'S NET 28",value:"B28"},{label:"FIXED ASSETS",value:"CIP"},{label:"END OF MONTH 10TH",value:"E10"},{label:"END OF MONTH 15TH",value:"E15"},{label:"END OF MONTH",value:"EOM"},{label:"CASH PAYMENT WITHOUT AR UPDATE",value:"IC1"},{label:"CASH PAYMENT WITHOUT AR UPDATE",value:"IRC"},{label:"15TH OF THE MONTH",value:"M15"},{label:"20TH OF THE MONTH",value:"M20"},{label:"NET 1",value:"N01"},{label:"NET 5",value:"N05"},{label:"NET 7",value:"N07"},{label:"NET 10",value:"N10"},{label:"NET 11",value:"N11"},{label:"NET 14",value:"N14"},{label:"NET 15",value:"N15"},{label:"NET 16",value:"N16"},{label:"NET 20",value:"N20"},{label:"NET 21",value:"N21"},{label:"NET 25",value:"N25"},{label:"NET 28",value:"N28"},{label:"NET 30",value:"N30"},{label:"NET 35",value:"N35"},{label:"NET 40",value:"N40"},{label:"NET 45",value:"N45"},{label:"NET 60",value:"N60"},{label:"NET 65",value:"N65"},{label:"NET 75",value:"N75"},{label:"NET 90",value:"N90"},{label:"DUE ON RECEIPT",value:"NET"}],_=[{label:"1% 10 DAYS",value:"110"},{label:"1% 15 DAYS",value:"115"},{label:"1% 20 DAYS",value:"120"},{label:"1% 27 DAYS",value:"127"},{label:"1% 30 DAYS",value:"130"},{label:"2% 7 DAYS",value:"207"},{label:"2% 10 DAYS",value:"210"},{label:"2% 15 DAYS",value:"215"},{label:"2% 20 DAYS",value:"220"},{label:"2% 39 DAYS",value:"239"},{label:"3% 10 DAYS",value:"310"},{label:".5% 10 DAYS",value:"510"},{label:".5% 30 DAYS",value:"530"},{label:".5% 45 DAYS",value:"545"},{label:"10% 10 DAYS",value:"810"}],b=[{label:"US Dollar",value:"USD"},{label:"Canadian Dollar",value:"CAD"}],v=[{label:"MAIN EXCHANGE RATE",value:"1"}],g=[{label:"ABS PAYMENT ELECTRONIC",value:"ABS"},{label:"ACH PAYMENT ELECTRONIC",value:"ACH"},{label:"CHECK PAYMENT",value:"CH1"},{label:"CHECK PAYMENT FOR FIXED ASSETS",value:"CIP"},{label:"COMMISSION PAYMENT",value:"COM"},{label:"DRG PAYMENT",value:"DRG"},{label:"ELECTRONIC CARD PAYMENT",value:"EPY"},{label:"SINGLE MANUAL CHECK PAYMENT",value:"MCK"},{label:"MANUAL OFFSET",value:"OFF"},{label:"SUPPLY CHAIN FINANCE",value:"SCF"},{label:"SEPERATE CHECKS",value:"SEP"},{label:"SPECIAL HANDLING CHECK PAYMENT",value:"SHO"},{label:"DIRECT DEBIT",value:"TRF"},{label:"WIRE PAYMENT",value:"WIR"}],f=[{label:"CORPORATION",value:"CRP"},{label:"GOVERNMENT",value:"GOV"},{label:"NON-CORPORATION",value:"NON"},{label:"PERSON/SOLE PRO",value:"PRS"}],y=[{label:"NO",value:"0"},{label:"Crt base amt at pmt",value:"1"},{label:"Crt base/tax at pmt",value:"2"},{label:"Tax atinv/bs at pmt",value:"3"},{label:"Crtbase/tax at inv",value:"4"}],k=[{label:"0-N0",value:"0"},{label:"1-Yes, goods rect qty",value:"1"},{label:"2-Yes, inv line qty",value:"2"}],w=[{label:"0-No",value:"0"},{label:"1-Yes",value:"1"},{label:"2-Non-invent item",value:"2"},{label:"3-Inventory items",value:"3"}],C=[{label:"0-Received qty",value:"0"},{label:"1-Put-away qty",value:"1"},{label:"2-Put-away qty. dflt",value:"2"}],x=[{label:"0-No",value:"0"},{label:"1-Yes, num series68-1",value:"1"},{label:"2-Yes, inv no. default",value:"2"},{label:"3-Yes, num sfx DN001",value:"3"},{label:"4-Yes, no default no",value:"4"}],L=[{label:"NOT DEFINED",value:"0"},{label:"COMMODITY PO",value:"CCW"},{label:"DIR DEL",value:"DIR"},{label:"EAM DIRECT PO",value:"DPO"},{label:"EAM PO",value:"EAM"},{label:"FREIGHT PO TYPE",value:"FRE"},{label:"GENERAL PO",value:"GEN"},{label:"GR-PA-QI",value:"GPI"},{label:"INDIRECT PO INV",value:"IPI"},{label:"INDIRECT PO",value:"IPO"},{label:"INDIRECT PO SER",value:"IPS"},{label:"MKTG & HR DIM5",value:"MHD"},{label:"PACKAGING PO",value:"PKG"},{label:"PREPAID PO",value:"PPD"},{label:"PRISM CONVERTED",value:"PRS"},{label:"SPL HANDLING PO",value:"SHO"},{label:"SUBCONTRACT ITM",value:"SU2"},{label:"SUBCONTRACT OPN",value:"SUB"},{label:"PRISM TEMPLATE",value:"TPP"}],F=[{label:"FOB DESTINATION",value:"102"},{label:"PICKUP",value:"103"}],E=[{label:"NOT DEFINED",value:"000"},{label:"OVER THE ROAD",value:"001"},{label:"CUSTOMER PICKUP",value:"002"},{label:"SEA TRANSPORT",value:"003"},{label:"AIR TRANSPORT",value:"004"},{label:"RAIL TRANSPORT",value:"005"},{label:"VENDOR DELIVERY",value:"006"},{label:"RUIZ PICKUP",value:"007"},{label:"LESS THAN TRUCKLOAD",value:"008"}],A=[{label:"Req dely date",value:"1"},{label:"Put-away date",value:"2"},{label:"Req dely dt, no chg",value:"3"},{label:"Req dely dt, hr min",value:"4"}],S=[{label:"1-Order date",value:"1"},{label:"2-Req dely date",value:"2"}],D=[{label:"Pending Registration",value:"pending_registration"},{label:"Pending Approval",value:"pending_approval"},{label:"Pending AP Approval",value:"pending_ap_approval"},{label:"Pending Supplier Input",value:"pending_supplier_input"},{label:"Approved",value:"approved"},{label:"Rejected",value:"rejected"},{label:"Open",value:"open"}],I=e=>{const t=D.findIndex((t=>t.value===e));return t>-1?D[t].label:e},T={supplierDetails:{supplierGroup:"BKR",status:"",name:"",dbaName:"",country:"",zipCode:"",phone:"",requestBy:"",altLanguage:"GB",language:"GB",dateFormat:"MDY",mediaProfile:"",scac:"",geoCode:"",mei:"",insuranceExpiredAt:""},supplierAddress:[{addressType:"",address:"",city:"",state:"",postalCode:"",country:""}],supplierContact:[{referenceType:"",referenceName:"",telephoneNo:"",emailAddress:""}],supplierFinancial:{currency:"USD",exchangeRateType:"1",paymentTerm:"N90",paymentMtdAp:"ABS",cashDiscountTerm:"",supplierStats:!0,activityCode:"CRP",taxWithholdMtd:"1",taxId:"",autoInvApprov:"1",invApprovCond1:"1",invApprovCond2:"0",invApprovCond3:"3"},supplierPurchase:{buyer:"",authUser:"",orderType:"IPO",deliveryTerms:"102",deliveryMethod:"000",dateType:"1",dateCode:"1"},supplierCertificates:{w9:null,certificateOfInsurance:null,vendorDiversificationCertificate:null}},O={supplierDetails:[{name:"supplierGroup",label:"supplier_group",class:"col-6",type:"select",options:s,design:"outlined",required:!0},{name:"status",label:"status",class:"col-6",type:"select",options:D,design:"outlined"},{name:"name",label:"supplier_name",class:"col-6",type:"text",design:"outlined",required:!0,newLine:!0},{name:"dbaName",label:"dba_name",class:"col-6",type:"text",design:"outlined",required:!0},{name:"country",label:"country",class:"col-6",type:"select",options:r,design:"outlined",behavior:"menu",required:!0},{name:"zipCode",label:"zip_code",class:"col-6",type:"text",design:"outlined",required:!0},{name:"requestBy",label:"request_by",class:"col-6",type:"text",design:"outlined",required:!0,readonly:!0},{name:"phone",label:"phone",class:"col-6",type:"tel",design:"outlined",required:!0},{name:"altLanguage",label:"alt_language",options:d,class:"col-6",type:"select",design:"outlined"},{name:"language",label:"language",class:"col-6",type:"select",options:d,design:"outlined"},{name:"dateFormat",label:"date_format",class:"col-6",type:"select",options:u,design:"outlined"},{name:"mediaProfile",label:"media_profile",class:"col-6",type:"select",options:c,design:"outlined",hidden:!0},{name:"scac",label:"scac",class:"col-6",type:"text",design:"outlined",hidden:!0},{name:"geoCode",label:"geography_code",class:"col-6",type:"text",design:"outlined",readonly:!0,hidden:!0},{name:"mei",type:"text",hidden:!0},{name:"insuranceExpiredAt",type:"text",hidden:!0}],supplierAddress:[[{name:"addressType",label:"address_type",class:"col-10",type:"select",options:p,design:"outlined",label_style:"inner",space:!0},{name:"address",label:"address",class:"col-12",type:"text",design:"outlined",label_style:"inner"},{name:"city",label:"city",class:"col-12",type:"text",design:"outlined",label_style:"inner"},{name:"state",label:"state",class:"col-12",type:"search",options:o(),design:"outlined",label_style:"inner"},{name:"postalCode",label:"postal_code",class:"col-12",type:"text",design:"outlined",label_style:"inner"},{name:"country",label:"country",class:"col-12",type:"search",options:r,design:"outlined",label_style:"inner"}]],supplierContact:[[{name:"referenceType",label:"contact_type",class:"col-10",type:"select",options:h,design:"outlined",label_style:"inner",space:!0},{name:"referenceName",label:"contact_name",class:"col-12",type:"text",design:"outlined",label_style:"inner"},{name:"telephoneNo",label:"telephone_no",class:"col-12",type:"tel",design:"outlined",label_style:"inner"},{name:"emailAddress",label:"email_address",class:"col-12",type:"email",design:"outlined",label_style:"inner"}]],supplierFinancial:[{name:"currency",label:"currency",type:"select",options:b,design:"outlined",class:"col-6"},{name:"exchangeRateType",label:"exchange_rate_type",type:"select",options:v,design:"outlined",class:"col-6",hidden:!0},{name:"paymentTerm",label:"payment_term",type:"select",options:m,design:"outlined",class:"col-6",labelHint:"payment_term_hint"},{name:"paymentMtdAp",label:"payment_mtd_ap",type:"select",options:g,design:"outlined",class:"col-6",hidden:!0},{name:"supplierStats",type:"checkbox",label:"supplier_stat",label_style:"inner",class:"col-6",newLine:!0,hidden:!0},{name:"activityCode",label:"tax_classification",type:"select",options:f,design:"outlined",class:"col-6"},{name:"cashDiscountTerm",label:"cash_discount_term",type:"select",options:_,design:"outlined",class:"col-6"},{name:"taxWithholdMtd",label:"tax_withhold_mtd",type:"select",options:y,design:"outlined",class:"col-6",newLine:!0,hidden:!0},{name:"taxId",label:"tax_id_no_suppl",type:"text",design:"outlined",class:"col-6",required:!0},{name:"autoInvApprov",label:"auto_inv_approv",type:"select",options:k,design:"outlined",class:"col-6",newLine:!0,hidden:!0},{name:"invApprovCond1",label:"inv_approv_cond",type:"select",options:w,design:"outlined",class:"col-4",newLine:!0,hidden:!0},{name:"invApprovCond2",label:null,type:"select",options:C,design:"outlined",class:"col-4",hidden:!0},{name:"invApprovCond3",label:null,type:"select",options:x,design:"outlined",class:"col-4",hidden:!0}],supplierPurchase:[{name:"buyer",label:"buyer",type:"text",design:"outlined",class:"col-6"},{name:"authUser",label:"authorize_user",type:"text",design:"outlined",class:"col-6",newLine:!0},{name:"orderType",label:"order_type",type:"select",options:L,design:"outlined",class:"col-6",newLine:!0,hidden:!0},{name:"deliveryTerms",label:"delivery_terms",type:"select",options:F,design:"outlined",class:"col-4",hidden:!0},{name:"deliveryMethod",label:"delivery_method",type:"select",options:E,design:"outlined",class:"col-4",hidden:!0},{name:"dateType",label:"date_type",type:"select",options:A,design:"outlined",class:"col-6",hidden:!0},{name:"dateCode",label:"date_code",type:"select",options:S,design:"outlined",class:"col-6",hidden:!0}],supplierCertificates:[{name:"w9",label:"w9_certificate",type:"file",class:"col-12",design:"borderless",required:!0,accept:".pdf"},{name:"certificateOfInsurance",label:"certificate_of_insurance",type:"file",class:"col-12",design:"borderless",required:!0,accept:".pdf"},{name:"vendorDiversificationCertificate",label:"vendor_diversification_certificate",type:"file",class:"col-12",design:"borderless",accept:".pdf"}]},M=[{name:"supplierDetails",title:"supplier_details",icon:"person"},{name:"supplierAddress",title:"address_data",icon:"map"},{name:"supplierContact",title:"supplier_contact",icon:"contacts"},{name:"supplierFinancial",title:"supplier_financial",icon:"account_balance"},{name:"supplierPurchase",title:"supplier_purchase",icon:"shopping_cart",hidden:!0},{name:"supplierCertificates",title:"supplier_upload_certificates",icon:"upload"}]},13720:(e,t,l)=>{"use strict";l.d(t,{b:()=>m});var a=l(1659),o=l(11470),i=l(51476),s=l(15155),n=l(82204),r=l(24681),d=l(18698),u=l(76956),c=l(38734),p=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const{datePattern:h}=(0,r.B)(),m=(0,a.nY)("dashboard_supplier_store",{state:()=>({paginationCount:0,current_supplier:0,total_supplier_count:0,pending_supplier:{},loading:!0,pending_approval_supplier:0,pending_registration_supplier:0,quickFilterMap:new Map,display_data:[],expiredCount:{},additionalFields:{},supplierOptionList:d.supplierGroupOptions,supplierStatusList:d.supplierStatuses,visible_columns:{},filter:{supplier_group:"",status:"",date_added:"",location:"",search:"",zip_code:"",insurance_expired:0},pagination:{current_page:1,total_pages:0,page_size:10},data:{},order_by:{},sortby_data_types:{},supplier_status:"",table_columns:{supplier_name:{name:"sh.supplier_name",translation_key:"supplier_name",actions:!0,field:"supplier_name",order:0},supplier_alias:{name:"supplier_alias",translation_key:"supplier_alias",actions:!0,field:"supplier_alias",order:1},supplier_number:{name:"supplier_number",translation_key:"supplier_number",actions:!0,field:"supplier_number",order:2},supplier_type:{name:"socu.supplier_type",translation_key:"supplier_groups",actions:!0,field:"supplier_type",order:3},status:{name:"socu.status",translation_key:"supplier_status",actions:!0,field:"status",order:4},referrer_name:{name:"socu.referrer_name",translation_key:"referrer",actions:!0,field:"referrer_name",order:5},responder_first_name:{name:"responder_first_name",translation_key:"supplier_responder_first_name",actions:!0,field:"responder_first_name",order:6},responder_name:{name:"responder_name",translation_key:"supplier_responder_last_name",actions:!0,field:"responder_name",order:7},responder_email:{name:"socu.responder_email",translation_key:"supplier_responder_email",actions:!0,field:"responder_email",order:8},last_modified_on:{name:"last_modified_on",translation_key:"updated_at",actions:!0,field:"last_modified_on",order:9}},created_dialog:!1}),actions:{resetPagination(){this.pagination={current_page:1,total_pages:0,page_size:this.pagination.page_size}},resetFilter(){this.filter={supplier_group:"",status:"",date_added:"",location:"",search:"",zip_code:"",insurance_expired:0},this.pagination={current_page:1,total_pages:0,page_size:this.pagination.page_size},(0,n.oX)("supplier"),this.sortby_data_types["supplier"].orderByMap=new Map},getSupplierData(){return p(this,void 0,void 0,(function*(){this.loading=!0;new s.A;try{const e={};for(const[o,n]of Object.entries(this.filter)){const t=n;"object"===typeof t?t&&Object.keys(t).length>0&&(e[o]=t.value):""!==t&&(e[o]=t)}const t=this.sortby_data_types["supplier"].orderByMap,l=[];for(const[o,n]of t)l.push({field:o,direction:n});const a=(this.pagination.current_page-1)*this.pagination.page_size,i=yield o.KT.supplier_dashboard(Object.assign(Object.assign({sort_order_json:JSON.stringify(l)},e),{limit:this.pagination.page_size,skip:a})),s=yield o.KT.get_supplier_expiration_count_dashboard();if(!i)throw i;this.expiredCount=s.data,this.pagination.total_pages=Math.ceil(i.metadata.total_results/this.pagination.page_size),this.current_supplier=i.metadata.total_results,this.display_data=i.data,this.paginationCount=i.metadata.total_results,this.pending_approval_supplier=i.metadata.pending_count,this.total_supplier_count=i.metadata.total_supplier_count,this.pending_registration_supplier=i.metadata.pending_registration_count}catch(e){throw this.loading=!1,e}this.loading=!1}))},getColumnPreference(e){const t="master_data"+e,l=(0,i.KW)(t);return String(l||"[]")},getSavedColumns(){return p(this,void 0,void 0,(function*(){try{const e=yield this.getDashboardColumnFromServer();this.visible_columns=e&&""!=e?JSON.parse(e):this.table_columns}catch(e){this.visible_columns=this.table_columns}return this.prepareColumns(this.visible_columns)}))},prepareColumns(e){let t=Object.entries(e).map((([e,t])=>({name:t.name,required:!0,label:t.translation_key?t.translation_key:t.label,translation_key:t.translation_key,field:t.field,actions:!0,order:t.order})));return t=(0,c.ux)(t).sort(((e,t)=>e.order-t.order)),t},getDashboardColumnFromServer(){return p(this,void 0,void 0,(function*(){try{const e=(0,r.B)(),t=yield e.getSettingWithExpiry(u.kY);return t}catch(e){return""}}))},toggleCreatedDialog(){this.created_dialog=!this.created_dialog},getSavedColumnPreference(e){const t=(0,i.KW)(e);return String(t||"")}}})},76651:(e,t,l)=>{"use strict";l.d(t,{av:()=>o.a,bp:()=>a.b});var a=l(13720),o=l(10534);(0,a.b)()},10534:(e,t,l)=>{"use strict";l.d(t,{a:()=>h});var a=l(1659),o=l(51476),i=l(11470),s=l(82204),n=l(83319),r=l(68450),d=l(45022),u=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const{datePattern:c,statusInterface:p}=(0,n.Bu)(),h=(0,a.nY)("po_and_invoice_store",{state:()=>({paginationCount:0,statusCounts:{all:0,open:0,invoiced:0,received:0,closed:0},loading:!0,pending_approval_supplier:0,display_data:[],po_detail:{purchase_order:{},purchase_order_line:[]},preview_path:"",po_number_path:"",quickFilterMap:new Map,pagination_size_key:"PAGINATION_SIZE",params:{keyword:"",after_date:"",before_date:"",min_amount:"",max_amount:"",sort_by:"",order:"",order_status:""},order_by:{},pagination:{current_page:1,total_pages:0,page_size:25},table_columns:{purchase_order_number:{name:"purchase_order_number",translation_key:"po_dashboard.purchase_order_number",actions:!0,order:0},status:{name:"status",translation_key:"order_status",actions:!0,order:1},order_date:{name:"order_date",translation_key:"po_dashboard.order_date",actions:!0,format:(e,t)=>e?(0,n.Bu)().dateFormatOnly(e):"",order:2},requested_shipment_date:{name:"requested_shipment_date",translation_key:"po_dashboard.requested_delivery_date",actions:!0,format:(e,t)=>e?(0,n.Bu)().dateFormatOnly(e):"",order:3},total_amount:{name:"total_amount",translation_key:"po_dashboard.total_amount",actions:!0,order:4},ship_to_party_name:{name:"ship_to_party_name",translation_key:"ship_to_party_name",actions:!0,order:5},warehouse_id:{name:"warehouse_id",translation_key:"location_id",actions:!0,order:6},supplier_name:{name:"supplier_name",translation_key:"vendor",actions:!0,order:7},po_lines:{name:"po_lines",translation_key:"po_lines",actions:!0,order:8}}}),actions:{resetPagination(){this.pagination={current_page:1,total_pages:0,page_size:20}},resetFilter(){this.params={keyword:"",after_date:"",before_date:"",min_amount:"",max_amount:"",sort_by:"",order:"",order_status:""},this.pagination={current_page:1,total_pages:0,page_size:20},(0,s.oX)("supplier"),this.order_by={}},getPurchaseOrderData(){return u(this,void 0,void 0,(function*(){this.loading=!0;try{const e={};for(const[i,n]of Object.entries(this.params)){const t=n;"object"===typeof t?t&&Object.keys(t).length>0&&(e[i]=t.value):""!==t&&(e[i]=t)}const t=(this.pagination.current_page-1)*this.pagination.page_size,l=yield i.$$.purchase_order_dashboard(Object.assign(Object.assign({},e),{limit:this.pagination.page_size,skip:t}));if(!l)throw l;this.display_data=l.data,this.display_data.forEach((e=>{logInfo(e.status),(0,r.z)(e.status)&&(e.status="")}));let a=[];a=this.display_data.map((e=>e.total_amount?{key:e.total_amount,value:e.total_amount}:{key:0,value:0}));const{user_settings:o}=(0,n.Bu)(),s=yield(0,n.gP)().formatMultiValues(a,"en_US",o.AMOUNTS_LOCALE);this.display_data=this.display_data.map((e=>Object.assign(Object.assign({},e),{total_amount:this.searchValueByKey(e.total_amount,s)}))),this.paginationCount=l.metadata.total_results,this.statusCounts.all=l.metadata.total_records,this.statusCounts.open=l.metadata.total_all_open,this.statusCounts.invoiced=l.metadata.total_invoiced_count,this.statusCounts.received=l.metadata.total_received_count,this.statusCounts.closed=l.metadata.total_closed_count,this.pagination.total_pages=Math.ceil(l.metadata.total_results/this.pagination.page_size)}catch(e){throw e}finally{this.loading=!1}}))},searchValueByKey(e,t){return(0,n.gP)().searchValueByKey(e,t)},getPurchaseOrderDetail(e){var t,l;return u(this,void 0,void 0,(function*(){try{const a=yield i.$$.purchase_order_detail({po_id:e});if(!a)throw a;this.po_number_path=null===(t=null===a||void 0===a?void 0:a.purchase_order)||void 0===t?void 0:t.purchase_order_number;const o=[],s=null!==(l=a.purchase_order.total_amount)&&void 0!==l?l:0;o.push({key:s,value:s});const{user_settings:r}=(0,n.Bu)();let d=r.AMOUNTS_LOCALE;r&&r.AMOUNTS_LOCALE||(d=yield i.jD.getUserPreference({key:"AMOUNTS_LOCALE"}));const u=yield(0,n.gP)().formatMultiValues(o,"en_US",d),c=[];a.purchase_order_lines.forEach((e=>{e.total_amount?c.push({key:e.total_amount,value:e.total_amount}):c.push({key:0,value:0}),e.unit_price?c.push({key:e.unit_price,value:e.unit_price}):c.push({key:0,value:0})}));const p=yield(0,n.gP)().formatMultiValues(c,"en_US",d);a.purchase_order_lines=a.purchase_order_lines.map((e=>Object.assign(Object.assign({},e),{total_amount:this.searchValueByKey(e.total_amount,p),unit_price:this.searchValueByKey(e.unit_price,p)}))),this.po_detail={purchase_order:Object.assign(Object.assign({},a.purchase_order),{total_amount:this.searchValueByKey(s,u)}),purchase_order_line:a.purchase_order_lines}}catch(a){}}))},getColumnPreference(e){const t="master_data"+e,l=(0,o.KW)(t);return String(l||"[]")},getPreviewPath(e){var t,l,a;return u(this,void 0,void 0,(function*(){try{const o=d.A.getItem("user_details"),s=(null===(t=null===o||void 0===o?void 0:o.organisations[0])||void 0===t?void 0:t.parent_org_id)?null===(l=null===o||void 0===o?void 0:o.organisations[0])||void 0===l?void 0:l.parent_org_id:o.organisations[0].org_id,n=yield i.$$.getPOPreviewPath(e,{parent_id:s});n.success&&(this.preview_path=null===(a=null===n||void 0===n?void 0:n.data)||void 0===a?void 0:a.preview_path)}catch(o){logInfo(o)}}))},getSavedColumnPreference(e){const t=(0,o.KW)(e);return String(t||"")}}})},54899:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var a=l(60455),o=l(14907),i=l(266),s=l(16332);function n(){const e=(0,a.lq)(),t=(0,o.A)(),{t:l}=s.i18n,{notifications:n}=(0,i.q)();function r(a,o=!1,i=!1){if(e.path.includes("field_validation_v1")){const e=new CustomEvent("dispatch_status_bar_message",{detail:{message:a}});document.dispatchEvent(e)}const s={type:"negative",message:o?l(a):a};i&&(s["actions"]=[{label:"Dismiss",color:"white",handler:()=>{}}],s["timeout"]=0);const r=t.notify(s);n.push(r)}function d(a,o=!1){if(t.notify({color:"primary",message:o?l(a):a}),e.path.includes("field_validation_v1")){const e=new CustomEvent("dispatch_status_bar_message",{detail:{message:a}});document.dispatchEvent(e)}}function u(e,a=!1){return t.notify({classes:"warning_toast",type:"warning",color:"warning",position:"bottom",message:a?l(e):e,timeout:0,actions:[{label:"Dismiss",color:"white",handler:()=>{}}]})}function c(e){return t.notify({color:"info",position:"bottom",type:"info",message:e,timeout:0})}function p(e,a="negative",o=!1,i=!1){const s={type:a,classes:"q-notification-full-width full-width",position:"top",message:o?l(e):e};i&&(s["actions"]=[{label:"X",color:"white",handler:()=>{}}],s["timeout"]=0);const r=t.notify(s);n.push(r)}return{showErrorToast:r,showSuccessToast:d,showWarningAlert:u,showProcessMessage:c,showFullWidthToast:p}}},42300:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});const a={methods:{getColor(e){const t=10,l=e/t,a=100,o=((1-l)*a).toString(10);return["hsl(",o,",100%,70%)"].join("")}}}},82080:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var a=l(16332),o=l(24622),i=l(11470),s=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const n={methods:{getConversionFields(){return["net_amount","tax_amount","tax_rate","net_amount_2","tax_amount_2","tax_rate_2","net_amount_3","tax_amount_3","tax_rate_3"]},convertToUSValue(e){return e.replace(/,/g,".")},convertToDeValue(e){return e.toString().replace(/\./g,",")},normalizeLocale(e){return e?e.toLowerCase().replace("_","-"):e},convertPOValuePerLocale(e,t){const l=this.normalizeLocale(e);return t=t?t.replace(",","."):t,Number(parseFloat(t)).toLocaleString(l,{minimumFractionDigits:2,maximumFractionDigits:2})},isValidAmount(e){e=e.replace(/\s/g,"");const t=/^[0-9.,]+$/;return!!t.test(e)},convertValueAccordingToLocale(e,t,l){return s(this,void 0,void 0,(function*(){let s;try{s=yield i.PQ.convertValueAccordingToLocale(e,t,l)}catch(n){o.A.methods.showNotification(a.i18n.t("pages.messages.error_internal_occur")),logError(n)}if(s)return s}))}}}},72281:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var a=l(78652),o=l(20989);const i={methods:{copyText(e){0!=e.trim().length&&(0,a.A)(e).then((()=>{o.A.create({color:"primary",message:"Copied!"})}))}}}},46687:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(83319);const o={methods:{getDocTypeSubDocType(e){const t=(0,a.cY)(),{doc_types_sub_types_list:l}=t,o=l.filter((t=>t.value===e));if(o&&Array.isArray(o)&&0!=o.length&&o[0].hasOwnProperty("doc_type_key")&&""!=o[0].doc_type_key)return{doc_type_key:o[0].doc_type_key,sub_doc_type:e}}}}},87033:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(51476);const o={methods:{generateSavedColumns(e,t){const l=this.getSavedColumnPreference(e);if(l){let e=JSON.parse(l);return t.length!==e.length?t:(e=e.map((e=>{const l=t.findIndex((t=>e.name==t.name));if(-1!=l){const a=t[l];return logInfo(a.label,"label"),Object.assign(Object.assign({},e),{label:a.translation_key?a.translation_key:a.label})}return e})),e)}return t},getSavedColumnPreference(e){const t=(0,a.KW)(e);return String(t||"")}}}},41498:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{JzX:()=>settings_users,Q9t:()=>version_link,TEc:()=>getLink,gFA:()=>polydocs,v6N:()=>po_help_link});var quasar_src_plugins_storage_LocalStorage_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45022);const po_matching_en="https://docs.docbits.com/readme-1/purchase-order-matching",po_matching_de="https://docs.docbits.com/deutsch/readme-1/purchase-order-matching",po_matching_es="https://docs.docbits.com/espanol/readme-1/purchase-order-matching",po_matching_fr="https://docs.docbits.com/french/readme-1/purchase-order-matching",po_matching_nl="https://docs.docbits.com/readme-1/purchase-order-matching",po_matching_it="https://docs.docbits.com/italian/readme-1/purchase-order-matching",settings_document_types_en="https://docs.docbits.com/admin-section/settings/global-settings/document-types",settings_document_types_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/document-types",settings_document_types_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/document-types",settings_document_types_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/document-types",settings_document_types_nl="https://docs.docbits.com/admin-section/settings/global-settings/document-types",settings_document_types_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/document-types",settings_model_training_en="https://docs.docbits.com/admin-section/settings/global-settings/document-types/model-training",settings_model_training_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/document-types/model-training",settings_model_training_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/document-types/model-training",settings_model_training_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/document-types/model-training",settings_model_training_nl="https://docs.docbits.com/admin-section/settings/global-settings/document-types/model-training",settings_model_training_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/document-types/model-training",scripts_en="https://docs.docbits.com/admin-section/settings/global-settings/document-types/script",scripts_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/document-types/script",scripts_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/document-types/script",scripts_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/document-types/script",scripts_nl="https://docs.docbits.com/admin-section/settings/global-settings/document-types/script",scripts_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/document-types/script",settings_manage_xslt_en="https://docs.docbits.com/admin-section/settings/global-settings/document-types/edi",settings_manage_xslt_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/document-types/edi",settings_manage_xslt_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/document-types/edi",settings_manage_xslt_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/document-types/edi",settings_manage_xslt_nl="https://docs.docbits.com/admin-section/settings/global-settings/document-types/edi",settings_manage_xslt_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/document-types/edi",settings_new_doc_type_en="https://docs.docbits.com/admin-section/settings/global-settings/document-types",settings_new_doc_type_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/document-types",settings_new_doc_type_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/document-types",settings_new_doc_type_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/document-types",settings_new_doc_type_nl="https://docs.docbits.com/admin-section/settings/global-settings/document-types",settings_new_doc_type_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/document-types",document_type_fields_en="https://docs.docbits.com/admin-section/settings/global-settings/document-types/fields",document_type_fields_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/document-types/fields",document_type_fields_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/document-types/fields",document_type_fields_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/document-types/fields",document_type_fields_nl="https://docs.docbits.com/admin-section/settings/global-settings/document-types/fields",document_type_fields_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/document-types/fields",field_master_data_en="https://docs.docbits.com/admin-section/settings/global-settings/document-types/fields",field_master_data_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/document-types/fields",field_master_data_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/document-types/fields",field_master_data_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/document-types/fields",field_master_data_nl="https://docs.docbits.com/admin-section/settings/global-settings/document-types/fields",field_master_data_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/document-types/fields",sub_doc_type_en="https://docs.docbits.com/admin-section/settings/global-settings/document-types/document-sub-types",sub_doc_type_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/document-types/document-sub-types",sub_doc_type_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/document-types/document-sub-types",sub_doc_type_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/document-types/document-sub-types",sub_doc_type_nl="https://docs.docbits.com/admin-section/settings/global-settings/document-types/document-sub-types",sub_doc_type_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/document-types/document-sub-types",doc_type_custom_columns_en="https://docs.docbits.com/admin-section/settings/global-settings/document-types/table-columns",doc_type_custom_columns_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/document-types/table-columns",doc_type_custom_columns_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/document-types/table-columns",doc_type_custom_columns_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/document-types/table-columns",doc_type_custom_columns_nl="https://docs.docbits.com/admin-section/settings/global-settings/document-types/table-columns",doc_type_custom_columns_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/document-types/table-columns",more_settings_en="https://docs.docbits.com/admin-section/settings/global-settings/document-types/more-settings",more_settings_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/document-types/more-settings",more_settings_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/document-types/more-settings",more_settings_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/document-types/more-settings",more_settings_nl="https://docs.docbits.com/admin-section/settings/global-settings/document-types/more-settings",more_settings_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/document-types/more-settings",version_link="https://docs.docbits.com/release",polydocs="https://fellowpro.com",settings_users="https://docs.cloudintegration.eu/docs/doc2app/settings-users/",polydocs_contact="https://polydocs.io/contact/",list_of_values_en="https://docs.docbits.com/admin-section/settings/document-processing/list-of-values",list_of_values_de="https://docs.docbits.com/deutsch/admin-section/settings/document-processing/list-of-values",list_of_values_es="https://docs.docbits.com/espanol/admin-section/settings/document-processing/list-of-values",list_of_values_fr="https://docs.docbits.com/french/admin-section/document-processing/list-of-values",list_of_values_nl="https://docs.docbits.com/admin-section/settings/document-processing/list-of-values",list_of_values_it="https://docs.docbits.com/italian/admin-section/settings/document-processing/list-of-values",modules_en="https://docs.docbits.com/admin-section/settings/document-processing/module",modules_de="https://docs.docbits.com/deutsch/admin-section/settings/document-processing/module",modules_es="https://docs.docbits.com/espanol/admin-section/settings/document-processing/module",modules_fr="https://docs.docbits.com/french/admin-section/settings/document-processing/module",modules_nl="https://docs.docbits.com/admin-section/settings/document-processing/module",modules_it="https://docs.docbits.com/italian/admin-section/settings/document-processing/module",settings_decision_trees_en="https://docs.docbits.com/admin-section/settings/decision-trees",settings_decision_trees_de="https://docs.docbits.com/deutsch/admin-section/settings/entscheidungsbaume",settings_decision_trees_es="https://docs.docbits.com/espanol/admin-section/settings/arboles-de-decision",settings_decision_trees_fr="https://docs.docbits.com/french/admin-section/settings/arbres-de-decision",settings_decision_trees_nl="https://docs.docbits.com/admin-section/settings/decision-trees",settings_decision_trees_it="https://docs.docbits.com/italian/admin-section/settings/alberi-decisionali",log_settings_task_management_en="https://docs.docbits.com/admin-section/settings/log-settings/task-management",log_settings_task_management_de="https://docs.docbits.com/deutsch/admin-section/settings/log-einstellungen/aufgabenverwaltung",log_settings_task_management_es="https://docs.docbits.com/espanol/admin-section/settings/log-settings/gestion-de-tareas",log_settings_task_management_fr="https://docs.docbits.com/french/admin-section/settings/log-settings/gestion-des-taches",log_settings_task_management_nl="https://docs.docbits.com/admin-section/settings/log-settings/task-management",log_settings_task_management_it="https://docs.docbits.com/italian/admin-section/settings/log-settings/gestione-delle-attivita",data_sync_settings_en="https://docs.docbits.com/admin-section/settings/log-settings/data-synchronization",data_sync_settings_de="https://docs.docbits.com/deutsch/admin-section/settings/log-einstellungen/daten-synchronization",data_sync_settings_es="https://docs.docbits.com/espanol/admin-section/settings/log-settings/sincronizacion-de-datos",data_sync_settings_fr="https://docs.docbits.com/french/admin-section/settings/log-settings/synchronisation-des-donnees",data_sync_settings_nl="https://docs.docbits.com/admin-section/settings/log-settings/data-synchronization",data_sync_settings_it="https://docs.docbits.com/italian/admin-section/settings/log-settings/sincronizzazione-dei-dati",apilicenses_settings_en="https://docs.docbits.com/admin-section/settings/api-licenses",apilicenses_settings_de="https://docs.docbits.com/deutsch/admin-section/settings/api-lizenzen",apilicenses_settings_es="https://docs.docbits.com/espanol/admin-section/settings/licencias-de-api",apilicenses_settings_fr="https://docs.docbits.com/french/admin-section/settings/licences-api",apilicenses_settings_nl="https://docs.docbits.com/admin-section/settings/api-licenses",apilicenses_settings_it="https://docs.docbits.com/italian/admin-section/settings/licenze-api",email_templates_en="https://docs.docbits.com/admin-section/settings/supplier-setting/editing-email-templates",email_templates_de="https://docs.docbits.com/deutsch/admin-section/settings/lieferanten-einstellungen/email-vorlagen-editieren",email_templates_es="https://docs.docbits.com/espanol/admin-section/settings/supplier-setting/editing-email-templates",email_templates_fr="https://docs.docbits.com/french/admin-section/settings/supplier-settings/modification-des-modeles-demail",email_templates_nl="https://docs.docbits.com/admin-section/settings/supplier-setting/editing-email-templates",email_templates_it="https://docs.docbits.com/italian/admin-section/settings/impostazione-del-fornitore/modifica-dei-modelli-di-email",supplier_layout_en="https://docs.docbits.com/admin-section/setup/supplier-portal",supplier_layout_de="https://docs.docbits.com/deutsch/admin-section/setup/lieferantenportal",supplier_layout_es="https://docs.docbits.com/espanol/admin-section/setup/portal-de-proveedores",supplier_layout_fr="https://docs.docbits.com/french/admin-section/setup/portail-fournisseur",supplier_layout_nl="https://docs.docbits.com/admin-section/setup/supplier-portal",supplier_layout_it="https://docs.docbits.com/italian/admin-section/setup/portale-fornitori",export_configuration_en="https://docs.docbits.com/admin-section/settings/supplier-setting/export-configuration-for-supplier-portal-for-m3",export_configuration_de="https://docs.docbits.com/deutsch/admin-section/settings/lieferanten-einstellungen/page-1",export_configuration_es="https://docs.docbits.com/espanol/admin-section/settings/supplier-setting/export-configuration-for-supplier-portal",export_configuration_fr="https://docs.docbits.com/french/admin-section/settings/supplier-settings/export-configuration-for-supplier-portal",export_configuration_nl="https://docs.docbits.com/admin-section/settings/supplier-setting/export-configuration-for-supplier-portal-for-m3",export_configuration_it="https://docs.docbits.com/italian/admin-section/settings/impostazione-del-fornitore/esportazione-della-configurazione-per-il-portale-fornitori",cache_management_en="https://docs.docbits.com/admin-section/settings/cache-management",cache_management_de="https://docs.docbits.com/deutsch/admin-section/settings/cache-management",cache_management_es="https://docs.docbits.com/espanol/admin-section/settings/gestion-de-cache",cache_management_fr="https://docs.docbits.com/french/admin-section/settings/gestion-du-cache",cache_management_nl="https://docs.docbits.com/admin-section/settings/cache-management",cache_management_it="https://docs.docbits.com/italian/admin-section/settings/gestione-della-cache",dashboard_en="https://docs.docbits.com/readme/overview/dashboard-1",dashboard_de="https://docs.docbits.com/deutsch/readme-1/dashboard",dashboard_es="https://docs.docbits.com/espanol/readme-1/dashboard",dashboard_fr="https://docs.docbits.com/french/readme-1/dashboard",dashboard_nl="https://docs.docbits.com/readme/overview/dashboard-1",dashboard_it="https://docs.docbits.com/italian/readme-1/dashboard",workflow_logs_en="https://docs.docbits.com/admin-section/workflow",workflow_logs_de="https://docs.docbits.com/deutsch/admin-section/workflow",workflow_logs_es="https://docs.docbits.com/espanol/admin-section/workflow",workflow_logs_fr="https://docs.docbits.com/french/admin-section/workflow",workflow_logs_nl="https://docs.docbits.com/admin-section/workflow",workflow_logs_it="https://docs.docbits.com/italian/readme-1/dashboard",ocr_settings_en="https://docs.docbits.com/admin-section/settings/document-processing/ocr-settings",ocr_settings_de="https://docs.docbits.com/deutsch/admin-section/settings/document-processing/ocr-settings",ocr_settings_es="https://docs.docbits.com/espanol/admin-section/settings/document-processing/ocr-settings",ocr_settings_fr="https://docs.docbits.com/french/admin-section/document-processing/ocr-settings",ocr_settings_nl="https://docs.docbits.com/admin-section/settings/document-processing/ocr-settings",ocr_settings_it="https://docs.docbits.com/italian/admin-section/settings/document-processing/ocr-settings",classify_extract_settings_general_en="https://docs.docbits.com/admin-section/settings/document-processing/classification-and-extraction",classify_extract_settings_general_de="https://docs.docbits.com/deutsch/admin-section/settings/document-processing/classification-and-extraction",classify_extract_settings_general_es="https://docs.docbits.com/espanol/admin-section/settings/document-processing/classification-and-extraction",classify_extract_settings_general_fr="https://docs.docbits.com/french/admin-section/settings/document-processing/classification-and-extraction",classify_extract_settings_general_nl="https://docs.docbits.com/admin-section/settings/document-processing/classification-and-extraction",classify_extract_settings_general_it="https://docs.docbits.com/italian/admin-section/settings/document-processing/classification-and-extraction",classify_extract_settings_classification_rules_en="https://docbits.com/doc/table-extraction/",classify_extract_settings_classification_rules_de="https://docbits.com/de/doc/tabellenextraktion/",classify_extract_settings_classification_rules_fr="https://docbits.com/doc/table-extraction/",classify_extract_settings_classification_rules_es="https://docbits.com/doc/table-extraction/",classify_extract_settings_classification_rules_nl="https://docbits.com/doc/table-extraction/",classify_extract_settings_classification_rules_it="https://docbits.com/doc/table-extraction/",classify_extract_settings_custom_models_en="https://docs.docbits.com/admin-section/settings/document-processing/classification-and-extraction",classify_extract_settings_custom_models_de="https://docs.docbits.com/deutsch/admin-section/settings/document-processing/classification-and-extraction",classify_extract_settings_custom_models_es="https://docs.docbits.com/espanol/admin-section/settings/document-processing/classification-and-extraction",classify_extract_settings_custom_models_fr="https://docs.docbits.com/french/admin-section/document-processing/classification-and-extraction",classify_extract_settings_custom_models_nl="https://docs.docbits.com/admin-section/settings/document-processing/classification-and-extraction",classify_extract_settings_custom_models_it="https://docs.docbits.com/italian/admin-section/settings/document-processing/classification-and-extraction",integration_en="https://docs.docbits.com/admin-section/settings/global-settings/integration",integration_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/integration",integration_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/integration",integration_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/integration",integration_nl="https://docs.docbits.com/admin-section/settings/global-settings/integration",integration_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/integration",settings_en="https://docs.docbits.com/admin-section/settings",settings_de="https://docs.docbits.com/deutsch/admin-section/settings",settings_es="https://docs.docbits.com/espanol/admin-section/settings",settings_fr="https://docs.docbits.com/french/admin-section/settings",settings_nl="https://docs.docbits.com/admin-section/settings",settings_it="https://docs.docbits.com/italian/admin-section/settings",api_settings_en="https://docs.fellowpro.com/DocBits/settings-api/",api_settings_de="https://docs.fellowpro.com/DocBits/settings-api/",api_settings_es="https://docs.fellowpro.com/DocBits/settings-api/",api_settings_fr="https://docs.fellowpro.com/DocBits/settings-api/",api_settings_nl="https://docs.fellowpro.com/DocBits/settings-api/",api_settings_it="https://docs.fellowpro.com/DocBits/settings-api/",module_settings_en="https://docs.docbits.com/admin-section/settings/document-processing/module",module_settings_de="https://docs.docbits.com/deutsch/admin-section/settings/document-processing/module",module_settings_es="https://docs.docbits.com/espanol/admin-section/settings/document-processing/module",module_settings_fr="https://docs.docbits.com/french/admin-section/settings/document-processing/module",module_settings_nl="https://docs.docbits.com/admin-section/settings/document-processing/module",module_settings_it="https://docs.docbits.com/italian/admin-section/settings/document-processing/module",company_settings_en="https://docs.fellowpro.com/DocBits/company-information/",company_settings_de="https://docs.fellowpro.com/DocBits/company-information/",company_settings_es="https://docs.fellowpro.com/DocBits/company-information/",company_settings_fr="https://docs.fellowpro.com/DocBits/company-information/",company_settings_nl="https://docs.fellowpro.com/DocBits/company-information/",company_settings_it="https://docs.fellowpro.com/DocBits/company-information/",user_settings_en="https://docs.docbits.com/admin-section/settings/global-settings/groups-users-and-permissions/users",user_settings_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/groups-users-and-permissions/benutzer",user_settings_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/groups-users-and-permissions/users",user_settings_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/groups-users-and-permissions/users",user_settings_nl="https://docs.docbits.com/admin-section/settings/global-settings/groups-users-and-permissions/users",user_settings_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/groups-users-and-permissions/users",access_control_en="https://docs.docbits.com/admin-section/settings/global-settings/groups-users-and-permissions/groups-and-permissions/access-control",access_control_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/groups-users-and-permissions/gruppen-und-berechtigungen/zugangskontolle",access_control_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/groups-users-and-permissions/groups-and-permissions/control-de-acceso",access_control_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/groups-users-and-permissions/groups-and-permissions/controle-dacces",access_control_nl="https://docs.docbits.com/admin-section/settings/global-settings/groups-users-and-permissions/groups-and-permissions/access-control",access_control_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/groups-users-and-permissions/groups-and-permissions/controllo-accessi",sub_organizations_en="https://docs.docbits.com/admin-section/settings/global-settings/groups-users-and-permissions/sub-organizations",sub_organizations_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/groups-users-and-permissions/unterorganisationen",sub_organizations_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/groups-users-and-permissions/sub-organizations",sub_organizations_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/groups-users-and-permissions/sub-organizations",sub_organizations_nl="https://docs.docbits.com/admin-section/settings/global-settings/groups-users-and-permissions/sub-organizations",sub_organizations_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/groups-users-and-permissions/sub-organizations",settings_group_and_roles_en="https://docs.docbits.com/admin-section/settings/global-settings/groups-users-and-permissions/groups-and-permissions",settings_group_and_roles_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/groups-users-and-permissions/gruppen-und-berechtigungen",settings_group_and_roles_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/groups-users-and-permissions/groups-and-permissions",settings_group_and_roles_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/groups-users-and-permissions/groups-and-permissions",settings_group_and_roles_nl="https://docs.docbits.com/admin-section/settings/global-settings/groups-users-and-permissions/groups-and-permissions",settings_group_and_roles_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/groups-users-and-permissions/groups-and-permissions",import_settings_en="https://docs.docbits.com/admin-section/settings/document-processing/import",import_settings_de="https://docs.docbits.com/deutsch/admin-section/settings/document-processing/import",import_settings_es="https://docs.docbits.com/espanol/admin-section/settings/document-processing/import",import_settings_fr="https://docs.docbits.com/french/admin-section/document-processing/import",import_settings_nl="https://docs.docbits.com/admin-section/settings/document-processing/import",import_settings_it="https://docs.docbits.com/italian/admin-section/settings/document-processing/import",rule_management_en="https://docs.docbits.com/admin-section/settings/document-processing/rule-manager",rule_management_de="https://docs.docbits.com/deutsch/admin-section/settings/document-processing/regelmanager",rule_management_es="https://docs.docbits.com/espanol/admin-section/settings/document-processing/gestor-de-reglas",rule_management_fr="https://docs.docbits.com/french/admin-section/settings/document-processing/gestionnaire-de-regles",rule_management_nl="https://docs.docbits.com/admin-section/settings/document-processing/rule-manager",rule_management_it="https://docs.docbits.com/italian/admin-section/settings/document-processing/gestore-delle-regole",report_en="https://docbits.com/course/beginner-course-report/",report_de="https://docbits.com/de/course/beginnerkurs-bericht/",report_es="https://docbits.com/course/beginner-course-report/",report_fr="https://docbits.com/course/beginner-course-report/",report_nl="https://docbits.com/course/beginner-course-report/",report_it="https://docbits.com/course/beginner-course-report/",export_settings_en="https://docs.docbits.com/admin-section/settings/document-processing/export",export_settings_de="https://docs.docbits.com/deutsch/admin-section/settings/document-processing/export",export_settings_es="https://docs.docbits.com/espanol/admin-section/settings/document-processing/export",export_settings_fr="https://docs.docbits.com/french/admin-section/document-processing/export",export_settings_nl="https://docs.docbits.com/admin-section/settings/document-processing/export",export_settings_it="https://docs.docbits.com/italian/admin-section/settings/document-processing/export",master_data_settings_en="https://docs.docbits.com/admin-section/settings/document-processing/master-data-lookup",master_data_settings_de="https://docs.docbits.com/deutsch/admin-section/settings/document-processing/master-data-lookup",master_data_settings_es="https://docs.docbits.com/espanol/admin-section/settings/document-processing/master-data-lookup",master_data_settings_fr="https://docs.docbits.com/french/admin-section/document-processing/master-data-lookup",master_data_settings_nl="https://docs.docbits.com/admin-section/settings/document-processing/master-data-lookup",master_data_settings_it="https://docs.docbits.com/italian/admin-section/settings/document-processing/master-data-lookup",saml_settings_en="https://docs.cloudintegration.eu/docs/doc2app/settings-sso-settings/",saml_settings_de="https://docs.cloudintegration.eu/docs/doc2app/settings-sso-settings/",saml_settings_es="https://docs.cloudintegration.eu/docs/doc2app/settings-sso-settings/",saml_settings_fr="https://docs.cloudintegration.eu/docs/doc2app/settings-sso-settings/",saml_settings_nl="https://docs.cloudintegration.eu/docs/doc2app/settings-sso-settings/",saml_settings_it="https://docs.cloudintegration.eu/docs/doc2app/settings-sso-settings/",po_help_link="https://docbits.com/doc/po-matching/",settings_company_info_en="https://docs.docbits.com/admin-section/settings/global-settings/company-information",settings_company_info_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/company-information",settings_company_info_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/company-information",settings_company_info_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/company-information",settings_company_info_nl="https://docs.docbits.com/admin-section/settings/global-settings/company-information",settings_company_info_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/company-information",settings_supplier_info_en="https://docs.docbits.com/admin-section/settings/supplier-setting/supplier-general-settings",settings_supplier_info_de="https://docs.docbits.com/deutsch/admin-section/settings/lieferanten-einstellungen/generelle-lieferanten-einstellungen",settings_supplier_info_es="https://docs.docbits.com/espanol/admin-section/settings/supplier-setting/supplier-general-settings",settings_supplier_info_fr="https://docs.docbits.com/french/admin-section/settings/supplier-settings/parametres-generaux-du-fournisseur",settings_supplier_info_nl="https://docs.docbits.com/admin-section/settings/supplier-setting/supplier-general-settings",settings_supplier_info_it="https://docs.docbits.com/italian/admin-section/settings/impostazione-del-fornitore/impostazioni-generali-del-fornitore",logic_apps_en="https://docbits.com/?s=Logic+Apps",logic_apps_de="https://docbits.com/?s=Logic+Apps",logic_apps_es="https://docbits.com/?s=Logic+Apps",logic_apps_fr="https://docbits.com/?s=Logic+Apps",logic_apps_nl="https://docbits.com/?s=Logic+Apps",logic_apps_it="https://docbits.com/?s=Logic+Apps",doc_status_notifications_en="https://docs.docbits.com/admin-section/settings/global-settings/email-notification",doc_status_notifications_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/email-notification",doc_status_notifications_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/email-notification",doc_status_notifications_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/email-notification",doc_status_notifications_nl="https://docs.docbits.com/admin-section/settings/global-settings/email-notification",doc_status_notifications_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/email-notification",settings_dashboard_en="https://docs.docbits.com/admin-section/settings/global-settings/dashboard",settings_dashboard_de="https://docs.docbits.com/deutsch/admin-section/settings/global-settings/dashboard",settings_dashboard_es="https://docs.docbits.com/espanol/admin-section/settings/global-settings/panel",settings_dashboard_fr="https://docs.docbits.com/french/admin-section/settings/global-settings/tableau-de-bord",settings_dashboard_nl="https://docs.docbits.com/admin-section/settings/global-settings/dashboard",settings_dashboard_it="https://docs.docbits.com/italian/admin-section/settings/global-settings/cruscotto",documents_expiry_en="https://docs.docbits.com/admin-section/settings/document-processing/documents-expiry",documents_expiry_de="https://docs.docbits.com/deutsch/admin-section/settings/document-processing/documents-expiry",documents_expiry_es="https://docs.docbits.com/espanol/admin-section/settings/document-processing/documents-expiry",documents_expiry_fr="https://docs.docbits.com/french/admin-section/document-processing/documents-expiry",documents_expiry_nl="https://docs.docbits.com/admin-section/settings/document-processing/documents-expiry",documents_expiry_it="https://docs.docbits.com/italian/admin-section/settings/document-processing/documents-expiry",supplier_policy_and_privacy_en="https://docs.docbits.com/admin-section/settings/supplier-setting",supplier_policy_and_privacy_de="https://docs.docbits.com/deutsch/admin-section/settings/lieferanten-einstellungen",supplier_policy_and_privacy_es="https://docs.docbits.com/espanol/admin-section/settings/supplier-setting",supplier_policy_and_privacy_fr="https://docs.docbits.com/french/admin-section/settings/supplier-settings",supplier_policy_and_privacy_nl="https://docs.docbits.com/admin-section/settings/supplier-setting",supplier_policy_and_privacy_it="https://docs.docbits.com/italian/admin-section/settings/impostazione-del-fornitore",supplier_group_mapping_en="https://docs.docbits.com/admin-section/settings/supplier-setting",supplier_group_mapping_de="https://docs.docbits.com/deutsch/admin-section/settings/lieferanten-einstellungen",supplier_group_mapping_es="https://docs.docbits.com/espanol/admin-section/settings/supplier-setting",supplier_group_mapping_fr="https://docs.docbits.com/french/admin-section/settings/supplier-settings",supplier_group_mapping_nl="https://docs.docbits.com/admin-section/settings/supplier-setting",supplier_group_mapping_it="https://docs.docbits.com/italian/admin-section/settings/impostazione-del-fornitore",supplier_group_en="https://docs.docbits.com/admin-section/settings/supplier-setting",supplier_group_de="https://docs.docbits.com/deutsch/admin-section/settings/lieferanten-einstellungen",supplier_group_es="https://docs.docbits.com/espanol/admin-section/settings/supplier-setting",supplier_group_fr="https://docs.docbits.com/french/admin-section/settings/supplier-settings",supplier_group_nl="https://docs.docbits.com/admin-section/settings/supplier-setting",supplier_group_it="https://docs.docbits.com/italian/admin-section/settings/impostazione-del-fornitore",field_validation_en="https://docs.docbits.com/readme-1/validation-screen",field_validation_de="https://docs.docbits.com/deutsch/readme-1/validierungsbildschirm",field_validation_es="https://docs.docbits.com/espanol/readme-1/pantalla-de-validacion",field_validation_fr="https://docs.docbits.com/french/readme-1/ecran-de-validation",field_validation_nl="https://docs.docbits.com/readme-1/validation-screen",field_validation_it="https://docs.docbits.com/italian/readme-1/schermo-di-validazione",document_flow_en="https://docs.docbits.com/readme-1/validation-screen#document-flow",document_flow_de="https://docs.docbits.com/deutsch/readme-1/validierungsbildschirm",document_flow_es="https://docs.docbits.com/espanol/readme-1/pantalla-de-validacion",document_flow_fr="https://docs.docbits.com/french/readme-1/ecran-de-validation",document_flow_nl="https://docs.docbits.com/readme-1/validation-screen#document-flow",document_flow_it="https://docs.docbits.com/italian/readme-1/schermo-di-validazione",layout_builder_module_en="https://docs.docbits.com/admin-section/setup/document-types/layout-builder",layout_builder_module_de="https://docs.docbits.com/deutsch/admin-section/setup/document-types/layout-builder",layout_builder_module_es="https://docs.docbits.com/espanol/admin-section/setup/document-types/layout-builder",layout_builder_module_fr="https://docs.docbits.com/french/admin-section/setup/document-types/layout-builder",layout_builder_module_nl="https://docs.docbits.com/admin-section/setup/document-types/layout-builder",layout_builder_module_it="https://docs.docbits.com/italian/admin-section/setup/document-types/layout-builder",tasks_en="https://docs.docbits.com/readme-1/tasks",tasks_de="https://docs.docbits.com/deutsch/readme-1/aufgaben",tasks_es="https://docs.docbits.com/espanol/readme-1/tareas",tasks_fr="https://docs.docbits.com/french/readme-1/taches",tasks_nl="https://docs.docbits.com/readme-1/tasks",tasks_it="https://docs.docbits.com/italian/readme-1/attivita",asn_shipment_dashboard_en="https://docs.docbits.com/readme-1/advance-shipment-dashboard",asn_shipment_dashboard_de="https://docs.docbits.com/deutsch/readme-1/advance-shipment-dashboard",asn_shipment_dashboard_es="https://docs.docbits.com/espanol/readme-1/cuadro-de-mandos-de-envios-anticipados",asn_shipment_dashboard_fr="https://docs.docbits.com/french/readme-1/advance-shipment-dashboard",asn_shipment_dashboard_nl="https://docs.docbits.com/readme-1/advance-shipment-dashboard",asn_shipment_dashboard_it="https://docs.docbits.com/italian/readme-1/dashboard-spedizioni-anticipate",sales_order_detail_en="https://docs.docbits.com/readme-1/advance-shipment-dashboard",sales_order_detail_de="https://docs.docbits.com/deutsch/readme-1/advance-shipment-dashboard",sales_order_detail_es="https://docs.docbits.com/espanol/readme-1/cuadro-de-mandos-de-envios-anticipados",sales_order_detail_fr="https://docs.docbits.com/french/readme-1/advance-shipment-dashboard",sales_order_detail_nl="https://docs.docbits.com/readme-1/advance-shipment-dashboard",sales_order_detail_it="https://docs.docbits.com/italian/readme-1/dashboard-spedizioni-anticipate",page_workflow_en="https://docs.docbits.com/admin-section/workflow",page_workflow_de="https://docs.docbits.com/deutsch/admin-section/workflow",page_workflow_es="https://docs.docbits.com/espanol/admin-section/workflow",page_workflow_fr="https://docs.docbits.com/french/admin-section/workflow",page_workflow_nl="https://docs.docbits.com/admin-section/workflow",page_workflow_it="https://docs.docbits.com/italian/admin-section/workflow",workflow_builder_en="https://docs.docbits.com/admin-section/workflow",workflow_builder_de="https://docs.docbits.com/deutsch/admin-section/workflow",workflow_builder_es="https://docs.docbits.com/espanol/admin-section/workflow",workflow_builder_fr="https://docs.docbits.com/french/admin-section/workflow",workflow_builder_nl="https://docs.docbits.com/admin-section/workflow",workflow_builder_it="https://docs.docbits.com/italian/admin-section/workflow",supplier_dashboard_en="https://docs.docbits.com/readme-1/supplier-portal",supplier_dashboard_de="https://docs.docbits.com/deutsch/readme-1/lieferantenportal",supplier_dashboard_es="https://docs.docbits.com/espanol/readme-1/portal-del-proveedor",supplier_dashboard_fr="https://docs.docbits.com/french/readme-1/portail-fournisseur",supplier_dashboard_nl="https://docs.docbits.com/readme-1/supplier-portal",supplier_dashboard_it="https://docs.docbits.com/italian/readme-1/portale-fornitori",supplier_detail_en="https://docs.docbits.com/readme-1/supplier-portal",supplier_detail_de="https://docs.docbits.com/deutsch/readme-1/lieferantenportal",supplier_detail_es="https://docs.docbits.com/espanol/readme-1/portal-del-proveedor",supplier_detail_fr="https://docs.docbits.com/french/readme-1/portail-fournisseur",supplier_detail_nl="https://docs.docbits.com/readme-1/supplier-portal",supplier_detail_it="https://docs.docbits.com/italian/readme-1/portale-fornitori",purchase_order_en="https://docs.docbits.com/readme-1/purchase-order",purchase_order_de="https://docs.docbits.com/deutsch/readme-1/bestellung",purchase_order_es="https://docs.docbits.com/espanol/readme-1/orden-de-compra",purchase_order_fr="https://docs.docbits.com/french/readme-1/bon-de-commande",purchase_order_nl="https://docs.docbits.com/readme-1/purchase-order",purchase_order_it="https://docs.docbits.com/italian/readme-1/ordine-di-acquisto",purchase_order_detail_en="https://docs.docbits.com/readme-1/purchase-order",purchase_order_detail_de="https://docs.docbits.com/deutsch/readme-1/bestellung",purchase_order_detail_es="https://docs.docbits.com/espanol/readme-1/orden-de-compra",purchase_order_detail_fr="https://docs.docbits.com/french/readme-1/bon-de-commande",purchase_order_detail_nl="https://docs.docbits.com/readme-1/purchase-order",purchase_order_detail_it="https://docs.docbits.com/italian/readme-1/ordine-di-acquisto",invoice_dashboard_en="https://docs.docbits.com/readme-1/invoice-dashboard",invoice_dashboard_de="https://docs.docbits.com/deutsch/readme-1/dashboard-fur-rechnungen",invoice_dashboard_es="https://docs.docbits.com/espanol/readme-1/panel-de-facturacion",invoice_dashboard_fr="https://docs.docbits.com/french/readme-1/tableau-de-bord-des-factures",invoice_dashboard_nl="https://docs.docbits.com/readme-1/invoice-dashboard",invoice_dashboard_it="https://docs.docbits.com/italian/readme-1/dashboard-fatture",invoice_details_en="https://docs.docbits.com/readme-1/invoice-dashboard",invoice_details_de="https://docs.docbits.com/deutsch/readme-1/dashboard-fur-rechnungen",invoice_details_es="https://docs.docbits.com/espanol/readme-1/panel-de-facturacion",invoice_details_fr="https://docs.docbits.com/french/readme-1/tableau-de-bord-des-factures",invoice_details_nl="https://docs.docbits.com/readme-1/invoice-dashboard",invoice_details_it="https://docs.docbits.com/italian/readme-1/dashboard-fatture",shipment_order_dashboard_en="https://docs.docbits.com/readme-1/shipment-order-dashboard",shipment_order_dashboard_de="https://docs.docbits.com/deutsch/readme-1/shipment-order-dashboard",shipment_order_dashboard_es="https://docs.docbits.com/espanol/readme-1/shipment-order-dashboard",shipment_order_dashboard_fr="https://docs.docbits.com/french/readme-1/shipment-order-dashboard",shipment_order_dashboard_nl="https://docs.docbits.com/readme-1/shipment-order-dashboard",shipment_order_dashboard_it="https://docs.docbits.com/italian/readme-1/dashboard-degli-ordini-di-spedizione";function getLink(name){const lang_code=quasar_src_plugins_storage_LocalStorage_js__WEBPACK_IMPORTED_MODULE_0__.A.getItem("selected_language");let link_name=name;if(!link_name)return"https://docs.docbits.com/";try{return link_name+="de"==lang_code?"_de":"es-es"==lang_code?"_es":"fr"==lang_code?"_fr":"nl"==lang_code?"_nl":"it"==lang_code?"_it":"_en",eval(link_name)}catch(error){return eval("dashboard")}}},18453:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});const a={methods:{isCombinationKey(e){const t=e.altKey;return Boolean(t)},getCombinationKey(e){if(!e)return"alt";const t=e.altKey;return Boolean(t)?"alt":""},getAddRowKeyCodes(){const e=[107,187];return e}}}},153:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});const a={methods:{getSAFieldsDef(){const e={ul_g:{type:"textbox",coordinates:"0.019938650306748466,0.4453227931488801,0.12269938650306748,0.4888010540184453"},ul_f:{type:"textbox",coordinates:"0.02147239263803681,0.5032938076416338,0.12269938650306748,0.5401844532279315"},ul_e:{type:"textbox",coordinates:"0.019938650306748466,0.5599472990777339,0.12423312883435583,0.6034255599472991"},ul_d:{type:"textbox",coordinates:"0.01687116564417178,0.6245059288537549,0.12269938650306748,0.6521739130434783"},ul_c:{type:"textbox",coordinates:"0.018404907975460124,0.6640316205533597,0.12423312883435583,0.7022397891963109"},ul_b1:{type:"textbox",coordinates:"0.019938650306748466,0.7167325428194994,0.12576687116564417,0.758893280632411"},ul_b:{type:"textbox",coordinates:"0.01687116564417178,0.7733860342555995,0.12269938650306748,0.8063241106719368"},ul_y:{type:"textbox",coordinates:"0.018404907975460124,0.8168642951251647,0.12423312883435583,0.847167325428195"},ul_a:{type:"textbox",coordinates:"0.018404907975460124,0.8537549407114624,0.12576687116564417,0.8880105401844532"},l_la_a:{type:"textbox",coordinates:"0.018666666666666668,0.9003359462486002,0.12533333333333332,0.93505039193729"},l_la_z:{type:"textbox",coordinates:"0.018666666666666668,0.948488241881299,0.12533333333333332,0.9832026875699889"},ur_t:{type:"textbox",coordinates:"0.6831144555214724,0.22793148880105402,0.7699386503067485,0.25823451910408435"},ur_h:{type:"textbox",coordinates:"0.6846481978527608,0.27140974967061926,0.7730061349693251,0.30171277997364954"},ur_k:{type:"textbox",coordinates:"0.6794478527607362,0.40843214756258234,0.7638036809815951,0.4426877470355731"},ur_g:{type:"textbox",coordinates:"0.6794478527607362,0.45454545454545453,0.7668711656441718,0.4874835309617918"},ur_f:{type:"textbox",coordinates:"0.6779141104294478,0.5046113306982872,0.7668711656441718,0.5362318840579711"},ur_e:{type:"textbox",coordinates:"0.6794478527607362,0.5638998682476943,0.7668711656441718,0.6007905138339921"},ur_d:{type:"textbox",coordinates:"0.6779141104294478,0.6231884057971014,0.7684049079754601,0.6521739130434783"},ur_c:{type:"textbox",coordinates:"0.6809815950920245,0.6640316205533597,0.7699386503067485,0.696969696969697"},ur_b1:{type:"textbox",coordinates:"0.6809815950920245,0.7193675889328063,0.7699386503067485,0.7562582345191041"},ur_b:{type:"textbox",coordinates:"0.6809815950920245,0.7720685111989459,0.7714723926380368,0.8010540184453228"},ur_y:{type:"textbox",coordinates:"0.6794478527607362,0.8155467720685112,0.7684049079754601,0.8432147562582345"},ur_a:{type:"textbox",coordinates:"0.6809815950920245,0.855072463768116,0.7684049079754601,0.8840579710144928"},r_la_a:{type:"textbox",coordinates:"0.6807980049875312,0.8956916099773242,0.7680798004987531,0.9328054138321995"},r_la_z:{type:"textbox",coordinates:"0.6845386533665836,0.9455782312925171,0.7718204488778054,0.9804244614512472"},la_htv:{type:"textbox",coordinates:"0.8819018404907976,0.11725955204216074,0.9739263803680982,0.14888010540184454"},la_hth:{type:"textbox",coordinates:"0.8895705521472392,0.17786561264822134,0.9754601226993865,0.20816864295125165"},la_t:{type:"textbox",coordinates:"0.8880368098159509,0.22924901185770752,0.9739263803680982,0.2608695652173913"},la_h:{type:"textbox",coordinates:"0.8911042944785276,0.2779973649538867,0.9754601226993865,0.3069828722002635"},la_g:{type:"textbox",coordinates:"0.8880368098159509,0.45718050065876153,0.9769938650306749,0.4888010540184453"},la_f:{type:"textbox",coordinates:"0.8871021855828221,0.5032938076416338,0.9769938650306749,0.5362318840579711"},la_e:{type:"textbox",coordinates:"0.8871021855828221,0.5625823451910409,0.9769938650306749,0.5955204216073782"},la_d:{type:"textbox",coordinates:"0.8865030674846626,0.6231884057971014,0.9754601226993865,0.6534914361001317"},la_c:{type:"textbox",coordinates:"0.8886359279141104,0.6640316205533597,0.9769938650306749,0.7009222661396575"},la_b1:{type:"textbox",coordinates:"0.8880368098159509,0.7180500658761528,0.9785276073619632,0.7562582345191041"},la_b:{type:"textbox",coordinates:"0.8865030674846626,0.7707509881422925,0.9769938650306749,0.8050065876152833"},la_a:{type:"textbox",coordinates:"0.8865030674846626,0.8985507246376812,0.9769938650306749,0.930171277997365"},la_z:{type:"textbox",coordinates:"0.8880368098159509,0.9472990777338604,0.9785276073619632,0.9802371541501976"}};return e},getSAFields(){const e=["ul_g","ul_f","ul_e","ul_d","ul_c","ul_b1","ul_b","ul_y","ul_a","l_la_a","l_la_z","ur_t","ur_h","ur_k","ur_g","ur_f","ur_e","ur_d","ur_c","ur_b1","ur_b","ur_y","ur_a","r_la_a","r_la_z","la_htv","la_hth","la_t","la_h","la_g","la_f","la_e","la_d","la_c","la_b1","la_b","la_a","la_z"];return e},getArticleNumberfields(){const e=["fusslange_o_checkbox","fusslange_m_checkbox","farbe","tbp_checkbox","tbb_checkbox","tbe_checkbox","tbs_checkbox","trk_checkbox","mfb_checkbox","nob_checkbox","nom_checkbox","seb_checkbox","trk_2_checkbox","l_checkbox","me_1","me_2","me_3","me_ad","me_af","me_ag","me_at","me_atu","me_ath","mp_1","mp_2","mp_3","mp_ad","mp_af","mp_ag","mp_at","mp_atu","mp_ath","mc_1","mc_2","mc_3","mc_ad","mc_af","mc_ag","mc_at","mc_atu","mc_ath","mf_1","mf_2","mf_3","mf_ad","mf_af","mf_ag","mf_at","mf_atu","mf_ath"];return e},getFuzzyFields(){const e={customer_number:{fuzzy_field:"supplier:supplier_name"},absender:{fuzzy_field:"supplier:zip_code"},inhaber:{fuzzy_field:"supplier:supplier_number"},adresse:{fuzzy_field:"supplier:adresse"},telefon:{fuzzy_field:"supplier:town_city"}};return e},getMabeFields(){const e=[["vorn","","","vorn","la_htv"],["hinten","","ur_t","hinten","la_hth"],["lT","","ur_h","lT","la_t"],["hT","","ur_k","hT","la_h"],["cG","ul_g","ur_g","cG","la_g"],["cF","ul_f","ur_f","cF","la_f"],["cE","ul_e","ur_e","cE","la_e"],["cD","ul_d","ur_d","cD","la_d"],["cC","ul_c","ur_c","cC","la_c"],["cB1","ul_b1","ur_b1","cB1","la_b1"],["cB","ul_b","ur_b","cB","la_b"],["cY","ul_y","ur_y","cY",""],["cA","ul_a","ur_a","cA",""],["lA","l_la_a","r_la_a","lA","la_a"],["lZ","l_la_z","r_la_z","lZ","la_z"]];return e},getFieldsMeta(){return[{name:"ma_1",type:"checkbox",is_readonly:!1},{name:"ma_2",type:"checkbox",is_readonly:!1},{name:"ma_3",type:"checkbox",is_readonly:!0},{name:"ma_ad",type:"checkbox",is_readonly:!1},{name:"ma_af",type:"checkbox",is_readonly:!0},{name:"ma_ag",type:"checkbox",is_readonly:!0},{name:"ma_atu",type:"checkbox",is_readonly:!0},{name:"ma_at",type:"checkbox",is_readonly:!0},{name:"ma_ath",type:"checkbox",is_readonly:!0},{name:"db_1",type:"checkbox",is_readonly:!1},{name:"db_2",type:"checkbox",is_readonly:!1},{name:"db_3",type:"checkbox",is_readonly:!0},{name:"db_ad",type:"checkbox",is_readonly:!1},{name:"db_af",type:"checkbox",is_readonly:!0},{name:"db_ag",type:"checkbox",is_readonly:!1},{name:"db_atu",type:"checkbox",is_readonly:!1},{name:"db_at",type:"checkbox",is_readonly:!1},{name:"db_ath",type:"checkbox",is_readonly:!0},{name:"mm_1",type:"checkbox",is_readonly:!1},{name:"mm_2",type:"checkbox",is_readonly:!1},{name:"mm_3",type:"checkbox",is_readonly:!0},{name:"mm_ad",type:"checkbox",is_readonly:!1},{name:"mm_af",type:"checkbox",is_readonly:!0},{name:"mm_ag",type:"checkbox",is_readonly:!1},{name:"mm_atu",type:"checkbox",is_readonly:!1},{name:"mm_at",type:"checkbox",is_readonly:!1},{name:"mm_ath",type:"checkbox",is_readonly:!0},{name:"stbb_checkbox",type:"checkbox",is_readonly:!1,translation_key:"stbb_checkbox"},{name:"snob_checkbox",type:"checkbox",is_readonly:!1,translation_key:"snob_checkbox"},{name:"mm_nob_checkbox",type:"checkbox",is_readonly:!1,translation_key:"mm_nob_checkbox"},{name:"mm_spb_checkbox",type:"checkbox",is_readonly:!1,translation_key:"mm_spb_checkbox"},{name:"mbs_checkbox",type:"checkbox",is_readonly:!1,translation_key:"mbs_checkbox"},{name:"fbr_checkbox",type:"checkbox",is_readonly:!1,translation_key:"fbr_checkbox"},{name:"mm_snob_checkbox",type:"checkbox",is_readonly:!1,translation_key:"mm_snob_checkbox"}]},getAllMediFields(){const e=["customer_number","versandanschrift","absender","datum","inhaber","komission","adresse","menge","telefon","fusslange_o","fusslange_m","farbe","hohe","taille","sonderwunsche","la_htv","la_hth","la_t","la_h","ul_g","ur_g","la_g","ul_f","ur_f","la_f","ul_e","ur_e","la_e","ul_d","ur_d","la_d","ul_c","ur_c","la_c","ul_b1","ur_b1","la_b1","ul_b","ur_b","la_b","ul_y","ur_y","ul_a","ur_a","l_la_a","r_la_a","la_a","l_la_z","r_la_z","la_z"];return e}}}},64471:(e,t,l)=>{"use strict";l.d(t,{A:()=>p});var a=l(61758),o=l(38734);let i,s,n,r,d,u;const c=[],p=(0,a.pM)({data(){return{allowColumSorting:(0,o.KR)(!0)}},methods:{initTableColumnResize(e){setTimeout((()=>{const t="#"+e,l=document.querySelector(t);if(!l)return;const a=l.querySelector("table");a&&this.resizableGrid(a)}),1e3)},resizableGrid(e){const t=e.getElementsByTagName("tr")[0],l=t?t.children:void 0;if(!l)return;const a=e.offsetHeight;for(let o=0;o<l.length;o++)u=this.createDiv(a),c.push(u),l[o].appendChild(u),l[o].style.position="relative",this.setListeners()},setListeners(){u.addEventListener("mousedown",this.mousedownListener),u.addEventListener("mouseover",(function(e){e.target.classList.toggle("active-border-right-2px")})),u.addEventListener("mouseout",(function(e){e.target.classList.toggle("active-border-right-2px")})),document.addEventListener("mouseup",this.mouseUpListener)},createDiv(e){const t=document.createElement("div");return t.style.top="0",t.style.right="0",t.style.width="5px",t.style.position="absolute",t.style.cursor="col-resize",t.style.userSelect="none",t.style.height=e+"px",t},paddingDiff(e){if("border-box"==this.getStyleVal(e,"box-sizing"))return 0;const t=this.getStyleVal(e,"padding-left"),l=this.getStyleVal(e,"padding-right");return parseInt(t)+parseInt(l)},getStyleVal(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)},mousedownListener(e){if(this.allowColumSorting=!1,s=e.target.parentElement,n=s.nextElementSibling,i=e.pageX,s&&n&&i){const e=this.paddingDiff(s);r=s.offsetWidth-e,n&&(d=n.offsetWidth-e),document.addEventListener("mousemove",this.mouseMoveListener)}},mouseMoveListener(e){if(s){const t=e.pageX-i;n&&t>0&&(n.style.width=d-t+"px",n.style.minWidth=d-t+"px"),s.style.width=r+t+"px",s.style.minWidth=r+t+"px"}},mouseUpListener(e){this.allowColumSorting=!0,document.removeEventListener("mousemove",this.mouseMoveListener),s=void 0,n=void 0,i=void 0,d=void 0,r=void 0},resetResize(){c&&0!=c.length&&(c.forEach((e=>{var t;e.removeEventListener("mousedown",this.mousedownListener),null===(t=e.parentElement)||void 0===t||t.removeChild(e)})),c.length=0,document.removeEventListener("mouseup",this.mouseUpListener),document.removeEventListener("mousemove",this.mouseMoveListener),this.allowColumSorting=!0)},resetAndReInitColumnResize(e){this.resetResize(),this.initTableColumnResize(e)}}})},59020:(e,t,l)=>{"use strict";l.d(t,{A:()=>p});var a=l(45022),o=l(68450),i=l(36801),s=l(11470),n=l(73937),r=l(46162),d=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const u={"/register":"register-","/":"login-"},c="after_login_route",p={methods:{getStatusByRoute(e){let t="login";return u.hasOwnProperty(e)&&""!==u[e]&&(t=u[e]),t},setDashboardAsPath(){a.A.set(c,"/dashboard")},setScanAsPath(){a.A.set(c,"/directscan")},getPathFromStorage(){const e=a.A.getItem(c);let t=e;return a.A.has(c)&&null!==e&&""!==e||(t="/directscan"),a.A.remove(c),t},getPathRedirect(){const e="go_to_apps";try{const e=(0,i.PL)("USER_SELECTED_APPS"),t=JSON.parse(e);if(this.onlyCurrentAppSelected(t,"doc2scan"))return"go_to_scan";if(this.onlyCurrentAppSelected(t,"doc2"))return"go_to_dashboard";if(this.onlyCurrentAppSelected(t,"workflow"))return"go_to_workflow"}catch(t){logInfo(t)}return e},savePath(e){"go_to_scan"===e&&this.setScanAsPath(),"go_to_dashboard"===e&&this.setDashboardAsPath()},onlyCurrentAppSelected(e,t){return!(0,o.dd)(e)&&!(!e.hasOwnProperty(t)||!0!==e[t])},isAnyAppSelected(e){if((0,o.dd)(e))return!1;let t=!1;for(const[l,a]of Object.entries(e))!0===a&&(t=!0);return t},isOAuthLoginRoute(e){return"/oauth/login"==e.$route.path},redirectForOAuthLogin(){return d(this,void 0,void 0,(function*(){const e=(yield s.jD.getToken()).replace("Bearer ",""),t=(0,n.Ky)("org_id"),l=r.FH.insight_url+"/sso/polydocs/"+t+"?code="+e;window.open(l)}))},getLoginSource(){const e=a.A.getItem("login_source");return a.A.has("login_source")&&null!==e?String(e.toLowerCase()):""},afterLoginRedirect(e){try{this.isOAuthLoginRoute(e)&&this.redirectForOAuthLogin();let t=this.getPathFromStorage();e.$route.hasOwnProperty("query")&&e.$route.query.hasOwnProperty("redirect")&&(t=e.$route.query.redirect),e.$router.push("/dashboard")}catch(t){logInfo(t)}},getSelectedApps(){const e=(0,i.PL)("USER_SELECTED_APPS");return(0,o.z)(e)||void 0===e||""===e||(0,o.dd)(e)?{}:JSON.parse(e)},saveSelectedAppsInPreference(e,t){return d(this,void 0,void 0,(function*(){try{const l=this.getSelectedApps();l[e]=t;const a="USER_SELECTED_APPS",o=JSON.stringify(l);yield(0,i.qf)(a,o),(0,i.mi)(a,o)}catch(l){throw l}}))}}}},73178:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(45022);const o={methods:{getLoggedinUserDetails(){return a.A.getItem("user_details")},getLoggedinUserId(){const e=this.getLoggedinUserDetails();return Number(e.id)}}}},30739:(e,t,l)=>{"use strict";function a(e){let t=!0;try{new RegExp(e)}catch(l){t=!1}return t}function o(e){const t=e.replace(/[^\d]/g,"");return t}function i(e){let t=!0;try{const l=/^[0-9,.]+$/;if(!l.test(e))return void(t=!1)}catch(l){t=!1}return t}l.d(t,{H2:()=>o,IN:()=>a,bA:()=>i})},40057:(e,t,l)=>{"use strict";l.d(t,{m:()=>h});var a=l(68450),o=l(55987),i=l(87374),s=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};class n{constructor(){this.field_model=[],this.field_config_model=[],this.field_name="",this.mixins=Object.assign(o.A.methods,i.A.methods)}init(e,t){return s(this,void 0,void 0,(function*(){return this.field_model=e,this.field_config_model=t,this.field_name=this.field_model.name,yield this.validate()}))}validate(){return s(this,void 0,void 0,(function*(){const e={is_valid:!1,input_error:""};return Promise.resolve(e)}))}getFieldType(){return this.field_config_model&&this.field_config_model.field_type?String(this.field_config_model.field_type.toLowerCase()):""}}var r=l(21279),d=l(83319),u=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const c=(0,d.yM)();(0,d.uL)();class p extends n{validate(){return u(this,void 0,void 0,(function*(){let e=!0,t="";const l=this.field_model.formatted_value;if(!l||""==l)return Promise.resolve({is_valid:e,input_error:t});const o=this.getFieldType();switch(o){case"date":const a=yield r.v.format(l);""!=a&&null!=a||(e=!1,t="invalid_input_date");break;case"amount":({is_valid:e,input_error:t}=yield this.mixins.validateAmount(l));break}return e&&(this.field_config_model.enforce_list_of_values&&({is_valid:e,input_error:t}=yield this.mixins.validateListOfValues(l,c.getListOfValues(this.field_config_model.list_of_values))),this.mixins.isInt(this.field_config_model.length)&&({is_valid:e,input_error:t}=yield this.mixins.validateFieldLength(l,this.field_config_model.length)),(0,a.jw)(this.field_config_model.banned_keywords)||({is_valid:e,input_error:t}=yield this.mixins.validateBannedKeywords(l,this.field_config_model.banned_keywords)),this.field_config_model.isFieldArtikelNummber&&({is_valid:e,input_error:t}=yield this.mixins.validateFieldArtikelNummber(l))),Promise.resolve({is_valid:e,input_error:t})}))}}const h=new p},55987:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});const a={"#":{pattern:"[\\d]"}},o=Object.keys(a);o.forEach((e=>{a[e].regex=new RegExp(a[e].pattern)}));const i={amount:function(e){e=e.replace(/\s/g,"");const t=/^-?[0-9.,]+$/;return Promise.resolve(t.test(e))},date_with_mask(e,t){if(void 0===e||null===e||""===e)return!1;let l=!0,o=0;for(let i=0;i<t.length;i++){const s=t[i],n=e[o];if("string"===typeof s&&n===s){o++;continue}const r=a[s];if(!r||!r.hasOwnProperty("regex")||!r.regex.test(n)){l=!1;break}o++}return Promise.resolve(l)}};var s=l(16332),n=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const r={methods:{validateDate(e,t){return n(this,void 0,void 0,(function*(){const l=yield i.date_with_mask(e,t);return{is_valid:l,input_error:"invalid_input_date"}}))},validateAmount(e){return n(this,void 0,void 0,(function*(){const t=yield i.amount(e);return{is_valid:t,input_error:"invalid_input_amount"}}))},validateListOfValues(e,t){return n(this,void 0,void 0,(function*(){const l={is_valid:!0,input_error:"invalid_input_list_of_value"};if(!Array.isArray(t)||0==t.length)return Promise.resolve(l);const a=t.filter((t=>t.includes(e)));return 0==a.length&&(l["is_valid"]=!1),Promise.resolve(l)}))},validateFieldLength(e,t){return n(this,void 0,void 0,(function*(){const l={is_valid:!0,input_error:"invalid_field_length"};return 0!==Number(t)&&e.length!==Number(t)&&(l["is_valid"]=!1),Promise.resolve(l)}))},validateBannedKeywords(e,t){return n(this,void 0,void 0,(function*(){const l={is_valid:!0,input_error:s.i18n.t("banned_keyword_error")};try{t.split(",").forEach((t=>{e.includes(t)&&(l["is_valid"]=!1,l["input_error"]=l["input_error"].replace("*keyword",t))}))}catch(a){logInfo(a)}return Promise.resolve(l)}))},validateFieldArtikelNummber(e){return n(this,void 0,void 0,(function*(){const t={is_valid:!0,input_error:"invalid_item_number"};return e.includes("_")&&(t["is_valid"]=!1),7!=e.length&&(t["is_valid"]=!1,t["input_error"]="must_have_7_characters"),Promise.resolve(t)}))}}}},86366:(e,t,l)=>{"use strict";l.d(t,{VV:()=>a,pj:()=>o});const a={NOTES:"Notes",LABEL:"Label",BUTTON:"Button",CHECK_BOX:"CheckBox",TEXT_INPUT:"TextInput",SECOND_APPROVER:"SecondApprover",DOCUMENT_APPROVER:"DocumentApprover",HORIZONTAL_SEPARATOR:"HorizontalSeparator",EXTRACTED_TABLE_TAB_PANELS:"ExtractedTableTabPanels"},o=(a.CHECK_BOX,a.TEXT_INPUT,[a.TEXT_INPUT,a.BUTTON,a.LABEL,a.CHECK_BOX,a.HORIZONTAL_SEPARATOR,a.DOCUMENT_APPROVER,a.SECOND_APPROVER,a.EXTRACTED_TABLE_TAB_PANELS])},66933:(e,t,l)=>{"use strict";l.d(t,{VV:()=>a});const a={LABEL:"Label",BUTTON:"Button",TEXT_INPUT:"TextInput",CORRECTION_BUTTONS:"CorrectionButtons",HORIZONTAL_SEPARATOR:"HorizontalSeparator",DOCUMENT_APPROVER:"DocumentApprover",SECOND_APPROVER:"SecondApprover",EXTRACTED_TABLE_TAB_PANELS:"ExtractedTableTabPanels"};a.TEXT_INPUT,a.TEXT_INPUT,a.BUTTON,a.LABEL,a.HORIZONTAL_SEPARATOR,a.DOCUMENT_APPROVER,a.SECOND_APPROVER,a.EXTRACTED_TABLE_TAB_PANELS},91486:(e,t,l)=>{"use strict";l.d(t,{E:()=>o,G:()=>a});const a=["low","medium","high"],o=["open","in_progress","done","rejected"]},42963:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var a=l(60521),o=l(76956);const i={methods:{getCalculatorFieldsDef(){const e={};return e["net_amount"]={calculator:!0,calculator_formula:this.generateFormulaForNetAmount("")},e["tax_amount"]={calculator:!0,calculator_formula:this.generateFormulaForTaxAmount("")},e["tax_rate"]={calculator:!0,calculator_formula:this.generateFormulaForTaxRate("")},e["net_amount_2"]={calculator:!0,calculator_formula:this.generateFormulaForNetAmount("_2")},e["tax_amount_2"]={calculator:!0,calculator_formula:this.generateFormulaForTaxAmount("_2")},e["tax_rate_2"]={calculator:!0,calculator_formula:this.generateFormulaForTaxRate("_2")},e},generateFormulaForNetAmount(e){return"[tax_amount"+e+"] * 100 / [tax_rate"+e+"]"},generateFormulaForTaxAmount(e){return"[net_amount"+e+"] * [tax_rate"+e+"] / 100"},generateFormulaForTaxRate(e){return"[tax_amount"+e+"] * 100 / [net_amount"+e+"]"}}};var s=l(4225);const n={mixins:[a.A],methods:{prepareLayoutForTemplate(){const e=i.methods.getCalculatorFieldsDef();for(const t of this.formLayout){let l=0;for(const[a,o]of t.rows.entries()){if(o.fieldType===s.VV.SUB_GROUP){const t=o.rows;for(let l of t)if(e.hasOwnProperty(l.field_name))Object.assign(l,e[l.field_name]),Object.assign(this.formBuilderConfigModel[l.field_name],e[l.field_name]);else if(e.hasOwnProperty(l.parent_field_name)){let t=JSON.parse(JSON.stringify(e[l.parent_field_name]));const a=this.getStringLastPart(l.field_name,"__");t.calculator_formula=t.calculator_formula.split("]").join("__"+a+"]"),Object.assign(l,t),Object.assign(this.formBuilderConfigModel[l.field_name],t)}}else e.hasOwnProperty(o.field_name)&&(Object.assign(o,e[o.field_name]),Object.assign(this.formBuilderConfigModel[o.field_name],e[o.field_name]));l++,(void 0!==o.visibile&&!1===o.visibile||o.is_hidden)&&l--}t.is_hidden=l<1}},isButtonToggleDisable(e){return!!o.B2.includes(e)},calculateRowColSize(e){return e>1?100/e:100}}}},10739:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var a=l(38734),o=l(16332);const i={draggingLabel:"",data(){return{tableColumnsOriginal:[],draggingLabelKey:"",indexToMove:-1,oldIndex:"",tableColumns:"",tableScrollInterval:null,lastSwappedIndex:-1,lastX:-1,tableId:"",tableRef:"",isDragging:(0,a.KR)(!1),isColumnDragging:(0,a.KR)(!1),preventDragDropColumns:[]}},computed:{getIsDragging(){return!!this.isDragging}},methods:{canDragDropColumn(e){if(e)return!this.preventDragDropColumns.includes(e.name)},removeScrollDiv(){document.getElementById(this.tableId+"-scroll-right").remove(),document.getElementById(this.tableId+"-scroll-left").remove()},generateScrollDiv(){const e=document.getElementById(this.tableId),t=document.createElement("div");t.classList.add("table-scroll-area-left"),t.id=this.tableId+"-scroll-left";const l=document.createElement("div");l.classList.add("table-scroll-area-right"),l.id=this.tableId+"-scroll-right",t.addEventListener("dragenter",(e=>{e.preventDefault(),this.scrollDragEnter(-2)})),t.addEventListener("dragleave",(e=>{e.preventDefault(),this.scrollDragLeave()})),l.addEventListener("dragenter",(e=>{e.preventDefault(),this.scrollDragEnter(2)})),l.addEventListener("dragleave",(e=>{e.preventDefault(),this.scrollDragLeave()})),e.append(t),e.append(l)},setPreventDragDropColumns(e){e&&(this.preventDragDropColumns=e)},initailizeDragColumnsById(e){this.tableId=e},initailizeDragColumnsByRef(e){this.tableRef=e;const t=this.tableRef.$el;this.tableId=t.id},setDrggingLabelKey(e){this.draggingLabelKey=e},getDraggingLabelKey(){const e=this.draggingLabelKey;return e||"label"},initDragDropColumns(e,t="label",l=[]){this.initailizeDragColumnsById(e),this.setDrggingLabelKey(t),this.setPreventDragDropColumns(l)},handleDrop(e,t){this.scrollDragLeave(),document.getElementsByTagName("html")[0].classList.remove("draggable-column");const l=new CustomEvent(this.tableId+"-column-drop",{detail:this.tableColumns});document.dispatchEvent(l)},scrollDragEnter(e){this.tableScrollInterval=setInterval((()=>{const t=document.getElementById(this.tableId)?.querySelector("div");t&&(t.scrollLeft+=e)}))},scrollDragLeave(){clearInterval(this.tableScrollInterval)},onDragStart(e,t,l){this.isColumnDragging=!0,this.tableColumnsOriginal=JSON.stringify(t),e.dataTransfer.effectAllowed="move",this.indexToMove=l,this.oldIndex=l,this.tableColumns=t,e.currentTarget.classList.add("dragging-column"),this.isDragging=!0,e.dataTransfer.setData("text/plain",JSON.stringify({tableColumns:this.tableColumns,indexToMove:this.indexToMove,tableId:this.tableId})),localStorage.setItem("dragInfo",JSON.stringify({tableId:this.tableId})),document.getElementsByTagName("html")[0].classList.add("draggable-cursor");const a=document.createElement("div");if(a.id="ghost-element",a.classList.add("font-size-14"),document.body.classList.add("overflow-hidden"),a.style.cursor="move",!this.$options.draggingLabel){const e=this.tableColumns[this.indexToMove][this.getDraggingLabelKey()];e&&(this.$options.draggingLabel=o.i18n.t(e))}a.innerHTML='<span class="material-icons" style="font-size: 18px">drag_indicator</span>'+this.$options.draggingLabel,document.body.appendChild(a),e.dataTransfer.setDragImage(a,70,30),setTimeout((()=>{document.body.removeChild(a),document.body.classList.remove("overflow-hidden"),this.generateScrollDiv()}),1),window.addEventListener("dragend",this.onDragEnd)},onDragEnd(e){if(null==this.indexToMove||void 0==this.indexToMove)return;this.scrollDragLeave(),localStorage.removeItem("dragInfo"),this.isColumnDragging=!1;let t=e.target.parentNode;t.getBoundingClientRect();window.removeEventListener("dragend",this.onDragEnd);let l=this.tableColumns[this.indexToMove];if(l){if(document.getElementsByTagName("html")[0].classList.remove("draggable-cursor"),document.getElementsByClassName("dragging-column")[0]?.classList?.remove("dragging-column"),this.isDragging=!1,this.tableColumnsOriginal!=JSON.stringify(this.tableColumns)){const e=new CustomEvent(this.tableId+"-column-drop",{detail:this.tableColumns});document.dispatchEvent(e)}this.lastSwappedIndex=-1,this.indexToMove=-1,this.$options.draggingLabel="",this.removeScrollDiv()}},onDragOver(e,t){if(!this.canDragDropColumn(this.tableColumns[t])||!this.isColumnDragging)return;let l=localStorage.getItem("dragInfo");if(null==l)return;{l=JSON.parse(l);const t=l.tableId,a=e.target.closest(".q-table__container");if(a&&a.id!=t)return}if(e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move",document.getElementsByTagName("html")[0].classList.remove("draggable-cursor"),this.lastX==e.clientX)return;if(this.lastSwappedIndex>-1){const l=this.lastSwappedIndex-t;if(-1==l&&this.lastX>e.clientX)return void(this.lastX=e.clientX);if(1==l&&this.lastX<e.clientX)return void(this.lastX=e.clientX)}let a=this.tableColumns[this.indexToMove];t!=this.indexToMove&&(this.tableColumns.splice(this.indexToMove,1),this.tableColumns.splice(t,0,a),this.indexToMove=t,this.lastSwappedIndex=t,this.lastX=e.clientX)},onDragEnter(){this.isDragging=!0},onDragLeave(){this.isDragging=!1}}}},16588:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(18453);const o={methods:{keyDownEvent(e){try{const t=a.A.methods.isCombinationKey(e);if(81===e.keyCode&&!0===t){e.preventDefault();const t=new CustomEvent("dashboard_refresh_data",{});return void document.dispatchEvent(t)}if(75===e.keyCode&&!0===t){e.preventDefault();const t=new CustomEvent("open_keyboard_shortcuts",{});return void document.dispatchEvent(t)}}catch(e){logInfo(e)}}}}},28684:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});const a={methods:{getBorderOfElement(e,t){let l="";return t&&t.hasOwnProperty(e.name)?(l=t[e.name].right_border?" border-right":"",l+=t[e.name].bottom_border?" border-bottom":"",l):(l=e.right_border?" border-right":"",l+=e.bottom_border?" border-bottom":"",l)}}}},64500:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});var a=l(45022),o=l(11470);const i=document.querySelector.bind(document),s="IMAGE_FIELDS_SPLITTER",n={methods:{zoomOut(){if(this.imageWidth>200){this.imageWidth=this.imageWidth-100;let e=i("#screenshot");setTimeout((()=>{this.imageHeight=e.offsetHeight,this.refreshCanvas()}),10)}},zoomIn(){this.imageWidth=this.imageWidth+100;let e=i("#screenshot");setTimeout((()=>{this.imageHeight=e.offsetHeight,this.refreshCanvas()}),10)},zoom(e){const t=window.screen.width*e;if(this.imageWidth>200){this.imageWidth=t,logInfo(window.screen.width),logInfo(this.imageWidth);let e=i("#screenshot");setTimeout((()=>{this.imageHeight=e.offsetHeight,this.refreshCanvas()}),10)}},saveSplitterValueInStorage(){a.A.set("image_field_splitter",this.imageFieldSplitter)},getSplitterValueFromStorage(){this.imageFieldSplitter=a.A.getItem("image_field_splitter"),this.imageFieldSplitter||(this.imageFieldSplitter=26)},async getSplitterValue(){try{const e=await o.jD.getOrgPreference({key:s});if(!e)return;this.imageFieldSplitter=e}catch(e){logError("something went wrong while getSplitterValue",e)}},async saveSplitterValue(){try{await o.jD.setOrgPreference({key:s,value:this.imageFieldSplitter})}catch(e){logError("something went wrong while saveSplitterValue",e)}}}}},84050:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var a=l(18453);const o=["E","G","R","S","W","K","T","+","F","ArrowDown","ArrowRight"],i={methods:{fixedShortCutKeyList(){const e=a.A.methods.getCombinationKey(),t=o;return o.forEach((function(l,a){t[a]=e.toUpperCase()+l.toUpperCase()})),t},keyDownEvent(e){try{const t=a.A.methods.isCombinationKey(e);if("Tab"===e.key)return void this.TabKeyHandler(e);if("Enter"===e.key)return void this.EnterKeyHandler(e);if(69===e.keyCode&&!0===t)return e.preventDefault(),void this.clickExport();if(70===e.keyCode&&!0===t)return e.preventDefault(),void this.focusFirstFieldOnGroup();if(71===e.keyCode&&!0===t)return e.preventDefault(),void this.selectFieldFromNextGroup(e);if(82===e.keyCode&&!0===t)return e.preventDefault(),void this.rejectDocument();if(83===e.keyCode&&!0===t)return e.preventDefault(),void this.saveData();if(84===e.keyCode&&!0===t)return void this.jumpToTable(e);if(87===e.keyCode&&!0===t)return e.preventDefault(),void this.exportWithSonderWunsch();const l=a.A.methods.getAddRowKeyCodes();if(l.includes(e.keyCode)&&!0===t)return e.preventDefault(),void this.triggerTableAddRow(e);e.keyCode&&this.focusOnGroupFromMap(e)}catch(e){logInfo(e)}},EnterKeyHandler(e){e.preventDefault();const t=this.getFocusedFieldName();if(!t)return;const l=this.findNextField(t);l&&this.focusOnField(l,!0,!0)},TabKeyHandler(e){e.preventDefault();const t=this.getFocusedFieldName();t&&this.validateAndSelectNextInvalidField(t)},getFocusedFieldName(){let e="";const t=this.getActiveElement();return t?(e=this.getNameFromDataAttribute(t),e||(e=this.getNameFromChildTypeAttribute(t)),e):e},getNameFromDataAttribute(e){let t="";return e.hasAttribute("data-name")?(t=e.getAttribute("data-name"),t):t},getNameFromChildTypeAttribute(e){let t="";return e.hasAttribute("child_type")?(t=e.getAttribute("id"),t):t},getActiveElement(){let e=document.hasFocus()&&document.activeElement!==document.body&&document.activeElement!==document.documentElement&&document.activeElement||null;return e}}}},8903:(e,t,l)=>{"use strict";l.d(t,{EO:()=>i,K_:()=>s,Ul:()=>o,dA:()=>a});const a=["approved_stamp_de","rejected_stamp_de","approved_stamp_en","rejected_stamp_en"],o="annotation/annotation_stamps/",i="approved_stamp_de",s=".svg"},86224:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var a=l(18453);const o=["E","G","R","S","W","K","T","+","F","ArrowDown","ArrowRight"],i={methods:{fixedShortCutKeyList(){const e=a.A.methods.getCombinationKey(),t=o;return o.forEach((function(l,a){t[a]=e.toUpperCase()+l.toUpperCase()})),t},keyDownEvent(e){try{const t=a.A.methods.isCombinationKey(e);if("Tab"===e.key)return void this.TabKeyHandler(e);if("Enter"===e.key)return void this.EnterKeyHandler(e);if(69===e.keyCode&&!0===t)return e.preventDefault(),void this.clickExport();if(70===e.keyCode&&!0===t)return e.preventDefault(),void this.focusFirstFieldOnGroup();if(71===e.keyCode&&!0===t)return e.preventDefault(),void this.selectFieldFromNextGroup(e);if(82===e.keyCode&&!0===t)return e.preventDefault(),void this.rejectDocument();if(83===e.keyCode&&!0===t)return e.preventDefault(),void this.saveData();if(84===e.keyCode&&!0===t)return void this.jumpToTable(e);if(87===e.keyCode&&!0===t)return e.preventDefault(),void this.exportWithSonderWunsch();const l=a.A.methods.getAddRowKeyCodes();if(l.includes(e.keyCode)&&!0===t)return e.preventDefault(),void this.triggerTableAddRow(e);e.keyCode&&this.focusOnGroupFromMap(e)}catch(e){logInfo(e)}},EnterKeyHandler(e){e.preventDefault();const t=this.getFocusedFieldName();t&&this.findNextField(t)},TabKeyHandler(e){e.preventDefault();const t=this.getFocusedFieldName();t&&this.validateAndSelectNextInvalidField(t)},getFocusedFieldName(){let e="";const t=this.getActiveElement();return t?(e=this.getNameFromDataAttribute(t),e||(e=this.getNameFromChildTypeAttribute(t)),e):e},getNameFromDataAttribute(e){let t="";return e.hasAttribute("data-name")?(t=e.getAttribute("data-name"),t):t},getNameFromChildTypeAttribute(e){let t="";return e.hasAttribute("child_type")?(t=e.getAttribute("id"),t):t},getActiveElement(){let e=document.hasFocus()&&document.activeElement!==document.body&&document.activeElement!==document.documentElement&&document.activeElement||null;return e}}}},31191:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});document.querySelector.bind(document);const a={methods:{isMultiScreen(){return!("isExtended"in window.screen)||!!window.screen.isExtended},async openWindowOnSelectedMonitor(e,t){if(this.isMultiScreen())if("getScreenDetails"in window){const l=await window.getScreenDetails(),a=l.screens[e];this.external_window=window.open(t,"_blank",`left=${a.availLeft},top=${a.availTop},width=${a.availWidth},height=${a.availHeight}`)}else{const l=screen.width,a=screen.height;let o=0,i=0;1==e&&(o=l),this.external_window=window.open(t,"_blank",`left=${o},top=${i},width=${l},height=${a}`)}},async getMultiScreenDetails(){if(this.isMultiScreen()){const e=await window.getScreenDetails(),t=e.screens.find((e=>e.isPrimary)),l=e.screens.find((e=>e!==t));window.open("https://www.google.com/","_blank",`left=${l.availLeft},top=${l.availTop},width=${l.availWidth},height=${l.availHeight}`)}}}}},4924:(e,t,l)=>{"use strict";l.d(t,{A:()=>d});l(10239);var a=l(38734),o=(l(45022),l(11470),l(64233)),i=l(83319),s=l(76956),n=l(96075);const r=document.querySelector.bind(document),d={mixins:[o.A],setup(){const e=(0,i.q3)(),{field_view_mode:t}=storeToRefs(e);return{field_view_mode:t}},data(){return{mousedown:(0,a.KR)(!1),originImgSize:{w:0,h:0,r:0},url:this.cropUrl,posImg:{top:0,left:0},currentSelectedItem:(0,a.KR)(),latestAreaItem:{startX:0,startY:0,endX:0,endY:0},scrollLeft:0,scrollTop:0,moveTempX:0,moveTempY:0,moveCurrentX:0,moveCurrentY:0,temp:0,dragdown:!1,move:!1,imageHeight:0,imageWidth:0,correctionDialog:!1,numberOfAreas:0,oldArea:"",disableImageRowsClick:!1,delay:170,clicks:0,timer:(0,a.KR)(),delay2:(0,a.KR)(170),timer2:(0,a.KR)()}},methods:{addEvents(){this.screenshot.addEventListener("pointerdown",this.startDrag),document.body.addEventListener("click",this.mouseClicked,!0);const e=r(".right_section");e&&e.addEventListener("scroll",this.removeOverlayandLines)},removeEvents(){this.screenshot.removeEventListener("dblclick",this.dblClickToSelect),this.screenshot.removeEventListener("pointerdown",this.startDrag),document.body.removeEventListener("click",this.mouseClicked,!0);const e=r(".right_section");e&&e.removeEventListener("scroll",this.removeOverlayandLines)},initImageArea(){this.marquee=r("#marquee"),this.screenshot=r(".screenshot"),this.boxes=r("#boxes"),this.areas=r("#areas"),this.marquee.classList.add("hide");let e=r("#image_container");this.imageWidth=e.offsetWidth,this.imageHeight=e.offsetHeight,this.viewBox="0 0 "+String(this.imageWidth)+" "+String(this.imageHeight),this.screenshot.addEventListener("dblclick",this.dblClickToSelect),this.screenshot.addEventListener("pointerdown",this.startDrag)},mouseClicked(e){this.removeMagnifier()},mousePosX(e){return e.pageX-this.posImg.left},mousePosY(e){return e.pageY-this.posImg.top},removeMagnifier(){const e=r("#glassBtn");e&&e.classList.remove("glass-active");let t=document.querySelector(".img-magnifier-glass");t&&(t.style.display="none",t.classList.remove("enable-glass"),t.removeEventListener("pointermove",this.moveMagnifier));const l=r("#draw");l&&l.removeEventListener("pointermove",this.moveMagnifier),document.body.classList.remove("active"),this.magnifyGlass=null},initMagnifyGlass(){this.removeOverlayandLines(),this.restrictDrawing();let e=r(".screenshot"),t=document.querySelector(".img-magnifier-glass");if(!t)return;const l=3;t.style.display="block",t.style.backgroundImage="url('"+e.src+"')",t.style.backgroundRepeat="no-repeat",t.style.backgroundSize=e.width*l+"px "+e.height*l+"px";const a=3,o=t.offsetWidth/2,i=t.offsetHeight/2;this.magnifyGlass={Ix:e.offsetLeft,Iy:e.offsetTop,Zw:t.offsetWidth,Zh:t.offsetHeight,w:o,h:i,bw:a,ratio:e.naturalWidth/e.width};const s=r("#draw");s.removeEventListener("pointermove",this.moveMagnifier),t.removeEventListener("pointermove",this.moveMagnifier),s.addEventListener("pointermove",this.moveMagnifier),t.addEventListener("pointermove",this.moveMagnifier)},moveMagnifier(e){const t=3;var l,a,o;let i=document.querySelector(".img-magnifier-glass"),s=r(".screenshot");e.preventDefault(),l=this.getCursorPos(e),a=l.x,o=l.y,a>s.width-this.magnifyGlass.w/t&&(a=s.width-this.magnifyGlass.w/t),a<this.magnifyGlass.w/t&&(a=this.magnifyGlass.w/t),o>s.height-this.magnifyGlass.h/t&&(o=s.height-this.magnifyGlass.h/t),o<this.magnifyGlass.h/t&&(o=this.magnifyGlass.h/t),i.style.left=a-this.magnifyGlass.w+"px",i.style.top=o-this.magnifyGlass.h+"px",i.style.backgroundPosition="-"+(a*t-this.magnifyGlass.w+this.magnifyGlass.bw)+"px -"+(o*t-this.magnifyGlass.h+this.magnifyGlass.bw)+"px"},getCursorPos(e){var t,l=0,a=0;e=e||window.event;let o=r(".screenshot");return t=o.getBoundingClientRect(),l=e.pageX-t.left,a=e.pageY-t.top,l-=window.pageXOffset,a-=window.pageYOffset,{x:l,y:a}},startDrag(e){if(!this.screenshot.classList.contains("cursor-crosshair"))return;let t=0,l=0;if(1===e.button){const t=this.hitTest(e.layerX,e.layerY);return void(t&&(this.rectangles.splice(this.rectangles.indexOf(t),1),this.redraw()))}this.marquee.classList.remove("hide");let a=this.startX=e.layerX,o=this.startY=e.layerY,i="";Object.assign(this.marqueeRect,{startX:a,startY:o,width:l,height:t,connectionId:i}),this.drawRect(this.marquee,this.marqueeRect),"validate"==this.field_view_mode?(window.addEventListener("pointerup",this.stopDragValidate),this.screenshot.addEventListener("pointermove",this.moveDrag)):(this.mouseDownAnnotate(e),window.addEventListener("pointerup",this.endDragAnnotate),this.screenshot.addEventListener("pointermove",this.moveDrag),this.screenshot.addEventListener("mousemove",this.mouseMoveAnnotate))},moveDrag(e){let t=this.startX,l=this.startY,a=e.layerX,o=e.layerY,i=e.layerX,s=e.layerY,n=this.startX-a,r=this.startY-o;n<0&&(n*=-1,a-=n),r<0&&(r*=-1,o-=r);let d="";Object.assign(this.rectCordinate,{startX:t,startY:l,endX:i,endY:s}),Object.assign(this.marqueeRect,{x:a,y:o,width:n,height:r,connectionId:d}),this.drawRect(this.marquee,this.marqueeRect)},stopDragValidate(e){this.marquee.classList.add("hide"),window.removeEventListener("pointerup",this.stopDragValidate),screenshot.removeEventListener("pointermove",this.moveDrag),e.target===this.screenshot&&this.marqueeRect.width&&this.marqueeRect.height&&(this.connectionId&&(this.marqueeRect.connectionId=this.connectionId),this.rectangles.push(Object.assign({},this.marqueeRect)),this.redraw(),this.restrictDrawing(),this.saveOverlayResult())},endDragAnnotate(){window.removeEventListener("pointerup",this.endDragAnnotate),screenshot.removeEventListener("pointermove",this.moveDrag),screenshot.removeEventListener("mousemove",this.mouseMoveAnnotate),this.mouseUpAnnotate()},mouseDownAnnotate(e){this.mousedown=!0;let t=null;if(void 0==this.areas?this.areas=[]:t=this.areas.length>0?this.areas.slice(-1).pop().id+1:1,this.numberOfAreas=t,0!=this.latestAreaItem.startX&&0!=this.latestAreaItem.startY&&!1===this.isRowMode){let l=this.latestAreaItem.startX,a=this.latestAreaItem.startY,o=e.layerX,i=e.layerY,s=o-l,n=i-a;(s<0||n<0)&&(o=l,i=a,l=e.layerX,a=e.layerY,s=o-l,n=i-a);let r={id:t,x:l,y:a,startX:l,startY:a,width:s,height:n,z:0,resizable:!1,opacity:"1",background:this.isRowMode?rowRgbaColorStr:"",areaTag:this.isRowMode?"column":"table",areaType:this.isRowMode?"column":"table",rowId:""};return this.temp=r.id,this.areas.push(r),void(this.latestAreaItem={startX:0,startY:0,endX:0,endY:0})}if(t){let l={id:t,x:this.mousePosX(e),y:this.mousePosY(e),startX:this.mousePosX(e),startY:this.mousePosY(e),width:0,height:0,z:0,resizable:!1,opacity:"1",background:this.isRowMode?rowRgbaColorStr:"",areaTag:this.isRowMode?"column":"table",areaType:this.isRowMode?"column":"table",rowId:""};this.areas.push(l),this.temp=l.id,this.latestAreaItem.startX=this.mousePosX(e),this.latestAreaItem.startY=this.mousePosY(e),this.latestAreaItem.endX=0,this.latestAreaItem.endY=0}},mouseMoveAnnotate(e){this.areas.filter((e=>e.id===this.temp)).map((t=>{let l=e.pageX-this.posImg.left,a=e.pageY-this.posImg.top,o=t.startX-l,i=t.startY-a;o<0&&(o*=-1,l-=o),i<0&&(i*=-1,a-=i),t.x=l,t.y=a,t.width=o,t.height=i})),this.latestAreaItem={startX:0,startY:0,endX:0,endY:0}},mouseUpAnnotate(){this.timer2=setTimeout((()=>{this.mousedown=!1,this.areas=this.areas.filter((e=>e.width>=3&&e.height>=3))}),this.delay2)},changeResizable(e){this.areas.filter((t=>t.id===e)).map((e=>{e.resizable=!0,e.z=100})),this.areas.filter((t=>t.id!==e)).map((e=>{e.resizable=!1,e.z=0}))},deleteSelected(e){this.areas=this.areas.filter((t=>t.id!==e)),this.prepareTableArea()},decideAction(e){let t=e.areaTag,l=e.areaType,a=e.rowId;if(this.currentSelectedItem=e,this.removeExistingConfirmationOverlays(),!0!==this.disableImageRowsClick)if(this.disableSelectionForRow(this.oldArea),"column"===l){this.numberOfAreas=0;let e=r("#screenshot_container"),l=e.querySelectorAll("div.column_background_area");Array.from(l).forEach((e=>{let t=e.style.background.split("100%)");e.style.background=rowRgbaColor+t[1]}));let o=e.querySelectorAll("div.column_outline");Array.from(o).forEach((e=>{e.style.opacity="0.2",e.nextSibling&&(e.nextSibling.style.border="unset")})),this.oldArea=a;let i=r("#input_"+t+"_"+a);if(i){let e=r("#draw_"+t),l=e.querySelector(".select-areas--outline");l.style.opacity="0";let a=document.querySelector("#line_item_table").querySelectorAll("label.active-border-2px");Array.from(a).forEach((e=>{e.classList.remove("active-border-2px")}));let o=e.querySelector(".select-areas--background_area");o.style.border="2px",o.style.borderStyle="solid",o.style.borderColor="#8800ff",i.scrollIntoView(),i.querySelector("label").classList.add("active-border-2px");let s=i.querySelector("label.extraction_method");if(null!=s){let e=i.dataset.columnValue,t=i.dataset.scoreDescription,l={value:e,score:t,selection:o};this.prepareOverlay({detail:l})}}else logError("not mapped")}else{this.numberOfAreas=0;let e=document.getElementById(t);if(e.classList.add("active-table-row"),""!=this.oldArea){let e=document.getElementById(this.oldArea);e.classList.remove("active-table-row")}let l={rowId:t,columnName:null};const a=new CustomEvent("get_table_rows_areas",{detail:l});document.dispatchEvent(a),this.oldArea=t}},enableSelectionForRow(e){this.disableImageRowsClick=!0,this.disableSelectionForRow(this.oldArea);let t=e.detail;this.oldArea=e.detail;let l=r("#draw_"+t).querySelector(".select-areas--background_area");l.style.cursor="crosshair",l.addEventListener("mousedown",this.manageEventsForColumns)},disableSelectionForRow(e){if(""!=e&&r("#draw_"+e)){let t=r("#draw_"+e).querySelector(".select-areas--background_area");t.style.cursor="pointer",t.removeEventListener("mousedown",this.manageEventsForColumns),t.removeEventListener("mousemove",this.mouseMove)}},dblClickToSelect(e){this.disableSelectionForRow(this.oldArea);let t=this.getTableAreaAsString(this.mousePosX(e),this.mousePosY(e),this.mousePosX(e),this.mousePosY(e));this.$emit("saveColumnCoords",t)},hitTest(e,t){return this.rectangles.find((l=>e>=l.x&&t>=l.y&&e<=l.x+l.width&&t<=l.y+l.height))},redraw(){boxes.innerHTML="",this.rectangles.forEach((e=>{boxes.appendChild(this.drawRect(document.createElementNS("http://www.w3.org/2000/svg","rect"),e))}))},drawRect(e,t){if("object"==typeof t){let l="cursor-pointer";const{x:a,y:o,width:i,height:n,connectionId:r}=t;if(e.setAttributeNS(null,"width",i),e.setAttributeNS(null,"height",n),e.setAttributeNS(null,"x",a),e.setAttributeNS(null,"y",o),e.setAttributeNS(null,"connectionId",r),r&&"validate"==this.field_view_mode){e.setAttributeNS(null,"id",r+"_rect");let t=this.record.fields.filter((e=>r==e.name));const a=t.length>0?t.pop():{};a.hasOwnProperty("trocr_processor")&&""!=a.trocr_processor?l+=" extract_by_tcocr ":r.startsWith(s.Al)&&(l+=" ai_table_row ")}e.setAttributeNS(null,"class",l)}return e},prepareDataToDraw(e,t,l){const a=l||this.getHTMLField(e);if(a&&this.page==e.page&&e.coords&&e.coords[0]&&e.coords[0].hasOwnProperty("x")&&e.coords[0].hasOwnProperty("y")){let l=Math.round(this.imageWidth*e.coords[0].x),a=Math.round(this.imageHeight*e.coords[0].y),o=Math.round(this.imageWidth*e.coords[2].x),i=Math.round(this.imageHeight*e.coords[2].y),s=o-l||20,n=i-a||20;s<0&&(s*=-1,l-=s),n<0&&(n*=-1,a-=n),this.marqueeRect.x=l,this.marqueeRect.y=a,this.marqueeRect.width=s,this.marqueeRect.height=n,this.marqueeRect.connectionId=t,this.rectangles.push(Object.assign({},this.marqueeRect))}},prepareRectanglesForFields(){const e=this.record;Array.from(e.fields).forEach((e=>{this.prepareDataToDraw(e,e.name,!1)}))},prepareRectanglesForAITable(){let e={};this.record.tables&&this.record.tables[0]&&(e=this.record.tables[0]),Array.from(e.rows).forEach((e=>{this.prepareDataToDraw(e,s.Al+e.id,!0)}))},prepareRectangles(){this.rectangles=[],this.prepareRectanglesForFields(),this.has_ai_table&&this.prepareRectanglesForAITable(),this.redraw()},drawOverlay(e,t){if(this.isConfirmationBoxDisable)return;this.connectionId=e,this.removeExistingConfirmationOverlays();let l="",a="";const o=this.getOverlayHeadings();if(o){let e=o.split(s.Tr);l=e[0],a=e[1]}const i=this.getOffset(t),n=document.createElement("div");n.setAttribute("id","confirmation_overlay"),n.style.position="absolute",n.style.zIndex="999",n.style.left=i.left+"px",n.style.top=(+i.top+ +i.height+6).toString()+"px",n.style.background="#e2e2e2",n.style.color="#898989",n.style.minHeight="80px",n.style.minWidth="100px",n.style.maxWidth="50%",n.style.textAlign="center",n.style.padding="5px 10px 5px 10px",n.style.letterSpacing="1px",n.style.borderRadius="7px",n.style.boxShadow="0 1px 2px rgba(0,0,0,0.07),\n            0 2px 4px rgba(0,0,0,0.07),\n            0 4px 8px rgba(0,0,0,0.07),\n            0 8px 16px rgba(0,0,0,0.07),\n            0 16px 32px rgba(0,0,0,0.07),\n            0 32px 64px rgba(0,0,0,0.07);";let d=this.getTrashIcon(e);n.innerHTML=`<div><b>${l}</b></div><div><b style='font-size: 9px'>${a}</b></div>\n                        <div>\n                        ${d}\n                        <span class='divOverlayWrong'>\n                          <i connectionId='${e}' style='display: inline-block;border-radius: 50px;box-shadow: 0px 0px 2px #888;padding: 0.5em 0.6em;' class='fa fa-times cursor-pointer'></i>\n                        </span>\n                        <span id='divOverlayCorrect'>\n                          <i style='display: inline-block;border-radius: 50px;box-shadow: 0px 0px 2px #888;padding: 0.5em 0.5em;' class='fas fa-check cursor-pointer'></i>\n                        </span></div>`,document.body.appendChild(n),r("#divOverlayCorrect")?.addEventListener("click",(t=>{this.removeExistingConfirmationOverlays(),this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.selectNextField(e),setTimeout((()=>{this.enableOrDisableExportButton()}),5)}));let u=document.getElementsByClassName("divOverlayWrong");Array.from(u).forEach((e=>{e?.addEventListener("click",(e=>{this.connectionId=e.target.getAttribute("connectionId"),this.connectionId?(this.initTempFieldDelete(),this.refreshCanvas(),this.$forceUpdate(),this.enableDrawing()):logError("connection id not found")}))})),r("#deleteRuleFromConnection")?.addEventListener("click",(e=>{if(this.connectionId=e.target.getAttribute("connectionId"),this.connectionId)try{this.$refs["fieldsView"].deleteRule(this.connectionId),this.enableDrawing()}catch(t){logError(t)}else logError("connection id not found")}));try{const l=r("#confirmation_overlay"),a=r("#confirmation_overlay")?.clientWidth,o=i.width,s=(+a-+o)/2;l.style.left=+i.left-+s+"px";let d=+t.getAttribute("width")+ +t.getAttribute("y")+l.offsetHeight;d>=this.screenshot.offsetHeight&&(n.style.top=(+i.top-6-+l.offsetHeight).toString()+"px");let u=null,c=this.getScoreDescription(this.getFieldByIndex(e));null!=c&&""!==c&&(u={score:String(c),background:this.getColor(Number(c))}),u&&setTimeout((()=>{this.overlayForScore(l,u)}),10)}catch(c){}},overlayForScore(e,t){let l=t.score,a=t.background;const o=this.getOffset(e),i=document.createElement("div");i.setAttribute("id","score_overlay"),i.style.position="absolute",i.style.zIndex="999",i.style.left=(+o.left+o.width-10).toString()+"px",i.style.top=(+o.top-20).toString()+"px",i.style.background=a,i.style.color="#898989",i.style.fontSize="14px",i.style.fontWeight="bold",i.style.letterSpacing="2px",i.style.cursor="pointer",i.style.padding="0.1em 0.6em",i.style.border="1px solid #f5f5f5",i.style.borderRadius="50px",i.innerHTML=`<div> <span  class='column-score-test' > ${l} </span> </div>`,document.body.appendChild(i)},getOffset(e){const t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,right:t.right+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width||e.offsetWidth,height:t.height||e.offsetHeight}},removeBordersFromRectangles(){let e=document.body.getElementsByTagName("rect");for(let t of e)t.classList.remove("border")},removeAllConnectionLines(){const e=r("#connection_line");e&&e.remove()},getScoreDescription(e){let t="";return e&&e.hasOwnProperty("score_description")&&""!==e.score_description&&null!=e.score_description&&(t=e.score_description),String(t)},getTrashIcon(e){let t=this.getFieldByIndex(e),l="";return t?(l=!t.deleted&&t.rule?`<span id='deleteRuleFromConnection'>\n                <i connectionId='${e}' style='display: inline-block;border-radius: 50px;box-shadow: 0px 0px 2px #888;padding: 0.5em 0.6em;' class='fa fa-trash'></i>\n                </span>`:`<span class='divOverlayWrong'>\n                          <i connectionId='${e}' style='display: inline-block;border-radius: 50px;box-shadow: 0px 0px 2px #888;padding: 0.5em 0.6em;' class='fa fa-trash'></i>\n                        </span>`,l):l},enableDrawing(e=!1){e&&(this.rectangles.pop(),this.redraw());const t=r("#draw");t.classList.add("enableDrawingRectangle");const l=r(".screenshot");l.classList.add("cursor-crosshair")},restrictDrawing(){const e=r("#draw");e.classList.remove("enableDrawingRectangle");const t=r(".screenshot");t.classList.remove("cursor-crosshair")},removeOverlayandLines(){this.removeBordersFromRectangles(),this.removeAllConnectionLines(),this.removeExistingConfirmationOverlays()},cancelOverlayDiv(){this.rectangles.pop(),this.redraw(),this.textApiResponse=null},dblClickToSelect(e){this.rectCordinate={startX:e.layerX,startY:e.layerY,endX:e.layerX,endY:e.layerY},this.getTextByCoordinates(this.rectCordinate)},currentPage(){return this.page},setImage(){this.record.hasOwnProperty("classification")&&this.record.classification.hasOwnProperty("classification_page")&&(this.page=this.record.classification.classification_page);let e=this.handleImageBaseURL(this.record.images);""!==e&&(this.baseUrl=e),this.images=(0,n.m)(this.record.images),this.image=this.baseUrl+"/"+(0,n.v)(this.record.images[this.page-1].path)},highlightRow(e){e&&e.classList.add("border")},cleanRectangles(){const e=this.rectangles[this.rectangles.length-1],t=this.rectangles.filter((function(t,l,a){return t.connectionId!==e.connectionId}));this.rectangles=[],this.rectangles=JSON.parse(JSON.stringify(t)),this.rectangles.push(e)},saveResultWrapper(e,t){this.marqueeRect=e,this.rectCordinate=t,this.rectangles.push(Object.assign({},e)),this.saveOverlayResult()},dsiplayFieldInToView(e){const t=this.getElementToConnect(r("#"+e));this.scrollInToViewCenter(t),document.documentElement.scrollTop=0,t&&(t.classList.add("light-yellow-with-effect"),setTimeout((()=>{t.classList.remove("light-yellow-with-effect")}),1e3))}}}},87374:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});const a={methods:{isInt(e){return!isNaN(e)&&parseInt(Number(e))==e&&!isNaN(parseInt(e,10))}}}},7080:(e,t,l)=>{"use strict";l.d(t,{A:()=>_});var a=l(61758),o=l(58790);const i={class:"row text-center q-pt-xs q-pb-xs slider-bg"},s=(0,a.Lk)("div",{class:"col-xs-3 col-sm-3 col-md-3 col-lg-3"}," UNRELIABLE ",-1),n=(0,a.Lk)("div",{class:"col-xs-3 col-sm-3 col-md-3 col-lg-3"}," AVERAGE ",-1),r=(0,a.Lk)("div",{class:"col-xs-3 col-sm-3 col-md-3 col-lg-3"}," RELIABLE ",-1),d=(0,a.Lk)("div",{class:"col-xs-3 col-sm-3 col-md-3 col-lg-3"}," PERFECT ",-1);function u(e,t,l,u,c,p){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",{class:"scale",style:(0,o.Tr)("left:"+e.gaugeValue+"%")},null,4),s,n,r,d])}var c=l(38734);const p=(0,a.pM)({el:"#ai_severity_level",data(){return{gaugeValue:(0,c.KR)(5)}},mounted:function(){document.addEventListener("TE_gauge_calculation",this.TEGaugeCalculation),document.addEventListener("FV_gauge_calculation",this.FVGaugeCalculation)},unmounted:function(){document.removeEventListener("TE_gauge_calculation",this.TEGaugeCalculation),document.removeEventListener("FV_gauge_calculation",this.FVGaugeCalculation)},methods:{TEGaugeCalculation(e){e&&e.detail&&e.detail.hasOwnProperty("min_table_effective_weight")&&this.calculateGaugeValue(e.detail.min_table_effective_weight)},FVGaugeCalculation(e){e&&e.detail&&e.detail.hasOwnProperty("mean_effective_weight")&&this.calculateGaugeValue(e.detail.mean_effective_weight)},calculateGaugeValue(e){this.gaugeValue=Math.round(10*e),this.gaugeValue<5&&(this.gaugeValue=5)}},setup(){return{}}});var h=l(12807);const m=(0,h.A)(p,[["render",u]]),_=m},82600:(e,t,l)=>{"use strict";l.d(t,{A:()=>b});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("q-timeline-entry"),r=(0,a.g2)("q-timeline");return(0,a.uX)(),(0,a.Wv)(r,{color:"primary"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.timeLineData,((t,l)=>((0,a.uX)(),(0,a.Wv)(n,{key:l,title:e.getTitle(t),subtitle:e.formatDateAccordingToPreference(t.title,!1,""),body:t.notes,color:t.color},null,8,["title","subtitle","body","color"])))),128))])),_:1})}var i=l(1659),s=l(46736),n=l(38734),r=l(83319);const d=(0,a.pM)({el:"#app",mixins:[s.A],mounted:function(){this.init()},methods:{init(){this.initTimeLineData()},getTitle(e){let t=e.user;return t?(e.group&&(t+=" ("+e.group+")"),String(t)):e.group?String(e.group):"-"},initTimeLineData(){var e,t,l;if(this.timeLineData=[],!this.record.document_approval||0==Object.entries(this.record.document_approval).length)return;const a=JSON.parse(JSON.stringify(this.record.document_approval));a.approval_requests=a.approval_requests.sort(((e,t)=>e.priority-t.priority));const o=[];if(a.approvals&&a.approvals.length>0)for(let i of a.approvals)o[i.request_id]=i;if(a.approval_requests&&0!=a.approval_requests.length)for(let i of a.approval_requests){const a=o[i.request_id];let s=i.assign_to_user,n="grey",r="",d="";a&&(s=null!==(e=a.approved_by_user)&&void 0!==e?e:a.held_by_user,r=null!==(l=null!==(t=a.approved_on)&&void 0!==t?t:a.rejected_on)&&void 0!==l?l:a.held_on,d=a.notes,n="primary",a.rejected_by_user&&(n="red",s=a.rejected_by_user)),this.timeLineData.push({title:r,user:s,group:i.assign_to_group,notes:d,color:n})}}},setup(){const e=(0,r.q3)(),{record:t}=(0,i.bP)(e);return{record:t,timeLineData:(0,n.KR)([])}}});var u=l(12807),c=l(96364),p=l(28354),h=l(98582),m=l.n(h);const _=(0,u.A)(d,[["render",o],["__scopeId","data-v-81eac10a"]]),b=_;m()(d,"components",{QTimeline:c.A,QTimelineEntry:p.A})},41162:(e,t,l)=>{"use strict";l.d(t,{A:()=>c});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("f-btn");return(0,a.uX)(),(0,a.Wv)(r,{label:e.formBuilderConfigModel[e.fieldName].label,disable:e.isReadOnly,class:(0,o.C4)(["full-width q-mt-sm cursor-pointer",e.formBuilderConfigModel[e.fieldName].classes]),appearance:e.formBuilderConfigModel[e.fieldName].appearance,onClick:t[0]||(t[0]=t=>{t.stopPropagation(),e.inputClicked(e.fieldName)})},null,8,["label","disable","class","appearance"])}var s=l(1659),n=l(83319);const r=(0,a.pM)({name:"TextInput",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},show_button_type:{type:String,default:""}},emits:["inputClicked","updateModel"],computed:{},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{inputClicked(e){this.$emit("inputClicked",e)}},setup(){const e=(0,n.q3)(),{fieldErrors:t,enableExportButton:l,doctype:a}=(0,s.bP)(e),o=(0,n.uL)(),{formBuilderModel:i,isFormBuilderMode:r,formBuilderConfigModel:d}=(0,s.bP)(o);return{doctype:a,fieldErrors:t,formBuilderModel:i,isFormBuilderMode:r,enableExportButton:l,formBuilderConfigModel:d}}});var d=l(12807);const u=(0,d.A)(r,[["render",i]]),c=u},36488:(e,t,l)=>{"use strict";l.d(t,{A:()=>y});var a=l(61758),o=l(58790),i=l(29104);function s(e,t,l,s,n,r){const d=(0,a.g2)("q-checkbox"),u=(0,a.g2)("q-badge");return(0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)(["full-width",e.isFormBuilderMode&&e.showTabIndex?"position-relative":""])},[(0,a.bF)(d,{id:e.fieldName,child_type:"checkbox",disable:e.isReadOnly,tabindex:e.formBuilderConfigModel[e.fieldName].tabIndex,label:e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."),onFocus:e.focusEvent,onKeydown:(0,i.jR)(e.keydownEvent,["enter"]),modelValue:e.formBuilderModel[e.fieldName].formatted_value,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.formBuilderModel[e.fieldName].formatted_value=t),t[1]||(t[1]=t=>e.inputValueChanges(t,e.fieldName))],size:"30px",color:"grey-6",class:(0,o.C4)(e.formBuilderModel[e.fieldName].name+" "+e.getElementBorder(e.formBuilderConfigModel[e.fieldName].color))},null,8,["id","disable","tabindex","label","onFocus","onKeydown","modelValue","class"]),e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(u,{key:0,color:"orange","text-color":"black",class:(0,o.C4)(e.isFormBuilderMode&&e.showTabIndex?"checkbox-badge":""),label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["class","label"])):(0,a.Q3)("",!0)],2)}var n=l(1659),r=l(38734),d=l(64233),u=l(83319),c=l(25891),p=l(79893);const h=(0,a.pM)({name:"CheckBox",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["inputValueChanges","updateModel"],mixins:[c.A,p.A,d.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{getLowerConfidence(e){return this.isFormBuilderMode?null:this.getLowerConfidence(e)},inputValueChanges(e,t){const l="Enter"==window.event.key;if(l)return this.formBuilderModel[this.fieldName].formatted_value=!this.formBuilderModel[this.fieldName].formatted_value,void this.triggerMoveToNextFieldEvent();this.$emit("inputValueChanges",t,"checkbox")},triggerMoveToNextFieldEvent(){if(this.is_focus_event)return void(this.is_focus_event=!1);const e=new CustomEvent("move_to_next_field",{detail:this.fieldName});document.dispatchEvent(e)},keydownEvent(e){this.is_focus_event=!1,this.triggerMoveToNextFieldEvent()},focusEvent(e){this.is_focus_event=!0,setTimeout((()=>{this.is_focus_event=!1}),500)}},setup(){const e=(0,u.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,showTabIndex:o}=(0,n.bP)(e);return{formBuilderConfigModel:a,isFormBuilderMode:l,formBuilderModel:t,is_focus_event:(0,r.KR)(!1),showTabIndex:o}}});var m=l(12807),_=l(80460),b=l(23954),v=l(98582),g=l.n(v);const f=(0,m.A)(h,[["render",s]]),y=f;g()(h,"components",{QCheckbox:_.A,QBadge:b.A})},96284:(e,t,l)=>{"use strict";l.d(t,{A:()=>S});var a=l(61758),o=l(58790);const i={class:"full-width"},s={key:0,class:"col-sm-12 col-md-12 col-lg-12 display-flex"},n=["id"],r={class:"ellipsify"},d={class:"inner-field-actions",style:{height:"38px"}};function u(e,t,l,u,c,p){const h=(0,a.g2)("q-tooltip"),m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-badge"),b=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.CE)("div",i,[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?((0,a.uX)(),(0,a.CE)("div",{key:0,style:(0,o.Tr)("width:"+e.formBuilderConfigModel[e.fieldName].labelWidth+"%"),class:"display-block"},[(0,a.Lk)("div",{class:(0,o.C4)(e.fieldName+"  full-width")},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],""))+" ",1),(0,a.Q3)("",!0)],2)],4)):(0,a.Q3)("",!0),(0,a.Lk)("div",{style:(0,o.Tr)("width:"+e.getInputFieldWidth(e.formBuilderConfigModel[e.fieldName])+"%"),class:"display-block"},[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",{class:(0,o.C4)(["ellipsify",e.fieldName+" full-width"])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],""))+" ",1),(0,a.Q3)("",!0),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"")),1)])),_:1})],2)])),(0,a.Lk)("div",{id:e.fieldName,class:(0,o.C4)(["col-sm-12 col-md-12 col-lg-12","input-text-28px"])},[(0,a.bF)(b,{outlined:"",clearable:"","use-input":"","data-field-name":e.formBuilderConfigModel[e.fieldName].field_name,options:e.filteredUserList,disable:e.isReadOnly||e.formBuilderConfigModel[e.fieldName].is_readonly,class:(0,o.C4)("full-width input-field ellipsify"+e.formBuilderConfigModel[e.fieldName].field_name+"_input "+e.formBuilderConfigModel[e.fieldName].color+" "+(e.formBuilderModel[e.fieldName].input_error?" invalid-input ":"")+e.formBuilderModel[e.fieldName].input_error),"onUpdate:modelValue":[t[0]||(t[0]=t=>{e.changeEventHandler(t)}),t[1]||(t[1]=t=>e.formBuilderModel[e.fieldName].formatted_value=t)],modelValue:e.formBuilderModel[e.fieldName].formatted_value,"data-cy":e.formBuilderModel[e.fieldName].field_name,"emit-value":"","map-options":"",onFilter:e.eventFilterUserList,loading:e.user_list_loading},{"selected-item":(0,a.k6)((e=>[(0,a.Lk)("div",r,(0,o.v_)(e.opt.label),1)])),append:(0,a.k6)((()=>[(0,a.Lk)("div",d,[e.formBuilderModel[e.fieldName].input_error?((0,a.uX)(),(0,a.Wv)(m,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[""!==e.formBuilderModel[e.fieldName].input_error?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t(e.formBuilderModel[e.fieldName].input_error)),1)],64)):(0,a.Q3)("",!0)])),_:1})])),_:1})):(0,a.Q3)("",!0),e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(_,{key:1,color:"orange","text-color":"black",label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["label"])):(0,a.Q3)("",!0)])])),_:1},8,["data-field-name","options","disable","class","modelValue","data-cy","onFilter","loading"])],8,n)],4)])}var c=l(1659),p=l(87374),h=l(38734),m=l(76956),_=l(25891),b=l(55987),v=l(14792),g=l(83319),f=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const y=(0,a.pM)({name:"DocumentApprover",components:{},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,default:0}},emits:["inputClicked","inputValueChanges","updateModel"],mixins:[_.A,v.A,b.A,p.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.init()},unmounted:function(){},methods:{init(){return f(this,void 0,void 0,(function*(){this.isFormBuilderMode||(yield this.prepareUsersDropdown(),this.filteredUserList=this.usersList)}))},filertByAssignedToKey(e){const t=e.toLowerCase();this.filteredUserList=this.usersList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))},changeEventHandler(e){this.formBuilderModel[this.fieldName].formatted_value=e,this.formBuilderModel[this.fieldName].value=e,this.formBuilderModel[this.fieldName].input_error="",this.formBuilderConfigModel[this.fieldName].color=m.aH.success_border_left,this.record.assigned_to=e,this.$emit("inputValueChanges",this.fieldName,"input")},eventFilterUserList(e,t,l){try{if(""===e)return void t((()=>{this.filteredUserList=this.usersList}));t((()=>{this.filertByAssignedToKey(e)}))}catch(a){logError(a),l()}}},setup(){const e=(0,g.uL)(),{second_approval:t,formBuilderModel:l,isFormBuilderMode:a,formBuilderConfigModel:o,showTabIndex:i}=(0,c.bP)(e),s=(0,g.cY)(),n=(0,h.KR)(s.usersList),r=(0,g.q3)(),{record:d}=(0,c.bP)(r),{prepareUsersDropdown:u}=s,{user_list_loading:p,usersList:m}=(0,c.bP)(s);return{prepareUsersDropdown:u,record:d,usersList:m,filteredUserList:n,user_list_loading:p,showTabIndex:i,formBuilderModel:l,isFormBuilderMode:a,formBuilderConfigModel:o,second_approval:t}}});var k=l(12807),w=l(97410),C=l(94940),x=l(50492),L=l(23954),F=l(98582),E=l.n(F);const A=(0,k.A)(y,[["render",u]]),S=A;E()(y,"components",{QTooltip:w.A,QSelect:C.A,QIcon:x.A,QBadge:L.A})},68278:(e,t,l)=>{"use strict";l.d(t,{A:()=>B});var a=l(61758),o=l(58790);const i={class:""},s={class:"q-ml-sm alert-text"},n={class:"row"},r={class:"q-ml-sm alert-text"};function d(e,t,l,d,u,c){const p=(0,a.g2)("q-tooltip"),h=(0,a.g2)("q-icon"),m=(0,a.g2)("q-badge"),_=(0,a.g2)("q-tab"),b=(0,a.g2)("q-spinner-dots"),v=(0,a.g2)("q-item-section"),g=(0,a.g2)("q-item"),f=(0,a.g2)("q-list"),y=(0,a.g2)("q-menu"),k=(0,a.g2)("q-tabs"),w=(0,a.g2)("PoTable"),C=(0,a.g2)("q-tab-panel"),x=(0,a.g2)("q-tab-panels"),L=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(k,{"narrow-indicator":!1,"active-class":"highlighted-back",modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),class:"text-weight-bold align-tabs-left","active-color":"primary","indicator-color":"primary"},{default:(0,a.k6)((()=>[e.isFormBuilderMode?((0,a.uX)(),(0,a.Wv)(_,{key:0,name:"po_tables",label:e.$t("po_tables")},{default:(0,a.k6)((()=>[e.doc_attributes[e.po_table_in_layout_builder]?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(m,{key:0,color:"amber","text-color":"white",floating:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{color:"white",name:"warning"},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("module_disabled")),1)])),_:1})])),_:1})])),_:1}))])),_:1},8,["label"])):e.doc_attributes[e.po_table_in_layout_builder]?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[e.po_items_loaded?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("span",s,(0,o.v_)(e.$t("loading_po_tables")),1),(0,a.bF)(b,{color:"grey",size:"2em",class:"q-ml-sm"})],64)),e.po_items_loaded&&0===e.po_items.length?((0,a.uX)(),(0,a.Wv)(_,{key:1,name:"po_tables",label:e.$t("po_tables")},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("po_table_not_found")),1)])),_:1})])),_:1},8,["label"])):e.po_items_loaded&&e.objLen(e.po_items)>0?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:2},(0,a.pI)(e.po_items,((t,l)=>((0,a.uX)(),(0,a.Wv)(_,{key:l,name:l,"data-name":l,tabindex:"0",class:"po-tab flex-left tab_style"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.bF)(h,{class:"mt-3 q-mr-sm",name:"img:images/po_not_matched.svg"},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("po_table")),1)])),_:1})])),_:1}),(0,a.Lk)("label",null,(0,o.v_)(l),1),(0,a.bF)(h,{class:"q-pl-sm mt-3",name:"refresh",onClick:t=>e.refreshPOItems(l)},null,8,["onClick"])]),(0,a.bF)(y,{"context-menu":""},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(g,{clickable:"",onClick:t=>e.copyToClipboard(l)},{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("copy_to_clipboard")),1)])),_:1})])),_:2},1032,["onClick"])),[[L]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["name","data-name"])))),128)):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)])),_:1},8,["modelValue"]),(0,a.bF)(x,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),class:"page-background"},{default:(0,a.k6)((()=>[e.doc_attributes[e.po_table_in_layout_builder]&&e.po_items_loaded&&e.objLen(e.po_items)>0?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:0},(0,a.pI)(e.po_items,((t,l)=>((0,a.uX)(),(0,a.Wv)(C,{key:l,name:l,class:"q-pa-none"},{default:(0,a.k6)((()=>[e.loading_panels?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("span",r,(0,o.v_)(e.$t("loading_po_tables")),1),(0,a.bF)(b,{color:"grey",size:"2em",class:"q-ml-sm"})],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[e.visible_columns&&e.objLen(e.visible_columns)>0?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(w,{po_lines:t,po_number:l,visible_columns:e.visible_columns,style:{padding:"8px 0px"}},null,8,["po_lines","po_number","visible_columns"]),e.visible_columns&&0==e.objLen(e.visible_columns)?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)(" no po columns found ")],64)):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)],64))])),_:2},1032,["name"])))),128)):(0,a.Q3)("",!0)])),_:1},8,["modelValue"])])}var u=l(1659),c=l(38734),p=l(64233),h=l(25891),m=l(79893),_=l(35484),b=l(68450),v=l(83319),g=l(76956),f=l(78652),y=l(54899),k=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const w=(0,a.pM)({name:"extracted-table-tab-panels",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["inputValueChanges","updateModel"],mixins:[h.A,m.A,p.A],components:{PoTable:_.A},watch:{doc_loaded:{handler:function(e,t){this.init()}},po_items_loaded:{handler:function(e,t){this.initPoTabPanels()}}},data(){return{renderTable:(0,c.KR)(!1),po_table_in_layout_builder:g.iD,objLen:b.Ns,po_table_columns:g.lv}},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted(){this.init(),document.addEventListener("prepare_rows",this.reRenderPanel),window.fvt=this},unmounted:function(){document.removeEventListener("prepare_rows",this.reRenderPanel)},methods:{init(){this.isFormBuilderMode||(this.isPoTableInLayoutBuilder(),this.initPoTabPanels())},reRenderPanel(){this.init()},initPoTabPanels(){return k(this,void 0,void 0,(function*(){try{if(logInfo("initPoTabPanels",this.po_items_loaded,this.objLen(this.po_items),this.doc_attributes[this.po_table_in_layout_builder]),this.isFormBuilderMode||!1===this.po_items_loaded||0==this.objLen(this.po_items)||!1===this.doc_attributes[this.po_table_in_layout_builder]||this.objLen(this.visible_columns)>0)return;this.loading_panels=!0,yield this.getPOColumns(),yield this.startSettingsFetch(),this.visible_columns=yield this.getSavedColumns(this.po_table_columns),this.tab=Object.keys(this.po_items)[0]}catch(e){logError("Error in initPoTabPanels",e)}finally{this.loading_panels=!1}}))},copyToClipboard(e){return k(this,void 0,void 0,(function*(){try{if(!e)return;"number"===typeof e&&(e=e.toString()),yield(0,f.A)(e),this.showSuccessToast(this.$t("success_copy_to_clipboard"))}catch(t){this.showErrorToast(this.$t("error_copy_to_clipboard"))}}))}},setup(){const e=(0,v.uL)(),{formBuilderModel:t,formBuilderConfigModel:l,isFormBuilderMode:a,documentTables:o,docType:i}=(0,u.bP)(e),{getDocumentTables:s}=e,n=(0,v.q3)(),{doc_loaded:r,selected_doc_type:d,record:p,po_items:h,po_items_loaded:m}=(0,u.bP)(n),{isPoTableInLayoutBuilder:_,isPODeleteAble:b,proceedToClosePOTab:g,refreshPOItems:k}=n,w=(0,v.Bu)(),{user_settings:C}=(0,u.bP)(w),{startSettingsFetch:x}=w,L=(0,v.wt)(),{model:F}=(0,u.bP)(L),E=(0,v.R9)(),{table_columns:A}=(0,u.bP)(E),{getSavedColumns:S,getPOColumns:D}=E,{showSuccessToast:I,showErrorToast:T}=(0,y.A)();return{refreshPOItems:k,proceedToClosePOTab:g,isPODeleteAble:b,showSuccessToast:I,showErrorToast:T,getPOColumns:D,startSettingsFetch:x,quasarCopyToClipboard:f.A,loading_panels:(0,c.KR)(!1),table_columns:A,getSavedColumns:S,isPoTableInLayoutBuilder:_,po_items:h,po_items_loaded:m,selected_doc_type:d,doc_attributes:F,user_settings:C,record:p,docType:i,doc_loaded:r,documentTables:o,formBuilderModel:t,isFormBuilderMode:a,formBuilderConfigModel:l,tab:(0,c.KR)("po_tables"),visible_columns:(0,c.KR)([]),getDocumentTables:s}}});var C=l(12807),x=l(42980),L=l(10327),F=l(23954),E=l(50492),A=l(97410),S=l(59198),D=l(84436),I=l(53999),T=l(90124),O=l(25173),M=l(39041),R=l(71746),P=l(88672),q=l(98582),V=l.n(q);const N=(0,C.A)(w,[["render",d],["__scopeId","data-v-60bff97b"]]),B=N;V()(w,"components",{QTabs:x.A,QTab:L.A,QBadge:F.A,QIcon:E.A,QTooltip:A.A,QSpinnerDots:S.A,QMenu:D.A,QList:I.A,QItem:T.A,QItemSection:O.A,QTabPanels:M.A,QTabPanel:R.A}),V()(w,"directives",{ClosePopup:P.A})},31986:(e,t,l)=>{"use strict";l.d(t,{A:()=>m});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-separator");return(0,a.uX)(),(0,a.Wv)(r,{size:"2px",class:(0,o.C4)(["cursor-pointer",e.formBuilderConfigModel[e.fieldName].space_from_top+" "+e.formBuilderConfigModel[e.fieldName].space_from_bottom]),onClick:t[0]||(t[0]=t=>e.$emit("inputClicked",e.fieldName))},null,8,["class"])}var s=l(1659),n=l(83319);const r=(0,a.pM)({name:"HorizontalSeparator",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["updateModel","inputClicked"],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{},setup(){const e=(0,n.uL)(),{isFormBuilderMode:t,formBuilderConfigModel:l}=(0,s.bP)(e);return{isFormBuilderMode:t,formBuilderConfigModel:l}}});var d=l(12807),u=l(10386),c=l(98582),p=l.n(c);const h=(0,d.A)(r,[["render",i]]),m=h;p()(r,"components",{QSeparator:u.A})},1133:(e,t,l)=>{"use strict";l.d(t,{A:()=>h});var a=l(61758),o=l(58790);const i={class:"full-width full-height cursor-pointer"};function s(e,t,l,s,n,r){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("span",{onClick:t[0]||(t[0]=t=>e.$emit("inputClicked",e.fieldName))},(0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder.")),1)])}var n=l(1659),r=l(83319),d=l(25891);const u=(0,a.pM)({name:"TextInput",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["updateModel","inputClicked"],mixins:[d.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{},setup(){const e=(0,r.uL)(),{formBuilderConfigModel:t,isFormBuilderMode:l}=(0,n.bP)(e);return{isFormBuilderMode:l,formBuilderConfigModel:t}}});var c=l(12807);const p=(0,c.A)(u,[["render",s]]),h=p},19369:(e,t,l)=>{"use strict";l.d(t,{A:()=>C});var a=l(61758),o=l(58790);const i={class:"full-width"},s={key:0,class:"col-sm-12 col-md-12 col-lg-12 display-flex"},n=["id"];function r(e,t,l,r,d,u){const c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-badge"),h=(0,a.g2)("q-input");return(0,a.uX)(),(0,a.CE)("div",i,[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?((0,a.uX)(),(0,a.CE)("div",{key:0,style:(0,o.Tr)("width:"+e.formBuilderConfigModel[e.fieldName].labelWidth+"%"),class:"display-block"},[(0,a.Lk)("div",{class:(0,o.C4)(e.fieldName+"  full-width")},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0)],2)],4)):(0,a.Q3)("",!0),(0,a.Lk)("div",{style:(0,o.Tr)("width:"+e.getInputFieldWidth(e.formBuilderConfigModel[e.fieldName])+"%"),class:"display-block"},[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",{class:(0,o.C4)(["ellipsify",e.fieldName+" full-width"])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder.")),1)])),_:1})],2)])),(0,a.Lk)("div",{id:e.fieldName,child_type:"textarea",class:"col-sm-12 col-md-12 col-lg-12"},[(0,a.bF)(h,{outlined:"",dense:"",autogrow:"","data-name":e.fieldName,disable:e.isReadOnly,modelValue:e.notes,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.notes=t),t[1]||(t[1]=t=>{e.modelUpdated(t)})],tabindex:e.formBuilderConfigModel[e.fieldName].tabIndex,class:(0,o.C4)(" full-width "+e.fieldName+"_input "+e.formBuilderConfigModel[e.fieldName].color+" "+e.formBuilderModel[e.fieldName].name)},{append:(0,a.k6)((()=>[e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(p,{key:0,color:"orange","text-color":"black",label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["label"])):(0,a.Q3)("",!0)])),_:1},8,["data-name","disable","modelValue","tabindex","class"])],8,n)],4)])}var d=l(1659),u=l(24622),c=l(38734),p=l(25891),h=l(83319),m=l(14792);const _=(0,a.pM)({name:"TextInput",components:{},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,default:0}},emits:["inputClicked","inputValueChanges","updateModel"],mixins:[p.A,m.A,u.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.init()},methods:{init(){this.record.notes&&(this.notes=this.record.notes)},modelUpdated(e){this.isFormBuilderMode||(this.record.notes=e)}},setup(){const e=(0,h.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,formLayout:o,showTabIndex:i}=(0,d.bP)(e),s=(0,h.q3)(),{record:n}=(0,d.bP)(s);return{record:n,formLayout:o,showTabIndex:i,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,notes:(0,c.KR)("")}}});var b=l(12807),v=l(97410),g=l(67837),f=l(23954),y=l(98582),k=l.n(y);const w=(0,b.A)(_,[["render",r]]),C=w;k()(_,"components",{QTooltip:v.A,QInput:g.A,QBadge:f.A})},86306:(e,t,l)=>{"use strict";l.d(t,{A:()=>S});var a=l(61758),o=l(58790);const i={class:"full-width"},s={key:0,class:"col-sm-12 col-md-12 col-lg-12 display-flex"},n=["id"],r={class:"ellipsify"},d={class:"inner-field-actions",style:{height:"38px"}};function u(e,t,l,u,c,p){const h=(0,a.g2)("q-tooltip"),m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-badge"),b=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.CE)("div",i,[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?((0,a.uX)(),(0,a.CE)("div",{key:0,style:(0,o.Tr)("width:"+e.formBuilderConfigModel[e.fieldName].labelWidth+"%"),class:"display-block"},[(0,a.Lk)("div",{class:(0,o.C4)(e.fieldName+"  full-width")},[(0,a.eW)(" 2. "+(0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],""))+" ",1),(0,a.Q3)("",!0)],2)],4)):(0,a.Q3)("",!0),(0,a.Lk)("div",{style:(0,o.Tr)("width:"+e.getInputFieldWidth(e.formBuilderConfigModel[e.fieldName])+"%"),class:"display-block"},[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",{class:(0,o.C4)(["ellipsify",e.fieldName+" full-width"])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],""))+" ",1),(0,a.Q3)("",!0),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"")),1)])),_:1})],2)])),(0,a.Lk)("div",{id:e.fieldName,class:(0,o.C4)(["col-sm-12 col-md-12 col-lg-12","input-text-28px"])},[(0,a.bF)(b,{outlined:"",clearable:"","use-input":"","data-field-name":e.formBuilderConfigModel[e.fieldName].field_name,options:e.filteredUserList,disable:e.isReadOnly||e.formBuilderConfigModel[e.fieldName].is_readonly,class:(0,o.C4)("full-width input-field ellipsify"+e.formBuilderConfigModel[e.fieldName].field_name+"_input "+e.formBuilderConfigModel[e.fieldName].color+" "+(e.formBuilderModel[e.fieldName].input_error?" invalid-input ":"")+e.formBuilderModel[e.fieldName].input_error),"onUpdate:modelValue":[t[0]||(t[0]=t=>{e.changeEventHandler(t)}),t[1]||(t[1]=t=>e.formBuilderModel[e.fieldName].formatted_value=t)],modelValue:e.formBuilderModel[e.fieldName].formatted_value,"data-cy":e.formBuilderModel[e.fieldName].field_name,"emit-value":"","map-options":"",onFilter:e.eventFilterUserList,loading:e.user_list_loading},{"selected-item":(0,a.k6)((e=>[(0,a.Lk)("div",r,(0,o.v_)(e.opt.label),1)])),append:(0,a.k6)((()=>[(0,a.Lk)("div",d,[e.formBuilderModel[e.fieldName].input_error?((0,a.uX)(),(0,a.Wv)(m,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[""!==e.formBuilderModel[e.fieldName].input_error?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t(e.formBuilderModel[e.fieldName].input_error)),1)],64)):(0,a.Q3)("",!0)])),_:1})])),_:1})):(0,a.Q3)("",!0),e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(_,{key:1,color:"orange","text-color":"black",label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["label"])):(0,a.Q3)("",!0)])])),_:1},8,["data-field-name","options","disable","class","modelValue","data-cy","onFilter","loading"])],8,n)],4)])}var c=l(1659),p=l(87374),h=l(38734),m=l(25891),_=l(55987),b=l(76956),v=l(14792),g=l(83319),f=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const y=(0,a.pM)({name:"SecondApprover",components:{},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,default:0}},emits:["inputClicked","inputValueChanges","updateModel"],mixins:[m.A,v.A,_.A,p.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.init()},unmounted:function(){},methods:{init(){return f(this,void 0,void 0,(function*(){this.isFormBuilderMode||(yield this.prepareUsersDropdown(),this.filteredUserList=this.usersList)}))},filertByAssignedToKey(e){const t=e.toLowerCase();this.filteredUserList=this.usersList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))},changeEventHandler(e){this.formBuilderModel[this.fieldName].formatted_value=e,this.formBuilderModel[this.fieldName].value=e,this.formBuilderModel[this.fieldName].input_error="",this.formBuilderConfigModel[this.fieldName].color=b.aH.success_border_left,this.$emit("inputValueChanges",this.fieldName,"input")},eventFilterUserList(e,t,l){try{if(""===e)return void t((()=>{this.filteredUserList=this.usersList}));t((()=>{this.filertByAssignedToKey(e)}))}catch(a){logError(a),l()}}},setup(){const e=(0,g.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,showTabIndex:o}=(0,c.bP)(e),i=(0,g.cY)(),s=(0,h.KR)(i.usersList),{prepareUsersDropdown:n}=i,{user_list_loading:r,usersList:d}=(0,c.bP)(i);return{prepareUsersDropdown:n,user_list_loading:r,usersList:d,filteredUserList:s,showTabIndex:o,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a}}});var k=l(12807),w=l(97410),C=l(94940),x=l(50492),L=l(23954),F=l(98582),E=l.n(F);const A=(0,k.A)(y,[["render",u]]),S=A;E()(y,"components",{QTooltip:w.A,QSelect:C.A,QIcon:x.A,QBadge:L.A})},32162:(e,t,l)=>{"use strict";l.d(t,{A:()=>S});var a=l(61758),o=l(58790);const i={class:"full-width"},s={key:0,class:"col-sm-12 col-md-12 col-lg-12 display-flex"},n=["id","child_type"];function r(e,t,l,r,d,u){const c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-badge"),h=(0,a.g2)("q-input");return(0,a.uX)(),(0,a.CE)("div",i,[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?((0,a.uX)(),(0,a.CE)("div",{key:0,style:(0,o.Tr)("width:"+e.formBuilderConfigModel[e.fieldName].labelWidth+"%"),class:"display-block"},[(0,a.Lk)("div",{class:(0,o.C4)(e.fieldName+"  full-width")},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0)],2)],4)):(0,a.Q3)("",!0),(0,a.Lk)("div",{style:(0,o.Tr)("width:"+e.getInputFieldWidth(e.formBuilderConfigModel[e.fieldName])+"%"),class:"display-block"},[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",{class:(0,o.C4)(["ellipsify",e.fieldName+" full-width"])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder.")),1)])),_:1})],2)])),(0,a.Lk)("div",{id:e.fieldName,child_type:e.formBuilderConfigModel[e.fieldName].is_textarea?"textarea":"input",class:(0,o.C4)(["col-sm-12 col-md-12 col-lg-12 autocomplete",e.formBuilderConfigModel[e.fieldName].is_textarea?" ":" input-text-28px"]),role:"combobox","aria-autocomplete":"list","aria-controls":"suggestions","aria-expanded":"false"},[(0,a.bF)(h,{outlined:"",dense:"","data-name":e.fieldName,disable:e.isReadOnly||e.formBuilderConfigModel[e.fieldName].is_readonly,tabindex:e.formBuilderConfigModel[e.fieldName].tabIndex,autogrow:e.formBuilderConfigModel[e.fieldName].is_textarea,class:(0,o.C4)(" full-width "+e.fieldName+"_input "+(e.formBuilderConfigModel[e.fieldName].is_textarea?" ":"input-field ")+e.formBuilderConfigModel[e.fieldName].color+" "+e.formBuilderModel[e.fieldName].name+" "+e.addErrorClass()),onClick:t[0]||(t[0]=t=>{e.inputFieldClicked(t,e.fieldName)}),"onUpdate:modelValue":[t[1]||(t[1]=t=>{e.modelUpdated(t)}),t[3]||(t[3]=t=>e.formBuilderModel[e.fieldName].formatted_value=t)],onChange:t[2]||(t[2]=t=>{e.changeEvent()}),modelValue:e.formBuilderModel[e.fieldName].formatted_value,autocomplete:"off"},{append:(0,a.k6)((()=>[e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(p,{key:0,color:"orange","text-color":"black",label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["label"])):(0,a.Q3)("",!0)])),_:1},8,["data-name","disable","tabindex","autogrow","class","modelValue"])],10,n)],4)])}var d=l(1659),u=l(87374),c=l(24622),p=l(38734),h=l(40057),m=l(25891),_=l(55987),b=l(82080),v=l(21279),g=l(14792),f=l(83319),y=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const k=(0,a.pM)({name:"TextInput",components:{},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,default:0}},emits:["inputClicked","inputValueChanges","updateModel"],mixins:[m.A,g.A,_.A,u.A,c.A,b.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.init()},unmounted:function(){let e=this.getInputEl();e&&e.removeEventListener("update_field_value",this.updateModel)},methods:{init(){return y(this,void 0,void 0,(function*(){yield this.$nextTick();let e=this.getInputEl();e&&e.addEventListener("update_field_value",this.updateModel)}))},getInputEl(){let e=document.querySelector("."+this.fieldName+"_input");return e},updateModel(e){try{this.formBuilderModel[this.fieldName].formatted_value=e.detail.val,this.validateUpdateValue()}catch(t){logError(t)}},inputFieldClicked(e,t){e.stopPropagation(),this.$emit("inputClicked",t)},modelUpdated(e){this.formBuilderModel[this.fieldName].formatted_value=e,this.formBuilderModel[this.fieldName].update_timestamp=Date.now(),this.$emit("inputValueChanges",this.fieldName,"input")},formatAndvalidateDate(){const e=this.getFieldType();"date"===e&&v.v.format(this.formBuilderModel[this.fieldName].formatted_value).then((e=>{this.formBuilderModel[this.fieldName].formatted_value=e,""==e&&this.throwInputError("invalid_input_date")}))},changeEvent(){this.formatAndvalidateDate(),this.validateUpdateValue()},validateUpdateValue(){return y(this,void 0,void 0,(function*(){if(this.isFormBuilderMode)return;logInfo("validateUpdateValue",this.fieldName,this.formBuilderModel[this.fieldName].formatted_value);let e=this.formBuilderModel[this.fieldName].formatted_value;if(this.formBuilderModel[this.fieldName].update_timestamp=Date.now(),!e||""==e)return logError("validateUpdateValue 1",this.fieldName,e),void this.$emit("inputValueChanges",this.fieldName,"input");let t=!0,l="";this.formBuilderModel[this.fieldName].input_error=l;let a=this.formBuilderConfigModel[this.fieldName],o=this.formBuilderModel[this.fieldName];if(({is_valid:t,input_error:l}=yield h.m.init(o,a)),t)return logError("validateUpdateValue 2",this.fieldName,e),void this.$emit("inputValueChanges",this.fieldName,"input");this.throwInputError(l)}))},throwInputError(e){this.formBuilderModel[this.fieldName].input_error=e,logInfo("throwInputError",this.fieldName,this.formBuilderModel[this.fieldName].formatted_value),this.$emit("inputValueChanges",this.fieldName,"input")},fieldMask(){if(this.isFormBuilderMode)return"";const e=this.getFieldType();let t="";switch(e){case"date":t=v.v.getMask(this.getDocDateFormat());break;default:t="";break}return t},getFieldType(){return this.formBuilderConfigModel[this.fieldName]&&this.formBuilderConfigModel[this.fieldName].field_type?String(this.formBuilderConfigModel[this.fieldName].field_type.toLowerCase()):""},hasInputError(){return!!this.formBuilderModel[this.fieldName].input_error},addErrorClass(){if(!this.hasInputError())return"";let e=" invalid-input ";return this.formBuilderModel[this.fieldName].input_error&&(e+=" "+this.formBuilderModel[this.fieldName].input_error+" "),e},inputErrorMessage(){let e="";if(!this.formBuilderModel[this.fieldName].input_error)return e;const t=this.formBuilderModel[this.fieldName].input_error,l=this.translateLabel(t);return e+=" "+l+" ",e},deleteRule(){this.$emit("inputValueChanges",this.fieldName,"delete_rule")}},setup(){const e=(0,f.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,formLayout:o,showTabIndex:i}=(0,d.bP)(e),{getDocDateFormat:s}=e,n=(0,f.yM)(),{getListOfValues:r}=n,u=(0,f.q3)(),{amount_format_locale:c}=(0,d.bP)(u);return{amount_format_locale:c,getDocDateFormat:s,getListOfValues:r,formLayout:o,showTabIndex:i,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,mask:(0,p.KR)("")}}});var w=l(12807),C=l(97410),x=l(67837),L=l(23954),F=l(98582),E=l.n(F);const A=(0,w.A)(k,[["render",r],["__scopeId","data-v-92a7adaa"]]),S=A;E()(k,"components",{QTooltip:C.A,QInput:x.A,QBadge:L.A})},55133:(e,t,l)=>{"use strict";l.d(t,{A:()=>b});var a=l(61758);const o={class:"row"};function i(e,t,l,i,s,n){const r=(0,a.g2)("q-btn");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(r,{round:"",color:"positive",icon:"done",size:"xs",class:"q-mr-sm",onClick:t[0]||(t[0]=t=>{t.stopPropagation(),e.doneBtnClicked()})}),(0,a.bF)(r,{round:"",color:"red-5",icon:"close",size:"xs",onClick:t[1]||(t[1]=t=>{t.stopPropagation(),e.errorBtnClicked()})})])}var s=l(1659),n=l(73178),r=l(76956),d=l(83319);const u=(0,a.pM)({name:"TextInput",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},groupIndex:{type:Number,default:0},elementIndex:{type:Number,default:0}},emits:["inputClicked","updateModel"],mixins:[n.A],computed:{},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{doneBtnClicked(){this.isFormBuilderMode||this.handleApprovalInfo(r.qS.approved)},errorBtnClicked(){this.isFormBuilderMode||this.handleApprovalInfo(r.qS.rejected)},handleApprovalInfo(e){const t=this.formLayout[this.groupIndex][this.elementIndex-2].name,l=this.formLayout[this.groupIndex][this.elementIndex-1].name;delete this.formBuilderModel[l].input_error;const a={status:e,currentUserId:this.getLoggedinUserId(),currentDateTime:Date.now(),lineFieldValue:Number(this.formBuilderModel[l].value),poFieldValue:Number(this.formBuilderModel[t].value)};this.formBuilderModel[l]["approval_info"]=this.getApprovalInfoObj(a)},getApprovalInfoObj(e){const t=e.lineFieldValue?e.lineFieldValue:0,l=e.poFieldValue?e.poFieldValue:0;let a=0,o=0;return e.status==r.qS.approved&&(a=t,o=0),e.status==r.qS.rejected&&(a=l,o=t-l),{approval_required:!0,approval_status:e.status,approved_or_rejected_by:e.currentUserId,approved_or_rejected_at:e.currentDateTime,approved_amount:a,rejected_amount:o}}},setup(){const e=(0,d.q3)(),{fieldErrors:t,enableExportButton:l,doctype:a}=(0,s.bP)(e),o=(0,d.uL)(),{formLayout:i,formBuilderModel:n,isFormBuilderMode:r,formBuilderConfigModel:u}=(0,s.bP)(o);return{doctype:a,formLayout:i,fieldErrors:t,formBuilderModel:n,isFormBuilderMode:r,enableExportButton:l,formBuilderConfigModel:u}}});var c=l(12807),p=l(56384),h=l(98582),m=l.n(h);const _=(0,c.A)(u,[["render",i]]),b=_;m()(u,"components",{QBtn:p.A})},99869:(e,t,l)=>{"use strict";l.d(t,{A:()=>c});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("f-btn");return(0,a.uX)(),(0,a.Wv)(r,{label:e.formBuilderConfigModel[e.fieldName].label,disable:e.isReadOnly,class:(0,o.C4)(["full-width q-mt-sm cursor-pointer",e.formBuilderConfigModel[e.fieldName].classes]),appearance:e.formBuilderConfigModel[e.fieldName].appearance,onClick:t[0]||(t[0]=t=>{t.stopPropagation(),e.inputClicked(e.fieldName)})},null,8,["label","disable","class","appearance"])}var s=l(1659),n=l(83319);const r=(0,a.pM)({name:"TextInput",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},show_button_type:{type:String,default:""}},emits:["inputClicked","updateModel"],computed:{},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{inputClicked(e){this.$emit("inputClicked",e)}},setup(){const e=(0,n.q3)(),{fieldErrors:t,enableExportButton:l,doctype:a}=(0,s.bP)(e),o=(0,n.uL)(),{formBuilderModel:i,isFormBuilderMode:r,formBuilderConfigModel:d}=(0,s.bP)(o);return{doctype:a,fieldErrors:t,formBuilderModel:i,isFormBuilderMode:r,enableExportButton:l,formBuilderConfigModel:d}}});var d=l(12807);const u=(0,d.A)(r,[["render",i]]),c=u},66740:(e,t,l)=>{"use strict";l.d(t,{A:()=>S});var a=l(61758),o=l(58790);const i={class:"full-width"},s={key:0,class:"col-sm-12 col-md-12 col-lg-12 display-flex"},n=["id"],r={class:"ellipsify"},d={class:"inner-field-actions",style:{height:"38px"}};function u(e,t,l,u,c,p){const h=(0,a.g2)("q-tooltip"),m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-badge"),b=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.CE)("div",i,[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?((0,a.uX)(),(0,a.CE)("div",{key:0,style:(0,o.Tr)("width:"+e.formBuilderConfigModel[e.fieldName].labelWidth+"%"),class:"display-block"},[(0,a.Lk)("div",{class:(0,o.C4)(e.fieldName+"  full-width")},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],""))+" ",1),(0,a.Q3)("",!0)],2)],4)):(0,a.Q3)("",!0),(0,a.Lk)("div",{style:(0,o.Tr)("width:"+e.getInputFieldWidth(e.formBuilderConfigModel[e.fieldName])+"%"),class:"display-block"},[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",{class:(0,o.C4)(["ellipsify",e.fieldName+" full-width"])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],""))+" ",1),(0,a.Q3)("",!0),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"")),1)])),_:1})],2)])),(0,a.Lk)("div",{id:e.fieldName,class:(0,o.C4)(["col-sm-12 col-md-12 col-lg-12","input-text-28px"])},[(0,a.bF)(b,{outlined:"",clearable:"","use-input":"","data-field-name":e.formBuilderConfigModel[e.fieldName].field_name,options:e.filteredUserList,disable:e.isReadOnly||e.formBuilderConfigModel[e.fieldName].is_readonly,class:(0,o.C4)("full-width input-field ellipsify"+e.formBuilderConfigModel[e.fieldName].field_name+"_input "+e.formBuilderConfigModel[e.fieldName].color+" "+(e.formBuilderModel[e.fieldName].input_error?" invalid-input ":"")+e.formBuilderModel[e.fieldName].input_error),"onUpdate:modelValue":[t[0]||(t[0]=t=>{e.changeEventHandler(t)}),t[1]||(t[1]=t=>e.formBuilderModel[e.fieldName].formatted_value=t)],modelValue:e.formBuilderModel[e.fieldName].formatted_value,"data-cy":e.formBuilderModel[e.fieldName].field_name,"emit-value":"","map-options":"",onFilter:e.eventFilterUserList,loading:e.user_list_loading},{"selected-item":(0,a.k6)((e=>[(0,a.Lk)("div",r,(0,o.v_)(e.opt.label),1)])),append:(0,a.k6)((()=>[(0,a.Lk)("div",d,[e.formBuilderModel[e.fieldName].input_error?((0,a.uX)(),(0,a.Wv)(m,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[""!==e.formBuilderModel[e.fieldName].input_error?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t(e.formBuilderModel[e.fieldName].input_error)),1)],64)):(0,a.Q3)("",!0)])),_:1})])),_:1})):(0,a.Q3)("",!0),e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(_,{key:1,color:"orange","text-color":"black",label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["label"])):(0,a.Q3)("",!0)])])),_:1},8,["data-field-name","options","disable","class","modelValue","data-cy","onFilter","loading"])],8,n)],4)])}var c=l(1659),p=l(87374),h=l(38734),m=l(25891),_=l(55987),b=l(76956),v=l(14792),g=l(83319),f=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const y=(0,a.pM)({name:"DocumentApprover",components:{},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,default:0}},emits:["inputClicked","inputValueChanges","updateModel"],mixins:[m.A,v.A,_.A,p.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.init()},unmounted:function(){},methods:{init(){return f(this,void 0,void 0,(function*(){this.isFormBuilderMode||(yield this.prepareUsersDropdown(),this.filteredUserList=this.usersList)}))},filertByAssignedToKey(e){const t=e.toLowerCase();this.filteredUserList=this.usersList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))},changeEventHandler(e){this.formBuilderModel[this.fieldName].formatted_value=e,this.formBuilderModel[this.fieldName].value=e,this.formBuilderModel[this.fieldName].input_error="",this.formBuilderConfigModel[this.fieldName].color=b.aH.success_border_left,this.$emit("inputValueChanges",this.fieldName,"input")},eventFilterUserList(e,t,l){try{if(""===e)return void t((()=>{this.filteredUserList=this.usersList}));t((()=>{this.filertByAssignedToKey(e)}))}catch(a){logError(a),l()}}},setup(){const e=(0,g.uL)(),{second_approval:t,formBuilderModel:l,isFormBuilderMode:a,formBuilderConfigModel:o,showTabIndex:i}=(0,c.bP)(e),s=(0,g.cY)(),n=(0,h.KR)(s.usersList),{prepareUsersDropdown:r}=s,{user_list_loading:d,usersList:u}=(0,c.bP)(s);return{prepareUsersDropdown:r,user_list_loading:d,usersList:u,filteredUserList:n,showTabIndex:i,formBuilderModel:l,isFormBuilderMode:a,formBuilderConfigModel:o,second_approval:t}}});var k=l(12807),w=l(97410),C=l(94940),x=l(50492),L=l(23954),F=l(98582),E=l.n(F);const A=(0,k.A)(y,[["render",u]]),S=A;E()(y,"components",{QTooltip:w.A,QSelect:C.A,QIcon:x.A,QBadge:L.A})},44849:(e,t,l)=>{"use strict";l.d(t,{A:()=>ge});var a=l(61758),o=l(58790);const i={class:"q-pa-sm full-width"},s={class:"q-ml-sm alert-text"},n={class:"row full-width"},r={key:0,class:"full-width"},d={key:1,class:"full-width"},u={class:"q-ml-sm alert-text"},c={class:"q-ml-sm"};function p(e,t,l,p,h,m){const _=(0,a.g2)("q-tab"),b=(0,a.g2)("q-tooltip"),v=(0,a.g2)("q-icon"),g=(0,a.g2)("q-badge"),f=(0,a.g2)("q-spinner-dots"),y=(0,a.g2)("q-item-section"),k=(0,a.g2)("q-item"),w=(0,a.g2)("q-list"),C=(0,a.g2)("q-menu"),x=(0,a.g2)("q-tabs"),L=(0,a.g2)("q-separator"),F=(0,a.g2)("LineItemApprovalTable"),E=(0,a.g2)("q-tab-panel"),A=(0,a.g2)("AIExtractedTable"),S=(0,a.g2)("LineItemTable"),D=(0,a.g2)("PoTable"),I=(0,a.g2)("q-tab-panels"),T=(0,a.g2)("q-avatar"),O=(0,a.g2)("q-card-section"),M=(0,a.g2)("f-btn"),R=(0,a.g2)("q-card-actions"),P=(0,a.g2)("q-card"),q=(0,a.g2)("q-dialog"),V=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",i,[(0,a.bF)(x,{"narrow-indicator":!1,"active-class":"highlighted-back",modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),class:"text-weight-bold align-tabs-left","active-color":"primary","indicator-color":"primary"},{default:(0,a.k6)((()=>[e.display_tabs&&e.showChargesTable?((0,a.uX)(),(0,a.Wv)(_,{key:0,name:"compare_line_items",label:e.$t("compare_line_items")},null,8,["label"])):(0,a.Q3)("",!0),e.display_tabs?((0,a.uX)(),(0,a.Wv)(_,{key:1,name:"invoice_line_items",label:e.$t("invoice_line_items")},null,8,["label"])):(0,a.Q3)("",!0),e.isFormBuilderMode?((0,a.uX)(),(0,a.Wv)(_,{key:2,name:"po_tables",label:e.$t("po_tables")},{default:(0,a.k6)((()=>[e.doc_attributes[e.po_table_in_layout_builder]?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(g,{key:0,color:"amber","text-color":"white",floating:""},{default:(0,a.k6)((()=>[(0,a.bF)(v,{color:"white",name:"warning"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("module_disabled")),1)])),_:1})])),_:1})])),_:1}))])),_:1},8,["label"])):e.doc_attributes[e.po_table_in_layout_builder]?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[e.po_items_loaded?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("span",s,(0,o.v_)(e.$t("loading_po_tables")),1),(0,a.bF)(f,{color:"grey",size:"2em",class:"q-ml-sm"})],64)),e.po_items_loaded&&0===e.po_items.length?((0,a.uX)(),(0,a.Wv)(_,{key:1,name:"po_tables",label:e.$t("po_tables")},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("po_table_not_found")),1)])),_:1})])),_:1},8,["label"])):e.po_items_loaded&&e.objLen(e.po_items)>0?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:2},(0,a.pI)(e.po_items,((t,l)=>((0,a.uX)(),(0,a.Wv)(_,{key:l,name:l,"data-name":l,tabindex:"0",class:"po-tab"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.bF)(v,{class:"q-mr-sm mt-3 po-indication-icon",name:"img:images/po_not_matched.svg"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("po_table")),1)])),_:1})])),_:1}),(0,a.Lk)("label",null,(0,o.v_)(l),1),(0,a.bF)(C,{"context-menu":""},{default:(0,a.k6)((()=>[(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(k,{clickable:"",onClick:t=>e.copyToClipboard(l)},{default:(0,a.k6)((()=>[(0,a.bF)(y,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("copy_to_clipboard")),1)])),_:1})])),_:2},1032,["onClick"])),[[V]])])),_:2},1024)])),_:2},1024)])])),_:2},1032,["name","data-name"])))),128)):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)])),_:1},8,["modelValue"]),(0,a.bF)(I,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),class:"page-background"},{default:(0,a.k6)((()=>[e.display_tabs&&e.showChargesTable?((0,a.uX)(),(0,a.Wv)(E,{key:0,name:"compare_line_items",class:"no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(L),(0,a.bF)(F,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"])])),_:1})):(0,a.Q3)("",!0),e.display_tabs?((0,a.uX)(),(0,a.Wv)(E,{key:1,name:"invoice_line_items",class:"no-padding"},{default:(0,a.k6)((()=>[e.has_ai_table?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(A,{isReadOnly:!0})])):e.table_extration_setting?((0,a.uX)(),(0,a.CE)("div",d,[e.renderTable?((0,a.uX)(),(0,a.Wv)(S,{key:0,fieldName:e.firstTableName,isReadOnly:!0},null,8,["fieldName"])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])),_:1})):(0,a.Q3)("",!0),e.doc_attributes[e.po_table_in_layout_builder]&&e.po_items_loaded&&e.objLen(e.po_items)>0?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:2},(0,a.pI)(e.po_items,((t,l)=>((0,a.uX)(),(0,a.Wv)(E,{key:l,name:l},{default:(0,a.k6)((()=>[e.loading_panels?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("span",u,(0,o.v_)(e.$t("loading_po_tables")),1),(0,a.bF)(f,{color:"grey",size:"2em",class:"q-ml-sm"})],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[e.visible_columns&&e.objLen(e.visible_columns)>0?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(D,{po_lines:t,po_number:l,visible_columns:e.visible_columns},null,8,["po_lines","po_number","visible_columns"]),e.visible_columns&&0==e.objLen(e.visible_columns)?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)(" no po columns found ")],64)):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)],64))])),_:2},1032,["name"])))),128)):(0,a.Q3)("",!0)])),_:1},8,["modelValue"])]),(0,a.bF)(q,{modelValue:e.delete_tab_confirmation,"onUpdate:modelValue":t[4]||(t[4]=t=>e.delete_tab_confirmation=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(P,null,{default:(0,a.k6)((()=>[(0,a.bF)(O,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(T,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(O,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",c,(0,o.v_)(e.$t("delete_po_tab")),1)])),_:1}),(0,a.bF)(R,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(M,{appearance:"cancel",label:e.$t("cancel"),onClick:t[2]||(t[2]=t=>e.delete_tab_po_number="")},null,8,["label"]),[[V]]),(0,a.bo)((0,a.bF)(M,{"data-cy":"done",label:e.$t("proceed"),onClick:t[3]||(t[3]=t=>e.proceedDeletePoTab())},null,8,["label"]),[[V]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var h=l(1659),m=l(24622),_=l(38734),b=l(68450),v=l(64233),g=l(25891),f=l(76956),y=l(78652),k=l(79893),w=l(68220),C=l(73855),x=l(35484);const L={class:"highlighted-back"},F={style:{width:"100%"},class:"text-left"},E={class:"row no-wrap q-pa-sm q-pb-md"},A={class:"col-sm-12 col-md-12 col-lg-12"},S={key:0,class:"text-italic text-bold"},D={class:"row no-wrap q-pa-sm q-pb-md"},I={class:"col-sm-12 col-md-12 col-lg-12"},T={key:1},O={class:"highlighted-back"};function M(e,t,l,i,s,n){const r=(0,a.g2)("q-icon"),d=(0,a.g2)("q-tooltip"),u=(0,a.g2)("q-btn"),c=(0,a.g2)("q-menu"),p=(0,a.g2)("q-markup-table");return e.tableRows.length>0?((0,a.uX)(),(0,a.Wv)(p,{key:0,class:"full-width text-uppercase sticky-header table-height"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",L,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tableColumns,(t=>((0,a.uX)(),(0,a.CE)("th",{key:t.name,class:"text-left"},[(0,a.Lk)("div",F,[(0,a.eW)((0,o.v_)(t.label)+" ",1),t.icon?((0,a.uX)(),(0,a.Wv)(r,{key:0,name:"img:images/charges/"+t.icon,size:"xs",class:"icon-grey-svg q-ml-md"},null,8,["name"])):(0,a.Q3)("",!0),e.approvalNeededColumns.has(t.name)?((0,a.uX)(),(0,a.Wv)(r,{key:1,class:"cursor-pointer q-ml-md",name:"menu",size:"xs"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{fit:"","auto-close":"",anchor:"bottom middle",self:"top middle"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",E,[(0,a.Lk)("div",A,[(0,a.bF)(u,{round:"",color:"positive",icon:"done",size:"xs",class:"q-mr-sm",onClick:l=>e.approveOrRecject(t.name,e.approvalInfoStatus.approved,t.originalName)},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("accept_all")),1)])),_:1})])),_:2},1032,["onClick"]),(0,a.bF)(u,{round:"",color:"red-5",icon:"close",size:"xs",class:"q-mr-sm",onClick:l=>e.approveOrRecject(t.name,e.approvalInfoStatus.rejected,t.originalName)},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("reject_all")),1)])),_:1})])),_:2},1032,["onClick"]),(0,a.bF)(u,{round:"",color:"grey-5",icon:"delete",size:"xs",onClick:l=>e.approveOrRecject(t.name,e.approvalInfoStatus.pending,t.originalName)},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("remove")),1)])),_:1})])),_:2},1032,["onClick"])])])])),_:2},1024)])),_:2},1024)):(0,a.Q3)("",!0)])])))),128))])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tableRows,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:l},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tableColumns,((l,i)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:i},[t[l.name]?((0,a.uX)(),(0,a.CE)("td",{key:0,class:(0,o.C4)(t[l.name].class)},[l.label?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(t[l.name].value)+" ",1),t[l.name].amount?((0,a.uX)(),(0,a.CE)("span",S," ("+(0,o.v_)(t[l.name].amount)+")",1)):(0,a.Q3)("",!0)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[t[l.name].value?((0,a.uX)(),(0,a.Wv)(r,{key:0,name:"warning",color:"warning"})):(0,a.Q3)("",!0)],64)),t[l.name].class.startsWith("no-left-border")?((0,a.uX)(),(0,a.Wv)(r,{key:2,class:"float-right cursor-pointer",name:"menu",size:"xs"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{fit:"","auto-close":"",anchor:"bottom middle",self:"top middle"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",D,[(0,a.Lk)("div",I,[(0,a.bF)(u,{round:"",color:"positive",icon:"done",size:"xs",class:"q-mr-sm",onClick:a=>e.proceedWithApprovalWrapper(t,l.name,l.originalName)},null,8,["onClick"]),(0,a.bF)(u,{round:"",color:"red-5",icon:"close",size:"xs",class:"q-mr-sm",onClick:a=>e.proceedWithRejectionWrapper(t,l.name,l.originalName)},null,8,["onClick"]),(0,a.bF)(u,{round:"",color:"grey-5",icon:"delete",size:"xs",onClick:a=>e.restStatusWrapper(t,l.name,l.originalName)},null,8,["onClick"])])])])),_:2},1024)])),_:2},1024)):(0,a.Q3)("",!0)],2)):((0,a.uX)(),(0,a.CE)("td",T," 0 "))],64)))),128))])))),128))])])),_:1})):((0,a.uX)(),(0,a.Wv)(p,{key:1,class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",O,[(0,a.Lk)("th",null,(0,o.v_)(e.$t("pages.messages.NO_PO_MATCHING_FOUND")),1)])])])),_:1}))}var R=l(46736),P=l(96056),q=l(73178),V=l(83319),N=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const B=(0,a.pM)({el:"#app",mixins:[P.A,q.A,R.A,m.A],data(){return{tableColumns:(0,_.KR)([]),tableRows:(0,_.KR)([]),colorOrange:"orange",colorSucess:"sucess",colorError:"error",columnLblPrefix:"",approvalInfoStatus:f.qS}},mounted:function(){this.init()},methods:{init(){return N(this,void 0,void 0,(function*(){this.user_settings[f.lZ]&&(yield this.prepareCostingElementDictionary()),yield this.prepareChargesFields(),this.prepareTableData()}))},prepareTableData(){this.record.po_items&&("ORDER_CONFIRMATION"==this.record.doc_type?this.columnLblPrefix="855":this.columnLblPrefix=this.$t("invoice"),this.buildPoLinesObj(this.record.po_items),this.prepareLinedictionary(),this.prepareTableColumns(),this.prepareTableRow())},prepareTableColumns(){this.tableColumns=[{name:"icons_area",field:"icons_area",align:"left",label:"",sortable:!1,originalName:"icons_area"},{name:"position_number",field:"position_number",align:"left",label:this.$t("position_number"),sortable:!0,originalName:"position_number"},{name:"item_number",field:"item_number",align:"left",label:this.$t("item_number"),sortable:!0,originalName:"item_number"},{name:"description",field:"description",align:"left",label:this.$t("description"),sortable:!0,originalName:"description"},{name:"unit",field:"unit",align:"left",label:this.$t("unit"),sortable:!0,originalName:"unit"},{name:"po_quantity",field:"po_quantity",align:"left",label:"PO: "+this.$t("quantity"),sortable:!0,originalName:"quantity"},{name:"invoice_quantity",field:"invoice_quantity",align:"left",label:this.columnLblPrefix+": "+this.$t("quantity"),sortable:!0,originalName:"quantity"},{name:"po_unit_price",field:"po_unit_price",align:"left",label:"PO: "+this.$t("unit_price"),sortable:!0,originalName:"unit_price"},{name:"invoice_unit_price",field:"invoice_unit_price",align:"left",label:this.columnLblPrefix+": "+this.$t("unit_price"),sortable:!0,originalName:"unit_price"}];const e=f.aH.TABLE_EXTRA_COLUMNS_+this.record.doc_type,t=this.user_settings[e];t&&(this.tableColumns.push({name:"po_promised_delivery_date",field:"po_promised_delivery_date",align:"left",label:"PO: "+this.$t("promised_delivery_date"),sortable:!0,originalName:"promised_delivery_date"}),this.tableColumns.push({name:"invoice_promised_delivery_date",field:"invoice_promised_delivery_date",align:"left",label:this.columnLblPrefix+": "+this.$t("promised_delivery_date"),sortable:!0,originalName:"promised_delivery_date"}))},prepareDataforonePoOneLine(e){let t=JSON.parse(JSON.stringify(e));return t.approval_comparison_data={},t.approval_comparison_data.quantity_expected=t.matching_info.QUANTITY.expected,t.approval_comparison_data.quantity_actual=t.matching_info.QUANTITY.actual,t.approval_comparison_data.unit_price_expected=t.matching_info.UNIT_PRICE.expected,t.approval_comparison_data.unit_price_actual=t.matching_info.UNIT_PRICE.actual,e.hasOwnProperty("approval_info")||(t.approval_info={},e.approval_info={}),e.matching_info.QUANTITY.is_matched||e.approval_info.hasOwnProperty("quantity")||(t.approval_info.quantity={},t.approval_info.quantity.approval_required=!0,e.approval_info.quantity={},e.approval_info.quantity.approval_required=!0),e.matching_info.UNIT_PRICE.is_matched||e.approval_info.hasOwnProperty("unit_price")||(t.approval_info.unit_price={},t.approval_info.unit_price.approval_required=!0,e.approval_info.unit_price={},e.approval_info.unit_price.approval_required=!0),t},prepareTableRow(){if(this.tableRows=[],this.record.hasOwnProperty("po_multi_matched")&&0!=this.record.po_multi_matched.length)for(let[e,t]of this.record.po_multi_matched.entries())t.hasOwnProperty("sub_lines")?this.multiPoToOneLine(t):(t.hasOwnProperty("table_lines"),this.onePoToOneLine(t))},multiPoToOneLine(e){for(const t of e.sub_lines)this.onePoToOneLine(t)},onePoToOneLine(e){const t={po_quantity:e.approval_comparison_data.quantity_expected,invoice_quantity:e.approval_comparison_data.quantity_actual,po_unit_price:e.approval_comparison_data.unit_price_expected,invoice_unit_price:e.approval_comparison_data.unit_price_actual,po_promised_delivery_date:e.approval_comparison_data.promised_delivery_date_expected,invoice_promised_delivery_date:e.approval_comparison_data.promised_delivery_date_actual};this.createNewTableRow(e,t)},createNewTableRow(e,t){let l="",a="",o="";e.approval_info&&(l=this.getStyleClassForNormalColumns(e,"unit_price"),a=this.getStyleClassForNormalColumns(e,"quantity"),o=this.getStyleClassForNormalColumns(e,"promised_delivery_date"));let i=!1;a!=this.colorOrange&&l!=this.colorOrange&&o!=this.colorOrange||(i=!0),a&&this.approvalNeededColumns.add("invoice_quantity"),l&&this.approvalNeededColumns.add("invoice_unit_price"),o&&this.approvalNeededColumns.add("invoice_promised_delivery_date");const s={icons_area:{value:i,class:""},po_line_id:{value:e.po_line_id,class:""},position_number:{value:this.PODataObj[e.po_line_id].line_number,class:""},item_number:{value:this.PODataObj[e.po_line_id].item_id,class:""},description:{value:this.PODataObj[e.po_line_id].description,class:""},unit:{value:this.PODataObj[e.po_line_id].unit_code,class:""},po_quantity:{value:t.po_quantity,actual_name:"quantity",class:a?"no-right-border-"+a:""},invoice_quantity:{value:t.invoice_quantity,actual_name:"quantity",class:a?"no-left-border-"+a:"",po_pair_name:"po_quantity"},po_unit_price:{value:t.po_unit_price,actual_name:"unit_price",class:l?"no-right-border-"+l:""},invoice_unit_price:{value:t.invoice_unit_price,actual_name:"unit_price",class:l?"no-left-border-"+l:"",po_pair_name:"po_unit_price"},po_promised_delivery_date:{value:t.po_promised_delivery_date,actual_name:"promised_delivery_date",class:o?"no-right-border-"+o:""},invoice_promised_delivery_date:{value:t.invoice_promised_delivery_date,actual_name:"promised_delivery_date",class:o?"no-left-border-"+o:"",po_pair_name:"po_promised_delivery_date"}};e.additional_charges&&e.additional_charges.length>=0&&this.additionalCharges(e.additional_charges,s),this.tableRows.push(s)},additionalCharges(e,t){for(const l of e)l.costing_element&&this.addNewColumnIfNotExist(l,t)},addNewColumnIfNotExist(e,t){let l=!1;for(let u of this.tableColumns)if(u.field==e.costing_element){l=!0;break}const a="po_"+e.costing_element,o="invoice_"+e.costing_element;if(!l){const t=this.costingElementDictionary[e.costing_element],l=t?t.label:e.costing_element;this.tableColumns.push({name:a,field:e.costing_element,align:"left",label:"PO: "+l,icon:t?t.icon:"",sortable:!0,originalName:this.getChargesNameByCostingElement(e.costing_element)}),this.tableColumns.push({name:o,field:e.costing_element,align:"left",label:this.columnLblPrefix+": "+l,sortable:!0,originalName:this.getChargesNameByCostingElement(e.costing_element)})}const i=this.getStyleClassForChargesColumns(e);i==this.colorOrange&&(t.icons_area.value=!0),i&&this.approvalNeededColumns.add(o);let s="",n=e.po_charge_amount,r="",d=e.amount;e.is_tax?(s=e.expected_charge_rate,r=e.charge_rate):(s=e.expected_unit_price,r=e.unit_price),t[a]={value:s,amount:n,class:i?"no-right-border-"+i:""},t[o]={value:r,amount:d,charge_code:e.costing_element,class:i?"no-left-border-"+i:"",po_pair_name:a,is_charge:!0}},getStyleClassForNormalColumns(e,t){let l="";if(e.approval_info[t]&&e.approval_info[t].approval_required){l=this.colorOrange;const a=e.approval_info[t].approval_status;a&&(l=a==f.qS.approved?this.colorSucess:this.colorError)}return l},getStyleClassForChargesColumns(e){let t="";if(e.approval_info&&e.approval_info.approval_required){t=this.colorOrange;const l=e.approval_info.approval_status;l&&(t=l==f.qS.approved?this.colorSucess:this.colorError)}return t},approveOrRecject(e,t,l){if(this.checkForApprovalpermission(l))for(let a of this.tableRows)for(let[l,o]of Object.entries(a))e==l&&o.class.startsWith("no-left-border")&&(this.approvalInfoStatus.approved==t?this.proceedWithApproval(a,e):this.approvalInfoStatus.rejected==t?this.proceedWithRejection(a,e):this.restStatus(a,e));else this.showErrorToast(this.$t("pages.messages.NOT_AUTHORIZED_TO_APPROVE"))},proceedWithApprovalWrapper(e,t,l){this.checkForApprovalpermission(l)?this.proceedWithApproval(e,t):this.showErrorToast(this.$t("pages.messages.NOT_AUTHORIZED_TO_APPROVE"))},proceedWithApproval(e,t){this.handleApprovalInfo(f.qS.approved,t,e);const l=e[t].po_pair_name;e[t].class="no-left-border-sucess",e[l].class="no-right-border-sucess",this.handleRowApprovalStatus(e)},handleRowApprovalStatus(e){let t=!1;for(const[l,a]of Object.entries(e))if(a.class.endsWith(this.colorOrange)){t=!0;break}t||(e.icons_area.value=!1)},proceedWithRejectionWrapper(e,t,l){this.checkForApprovalpermission(l)?this.proceedWithRejection(e,t):this.showErrorToast(this.$t("pages.messages.NOT_AUTHORIZED_TO_APPROVE"))},proceedWithRejection(e,t){this.handleApprovalInfo(f.qS.rejected,t,e);const l=e[t].po_pair_name;e[t].class="no-left-border-error",e[l].class="no-right-border-error",this.handleRowApprovalStatus(e)},restStatusWrapper(e,t,l){this.checkForApprovalpermission(l)?this.restStatus(e,t):this.showErrorToast(this.$t("pages.messages.NOT_AUTHORIZED_TO_APPROVE"))},restStatus(e,t){this.handleApprovalInfo(f.qS.pending,t,e);const l=e[t].po_pair_name;e[t].class="no-left-border-orange",e[l].class="no-right-border-orange",this.handleRowApprovalStatus(e)},handleApprovalInfo(e,t,l){const a=l.po_line_id.value,o=l[t].po_pair_name,i={status:e,currentUserId:this.getLoggedinUserId(),currentDateTime:Date.now(),lineFieldValue:isNaN(l[t].value)?l[t].value:Number(l[t].value),poFieldValue:isNaN(l[o].value)?l[o].value:Number(l[o].value)};e:for(let[s,n]of this.record.po_multi_matched.entries())if(n.hasOwnProperty("po_line_id")){if(n.po_line_id==a){this.updatePORow(n,l[t],i,l[t].actual_name);break e}}else if(n.hasOwnProperty("sub_lines"))for(let[e,o]of n.sub_lines.entries())if(o.po_line_id==a){this.updatePORow(o,l[t],i,l[t].actual_name);break e}},updatePORow(e,t,l,a){if(t.is_charge){for(let o of e.additional_charges)if(o.costing_element==t.charge_code){let e="unit_price";return o.is_tax&&(e="charge_rate"),void(o["approval_info"]=this.getApprovalInfoDetails(l,e,!0,a,o["approval_info"]))}}else e.approval_info[a]=this.getApprovalInfoDetails(l,"amount",!1,a,e.approval_info[a])},getApprovalInfoDetails(e,t,l,a,o){if(e.status==f.qS.pending){let e={approval_required:!0};return o.reason&&(e["reason"]=o.reason),e}return Object.assign(o,this.getApprovalInfoObj(e,t,l,a)),o},getApprovalInfoObj(e,t,l,a){const o=e.lineFieldValue?e.lineFieldValue:0,i=e.poFieldValue?e.poFieldValue:0;let s=0,n=0;e.status==f.qS.approved&&(s=o,n=0),e.status==f.qS.rejected&&(s=i,n=a&&a.toLowerCase().includes("date")?this.dateDifferenceInMiliSec(o,i):o-i);let r={approval_required:!0,approval_status:e.status,approved_or_rejected_by:e.currentUserId,approved_or_rejected_at:e.currentDateTime};return a&&a.toLowerCase().includes("date")?(r["approved_date"]=s,r["rejected_date"]=n):(r["approved_amount"]=s,r["rejected_amount"]=n),l&&(r["approval_type"]=t),r}},setup(){const e=(0,V.R9)(),{PODataObj:t,lineDataObj:l}=(0,h.bP)(e),{buildPoLinesObj:a,prepareLinedictionary:o}=e,i=(0,V.q3)(),{checkForApprovalpermission:s,getChargesNameByCostingElement:n,prepareChargesFields:r}=i,{record:d,tablePermissions:u,fieldPermissions:c}=(0,h.bP)(i),p=(0,V.Bu)(),{user_settings:m,loading_settings:b}=(0,h.bP)(p),v=(0,V.rD)(),{prepareCostingElementDictionary:g}=v,{costingElementDictionary:f}=(0,h.bP)(v),y=(0,V._6)(),{isAdmin:k}=y;return{isAdmin:k,buildPoLinesObj:a,prepareChargesFields:r,prepareLinedictionary:o,prepareCostingElementDictionary:g,getChargesNameByCostingElement:n,checkForApprovalpermission:s,costingElementDictionary:f,user_settings:m,lineDataObj:l,PODataObj:t,record:d,tablePermissions:u,fieldPermissions:c,approvalNeededColumns:(0,_.KR)(new Set)}}});var $=l(12807),Q=l(857),X=l(50492),W=l(84436),K=l(56384),U=l(97410),j=l(98582),z=l.n(j);const H=(0,$.A)(B,[["render",M],["__scopeId","data-v-72e76e8b"]]),G=H;z()(B,"components",{QMarkupTable:Q.A,QIcon:X.A,QMenu:W.A,QBtn:K.A,QTooltip:U.A});var Y=l(30431),J=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};let Z;const ee=(0,a.pM)({name:"extracted-table-tab-panels",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["inputValueChanges","updateModel"],mixins:[g.A,k.A,v.A,m.A],components:{PoTable:x.A,LineItemTable:w.A,AIExtractedTable:Y.A,LineItemApprovalTable:G},watch:{doc_loaded:{handler:function(e,t){this.init()}},po_items_loaded:{handler:function(e,t){this.initPoTabPanels()}}},data(){return{tables:(0,_.KR)(C.o.data().tables),renderTable:(0,_.KR)(!1),firstTableName:(0,_.KR)(""),extractedTables:(0,_.KR)([]),table_extraction_setting:f.sO,po_table_in_layout_builder:f.iD,AI_table_extraction_setting:f.N1,objLen:b.Ns,po_table_columns:f.lv,showChargesTable:(0,_.KR)(!1)}},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted(){this.init(),document.addEventListener("prepare_rows",this.reRenderPanel),window.fvt=this,Z=this},unmounted:function(){document.removeEventListener("prepare_rows",this.reRenderPanel)},methods:{init(){if(this.isFormBuilderMode)return this.AI_setting_flag=!0,void(this.table_extration_setting=!0);this.isPoTableInLayoutBuilder(),this.initPoTabPanels(),this.record.table_blocked?this.display_tabs=!1:this.record.tables&&0!==Object.keys(this.record.tables).length?(this.record.status==f.aH.validated_pending_approval&&(this.showChargesTable=!0),this.display_tabs=!0,this.prepareTables(),this.checkSetting(),this.handleTabChange()):this.display_tabs=!1},copyToClipboard(e){return J(this,void 0,void 0,(function*(){try{if(!e)return;"number"===typeof e&&(e=e.toString()),yield(0,y.A)(e),this.showSuccessToast(this.$t("success_copy_to_clipboard"))}catch(t){this.showErrorToast(this.$t("error_copy_to_clipboard"))}}))},handleTabChange(){this.has_ai_table&&this.AI_setting_flag&&(this.tab="compare_line_items")},checkSetting(){this.AI_setting_flag=!1,this.table_extration_setting=!1,this.user_settings[this.AI_table_extraction_setting]&&(this.AI_setting_flag=this.user_settings[this.AI_table_extraction_setting]),this.user_settings[this.table_extraction_setting]&&(this.table_extration_setting=this.user_settings[this.table_extraction_setting]),this.AI_setting_flag||this.table_extration_setting||this.$nextTick((function(){setTimeout((function(){Z.isExtenedPanel=!1;const e=new CustomEvent("set_splitter_model",{detail:{data:!1}});document.dispatchEvent(e)}),100)}))},prepareTables(){return J(this,void 0,void 0,(function*(){yield this.getDocumentTables(this.docType);for(let[e,t]of Object.entries(this.documentTables))this.tables[0].name=e,this.tables[0].text="Table ("+e+")",this.extractedTables.push(JSON.parse(JSON.stringify(this.tables[0]))),this.documentTableNames.push(e),this.firstTableName=this.documentTableNames[0];this.renderTable=!0}))},goToTableExtraction(){this.isFormBuilderMode||this.$router.push("/tbl_ext_v3/"+this.$route.params.id)},reRenderPanel(){this.init()},initPoTabPanels(){return J(this,void 0,void 0,(function*(){try{if(logInfo("initPoTabPanels",this.po_items_loaded,this.objLen(this.po_items),this.doc_attributes[this.po_table_in_layout_builder]),this.isFormBuilderMode||!1===this.po_items_loaded||0==this.objLen(this.po_items)||!1===this.doc_attributes[this.po_table_in_layout_builder]||this.objLen(this.visible_columns)>0)return;this.loading_panels=!0,yield this.getPOColumns(),yield this.startSettingsFetch(),this.visible_columns=yield this.getSavedColumns(this.po_table_columns),logInfo("initPoTabPanels",this.visible_columns)}catch(e){logError("Error in initPoTabPanels",e)}finally{this.loading_panels=!1}}))},proceedDeletePoTab(){this.handleTabChange(),this.deletePoTab()}},setup(){const e=(0,V.uL)(),{formBuilderModel:t,formBuilderConfigModel:l,isFormBuilderMode:a,documentTableNames:o,documentTables:i,isExtenedPanel:s,docType:n}=(0,h.bP)(e),{getDocumentTables:r}=e,d=(0,V.q3)(),{doc_loaded:u,selected_doc_type:c,has_ai_table:p,record:m,po_items:b,po_items_loaded:v,delete_tab_confirmation:g,delete_tab_po_number:f}=(0,h.bP)(d),{isPoTableInLayoutBuilder:k,isPODeleteAble:w,proceedToClosePOTab:C,refreshPOItems:x,deletePoTab:L}=d,F=(0,V.Bu)(),{user_settings:E}=(0,h.bP)(F),{startSettingsFetch:A}=F,S=(0,V.wt)(),{model:D}=(0,h.bP)(S),I=(0,V.R9)(),{table_columns:T}=(0,h.bP)(I),{getSavedColumns:O,getPOColumns:M}=I;return{delete_tab_confirmation:g,deletePoTab:L,delete_tab_po_number:f,refreshPOItems:x,proceedToClosePOTab:C,isPODeleteAble:w,getPOColumns:M,startSettingsFetch:A,loading_panels:(0,_.KR)(!1),table_columns:T,getSavedColumns:O,isPoTableInLayoutBuilder:k,po_items:b,po_items_loaded:v,selected_doc_type:c,doc_attributes:D,user_settings:E,record:m,docType:n,doc_loaded:u,has_ai_table:p,documentTables:i,isExtenedPanel:s,formBuilderModel:t,isFormBuilderMode:a,documentTableNames:o,formBuilderConfigModel:l,tab:(0,_.KR)("compare_line_items"),quasarCopyToClipboard:y.A,AI_setting_flag:(0,_.KR)(!1),table_extration_setting:(0,_.KR)(!1),display_tabs:(0,_.KR)(!0),visible_columns:(0,_.KR)([]),getDocumentTables:r}}});var te=l(42980),le=l(10327),ae=l(23954),oe=l(59198),ie=l(53999),se=l(90124),ne=l(25173),re=l(39041),de=l(71746),ue=l(10386),ce=l(82156),pe=l(23316),he=l(44189),me=l(3952),_e=l(62669),be=l(88672);const ve=(0,$.A)(ee,[["render",p]]),ge=ve;z()(ee,"components",{QTabs:te.A,QTab:le.A,QBadge:ae.A,QIcon:X.A,QTooltip:U.A,QSpinnerDots:oe.A,QMenu:W.A,QList:ie.A,QItem:se.A,QItemSection:ne.A,QTabPanels:re.A,QTabPanel:de.A,QSeparator:ue.A,QDialog:ce.A,QCard:pe.A,QCardSection:he.A,QAvatar:me.A,QCardActions:_e.A}),z()(ee,"directives",{ClosePopup:be.A})},23852:(e,t,l)=>{"use strict";l.d(t,{A:()=>m});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-separator");return(0,a.uX)(),(0,a.Wv)(r,{size:"2px",class:(0,o.C4)(["cursor-pointer",e.formBuilderConfigModel[e.fieldName].space_from_top+" "+e.formBuilderConfigModel[e.fieldName].space_from_bottom]),onClick:t[0]||(t[0]=t=>e.$emit("inputClicked",e.fieldName))},null,8,["class"])}var s=l(1659),n=l(83319);const r=(0,a.pM)({name:"HorizontalSeparator",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["updateModel","inputClicked"],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{},setup(){const e=(0,n.uL)(),{isFormBuilderMode:t,formBuilderConfigModel:l}=(0,s.bP)(e);return{isFormBuilderMode:t,formBuilderConfigModel:l}}});var d=l(12807),u=l(10386),c=l(98582),p=l.n(c);const h=(0,d.A)(r,[["render",i]]),m=h;p()(r,"components",{QSeparator:u.A})},62409:(e,t,l)=>{"use strict";l.d(t,{A:()=>h});var a=l(61758),o=l(58790);const i={class:"full-width full-height cursor-pointer"};function s(e,t,l,s,n,r){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("span",{onClick:t[0]||(t[0]=t=>e.$emit("inputClicked",e.fieldName))},(0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder.")),1)])}var n=l(1659),r=l(83319),d=l(25891);const u=(0,a.pM)({name:"TextInput",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["updateModel","inputClicked"],mixins:[d.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{},setup(){const e=(0,r.uL)(),{formBuilderConfigModel:t,isFormBuilderMode:l}=(0,n.bP)(e);return{isFormBuilderMode:l,formBuilderConfigModel:t}}});var c=l(12807);const p=(0,c.A)(u,[["render",s]]),h=p},57659:(e,t,l)=>{"use strict";l.d(t,{A:()=>S});var a=l(61758),o=l(58790);const i={class:"full-width"},s={key:0,class:"col-sm-12 col-md-12 col-lg-12 display-flex"},n=["id"],r={class:"ellipsify"},d={class:"inner-field-actions",style:{height:"38px"}};function u(e,t,l,u,c,p){const h=(0,a.g2)("q-tooltip"),m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-badge"),b=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.CE)("div",i,[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?((0,a.uX)(),(0,a.CE)("div",{key:0,style:(0,o.Tr)("width:"+e.formBuilderConfigModel[e.fieldName].labelWidth+"%"),class:"display-block"},[(0,a.Lk)("div",{class:(0,o.C4)(e.fieldName+"  full-width")},[(0,a.eW)(" 2. "+(0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],""))+" ",1),(0,a.Q3)("",!0)],2)],4)):(0,a.Q3)("",!0),(0,a.Lk)("div",{style:(0,o.Tr)("width:"+e.getInputFieldWidth(e.formBuilderConfigModel[e.fieldName])+"%"),class:"display-block"},[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",{class:(0,o.C4)(["ellipsify",e.fieldName+" full-width"])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],""))+" ",1),(0,a.Q3)("",!0),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"")),1)])),_:1})],2)])),(0,a.Lk)("div",{id:e.fieldName,class:(0,o.C4)(["col-sm-12 col-md-12 col-lg-12","input-text-28px"])},[(0,a.bF)(b,{outlined:"",clearable:"","use-input":"","data-field-name":e.formBuilderConfigModel[e.fieldName].field_name,options:e.filteredUserList,disable:e.isReadOnly||e.formBuilderConfigModel[e.fieldName].is_readonly,class:(0,o.C4)("full-width input-field ellipsify"+e.formBuilderConfigModel[e.fieldName].field_name+"_input "+e.formBuilderConfigModel[e.fieldName].color+" "+(e.formBuilderModel[e.fieldName].input_error?" invalid-input ":"")+e.formBuilderModel[e.fieldName].input_error),"onUpdate:modelValue":[t[0]||(t[0]=t=>{e.changeEventHandler(t)}),t[1]||(t[1]=t=>e.formBuilderModel[e.fieldName].formatted_value=t)],modelValue:e.formBuilderModel[e.fieldName].formatted_value,"data-cy":e.formBuilderModel[e.fieldName].field_name,"emit-value":"","map-options":"",onFilter:e.eventFilterUserList,loading:e.user_list_loading},{"selected-item":(0,a.k6)((e=>[(0,a.Lk)("div",r,(0,o.v_)(e.opt.label),1)])),append:(0,a.k6)((()=>[(0,a.Lk)("div",d,[e.formBuilderModel[e.fieldName].input_error?((0,a.uX)(),(0,a.Wv)(m,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[""!==e.formBuilderModel[e.fieldName].input_error?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t(e.formBuilderModel[e.fieldName].input_error)),1)],64)):(0,a.Q3)("",!0)])),_:1})])),_:1})):(0,a.Q3)("",!0),e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(_,{key:1,color:"orange","text-color":"black",label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["label"])):(0,a.Q3)("",!0)])])),_:1},8,["data-field-name","options","disable","class","modelValue","data-cy","onFilter","loading"])],8,n)],4)])}var c=l(1659),p=l(87374),h=l(38734),m=l(25891),_=l(55987),b=l(76956),v=l(14792),g=l(83319),f=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const y=(0,a.pM)({name:"SecondApprover",components:{},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,default:0}},emits:["inputClicked","inputValueChanges","updateModel"],mixins:[m.A,v.A,_.A,p.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.init()},unmounted:function(){},methods:{init(){return f(this,void 0,void 0,(function*(){this.isFormBuilderMode||(yield this.prepareUsersDropdown(),this.filteredUserList=this.usersList)}))},filertByAssignedToKey(e){const t=e.toLowerCase();this.filteredUserList=this.usersList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))},changeEventHandler(e){this.formBuilderModel[this.fieldName].formatted_value=e,this.formBuilderModel[this.fieldName].value=e,this.formBuilderModel[this.fieldName].input_error="",this.formBuilderConfigModel[this.fieldName].color=b.aH.success_border_left,this.$emit("inputValueChanges",this.fieldName,"input")},eventFilterUserList(e,t,l){try{if(""===e)return void t((()=>{this.filteredUserList=this.usersList}));t((()=>{this.filertByAssignedToKey(e)}))}catch(a){logError(a),l()}}},setup(){const e=(0,g.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,showTabIndex:o}=(0,c.bP)(e),i=(0,g.cY)(),s=(0,h.KR)(i.usersList),{prepareUsersDropdown:n}=i,{user_list_loading:r,usersList:d}=(0,c.bP)(i);return{prepareUsersDropdown:n,user_list_loading:r,usersList:d,filteredUserList:s,showTabIndex:o,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a}}});var k=l(12807),w=l(97410),C=l(94940),x=l(50492),L=l(23954),F=l(98582),E=l.n(F);const A=(0,k.A)(y,[["render",u]]),S=A;E()(y,"components",{QTooltip:w.A,QSelect:C.A,QIcon:x.A,QBadge:L.A})},41582:(e,t,l)=>{"use strict";l.d(t,{A:()=>S});var a=l(61758),o=l(58790);const i={class:"full-width"},s={key:0,class:"col-sm-12 col-md-12 col-lg-12 display-flex"},n=["id","child_type"];function r(e,t,l,r,d,u){const c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-badge"),h=(0,a.g2)("q-input");return(0,a.uX)(),(0,a.CE)("div",i,[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?((0,a.uX)(),(0,a.CE)("div",{key:0,style:(0,o.Tr)("width:"+e.formBuilderConfigModel[e.fieldName].labelWidth+"%"),class:"display-block"},[(0,a.Lk)("div",{class:(0,o.C4)(e.fieldName+"  full-width")},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0)],2)],4)):(0,a.Q3)("",!0),(0,a.Lk)("div",{style:(0,o.Tr)("width:"+e.getInputFieldWidth(e.formBuilderConfigModel[e.fieldName])+"%"),class:"display-block"},[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",{class:(0,o.C4)(["ellipsify",e.fieldName+" full-width"])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder.")),1)])),_:1})],2)])),(0,a.Lk)("div",{id:e.fieldName,child_type:e.formBuilderConfigModel[e.fieldName].is_textarea?"textarea":"input",class:(0,o.C4)(["col-sm-12 col-md-12 col-lg-12 autocomplete",e.formBuilderConfigModel[e.fieldName].is_textarea?" ":" input-text-28px"]),role:"combobox","aria-autocomplete":"list","aria-controls":"suggestions","aria-expanded":"false"},[(0,a.bF)(h,{outlined:"",dense:"","data-name":e.fieldName,disable:e.isReadOnly||e.formBuilderConfigModel[e.fieldName].is_readonly,tabindex:e.formBuilderConfigModel[e.fieldName].tabIndex,autogrow:e.formBuilderConfigModel[e.fieldName].is_textarea,class:(0,o.C4)(" full-width "+e.fieldName+"_input "+(e.formBuilderConfigModel[e.fieldName].is_textarea?" ":"input-field ")+e.formBuilderConfigModel[e.fieldName].color+" "+e.formBuilderModel[e.fieldName].name+" "+e.addErrorClass()),onClick:t[0]||(t[0]=t=>{e.inputFieldClicked(t,e.fieldName)}),"onUpdate:modelValue":[t[1]||(t[1]=t=>{e.modelUpdated(t)}),t[3]||(t[3]=t=>e.formBuilderModel[e.fieldName].formatted_value=t)],onChange:t[2]||(t[2]=t=>{e.changeEvent()}),modelValue:e.formBuilderModel[e.fieldName].formatted_value,autocomplete:"off"},{append:(0,a.k6)((()=>[e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(p,{key:0,color:"orange","text-color":"black",label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["label"])):(0,a.Q3)("",!0)])),_:1},8,["data-name","disable","tabindex","autogrow","class","modelValue"])],10,n)],4)])}var d=l(1659),u=l(87374),c=l(24622),p=l(38734),h=l(40057),m=l(25891),_=l(55987),b=l(82080),v=l(21279),g=l(14792),f=l(83319),y=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const k=(0,a.pM)({name:"TextInput",components:{},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,default:0}},emits:["inputClicked","inputValueChanges","updateModel"],mixins:[m.A,g.A,_.A,u.A,c.A,b.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.init()},unmounted:function(){let e=this.getInputEl();e&&e.removeEventListener("update_field_value",this.updateModel)},methods:{init(){return y(this,void 0,void 0,(function*(){yield this.$nextTick();let e=this.getInputEl();e&&e.addEventListener("update_field_value",this.updateModel)}))},getInputEl(){let e=document.querySelector("."+this.fieldName+"_input");return e},updateModel(e){try{this.formBuilderModel[this.fieldName].formatted_value=e.detail.val,this.validateUpdateValue()}catch(t){logError(t)}},inputFieldClicked(e,t){e.stopPropagation(),this.$emit("inputClicked",t)},modelUpdated(e){this.formBuilderModel[this.fieldName].formatted_value=e,this.formBuilderModel[this.fieldName].update_timestamp=Date.now(),this.$emit("inputValueChanges",this.fieldName,"input")},formatAndvalidateDate(){const e=this.getFieldType();"date"===e&&v.v.format(this.formBuilderModel[this.fieldName].formatted_value).then((e=>{this.formBuilderModel[this.fieldName].formatted_value=e,""==e&&this.throwInputError("invalid_input_date")}))},changeEvent(){this.formatAndvalidateDate(),this.validateUpdateValue()},validateUpdateValue(){return y(this,void 0,void 0,(function*(){if(this.isFormBuilderMode)return;logInfo("validateUpdateValue",this.fieldName,this.formBuilderModel[this.fieldName].formatted_value);let e=this.formBuilderModel[this.fieldName].formatted_value;if(this.formBuilderModel[this.fieldName].update_timestamp=Date.now(),!e||""==e)return logError("validateUpdateValue 1",this.fieldName,e),void this.$emit("inputValueChanges",this.fieldName,"input");let t=!0,l="";this.formBuilderModel[this.fieldName].input_error=l;let a=this.formBuilderConfigModel[this.fieldName],o=this.formBuilderModel[this.fieldName];if(({is_valid:t,input_error:l}=yield h.m.init(o,a)),t)return logError("validateUpdateValue 2",this.fieldName,e),void this.$emit("inputValueChanges",this.fieldName,"input");this.throwInputError(l)}))},throwInputError(e){this.formBuilderModel[this.fieldName].input_error=e,logInfo("throwInputError",this.fieldName,this.formBuilderModel[this.fieldName].formatted_value),this.$emit("inputValueChanges",this.fieldName,"input")},fieldMask(){if(this.isFormBuilderMode)return"";const e=this.getFieldType();let t="";switch(e){case"date":t=v.v.getMask(this.getDocDateFormat());break;default:t="";break}return t},getFieldType(){return this.formBuilderConfigModel[this.fieldName]&&this.formBuilderConfigModel[this.fieldName].field_type?String(this.formBuilderConfigModel[this.fieldName].field_type.toLowerCase()):""},hasInputError(){return!!this.formBuilderModel[this.fieldName].input_error},addErrorClass(){if(!this.hasInputError())return"";let e=" invalid-input ";return this.formBuilderModel[this.fieldName].input_error&&(e+=" "+this.formBuilderModel[this.fieldName].input_error+" "),e},inputErrorMessage(){let e="";if(!this.formBuilderModel[this.fieldName].input_error)return e;const t=this.formBuilderModel[this.fieldName].input_error,l=this.translateLabel(t);return e+=" "+l+" ",e},deleteRule(){this.$emit("inputValueChanges",this.fieldName,"delete_rule")}},setup(){const e=(0,f.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,formLayout:o,showTabIndex:i}=(0,d.bP)(e),{getDocDateFormat:s}=e,n=(0,f.yM)(),{getListOfValues:r}=n,u=(0,f.q3)(),{amount_format_locale:c}=(0,d.bP)(u);return{amount_format_locale:c,getDocDateFormat:s,getListOfValues:r,formLayout:o,showTabIndex:i,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,mask:(0,p.KR)("")}}});var w=l(12807),C=l(97410),x=l(67837),L=l(23954),F=l(98582),E=l.n(F);const A=(0,w.A)(k,[["render",r],["__scopeId","data-v-18bea2b8"]]),S=A;E()(k,"components",{QTooltip:C.A,QInput:x.A,QBadge:L.A})},13503:(e,t,l)=>{"use strict";l.d(t,{A:()=>y});var a=l(61758),o=l(58790);const i={class:"table-container col-sm-12 col-md-12 col-lg-12 min-height-300"},s={class:"bg-white"};function n(e,t,l,n,r,d){const u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-icon"),p=(0,a.g2)("q-input"),h=(0,a.g2)("q-td"),m=(0,a.g2)("f-btn"),_=(0,a.g2)("q-table"),b=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(b,{style:{width:"700px","max-width":"1060px",height:"460px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-none"}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.bF)(_,{class:"my-sticky-header-table","no-data-label":e.$t("pages.messages.no_record_found"),rows:e.rows,columns:e.columns,"rows-per-page-options":[0],"row-key":"name",filter:e.filter},{top:(0,a.k6)((()=>[(0,a.Lk)("div",s,[(0,a.bF)(p,{class:"float-right",outlined:"",debounce:"300",color:"primary",modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter=t),label:e.$t("search_by_column")},{append:(0,a.k6)((()=>[(0,a.bF)(c,{name:"search"})])),_:1},8,["modelValue","label"])])])),"body-cell-name":(0,a.k6)((e=>[(0,a.bF)(h,{props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.label),1)])),_:2},1032,["props"])])),"body-cell-action":(0,a.k6)((t=>[(0,a.bF)(h,{props:t},{default:(0,a.k6)((()=>[(0,a.bF)(m,{icon:"add",label:e.$t("enable"),onClick:l=>e.enableColumn(t.row.name)},null,8,["label","onClick"])])),_:2},1032,["props"])])),_:1},8,["no-data-label","rows","columns","filter"])])])),_:1})])),_:1})}var r=l(38734);const d=(0,a.pM)({mixins:[],components:{},props:{rows:[]},data(){return{}},mounted:function(){this.prepareColumns()},methods:{prepareColumns(){this.columns.push(Object.assign({},{name:"name",label:this.$t("column_name"),field:"name",align:"left"})),this.columns.push(Object.assign({},{name:"action",label:this.$t("action"),field:"action",align:"right"}))},enableColumn(e){const t=new CustomEvent("enable_custom_column",{detail:e});document.dispatchEvent(t)}},setup(){const e=(0,r.KR)("");let t=[];const l=(0,r.KR)(t);return{columns:l,filter:e}}});var u=l(12807),c=l(23316),p=l(44189),h=l(42315),m=l(67837),_=l(50492),b=l(45262),v=l(98582),g=l.n(v);const f=(0,u.A)(d,[["render",n]]),y=f;g()(d,"components",{QCard:c.A,QCardSection:p.A,QTable:h.A,QInput:m.A,QIcon:_.A,QTd:b.A})},82836:(e,t,l)=>{"use strict";l.d(t,{A:()=>E});var a=l(61758),o=l(29104),i=l(58790);const s=(0,a.Lk)("img",{src:"icons/drag_indicator.svg"},null,-1),n=["src"];function r(e,t,l,r,d,u){const c=(0,a.g2)("q-icon"),p=(0,a.g2)("q-item-section"),h=(0,a.g2)("q-item"),m=(0,a.g2)("q-separator"),_=(0,a.g2)("q-list"),b=(0,a.g2)("q-menu");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(c,{size:"xs",draggable:"true",class:"draggable",onDragstart:t[0]||(t[0]=t=>e.handleDragStart(t,e.props))},{default:(0,a.k6)((()=>[s])),_:1}),(0,a.bF)(c,{size:"xs",class:"q-ml-sm q-mr-sm cursor-pointer",draggable:"false",onClick:t[3]||(t[3]=(0,o.D$)((()=>{}),["stop","prevent"]))},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{class:"icon-grey-svg",src:e.getCostingElementIcon(e.lineDataObj[e.props.key])},null,8,n),(0,a.bF)(b,{onShow:t[2]||(t[2]=t=>e.scrollToSelectedMenu(e.lineDataObj[e.props.key].costing_element)),"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle",class:"max-height-200"},{default:(0,a.k6)((()=>[(0,a.bF)(_,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[(0,a.bF)(h,{clickable:"",onClick:t[1]||(t[1]=t=>e.onCostingElementSelect(e.line_item,e.props.key,e.props.rowIndex))},{default:(0,a.k6)((()=>[(0,a.bF)(p,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{name:"undo",size:"xs",class:"icon-grey"})])),_:1}),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("uncategorize")),1)])),_:1})])),_:1}),(0,a.bF)(m),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.costingElementList,(t=>((0,a.uX)(),(0,a.Wv)(h,{key:t.value,clickable:"",onClick:l=>e.onCostingElementSelect(t.value,e.props.key,e.props.rowIndex),id:e.costingElementIdPreFix+t.value,class:(0,i.C4)(e.lineDataObj[e.props.key].costing_element==t.value?"highlighted-back text-primary":"")},{default:(0,a.k6)((()=>[(0,a.bF)(p,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{name:"img:images/charges/"+t.charge_icon,size:"xs",class:"icon-grey-svg"},null,8,["name"])])),_:2},1024),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(t.label),1)])),_:2},1024)])),_:2},1032,["onClick","id","class"])))),128))])),_:1})])),_:1})])),_:1})],64)}var d=l(1659),u=l(24622),c=l(96056),p=l(92162),h=l(76956),m=l(83319),_=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const b=(0,a.pM)({el:"#app",mixins:[u.A,c.A],props:{props:{type:{},required:!0}},components:{},data(){return{line_item:h.PA,costingElementIdPreFix:h.aH.costingElementIdPreFix}},mounted:function(){this.init()},methods:{init(){return _(this,void 0,void 0,(function*(){yield this.prepareCostingElementDictionary(),this.costingElementList=yield this.getCostingElementList(["1","3"])}))},onCostingElementSelect(e,t,l){if(e==this.line_item){this.removeCostingElementsFromRow(t,l);const e=l+1;if(this.record.tables[0].rows.length>e&&this.record.tables[0].rows[e].hasOwnProperty("parent_id")){const l=this.record.tables[0].rows[e].id;this.updateParentInRows(l,e,t)}return}if(this.lineDataObj[t].costing_element=e,this.record.tables[0].rows[l].costing_element=e,this.lineDataObj[t].parent_id)return;if(0==l)return void this.showErrorToast(this.$t("pages.messages.NO_PARENT_FOUND"));let a=this.record.tables[0].rows,o="",i=l-1;o=a[i].parent_id?a[i].parent_id:a[i].id,this.updateParentInRows(t,l,o);for(let s of this.record.tables[0].rows)s.parent_id&&s.parent_id==t&&(s.parent_id=o)},updateParentInRows(e,t,l){let a=this.record.tables[0].rows;a[t].parent_id=l,this.lineDataObj[e].parent_id=l},handleDragStart(e,t){t.row;const l=t.key,a=t.rowIndex,o=this.getRowIdPrefix()+l;e.dataTransfer.setData("application/json",JSON.stringify({rowIndex:a,rowId:t.key}));const i=document.querySelector("#"+o);if(!i)return;const s=i.cloneNode(!0);s.style.position="absolute",document.body.appendChild(s),e.dataTransfer.setDragImage(s,0,0),setTimeout((()=>{document.body.removeChild(s)}),0)},handleDrop(e,t){e.preventDefault();const l=e.dataTransfer.getData("application/json");if(!l)return;const a=JSON.parse(l);if(t.key==a.rowId)return;this.removeCostingElementsFromRow(a.rowId,a.rowIndex);let o=this.tableRows[a.rowIndex],i=this.record.tables[0].rows[a.rowIndex];this.tableRows.splice(a.rowIndex,1),this.record.tables[0].rows.splice(a.rowIndex,1),this.tableRows.splice(t.rowIndex,0,o),this.record.tables[0].rows.splice(t.rowIndex,0,i);const s=t.rowIndex+1;if(this.record.tables[0].rows.length>s&&this.record.tables[0].rows[s].hasOwnProperty("parent_id")){const e=this.record.tables[0].rows[s].id;this.updateParentInRows(e,s,a.rowIndex)}for(let n of this.record.tables[0].rows)n.parent_id&&n.parent_id==a.rowId&&(delete n.parent_id,delete n.costing_element,this.removeCostingElementsFromDictionary(n.id))},removeCostingElementsFromRow(e,t){this.removeCostingElementsFromDictionary(e),this.removeCostingElementsFromStoreData(t)},removeCostingElementsFromDictionary(e){delete this.lineDataObj[e].costing_element,delete this.lineDataObj[e].parent_id},removeCostingElementsFromStoreData(e){delete this.record.tables[0].rows[e].costing_element,delete this.record.tables[0].rows[e].parent_id},scrollToSelectedMenu(e){let t=(0,p.$)("#"+this.costingElementIdPreFix+e);this.scrollInToViewStart(t)},getRowIdPrefix(){return h.Al}},setup(){const e=(0,m.q3)(),{record:t}=(0,d.bP)(e),l=(0,m.ky)(),{lineDataObj:a,tableRows:o}=(0,d.bP)(l),i=(0,m.rD)(),{getCostingElementList:s,prepareCostingElementDictionary:n,getCostingElementIcon:r}=i;return{record:t,tableRows:o,lineDataObj:a,costingElementList:[],getCostingElementList:s,getCostingElementIcon:r,prepareCostingElementDictionary:n}}});var v=l(12807),g=l(50492),f=l(84436),y=l(53999),k=l(90124),w=l(25173),C=l(10386),x=l(98582),L=l.n(x);const F=(0,v.A)(b,[["render",r]]),E=F;L()(b,"components",{QIcon:g.A,QMenu:f.A,QList:y.A,QItem:k.A,QItemSection:w.A,QSeparator:C.A})},93829:(e,t,l)=>{"use strict";l.d(t,{A:()=>A});var a=l(61758),o=l(58790);const i={class:"q-ml-sm"};function s(e,t,l,s,n,r){const d=(0,a.g2)("q-tooltip"),u=(0,a.g2)("f-btn"),c=(0,a.g2)("q-avatar"),p=(0,a.g2)("q-card-section"),h=(0,a.g2)("q-card-actions"),m=(0,a.g2)("q-card"),_=(0,a.g2)("q-dialog"),b=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.show_btn?((0,a.uX)(),(0,a.Wv)(u,{key:0,class:"p-4",appearance:"flat",onClick:t[0]||(t[0]=t=>e.confirmation=!0),icon:"img:images/trigger_ocr.svg"},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("force_ocr")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(_,{modelValue:e.confirmation,"onUpdate:modelValue":t[3]||(t[3]=t=>e.confirmation=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(c,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(p,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",i,(0,o.v_)(e.$t("restartClassification")),1)])),_:1}),(0,a.bF)(h,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(u,{"data-cy":"cancel",label:e.$t("cancel"),appearance:"cancel",onClick:t[1]||(t[1]=t=>e.reset())},null,8,["label"]),[[b]]),(0,a.bo)((0,a.bF)(u,{"data-cy":"done",label:e.$t("proceed"),onClick:t[2]||(t[2]=t=>e.triggerProcess())},null,8,["label"]),[[b]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var n=l(38734),r=l(24622),d=l(18505),u=l(83319),c=l(1659),p=l(46687),h=l(64775),m=l(11470),_=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const b=(0,a.pM)({el:"#app",mixins:[d.A,r.A,p.A],props:{show_btn:{type:Boolean,default:!1},force_ocr:{type:Boolean,default:!1}},components:{},data(){return{}},setup(){const e=(0,u.q3)(),{setDocTypeAndLanguageOrigin:t}=e,{record:l,language_origin:a,selected_doc_type:o}=(0,c.bP)(e),i=(0,u.oI)(),{releaseDocLock:s}=i,r=(0,u.v)(),{resetStore:d}=r,{confirmation:p,trigger_classification:h,reset_classification:m,selected_page:_,selected_custom_model_label:b}=(0,c.bP)(r);return{selected_custom_model_label:b,resetStore:d,selected_page:_,setDocTypeAndLanguageOrigin:t,language_origin:a,selected_doc_type:o,sub_doc_type:(0,n.KR)(""),record:l,releaseDocLock:s,docId:(0,n.KR)(""),table_train:(0,n.KR)(!1),confirmation:p,trigger_classification:h,reset_classification:m}},watch:{trigger_classification:{handler:function(e,t){1==e&&this.triggerProcess()}}},mounted:function(){document.addEventListener("trigger_classification",this.TriggerConfirmation),this.isDocForTraining()},unmounted:function(){document.removeEventListener("trigger_classification",this.TriggerConfirmation)},methods:{reset(){this.setDocTypeAndLanguageOrigin(),this.resetStore()},TriggerConfirmation(){this.triggerProcess()},triggerProcess(){return _(this,void 0,void 0,(function*(){try{if(!this.selected_doc_type||""===this.selected_doc_type)return void this.showErrorToast("Document Type is missing");if(!this.language_origin||""===this.language_origin)return void this.showErrorToast("Document Origin is missing");this.setDocTypeSubDocType(),yield this.restartDoc(),this.resetStore(),this.showSuccessToast(this.$t("pages.messages.NEW_CLASSIFICATION")),!0===this.table_train?this.routeForTableTrain():this.routeToDashboard()}catch(e){logError(e),this.showErrorToast("Something went wrong while loading data. Please try again."),this.hideLoading()}}))},routeToDashboard(){this.releaseDocLock({doc_id:this.record.doc_id}),this.$router.push("/dashboard")},setDocTypeSubDocType(){this.sub_doc_type="";const e=this.getDocTypeSubDocType(this.selected_doc_type);e&&e.hasOwnProperty("doc_type_key")&&e.hasOwnProperty("sub_doc_type")&&(this.sub_doc_type=e.sub_doc_type,this.selected_doc_type=e.doc_type_key)},restartDoc(){return _(this,void 0,void 0,(function*(){try{this.showLoading();let e={};e.doc_type=this.selected_doc_type,e.doc_origin=this.language_origin,""!==this.sub_doc_type&&(e.sub_doc_type=this.sub_doc_type),!0===this.force_ocr&&(e.force_ocr=(!0).toString()),this.selected_page&&(e.doc_start_page=this.selected_page),this.selected_custom_model_label&&(e.doc_classification_label=this.selected_custom_model_label),yield m.M8.restartClassification(e,this.docId)}catch(e){const t=h.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},routeForTableTrain(){const e=window.opener;e&&(e.postMessage("reload_page_with_force_ocr","*"),window.close())},isDocForTraining(){this.$route.params.table_train&&"true"===this.$route.params.table_train?(this.table_train=!0,this.docId=String(this.$route.query.id)):this.docId=String(this.$route.params.id)}}});var v=l(12807),g=l(97410),f=l(82156),y=l(23316),k=l(44189),w=l(3952),C=l(62669),x=l(88672),L=l(98582),F=l.n(L);const E=(0,v.A)(b,[["render",s]]),A=E;F()(b,"components",{QTooltip:g.A,QDialog:f.A,QCard:y.A,QCardSection:k.A,QAvatar:w.A,QCardActions:C.A}),F()(b,"directives",{ClosePopup:x.A})},96587:(e,t,l)=>{"use strict";l.d(t,{A:()=>v});var a=l(61758),o=l(58790);const i={class:"text-weight-bold"};function s(e,t,l,s,n,r){const d=(0,a.g2)("q-toolbar-title"),u=(0,a.g2)("f-btn"),c=(0,a.g2)("q-toolbar"),p=(0,a.g2)("q-card"),h=(0,a.g2)("q-dialog"),m=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(h,{modelValue:n.swDialog,"onUpdate:modelValue":t[0]||(t[0]=e=>n.swDialog=e),persistent:"",onShow:r.onShow,onHide:r.onHide},{default:(0,a.k6)((()=>[(0,a.bF)(p,{id:"dialog-card",ref:"resizable",class:"resizable",style:(0,o.Tr)({width:l.isResizeAble?n.widths+"px !important":l.width+"px !important",height:n.height+"px !important",left:n.left+"px",top:n.top+"px",maxHeight:"90vh"}),onMousedown:r.startAction},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:(0,o.C4)(["text-white secondary-toolbar draggable-toolbar",l.draggable?"cursor-move":""])},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",i,(0,o.v_)(l.title),1)])),_:1}),(0,a.bo)((0,a.bF)(u,{icon:"close"},null,512),[[m]])])),_:1},8,["class"]),(0,a.RG)(e.$slots,"default",{},void 0,!0)])),_:3},8,["style","onMousedown"])])),_:3},8,["modelValue","onShow","onHide"])}const n={name:"dialogDraggable",props:{draggable:{type:Boolean,default:!0},modelDialog:{type:Boolean,default:!1},title:{type:String,default:"Title"},width:{type:Number,default:650},isResizeAble:{type:Boolean,default:!1}},windowWidth:window.innerWidth,data(){return{swDialog:!1,target:null,nodeDragg:null,isResizing:!1,isDragging:!1,startX:0,startY:0,startWidth:0,startHeight:0,startLeft:0,startTop:0,widths:window.innerWidth/1.4,height:window.innerHeight/1.11,left:0,top:0}},watch:{modelDialog(e){this.swDialog=e}},mounted(){window.addEventListener("resize",this.onWindowResize)},methods:{startAction(e){if(!this.draggable)return;e.preventDefault(),this.startX=e.clientX,this.startY=e.clientY,this.startLeft=this.left,this.startTop=this.top,this.startWidth=this.widths,this.startHeight=this.height;const t=e.target.getBoundingClientRect();this.isResizing=e.clientX-t.left>=t.width-20&&e.clientY-t.top>=t.height-20,document.addEventListener("mousemove",this.moveOrResize),document.addEventListener("mouseup",this.stopAction)},moveOrResize(e){this.isResizing?this.resize(e):this.isDragging&&this.drag(e)},onWindowResize(e){this.isResizeAble&&(this.widths=this.widths-(this.$options.windowWidth-window.innerWidth),this.$options.windowWidth=window.innerWidth)},resize(e){if(this.isResizeAble&&this.isResizing){const t=this.$refs.resizable.$el,l=(t.getBoundingClientRect(),e.clientY-this.startY),a=e.clientX-this.startX;this.widths=Math.max(50,this.startWidth+a),this.height=Math.max(50,this.startHeight+2*l)}},drag(e){if(this.isDragging){const t=e.clientX-this.startX,l=e.clientY-this.startY;this.left=this.startLeft+t,this.top=this.startTop+l}},stopAction(){this.isResizing=!1,this.isDragging=!1,document.removeEventListener("mousemove",this.moveOrResize),document.removeEventListener("mouseup",this.stopAction)},onShow(){let e=document.getElementsByClassName("q-dialog");this.target=e[0].querySelector(".q-card"),this.nodeDragg=this.target.querySelector(".draggable-toolbar"),this.draggable&&this.nodeDragg.addEventListener("mousedown",this.onGrab),this.$emit("onShow")},onHide(){this.draggable&&this.nodeDragg.removeEventListener("mousedown",this.onGrab),this.$emit("onHide")},onGrab(){this.isDragging=!0,document.addEventListener("mousemove",this.moveOrResize),document.addEventListener("mouseup",this.stopAction)}}};var r=l(12807),d=l(82156),u=l(23316),c=l(36914),p=l(39150),h=l(88672),m=l(98582),_=l.n(m);const b=(0,r.A)(n,[["render",s],["__scopeId","data-v-4de67ca2"]]),v=b;_()(n,"components",{QDialog:d.A,QCard:u.A,QToolbar:c.A,QToolbarTitle:p.A}),_()(n,"directives",{ClosePopup:h.A})},81589:(e,t,l)=>{"use strict";l.d(t,{A:()=>T});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-3ae2efc8"),e=e(),(0,a.jt)(),e),s={key:0,class:"q-dialog fullscreen no-pointer-events q-dialog--modal banner-parent"},n=i((()=>(0,a.Lk)("div",{class:"q-dialog__backdrop fixed-full","aria-hidden":"true",style:{"--q-transition-duration":"300ms"}},null,-1))),r={class:"lock-banner row q-dialog__inner all-pointer-events"},d={class:"left-side"},u={class:"message"},c={class:"right-side"};function p(e,t,l,i,p,h){const m=(0,a.g2)("q-btn");return""!==e.message?((0,a.uX)(),(0,a.CE)("div",s,[n,(0,a.Lk)("div",r,[(0,a.Lk)("span",d,[(0,a.bF)(m,{class:"reload-doc text-weight-bold",to:"/dashboard"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("dashboard")),1)])),_:1})]),(0,a.Lk)("span",u,(0,o.v_)(e.message),1),(0,a.Lk)("span",c,[e.unlock_btn?((0,a.uX)(),(0,a.Wv)(m,{key:0,class:"force-unlock text-weight-bold",onClick:t[0]||(t[0]=t=>e.forceAcquireLock(!0))},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("unlock")),1)])),_:1})):(0,a.Q3)("",!0),e.reload_btn?((0,a.uX)(),(0,a.Wv)(m,{key:1,class:"reload-doc text-weight-bold",onClick:e.reloadDocument},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("refresh")),1)])),_:1},8,["onClick"])):(0,a.Q3)("",!0)])])])):(0,a.Q3)("",!0)}var h=l(1659),m=l(73937),_=l(16332),b=l(36246);const v={methods:{docLockNotify(e){},getTranslationKeyForDocLockError(e){const t=(0,m.Ky)("id");let l=String(e.error_code),a="";return e.hasOwnProperty("locked_by_user")&&(a=e.locked_by_user),t==a&&(l+="_by_same_user"),l},docLockErrorHandler(e){let t="";e&&e.hasOwnProperty("error_code")&&(t=e.error_code);let l=this.getTranslationKeyForDocLockError(e),a=this.docLockErrorTranslation(l);a=a===e.error_code?e.message:a;let o="",i="";return e.hasOwnProperty("locked_by")&&(o=e.locked_by),e.hasOwnProperty("locked_on")&&(i=e.locked_on),e.hasOwnProperty("modified_by")&&(o=e.modified_by),e.hasOwnProperty("modified_on")&&(i=e.modified_on),a=a.replaceAll("%name",o),a=a.replaceAll("%date",this.formateDate(new Date(`${i} UTC+2`),"YYYY-MM-DD, HH:mm:ss")),""!==o&&""!==i||(a=e.message),a},docLockErrorTranslation(e){let t="";try{t=e?_.i18n.t(e):""}catch(l){logError(l)}return t},formateDate(e,t){return b.Ay.formatDate(e,t)}}};var g=l(38734),f=l(68450),y=l(76956),k=l(83319),w=l(11470),C=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const x=(0,a.pM)({el:"#app",mixins:[v],emits:["setTriggerDocumentLock"],props:{document_version:{type:Number,default:0},trigger_document_lock:{type:Boolean,default:!1},doc_id:{type:String,default:""}},watch:{document_version:{deep:!0,handler:function(e,t){this.forceAcquireLock()}},trigger_document_lock(e,t){if(!0===e){const e=(0,k.oI)();this.unsubscribeDocLock&&this.unsubscribeDocLock(),this.unsubscribeDocLock=e.$subscribe(((e,t)=>{this.afterAcquireLock()}))}else this.unsubscribeDocLock&&(this.unsubscribeDocLock(),this.unsubscribeDocLock=null)}},unmounted(){this.unsubscribeDocLock&&(this.unsubscribeDocLock(),this.unsubscribeDocLock=null)},components:{},data(){return{unsubscribeDocLock:null}},methods:{forceAcquireLock(e=!1){return C(this,void 0,void 0,(function*(){y.B2.includes(this.record.status)&&(e=!0),this.doc_id?(yield this.acquireDocLock(e,this.record.doc_id,this.document_version.toString()),this.afterAcquireLock()):(yield this.acquireDocLock(e),this.afterAcquireLock())}))},afterAcquireLock(){return C(this,void 0,void 0,(function*(){!0===this.doc_lock.success&&(this.message=""),!1===this.doc_lock.success&&0!==(0,f.Ns)(this.doc_lock.error)&&(this.unlock_btn=!1,this.reload_btn=!1,this.unlock_role=yield this.getUnlockRole(this.record.doc_type,this.record.assigned_to),"document_already_modified"===this.doc_lock.error.error_code.toLowerCase()&&(this.reload_btn=!0),"document_already_locked"===this.doc_lock.error.error_code.toLowerCase()&&((0,m.N6)()||this.unlock_role)&&(this.unlock_btn=!0),this.message=this.docLockErrorHandler(this.doc_lock.error)),this.removeBaner()}))},reloadDocument(){return C(this,void 0,void 0,(function*(){yield w.M8.clearExtractedDataCache(this.record.doc_id),this.removeCache(),this.$router.go(0)}))},removeBaner(){this.message||this.$emit("setTriggerDocumentLock",!1)}},setup(){const e=(0,k.oI)(),{acquireDocLock:t}=e,{doc_lock:l}=(0,h.bP)(e),a=(0,k.q3)(),{record:o}=(0,h.bP)(a),{removeCache:i}=a,s=(0,k.H4)(),{getUnlockRole:n}=s;return{removeCache:i,record:o,message:(0,g.KR)(""),unlock_btn:(0,g.KR)(!1),unlock_role:(0,g.KR)(!1),reload_btn:(0,g.KR)(!1),doc_lock:l,acquireDocLock:t,getUnlockRole:n}}});var L=l(12807),F=l(82156),E=l(44488),A=l(56384),S=l(98582),D=l.n(S);const I=(0,L.A)(x,[["render",p],["__scopeId","data-v-3ae2efc8"]]),T=I;D()(x,"components",{QDialog:F.A,QTr:E.A,QBtn:A.A})},49575:(e,t,l)=>{"use strict";l.d(t,{A:()=>R});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-40603f60"),e=e(),(0,a.jt)(),e),s={class:"activity-logs left-scroll-area-height scrolle-y"},n=i((()=>(0,a.Lk)("img",{width:"36",src:"images/send_msg.svg"},null,-1))),r=i((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function d(e,t,l,i,d,u){const c=(0,a.g2)("q-avatar"),p=(0,a.g2)("q-item-section"),h=(0,a.g2)("timeago"),m=(0,a.g2)("q-item-label"),_=(0,a.g2)("q-item"),b=(0,a.g2)("q-tooltip"),v=(0,a.g2)("q-icon"),g=(0,a.g2)("q-input"),f=(0,a.g2)("q-list"),y=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(f,{class:"full-width"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.logs,(t=>((0,a.uX)(),(0,a.Wv)(_,{key:t.id,class:"q-my-sm"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(c,{color:"primary","text-color":"white"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.avatar_letters),1)])),_:2},1024)])),_:2},1024),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{caption:"",lines:"1"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{datetime:t.created_on},null,8,["datetime"]),(0,a.eW)(" "+(0,o.v_)(e.$t("by"))+" "+(0,o.v_)(t.created_by_name),1)])),_:2},1024),(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.action_description),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,{outlined:"","data-name":e.new_message,class:(0,o.C4)("full-width cursor-pointer post_messgae"),modelValue:e.new_message["text"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.new_message["text"]=t),type:"textarea",autogrow:"",placeholder:e.$t("write_comment")},{append:(0,a.k6)((()=>[e.new_message["error"]?((0,a.uX)(),(0,a.Wv)(v,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)(" Commnet required ")])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(v,{flat:"",dense:"",size:"36px",color:"primary",onClick:e.postComment},{default:(0,a.k6)((()=>[n])),_:1},8,["onClick"])])),_:1},8,["data-name","modelValue","placeholder"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(y,{showing:e.loading},{default:(0,a.k6)((()=>[r])),_:1},8,["showing"])])}var u=l(38734),c=l(24622),p=l(46162),h=l(82303),m=l(18505),_=l(85487),b=l(83319),v=l(1659),g=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const f=(0,a.pM)({el:"#app",mixins:[c.A,m.A],props:{docId:{type:String,default:""},list_data:{}},components:{},data(){return{}},setup(){const e=(0,b.q3)(),{doc_status:t}=(0,v.bP)(e);return{loading:(0,u.KR)(!1),doc_status:t,logs:(0,u.KR)([]),new_message:(0,u.KR)({error:!1,text:""})}},watch:{list_data:{deep:!0,handler:function(e,t){setTimeout((()=>{this.prepareRows(e)}),0)}}},mounted:function(){this.prepareRows(this.list_data)},methods:{prepareRows(e){this.logs=[];for(let[t,l]of Object.entries(e)){let e=l;e.avatar_letters=this.getAvatarLetters(e.created_by_name),this.logs.push(e)}setTimeout((()=>{this.scrollToBottom()}),0),this.logs.reverse()},getAvatarLetters(e){let t="";if(!e)return"-";let l=e.split(" ");if(0===l.length)return"-";void 0!==l[0]&&(t+=l[0].charAt(0));let a=l.length-1;return l.length>=2&&void 0!==l[a]&&(t+=l[a].charAt(0)),t},postComment(){return g(this,void 0,void 0,(function*(){try{if(!this.validateData())return;this.loading=!0,this.showLoading();let e,t=new FormData;t.append("action_type","message"),t.append("action_description",this.new_message["text"]),t.append("org_id",(0,_.I)()),t.append("previous_status",this.doc_status),t.append("current_status",this.doc_status);let l=yield(0,p.L3)();e=yield h.A.post(p.FH.update_document_log+this.docId,t,{headers:{Authorization:l}}),!1===e.data.success&&(this.showErrorToast(this.$t("pages.messages.error_internal_occur")),this.showErrorToast(e.data.message)),this.new_message={error:!1,text:""};let a=e.data.data;const o=new CustomEvent("new_log",{detail:a});document.dispatchEvent(o)}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.loading=!1}}))},validateData(){let e=!0;return this.new_message["text"]&&0!=this.new_message["text"].length||(e=!1,this.new_message["error"]=!0),e},scrollToBottom(){let e=document.querySelector(".activity-logs");e&&(e.scrollTop=e.scrollHeight)}}});var y=l(12807),k=l(53999),w=l(90124),C=l(25173),x=l(3952),L=l(13796),F=l(67837),E=l(50492),A=l(97410),S=l(39035),D=l(42315),I=l(67156),T=l(98582),O=l.n(T);const M=(0,y.A)(f,[["render",d],["__scopeId","data-v-40603f60"]]),R=M;O()(f,"components",{QList:k.A,QItem:w.A,QItemSection:C.A,QAvatar:x.A,QItemLabel:L.A,QInput:F.A,QIcon:E.A,QTooltip:A.A,QInnerLoading:S.A,QTable:D.A,QField:I.A})},25982:(e,t,l)=>{"use strict";l.d(t,{A:()=>ge});var a=l(61758),o=l(58790);const i={class:"container q-pa-xl"},s={class:"container q-pa-xl"};function n(e,t,l,n,r,d){const u=(0,a.g2)("q-separator"),c=(0,a.g2)("q-icon"),p=(0,a.g2)("q-avatar"),h=(0,a.g2)("q-item-section"),m=(0,a.g2)("DuplicateDocumentList"),_=(0,a.g2)("q-card-section"),b=(0,a.g2)("q-card"),v=(0,a.g2)("q-expansion-item"),g=(0,a.g2)("DuplicateInvoicesList"),f=(0,a.g2)("q-list");return(0,a.uX)(),(0,a.Wv)(_,{class:"row items-center",key:e.keyToUpdate},{default:(0,a.k6)((()=>[(0,a.bF)(f,{bordered:"",class:"rounded-borders full-width"},{default:(0,a.k6)((()=>[e.document_ids&&e.document_ids.length>0?((0,a.uX)(),(0,a.Wv)(v,{key:0,"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,a.k6)((()=>[(0,a.bF)(h,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{size:"25px",class:"black_to_white",name:"img:settings/doc.svg"})])),_:1})])),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("duplicate_document_detection")),1)])),_:1})])),default:(0,a.k6)((()=>[(0,a.bF)(u),(0,a.bF)(b,{class:"page-background"},{default:(0,a.k6)((()=>[(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.bF)(m,{table_columns:e.table_columns,document_ids:e.document_ids},null,8,["table_columns","document_ids"])])])),_:1})])),_:1})])),_:1})):(0,a.Q3)("",!0),e.display_data&&e.display_data.length>0?((0,a.uX)(),(0,a.Wv)(v,{key:1,"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,a.k6)((()=>[(0,a.bF)(h,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{size:"25px",class:"black_to_white",name:"img:settings/doc.svg"})])),_:1})])),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("duplicate_invoice_detection")),1)])),_:1})])),default:(0,a.k6)((()=>[(0,a.bF)(u),(0,a.bF)(b,{class:"page-background"},{default:(0,a.k6)((()=>[(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",s,[(0,a.bF)(g,{display_data:e.display_data},null,8,["display_data"])])])),_:1})])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1})])),_:1})}var r=l(29104);const d={class:"full-width dashboard-list-area"},u={class:"table-header-text back-white"},c=["onDragstart","onDrop","onDragover","data-index"],p={key:0,class:"q-pr-md"},h={key:2,class:"float-right q-pl-md"},m=["data-index","id"],_=["onClick"],b={class:"q-ml-auto",style:{display:"flex","justify-content":"right","padding-right":"16px"}},v={style:{position:"relative",left:"60px"}},g={style:{padding:"2px"},class:"dashboard-status-text"},f={class:"q-ml-auto",style:{"padding-right":"16px"}},y={key:0},k=["colspan"];function w(e,t,l,i,s,n){const w=(0,a.g2)("ColumnOrderBy"),C=(0,a.g2)("q-tooltip"),x=(0,a.g2)("q-badge"),L=(0,a.g2)("q-markup-table"),F=(0,a.g2)("Loader");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",d,[e.table_columns.length>0?((0,a.uX)(),(0,a.Wv)(L,{key:0,flat:"",id:"duplicateDocs",class:(0,o.C4)(["dashboard-table-style back-white dashboard-table-height dashboard-table-header-sticky",e.display_data.length>0?"dashboard-min-height":""])},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",u,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns,((l,i)=>((0,a.uX)(),(0,a.CE)("th",{key:i,class:(0,o.C4)(["documnetCol",e.indexToMove==i?"dragging":""]),onDragstart:t=>e.onDragStart(t,e.table_columns,i),onDrop:(0,r.D$)((t=>e.handleDrop(t,i)),["prevent"]),onDragover:(0,r.D$)((t=>e.onDragOver(t,i)),["prevent"]),onDragenter:t[0]||(t[0]=(0,r.D$)(((...t)=>e.onDragEnter&&e.onDragEnter(...t)),["prevent"])),"data-index":i,onDragleave:t[1]||(t[1]=(0,r.D$)(((...t)=>e.onDragLeave&&e.onDragLeave(...t)),["prevent"])),style:(0,o.Tr)({cursor:e.getIsDragging?"pointer":"move"}),dropzone:"true",draggable:!0},[l.hasOwnProperty("label")?((0,a.uX)(),(0,a.CE)("span",p,(0,o.v_)(e.$t(l.label)),1)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.$t(l.name)),1)],64)),l.sortable?((0,a.uX)(),(0,a.CE)("div",h,[(0,a.bF)(w,{column_name:l.name},null,8,["column_name"])])):(0,a.Q3)("",!0)],46,c)))),128))])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.display_data,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:t["id"],class:(0,o.C4)(e.setRowStyle(t)),"data-index":l,id:"row_"+t.id},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns,((l,i)=>((0,a.uX)(),(0,a.CE)("td",{key:i,onClick:l=>e.rowClick(t,!1,e.isMediUser()),class:(0,o.C4)([e.getClassesForColumn(t["status"],l.name),"text-weight-regular documnetCol table-body"])},["pages"===l.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("span",b,(0,o.v_)(t[l.name]?t[l.name]:"-"),1),t[l.name]?((0,a.uX)(),(0,a.Wv)(C,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t[l.name]),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)):"priority"===l.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("span",v,(0,o.v_)(t[l.name]?t[l.name]:"-"),1),t[l.name]?((0,a.uX)(),(0,a.Wv)(C,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t[l.name]),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)):"status"===l.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.Lk)("span",null,[(0,a.bF)(x,{align:"middle",class:(0,o.C4)(e.getStatusClass(t["status"]))},{default:(0,a.k6)((()=>[(0,a.Lk)("span",g,(0,o.v_)(e.getLabelTranslation(t["status"])),1)])),_:2},1032,["class"])]),(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelTranslation(t["status"])),1)])),_:2},1024),"error"===t["status"]?((0,a.uX)(),(0,a.Wv)(C,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)(" Click over status to see more details ")])),_:1})):(0,a.Q3)("",!0)],64)):"doc_type"===l.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[(0,a.eW)((0,o.v_)(e.setDisplayDocType(t))+" ",1),(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.setDisplayDocType(t)),1)])),_:2},1024)],64)):"total_amount"===l.name||"total_net_amount"===l.name||"net_amount"===l.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[(0,a.Lk)("span",f,(0,o.v_)(t[l.name]),1),t[l.name]?((0,a.uX)(),(0,a.Wv)(C,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t[l.name]),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)):-1!=["created_on","last_modified_on","assigned_on","locked_on"].indexOf(l.name)?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[(0,a.eW)((0,o.v_)(e.formatDateAccordingToPreference(t[l.name]))+" ",1),t[l.name]?((0,a.uX)(),(0,a.Wv)(C,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.formatDateAccordingToPreference(t[l.name])),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:6},[(0,a.eW)((0,o.v_)(t[l.name]?t[l.name]:"-")+" ",1),t[l.name]?((0,a.uX)(),(0,a.Wv)(C,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t[l.name]),1)])),_:2},1024)):(0,a.Q3)("",!0)],64))],10,_)))),128))],10,m)))),128)),0===e.display_data.length&&!1===e.processing?((0,a.uX)(),(0,a.CE)("tr",y,[(0,a.Lk)("td",{class:"text-center",colspan:e.table_columns.length},(0,o.v_)(e.$t("no_document_found")),9,k)])):(0,a.Q3)("",!0)])])),_:1},8,["class"])):(0,a.Q3)("",!0)]),(0,a.bF)(F)],64)}var C=l(24622),x=l(46736),L=l(38734),F=l(83319),E=l(89156),A=l(18505),S=l(24481),D=l(64233),I=l(11470),T=l(10739),O=l(76380),M=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const R=(0,a.pM)({name:"duplicate-document-dlg",props:{table_columns:{type:Array,default:()=>[]},document_ids:{type:String,default:""}},components:{Loader:E.A},mixins:[C.A,T.A,D.A,S.A,x.A,A.A,O.A],mounted:function(){this.init()},methods:{init(){this.prepareStatusList(),this.getDuplicateInvoice()},getDuplicateInvoice(){return M(this,void 0,void 0,(function*(){if(this.document_ids)try{this.showLoading();let e="?document_ids="+this.document_ids;e+=this.addAdditionalDocTypeFields();const t=yield I.z6.getList(e);this.display_data=[],t.documents&&(this.display_data=t.documents)}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}}))}},setup(){const e=(0,F.fX)(),{addAdditionalDocTypeFields:t}=e,l=(0,F.kH)(),{isMediUser:a}=l;return{isMediUser:a,addAdditionalDocTypeFields:t,display_data:(0,L.KR)([])}}});var P=l(12807),q=l(857),V=l(97410),N=l(23954),B=l(98582),$=l.n(B);const Q=(0,P.A)(R,[["render",w]]),X=Q;$()(R,"components",{QMarkupTable:q.A,QTooltip:V.A,QBadge:N.A});const W={class:"full-width dashboard-list-area"},K={class:"text-item",style:{"text-transform":"capitalize"}},U={key:2},j={key:3},z={key:4,align:"right",style:{"padding-right":"16px"}},H={key:5},G={key:6,class:"text-item"},Y=(0,a.Lk)("div",{class:"box loading-shimmer"},null,-1);function J(e,t,l,i,s,n){const d=(0,a.g2)("ColumnOrderBy"),u=(0,a.g2)("q-th"),c=(0,a.g2)("q-tr"),p=(0,a.g2)("q-badge"),h=(0,a.g2)("q-td"),m=(0,a.g2)("q-table");return(0,a.uX)(),(0,a.CE)("div",W,[e.display_data.length>0?((0,a.uX)(),(0,a.Wv)(m,{key:0,class:(0,o.C4)("main-table dashboard-table-style dashboard-table-height back-white"),rows:Object.values(e.display_data),"rows-per-page-options":[0],columns:e.tableColumns,"row-key":"id",flat:"","hide-bottom":"","no-data-label":e.$t("pages.messages.no_record_found"),id:"invoice_table"},{header:(0,a.k6)((t=>[(0,a.bF)(c,{props:t},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tableColumns,((l,i)=>((0,a.uX)(),(0,a.Wv)(u,{key:l.name,props:t,"data-index":i,draggable:"true",dropzone:"true",direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.tableColumns,i),onDrop:(0,r.D$)((t=>e.handleDrop(t,i)),["prevent"]),onDragover:(0,r.D$)((t=>e.onDragOver(t,i)),["prevent"]),onDragenter:(0,r.D$)(e.onDragEnter,["prevent"]),onDragleave:(0,r.D$)(e.onDragLeave,["prevent"]),style:(0,o.Tr)([{cursor:e.getIsDragging?"pointer":"move"},{"text-align":"left"}])},{default:(0,a.k6)((()=>[(0,a.Lk)("span",K,(0,o.v_)(e.$t(l.label)),1),l.actions?((0,a.uX)(),(0,a.Wv)(d,{key:0,type_name:e.type_name,column_name:l.field},null,8,["type_name","column_name"])):(0,a.Q3)("",!0)])),_:2},1032,["props","data-index","onDragstart","onDrop","onDragover","onDragenter","onDragleave","style"])))),128))])),_:2},1032,["props"])])),body:(0,a.k6)((t=>[e.show_table_loader?((0,a.uX)(),(0,a.Wv)(c,{key:1},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tableColumns.length,(e=>((0,a.uX)(),(0,a.Wv)(h,{key:e},{default:(0,a.k6)((()=>[Y])),_:1})))),128))])),_:1})):((0,a.uX)(),(0,a.Wv)(c,{key:0,props:t,class:(0,o.C4)(e.setRowStyle(t.row)+" cursor-pointer")},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,(l=>((0,a.uX)(),(0,a.Wv)(h,{key:l.name,props:t,style:{"text-align":"left"},onClick:l=>e.goToDetails(t.row),class:(0,o.C4)(e.getClassesForColumn(l.name))},{default:(0,a.k6)((()=>["status"==l.name?((0,a.uX)(),(0,a.Wv)(p,{key:0,transparent:"",align:"middle",color:e.statusColor(l.value)},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l.value),1)])),_:2},1032,["color"])):l.value&&"paid_status"==l.name?((0,a.uX)(),(0,a.Wv)(p,{key:1,transparent:"",align:"middle",color:e.statusColor(l.value)},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l.value),1)])),_:2},1032,["color"])):"payment_method"==l.name?((0,a.uX)(),(0,a.CE)("div",U,(0,o.v_)(e.showPaymentMethodLabel(l.value)),1)):"electronic_payment_number"==l.name?((0,a.uX)(),(0,a.CE)("div",j,(0,o.v_)(e.displayLastSixDigits(l.value)),1)):"extended_amount"==l.name?((0,a.uX)(),(0,a.CE)("div",z,(0,o.v_)(l.value),1)):e.dateFields(l.name)?((0,a.uX)(),(0,a.CE)("div",H,(0,o.v_)(e.formatDateAccordingToPreference(l.value,!0)),1)):((0,a.uX)(),(0,a.CE)("div",G,(0,o.v_)(l.value),1))])),_:2},1032,["props","onClick","class"])))),128))])),_:2},1032,["props","class"]))])),_:1},8,["rows","columns","no-data-label"])):(0,a.Q3)("",!0)])}var Z=l(1659),ee=l(30582);const te=(0,a.pM)({name:"duplicate-invoice-dlg",props:{display_data:{type:[],default:[]}},components:{},mixins:[T.A,x.A,ee.A],methods:{},setup(){const e=(0,F.LN)(),{table_columns:t}=(0,Z.bP)(e),l=(0,L.KR)();return l.value=Object.values(JSON.parse(JSON.stringify(t.value))).map((e=>({name:e.name,required:!0,order:e.order,label:e.translation_key,field:e.field,actions:e.actions}))),l.value=l.value.sort(((e,t)=>e.order-t.order)),{tableColumns:l}}});var le=l(42315),ae=l(44488),oe=l(57722),ie=l(45262);const se=(0,P.A)(te,[["render",J]]),ne=se;$()(te,"components",{QTable:le.A,QTr:ae.A,QTh:oe.A,QTd:ie.A,QBadge:N.A});const re=(0,a.pM)({name:"duplicate-invoice-dlg",props:{table_columns:{type:Array,default:()=>[]},document_ids:{type:String,default:""},display_data:{type:Array,default:()=>[]},keyToUpdate:{type:Number,default:0}},components:{DuplicateInvoicesList:ne,DuplicateDocumentList:X},methods:{},setup(){return{}}});var de=l(44189),ue=l(53999),ce=l(88841),pe=l(10386),he=l(25173),me=l(3952),_e=l(50492),be=l(23316);const ve=(0,P.A)(re,[["render",n]]),ge=ve;$()(re,"components",{QCardSection:de.A,QList:ue.A,QExpansionItem:ce.A,QSeparator:pe.A,QItemSection:he.A,QAvatar:me.A,QIcon:_e.A,QCard:be.A})},51184:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>S});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-25b2f491"),e=e(),(0,a.jt)(),e),n={class:"row"},r={class:"col-sm-12 col-md-12 col-lg-12"},d={class:"q-mr-sm"},u=s((()=>(0,a.Lk)("img",{width:"24",height:"24",src:"images/full_screen.svg"},null,-1))),c={class:"col-sm-12 col-md-12 col-lg-12 po-image",id:"image_container"},p=["data-id","width","id","src","onLoad"],h=s((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function m(e,t,l,s,m,_){const b=(0,a.g2)("q-tooltip"),v=(0,a.g2)("q-btn"),g=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",r,[(0,a.Lk)("div",{class:(0,o.C4)([e.renderOpenWindoIcon?"":" text-white","position-fixed"]),id:"po-image-header"},[(0,a.Lk)("span",{class:"cursor-pointer q-ml-sm float-left q-ma-sm file_name ellipsify text-primary",onClick:t[0]||(t[0]=t=>e.openDocument())},[(0,a.eW)((0,o.v_)(this.fileName)+" ",1),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(this.fileName),1)])),_:1})]),(0,a.Lk)("span",d,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.currentDocPage=t),class:(0,o.C4)([e.renderOpenWindoIcon?"pdf-input-white input-border":"pdf-input-black","po_iterateable_item"]),onChange:t[2]||(t[2]=t=>e.changePage())},null,34),[[i.Jo,e.currentDocPage]]),(0,a.eW)(" /"+(0,o.v_)(e.images.length),1)]),(0,a.eW)(" | "),(0,a.bF)(v,{flat:"",round:"",color:e.renderOpenWindoIcon?"black":"white",icon:"remove",size:"md",class:"po_iterateable_item highlight-text",onClick:e.zoomOut},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("zoom_out")),1)])),_:1})])),_:1},8,["color","onClick"]),(0,a.Lk)("span",null,(0,o.v_)(e.imageWidthPercent)+" % ",1),(0,a.bF)(v,{flat:"",round:"",color:e.renderOpenWindoIcon?"black":"white",icon:"add",size:"md",class:"po_iterateable_item highlight-text",onClick:e.zoomIn},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("zoom_in")),1)])),_:1})])),_:1},8,["color","onClick"]),(0,a.RG)(e.$slots,"default",{},void 0,!0),e.renderOpenWindoIcon?((0,a.uX)(),(0,a.Wv)(v,{key:0,flat:"",class:"float-right q-pl-sm q-pr-sm po_iterateable_item",size:"md",onClick:t[3]||(t[3]=t=>e.openComponentInSaparateWindow())},{default:(0,a.k6)((()=>[u,(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("open_image")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)],2)]),(0,a.Lk)("div",c,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.images,((t,l)=>((0,a.uX)(),(0,a.CE)("img",{"data-id":l,width:e.imageWidth,key:l,id:l+1,src:e.baseUrl+"/"+t.path+"?"+e.tokenQueryParam,class:"shadow-5 center-inner v-m-10 image-item",onLoad:t=>e.imageLoaded(e.evt,l)},null,40,p)))),128))]),(0,a.bF)(g,{showing:e.processing},{default:(0,a.k6)((()=>[h])),_:1},8,["showing"])])}var _=l(92162),b=l(24622),v=l(46162),g=l(38734),f=l(83319),y=l(1659);const k=(0,a.pM)({el:"#app",mixins:[b.A],props:{docName:{type:String,default:""},docImages:{type:[{}],default:[]},renderOpenWindoIcon:{type:Boolean,default:!1},dynamicWidth:{type:Number}},watch:{dynamicWidth(e,t){this.imageWidth=e-44,this.prepareImagesData()},docName(e){e&&""!=e&&(this.fileName=e)},docImages(e){e&&""!=e&&(this.images=e,this.prepareImagesData())}},data(){return{imageWidth:0,imageHeight:0,currentDocPage:1,actualImageWidth:0,imageWidthPercent:100}},mounted(){window.addEventListener("resize",this.windowResize),this.init()},unmounted:function(){window.removeEventListener("resize",this.windowResize),window.removeEventListener("scroll",this.handleScroll)},methods:{init(){try{if(this.setRecordFromCache(),!this.record||0===Object.keys(this.record).length||!1===this.record.success)return;this.record.hasOwnProperty("filename")&&(this.fileName=this.record.filename),this.record.hasOwnProperty("images")&&(this.images=this.record.images),this.prepareImagesData()}catch(e){logInfo("error",e)}},prepareImagesData(){if(this.images&&this.images.length>0){this.processing=!this.images_loaded;let e=(0,_.$)("#image_container");if(!e)return;this.imageWidth=e.offsetWidth,this.imageHeight=e.offsetHeight-40,this.actualImageWidth=e.offsetWidth,this.imageWidthPercent=90,this.setImageStat(),!1===this.renderOpenWindoIcon&&(window.addEventListener("scroll",this.handleScroll),e.classList.remove("po-image"));let t=(0,_.$)("#po-image-header");t.classList.remove("position-fixed"),(0,_.$)("#image_container").addEventListener("scroll",this.handleScroll)}},windowResize(){let e=(0,_.$)("#image_container");this.imageWidth=e.offsetWidth,this.imageHeight=e.offsetHeight-40,this.imageWidthPercent=90,this.setImageStat()},adjustImageTopPanel(){setTimeout((()=>{let e=(0,_.$)("#toolbar_area");if(e){let t=e.parentElement;(0,_.$)("#file_name").style.width=t.offsetWidth-20-e.offsetWidth+"px"}}),10)},imageLoaded(e,t){if(this.images_loaded)return;const l=document.querySelectorAll(".image-item");l.length>=this.images.length&&(this.processing=!1,this.images_loaded=!0)},openComponentInSaparateWindow(){let e=this.$router.resolve({path:"/po-image"});window.open(e.href,"_blank","toolbar=yes,scrollbars=yes,resizable=yes,left=500,width=1000,height=1000")},setImageStat(){let e=(0,_.$)("#image_container");setTimeout((()=>{this.imageHeight=e.offsetHeight-40}),10)},zoomOut(){this.imageWidthPercent>10&&(this.imageWidthPercent-=10,this.imageWidth=this.imageWidth-this.getPercentageOfimageWidth(10),this.setImageStat())},zoomIn(){if(this.imageWidthPercent<250){this.imageWidthPercent+=10,this.imageWidth=this.imageWidth+this.getPercentageOfimageWidth(10);let e=(0,_.$)("#image_container");setTimeout((()=>{this.imageHeight=e.offsetHeight}),10)}},getPercentageOfimageWidth(e){let t=this.actualImageWidth*(e/100);return t},changePage(){let e=document.getElementById(this.currentDocPage.toString());this.currentDocPage<=this.images.length&&e?e.scrollIntoView():this.showErrorToast(this.$t("pages.messages.PAGE_NOT_FOUND"))},handleScroll(){let e;e=!1===this.renderOpenWindoIcon?document.documentElement.scrollTop:(0,_.$)("#image_container").scrollTop;let t=document.getElementById("1").offsetHeight,l=Math.round(e/t);l<this.images.length&&(this.currentDocPage=l,this.currentDocPage++)},openDocument(){this.record.hasOwnProperty("has_layout")&&"true"===String(this.record.has_layout)&&this.$router.push("/field_validation_v1/"+this.record.doc_id)}},setup(){const e=(0,f.q3)(),{record:t,get_cached_data_id:l}=(0,y.bP)(e),{setRecordFromCache:a}=e,o=(0,f._6)(),{tokenQueryParam:i}=(0,y.bP)(o);o.getTokenQueryParam();let s=[];return{setRecordFromCache:a,tokenQueryParam:i,record:t,get_cached_data_id:l,images:s,fileName:"",baseUrl:v.VA,processing:(0,g.KR)(!1),images_loaded:(0,g.KR)(!1)}}});var w=l(12807),C=l(97410),x=l(56384),L=l(39035),F=l(98582),E=l.n(F);const A=(0,w.A)(k,[["render",m],["__scopeId","data-v-25b2f491"]]),S=A;E()(k,"components",{QTooltip:C.A,QBtn:x.A,QInnerLoading:L.A})},17604:(e,t,l)=>{"use strict";l.d(t,{A:()=>O});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-fddb59d8"),e=e(),(0,a.jt)(),e),s={key:0,class:"q-dialog fullscreen no-pointer-events q-dialog--modal banner-parent"},n=i((()=>(0,a.Lk)("div",{class:"q-dialog__backdrop fixed-full","aria-hidden":"true",style:{"--q-transition-duration":"300ms"}},null,-1))),r={class:"warring-banner row q-dialog__inner all-pointer-events"},d={class:"left-side"},u={class:"message"},c={class:"right-side"},p={class:"text-weight-bold"};function h(e,t,l,i,h,m){const _=(0,a.g2)("q-btn"),b=(0,a.g2)("q-toolbar-title"),v=(0,a.g2)("q-toolbar"),g=(0,a.g2)("DuplicateDlalog"),f=(0,a.g2)("q-card"),y=(0,a.g2)("q-dialog"),k=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.showDuplicateDocBanner?((0,a.uX)(),(0,a.CE)("div",s,[n,(0,a.Lk)("div",r,[(0,a.Lk)("span",d,[(0,a.bF)(_,{class:"reload-doc text-weight-bold",to:"/dashboard"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("dashboard")),1)])),_:1}),"archived"!==e.doc_status?((0,a.uX)(),(0,a.Wv)(_,{key:0,class:"reload-doc text-weight-bold q-ml-sm",onClick:e.addDocToArchive},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("archive")),1)])),_:1},8,["onClick"])):(0,a.Q3)("",!0)]),(0,a.Lk)("span",u,(0,o.v_)(e.$t("duplicate_document_has_been_detected")),1),(0,a.Lk)("span",c,[(0,a.bF)(_,{class:"force-unlock text-weight-bold",onClick:t[0]||(t[0]=t=>e.showDuplicateInvoices=!0)},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("view_duplicate")),1)])),_:1}),(0,a.bF)(_,{class:"reload-doc text-weight-bold",onClick:t[1]||(t[1]=t=>e.removeBaner())},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("proceed_anyway")),1)])),_:1})])])])):(0,a.Q3)("",!0),(0,a.bF)(y,{modelValue:e.showDuplicateInvoices,"onUpdate:modelValue":t[2]||(t[2]=t=>e.showDuplicateInvoices=t),"full-width":""},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(v,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",p,(0,o.v_)(e.$t("duplicate_detection")),1)])),_:1}),(0,a.bo)((0,a.bF)(_,{flat:"",round:"",dense:"",icon:"close"},null,512),[[k]])])),_:1}),(0,a.bF)(g,{table_columns:e.table_columns,document_ids:e.duplicateDocumentIds,display_data:e.duplicateInvoiceList},null,8,["table_columns","document_ids","display_data"])])),_:1})])),_:1},8,["modelValue"])],64)}var m=l(24622),_=l(38734),b=l(83319),v=l(11470),g=l(25982),f=l(64775),y=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const k=(0,a.pM)({name:"duplicate-invoice-msg",mixins:[m.A],props:{doc_id:{type:String,default:""},doc_type:{type:String,default:""},doc_status:{type:String,default:""}},emits:["setInvoiceDuplicateStatus"],components:{DuplicateDlalog:g.A},data(){return{duplicateDocumentIds:(0,_.KR)(""),showDuplicateInvoices:(0,_.KR)(!1),duplicateInvoiceList:(0,_.KR)([]),docId:this.$route.params.id,showDuplicateDocBanner:(0,_.KR)(!1)}},mounted:function(){this.init(),window.addEventListener("keydown",this.handleEsc)},beforeUnmount(){window.removeEventListener("keydown",this.handleEsc)},methods:{init(){return y(this,void 0,void 0,(function*(){this.getDocumnetDuplicates(),yield this.getSavedColumns(),this.table_columns=this.handleTableColumns(!1)}))},getDocumnetDuplicates(){return y(this,void 0,void 0,(function*(){if(this.doc_id&&this.doc_type)try{const e="legacy_format=false&doc_id="+this.doc_id+"&doc_type="+this.doc_type,t=yield v.z6.getDuplicateInvoices(e);if(!t.success||0==t.duplicate_documents.length&&0==t.supplier_invoice_duplicates.length)return void this.removeBaner();this.showDuplicateDocBanner=!0,t.duplicate_documents&&t.duplicate_documents.length>0&&(this.duplicateDocumentIds=t.duplicate_documents.join(",")),t.supplier_invoice_duplicates&&t.supplier_invoice_duplicates.length>0&&(this.duplicateInvoiceList=t.supplier_invoice_duplicates)}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}}))},removeBaner(){this.$emit("setInvoiceDuplicateStatus",!1)},addDocToArchive(){return y(this,void 0,void 0,(function*(){try{const e=yield v.M8.set_document_status(this.docId,{status:"archived"});if(!1===e.success)throw{message:e.message};this.$router.push("/dashboard"),this.showSuccessToast(this.$t("status_updated_successfully"))}catch(e){const t=f.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}}))}},handleEsc(e){"Escape"===e.key&&this.removeBaner()},setup(){const e=(0,b.fX)(),{handleTableColumns:t,getSavedColumns:l}=e;return{table_columns:(0,_.KR)([]),getSavedColumns:l,handleTableColumns:t}}});var w=l(12807),C=l(82156),x=l(44488),L=l(56384),F=l(23316),E=l(36914),A=l(39150),S=l(88672),D=l(98582),I=l.n(D);const T=(0,w.A)(k,[["render",h],["__scopeId","data-v-fddb59d8"]]),O=T;I()(k,"components",{QDialog:C.A,QTr:x.A,QBtn:L.A,QCard:F.A,QToolbar:E.A,QToolbarTitle:A.A}),I()(k,"directives",{ClosePopup:S.A})},23018:(e,t,l)=>{"use strict";l.d(t,{A:()=>p});var a=l(61758),o=l(58790);const i={class:"language-json"};function s(e,t,l,s,n,r){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("pre",i,[(0,a.Lk)("code",{ref:"highlightedCode",class:"language-json"},(0,o.v_)(n.formattedJson),513)])])}var n=l(51459),r=l.n(n);l(52325);const d={props:{jsonData:{type:Object,required:!0}},data(){return{formattedJson:""}},watch:{jsonData:{immediate:!0,handler(e){this.formatAndHighlightJson(e)}}},methods:{formatAndHighlightJson(e){try{this.formattedJson=JSON.stringify(e,null,2)}catch(t){this.formattedJson="Invalid JSON"}this.$nextTick((()=>{r().highlightElement(this.$refs.highlightedCode)}))}}};var u=l(12807);const c=(0,u.A)(d,[["render",s]]),p=c},66297:(e,t,l)=>{"use strict";l.d(t,{A:()=>k});var a=l(61758),o=l(58790);const i=["innerHTML"];function s(e,t,l,s,n,r){const d=(0,a.g2)("q-item-label"),u=(0,a.g2)("q-tooltip"),c=(0,a.g2)("q-item-section"),p=(0,a.g2)("q-item"),h=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(h,{dense:"",outlined:"","options-dense":"",loading:e.language_origins_loading||e.loading_settings,modelValue:e.user_settings[e.amount_format_setting],"onUpdate:modelValue":[t[0]||(t[0]=t=>e.user_settings[e.amount_format_setting]=t),t[1]||(t[1]=t=>{e.setUserPreferences(e.amount_format_setting,t)})],options:e.format_origins,"emit-value":"","map-options":"",label:e.$t("pages.settings.amount_format")},{option:(0,a.k6)((e=>[(0,a.bF)(p,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024),e.opt.description?((0,a.uX)(),(0,a.Wv)(u,{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("span",{innerHTML:e.opt.description},null,8,i)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1040)])),_:1},8,["loading","modelValue","options","label"])}var n=l(83319),r=l(1659),d=l(76956),u=l(68450);const c=(0,a.pM)({el:"#app",mixins:[],props:[],components:{},mounted:function(){this.init()},data(){return{amount_format_setting:d.SP}},watch:{loading_settings:{handler:function(e,t){!1===e&&this.init()}}},methods:{init(){this.loading_settings||(0,u.z)(this.user_settings[this.amount_format_setting])&&(this.user_settings[this.amount_format_setting]="")}},setup(){const e=(0,n.Bu)(),{user_settings:t,loading_settings:l}=(0,r.bP)(e),{setUserPreferences:a,getSettingWithExpiry:o}=e,i=(0,n.QJ)(),{format_origins:s,language_origins_loading:d,language_origins_loaded:u}=(0,r.bP)(i);return{loading_settings:l,getSettingWithExpiry:o,setUserPreferences:a,format_origins:s,language_origins_loading:d,language_origins_loaded:u,user_settings:t}}});var p=l(12807),h=l(94940),m=l(90124),_=l(25173),b=l(13796),v=l(97410),g=l(98582),f=l.n(g);const y=(0,p.A)(c,[["render",s]]),k=y;f()(c,"components",{QSelect:h.A,QItem:m.A,QItemSection:_.A,QItemLabel:b.A,QTooltip:v.A})},40916:(e,t,l)=>{"use strict";l.d(t,{A:()=>k});var a=l(61758),o=l(58790);const i=["innerHTML"];function s(e,t,l,s,n,r){const d=(0,a.g2)("q-item-label"),u=(0,a.g2)("q-tooltip"),c=(0,a.g2)("q-item-section"),p=(0,a.g2)("q-item"),h=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(h,{loading:e.date_pattern_loading||e.loading_settings,dense:"",outlined:"","options-dense":"",modelValue:e.user_settings[e.date_pattern_setting],"onUpdate:modelValue":[t[0]||(t[0]=t=>e.user_settings[e.date_pattern_setting]=t),t[1]||(t[1]=t=>{e.setUserPreferences(e.date_pattern_setting,t)})],options:e.date_pattern_list,"emit-value":"","map-options":"",label:e.$t("date_pattern")},{option:(0,a.k6)((e=>[(0,a.bF)(p,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024),e.opt.description?((0,a.uX)(),(0,a.Wv)(u,{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("span",{innerHTML:e.opt.description},null,8,i)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1040)])),_:1},8,["loading","modelValue","options","label"])}var n=l(1659),r=l(68450),d=l(76956),u=l(83319);const c=(0,a.pM)({el:"#app",props:[],components:{},mounted:function(){this.init()},data(){return{date_pattern_setting:d.J9}},watch:{loading_settings:{handler:function(e,t){!1===e&&this.init()}}},setup(){const e=(0,u.Bu)(),{user_settings:t,loading_settings:l}=(0,n.bP)(e),{setUserPreferences:a}=e,o=(0,u.Sq)(),{date_pattern_list:i,date_pattern_loading:s,date_pattern_loaded:r}=(0,n.bP)(o);return{setUserPreferences:a,user_settings:t,loading_settings:l,date_pattern_list:i,date_pattern_loading:s,date_pattern_loaded:r}},methods:{init(){this.loading_settings||(0,r.z)(this.user_settings[this.date_pattern_setting])&&(this.user_settings[this.date_pattern_setting]="")}}});var p=l(12807),h=l(94940),m=l(90124),_=l(25173),b=l(13796),v=l(97410),g=l(98582),f=l.n(g);const y=(0,p.A)(c,[["render",s]]),k=y;f()(c,"components",{QSelect:h.A,QItem:m.A,QItemSection:_.A,QItemLabel:b.A,QTooltip:v.A})},50598:(e,t,l)=>{"use strict";l.d(t,{A:()=>C});var a=l(61758);const o={key:0,class:"row"},i=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function s(e,t,l,s,n,r){const d=(0,a.g2)("q-toggle"),u=(0,a.g2)("q-option-group"),c=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",null,[(0,a.bF)(d,{modelValue:e.user_settings[e.setting_name],"onUpdate:modelValue":[t[0]||(t[0]=t=>e.user_settings[e.setting_name]=t),t[1]||(t[1]=t=>{e.saveSettings(e.setting_name,t)})],label:e.$t("dual_monitor_mode"),"left-label":!0},null,8,["modelValue","label"])]),e.user_settings[e.setting_name]?((0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(u,{modelValue:e.user_settings[e.sub_setting_name],"onUpdate:modelValue":[t[2]||(t[2]=t=>e.user_settings[e.sub_setting_name]=t),t[3]||(t[3]=t=>{e.setUserPreference(e.sub_setting_name,t)})],options:e.options,color:"primary",inline:""},null,8,["modelValue","options"])])):(0,a.Q3)("",!0),(0,a.bF)(c,{showing:e.loading||e.loading_settings},{default:(0,a.k6)((()=>[i])),_:1},8,["showing"])],64)}var n=l(1659),r=l(24622),d=l(38734),u=l(11470),c=l(83319),p=l(64775),h=l(36801),m=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const _=(0,a.pM)({el:"#app",mixins:[r.A],props:[],components:{},data(){return{sub_setting_name:"MONITOR_PREFERENCE",setting_name:"DUAL_MONITOR_MODE_SETTING"}},watch:{loading_settings:{handler:function(e,t){0!=e||1!=t||this.user_settings[this.setting_name]||(this.user_settings[this.setting_name]=!1)}}},mounted(){return m(this,void 0,void 0,(function*(){if(!this.user_settings[this.setting_name])return void(this.user_settings[this.setting_name]=!1);const e=yield u.jD.getUserPreference({key:this.sub_setting_name});this.user_settings[this.sub_setting_name]=e}))},methods:{saveSettings(e,t){return m(this,void 0,void 0,(function*(){if(e)try{this.loading=!0,yield(0,h.qf)(e,t),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(l){const e=p.t.getErrorMessage(l);this.showErrorToast(e),logError(l)}finally{this.loading=!1}}))},setUserPreference(e,t){return m(this,void 0,void 0,(function*(){if(e)try{this.loading=!0,yield u.jD.setUserPreference({key:this.sub_setting_name,value:t}),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(l){const e=p.t.getErrorMessage(l);this.showErrorToast(e),logError(l)}finally{this.loading=!1}}))}},setup(){const e=(0,c.Bu)(),{user_settings:t,loading_settings:l}=(0,n.bP)(e);return{user_settings:t,loading_settings:l,loading:(0,d.KR)(!1),options:[{label:"Monitor 1",value:"monitor_1"},{label:"Monitor 2",value:"monitor_2"}]}}});var b=l(12807),v=l(66908),g=l(61003),f=l(39035),y=l(98582),k=l.n(y);const w=(0,b.A)(_,[["render",s]]),C=w;k()(_,"components",{QToggle:v.A,QOptionGroup:g.A,QInnerLoading:f.A})},88180:(e,t,l)=>{"use strict";l.d(t,{A:()=>E});var a=l(61758),o=l(58790);const i=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function s(e,t,l,s,n,r){const d=(0,a.g2)("q-icon"),u=(0,a.g2)("q-item-section"),c=(0,a.g2)("q-item"),p=(0,a.g2)("q-inner-loading"),h=(0,a.gN)("ripple");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(c,{clickable:"",onClick:t[0]||(t[0]=t=>e.toggleDarkMode())},{default:(0,a.k6)((()=>[(0,a.bF)(u,{avatar:""},{default:(0,a.k6)((()=>[e.darkMode?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(d,{key:0,class:"icon-grey",name:"dark_mode"})),e.darkMode?((0,a.uX)(),(0,a.Wv)(d,{key:1,class:"icon-grey",name:"light_mode"})):(0,a.Q3)("",!0)])),_:1}),e.darkMode?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(u,{key:0,class:"text-capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("Dark Mode").toLowerCase()),1)])),_:1})),e.darkMode?((0,a.uX)(),(0,a.Wv)(u,{key:1,class:"text-capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("Light Mode").toLowerCase()),1)])),_:1})):(0,a.Q3)("",!0)])),_:1})),[[h]]),(0,a.bF)(p,{showing:e.loading||e.loading_settings},{default:(0,a.k6)((()=>[i])),_:1},8,["showing"])],64)}var n=l(38734),r=l(24622),d=l(83319),u=l(11470),c=l(1659),p=l(50411),h=l(64775),m=l(76956),_=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const b=(0,a.pM)({el:"#app",mixins:[r.A],props:[],components:{},mounted(){const e=p.A.isActive;1==Boolean(e)?this.darkMode=!0:this.darkMode=!1},data(){return{darkMode:!1,dark_mode_setting:m.up}},watch:{loading_settings:{handler:function(e,t){0!=e||1!=t||this.user_settings[this.dark_mode_setting]||(this.user_settings[this.dark_mode_setting]=!1)}}},setup(){const e=(0,d.Bu)(),{user_settings:t,loading_settings:l}=(0,c.bP)(e),{setUserPreferences:a,getUserSettingWithExpiry:o}=e;return{getUserSettingWithExpiry:o,setUserPreferences:a,user_settings:t,loading_settings:l,settings_store:e,loading:(0,n.KR)(!1)}},methods:{toggleDarkMode(){this.$q.dark.toggle(),this.darkMode=!this.darkMode,this.setUserPreferences(this.dark_mode_setting,this.darkMode)},saveSettings(e,t){return _(this,void 0,void 0,(function*(){if(e)try{this.loading=!0;let e=new FormData;e.append("key",this.dark_mode_setting),e.append("value",t),yield u.jD.setUserPreference({key:this.dark_mode_setting,value:t}),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(l){const e=h.t.getErrorMessage(l);this.showErrorToast(e),logError(l)}finally{this.loading=!1}}))}}});var v=l(12807),g=l(90124),f=l(25173),y=l(50492),k=l(66908),w=l(39035),C=l(65265),x=l(98582),L=l.n(x);const F=(0,v.A)(b,[["render",s]]),E=F;L()(b,"components",{QItem:g.A,QItemSection:f.A,QIcon:y.A,QToggle:k.A,QInnerLoading:w.A}),L()(b,"directives",{Ripple:C.A})},95318:(e,t,l)=>{"use strict";l.d(t,{A:()=>b});var a=l(61758),o=l(58790);const i={for:"Font Size"};function s(e,t,l,s,n,r){const d=(0,a.g2)("q-radio");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("label",i,(0,o.v_)(e.$t("font_size")),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.font_size_options,((l,o)=>((0,a.uX)(),(0,a.Wv)(d,{key:o,modelValue:e.font_size,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.font_size=t),t[1]||(t[1]=t=>e.fontSizeUpdated())],val:l.value,label:e.$t(l.label)},null,8,["modelValue","val","label"])))),128))],64)}var n=l(83319),r=l(1659),d=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const u=(0,a.pM)({el:"#app",mixins:[],props:{},components:{},data(){return{}},mounted:function(){this.init()},methods:{init(){return d(this,void 0,void 0,(function*(){yield this.initFontSize()}))},fontSizeUpdated(){this.setAppFontSize(),this.saveFontSizeValue()}},setup(){const e=(0,n.Ml)(),{saveFontSizeValue:t,initFontSize:l,setAppFontSize:a}=e,{font_size:o,font_size_options:i}=(0,r.bP)(e);return{font_size:o,font_size_options:i,saveFontSizeValue:t,initFontSize:l,setAppFontSize:a}}});var c=l(12807),p=l(97878),h=l(98582),m=l.n(h);const _=(0,c.A)(u,[["render",s]]),b=_;m()(u,"components",{QRadio:p.A})},4957:(e,t,l)=>{"use strict";l.d(t,{A:()=>te});var a=l(61758),o=l(58790);const i={class:"row no-wrap q-pa-md"},s={class:"column"},n={class:"row"},r={style:{width:"50%"}},d={style:{width:"50%"},class:"q-pl-sm"},u={class:"text-weight-medium"},c={class:"column items-center"},p={class:"notification-item-initials"},h={class:"cursor-pointer link"},m={class:"text-subtitle1 q-mb-sm"},_={class:"q-ml-sm"};function b(e,t,l,b,v,g){const f=(0,a.g2)("q-item-label"),y=(0,a.g2)("q-separator"),k=(0,a.g2)("q-icon"),w=(0,a.g2)("q-item-section"),C=(0,a.g2)("q-item"),x=(0,a.g2)("q-list"),L=(0,a.g2)("DateFormat"),F=(0,a.g2)("AmountFormat"),E=(0,a.g2)("fontSizeOption"),A=(0,a.g2)("darkModeOption"),S=(0,a.g2)("DualMonitor"),D=(0,a.g2)("q-btn"),I=(0,a.g2)("q-avatar"),T=(0,a.g2)("q-tooltip"),O=(0,a.g2)("LanguageDropdown"),M=(0,a.g2)("q-btn-dropdown"),R=(0,a.g2)("EditProfile"),P=(0,a.g2)("q-dialog"),q=(0,a.g2)("q-card-section"),V=(0,a.g2)("f-btn"),N=(0,a.g2)("q-card-actions"),B=(0,a.g2)("q-card"),$=(0,a.gN)("ripple"),Q=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(M,{class:"user-setting q-ml-md account-header mobile-hide",label:e.main_orgainzation,loading:e.loading},{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.Lk)("div",s,[e.organizations?((0,a.uX)(),(0,a.Wv)(x,{key:0,class:"organizations-list",style:(0,o.Tr)(e.hasSubOrganizations()?{"max-width":"314px","min-width":"314px","min-height":"136px"}:{})},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.organizations,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[(0,a.bF)(f,{class:"v-p-0 font-size-18 no-padding-left-right text-weight-bold",header:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.name),1)])),_:2},1024),(0,a.bF)(y),(0,a.Lk)("div",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.sub_organisations,((t,l)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(C,{key:l,class:"m-t-5 v-p-0 font-size-12 no-padding-left-right text-weight-bold",clickable:"",onClick:l=>e.setSubOrg(t),active:t.id===e.sub_org_id},{default:(0,a.k6)((()=>[(0,a.bF)(w,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(k,{name:"work",class:(0,o.C4)(t.id===e.sub_org_id?"active-color":"inactive-color")},null,8,["class"])])),_:2},1024),(0,a.bF)(w,{class:(0,o.C4)(t.id===e.sub_org_id?"active-color":"inactive-color")},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.name),1)])),_:2},1032,["class"])])),_:2},1032,["onClick","active"])),[[$]]))),128))])],64)))),128))])),_:1},8,["style"])):(0,a.Q3)("",!0),(0,a.bF)(y),(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.bF)(L)]),(0,a.Lk)("div",d,[(0,a.bF)(F)])]),(0,a.Lk)("div",null,[(0,a.bF)(E)]),(0,a.Lk)("div",null,[(0,a.bF)(A)]),(0,a.bF)(S),(0,a.Lk)("div",u,[(0,a.bF)(D,{style:{padding:"4px 6px"},flat:"",color:"primary",onClick:e.refreshClicked,icon:"refresh",class:"no-padding-left-right"},null,8,["onClick"]),(0,a.eW)(" "+(0,o.v_)(e.$t("refresh_user_settings")),1)])]),(0,a.bF)(y,{vertical:"",inset:"",class:"q-mx-lg"}),(0,a.Lk)("div",c,[(0,a.bF)(I,{size:"72px",class:"notification-item-avatar"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",p,(0,o.v_)(e.getInitials(this.userFullName)),1)])),_:1}),(0,a.Lk)("label",{class:"row q-ma-sm",onClick:t[0]||(t[0]=t=>e.profileDialog=!0)},[(0,a.bF)(k,{name:"edit",size:"16px",color:"primary",class:"mt-3 cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("edit_profile")),1)])),_:1})])),_:1}),(0,a.Lk)("span",h,(0,o.v_)(e.$t("edit_profile")),1)]),(0,a.Lk)("div",m,(0,o.v_)(this.userFullName),1),(0,a.bF)(O),(0,a.bo)((0,a.bF)(D,{push:"",size:"sm","data-cy":"logout",color:"primary text-white ",label:e.$t("layout.logout"),onClick:t[1]||(t[1]=e=>this.logout()),icon:"power_settings_new"},null,8,["label"]),[[Q]])])])])),_:1},8,["label","loading"]),(0,a.bF)(P,{modelValue:e.profileDialog,"onUpdate:modelValue":t[2]||(t[2]=t=>e.profileDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(R)])),_:1},8,["modelValue"]),(0,a.bF)(P,{modelValue:e.refresh_warning,"onUpdate:modelValue":t[5]||(t[5]=t=>e.refresh_warning=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(B,null,{default:(0,a.k6)((()=>[(0,a.bF)(q,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(I,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(q,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",_,(0,o.v_)(e.$t("change_lost_warning")),1)])),_:1}),(0,a.bF)(N,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(V,{appearance:"cancel",label:e.$t("cancel"),onClick:t[3]||(t[3]=t=>e.refresh_warning=!1)},null,8,["label"]),[[Q]]),(0,a.bF)(V,{"data-cy":"done",label:e.$t("proceed"),onClick:t[4]||(t[4]=t=>e.refreshSettings(!0))},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var v=l(1659),g=l(6044),f=l(24622),y=l(45938),k=l(38734),w=l(95318),C=l(88180),x=l(40916),L=l(66297),F=l(18505),E=l(68130),A=l(50637),S=l(50598),D=l(83319),I=l(73937),T=l(48156),O=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const M=(0,a.pM)({el:"#app",mixins:[g.A,F.A,f.A],props:{},components:{EditProfile:A.A,DualMonitor:S.A,DateFormat:x.A,AmountFormat:L.A,fontSizeOption:w.A,darkModeOption:C.A,LanguageDropdown:T.A},data(){return{}},mounted:function(){this.init(),window.addEventListener("storage",this.storageChangeEvent)},unmounted:function(){window.removeEventListener("storage",this.storageChangeEvent)},methods:{getInitials(e){var t=e.split(" "),l=t[0].substring(0,1).toUpperCase();return t.length>1&&(l+=t[t.length-1].substring(0,1).toUpperCase()),l},init(){return O(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.refreshSettings(),yield this.getSubOrgId(),this.refreshUserInfo(),this.getLanguageIfEmpty(),this.getDatePatterns()}catch(e){logError(e)}finally{this.loading=!1}}))},storageChangeEvent(e){this.handleSessionStorageChange(e)},handleSessionStorageChange(e){return O(this,void 0,void 0,(function*(){try{this.handleStorageEvent(e),yield this.refreshAndGetSubOrgId()}catch(t){logError(t)}}))},getDatePatterns(){return O(this,void 0,void 0,(function*(){this.date_pattern_loaded||(yield this.getDatePatternOptions())}))},setSubOrg(e){return O(this,void 0,void 0,(function*(){try{this.showLoading();const t=String(e.id);if(!t)return void this.showErrorToast("no organization selected");yield E.E.setSubOrgId(t),yield this.refreshAndGetSubOrgId(),this.$router.go(0)}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.hideLoading()}}))},refreshUserInfo(){this.profileDialog=!1;const e=(0,I.Ky)("id");this.isUserAdmin=(0,I.Ky)("is_organisation_admin"),e?this.updateUserName():this.logout()},refreshSettings(e=!1){return O(this,void 0,void 0,(function*(){if(yield this.startSettingsFetch(),this.refresh_warning=!1,!e)return;this.clearStorageForRefresh(),yield y.tH.fetch(),yield this.refreshUserOrganizations();const t=(0,D.q3)();t.resetDocStore(this.$route.fullPath),this.$router.go(0)}))},refreshClicked(){const e=this.$route.path,t=["/dashboard","/setting"];t.includes(e)?this.refreshSettings(!0):this.refresh_warning=!0},hasSubOrganizations(){return!!(this.organizations[0]&&this.organizations[0].hasOwnProperty("sub_organisations")&&this.organizations[0].sub_organisations.length>0)}},setup(){const e=(0,D.kH)(),{updateUserName:t,getUserOrganizations:l,getSubOrgId:a,refreshAndGetSubOrgId:o,refreshUserOrganizations:i}=e,{userFullName:s,organizations:n,sub_org_id:r,main_orgainzation:d}=(0,v.bP)(e),u=(0,D.Bu)(),{setOrgSettings:c,handleStorageEvent:p,getOrgSettings:h,startSettingsFetch:m}=u,_=(0,D.QJ)(),{getLanguageIfEmpty:b}=_,g=(0,D.Sq)(),{getDatePatternOptions:f}=g,{date_pattern_loaded:y}=(0,v.bP)(g);return{startSettingsFetch:m,refreshUserOrganizations:i,refreshAndGetSubOrgId:o,getOrgSettings:h,handleStorageEvent:p,date_pattern_loaded:y,getDatePatternOptions:f,getLanguageIfEmpty:b,getUserOrganizations:l,setOrgSettings:c,updateUserName:t,getSubOrgId:a,settings_store:u,main_orgainzation:d,sub_org_id:r,userFullName:s,organizations:n,refresh_warning:(0,k.KR)(!1),profileDialog:(0,k.KR)(!1),isUserAdmin:(0,k.KR)(""),link:(0,k.KR)("inbox"),loading:(0,k.KR)(!1)}}});var R=l(12807),P=l(18301),q=l(53999),V=l(13796),N=l(10386),B=l(90124),$=l(25173),Q=l(50492),X=l(56384),W=l(3952),K=l(97410),U=l(82156),j=l(23316),z=l(44189),H=l(62669),G=l(65265),Y=l(88672),J=l(98582),Z=l.n(J);const ee=(0,R.A)(M,[["render",b],["__scopeId","data-v-0fc61a64"]]),te=ee;Z()(M,"components",{QBtnDropdown:P.A,QList:q.A,QItemLabel:V.A,QSeparator:N.A,QItem:B.A,QItemSection:$.A,QIcon:Q.A,QBtn:X.A,QAvatar:W.A,QTooltip:K.A,QDialog:U.A,QCard:j.A,QCardSection:z.A,QCardActions:H.A}),Z()(M,"directives",{Ripple:G.A,ClosePopup:Y.A})},48156:(e,t,l)=>{"use strict";l.d(t,{A:()=>x});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-icon"),d=(0,a.g2)("q-item-section"),u=(0,a.g2)("q-item"),c=(0,a.g2)("q-list"),p=(0,a.g2)("q-menu"),h=(0,a.gN)("ripple");return(0,a.bo)(((0,a.uX)(),(0,a.Wv)(u,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(d,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(r,{class:"icon-grey",name:"language"})])),_:1}),(0,a.bF)(d,{class:"text-capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.currentLanguage),1)])),_:1}),(0,a.bF)(d,{side:""},{default:(0,a.k6)((()=>[(0,a.bF)(r,{name:"keyboard_arrow_right"})])),_:1}),(0,a.bF)(p,{anchor:"top end",self:"top start",offset:[1,0],style:{"border-radius":"4px"},class:"no-shadow gray-border"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{bordered:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.languages_list,((t,l)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(u,{key:l,clickable:"",onClick:l=>e.changeLang(t),active:t.value==e.locale},{default:(0,a.k6)((()=>[(0,a.bF)(d,{avatar:"",class:"no-padding",style:{"min-width":"30px !important"}},{default:(0,a.k6)((()=>[t.value==e.locale?((0,a.uX)(),(0,a.Wv)(r,{key:0,name:"check"})):(0,a.Q3)("",!0)])),_:2},1024),(0,a.bF)(d,{class:"text-capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.label),1)])),_:2},1024)])),_:2},1032,["onClick","active"])),[[h]]))),128))])),_:1})])),_:1})])),_:1})),[[h]])}var s=l(23537),n=l(38734),r=l(45022),d=l(41903),u=l(83319),c=l(1659);const p=(0,a.pM)({name:"LanguageDropdown",mounted:function(){r.A.has("selected_language")?this.locale=r.A.getItem("selected_language"):this.locale=this.lang,this.getLanguageList(),this.currentLanguage=this.languages_list.find((e=>e.value==this.locale)).label,d.A.remove("event_name")},data(){return{lang:navigator.language}},methods:{changeLang(e){this.locale=e.value,this.languageChanged(e)},languageChanged(e){r.A.set("selected_language",e.value),d.A.set("event_name","language_change"),r.A.remove("doc_types"),window.location.reload()}},setup(){let{locale:e}=(0,s.s9)({useScope:"global"});const t=(0,u.cY)(),{languages_list:l}=(0,c.bP)(t),{getLanguageList:a}=t;return{languages_list:l,getLanguageList:a,locale:(0,n.KR)(e),currentLanguage:(0,n.KR)("")}}});var h=l(12807),m=l(90124),_=l(25173),b=l(50492),v=l(84436),g=l(53999),f=l(94940),y=l(65265),k=l(98582),w=l.n(k);const C=(0,h.A)(p,[["render",i]]),x=C;w()(p,"components",{QItem:m.A,QItemSection:_.A,QIcon:b.A,QMenu:v.A,QList:g.A,QSelect:f.A}),w()(p,"directives",{Ripple:y.A})},11839:(e,t,l)=>{"use strict";l.d(t,{A:()=>Pe});var a=l(61758),o=l(58790),i=l(29104);const s={class:"row q-pa-sm"},n={class:"bg-grey-3"},r=(0,a.Lk)("th",null,null,-1),d={key:0,class:"text-left"},u={style:{width:"89%",position:"relative"},class:"text-left"},c=["data-id"],p={class:"secondary-c-text"},h=["onPointerover","onPointerleave"],m=["onPointerover","onPointerleave"],_=["data-id"],b=["id","onUpdate:modelValue"],v={class:"back-white"},g={class:"q-ml-sm"},f={key:0,class:"q-pa-md q-gutter-sm"},y={class:"text-weight-bold"},k={class:"row items-center"},w={style:{width:"30%",margin:"auto"}},C={style:{width:"40%"}},x=(0,a.Lk)("div",{style:{width:"30%"}},null,-1),L={class:"row items-center"},F={style:{width:"30%",margin:"auto"}},E={style:{width:"40%"}},A=(0,a.Lk)("div",{style:{width:"30%"}},null,-1),S={key:0,class:"row items-center"},D={style:{width:"1000%",margin:"auto"}},I={class:"bg-grey-3"},T={class:"text-h4 text-uppercase text-left"},O={class:"text-h4 text-uppercase text-left"},M={class:"text-h4 text-uppercase text-left"},R={class:"text-h4 text-uppercase text-left"},P=(0,a.Lk)("img",{src:"images/trash-bin-default.svg",width:"20"},null,-1),q={class:"text-weight-bold"},V={style:{"margin-bottom":"20px"},class:"row full-width mb-10 mt-8"},N={style:{width:"50%"}},B=(0,a.Lk)("div",{style:{width:"50%"},class:"pl-20"},null,-1),$={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},Q={style:{width:"50%"}},X={style:{width:"50%"},class:"pl-20"},W={key:0,style:{"margin-bottom":"20px"},class:"row full-width mb-10"},K={style:{width:"100%"}},U={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},j={style:{width:"100%"}},z={class:"q-ml-sm"};function H(e,t,l,H,G,Y){const J=(0,a.g2)("q-tooltip"),Z=(0,a.g2)("q-fab-action"),ee=(0,a.g2)("q-fab"),te=(0,a.g2)("q-item-label"),le=(0,a.g2)("q-item-section"),ae=(0,a.g2)("q-item"),oe=(0,a.g2)("q-list"),ie=(0,a.g2)("q-btn-dropdown"),se=(0,a.g2)("q-icon"),ne=(0,a.g2)("f-btn"),re=(0,a.g2)("q-btn"),de=(0,a.g2)("q-markup-table"),ue=(0,a.g2)("q-card-section"),ce=(0,a.g2)("q-card-actions"),pe=(0,a.g2)("q-card"),he=(0,a.g2)("q-dialog"),me=(0,a.g2)("q-toolbar-title"),_e=(0,a.g2)("q-toolbar"),be=(0,a.g2)("q-input"),ve=(0,a.g2)("q-checkbox"),ge=(0,a.g2)("q-select"),fe=(0,a.g2)("q-avatar"),ye=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",s,[e.hasLineItems()?((0,a.uX)(),(0,a.Wv)(de,{key:0,class:"full-width",style:{"min-height":"160px"}},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",n,[r,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.headers,((l,i)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l.techName},[e.isColumnVisible(i,l)?((0,a.uX)(),(0,a.CE)("th",d,[(0,a.Lk)("div",u,[1==e.isViewEditable()?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(ee,{color:e.groupByIndex==String(i)?"primary":"grey-6",title:e.groupByIndex==String(i)?"GroupBy Column":"Actions",class:"column-fab",icon:"more_horiz",direction:"down"},{default:(0,a.k6)((()=>[(0,a.bF)(Z,{color:"grey-3","text-color":"black",onClick:t=>e.deleteLineItemColumn(i),width:"20",icon:"img:images/trash-bin-default.svg"},{default:(0,a.k6)((()=>[(0,a.bF)(J,{anchor:"center left",self:"center right",offset:[10,10]},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete_column")),1)])),_:1})])),_:2},1032,["onClick"]),e.groupByIndex!==String(i)?((0,a.uX)(),(0,a.Wv)(Z,{key:0,color:"grey-3","text-color":"black",onClick:t=>e.formateLineItms(l.techName,i),width:"20",icon:"lar la-object-group"},{default:(0,a.k6)((()=>[(0,a.bF)(J,{anchor:"center left",self:"center right",offset:[10,10]},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("group_rows")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.groupByIndex==String(i)?((0,a.uX)(),(0,a.Wv)(Z,{key:1,color:"grey-3","text-color":"black",onClick:t[0]||(t[0]=t=>e.resetFormating()),width:"20",icon:"lar la-object-ungroup"},{default:(0,a.k6)((()=>[(0,a.bF)(J,{anchor:"center left",self:"center right",offset:[10,10]},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("reset_group_rows")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:2},1032,["color","title"]),(0,a.bF)(ie,{flat:"",class:(0,o.C4)("gridHeader "+(l.error?"column-error-border":"")),style:{width:"100%","box-shadow":"none",padding:"0"},label:l.header},{default:(0,a.k6)((()=>[(0,a.bF)(oe,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.dropdownColumns,(t=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(ae,{key:t.techName,clickable:"",onClick:l=>e.swapColumn(t,i)},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.bF)(te,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.header),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[ye]]))),128))])),_:2},1024)])),_:2},1032,["class","label"])],64)):((0,a.uX)(),(0,a.CE)("span",{key:1,class:(0,o.C4)("gridHeader "+(l.error?"column-error-border":"")),style:{width:"100%","box-shadow":"none",padding:"8px 40px 8px 2px"}},(0,o.v_)(l.header),3)),l.error?((0,a.uX)(),(0,a.Wv)(se,{key:2,title:e.$t("pages.screen2b.in_valid_column_error"),name:"priority_high",class:"headerError"},{default:(0,a.k6)((()=>[(0,a.bF)(J,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.screen2b.in_valid_column_error")),1)])),_:1})])),_:1},8,["title"])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0)],64)))),128))])]),((0,a.uX)(),(0,a.CE)("tbody",{ref:"tbodyRef",class:"ln-tbody",key:e.renderKey},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.lineitems,((l,s)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:s},[e.isRowDeleted(l)?((0,a.uX)(),(0,a.CE)("tr",{key:0,tabindex:"0","data-id":e.getLineUuid(l),class:"droptarget"},[(0,a.Lk)("td",p,[1==e.isViewEditable()?((0,a.uX)(),(0,a.Wv)(ne,{key:0,appearance:"flat",onClick:t=>e.removeLineItem(s,l),icon:"fa fa-times"},null,8,["onClick"])):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[],64)),e.isPurchaseOrderConnected(l)?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},["success"==e.getConnectedinfoAttribute(l,"connection_status")?((0,a.uX)(),(0,a.Wv)(se,{key:0,size:"sm",tabindex:"0",class:"cursor-pointer",onFocus:t=>e.showlineHighlighted(l),onBlur:t=>e.removedLineHighlight(l)},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{width:"20",src:"images/link.svg",onPointerover:t=>e.showlineHighlighted(l),onPointerleave:t=>e.removedLineHighlight(l)},null,40,h),(0,a.bF)(J,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("po_connected_match")),1)])),_:1})])),_:2},1032,["onFocus","onBlur"])):((0,a.uX)(),(0,a.Wv)(se,{key:1,size:"sm",tabindex:"0",class:"cursor-pointer",onFocus:t=>e.showlineHighlighted(l),onBlur:t=>e.removedLineHighlight(l)},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{width:"20",src:"images/broken-link.svg",onPointerover:t=>e.showlineHighlighted(l),onPointerleave:t=>e.removedLineHighlight(l)},null,40,m),(0,a.bF)(J,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("po_connected_mismatch")),1)])),_:1})])),_:2},1032,["onFocus","onBlur"])),e.is_po_view?((0,a.uX)(),(0,a.Wv)(re,{key:2,flat:"",color:"blue",onClick:t=>e.removePOConnection(s,l),icon:"fa fa-times"},{default:(0,a.k6)((()=>[(0,a.bF)(J,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("remove_po_connection")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l,((n,r)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:r},[e.isColumnVisible(r,n)?((0,a.uX)(),(0,a.CE)("td",{key:0,"data-id":e.getLineUuid(l)},[1==e.isViewEditable()?(0,a.bo)(((0,a.uX)(),(0,a.CE)("input",{key:0,style:{border:"0px",background:"transparent","outline-width":"0"},onChange:t[1]||(t[1]=(...t)=>e.prepareLineItemJsonForImport&&e.prepareLineItemJsonForImport(...t)),id:s.toString()+r.toString(),"onUpdate:modelValue":e=>n.value=e},null,40,b)),[[i.Jo,n.value]]):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(n.value),1)],64))],8,_)):(0,a.Q3)("",!0)],64)))),128))],8,c)):(0,a.Q3)("",!0)],64)))),128))]))])),_:1})):((0,a.uX)(),(0,a.Wv)(de,{key:1,class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",v,[(0,a.Lk)("th",null,(0,o.v_)(e.$t("no_line_items_found")),1)])])])),_:1}))]),(0,a.bF)(he,{modelValue:e.confirmDialog,"onUpdate:modelValue":t[2]||(t[2]=t=>e.confirmDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(pe,null,{default:(0,a.k6)((()=>[(0,a.bF)(ue,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",g,(0,o.v_)(e.$t("line_items_connection_overwrite")),1)])),_:1}),(0,a.bF)(ce,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(ne,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[ye]]),(0,a.bF)(ne,{label:"Connect anyway",onClick:e.removeExistingAndConnectNewPO},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),e.openAdvSettings?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.bF)(he,{modelValue:e.openAdvSettings,"onUpdate:modelValue":t[6]||(t[6]=t=>e.openAdvSettings=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(pe,{style:{width:"700px","max-width":"50vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(_e,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",y,(0,o.v_)(e.$t("pages.line_items.adv_settings_header")),1)])),_:1}),(0,a.bo)((0,a.bF)(re,{flat:"",round:"",dense:"",icon:"close"},null,512),[[ye]])])),_:1}),(0,a.bF)(ue,{class:""},{default:(0,a.k6)((()=>[(0,a.Lk)("div",k,[(0,a.Lk)("div",w,(0,o.v_)(e.$t("pages.line_items.header_row_count_field")),1),(0,a.Lk)("div",C,[(0,a.bF)(be,{outlined:"",type:"number",rules:e.headerRowCountRules,modelValue:e.header_rows_count,"onUpdate:modelValue":t[3]||(t[3]=t=>e.header_rows_count=t)},null,8,["rules","modelValue"])]),x]),(0,a.Lk)("div",L,[(0,a.Lk)("div",F,(0,o.v_)(e.$t("pages.line_items.move_extra_rows_to_desc_line")),1),(0,a.Lk)("div",E,[(0,a.bF)(ve,{modelValue:e.move_extra_rows_to_desc,"onUpdate:modelValue":t[4]||(t[4]=t=>e.move_extra_rows_to_desc=t)},null,8,["modelValue"])]),A]),e.extra_columns.length>0?((0,a.uX)(),(0,a.CE)("div",S,[(0,a.Lk)("div",D,[(0,a.bF)(de,null,{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",I,[(0,a.Lk)("th",T,(0,o.v_)(e.$t("field_key")),1),(0,a.Lk)("th",O,(0,o.v_)(e.$t("source_field")),1),(0,a.Lk)("th",M,(0,o.v_)(e.$t("pattern")),1),(0,a.Lk)("th",R,(0,o.v_)(e.$t("actions")),1)])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.extra_columns,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:t["key"]},[(0,a.Lk)("td",null,(0,o.v_)(t["field_key"]),1),(0,a.Lk)("td",null,(0,o.v_)(t["source_field"]),1),(0,a.Lk)("td",null,(0,o.v_)(t["pattern"]),1),(0,a.Lk)("td",null,[(0,a.bF)(re,{flat:"",onClick:t=>{t.stopPropagation(),e.removeFieldFromSettings(l)}},{default:(0,a.k6)((()=>[P,(0,a.bF)(J,null,{default:(0,a.k6)((()=>[(0,a.eW)("Remove")])),_:1})])),_:2},1032,["onClick"])])])))),128))])])),_:1})])])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(ce,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(ne,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[ye]]),(0,a.bF)(ne,{class:"q-mr-sm","data-cy":"setvatfield",label:e.$t("pages.line_items.proceed"),onClick:e.formatWthAdvSettings},null,8,["label","onClick"]),(0,a.bF)(ne,{appearance:"secondary",class:"q-mr-sm",label:e.$t("add_fields"),onClick:t[5]||(t[5]=t=>e.addFieldForAdvSettings())},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(he,{modelValue:e.addFieldsDialog,"onUpdate:modelValue":t[15]||(t[15]=t=>e.addFieldsDialog=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(pe,{style:{width:"600px"}},{default:(0,a.k6)((()=>[(0,a.bF)(_e,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",q,(0,o.v_)(e.$t("add_field_view_header")),1)])),_:1}),(0,a.bo)((0,a.bF)(re,{flat:"",round:"",dense:"",icon:"close"},null,512),[[ye]])])),_:1}),(0,a.bF)(ue,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",V,[(0,a.Lk)("div",N,[(0,a.bF)(ge,{modelValue:e.new_field_model["source"],"onUpdate:modelValue":t[8]||(t[8]=t=>e.new_field_model["source"]=t),class:"col-sm-6 col-md-6 col-lg-6",options:e.adv_column_options,label:"Field Source*","bottom-slots":"","error-message":"Field is required",error:e.new_field_model["source_invalid"],"emit-value":"","map-options":""},{append:(0,a.k6)((()=>[(0,a.bF)(se,{name:"close",onClick:t[7]||(t[7]=(0,i.D$)((t=>{e.new_field_model["source"]=""}),["stop"])),class:"cursor-pointer"})])),option:(0,a.k6)((e=>[(0,a.bF)(ae,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.bF)(te,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","error"])]),B]),(0,a.Lk)("div",$,[(0,a.Lk)("div",Q,[(0,a.bF)(be,{label:"Key*",modelValue:e.new_field_model["key"],"onUpdate:modelValue":t[9]||(t[9]=t=>e.new_field_model["key"]=t),outlined:"",class:"full-width","bottom-slots":"","error-message":"Field is required",error:e.new_field_model["key_invalid"]},null,8,["modelValue","error"])]),(0,a.Lk)("div",X,[(0,a.bF)(ge,{modelValue:e.new_field_model["key_dropdown"],"onUpdate:modelValue":[t[11]||(t[11]=t=>e.new_field_model["key_dropdown"]=t),t[12]||(t[12]=t=>e.advSettingNewFieldColumnSelected("key","key_dropdown"))],class:"col-sm-6 col-md-6 col-lg-6",options:e.adv_column_options,label:e.$t("adv_column_options")},{append:(0,a.k6)((()=>[(0,a.bF)(se,{name:"close",onClick:t[10]||(t[10]=(0,i.D$)((t=>{e.new_field_model["key_dropdown"]="",e.advSettingNewFieldColumnSelected("key","key_dropdown")}),["stop"])),class:"cursor-pointer"})])),option:(0,a.k6)((e=>[(0,a.bF)(ae,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.bF)(te,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","label"])])]),e.new_field_model["key_dropdown"]?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",W,[(0,a.Lk)("div",K,[(0,a.bF)(be,{label:"Label",modelValue:e.new_field_model["label"],"onUpdate:modelValue":t[13]||(t[13]=t=>e.new_field_model["label"]=t),outlined:"",class:"full-width"},null,8,["modelValue"])])])),(0,a.Lk)("div",U,[(0,a.Lk)("div",j,[(0,a.bF)(be,{label:"Pattern*",modelValue:e.new_field_model["pattern"],"onUpdate:modelValue":t[14]||(t[14]=t=>e.new_field_model["pattern"]=t),outlined:"",class:"full-width","bottom-slots":"","error-message":"Invalid Regex Pattern",error:e.new_field_model["pattern_invalid"]},null,8,["modelValue","error"])])])])),_:1}),(0,a.bF)(ce,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(ne,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[ye]]),(0,a.bF)(ne,{class:"q-mr-sm","data-cy":"setvatfield",label:e.$t("pages.line_items.proceed"),onClick:e.saveNewFieldForAdvSettings},null,8,["label","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])):(0,a.Q3)("",!0),(0,a.bF)(he,{modelValue:e.poEditRestrictDialog,"onUpdate:modelValue":t[16]||(t[16]=t=>e.poEditRestrictDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(pe,null,{default:(0,a.k6)((()=>[(0,a.bF)(ue,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(fe,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(ue,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",z,(0,o.v_)(e.poEditRestrictMessage),1)])),_:1}),(0,a.bF)(ce,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(re,{flat:"",label:e.$t("dashboard"),color:"primary",to:"/dashboard"},null,8,["label"]),(0,a.bF)(re,{flat:"",label:e.$t("table_extraction_view"),color:"primary",to:"/tbl_ext_v3/"+e.apiData.doc_id},null,8,["label","to"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var G=l(82303),Y=l(41903),J=l(24622),Z=l(38734),ee=l(18505),te=l(46162),le=l(30739),ae=l(85487),oe=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};let ie,se,ne,re={};const de=(0,a.pM)({el:"#app",mixins:[ee.A,J.A],props:{apiData:{},extractedData:{type:String,default:""}},emits:["updateTableDataForSave","updateReadOnlyFlag","updateExtractionDataForSave","updateTableForSave"],components:{},data(){return{docId:"",dropdownColumns:[],columns_to_hide:[],rows_to_delete:[],po_dragging:!1,dragging_data:{},coveredLineItem:[],validation_done:!0,po_connected_line_items:{},connected_line_item:"",confirmDialog:(0,Z.KR)(!1),renderKey:0,lineItemsRect:[],timeoutId:0,wait:!1,openAdvSettings:(0,Z.KR)(!1),is_po_view:!1}},updated:function(){this.$nextTick((function(){if(se=this.$refs.tbodyRef,!se)return;let e=!1,t=se.querySelectorAll("tr");if(t.length>0){let l=t[0].getBoundingClientRect();0!=l.x&&0!=l.y||(e=!0)}if(!e){this.lineItemsRect=[];for(var l=0;l<t.length;l++){let e=t[l].getBoundingClientRect();this.lineItemsRect.push({id:t[l].dataset.id,rect:e})}}}))},mounted:function(){document.addEventListener("po_dragging",this.poDragStart),document.addEventListener("po_dragging_stop",this.poDragStop),document.addEventListener("revert_changes",this.revertChanges),this.isViewPo(),document.addEventListener("dragenter",this.dragenter),document.addEventListener("dragover",this.dragover),document.addEventListener("drop",this.drop),document.addEventListener("keydown",this.keyDownEvent)},unmounted:function(){document.removeEventListener("po_dragging",this.poDragStart),document.removeEventListener("po_dragging_stop",this.poDragStop),document.removeEventListener("revert_changes",this.revertChanges),document.removeEventListener("dragenter",this.dragenter),document.removeEventListener("dragover",this.dragover),document.removeEventListener("drop",this.drop),document.removeEventListener("keydown",this.keyDownEvent)},watch:{apiData:{deep:!0,handler:function(e,t){this.initLineItems()}},extractedData(e){ne.value=e,ne.parentElement.classList.remove("active"),ne=null}},computed:{groupByIndex:function(){return this.getColumnGroupBy()}},methods:{dragover(e){e.preventDefault()},drop(e){if(e.preventDefault(),!e.target||!this.apiData.editable)return;let t=e.target,l=e.target.dataset.id,a=Y.A.getItem("Text");Y.A.remove("Text");var o=e.target.closest("tr");if(("tr"!=t.tagName||"droptarget"!=t.className)&&o&&o.className&&"droptarget"==o.className&&(l=o.dataset.id),!a||!l)return;let i=JSON.parse(a);this.makeConnection(l,i)},makeConnection(e,t){if(!e)return void logError("id missing for line item, cannot connect with po");let l="";for(let[a,o]of this.lineItemsRect.entries())if(o.id==e){l=a;break}if(this.coveredLineItem=this.lineitems[l],this.dragging_data=t,this.po_connected_line_items.hasOwnProperty(e))return this.confirmDialog=!0,void(this.connected_line_item=e);this.connectNewPORecord(),this.renderKey++},dragenter(e){var t=e.target.closest("tr");"tr"==e.target.tagName&&"droptarget"==e.target.className||t&&t.className&&t.className},initLineItems(){return oe(this,void 0,void 0,(function*(){this.docId=this.apiData&&this.apiData.doc_id?this.apiData.doc_id:"",yield this.initColumnHeaders(),this.getLineItemRowsToHide(),this.setLineItems(),this.parseSynonyms(),this.findHeaderLabels(),this.processGridData(),this.getColumnsToHide(),this.setConnectedLineItems(),this.validateLineItemColumns(),this.restrictPOEditIfNotValidated(),this.renderKey++}))},resetlintItems(){this.setLineItems(),this.parseSynonyms(),this.findHeaderLabels(),this.processGridData(),this.validateLineItemColumns(),this.setConnectedLineItems(),this.restrictPOEditIfNotValidated(),this.renderKey++},isViewEditable(){return!this.is_po_view},getToken(){return oe(this,void 0,void 0,(function*(){let e=this.apiData.token&&null!=this.apiData.token&&""!=this.apiData.token?this.apiData.token:yield(0,te.L3)();return e}))},initColumnHeaders(){return oe(this,void 0,void 0,(function*(){if(Y.A.has("tbex_lineitem_headers")&&null!=Y.A.getItem("tbex_lineitem_headers"))return this.dropdownColumns=Y.A.getItem("tbex_lineitem_headers"),void this.validateLineItemColumns();let e;this.showLoading();try{let t=yield this.getToken();e=yield G.A.get((0,ae.MV)(te.FH.get_tbex_lineitems_columns),{headers:{Authorization:t}})}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t),void this.hideLoading()}if(this.hideLoading(),e.data){for(const t of e.data)this.dropdownColumns.push({header:this.$t("pages.line_items_columns."+t),techName:t});Y.A.set("tbex_lineitem_headers",this.dropdownColumns)}else this.showErrorToast(this.$t("pages.messages.INVALID_DOCUMENT"))}))},setLineItems(){this.lineitems=[],this.lineitems=this.apiData&&this.apiData.tables&&this.apiData.tables[0]&&this.apiData.tables[0].data?this.apiData.tables[0].data:[]},formateLineItms(e,t){return oe(this,void 0,void 0,(function*(){let e;this.showLoading();try{this.setJsonForLineItems();let l=new FormData;l.append("header_rows_count",this.header_rows_count.toString()),l.append("group_column",String(t)),l.append("move_extra_rows_to_desc",this.move_extra_rows_to_desc.toString()),l.append("data",JSON.stringify(this.apiData)),l.append("column_mapping_indexes",JSON.stringify(this.getColumnMappingIndexes())),l.append("org_id",(0,ae.I)()),this.apiData.hasOwnProperty("is_table_training_doc")&&l.append("is_table_training_doc",(!0).toString());let a=yield this.getToken();e=yield G.A.post(te.FH.group_line_items,l,{headers:{Authorization:a}})}catch(l){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(l),void this.hideLoading()}this.hideLoading(),this.formatAfterHook(e),this.$forceUpdate()}))},getColumnMappingIndexes(){let e={};for(let[t,l]of this.headers.entries())this.isColumnNameValid(l)&&(e[l.techName]=t);return e},resetFormating(){return oe(this,void 0,void 0,(function*(){let e;this.showLoading();try{this.setJsonForLineItems();let t=new FormData;t.append("header_rows_count",this.header_rows_count.toString()),t.append("group_column",""),t.append("move_extra_rows_to_desc",this.move_extra_rows_to_desc.toString()),t.append("data",JSON.stringify(this.apiData)),t.append("column_mapping_indexes",JSON.stringify(this.getColumnMappingIndexes())),t.append("org_id",(0,ae.I)()),this.apiData.hasOwnProperty("is_table_training_doc")&&t.append("is_table_training_doc",(!0).toString());let l=yield this.getToken();e=yield G.A.post(te.FH.group_line_items,t,{headers:{Authorization:l}})}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t),void this.hideLoading()}this.hideLoading(),this.formatAfterHook(e),this.$forceUpdate()}))},parseSynonyms(){re=this.apiData&&this.apiData.synonyms?this.apiData.synonyms:{},ie=[];for(const e of Object.keys(re))re[e].forEach((t=>{ie.push({techName:e,label:t})}))},findHeaderLabels(){if(!this.lineitems||!this.lineitems[0])return void(this.headers=[]);let e=[],t=Object.keys(this.lineitems[0]);t.forEach((t=>{const l=this.findTechNameAgainstLabel(t);this.$t("pages.line_items_columns."+t)!="pages.line_items_columns."+t&&(t=this.$t("pages.line_items_columns."+t)),e.push({orig_name:t,header:t,techName:l.techName})})),this.headers=JSON.parse(JSON.stringify(e))},processGridData(){if(!this.lineitems)return;let e=[],t=[];for(const[l,a]of this.lineitems.entries()){e=[];for(const t of Object.keys(a)){const l=this.findTechNameAgainstLabel(t);e.push({label:t,techName:l.techName,value:a[t]})}t.push(e)}this.lineitems=t},swapColumn(e,t){if(!this.isViewEditable())return;let l=!1;for(let[a,o]of this.headers.entries())if(o.techName===e.techName&&o.orig_name==o.header&&this.isColumnVisible(a,o)){l=!0;break}l?this.showErrorToast(this.$t("pages.messages.COLUMN_ALREADY_MAPPED")):(Object.assign(this.headers[t],{header:e.header,techName:e.techName}),Array.from(this.lineitems).forEach((l=>{l[t].label=e.header,l[t].techName=e.techName})),this.validateLineItemColumns(),this.updateLineItemsForApi(),this.$forceUpdate())},findTechNameAgainstLabel(e){for(const l of this.dropdownColumns)if(e==l.techName)return{techName:l.techName};const t=ie.filter((t=>t.label===e));return t&&t[0]&&t[0].techName?{techName:t[0].techName}:{techName:e}},validateLineItemColumns(){let e=!1;if(void 0===this.headers)return;for(let[l,a]of this.headers.entries()){delete a.error;let t=this.isColumnVisible(l,a);if(!t)continue;let o=this.isColumnNameValid(a);o||(a.error=!0,e=!0)}let t=!e;this.validation_done!==t&&(!this.validation_done&&t&&this.updateLineItemsForApi(),this.validation_done=t,this.$emit("updateReadOnlyFlag",e))},isColumnNameValid(e){let t=!1;for(const l of this.dropdownColumns)if(e.techName===l.techName){t=!0;break}return t},deleteLineItemColumn(e){this.setColumnsToHide(e),this.validateLineItemColumns(),this.isColumnGroupBy(String(e))?this.resetFormating():this.validation_done||this.updateLineItemsForApi(),this.$forceUpdate()},updateLineItemsForApi(){this.isReadOnly||(this.setJsonForLineItems(),this.$emit("updateExtractionDataForSave","mapping",this.getColumnMappingIndexes()))},restrictPOEditIfNotValidated(){this.is_po_view&&(this.validation_done&&this.hasLineItems()||(this.validation_done||(this.poEditRestrictMessage=this.$t("po_restrict_message_not_mapped")),this.hasLineItems()||(this.poEditRestrictMessage=this.$t("po_restrict_message_not_items")),this.poEditRestrictDialog=!0))},isColumnGroupBy(e){let t="";this.apiData&&this.apiData.tables&&this.apiData.tables[0]&&this.apiData.tables[0].hasOwnProperty("extraction_info")||(t="");for(let[l,a]of Object.entries(this.apiData.tables[0].extraction_info))this.apiData.tables[0].extraction_info[l].hasOwnProperty("group_column")&&(t=this.apiData.tables[0].extraction_info[l].group_column);return null===t&&(t=""),t==e},getColumnGroupBy(){let e="";this.apiData&&this.apiData.tables&&this.apiData.tables[0]&&this.apiData.tables[0].hasOwnProperty("extraction_info")||(e="");for(let[t,l]of Object.entries(this.apiData.tables[0].extraction_info))this.apiData.tables[0].extraction_info[t].hasOwnProperty("group_column")&&(e=this.apiData.tables[0].extraction_info[t].group_column);return null===e&&(e=""),e},isColumnExist(e){let t=!1;for(let l of this.headers)l.orig_name===e&&(t=!0);return t},getColumnsToHide(){if(this.columns_to_hide=[],this.apiData&&this.apiData.tables&&this.apiData.tables[0]&&this.apiData.tables[0].hasOwnProperty("extraction_info")){for(let[e,t]of Object.entries(this.apiData.tables[0].extraction_info))this.apiData.tables[0].extraction_info[e].hasOwnProperty("columns_to_hide")&&(this.columns_to_hide=this.apiData.tables[0].extraction_info[e].columns_to_hide);null===this.columns_to_hide&&(this.columns_to_hide=[])}},setColumnToHideForApi(){this.apiData.tables[0]&&this.apiData.tables[0].hasOwnProperty("extraction_info")&&this.$emit("updateExtractionDataForSave","columns_to_hide",this.columns_to_hide)},setColumnsToHide(e){this.columns_to_hide.push(String(e)),this.setColumnToHideForApi()},isColumnVisible(e,t){let l=!0;return(this.columns_to_hide.includes(String(e))||"UUID"==t.techName)&&(l=!1),l},isRowDeleted(e){let t=this.getLineUuid(e);return!this.rows_to_delete.includes(t)},getLineUuid(e){let t="";for(let[l,a]of e.entries())if("UUID"==a.techName){t=a.value;break}return t},getLineItemRowsToHide(){if(this.rows_to_delete=[],this.apiData&&this.apiData.tables&&this.apiData.tables[0]&&this.apiData.tables[0].hasOwnProperty("extraction_info")){for(let[e,t]of Object.entries(this.apiData.tables[0].extraction_info))this.apiData.tables[0].extraction_info[e].hasOwnProperty("rows_to_delete")&&(this.rows_to_delete=this.apiData.tables[0].extraction_info[e].rows_to_delete);Array.isArray(this.rows_to_delete)&&this.rows_to_delete.length>0?this.rows_to_delete=this.rows_to_delete[0].split(" "):this.rows_to_delete=[]}},removeLineItem(e,t){this.addToRowToDelete(t),this.lineitems.splice(e,1),this.setRowToDeleteForApi(),this.$forceUpdate()},addToRowToDelete(e){for(let[t,l]of e.entries())if("UUID"==l.techName){this.rows_to_delete.push(l.value);break}},setRowToDeleteForApi(){if(!this.apiData.tables[0]||!this.apiData.tables[0].hasOwnProperty("extraction_info"))return;let e=[this.rows_to_delete.join(" ")];this.$emit("updateExtractionDataForSave","rows_to_delete",e)},prepareLineItemJsonForImport(e){setTimeout((()=>{ne=document.getElementById(e.target.id),ne.parentElement.classList.add("active")}),10),this.isViewEditable()&&(this.setJsonForLineItems(),this.$forceUpdate())},setJsonForLineItems(){let e=[],t=[];Array.from(this.lineitems).forEach((l=>{t=[];for(let e of l)t[e.techName]=e.value;e.push(Object.assign({},t))})),this.$emit("updateTableDataForSave",e)},addLine(){const e=[];this.headers.forEach((t=>{const l={label:t.header,techName:t.techName,value:""};e.push(l)})),this.lineitems.push(e),this.setJsonForLineItems(),this.$forceUpdate()},poDragStart(e){this.validation_done?(this.po_dragging=!0,this.dragging_data=e.detail,document.addEventListener("pointermove",this.mouseMoveHandler)):this.showErrorToast(this.$t("pages.messages.COLUMN_MAPPING_NOT_DONE"))},poDragStop(e){this.po_dragging=!1,this.validation_done&&(document.removeEventListener("pointermove",this.mouseMoveHandler),this.dragging_data=e.detail,this.handlePolineItemAction())},handlePolineItemAction(){let e=this.checkIfPOOverLineItem(this.dragging_data.rect);if(1!==e.length)return;let t=e[0],l=t.id;if(l){if(this.coveredLineItem=this.lineitems[t.index],this.po_connected_line_items.hasOwnProperty(l))return this.confirmDialog=!0,void(this.connected_line_item=l);this.connectNewPORecord(),this.renderKey++,this.$forceUpdate()}else logError("id missing for line item, cannot connect with po")},connectNewPORecord(){let e={};if(!this.coveredLineItem)return;for(let[o,i]of this.coveredLineItem.entries())"UNIT_PRICE"==i.techName&&(e["UNIT_PRICE"]=i.value),"QUANTITY"==i.techName&&(e["QUANTITY"]=i.value),"TOTAL_AMOUNT"==i.techName&&(e["TOTAL_AMOUNT"]=i.value),"UUID"==i.techName&&(e["UUID"]=i.value);if(!e.UUID)return;let t=this.setPoConnectionStatus(e,this.dragging_data.data),l={invoice_table_line_id:e.UUID,connection_status:t,po_line_id:this.dragging_data.data.id,unit_price:e.UNIT_PRICE,quantity:e.QUANTITY,total_amount:e.TOTAL_AMOUNT};const a=["id","unit_price","quantity","total_amount"];for(let[o,i]of Object.entries(this.dragging_data.data))a.includes(o)||(l[o]=i);this.po_connected_line_items[e.UUID]=l,this.dispatchConnectionSuccessEvent(l)},setPoConnectionStatus(e,t){let l="";return l=t.unit_price==e.UNIT_PRICE&&t.quantity==e.QUANTITY?"success":"mismatch","DELIVERY_NOTE"==this.apiData.doc_type&&(l=t.quantity==e.QUANTITY?"success":"mismatch"),"ORDER_CONFIRMATION"==this.apiData.doc_type&&(l=t.unit_price==e.UNIT_PRICE?"success":"mismatch"),l},dispatchConnectionSuccessEvent(e){const t=new CustomEvent("po_connection_add",{detail:{data:e}});document.dispatchEvent(t)},removeExistingAndConnectNewPO(){this.confirmDialog=!1;let e=this.po_connected_line_items.hasOwnProperty(this.connected_line_item)?this.po_connected_line_items[this.connected_line_item]:{};this.dispatchConnectionRemoveEvent(e),delete this.po_connected_line_items[this.connected_line_item],this.connectNewPORecord()},dispatchConnectionRemoveEvent(e){const t=new CustomEvent("po_connection_remove",{detail:{data:e}});document.dispatchEvent(t)},convertToUSValue(e){return e.replace(/,/g,".")},mouseMoveHandler(e){this.po_dragging&&this.validation_done&&this.wait},checkIfPOOverLineItem(e){let t=[];for(let[l,a]of this.lineItemsRect.entries()){let o=a.rect,i=this.checkElements(o,e);i&&t.push({index:l,id:a.id})}return t},checkElements(e,t){let l=!1;return(t.top>=e.top&&t.top<=e.bottom||t.bottom>=e.top&&t.bottom<=e.bottom)&&(t.left>=e.left&&t.left<=e.right||t.right>=e.left&&t.right<=e.right)&&(l=!0),l},isPurchaseOrderConnected(e){let t=this.getLineUuid(e);return!!this.po_connected_line_items.hasOwnProperty(t)},getConnectionInfo(e){let t={},l=this.getLineUuid(e);return t=this.po_connected_line_items.hasOwnProperty(l)?this.po_connected_line_items[l]:{},t},getConnectedinfoAttribute(e,t){let l=this.getConnectionInfo(e);return l&&0!==Object.keys(l).length?l[t]:{}},setConnectedLineItems(){let e=this.getConnectedLineItems();if(0!=e.length)for(let[t,l]of e.entries())this.po_connected_line_items[l.invoice_table_line_id]=l},getConnectedLineItems(){let e=[];return this.apiData?(this.apiData.hasOwnProperty("po_matched")&&(e=this.apiData.po_matched),e):e},removePOConnection(e,t){const l=this.getLineUuid(t);let a=this.po_connected_line_items.hasOwnProperty(l)?this.po_connected_line_items[l]:{};this.dispatchConnectionRemoveEvent(a),delete this.po_connected_line_items[l]},hasLineItems(){return!(!this.headers||0===Object.keys(this.headers).length)},openAdvanceSettings(){this.openAdvSettings=!0,this.adv_column_options=[];for(const e of this.dropdownColumns)this.adv_column_options.push(Object.assign({},{value:e.techName,label:e.header}));this.setAdvSettings()},setAdvSettings(){if(this.move_extra_rows_to_desc=!1,this.header_rows_count=1,this.extra_columns=[],this.apiData&&this.apiData.tables&&this.apiData.tables[0]&&this.apiData.tables[0].hasOwnProperty("extraction_info"))for(let[e,t]of Object.entries(this.apiData.tables[0].extraction_info)){let t=this.apiData.tables[0].extraction_info[e];t.hasOwnProperty("merge_extra_lines_to_desc")&&t.merge_extra_lines_to_desc&&(this.move_extra_rows_to_desc=t.merge_extra_lines_to_desc),t.hasOwnProperty("header_rows_count")&&t.header_rows_count&&(this.header_rows_count=t.header_rows_count),t.hasOwnProperty("extra_cols")&&t.extra_cols&&(this.extra_columns=t.extra_cols)}},formatWthAdvSettings(){return oe(this,void 0,void 0,(function*(){let e;this.showLoading();try{let t=new FormData;t.append("header_rows_count",this.header_rows_count.toString()),t.append("group_column",this.getColumnGroupBy()),t.append("move_extra_rows_to_desc",this.move_extra_rows_to_desc.toString()),t.append("data",JSON.stringify(this.apiData)),t.append("column_mapping_indexes",JSON.stringify(this.getColumnMappingIndexes())),t.append("extra_columns",JSON.stringify(this.extra_columns)),t.append("org_id",(0,ae.I)()),this.apiData.hasOwnProperty("is_table_training_doc")&&t.append("is_table_training_doc",(!0).toString());let l=yield this.getToken();e=yield G.A.post(te.FH.group_line_items,t,{headers:{Authorization:l}})}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t),void this.hideLoading()}this.hideLoading(),this.formatAfterHook(e),this.$forceUpdate(),this.openAdvSettings=!1}))},advSettingNewFieldColumnSelected(e,t){this.new_field_model[t]?this.new_field_model[e]=this.new_field_model[t].value:this.new_field_model[e]=""},saveNewFieldForAdvSettings(){this.new_field_model["pattern_invalid"]=!1,this.new_field_model["key_invalid"]=!1,this.new_field_model["source_invalid"]=!1;let e=!0;if(this.new_field_model["pattern"]&&!(0,le.IN)(this.new_field_model["pattern"])&&(this.new_field_model["pattern_invalid"]=!0,e=!1),this.new_field_model["key"]&&""!=this.new_field_model["key"]||(this.new_field_model["key_invalid"]=!0,e=!1),this.new_field_model["source"]&&""!=this.new_field_model["source"]||(this.new_field_model["source_invalid"]=!0,e=!1),!e)return;let t=this.new_field_model["label"];t||(t=this.new_field_model["key"].toUpperCase()),this.extra_columns||(this.extra_columns=[]),this.extra_columns.push({field_key:this.new_field_model["key"].toUpperCase(),source_field:this.new_field_model["source"].toUpperCase(),label:t,pattern:this.new_field_model["pattern"].toUpperCase()}),this.addFieldsDialog=!1},addFieldForAdvSettings(){this.addFieldsDialog=!0,this.new_field_model={}},removeFieldFromSettings(e){e=Number(e),e>-1&&this.extra_columns.splice(e,1)},revertChanges(){this.resetChanges(),this.$forceUpdate()},resetChanges(){return oe(this,void 0,void 0,(function*(){let e;this.showLoading();try{let t=new FormData;t.append("header_rows_count","1"),t.append("group_column",""),t.append("move_extra_rows_to_desc",(!1).toString()),t.append("data",JSON.stringify(this.apiData)),t.append("column_mapping_indexes",JSON.stringify({})),t.append("org_id",(0,ae.I)()),this.apiData.hasOwnProperty("is_table_training_doc")&&t.append("is_table_training_doc",(!0).toString());let l=yield this.getToken();e=yield G.A.post(te.FH.group_line_items,t,{headers:{Authorization:l}})}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t),void this.hideLoading()}this.hideLoading(),this.formatAfterHook(e)}))},formatAfterHook(e){e.data.tables&&e.data.tables[0].extraction_info&&this.$emit("updateTableForSave",e.data.tables)},isViewPo(){this.$route.fullPath.match(/po-matching/g)&&(this.is_po_view=!0)},showlineHighlighted(e){if(!this.is_po_view)return;let t=this.getConnectionInfo(e);if(!t||0===Object.keys(t).length)return;const l=new CustomEvent("show_line_highlighted",{detail:t});document.dispatchEvent(l)},removedLineHighlight(e){if(!this.is_po_view)return;let t=this.getConnectionInfo(e);if(!t||0===Object.keys(t).length)return;const l=new CustomEvent("removed_highlight",{detail:t});document.dispatchEvent(l)},keyDownEvent(e){if("v"===e.key&&e.ctrlKey){let t=document.activeElement;if(!t||!t.classList.contains("droptarget"))return;this.drop(e)}}},setup(){let e=[],t={};return{headers:(0,Z.KR)(),lineitems:(0,Z.KR)(),move_extra_rows_to_desc:(0,Z.KR)(!0),header_rows_count:(0,Z.KR)(1),extra_columns:(0,Z.KR)(e),addFieldsDialog:(0,Z.KR)(!1),poEditRestrictDialog:(0,Z.KR)(!1),poEditRestrictMessage:(0,Z.KR)(""),new_field_model:(0,Z.KR)(t),adv_column_options:e,headerRowCountRules:[e=>null!==e||"Please type number",e=>e>0&&e<100||"Please type number"]}}});var ue=l(12807),ce=l(857),pe=l(54782),he=l(20284),me=l(97410),_e=l(18301),be=l(53999),ve=l(90124),ge=l(25173),fe=l(13796),ye=l(50492),ke=l(56384),we=l(82156),Ce=l(23316),xe=l(44189),Le=l(62669),Fe=l(36914),Ee=l(39150),Ae=l(67837),Se=l(80460),De=l(94940),Ie=l(3952),Te=l(88672),Oe=l(98582),Me=l.n(Oe);const Re=(0,ue.A)(de,[["render",H]]),Pe=Re;Me()(de,"components",{QMarkupTable:ce.A,QFab:pe.A,QFabAction:he.A,QTooltip:me.A,QBtnDropdown:_e.A,QList:be.A,QItem:ve.A,QItemSection:ge.A,QItemLabel:fe.A,QIcon:ye.A,QBtn:ke.A,QDialog:we.A,QCard:Ce.A,QCardSection:xe.A,QCardActions:Le.A,QToolbar:Fe.A,QToolbarTitle:Ee.A,QInput:Ae.A,QCheckbox:Se.A,QSelect:De.A,QAvatar:Ie.A}),Me()(de,"directives",{ClosePopup:Te.A})},89156:(e,t,l)=>{"use strict";l.d(t,{A:()=>b});var a=l(61758);const o=e=>((0,a.Qi)("data-v-06dfc931"),e=e(),(0,a.jt)(),e),i={class:"loading-component loading-background"},s=o((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1))),n=[s];function r(e,t,l,o,s,r){return(0,a.uX)(),(0,a.CE)("div",i,n)}const d=document.querySelector.bind(document),u=(0,a.pM)({el:"#app",name:"Loader",props:["show","hide","zIndex"],data(){return{}},watch:{show(){this.showLoader()},hide(){this.hideLoader()},zIndex(){d(".loading-component").style.zIndex=this.zIndex}},methods:{showLoader(){d(".loading-component").style.display="block"},hideLoader(){d(".loading-component").style.display="none"}}});var c=l(12807),p=l(56384),h=l(98582),m=l.n(h);const _=(0,c.A)(u,[["render",r],["__scopeId","data-v-06dfc931"]]),b=_;m()(u,"components",{QBtn:p.A})},14763:(e,t,l)=>{"use strict";l.d(t,{A:()=>R});var a=l(61758),o=l(58790);const i={class:"text-weight-bold"},s={class:"full-width q-mb-md"},n={class:"table-container full-width min-height-300"},r={class:"text-left"},d={class:"text-left"},u={key:0},c={class:"text-center"};function p(e,t,l,p,h,m){const _=(0,a.g2)("q-toolbar-title"),b=(0,a.g2)("q-btn"),v=(0,a.g2)("q-toolbar"),g=(0,a.g2)("q-card-section"),f=(0,a.g2)("q-tooltip"),y=(0,a.g2)("q-icon"),k=(0,a.g2)("q-input"),w=(0,a.g2)("q-markup-table"),C=(0,a.g2)("q-card"),x=(0,a.g2)("q-dialog"),L=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(x,{persistent:"",modelValue:e.showDialog,"onUpdate:modelValue":t[2]||(t[2]=t=>e.showDialog=t),"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(C,{style:{width:"1000px","max-width":"1060px",height:"600px"}},{default:(0,a.k6)((()=>[(0,a.bF)(v,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",i,(0,o.v_)(e.$t("manage_regexes")),1)])),_:1}),(0,a.bo)((0,a.bF)(b,{flat:"",round:"",dense:"",icon:"close",onClick:e.setShowRegexDlg},null,8,["onClick"]),[[L]])])),_:1}),(0,a.bF)(g,{class:"row items-center q-pb-none"}),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",s,[!0===e.validate_pattern?((0,a.uX)(),(0,a.Wv)(b,{key:0,color:"orange",class:"mr-6 float-right",label:e.$t("validate"),onClick:t[0]||(t[0]=t=>e.validatePattern())},null,8,["label"])):(0,a.Q3)("",!0),!0===e.allowSave?((0,a.uX)(),(0,a.Wv)(b,{key:1,class:"mr-6 float-right bg-primary text-white",label:e.$t("save_changes"),onClick:t[1]||(t[1]=t=>e.saveAll())},null,8,["label"])):(0,a.Q3)("",!0)])])),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",r,(0,o.v_)(e.$t("regex")),1)])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(this.regexList,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:t["key"]},[(0,a.Lk)("td",d,[(0,a.bF)(k,{dense:"",borderless:"",tabindex:"0","data-id":t["key"],class:(0,o.C4)(!t.validate||t.required_error?"column-error-border":""),modelValue:this.regexList[l].value,"onUpdate:modelValue":[e=>this.regexList[l].value=e,a=>{e.inputValueChanges(a,l,t["key"])}]},{append:(0,a.k6)((()=>[!t.validate||t.required_error?((0,a.uX)(),(0,a.Wv)(y,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(f,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[t.validate?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t("pattern_invalid")),1)],64)),t.required_error?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.$t("pattern_empty")),1)],64)):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1032,["data-id","class","modelValue","onUpdate:modelValue"])])])))),128)),!this.regexList||this.regexList.length<1?((0,a.uX)(),(0,a.CE)("tr",u,[(0,a.Lk)("td",c,(0,o.v_)(e.$t("no_data_found")),1)])):(0,a.Q3)("",!0)])])),_:1})])])),_:1})])),_:1})])),_:1},8,["modelValue"])}var h=l(24622),m=l(38734),_=l(83319),b=l(18505),v=l(11470),g=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const f=(0,a.pM)({el:"#app",mixins:[b.A,h.A],props:{loading_new_data:{type:Boolean,default:!1},showRegexDlg:{type:Boolean,default:!1}},components:{},data(){return{}},setup(){const e=(0,_.q3)();return{docStore:e,loading:(0,m.KR)(!0),allowSave:(0,m.KR)(!1),showDialog:(0,m.KR)(!1),regexList:(0,m.KR)([]),validate_pattern:(0,m.KR)(!1)}},watch:{loading_new_data:{handler:function(e,t){!0===e&&(this.loading=e)}},showRegexDlg:{handler:function(e,t){!0===e&&(this.showDialog=e,this.loading=!e,this.convertMapintoArray())}}},methods:{inputValueChanges(e,t,l){e!==this.docStore.regex.get(l)&&(this.validate_pattern=!0,this.allowSave=!1,""===e?(this.regexList[t].validate=!1,this.regexList[t].required_error=!0):(this.regexList[t].validate=!0,this.regexList[t].required_error=!1))},saveAll(){this.validateData()&&(this.allowSave=!1,this.showDialog=!1,this.updateStoreRegexMap(),this.$emit("updateRegexByRule"))},updateStoreRegexMap(){this.regexList.forEach(((e,t)=>{this.docStore.regex.has(e.key)&&this.docStore.regex.set(e.key,e.value)}))},validateData(){let e=!0;return this.validate_pattern&&(e=!1,this.showErrorToast("Please validate Before save.")),this.regexValuePatternsEmpty()&&(e=!1,this.showErrorToast("Pattern field is required")),e},regexValuePatternsEmpty(){let e=!1;return this.regexList.forEach(((t,l)=>{t.value&&""!==t.value?t.required_error=!1:(t.required_error=!0,e=!0)})),e},dispatchSuccessEvent(){const e=new CustomEvent("regexes_saved",{detail:this.doctype});document.dispatchEvent(e)},validatePattern(){return g(this,void 0,void 0,(function*(){try{if(this.regexValuePatternsEmpty())return void this.showErrorToast("Pattern field is required");this.showLoading();const e=yield v.Qr.validatePattern(this.getValidatePatternData());if(!1===e.success)throw{message:e.message};this.validate_pattern=!1,this.allowSave=!0,this.updateRows(e.data)}catch(e){logError(e),this.showErrorToast("Something went wrong while loading data. Please try again.")}finally{this.hideLoading()}}))},updateRows(e){for(let[t,l]of Object.entries(e))this.regexList.forEach(((e,a)=>{if(e.value==t){const t=!1!==l;e.validate=t,!1===t&&(this.validate_pattern=!0,this.allowSave=!1)}}))},getValidatePatternData(){let e=[];return this.regexList.forEach(((t,l)=>{const a=t.value&&""!==t.value?t.value.toString():"";e.push(a)})),e},convertMapintoArray(){this.regexList=Array.from(this.docStore.regex,(([e,t])=>({["key"]:e,["value"]:t,["validate"]:!0,["required_error"]:!1})))},setShowRegexDlg(){this.$emit("setShowRegexDlg",!1)}}});var y=l(12807),k=l(82156),w=l(23316),C=l(36914),x=l(39150),L=l(56384),F=l(44189),E=l(857),A=l(67837),S=l(50492),D=l(97410),I=l(88672),T=l(98582),O=l.n(T);const M=(0,y.A)(f,[["render",p],["__scopeId","data-v-78704305"]]),R=M;O()(f,"components",{QDialog:k.A,QCard:w.A,QToolbar:C.A,QToolbarTitle:x.A,QBtn:L.A,QCardSection:F.A,QMarkupTable:E.A,QInput:A.A,QIcon:S.A,QTooltip:D.A}),O()(f,"directives",{ClosePopup:I.A})},1685:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Nl});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-19e6b1c7"),e=e(),(0,a.jt)(),e),n={class:"bg-white mb-4 p-t-b-6 image_control_panel"},r={class:"row"},d={class:"panel-right col-sm-12 col-md-12 col-lg-12 pl-10"},u={class:"bg-white"},c={class:"top-panel row full-width"},p={class:"row q-pl-sm q-pr-sm full-width"},h={class:"col-lg-3"},m={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},_={class:"col-lg-3 pl-20"},b={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},v=s((()=>(0,a.Lk)("div",{class:"col-lg-2"},null,-1))),g={class:"col-lg-4"},f={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},y={class:"row q-pl-sm q-pr-sm full-width"},k={class:"col-lg-3"},w={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},C=s((()=>(0,a.Lk)("div",{class:"col-lg-5"},null,-1))),x={class:"col-lg-4"},L={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},F={class:"row q-pl-sm q-pr-sm full-width"},E={class:"col-lg-6"},A={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},S=s((()=>(0,a.Lk)("div",{class:"col-lg-2"},null,-1))),D={class:"col-lg-4"},I={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},T={class:"row q-pl-sm q-pr-sm full-width"},O={class:"col-lg-2"},M={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},R={class:"col-lg-6 p-t-8"},P={class:"col-lg-4"},q={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},V={class:"row full-width"},N=s((()=>(0,a.Lk)("div",{class:"border-top-bdbdbd"},null,-1))),B={class:"row"},$={class:"row"},Q={class:"row padding-left-12-percent"},X={style:{width:"60%"}},W={class:"padding-top-3-percent",style:{width:"40%"}},K=s((()=>(0,a.Lk)("span",{class:"pl-6"}," cm ",-1))),U={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},j={class:"row"},z={class:"row padding-left-12-percent"},H={style:{width:"60%"}},G={class:"padding-top-3-percent",style:{width:"40%"}},Y=s((()=>(0,a.Lk)("span",{class:"pl-6"}," cm ",-1))),J={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},Z={class:"row"},ee=s((()=>(0,a.Lk)("div",{class:"border-top-bdbdbd"},null,-1))),te={class:"row"},le={class:"full-width"},ae={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},oe=s((()=>(0,a.Lk)("div",{class:"border-top-bdbdbd margin-top-bottom"},null,-1))),ie={class:"row"},se={class:"row"},ne={class:"row"},re={class:"row"},de={class:"row"},ue={class:"row"},ce=s((()=>(0,a.Lk)("div",{class:"border-top-bdbdbd"},null,-1))),pe={class:"row"},he={class:"row"},me={class:"row"},_e={class:"row"},be={class:"row"},ve={class:"row"},ge=s((()=>(0,a.Lk)("div",{class:"border-top-bdbdbd"},null,-1))),fe={class:"row"},ye={class:"row"},ke={class:"row"},we={style:{width:"25%"},class:"padding-top-3-percent"},Ce={style:{width:"40%"}},xe={class:"padding-top-3-percent",style:{width:"30%"}},Le=s((()=>(0,a.Lk)("span",{class:"pl-6"}," cm ",-1))),Fe={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},Ee={class:"row padding-top-6"},Ae={style:{width:"25%"},class:"padding-top-3-percent"},Se={style:{width:"40%"}},De={class:"padding-top-3-percent",style:{width:"30%"}},Ie=s((()=>(0,a.Lk)("span",{class:"pl-6"}," cm ",-1))),Te={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},Oe=s((()=>(0,a.Lk)("div",{class:"border-top-bdbdbd margin-top-bottom"},null,-1))),Me={class:"row"},Re={class:"full-width"},Pe={key:0,class:"float-right font-size-12 pl-6 text-teal-5"},qe=s((()=>(0,a.Lk)("div",{class:"border-top-bdbdbd margin-top-bottom"},null,-1))),Ve={class:"col-xs-12 col-sm-9 col-md-9 col-lg-9"},Ne={class:"full-width full-height bg-white table-extraction-view",id:"image_container2",style:{position:"relative"}},Be=s((()=>(0,a.Lk)("br",{class:"clear"},null,-1))),$e={class:"col-lg-7 q-pa-sm"},Qe={class:"no-border"},Xe={class:"float-left"},We={class:"border-top border-left no-border-bottom"},Ke={class:"border-top border-left no-border-bottom"},Ue={class:"border-top border-left no-border-bottom"},je={class:"border-left",colspan:"6"},ze={class:"float-left"},He={class:"no-border-bottom"},Ge={class:""},Ye={class:"float-left"},Je={class:"border-left"},Ze={class:"border-left"},et={class:"border-left"},tt={class:"border-left"},lt={class:"border-left"},at={class:"border-left"},ot={class:"border-left"},it={class:"border-left"},st={class:"border-left border-right"},nt={class:"no-border-bottom"},rt={class:""},dt={class:"border-left"},ut={class:"float-left"},ct=s((()=>(0,a.Lk)("td",{class:"no-border-bottom"},null,-1))),pt={class:"border-left"},ht={class:"float-left"},mt=s((()=>(0,a.Lk)("td",{class:"no-border-bottom"},null,-1))),_t={class:"border-left"},bt={class:"float-left"},vt=s((()=>(0,a.Lk)("td",{class:"no-border-bottom"},null,-1))),gt={class:"border-left border-bottom"},ft={class:"float-left"},yt=s((()=>(0,a.Lk)("td",{class:"no-border-bottom"},null,-1))),kt={class:""},wt=s((()=>(0,a.Lk)("img",{src:"images/fuzzy-search-white.svg"},null,-1))),Ct=s((()=>(0,a.Lk)("span",{class:"text-weight-bold"},"Masterdata",-1))),xt={id:"fuzzySearchField",class:"full-width q-pl-md q-pr-md"},Lt={class:"q-pa-md"},Ft={class:"q-mt-md full-width text-center"};function Et(e,t,l,s,Et,At){const St=(0,a.g2)("q-tooltip"),Dt=(0,a.g2)("q-icon"),It=(0,a.g2)("autoTesting"),Tt=(0,a.g2)("q-avatar"),Ot=(0,a.g2)("q-input"),Mt=(0,a.g2)("q-checkbox"),Rt=(0,a.g2)("MediMultiSelectInputImage"),Pt=(0,a.g2)("q-markup-table"),qt=(0,a.g2)("q-toolbar-title"),Vt=(0,a.g2)("q-btn"),Nt=(0,a.g2)("q-toolbar"),Bt=(0,a.g2)("q-th"),$t=(0,a.g2)("q-tr"),Qt=(0,a.g2)("q-td"),Xt=(0,a.g2)("q-table"),Wt=(0,a.g2)("q-card-section"),Kt=(0,a.g2)("q-card"),Ut=(0,a.g2)("q-dialog"),jt=(0,a.g2)("export-dialog"),zt=(0,a.g2)("Loader"),Ht=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.isModelReady()?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.Lk)("div",d,[(0,a.bF)(Dt,{name:"img:images/save.svg",size:"24px",class:"float-left q-mr-sm cursor-pointer",onClick:e.saveData},{default:(0,a.k6)((()=>[(0,a.bF)(St,null,{default:(0,a.k6)((()=>[(0,a.eW)("Save")])),_:1})])),_:1},8,["onClick"]),(0,a.bF)(Dt,{name:"import_export",onClick:e.exportData,color:"",size:"24px",class:"float-left q-mr-sm cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(St,null,{default:(0,a.k6)((()=>[(0,a.eW)("Validate and Export")])),_:1})])),_:1},8,["onClick"]),(0,a.bF)(It),e.renderOpenWindoIcon?((0,a.uX)(),(0,a.Wv)(Dt,{key:0,name:"exit_to_app",size:"24px",class:"float-right q-mr-sm cursor-pointer",onClick:t[0]||(t[0]=t=>e.openComponentInSaparateWindow())})):(0,a.Q3)("",!0)])])]),(0,a.Lk)("div",u,[(0,a.Lk)("div",c,[(0,a.Lk)("div",p,[(0,a.Lk)("div",h,[(0,a.Lk)("div",null,[(0,a.eW)((0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["customer_number"]))+" ",1),e.getLowerConfidence(e.model["customer_number"])?((0,a.uX)(),(0,a.CE)("span",m,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["customer_number"]))+"% ",1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[(0,a.bF)(Ot,{outlined:"",disable:e.isReadOnly,"data-name":e.model["customer_number"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),class:(0,o.C4)("input-field full-width  "+e.fieldsDef["customer_number"].color+" "+e.model["customer_number"].name),"onUpdate:modelValue":[t[2]||(t[2]=t=>e.inputValueChanges("customer_number")),t[3]||(t[3]=t=>e.model["customer_number"].formatted_value=t)],modelValue:e.model["customer_number"].formatted_value},(0,a.eX)({_:2},[e.fieldsDef["customer_number"].fuzzy_name&&null!=e.fieldsDef["customer_number"].fuzzy_name?{name:"append",fn:(0,a.k6)((()=>[(0,a.bF)(Tt,{class:"cursor-pointer",size:"24px"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/fuzzy-search.svg",onClick:t[1]||(t[1]=t=>e.applyFuzzySearch(e.model["customer_number"].formatted_value))})])),_:1})])),key:"0"}:void 0]),1032,["disable","data-name","onKeyup","class","modelValue"])])]),(0,a.Lk)("div",_,[(0,a.Lk)("div",null,[(0,a.eW)((0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["versandanschrift"]))+" ",1),e.getLowerConfidence(e.model["versandanschrift"])?((0,a.uX)(),(0,a.CE)("span",b,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["versandanschrift"]))+"% ",1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[(0,a.bF)(Ot,{outlined:"",onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),"data-name":e.model["versandanschrift"].name,disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["versandanschrift"].color+" "+e.model["versandanschrift"].name),"onUpdate:modelValue":[t[4]||(t[4]=t=>e.inputValueChanges("versandanschrift")),t[5]||(t[5]=t=>e.model["versandanschrift"].formatted_value=t)],modelValue:e.model["versandanschrift"].formatted_value},null,8,["onKeyup","data-name","disable","class","modelValue"])])]),v,(0,a.Lk)("div",g,[(0,a.Lk)("div",null,[(0,a.eW)((0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["absender"]))+" ",1),e.getLowerConfidence(e.model["absender"])?((0,a.uX)(),(0,a.CE)("span",f,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["absender"]))+"% ",1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["absender"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["absender"].color+" "+e.model["absender"].name),"onUpdate:modelValue":[t[7]||(t[7]=t=>e.inputValueChanges("absender")),t[8]||(t[8]=t=>e.model["absender"].formatted_value=t)],modelValue:e.model["absender"].formatted_value},(0,a.eX)({_:2},[e.fieldsDef["absender"].fuzzy_name&&null!=e.fieldsDef["absender"].fuzzy_name?{name:"append",fn:(0,a.k6)((()=>[(0,a.bF)(Tt,{class:"cursor-pointer",size:"24px"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/fuzzy-search.svg",onClick:t[6]||(t[6]=t=>e.applyFuzzySearch(e.model["absender"].formatted_value))})])),_:1})])),key:"0"}:void 0]),1032,["data-name","onKeyup","disable","class","modelValue"])])])]),(0,a.Lk)("div",y,[(0,a.Lk)("div",k,[(0,a.Lk)("div",null,[(0,a.eW)((0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["datum"]))+" ",1),e.getLowerConfidence(e.model["datum"])?((0,a.uX)(),(0,a.CE)("span",w,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["datum"]))+"% ",1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["datum"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["datum"].color+" "+e.model["datum"].name),"onUpdate:modelValue":[t[9]||(t[9]=t=>e.inputValueChanges("datum")),t[10]||(t[10]=t=>e.model["datum"].formatted_value=t)],modelValue:e.model["datum"].formatted_value},null,8,["data-name","onKeyup","disable","class","modelValue"])])]),C,(0,a.Lk)("div",x,[(0,a.Lk)("div",null,[(0,a.eW)((0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["inhaber"]))+" ",1),e.getLowerConfidence(e.model["inhaber"])?((0,a.uX)(),(0,a.CE)("span",L,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["inhaber"]))+"% ",1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["inhaber"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["inhaber"].color+" "+e.model["inhaber"].name),"onUpdate:modelValue":[t[12]||(t[12]=t=>e.inputValueChanges("inhaber")),t[13]||(t[13]=t=>e.model["inhaber"].formatted_value=t)],modelValue:e.model["inhaber"].formatted_value},(0,a.eX)({_:2},[e.fieldsDef["inhaber"].fuzzy_name&&null!=e.fieldsDef["inhaber"].fuzzy_name?{name:"append",fn:(0,a.k6)((()=>[(0,a.bF)(Tt,{class:"cursor-pointer",size:"24px"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/fuzzy-search.svg",onClick:t[11]||(t[11]=t=>e.applyFuzzySearch(e.model["inhaber"].formatted_value))})])),_:1})])),key:"0"}:void 0]),1032,["data-name","onKeyup","disable","class","modelValue"])])])]),(0,a.Lk)("div",F,[(0,a.Lk)("div",E,[(0,a.Lk)("div",null,[(0,a.eW)((0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["komission"]))+" ",1),e.getLowerConfidence(e.model["komission"])?((0,a.uX)(),(0,a.CE)("span",A,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["komission"]))+"% ",1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["komission"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["komission"].color+" "+e.model["komission"].name),"onUpdate:modelValue":[t[14]||(t[14]=t=>e.inputValueChanges("komission")),t[15]||(t[15]=t=>e.model["komission"].formatted_value=t)],modelValue:e.model["komission"].formatted_value},null,8,["data-name","onKeyup","disable","class","modelValue"])])]),S,(0,a.Lk)("div",D,[(0,a.Lk)("div",null,[(0,a.eW)((0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["adresse"]))+" ",1),e.getLowerConfidence(e.model["adresse"])?((0,a.uX)(),(0,a.CE)("span",I,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["adresse"]))+"% ",1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["adresse"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["adresse"].color+" "+e.model["adresse"].name),"onUpdate:modelValue":[t[17]||(t[17]=t=>e.inputValueChanges("adresse")),t[18]||(t[18]=t=>e.model["adresse"].formatted_value=t)],modelValue:e.model["adresse"].formatted_value},(0,a.eX)({_:2},[e.fieldsDef["adresse"].fuzzy_name&&null!=e.fieldsDef["adresse"].fuzzy_name?{name:"append",fn:(0,a.k6)((()=>[(0,a.bF)(Tt,{class:"cursor-pointer",size:"24px"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/fuzzy-search.svg",onClick:t[16]||(t[16]=t=>e.applyFuzzySearch(e.model["adresse"].formatted_value))})])),_:1})])),key:"0"}:void 0]),1032,["data-name","onKeyup","disable","class","modelValue"])])])]),(0,a.Lk)("div",T,[(0,a.Lk)("div",O,[(0,a.Lk)("div",null,[(0,a.eW)((0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["menge"]))+" ",1),e.getLowerConfidence(e.model["menge"])?((0,a.uX)(),(0,a.CE)("span",M,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["menge"]))+"% ",1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["menge"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["menge"].color+" "+e.model["menge"].name),"onUpdate:modelValue":[t[19]||(t[19]=t=>e.inputValueChanges("menge")),t[20]||(t[20]=t=>e.model["menge"].formatted_value=t)],modelValue:e.model["menge"].formatted_value},null,8,["data-name","onKeyup","disable","class","modelValue"])])]),(0,a.Lk)("div",R,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["stuck_checkbox"]),modelValue:e.model["stuck_checkbox"].formatted_value,"onUpdate:modelValue":[t[21]||(t[21]=t=>e.model["stuck_checkbox"].formatted_value=t),t[22]||(t[22]=t=>{e.handleSingleSelection("stuck_checkbox",t)})],size:"50px",class:(0,o.C4)(e.model["stuck_checkbox"].name)},null,8,["disable","label","modelValue","class"]),(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["paar_checkbox"]),modelValue:e.model["paar_checkbox"].formatted_value,"onUpdate:modelValue":[t[23]||(t[23]=t=>e.model["paar_checkbox"].formatted_value=t),t[24]||(t[24]=t=>{e.handleSingleSelection("paar_checkbox",t)})],size:"50px",class:(0,o.C4)(e.model["paar_checkbox"].name)},null,8,["disable","label","modelValue","class"]),(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["hose_checkbox"]),modelValue:e.model["hose_checkbox"].formatted_value,"onUpdate:modelValue":[t[25]||(t[25]=t=>e.model["hose_checkbox"].formatted_value=t),t[26]||(t[26]=t=>{e.handleSingleSelection("hose_checkbox",t)})],size:"50px",class:(0,o.C4)(e.model["hose_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),(0,a.Lk)("div",P,[(0,a.Lk)("div",null,[(0,a.eW)((0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["telefon"]))+" ",1),e.getLowerConfidence(e.model["telefon"])?((0,a.uX)(),(0,a.CE)("span",q,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["telefon"]))+"% ",1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["telefon"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["telefon"].color+" "+e.model["telefon"].name),"onUpdate:modelValue":[t[28]||(t[28]=t=>e.inputValueChanges("telefon")),t[29]||(t[29]=t=>e.model["telefon"].formatted_value=t)],modelValue:e.model["telefon"].formatted_value},(0,a.eX)({_:2},[e.fieldsDef["telefon"].fuzzy_name&&null!=e.fieldsDef["telefon"].fuzzy_name?{name:"append",fn:(0,a.k6)((()=>[(0,a.bF)(Tt,{class:"cursor-pointer",size:"24px"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/fuzzy-search.svg",onClick:t[27]||(t[27]=t=>e.applyFuzzySearch(e.model["telefon"].formatted_value))})])),_:1})])),key:"0"}:void 0]),1032,["data-name","onKeyup","disable","class","modelValue"])])])])]),(0,a.Lk)("div",V,[((0,a.uX)(),(0,a.CE)("div",{key:e.renderKey,class:"middle-left-panel col-xs-12 col-sm-3 col-md-3 col-lg-3 q-pa-sm"},[N,(0,a.Lk)("div",B,(0,o.v_)(e.$t("medi.fusteil")),1),(0,a.Lk)("div",$,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["fusslange_o_checkbox"]),modelValue:e.model["fusslange_o_checkbox"].formatted_value,"onUpdate:modelValue":[t[30]||(t[30]=t=>e.model["fusslange_o_checkbox"].formatted_value=t),t[31]||(t[31]=t=>e.inputValueChanges("fusslange_o_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["fusslange_o_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),(0,a.Lk)("div",Q,[(0,a.Lk)("div",null,(0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["fusslange_o"])),1),(0,a.Lk)("span",X,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["fusslange_o"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["fusslange_o"].color+" "+e.model["fusslange_o"].name),"onUpdate:modelValue":[t[32]||(t[32]=t=>e.inputValueChanges("fusslange_o")),t[33]||(t[33]=t=>e.model["fusslange_o"].formatted_value=t)],modelValue:e.model["fusslange_o"].formatted_value},null,8,["data-name","onKeyup","disable","class","modelValue"])]),(0,a.Lk)("span",W,[K,e.getLowerConfidence(e.model["fusslange_o"])?((0,a.uX)(),(0,a.CE)("span",U,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["fusslange_o"]))+"% ",1)])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",j,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["fusslange_m_checkbox"]),modelValue:e.model["fusslange_m_checkbox"].formatted_value,"onUpdate:modelValue":[t[34]||(t[34]=t=>e.model["fusslange_m_checkbox"].formatted_value=t),t[35]||(t[35]=t=>e.inputValueChanges("fusslange_m_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["fusslange_m_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),(0,a.Lk)("div",z,[(0,a.Lk)("div",null,(0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["fusslange_m"])),1),(0,a.Lk)("span",H,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["fusslange_m"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["fusslange_m"].color+" "+e.model["fusslange_m"].name),"onUpdate:modelValue":[t[36]||(t[36]=t=>e.inputValueChanges("fusslange_m")),t[37]||(t[37]=t=>e.model["fusslange_m"].formatted_value=t)],modelValue:e.model["fusslange_m"].formatted_value},null,8,["data-name","onKeyup","disable","class","modelValue"])]),(0,a.Lk)("span",G,[Y,e.getLowerConfidence(e.model["fusslange_m"])?((0,a.uX)(),(0,a.CE)("span",J,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["fusslange_m"]))+"% ",1)])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",Z,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["softspitze"]),modelValue:e.model["softspitze"].formatted_value,"onUpdate:modelValue":[t[38]||(t[38]=t=>e.model["softspitze"].formatted_value=t),t[39]||(t[39]=t=>e.inputValueChanges("softspitze"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["softspitze"].name)},null,8,["disable","label","modelValue","class"])]),ee,(0,a.Lk)("div",te,[(0,a.Lk)("div",le,[(0,a.Lk)("div",null,[(0,a.eW)((0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["farbe"]))+" ",1),e.getLowerConfidence(e.model["farbe"])?((0,a.uX)(),(0,a.CE)("span",ae,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["farbe"]))+"% ",1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["farbe"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["farbe"].color+" "+e.model["farbe"].name),"onUpdate:modelValue":[t[40]||(t[40]=t=>e.inputValueChanges("farbe")),t[41]||(t[41]=t=>e.model["farbe"].formatted_value=t)],modelValue:e.model["farbe"].formatted_value},null,8,["data-name","onKeyup","disable","class","modelValue"])])])]),oe,(0,a.Lk)("div",ie,(0,o.v_)(e.$t("medi.topbander_bei_medivan_elegance_plus")),1),(0,a.Lk)("div",se,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["tbp_checkbox"]),modelValue:e.model["tbp_checkbox"].formatted_value,"onUpdate:modelValue":[t[42]||(t[42]=t=>e.model["tbp_checkbox"].formatted_value=t),t[43]||(t[43]=t=>e.inputValueChanges("tbp_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["tbp_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),(0,a.Lk)("div",ne,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["tbb_checkbox"]),modelValue:e.model["tbb_checkbox"].formatted_value,"onUpdate:modelValue":[t[44]||(t[44]=t=>e.model["tbb_checkbox"].formatted_value=t),t[45]||(t[45]=t=>e.inputValueChanges("tbb_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["tbb_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),(0,a.Lk)("div",re,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["tbe_checkbox"]),modelValue:e.model["tbe_checkbox"].formatted_value,"onUpdate:modelValue":[t[46]||(t[46]=t=>e.model["tbe_checkbox"].formatted_value=t),t[47]||(t[47]=t=>e.inputValueChanges("tbe_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["tbe_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),(0,a.Lk)("div",de,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["tbs_checkbox"]),modelValue:e.model["tbs_checkbox"].formatted_value,"onUpdate:modelValue":[t[48]||(t[48]=t=>e.model["tbs_checkbox"].formatted_value=t),t[49]||(t[49]=t=>e.inputValueChanges("tbs_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["tbs_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),(0,a.Lk)("div",ue,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["trk_checkbox"]),modelValue:e.model["trk_checkbox"].formatted_value,"onUpdate:modelValue":[t[50]||(t[50]=t=>e.model["trk_checkbox"].formatted_value=t),t[51]||(t[51]=t=>e.inputValueChanges("trk_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["trk_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),ce,(0,a.Lk)("div",pe,(0,o.v_)(e.$t("medi.haftbander_bei_medivan_comfort_forte")),1),(0,a.Lk)("div",he,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["mfb_checkbox"]),modelValue:e.model["mfb_checkbox"].formatted_value,"onUpdate:modelValue":[t[52]||(t[52]=t=>e.model["mfb_checkbox"].formatted_value=t),t[53]||(t[53]=t=>e.inputValueChanges("mfb_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["mfb_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),(0,a.Lk)("div",me,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["nob_checkbox"]),modelValue:e.model["nob_checkbox"].formatted_value,"onUpdate:modelValue":[t[54]||(t[54]=t=>e.model["nob_checkbox"].formatted_value=t),t[55]||(t[55]=t=>e.inputValueChanges("nob_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["nob_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),(0,a.Lk)("div",_e,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["nom_checkbox"]),modelValue:e.model["nom_checkbox"].formatted_value,"onUpdate:modelValue":[t[56]||(t[56]=t=>e.model["nom_checkbox"].formatted_value=t),t[57]||(t[57]=t=>e.inputValueChanges("nom_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["nom_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),(0,a.Lk)("div",be,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["seb_checkbox"]),modelValue:e.model["seb_checkbox"].formatted_value,"onUpdate:modelValue":[t[58]||(t[58]=t=>e.model["seb_checkbox"].formatted_value=t),t[59]||(t[59]=t=>e.inputValueChanges("seb_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["seb_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),(0,a.Lk)("div",ve,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["trk_2_checkbox"]),modelValue:e.model["trk_2_checkbox"].formatted_value,"onUpdate:modelValue":[t[60]||(t[60]=t=>e.model["trk_2_checkbox"].formatted_value=t),t[61]||(t[61]=t=>e.inputValueChanges("trk_2_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["trk_2_checkbox"].name)},null,8,["disable","label","modelValue","class"])]),ge,(0,a.Lk)("div",fe,(0,o.v_)(e.$t("medi.huftbefestigung")),1),(0,a.Lk)("div",ye,[(0,a.bF)(Mt,{disable:e.isReadOnly,label:e.displayFieldLabelForMedi(e.fieldsDef["l_checkbox"]),modelValue:e.model["l_checkbox"].formatted_value,"onUpdate:modelValue":[t[62]||(t[62]=t=>e.model["l_checkbox"].formatted_value=t),t[63]||(t[63]=t=>e.inputValueChanges("l_checkbox"))],size:"30px",color:"grey-6",class:(0,o.C4)(e.model["l_checkbox"].name)},null,8,["disable","label","modelValue","class"]),(0,a.bF)(Mt,{disable:e.isReadOnly,class:(0,o.C4)("padding-left-12-percent "+e.model["l_checkbox"].name),color:"grey-6",label:e.displayFieldLabelForMedi(e.fieldsDef["r_checkbox"]),modelValue:e.model["r_checkbox"].formatted_value,"onUpdate:modelValue":[t[64]||(t[64]=t=>e.model["r_checkbox"].formatted_value=t),t[65]||(t[65]=t=>e.inputValueChanges("r_checkbox"))],size:"30px"},null,8,["disable","class","label","modelValue"])]),(0,a.Lk)("div",ke,[(0,a.Lk)("span",we,(0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["hohe"])),1),(0,a.Lk)("span",Ce,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["hohe"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["hohe"].color+" "+e.model["hohe"].name),"onUpdate:modelValue":[t[66]||(t[66]=t=>e.inputValueChanges("hohe")),t[67]||(t[67]=t=>e.model["hohe"].formatted_value=t)],modelValue:e.model["hohe"].formatted_value},null,8,["data-name","onKeyup","disable","class","modelValue"])]),(0,a.Lk)("span",xe,[Le,e.getLowerConfidence(e.model["hohe"])?((0,a.uX)(),(0,a.CE)("span",Fe,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["hohe"]))+"% ",1)])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",Ee,[(0,a.Lk)("span",Ae,(0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["taille"])),1),(0,a.Lk)("span",Se,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["taille"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["taille"].color+" "+e.model["taille"].name),"onUpdate:modelValue":[t[68]||(t[68]=t=>e.inputValueChanges("taille")),t[69]||(t[69]=t=>e.model["taille"].formatted_value=t)],modelValue:e.model["taille"].formatted_value},null,8,["data-name","onKeyup","disable","class","modelValue"])]),(0,a.Lk)("span",De,[Ie,e.getLowerConfidence(e.model["taille"])?((0,a.uX)(),(0,a.CE)("span",Te,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["taille"]))+"% ",1)])):(0,a.Q3)("",!0)])]),Oe,(0,a.Lk)("div",Me,[(0,a.Lk)("div",Re,[(0,a.Lk)("div",null,[(0,a.eW)((0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["sonderwunsche"]))+" ",1),e.getLowerConfidence(e.model["sonderwunsche"])?((0,a.uX)(),(0,a.CE)("span",Pe,[(0,a.bF)(Dt,{name:"check_circle_outline",class:"q-pb-xs"}),(0,a.eW)(" "+(0,o.v_)(e.getLowerConfidence(e.model["sonderwunsche"]))+"% ",1)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",null,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["sonderwunsche"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),disable:e.isReadOnly,class:(0,o.C4)("input-field full-width  "+e.fieldsDef["sonderwunsche"].color+" "+e.model["sonderwunsche"].name),"onUpdate:modelValue":[t[70]||(t[70]=t=>e.inputValueChanges("sonderwunsche")),t[71]||(t[71]=t=>e.model["sonderwunsche"].formatted_value=t)],modelValue:e.model["sonderwunsche"].formatted_value},null,8,["data-name","onKeyup","disable","class","modelValue"])])])]),qe])),(0,a.Lk)("div",Ve,[(0,a.Lk)("div",Ne,[e.isSelectedAreaDataReady()?((0,a.uX)(),(0,a.Wv)(Rt,{key:0,"pos-correction":!1,isReadOnly:e.isReadOnly,tableAreas:e.tableAreasStr,model:e.model,fieldsDef:e.fieldsDef,width:e.imageWidth2,height:e.imageHeight2,cropUrl:e.image2},null,8,["isReadOnly","tableAreas","model","fieldsDef","width","height","cropUrl"])):(0,a.Q3)("",!0)])])]),Be,((0,a.uX)(),(0,a.CE)("div",{class:"row full-width",key:e.renderKey},[(0,a.Lk)("div",$e,[(0,a.bF)(Pt,{flat:"",class:"group_checkboxes_tbl overflow-visible"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",Qe,[(0,a.Lk)("span",Xe,(0,o.v_)(e.$t("medi.qualitat")),1)]),(0,a.Lk)("th",We,(0,o.v_)(e.$t("medi.ccl")),1),(0,a.Lk)("th",Ke,(0,o.v_)(e.$t("medi.ccl")),1),(0,a.Lk)("th",Ue,(0,o.v_)(e.$t("medi.ccl")),1),(0,a.Lk)("th",je,[(0,a.Lk)("span",ze,(0,o.v_)(e.$t("medi.langen")),1)]),(0,a.Lk)("th",He,[(0,a.Lk)("span",Ge,(0,o.v_)(e.displayFieldLabelForMedi(e.fieldsDef["article_number"])),1)])]),(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,[(0,a.Lk)("span",Ye,(0,o.v_)(e.$t("medi.gewunschtes_bitte_ankreuzen")),1)]),(0,a.Lk)("th",Je,(0,o.v_)(e.$t("medi.ccl1")),1),(0,a.Lk)("th",Ze,(0,o.v_)(e.$t("medi.ccl2")),1),(0,a.Lk)("th",et,(0,o.v_)(e.$t("medi.ccl3")),1),(0,a.Lk)("th",tt,(0,o.v_)(e.$t("medi.ad")),1),(0,a.Lk)("th",lt,(0,o.v_)(e.$t("medi.af")),1),(0,a.Lk)("th",at,(0,o.v_)(e.$t("medi.ag")),1),(0,a.Lk)("th",ot,(0,o.v_)(e.$t("medi.at")),1),(0,a.Lk)("th",it,(0,o.v_)(e.$t("medi.atu")),1),(0,a.Lk)("th",st,(0,o.v_)(e.$t("medi.ath")),1),(0,a.Lk)("th",nt,[(0,a.Lk)("span",rt,[(0,a.bF)(Ot,{outlined:"","data-name":e.model["article_number"].name,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),class:(0,o.C4)("input-field full-width  "+e.fieldsDef["article_number"].color+" "+e.model["article_number"].name),style:{width:"200px !important"},modelValue:e.model["article_number"].formatted_value,"onUpdate:modelValue":t[73]||(t[73]=t=>e.model["article_number"].formatted_value=t),disable:e.isReadOnly},{append:(0,a.k6)((()=>[(0,a.bF)(Dt,{flat:"",dense:"",name:"calculate",size:"24px",class:"cursor-pointer",tabindex:"0",onClick:t[72]||(t[72]=t=>e.setArticleFieldsBySearch())},{default:(0,a.k6)((()=>[(0,a.bF)(St,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("medi.artikle_number_required")),1)])),_:1})])),_:1})])),_:1},8,["data-name","onKeyup","class","modelValue","disable"])])])])]),(0,a.Lk)("tbody",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",dt,[(0,a.Lk)("span",ut,(0,o.v_)(e.$t("medi.mediven_elegance")),1)]),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("me_1"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["me_1"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[74]||(t[74]=t=>e.inputValueChanges("me_1")),t[75]||(t[75]=t=>e.model["me_1"].formatted_value=t)],modelValue:e.model["me_1"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["me_1"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("me_2"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["me_2"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[76]||(t[76]=t=>e.inputValueChanges("me_2")),t[77]||(t[77]=t=>e.model["me_2"].formatted_value=t)],modelValue:e.model["me_2"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["me_2"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("me_3"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["me_3"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[78]||(t[78]=t=>e.inputValueChanges("me_3")),t[79]||(t[79]=t=>e.model["me_3"].formatted_value=t)],modelValue:e.model["me_3"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["me_3"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("me_ad"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["me_ad"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[80]||(t[80]=t=>e.inputValueChanges("me_ad")),t[81]||(t[81]=t=>e.model["me_ad"].formatted_value=t)],modelValue:e.model["me_ad"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["me_ad"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("me_af"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["me_af"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[82]||(t[82]=t=>e.inputValueChanges("me_af")),t[83]||(t[83]=t=>e.model["me_af"].formatted_value=t)],modelValue:e.model["me_af"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["me_af"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("me_ag"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["me_ag"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[84]||(t[84]=t=>e.inputValueChanges("me_ag")),t[85]||(t[85]=t=>e.model["me_ag"].formatted_value=t)],modelValue:e.model["me_ag"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["me_ag"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("me_at"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["me_at"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[86]||(t[86]=t=>e.inputValueChanges("me_at")),t[87]||(t[87]=t=>e.model["me_at"].formatted_value=t)],modelValue:e.model["me_at"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["me_at"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("me_atu"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["me_atu"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[88]||(t[88]=t=>e.inputValueChanges("me_atu")),t[89]||(t[89]=t=>e.model["me_atu"].formatted_value=t)],modelValue:e.model["me_atu"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["me_atu"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left border-right group-checkbox-td "+e.setCheckboxBackgroupColor("me_ath"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["me_ath"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[90]||(t[90]=t=>e.inputValueChanges("me_ath")),t[91]||(t[91]=t=>e.model["me_ath"].formatted_value=t)],modelValue:e.model["me_ath"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["me_ath"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),ct]),(0,a.Lk)("tr",null,[(0,a.Lk)("td",pt,[(0,a.Lk)("span",ht,(0,o.v_)(e.$t("medi.mediven_plus")),1)]),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mp_1"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mp_1"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[92]||(t[92]=t=>e.inputValueChanges("mp_1")),t[93]||(t[93]=t=>e.model["mp_1"].formatted_value=t)],modelValue:e.model["mp_1"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mp_1"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mp_2"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mp_2"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[94]||(t[94]=t=>e.inputValueChanges("mp_2")),t[95]||(t[95]=t=>e.model["mp_2"].formatted_value=t)],modelValue:e.model["mp_2"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mp_2"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mp_3"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mp_3"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[96]||(t[96]=t=>e.inputValueChanges("mp_3")),t[97]||(t[97]=t=>e.model["mp_3"].formatted_value=t)],modelValue:e.model["mp_3"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mp_3"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mp_ad"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mp_ad"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[98]||(t[98]=t=>e.inputValueChanges("mp_ad")),t[99]||(t[99]=t=>e.model["mp_ad"].formatted_value=t)],modelValue:e.model["mp_ad"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mp_ad"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mp_af"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mp_af"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[100]||(t[100]=t=>e.inputValueChanges("mp_af")),t[101]||(t[101]=t=>e.model["mp_af"].formatted_value=t)],modelValue:e.model["mp_af"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mp_af"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mp_ag"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mp_ag"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[102]||(t[102]=t=>e.inputValueChanges("mp_ag")),t[103]||(t[103]=t=>e.model["mp_ag"].formatted_value=t)],modelValue:e.model["mp_ag"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mp_ag"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mp_at"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mp_at"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[104]||(t[104]=t=>e.inputValueChanges("mp_at")),t[105]||(t[105]=t=>e.model["mp_at"].formatted_value=t)],modelValue:e.model["mp_at"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mp_at"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mp_atu"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mp_atu"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[106]||(t[106]=t=>e.inputValueChanges("mp_atu")),t[107]||(t[107]=t=>e.model["mp_atu"].formatted_value=t)],modelValue:e.model["mp_atu"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mp_atu"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left border-right group-checkbox-td "+e.setCheckboxBackgroupColor("mp_ath"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mp_ath"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[108]||(t[108]=t=>e.inputValueChanges("mp_ath")),t[109]||(t[109]=t=>e.model["mp_ath"].formatted_value=t)],modelValue:e.model["mp_ath"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mp_ath"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),mt]),(0,a.Lk)("tr",null,[(0,a.Lk)("td",_t,[(0,a.Lk)("span",bt,(0,o.v_)(e.$t("medi.mediven_comfort")),1)]),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mc_1"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mc_1"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[110]||(t[110]=t=>e.inputValueChanges("mc_1")),t[111]||(t[111]=t=>e.model["mc_1"].formatted_value=t)],modelValue:e.model["mc_1"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mc_1"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mc_2"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mc_2"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[112]||(t[112]=t=>e.inputValueChanges("mc_2")),t[113]||(t[113]=t=>e.model["mc_2"].formatted_value=t)],modelValue:e.model["mc_2"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mc_2"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mc_3"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mc_3"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[114]||(t[114]=t=>e.inputValueChanges("mc_3")),t[115]||(t[115]=t=>e.model["mc_3"].formatted_value=t)],modelValue:e.model["mc_3"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mc_3"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mc_ad"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mc_ad"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[116]||(t[116]=t=>e.inputValueChanges("mc_ad")),t[117]||(t[117]=t=>e.model["mc_ad"].formatted_value=t)],modelValue:e.model["mc_ad"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mc_ad"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mc_af"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mc_af"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[118]||(t[118]=t=>e.inputValueChanges("mc_af")),t[119]||(t[119]=t=>e.model["mc_af"].formatted_value=t)],modelValue:e.model["mc_af"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mc_af"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mc_ag"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mc_ag"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[120]||(t[120]=t=>e.inputValueChanges("mc_ag")),t[121]||(t[121]=t=>e.model["mc_ag"].formatted_value=t)],modelValue:e.model["mc_ag"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mc_ag"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mc_at"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mc_at"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[122]||(t[122]=t=>e.inputValueChanges("mc_at")),t[123]||(t[123]=t=>e.model["mc_at"].formatted_value=t)],modelValue:e.model["mc_at"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mc_at"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left group-checkbox-td "+e.setCheckboxBackgroupColor("mc_atu"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mc_atu"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[124]||(t[124]=t=>e.inputValueChanges("mc_atu")),t[125]||(t[125]=t=>e.model["mc_atu"].formatted_value=t)],modelValue:e.model["mc_atu"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mc_atu"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left border-right group-checkbox-td "+e.setCheckboxBackgroupColor("mc_ath"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mc_ath"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[126]||(t[126]=t=>e.inputValueChanges("mc_ath")),t[127]||(t[127]=t=>e.model["mc_ath"].formatted_value=t)],modelValue:e.model["mc_ath"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mc_ath"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),vt]),(0,a.Lk)("tr",null,[(0,a.Lk)("td",gt,[(0,a.Lk)("span",ft,(0,o.v_)(e.$t("medi.mediven_forte")),1)]),(0,a.Lk)("td",{class:(0,o.C4)("border-left border-bottom group-checkbox-td "+e.setCheckboxBackgroupColor("mf_1"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mf_1"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[128]||(t[128]=t=>e.inputValueChanges("mf_1")),t[129]||(t[129]=t=>e.model["mf_1"].formatted_value=t)],modelValue:e.model["mf_1"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mf_1"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left border-bottom group-checkbox-td "+e.setCheckboxBackgroupColor("mf_2"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mf_2"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[130]||(t[130]=t=>e.inputValueChanges("mf_2")),t[131]||(t[131]=t=>e.model["mf_2"].formatted_value=t)],modelValue:e.model["mf_2"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mf_2"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left border-bottom group-checkbox-td "+e.setCheckboxBackgroupColor("mf_3"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mf_3"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[132]||(t[132]=t=>e.inputValueChanges("mf_3")),t[133]||(t[133]=t=>e.model["mf_3"].formatted_value=t)],modelValue:e.model["mf_3"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mf_3"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left border-bottom group-checkbox-td "+e.setCheckboxBackgroupColor("mf_ad"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mf_ad"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[134]||(t[134]=t=>e.inputValueChanges("mf_ad")),t[135]||(t[135]=t=>e.model["mf_ad"].formatted_value=t)],modelValue:e.model["mf_ad"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mf_ad"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left border-bottom group-checkbox-td "+e.setCheckboxBackgroupColor("mf_af"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mf_af"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[136]||(t[136]=t=>e.inputValueChanges("mf_af")),t[137]||(t[137]=t=>e.model["mf_af"].formatted_value=t)],modelValue:e.model["mf_af"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mf_af"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left border-bottom group-checkbox-td "+e.setCheckboxBackgroupColor("mf_ag"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mf_ag"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[138]||(t[138]=t=>e.inputValueChanges("mf_ag")),t[139]||(t[139]=t=>e.model["mf_ag"].formatted_value=t)],modelValue:e.model["mf_ag"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mf_ag"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left border-bottom group-checkbox-td "+e.setCheckboxBackgroupColor("mf_at"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mf_at"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[140]||(t[140]=t=>e.inputValueChanges("mf_at")),t[141]||(t[141]=t=>e.model["mf_at"].formatted_value=t)],modelValue:e.model["mf_at"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mf_at"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left border-bottom group-checkbox-td "+e.setCheckboxBackgroupColor("mf_atu"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mf_atu"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[142]||(t[142]=t=>e.inputValueChanges("mf_atu")),t[143]||(t[143]=t=>e.model["mf_atu"].formatted_value=t)],modelValue:e.model["mf_atu"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mf_atu"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),(0,a.Lk)("td",{class:(0,o.C4)("border-left border-bottom border-right group-checkbox-td "+e.setCheckboxBackgroupColor("mf_ath"))},[(0,a.bF)(Mt,{dense:"",disable:e.fieldsDef["mf_ath"].is_readonly||e.isReadOnly,"onUpdate:modelValue":[t[144]||(t[144]=t=>e.inputValueChanges("mf_ath")),t[145]||(t[145]=t=>e.model["mf_ath"].formatted_value=t)],modelValue:e.model["mf_ath"].formatted_value,class:(0,o.C4)("group-checkbox "+e.model["mf_ath"].name),color:"primary"},null,8,["disable","modelValue","class"])],2),yt])])])),_:1})])]))]),(0,a.Lk)("div",kt,[(0,a.bF)(Ut,{modelValue:e.fuzzyDialog,"onUpdate:modelValue":t[150]||(t[150]=t=>e.fuzzyDialog=t),"full-width":""},{default:(0,a.k6)((()=>[(0,a.bF)(Kt,null,{default:(0,a.k6)((()=>[(0,a.bF)(Nt,{class:"secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(Tt,null,{default:(0,a.k6)((()=>[wt])),_:1}),(0,a.bF)(qt,null,{default:(0,a.k6)((()=>[Ct,(0,a.eW)(" "+(0,o.v_)(e.$t("pages.screen2a.validation")),1)])),_:1}),(0,a.bo)((0,a.bF)(Vt,{flat:"",round:"",dense:"",icon:"close"},null,512),[[Ht]])])),_:1}),(0,a.bF)(Wt,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",xt,[(0,a.bF)(Ot,{filled:"",modelValue:e.fuzzySearchField,"onUpdate:modelValue":t[147]||(t[147]=t=>e.fuzzySearchField=t),style:{width:"300px"}},{append:(0,a.k6)((()=>[(0,a.bF)(Dt,{onClick:t[146]||(t[146]=t=>e.applyFuzzySearch(e.fuzzySearchField)),name:"search","data-cy":"search",class:"q-pb-md cursor-pointer"})])),_:1},8,["modelValue"])]),(0,a.Lk)("div",Lt,[(0,a.bF)(Xt,{rows:e.tableRows,columns:e.tableColumns,"row-key":"id","no-data-label":e.$t("pages.messages.no_record_found"),selection:"single",selected:e.selectedRow,"onUpdate:selected":t[148]||(t[148]=t=>e.selectedRow=t),"table-header-class":"highlighted-back",loading:e.loading,"hide-bottom":"",style:{overflow:"scroll",height:"400px"},"rows-per-page-options":[0],onSelection:e.onRowSelection},{header:(0,a.k6)((e=>[(0,a.bF)($t,{props:e},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.cols,(t=>((0,a.uX)(),(0,a.Wv)(Bt,{key:t.name,props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,a.k6)((e=>[(0,a.bF)($t,{class:"cursor-pointer",props:e,onClick:t=>e.selected=!e.selected},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.cols,(t=>((0,a.uX)(),(0,a.Wv)(Qt,{key:t.name,props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.value),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props","onClick"])])),_:1},8,["rows","columns","no-data-label","selected","loading","onSelection"]),(0,a.Lk)("div",Ft,[(0,a.bF)(Vt,{color:"primary",class:"q-mr-sm","data-cy":"setvatfield",label:e.$t("pages.screen2a.proceed"),onClick:t[149]||(t[149]=t=>e.setVatField()),disable:e.disableSelectionButton},null,8,["label","disable"]),(0,a.bo)((0,a.bF)(Vt,{label:e.$t("pages.screen2a.cancel")},null,8,["label"]),[[Ht]])])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])],64)):(0,a.Q3)("",!0),(0,a.bF)(Ut,{modelValue:e.display_config_dialog,"onUpdate:modelValue":t[151]||(t[151]=t=>e.display_config_dialog=t),position:"top",class:"export-dialog",persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(jt)])),_:1},8,["modelValue"]),e.is_sep_view?((0,a.uX)(),(0,a.Wv)(zt,{key:1})):(0,a.Q3)("",!0)],64)}var At=l(38734),St=l(18505),Dt=l(24622),It=l(82303),Tt=l(46162),Ot=l(89156),Mt=l(45022),Rt=l(53500),Pt=l(41903);const qt=e=>((0,a.Qi)("data-v-27f705d8"),e=e(),(0,a.jt)(),e),Vt=["src","width","height"],Nt={key:0},Bt=["onMousedown","onMousemove"],$t=["onClick"],Qt=qt((()=>(0,a.Lk)("div",{class:"select-areas--delete_area"},null,-1))),Xt=[Qt],Wt=["src","width","height"];function Kt(e,t,l,s,n,r){const d=(0,a.g2)("q-input"),u=(0,a.g2)("Resizable");return(0,a.uX)(),(0,a.CE)("div",{class:"image-decorator medi-selected-area-fields",ref:"image-area",id:"image_area",style:(0,o.Tr)({width:e.width+"px",height:e.height+"px"})},[e.url?((0,a.uX)(),(0,a.CE)("img",{key:0,onLoad:t[0]||(t[0]=(...t)=>e.prepareImageData&&e.prepareImageData(...t)),id:"screenshot2",class:"original-image",style:{},src:e.url+"?reload="+e.image_reload+"&"+e.tokenQueryParam,alt:"Original Image",width:e.width,height:e.height},null,40,Vt)):(0,a.Q3)("",!0),e.userMode?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",{key:1,class:"",id:"draw",style:(0,o.Tr)({"background-color":"rgb(0, 0, 0)",opacity:0,position:"absolute",width:e.originImgSize.w+"px",height:e.originImgSize.h+"px"}),onMousedown:t[1]||(t[1]=(...t)=>e.mouseDown&&e.mouseDown(...t)),onMousemove:t[2]||(t[2]=(...t)=>e.mouseMove&&e.mouseMove(...t))},null,36)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.areas,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id},[e.userMode?((0,a.uX)(),(0,a.CE)("div",Nt,[(0,a.bF)(d,{outlined:"",disable:e.isReadOnly,onKeyup:(0,i.jR)(e.fieldKeyupEventHandler,["enter"]),"data-name":e.fieldsDef[t.name].name,class:(0,o.C4)("select-areas--background_area "+e.fieldsDef[t.name].color+" "+e.fieldsDef[t.name].name),"onUpdate:modelValue":[l=>e.inputValueChanges(t.name),l=>e.local_model[t.name].formatted_value=l],modelValue:e.local_model[t.name].formatted_value,style:(0,o.Tr)({background:`#fff url('${e.url}') -${t.x}px -${t.y}px / ${e.originImgSize.w}px ${e.originImgSize.h}px no-repeat`,position:"absolute",cursor:"move",width:t.width+"px",height:t.height+"px",left:e.areaDisplayPosX(t)+"px",top:e.areaDisplayPosY(t)+"px","z-index":t.z+2})},null,8,["disable","onKeyup","data-name","class","onUpdate:modelValue","modelValue","style"])])):((0,a.uX)(),(0,a.CE)("div",{key:1,onMousedown:(0,i.D$)((l=>e.startMove(t,l)),["stop","prevent"]),onMousemove:l=>e.doMove(t,l)},[(0,a.Lk)("div",{class:"select-areas--outline",style:(0,o.Tr)({opacity:e.opacityOutline,position:"absolute",cursor:"default",width:t.width+4+"px",height:t.height+4+"px",left:e.areaDisplayPosX(t)-2+"px",top:e.areaDisplayPosY(t)-2+"px","z-index":t.z})},null,4),(0,a.bF)(d,{outlined:"",class:"select-areas--background_area",style:(0,o.Tr)({background:`#fff url('${e.url}') -${t.x}px -${t.y}px / ${e.originImgSize.w}px ${e.originImgSize.h}px no-repeat`,position:"absolute",cursor:"move",width:t.width+"px",height:t.height+"px",left:e.areaDisplayPosX(t)+"px",top:e.areaDisplayPosY(t)+"px","z-index":t.z+2}),onClick:l=>e.changeResizable(t.id)},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.name),1)])),_:2},1032,["style","onClick"]),t.resizable?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"delete-area",style:(0,o.Tr)({display:"block",left:e.areaDisplayPosX(t)+t.width+"px",top:e.areaDisplayPosY(t)-25+"px","z-index":t.z+2}),onClick:l=>e.deleteSelected(t.id)},Xt,12,$t)):(0,a.Q3)("",!0),(0,a.bF)(u,{item:t,posImg:e.posImg,"pos-correction":e.posCorrection,onStartDrag:e.startDrag,onDoDrag:e.doDrag},null,8,["item","posImg","pos-correction","onStartDrag","onDoDrag"])],40,Bt))])))),128)),e.userMode?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",{key:2,class:"c-crop--hide_main",style:(0,o.Tr)({width:e.width+"px",height:e.height+"px"})},[(0,a.Lk)("img",{id:"c-crop--hide_img",src:e.url+"?"+e.tokenQueryParam,alt:"",width:e.width,height:e.height},null,8,Wt)],4))],4)}var Ut=l(1659),jt=l(57034),zt=l(83319),Ht=l(92162),Gt=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};let Yt,Jt,Zt,el={columns:[],table_areas:[]};const tl=(0,a.pM)({data(){return{mousedown:!1,originImgSize:{w:0,h:0,r:0},url:this.cropUrl,posImg:{top:0,left:0},areas:[],latestAreaItem:{startX:0,startY:0,endX:0,endY:0},scrollLeft:0,scrollTop:0,moveTempX:0,moveTempY:0,moveCurrentX:0,moveCurrentY:0,temp:0,dragdown:!1,move:!1,imageHeight:0,imageWidth:0,image_reload:1,userMode:!0}},props:{cropUrl:{type:String,default:"https://dev.doc2api.cloudintegration.eu/resource/image/1b90b6d5-63b5-446b-92a4-a60d57dc0edd/1.png"},width:{type:Number,default:1500},height:{type:Number,default:1500},opacityOutline:{type:Number,default:.2},opacityOverlay:{type:Number,default:.2},posCorrection:{type:Boolean,default:!0},tableAreas:{type:String,default:""},model:{},fieldsDef:{},isReadOnly:{type:Boolean,default:!1}},components:{Resizable:jt.A},watch:{cropUrl(e){return Gt(this,void 0,void 0,(function*(){this.url=e,yield this.setSize(),this.image_reload++}))},tableAreas(e){this.image_reload++,this.updateLocalModel()},width(e){return Gt(this,void 0,void 0,(function*(){yield this.setSize(),this.image_reload++}))}},setup(){const e=(0,zt._6)(),{tokenQueryParam:t}=(0,Ut.bP)(e);return e.getTokenQueryParam(),{local_model:(0,At.KR)({}),tokenQueryParam:t}},methods:{areaDisplayPosX(e){return e.x+(this.posCorrection?this.posImg.left:0)},areaDisplayPosY(e){return e.y+(this.posCorrection?this.posImg.top:0)},mousePosX(e){return e.pageX-this.posImg.left},mousePosY(e){return e.pageY-this.posImg.top},setSize(){return Gt(this,void 0,void 0,(function*(){if(!this.url)return;let e=yield this.getSize(this.url);this.originImgSize=e}))},getSize(e){let t=this.$el.querySelector("#c-crop--hide_img");return new Promise((l=>{e&&t?(t.onload=function(){const e=Yt.getSizeImg(t);l(e)},t.src=e):l({w:0,h:0,r:0})}))},getSizeImg(e){let t=e.width,l=e.height,a=0===t&&0===l?0:t/l;return{w:t,h:l,r:a}},calcPosOfBox(){let e=this.$refs["image-area"];this.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,this.scrollTop=window.pageYOffset||document.documentElement.scrollTop;let t=e.getBoundingClientRect().top,l=e.getBoundingClientRect().left;this.posImg.top=t+this.scrollTop,this.posImg.left=l+this.scrollLeft},mouseDown(e){this.mousedown=!0;let t=null;if(t=this.areas.length>0?this.areas.slice(-1).pop().id+1:1,0!=this.latestAreaItem.startX&&0!=this.latestAreaItem.startY){let l=this.latestAreaItem.startX,a=this.latestAreaItem.startY,o=e.layerX,i=e.layerY,s=o-l,n=i-a;(s<0||n<0)&&(o=l,i=a,l=e.layerX,a=e.layerY,s=o-l,n=i-a);let r={id:t,x:l,y:a,width:s,height:n,z:0,resizable:!1};return this.areas.push(r),this.temp=r.id,void(this.latestAreaItem={startX:0,startY:0,endX:0,endY:0})}if(t){let l={id:t,x:this.mousePosX(e),y:this.mousePosY(e),width:0,height:0,z:0,resizable:!1};this.areas.push(l),this.temp=l.id,this.latestAreaItem.startX=this.mousePosX(e),this.latestAreaItem.startY=this.mousePosY(e),this.latestAreaItem.endX=0,this.latestAreaItem.endY=0}},mouseMove(e){this.mousedown&&(this.areas.filter((e=>e.id===this.temp)).map((t=>{t.width=e.pageX-t.x-this.posImg.left-8,t.height=e.pageY-t.y-this.posImg.top-8})),this.latestAreaItem={startX:0,startY:0,endX:0,endY:0})},mouseUp(){this.mousedown=!1,this.areas=this.areas.filter((e=>e.width>=3&&e.height>=3)),this.endMove(),this.endDrag(),this.prepareTableArea()},changeResizable(e){this.areas.filter((t=>t.id===e)).map((e=>{e.resizable=!0,e.z=100})),this.areas.filter((t=>t.id!==e)).map((e=>{e.resizable=!1,e.z=0}))},deleteSelected(e){this.areas=this.areas.filter((t=>t.id!==e)),this.prepareTableArea()},startDrag(){this.dragdown=!0},doDrag(e,t,l){if(this.dragdown)switch(t){case"w":l.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-l.pageX+this.posImg.left,e.x=l.pageX-this.posImg.left),e.width<10&&(e.x=e.x-10,e.width=e.width+10);break;case"sw":l.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-l.pageX+this.posImg.left,e.x=l.pageX-this.posImg.left),l.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=l.pageY-this.posImg.top-e.y),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"s":l.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=l.pageY-this.posImg.top-e.y),e.height<10&&(e.height=e.height+10);break;case"se":l.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=l.pageX-this.posImg.left-e.x),l.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=l.pageY-this.posImg.top-e.y),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"e":l.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=l.pageX-this.posImg.left-e.x),e.width<10&&(e.x=e.x-10,e.width=e.width+10);break;case"ne":l.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=l.pageX-this.posImg.left-e.x),l.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-l.pageY),e.y=l.pageY-this.posImg.top),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"n":l.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-l.pageY),e.y=l.pageY-this.posImg.top),e.height<10&&(e.height=e.height+10);break;case"nw":l.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-l.pageY),e.y=l.pageY-this.posImg.top),l.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-l.pageX+this.posImg.left,e.x=l.pageX-this.posImg.left),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;default:break}},endDrag(){this.dragdown=!1},startMove(e,t){this.move=!0,this.moveTempX=t.clientX,this.moveTempY=t.clientY,this.moveCurrentX=e.x,this.moveCurrentY=e.y},doMove(e,t){if(this.move){let l=this.moveCurrentX+(t.clientX-this.moveTempX),a=this.moveCurrentY+(t.clientY-this.moveTempY),o=this.originImgSize.w-e.width,i=this.originImgSize.h-e.height;l>0&&a>0&&l<o&&a<i&&(e.x=l,e.y=a)}},endMove(){this.move=!1},creatReactangle(e,t,l,a,o,i){let s=null;if(s=this.areas.length>0?this.areas.slice(-1).pop().id+1:1,s){let n={id:s,x:e,y:t,width:l,height:a,z:0,resizable:!1,name:o,fieldDef:i};this.areas.push(n),this.temp=n.id}},prepareImageData(){if(Zt=(0,Ht.$)("#screenshot2"),Zt){this.imageWidth=Zt.offsetWidth,this.imageHeight=Zt.offsetHeight,this.prepareDataForAreas();const e=new CustomEvent("reload_tables",{});document.dispatchEvent(e)}},prepareDataForAreas(){let e={};if(Pt.A.has("table_data")&&null!=Pt.A.getItem("table_data")&&""!=Pt.A.getItem("table_data")){let t=Pt.A.getItem("table_data");e=JSON.parse(t)}else e={columns:[],table_areas:[]};this.areas=[];if(e.table_areas)for(const t in e.table_areas){let l=e.table_areas[t],a=[];a=l.coordinates.split(",");let o=Math.round(this.imageWidth*a[0]),i=Math.round(this.imageHeight*a[1]),s=Math.round(this.imageWidth*a[2]),n=Math.round(this.imageHeight*a[3]),r=s-o,d=n-i;this.creatReactangle(o,i,r,d,l.name,l)}},getTableAreaAsString(e,t,l,a){let o=e/this.imageWidth,i=t/this.imageHeight,s=l/this.imageWidth,n=a/this.imageHeight;return o.toString()+","+i.toString()+","+s.toString()+","+n.toString()},prepareTableArea(){el.table_areas=[],Array.from(this.areas).forEach((e=>{let t=e.width+e.x,l=e.height+e.y;e.fieldDef.coordinates=this.getTableAreaAsString(e.x,e.y,t,l),el.table_areas.push(e.fieldDef)})),Pt.A.set("table_data",JSON.stringify(el))},calculateLeftPosition(e){let t=this.areaDisplayPosX(e)+e.width;return t+50>=this.imageWidth&&(t=this.areaDisplayPosX(e)-60),t+"px"},calculatePositionFromTop(e){let t=this.areaDisplayPosY(e)-25;return t<0&&(t=this.areaDisplayPosY(e)),t+"px"},inputValueChanges(e){setTimeout((()=>{this.triggerModelUpdateEvent(e)}),0)},triggerModelUpdateEvent(e){const t=new CustomEvent("model_updated",{detail:{field_name:e}});document.dispatchEvent(t)},updateLocalModel(){this.local_model=this.model},fieldKeyupEventHandler(e){if(!1!==this.userMode&&!0!==this.isReadOnly&&"Enter"===e.key){let t=e.target.dataset.name;t&&this.triggerModelUpdateEvent(t)}}},mounted(){Yt=this,this.setSize(),Jt=(0,Ht.$)("#image_area"),Jt.addEventListener("mousemove",this.calcPosOfBox),Jt.addEventListener("scroll",this.calcPosOfBox),this.calcPosOfBox(),Jt.addEventListener("mouseup",this.mouseUp),this.updateLocalModel()},unmounted:function(){Jt.removeEventListener("mousemove",this.calcPosOfBox),Jt.removeEventListener("scroll",this.calcPosOfBox),Jt.removeEventListener("mouseup",this.mouseUp)}});var ll=l(12807),al=l(67837),ol=l(67156),il=l(98582),sl=l.n(il);const nl=(0,ll.A)(tl,[["render",Kt],["__scopeId","data-v-27f705d8"]]),rl=nl;sl()(tl,"components",{QInput:al.A,QField:ol.A});var dl=l(153),ul=l(82080),cl=l(68450),pl=l(76956),hl=l(53665),ml=l(41360),_l=l(25891),bl=l(11470),vl=l(85487),gl=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const fl=document.querySelector.bind(document);let yl=new Map;const kl=(0,a.pM)({el:"#app",mixins:[St.A,Dt.A,dl.A,ul.A,_l.A],props:{data:[],renderOpenWindoIcon:{type:Boolean,default:!1}},components:{Loader:Ot.A,MediMultiSelectInputImage:rl,autoTesting:hl.A,ExportDialog:ml.A},watch:{data(e){return gl(this,void 0,void 0,(function*(){this.updateLocalData(this.data),yield this.makeModel()}))},config_saved:{handler:function(e,t){!0===t&&!1===e||(this.display_config_dialog=!1)}}},data(){return{docId:"",imageHeight:0,imageWidth:0,itemsData:{},conversionFields:[],articleNumberFields:[],debounceArticleSearchFunc:{}}},mounted:function(){this.docId=this.$route.params.id,this.isViewSeparateComponenet(),this.init(),window.addEventListener("resize",this.windowResize),document.addEventListener("model_updated",this.updateModelAttribute),document.addEventListener("reload_tables",this.reloadTable),this.debounceArticleSearchFunc=(0,Rt.A)((()=>{this.calculateArticleNumber()}),1e3)},unmounted:function(){window.removeEventListener("resize",this.windowResize),document.removeEventListener("model_updated",this.updateModelAttribute),document.removeEventListener("reload_tables",this.reloadTable)},methods:{reloadTable(){this.renderKey++},init(){return gl(this,void 0,void 0,(function*(){if(this.is_sep_view){let e=Mt.A.has("fields_sep_comp")?Mt.A.getItem("fields_sep_comp"):null;null!=e&&e.doc_id==this.docId?(Mt.A.remove("fields_sep_comp"),this.updateLocalData(e)):yield this.getInvoiceDataByDocId(this.docId)}else this.updateLocalData(this.data);if(pl.B2.includes(this.apiData.status)&&(this.isReadOnly=!0),this.setConversionFields(),this.setArticleNumberRelatedFields(),yield this.makeModel(),!this.isModelReady())return void this.showErrorToast("Document does not have layout. Please contact administrator");let e=fl("#image_container2");this.imageWidth2=e.offsetWidth,this.imageHeight2=e.offsetHeight,this.image2="images/medi.svg",this.setFuzzyTableColumns(),this.loadSelectedAreasFields()}))},getInvoiceDataByDocId(e){return gl(this,void 0,void 0,(function*(){try{const t={doc_id:e},l=yield bl.M8.getById(t);if(!l.doc_id)return void this.showErrorToast(this.$t("pages.messages.INVALID_DOCUMENT"));this.updateLocalData(l)}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}}))},updateLocalData(e){this.apiData=e},makeModel(){return new Promise(((e,t)=>{let l={};if(void 0!==this.apiData){this.apiData.fields.forEach(((e,t)=>{l[e.name]=e}));let e=[];e=this.apiData.layout.groups,e.forEach(((e,t)=>{e.rows.forEach(((e,t)=>{e.forEach(((e,t)=>{let a=e.field_name,o=l[a];o?this.setColor(o,e):o=this.createEmptyField(a,e.input_type),this.cleanCheckboxValue(o,e.input_type),this.model[a]=o,this.fieldsDef[a]=e}))}))}))}e("done")}))},cleanCheckboxValue(e,t){"checkbox"==t&&("true"==e.formatted_value||1==e.formatted_value||"Y"==e.formatted_value?e.formatted_value=!0:e.formatted_value=!1)},setColor(e,t){"MD"==e.extraction_method?t.color="extraction_method-border-left":e.is_valid?t.color="success-border-left":t.color="error-border-left"},setConversionFields(){this.conversionFields=this.getConversionFields()},setArticleNumberRelatedFields(){this.articleNumberFields=this.getArticleNumberfields()},getField(e){let t={};if(void 0!==this.apiData)for(const l in this.apiData.fields){let a=this.apiData.fields[l];if(a.name==e){t=a;break}}return t},createEmptyField(e,t){let l="checkbox"!=t&&"";return{confidence:0,name:e,value:l,formatted_value:l,content:l}},loadSelectedAreasFields(){let e={},t=this.getSAFieldsDef(),l=this.getSAFields(),a=[];Array.from(l).forEach((e=>{t.hasOwnProperty(e)&&a.push(Object.assign({name:e},t[e]))})),e={columns:[],table_areas:a};let o=JSON.stringify(e);Pt.A.set("table_data",o),this.tableAreasStr=o,this.isSelectedAreaFieldsReady=!0},persistTableAreas(){this.saveMediImageFields()},windowResize(){this.persistTableAreas(),setTimeout((()=>{let e=fl("#image_container2");this.imageWidth2=e.offsetWidth,this.imageHeight2=e.offsetHeight,this.loadSelectedAreasFields()}),0)},saveMediImageFields(){let e={};if(Pt.A.has("table_data")&&null!=Pt.A.getItem("table_data")&&""!=Pt.A.getItem("table_data")){let t=Pt.A.getItem("table_data");e=JSON.parse(t)}else e={columns:[],table_areas:[]}},saveData(){return gl(this,void 0,void 0,(function*(){if(this.isReadOnly)return;this.saveMediImageFields();let e=this.apiData;this.showLoading(),e.hasOwnProperty("table_data_copy")&&delete e["table_data_copy"];let t,l=new FormData;l.append("data",JSON.stringify(e));try{let e=yield(0,Tt.L3)();t=yield It.A.post(Tt.FH.save_document+this.docId,l,{headers:{Authorization:e}})}catch(a){return this.hideLoading(),this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(a)}this.hideLoading(),!1===t.data.success?(this.showErrorToast(this.$t("pages.messages.error_internal_occur")),this.showErrorToast(t.data.message)):this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}))},exportData(){return gl(this,void 0,void 0,(function*(){if(!this.isReadOnly)try{const e=yield this.confirmExportConfiguration();if(!e)return void(this.display_config_dialog=!0);yield this.callExportApi()}catch(e){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e)}}))},confirmExportConfiguration(){return gl(this,void 0,void 0,(function*(){let e,t=new FormData;t.append("doc_type",this.apiData.doc_type);let l=yield(0,Tt.L3)();const a=yield It.A.post(Tt.FH.export_configuration_existence,t,{headers:{Authorization:l}});return e=a.data.valid,e}))},callExportApi(){return gl(this,void 0,void 0,(function*(){let e;try{let t=this.apiData;this.showLoading(),t.hasOwnProperty("table_data_copy")&&delete t["table_data_copy"];let l=new FormData;l.append("data",JSON.stringify(t));let a=yield(0,Tt.L3)();e=yield It.A.post(Tt.FH.validate_and_export+this.docId,l,{headers:{Authorization:a}})}catch(t){this.hideLoading(),this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}if(!0===e.data.success)this.hideLoading(),this.$router.push("/success").catch();else{let t=e.data.validation_error_codes;t?t.forEach((e=>{let t=e.split(":"),l=this.displayFieldLabelForMedi(this.fieldsDef[t[0]]);this.showErrorToast(l+" "+this.$t("pages.api_user_messages."+t[1]),!0)})):(this.showErrorToast(e.data.message),this.hideLoading()),this.$emit("setApiData",e.data.data),this.hideLoading()}}))},isModelReady(){return 0!==(0,cl.Ns)(this.model)},isSelectedAreaDataReady(){return this.isSelectedAreaFieldsReady},getConfidence(e){return e?e<1?(100*+e.toFixed(2)).toFixed(0):+e.toFixed(2):""},getLowerConfidence(e){if(e.confidence&&e.score){let t=e.confidence<1?(100*e.confidence.toFixed(2)).toFixed(0):e.confidence.toFixed(2),l=e.score<=1?(100*e.score.toFixed(2)).toFixed(0):e.score.toFixed(2);return t=Number(t),l=Math.floor(Number(l)),t<l?t:l}return e.confidence?e.confidence<1?(100*e.confidence.toFixed(2)).toFixed(0):e.confidence.toFixed(2):null},openComponentInSaparateWindow(){Mt.A.set("fields_sep_comp",this.apiData);let e=this.$router.resolve({path:"/fields_sep_comp/"+this.docId});window.open(e.href,"_blank","toolbar=yes,scrollbars=yes,resizable=yes,left=500,width=1500,height=1000")},isViewSeparateComponenet(){this.$route.fullPath.match(/fields_sep_comp/g)&&(this.is_sep_view=!0)},setCheckboxBackgroupColor(e){let t=this.fieldsDef[e],l="";return 1==t.is_readonly?l=" bg-disable ":1==this.model[e].formatted_value&&(l=" color-primary "),l},applyFuzzySearch(e){return gl(this,void 0,void 0,(function*(){let t;this.fuzzySearchField=e,this.showLoading();try{let l=yield(0,Tt.L3)();t=yield It.A.get((0,vl.MV)((0,Tt.D4)(e)),{headers:{Authorization:l}})}catch(l){return this.hideLoading(),this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(l)}this.tableRows=[],Array.from(t.data).forEach(((e,t)=>{let l={};l["id"]=e.id,yl.forEach(((t,a)=>{t.forEach(((t,a)=>{l[t]=e[t]}))})),this.tableRows.push(l)})),this.fuzzyDialog=!0,this.hideLoading(),this.$forceUpdate()}))},populateFuzzyData(e){let t=JSON.parse(e),l=[];yl.forEach(((e,a)=>{e.forEach(((e,a)=>{t.hasOwnProperty(e)&&(this.model[a].formatted_value=t[e],this.model[a].value=t[e],this.model[a].content=t[e],this.fieldsDef[a].color="extraction_method-border-left",this.model[a].extraction_method="MD",l.push(a))}))})),l.length>0&&this.updateImportJson(l,"MD")},onRowSelection(e){e.added?this.disableSelectionButton=!1:this.disableSelectionButton=!0},setVatField(){let e=JSON.parse(JSON.stringify(this.selectedRow));this.populateFuzzyData(JSON.stringify(e[0])),this.fuzzyDialog=!1,this.selectedRow=[],this.disableSelectionButton=!0,this.$forceUpdate()},updateModelAttribute(e){e.detail&&e.detail.field_name&&this.updateImportJson([e.detail.field_name])},inputValueChanges(e){setTimeout((()=>{this.model[e].value=this.model[e].formatted_value,this.model[e].content=this.model[e].formatted_value,this.updateImportJson([e]),this.articleNumberFields.includes(e)&&this.debounceArticleSearchFunc()}),0)},updateImportJson(e,t){let l=[];this.apiData.fields.forEach(((t,a)=>{let o=t.name;if(e.includes(o)){l.push(o),t.hasOwnProperty("original")||(t["original"]=Object.assign({},t)),t.is_valid=!0,t.is_validated=!0;let e=this.model[o],a=this.fieldsDef[o];t.formatted_value=e.formatted_value,t.value=e.value,t.content=e.content,e.hasOwnProperty("api_save")&&e.api_save||(t.value=e.formatted_value,t.content=e.formatted_value),e.hasOwnProperty("api_save")&&e.api_save||!this.conversionFields.includes(e.name)||"en_DE"!=this.apiData.doc_locale||(t.value=this.convertToUSValue(t.value)),e.hasOwnProperty("extraction_method")&&(t.extraction_method=e.extraction_method),t.color="success-border-left","MD"==t.extraction_method&&(t.color="extraction_method-border-left"),this.model[o]=t,a.color=t.color}})),e.forEach(((e,a)=>{l.includes(e)||(this.apiData.fields.push(this.model[e]),this.apiData.fields[this.apiData.fields.length-1].name=e,this.apiData.fields[this.apiData.fields.length-1].content=this.model[e].content,this.apiData.fields[this.apiData.fields.length-1].formatted_value=this.model[e].formatted_value,this.apiData.fields[this.apiData.fields.length-1].value=this.model[e].value,this.apiData.fields[this.apiData.fields.length-1].validation_code="",this.apiData.fields[this.apiData.fields.length-1].extraction_method=t,this.apiData.fields[this.apiData.fields.length-1].is_validated=!0,this.apiData.fields[this.apiData.fields.length-1].is_valid=!0,this.model[e]=this.apiData.fields[this.apiData.fields.length-1],this.fieldsDef[e].color="success-border-left","MD"==t&&(this.fieldsDef[e].color="extraction_method-border-left"))}))},setFuzzyTableColumns(){this.tableColumns=[],yl.forEach(((e,t)=>{e.forEach(((e,t)=>{let l=this.displayFieldLabelForMedi(this.fieldsDef[t]);this.tableColumns.push({name:t,label:l,field:e,align:"left"})}))}))},calculateArticleNumber(){return gl(this,void 0,void 0,(function*(){let e;this.showLoading();try{let t=new FormData;t.append("doc_data",JSON.stringify(this.apiData));let l=yield(0,Tt.L3)();if(e=yield It.A.post(Tt.FH.get_medi_item_number,t,{headers:{Authorization:l}}),!1===e.data.success)throw e.data.message;{let t="article_number";this.model[t].formatted_value=e.data.code,this.inputValueChanges(t)}this.hideLoading()}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t),void this.hideLoading()}}))},setArticleFieldsBySearch(){return gl(this,void 0,void 0,(function*(){try{let e,t="article_number";if(!this.model[t].formatted_value||""===this.model[t].formatted_value)return void this.showErrorToast(this.$t("medi.artikle_number_required"));this.showLoading();let l=new FormData;l.append("item_number",this.model[t].formatted_value);let a=yield(0,Tt.L3)();if(e=yield It.A.post(Tt.FH.get_medi_item_number_fields_map,l,{headers:{Authorization:a}}),!1===e.data.success)throw e.data.message;this.setArticleFieldsValues(e.data.data),this.hideLoading()}catch(e){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e),void this.hideLoading()}}))},setArticleFieldsValues(e){let t=[];for(const a of Object.keys(e)){let l=e[a];this.model[a].formatted_value=l,t.push(a)}let l=this.articleNumberFields.filter((e=>!t.includes(e)));l.forEach(((e,l)=>{let a=this.fieldsDef[e];"checkbox"==a.input_type?this.model[e].formatted_value=!1:this.model[e].formatted_value="",t.push(e)})),setTimeout((()=>{t.forEach(((e,t)=>{this.model[e].value=this.model[e].formatted_value,this.model[e].content=this.model[e].formatted_value})),t.length>0&&this.updateImportJson(t)}),0)},fieldKeyupEventHandler(e){if(!0!==this.isReadOnly&&"Enter"===e.key){let t=e.target.dataset.name;t&&this.updateModelAttribute({detail:{field_name:t}})}},handleSingleSelection(e,t){let l=["stuck_checkbox","paar_checkbox","hose_checkbox"];!0===t&&l.forEach(((t,l)=>{t!==e&&(this.model[t].formatted_value=!1,this.model[t].value=!1)})),this.model[e].formatted_value=t,this.model[e].value=t,this.model[e].content=t,this.updateImportJson(l)}},setup(){let e=[];const t=(0,zt.t8)(),{clearStateForExportDialog:l}=t,{display_config_dialog:a}=(0,Ut.bP)(t);return{clearStateForExportDialog:l,apiData:(0,At.KR)(e),tableAreasStr:(0,At.KR)(""),model:(0,At.KR)({}),fieldsDef:(0,At.KR)({}),image2:(0,At.KR)(""),imageHeight2:(0,At.KR)(0),imageWidth2:(0,At.KR)(0),fields:(0,At.KR)({}),isSelectedAreaFieldsReady:(0,At.KR)(!1),is_sep_view:(0,At.KR)(!1),fuzzyDialog:(0,At.KR)(!1),disableSelectionButton:(0,At.KR)(!0),selectedRow:(0,At.KR)([]),tableRows:[],fuzzySearchField:(0,At.KR)(""),tableColumns:[{}],renderKey:0,isReadOnly:(0,At.KR)(!1),display_config_dialog:a}}});var wl=l(50492),Cl=l(97410),xl=l(3952),Ll=l(80460),Fl=l(56384),El=l(857),Al=l(82156),Sl=l(23316),Dl=l(36914),Il=l(39150),Tl=l(44189),Ol=l(42315),Ml=l(44488),Rl=l(57722),Pl=l(45262),ql=l(88672);const Vl=(0,ll.A)(kl,[["render",Et],["__scopeId","data-v-19e6b1c7"]]),Nl=Vl;sl()(kl,"components",{QIcon:wl.A,QTooltip:Cl.A,QInput:al.A,QAvatar:xl.A,QCheckbox:Ll.A,QBtn:Fl.A,QMarkupTable:El.A,QDialog:Al.A,QCard:Sl.A,QToolbar:Dl.A,QToolbarTitle:Il.A,QCardSection:Tl.A,QTable:Ol.A,QTr:Ml.A,QTh:Rl.A,QTd:Pl.A,QField:ol.A}),sl()(kl,"directives",{ClosePopup:ql.A})},93970:(e,t,l)=>{"use strict";l.d(t,{A:()=>_});var a=l(61758),o=l(58790);const i={class:"message"};function s(e,t,l,s,n,r){const d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-banner");return(0,a.uX)(),(0,a.Wv)(u,{"inline-actions":"",class:(0,o.C4)([e.messageCategoryClass,"msg-banner text-white"])},{avatar:(0,a.k6)((()=>[e.back_route?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(d,{key:0,class:"text-weight-bold",to:"/dashboard"},{default:(0,a.k6)((()=>[(0,a.eW)(" Dashboard ")])),_:1})),e.back_route?((0,a.uX)(),(0,a.Wv)(d,{key:1,class:"text-weight-bold",onClick:e.backRoute},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("back")),1)])),_:1},8,["onClick"])):(0,a.Q3)("",!0)])),action:(0,a.k6)((()=>[(0,a.bF)(d,{label:"Dismiss",onClick:t[0]||(t[0]=t=>e.dismiss())})])),default:(0,a.k6)((()=>[(0,a.Lk)("div",i,(0,o.v_)(e.message),1)])),_:1},8,["class"])}var n=l(92162);const r=(0,a.pM)({el:"#app",props:{message:{type:String,default:""},messageCategoryClass:{type:String,default:"error-banner"},back_route:{type:Boolean,default:!1},back_event:{type:Boolean,default:!1}},components:{},data(){return{}},methods:{dismiss(){(0,n.$)(".msg-banner").remove();const e=new CustomEvent("dismiss_message",{});document.dispatchEvent(e)},backRoute(){try{if(history.state.back)return void this.$router.back();this.$router.push("/dashboard")}catch(e){logError(e),this.$router.push("/dashboard")}}},setup(){return{}}});var d=l(12807),u=l(46868),c=l(56384),p=l(98582),h=l.n(p);const m=(0,d.A)(r,[["render",s],["__scopeId","data-v-33cd9949"]]),_=m;h()(r,"components",{QBanner:u.A,QBtn:c.A})},43354:(e,t,l)=>{"use strict";l.d(t,{A:()=>S});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-78d6e8a4"),e=e(),(0,a.jt)(),e),n={class:"image-decorator",ref:"image-area",id:"image_area"},r={id:"screenshot_container"},d=["src","width"],u=["onMousedown","onMousemove"],c=["onClick"],p=["onClick"],h=s((()=>(0,a.Lk)("div",{class:"select-areas--delete_area"},null,-1))),m=[h],_={class:"c-crop--hide_main"},b=["src","width"];function v(e,t,l,s,h,v){const g=(0,a.g2)("Resizable");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",r,[e.url?((0,a.uX)(),(0,a.CE)("img",{key:0,onLoad:t[0]||(t[0]=(...t)=>e.prepareImageData&&e.prepareImageData(...t)),id:"screenshot",class:"original-image",src:e.url,alt:"Original Image",width:e.width},null,40,d)):(0,a.Q3)("",!0),(0,a.Lk)("div",{class:"select-areas--overlay",style:(0,o.Tr)({opacity:e.opacityOverlay,position:"absolute",width:e.originImgSize.w+"px",height:e.originImgSize.h+"px",display:"block"})},null,4),(0,a.Lk)("div",{class:"pointer-events-none",id:"draw",style:(0,o.Tr)({"background-color":"rgb(0, 0, 0)",opacity:0,position:"absolute",width:e.originImgSize.w+"px",height:e.originImgSize.h+"px"}),onMousedown:t[1]||(t[1]=(...t)=>e.mouseDown&&e.mouseDown(...t)),onMousemove:t[2]||(t[2]=(...t)=>e.mouseMove&&e.mouseMove(...t))},null,36),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.areas,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id},[(0,a.Lk)("div",{onMousedown:(0,i.D$)((l=>e.startMove(t,l)),["stop","prevent"]),onMousemove:l=>e.doMove(t,l)},[(0,a.Lk)("div",{class:"select-areas--outline",style:(0,o.Tr)({opacity:e.opacityOutline,position:"absolute",cursor:"default",width:t.width+4+"px",height:t.height+4+"px",left:e.areaDisplayPosX(t)-2+"px",top:e.areaDisplayPosY(t)-2+"px","z-index":t.z})},null,4),(0,a.Lk)("div",{class:"select-areas--background_area",style:(0,o.Tr)({background:`#fff url('${e.url}') -${t.x}px -${t.y}px / ${e.originImgSize.w}px ${e.originImgSize.h}px no-repeat`,position:"absolute",cursor:"move",width:t.width+"px",height:t.height+"px",left:e.areaDisplayPosX(t)+"px",top:e.areaDisplayPosY(t)+"px","z-index":t.z+2}),onClick:l=>e.changeResizable(t.id)},null,12,c),t.resizable?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"delete-area",style:(0,o.Tr)({display:"block",left:e.areaDisplayPosX(t)+t.width+"px",top:e.areaDisplayPosY(t)-25+"px","z-index":t.z+2}),onClick:l=>e.deleteSelected(t.id)},m,12,p)):(0,a.Q3)("",!0),(0,a.bF)(g,{item:t,posImg:e.posImg,"pos-correction":e.posCorrection,onStartDrag:e.startDrag,onDoDrag:e.doDrag},null,8,["item","posImg","pos-correction","onStartDrag","onDoDrag"])],40,u)])))),128))]),(0,a.Lk)("div",_,[(0,a.Lk)("img",{id:"c-crop--hide_img",src:e.url,alt:"",width:e.width},null,8,b)])],512)}var g=l(57034),f=l(41903),y=l(92162),k=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};let w,C,x,L={columns:[],table_areas:[]};const F=(0,a.pM)({data(){return{mousedown:!1,originImgSize:{w:0,h:0,r:0},url:this.cropUrl,posImg:{top:0,left:0},areas:[{id:1,x:64,y:208,width:556,height:55,z:0,resizable:!1}],latestAreaItem:{startX:0,startY:0,endX:0,endY:0},scrollLeft:0,scrollTop:0,moveTempX:0,moveTempY:0,moveCurrentX:0,moveCurrentY:0,temp:0,dragdown:!1,move:!1,imageHeight:0,imageWidth:0}},props:{cropUrl:{type:String,default:"https://dev.doc2api.cloudintegration.eu/resource/image/1b90b6d5-63b5-446b-92a4-a60d57dc0edd/1.png"},width:{type:Number,default:1500},opacityOutline:{type:Number,default:.2},opacityOverlay:{type:Number,default:.2},posCorrection:{type:Boolean,default:!0},tableAreas:{type:String,default:""}},components:{Resizable:g.A},watch:{cropUrl(e){this.url=e,setTimeout((()=>{this.setSize()}),200)},tableAreas(e){this.prepareDataForAreas()},width(e){return k(this,void 0,void 0,(function*(){yield this.setSize(),this.prepareImageData()}))}},methods:{areaDisplayPosX(e){return e.x+(this.posCorrection?this.posImg.left:0)},areaDisplayPosY(e){return e.y+(this.posCorrection?this.posImg.top:0)},mousePosX(e){return e.pageX-this.posImg.left},mousePosY(e){return e.pageY-this.posImg.top},setSize(){return k(this,void 0,void 0,(function*(){if(!this.url)return;let e=yield this.getSize(this.url);this.originImgSize=e}))},getSize(e){let t=this.$el.querySelector("#c-crop--hide_img");return new Promise((l=>{e&&t?(t.onload=function(){const e=w.getSizeImg(t);l(e)},t.src=e):l({w:0,h:0,r:0})}))},getSizeImg(e){let t=e.width,l=e.height,a=0===t&&0===l?0:t/l;return{w:t,h:l,r:a}},calcPosOfBox(){let e=this.$refs["image-area"];this.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,this.scrollTop=window.pageYOffset||document.documentElement.scrollTop;let t=e.getBoundingClientRect().top,l=e.getBoundingClientRect().left;this.posImg.top=t+this.scrollTop,this.posImg.left=l+this.scrollLeft},mouseDown(e){this.mousedown=!0;let t=null;if(t=this.areas.length>0?this.areas.slice(-1).pop().id+1:1,0!=this.latestAreaItem.startX&&0!=this.latestAreaItem.startY){let l=this.latestAreaItem.startX,a=this.latestAreaItem.startY,o=e.layerX,i=e.layerY,s=o-l,n=i-a;(s<0||n<0)&&(o=l,i=a,l=e.layerX,a=e.layerY,s=o-l,n=i-a);let r={id:t,x:l,y:a,width:s,height:n,z:0,resizable:!1};return this.areas.push(r),this.temp=r.id,void(this.latestAreaItem={startX:0,startY:0,endX:0,endY:0})}if(t){let l={id:t,x:this.mousePosX(e),y:this.mousePosY(e),width:0,height:0,z:0,resizable:!1};this.areas.push(l),this.temp=l.id,this.latestAreaItem.startX=this.mousePosX(e),this.latestAreaItem.startY=this.mousePosY(e),this.latestAreaItem.endX=0,this.latestAreaItem.endY=0}},mouseMove(e){this.mousedown&&(this.areas.filter((e=>e.id===this.temp)).map((t=>{t.width=e.pageX-t.x-this.posImg.left-8,t.height=e.pageY-t.y-this.posImg.top-8})),this.latestAreaItem={startX:0,startY:0,endX:0,endY:0})},mouseUp(){this.mousedown=!1,this.areas=this.areas.filter((e=>e.width>=3&&e.height>=3)),this.endMove(),this.endDrag(),this.prepareTableArea()},changeResizable(e){this.areas.filter((t=>t.id===e)).map((e=>{e.resizable=!0,e.z=100})),this.areas.filter((t=>t.id!==e)).map((e=>{e.resizable=!1,e.z=0}))},deleteSelected(e){this.areas=this.areas.filter((t=>t.id!==e)),this.prepareTableArea()},startDrag(){this.dragdown=!0},doDrag(e,t,l){if(this.dragdown)switch(t){case"w":l.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-l.pageX+this.posImg.left,e.x=l.pageX-this.posImg.left),e.width<10&&(e.x=e.x-10,e.width=e.width+10);break;case"sw":l.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-l.pageX+this.posImg.left,e.x=l.pageX-this.posImg.left),l.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=l.pageY-this.posImg.top-e.y),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"s":l.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=l.pageY-this.posImg.top-e.y),e.height<10&&(e.height=e.height+10);break;case"se":l.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=l.pageX-this.posImg.left-e.x),l.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=l.pageY-this.posImg.top-e.y),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"e":l.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=l.pageX-this.posImg.left-e.x),e.width<10&&(e.x=e.x-10,e.width=e.width+10);break;case"ne":l.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=l.pageX-this.posImg.left-e.x),l.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-l.pageY),e.y=l.pageY-this.posImg.top),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"n":l.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-l.pageY),e.y=l.pageY-this.posImg.top),e.height<10&&(e.height=e.height+10);break;case"nw":l.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-l.pageY),e.y=l.pageY-this.posImg.top),l.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-l.pageX+this.posImg.left,e.x=l.pageX-this.posImg.left),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;default:break}},endDrag(){this.dragdown=!1},startMove(e,t){this.move=!0,this.moveTempX=t.clientX,this.moveTempY=t.clientY,this.moveCurrentX=e.x,this.moveCurrentY=e.y},doMove(e,t){if(this.move){let l=this.moveCurrentX+(t.clientX-this.moveTempX),a=this.moveCurrentY+(t.clientY-this.moveTempY),o=this.originImgSize.w-e.width,i=this.originImgSize.h-e.height;l>0&&a>0&&l<o&&a<i&&(e.x=l,e.y=a)}},endMove(){this.move=!1},creatReactangle(e,t,l,a){let o=null;if(o=this.areas.length>0?this.areas.slice(-1).pop().id+1:1,o){let i={id:o,x:e,y:t,width:l,height:a,z:0,resizable:!1};this.areas.push(i),this.temp=i.id}},prepareImageData(){x=(0,y.$)("#screenshot"),x&&(this.imageWidth=x.offsetWidth,this.imageHeight=x.offsetHeight,this.prepareDataForAreas())},prepareDataForAreas(){if(f.A.has("table_data")&&null!=f.A.getItem("table_data")&&""!=f.A.getItem("table_data")){let e=f.A.getItem("table_data");L=JSON.parse(e)}else L={columns:[],table_areas:[]};this.areas=[];let e=[];L&&L.table_areas.length>0&&Array.from(L.table_areas).forEach((t=>{e=t.split(",");let l=Math.round(this.imageWidth*e[0]),a=Math.round(this.imageHeight*e[1]),o=Math.round(this.imageWidth*e[2]),i=Math.round(this.imageHeight*e[3]),s=o-l,n=i-a;this.creatReactangle(l,a,s,n)}))},getTableAreaAsString(e,t,l,a){let o=e/this.imageWidth,i=t/this.imageHeight,s=l/this.imageWidth,n=a/this.imageHeight;return o.toString()+","+i.toString()+","+s.toString()+","+n.toString()},prepareTableArea(){L.table_areas=[],Array.from(this.areas).forEach((e=>{let t=e.width+e.x,l=e.height+e.y;L.table_areas.push(this.getTableAreaAsString(e.x,e.y,t,l))})),f.A.set("table_data",JSON.stringify(L))},calculateLeftPosition(e){let t=this.areaDisplayPosX(e)+e.width;return t+50>=this.imageWidth&&(t=this.areaDisplayPosX(e)-60),t+"px"},calculatePositionFromTop(e){let t=this.areaDisplayPosY(e)-25;return t<0&&(t=this.areaDisplayPosY(e)),t+"px"}},mounted(){w=this,this.setSize(),C=(0,y.$)("#image_area"),C.addEventListener("mousemove",this.calcPosOfBox),C.addEventListener("scroll",this.calcPosOfBox),this.calcPosOfBox(),C.addEventListener("mouseup",this.mouseUp)},unmounted:function(){C.removeEventListener("mousemove",this.calcPosOfBox),C.removeEventListener("scroll",this.calcPosOfBox),C.removeEventListener("mouseup",this.mouseUp)},setup(){return{}}});var E=l(12807);const A=(0,E.A)(F,[["render",v],["__scopeId","data-v-78d6e8a4"]]),S=A},57034:(e,t,l)=>{"use strict";l.d(t,{A:()=>c});var a=l(61758),o=l(58790),i=l(29104);const s={class:"handler"};function n(e,t,l,n,r,d){return(0,a.uX)(),(0,a.CE)("div",s,[e.item.resizable?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"select-areas-resize-handler w",style:(0,o.Tr)({position:"absolute",cursor:"w-resize",display:"block",left:e.displayPosX(e.item)-5+"px",top:e.displayPosY(e.item)+e.item.height/2-4+"px","z-index":e.item.z+10}),onMousedown:t[0]||(t[0]=(0,i.D$)((t=>e.startDrag(e.item,"w")),["stop","prevent"]))},null,36)):(0,a.Q3)("",!0),e.item.resizable?((0,a.uX)(),(0,a.CE)("div",{key:1,class:"select-areas-resize-handler sw",style:(0,o.Tr)({position:"absolute",cursor:"sw-resize",display:"block",left:e.displayPosX(e.item)-4+"px",top:e.displayPosY(e.item)+e.item.height-6+"px","z-index":e.item.z+10}),onMousedown:t[1]||(t[1]=(0,i.D$)((t=>e.startDrag(e.item,"sw")),["stop","prevent"]))},null,36)):(0,a.Q3)("",!0),e.item.resizable?((0,a.uX)(),(0,a.CE)("div",{key:2,class:"select-areas-resize-handler s",style:(0,o.Tr)({position:"absolute",cursor:"s-resize",display:"block",left:e.displayPosX(e.item)+e.item.width/2-4+"px",top:e.displayPosY(e.item)+e.item.height-4+"px","z-index":e.item.z+10}),onMousedown:t[2]||(t[2]=(0,i.D$)((t=>e.startDrag(e.item,"s")),["stop","prevent"]))},null,36)):(0,a.Q3)("",!0),e.item.resizable?((0,a.uX)(),(0,a.CE)("div",{key:3,class:"select-areas-resize-handler se",style:(0,o.Tr)({position:"absolute",cursor:"se-resize",display:"block",left:e.displayPosX(e.item)+e.item.width-6+"px",top:e.displayPosY(e.item)+e.item.height-6+"px","z-index":e.item.z+10}),onMousedown:t[3]||(t[3]=(0,i.D$)((t=>e.startDrag(e.item,"se")),["stop","prevent"]))},null,36)):(0,a.Q3)("",!0),e.item.resizable?((0,a.uX)(),(0,a.CE)("div",{key:4,class:"select-areas-resize-handler e",style:(0,o.Tr)({position:"absolute",cursor:"e-resize",display:"block",left:e.displayPosX(e.item)+e.item.width-5+"px",top:e.displayPosY(e.item)+e.item.height/2-6+"px","z-index":e.item.z+10}),onMousedown:t[4]||(t[4]=(0,i.D$)((t=>e.startDrag(e.item,"e")),["stop","prevent"]))},null,36)):(0,a.Q3)("",!0),e.item.resizable?((0,a.uX)(),(0,a.CE)("div",{key:5,class:"select-areas-resize-handler ne",style:(0,o.Tr)({position:"absolute",cursor:"ne-resize",display:"block",left:e.displayPosX(e.item)+e.item.width-6+"px",top:e.displayPosY(e.item)-4+"px","z-index":e.item.z+10}),onMousedown:t[5]||(t[5]=(0,i.D$)((t=>e.startDrag(e.item,"ne")),["stop","prevent"]))},null,36)):(0,a.Q3)("",!0),e.item.resizable?((0,a.uX)(),(0,a.CE)("div",{key:6,class:"select-areas-resize-handler n",style:(0,o.Tr)({position:"absolute",cursor:"n-resize",display:"block",left:e.displayPosX(e.item)+e.item.width/2-4+"px",top:e.displayPosY(e.item)-4+"px","z-index":e.item.z+10}),onMousedown:t[6]||(t[6]=(0,i.D$)((t=>e.startDrag(e.item,"n")),["stop","prevent"]))},null,36)):(0,a.Q3)("",!0),e.item.resizable?((0,a.uX)(),(0,a.CE)("div",{key:7,class:"select-areas-resize-handler nw",style:(0,o.Tr)({position:"absolute",cursor:"nw-resize",display:"block",left:e.displayPosX(e.item)-4+"px",top:e.displayPosY(e.item)-4+"px","z-index":e.item.z+10}),onMousedown:t[7]||(t[7]=(0,i.D$)((t=>e.startDrag(e.item,"nw")),["stop","prevent"]))},null,36)):(0,a.Q3)("",!0)])}const r=(0,a.pM)({data(){return{pos:null}},props:{item:{type:Object,default:()=>({id:0,x:0,y:0,width:0,height:0,z:0,resizable:!1})},posCorrection:{type:Boolean,default:!0},posImg:{type:Object,default:null}},methods:{displayPosX(e){return e.x+(this.posCorrection?this.posImg.left:0)},displayPosY(e){return e.y+(this.posCorrection?this.posImg.top:0)},startDrag(e,t){this.pos=t,document.addEventListener("mousemove",this.doDrag),window.addEventListener("pointerup",this.stopDrag),this.$emit("startDrag")},doDrag(e){this.$emit("doDrag",this.item,this.pos,e)},stopDrag(e){document.removeEventListener("mousemove",this.doDrag)},removeDoDragEvent(e){document.removeEventListener("mousemove",this.doDrag)}},updated(){!1===this.item.resizable&&window.addEventListener("mouseup",this.removeDoDragEvent)},unmounted:function(){document.removeEventListener("mousemove",this.doDrag),window.removeEventListener("pointerup",this.stopDrag),window.removeEventListener("mouseup",this.removeDoDragEvent)}});var d=l(12807);const u=(0,d.A)(r,[["render",n],["__scopeId","data-v-12048c2a"]]),c=u},39281:(e,t,l)=>{"use strict";l.d(t,{A:()=>A});var a=l(61758),o=l(58790);const i={class:"row items-center q-pb-none"},s={"data-cy":"select-integration",class:"text-h6"},n={style:{width:"100%","padding-left":"30px","padding-top":"5px"}},r={style:{"padding-left":"5px"}},d={key:0,style:{width:"100%","padding-left":"30px","padding-top":"5px"}},u={style:{"padding-left":"5px"}},c={style:{display:"flex","justify-content":"center"}},p={style:{"margin-top":"50px"}},h={style:{"letter-spacing":"1px"}},m={style:{"margin-top":"50px"}},_={style:{"letter-spacing":"1px"}};function b(e,t,l,b,v,g){const f=(0,a.g2)("q-space"),y=(0,a.g2)("q-btn"),k=(0,a.g2)("q-icon"),w=(0,a.g2)("q-card-section"),C=(0,a.g2)("q-card"),x=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(C,{style:{width:"500px","max-width":"1060px",height:"auto"}},{default:(0,a.k6)((()=>[(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.Lk)("div",s,[(0,a.Lk)("b",null,(0,o.v_)(e.data.title),1)]),(0,a.bF)(f),(0,a.bo)((0,a.bF)(y,{icon:"close",flat:"",round:"",dense:"",onClick:e.selectionPopupClosed},null,8,["onClick"]),[[x]])]),(0,a.Lk)("div",n,[(0,a.bF)(k,{class:"text-red",style:{"font-size":"18px"},name:"warning"}),(0,a.Lk)("span",r,(0,o.v_)(e.$t("selection_popup_origin_warning")),1)]),e.data.value_2.message?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(k,{class:"text-red",style:{"font-size":"18px"},name:"warning"}),(0,a.Lk)("span",u,(0,o.v_)(e.data.value_2.message),1)])):(0,a.Q3)("",!0),(0,a.Lk)("div",c,[(0,a.Lk)("div",{class:(0,o.C4)(["rectangle",e.data.value_1.disable?"disable":""]),onClick:t[0]||(t[0]=t=>e.selectedValue(e.data.value_1.key,e.data.value_1.disable))},[(0,a.Lk)("div",p,[(0,a.bF)(y,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px",flat:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.data.value_1.value),1)])),_:1})]),(0,a.Lk)("span",h,(0,o.v_)(e.data.value_1.label),1)],2),(0,a.Lk)("div",{class:(0,o.C4)(["rectangle",e.data.value_2.disable?"disable":""]),onClick:t[1]||(t[1]=t=>e.selectedValue(e.data.value_2.key,e.data.value_2.disable))},[(0,a.Lk)("div",m,[(0,a.bF)(y,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px",flat:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.data.value_2.value),1)])),_:1})]),(0,a.Lk)("span",_,(0,o.v_)(e.data.value_2.label),1)],2)])])),_:1})])),_:1})}const v=(0,a.pM)({name:"selection-popup",props:{data:[],warning_text:{type:String}},data(){return{}},methods:{selectedValue(e,t){if(t)return;const l=new CustomEvent("selection_popup_selected",{detail:{data:this.data,selected:e}});document.dispatchEvent(l)},selectionPopupClosed(){const e=new CustomEvent("selection_popup_closed",{});document.dispatchEvent(e)}}});var g=l(12807),f=l(23316),y=l(44189),k=l(93676),w=l(56384),C=l(50492),x=l(88672),L=l(98582),F=l.n(L);const E=(0,g.A)(v,[["render",b],["__scopeId","data-v-8c4b10c0"]]),A=E;F()(v,"components",{QCard:f.A,QCardSection:y.A,QSpace:k.A,QBtn:w.A,QIcon:C.A}),F()(v,"directives",{ClosePopup:x.A})},90954:(e,t,l)=>{"use strict";l.d(t,{A:()=>v});var a=l(61758),o=l(58790);const i={class:"text-h5 text-bold",style:{"font-size":"26px"}},s={class:"text-warning"};function n(e,t,l,n,r,d){const u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(c,{class:"bg-primary text-white text-center q-pa-sm",style:{width:"1000px","max-width":"90vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.eW)((0,o.v_)(e.$t("registration_status"))+" : ",1),(0,a.Lk)("span",s,(0,o.v_)(e.$t(`${e.status}`)),1)])])),_:1}),(0,a.bF)(u,{class:"q-pt-none",style:{"font-size":"16px"}},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("fill_out_the_required_data"))+" ",1),(0,a.Lk)("a",{onClick:t[0]||(t[0]=(...t)=>e.goToRegisterWizard&&e.goToRegisterWizard(...t)),class:"text-white wizard-link"},(0,o.v_)(e.$t("here")),1)])),_:1})])),_:1})])}var r=l(83319),d=l(76956);const u=(0,a.pM)({props:{status:{type:String,reqired:!0},supplier_as_org_id:{type:String,required:!0},supplier_lookup_record_id:{type:String,required:!0}},methods:{goToRegisterWizard(){this.$router.push(`/supplier/register-wizard/${this.supplier_lookup_record_id}/${this.supplier_as_org_id}`)}},setup(){const{user_settings:e}=(0,r.Bu)();return{user_settings:e,supplier_portal_with_layout_setting:d.DG}}});var c=l(12807),p=l(23316),h=l(44189),m=l(98582),_=l.n(m);const b=(0,c.A)(u,[["render",n],["__scopeId","data-v-dede52f6"]]),v=b;_()(u,"components",{QCard:p.A,QCardSection:h.A})},39264:(e,t,l)=>{"use strict";l.d(t,{A:()=>T});var a=l(58790),o=l(61758);const i={class:(0,a.C4)("")},s={class:(0,a.C4)("")},n={class:"q-ml-sm"};function r(e,t,l,r,d,u){const c=(0,o.g2)("q-th"),p=(0,o.g2)("q-tr"),h=(0,o.g2)("f-btn"),m=(0,o.g2)("q-td"),_=(0,o.g2)("q-table"),b=(0,o.g2)("q-avatar"),v=(0,o.g2)("q-card-section"),g=(0,o.g2)("q-btn"),f=(0,o.g2)("q-card-actions"),y=(0,o.g2)("q-card"),k=(0,o.g2)("q-dialog"),w=(0,o.gN)("close-popup");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",{class:"row",style:(0,a.Tr)("width: "+e.width+"%;")},[(0,o.bF)(_,{class:"text-uppercase sticky-header transparent-header full-width",rows:e.tableRows,columns:e.columns,"row-key":"id","table-header-style":{backgroundColor:"#d4d4d4"},"no-data-label":e.$t("no_data_found")},{header:(0,o.k6)((e=>[(0,o.bF)(p,{props:e,class:(0,a.C4)(["",""])},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cols,(t=>((0,o.uX)(),(0,o.Wv)(c,{key:t.name,props:e,class:(0,a.C4)("")},{default:(0,o.k6)((()=>[(0,o.Lk)("span",i,(0,a.v_)(t.label),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,o.k6)((t=>[(0,o.bF)(p,{props:t,id:t.key,class:(0,a.C4)(["po_iterateable_item compact-table-tr",t.rowIndex%2==0?"":"alternative-row"]),tabindex:"0","data-id":t.key},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.cols,(l=>((0,o.uX)(),(0,o.CE)(o.FK,{key:l.name},["action"===l.name?((0,o.uX)(),(0,o.Wv)(m,{key:0,style:{width:"50px"},"data-id":t.key,class:(0,a.C4)(["actions q-ml-auto",""])},{default:(0,o.k6)((()=>[(0,o.bF)(h,{appearance:"tertiary",onClick:l=>{e.deleteConfirm=!0,e.deleting_row=t.row},icon:"delete",class:"q-mr-sm"},null,8,["onClick"])])),_:2},1032,["data-id"])):((0,o.uX)(),(0,o.Wv)(m,{key:1,"data-id":t.key},{default:(0,o.k6)((()=>[(0,o.Lk)("span",s,(0,a.v_)(t.row[l.name]),1)])),_:2},1032,["data-id"]))],64)))),128))])),_:2},1032,["props","id","class","data-id"])])),_:1},8,["rows","columns","no-data-label"])],4),(0,o.bF)(k,{modelValue:e.deleteConfirm,"onUpdate:modelValue":t[1]||(t[1]=t=>e.deleteConfirm=t),persistent:""},{default:(0,o.k6)((()=>[(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(v,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,o.k6)((()=>[(0,o.bF)(b,{icon:"warning",color:"primary"})])),_:1}),(0,o.bF)(v,{class:"row items-center"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",n,(0,a.v_)(e.$t("sure")),1)])),_:1}),(0,o.bF)(f,{align:"right"},{default:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(g,{flat:"",label:e.$t("cancel"),"data-cy":"cancel",color:"primary"},null,8,["label"]),[[w]]),(0,o.bo)((0,o.bF)(g,{flat:"",label:e.$t("delete"),"data-cy":"delete-popup",color:"primary",onClick:t[0]||(t[0]=t=>e.deleteSupplierItemNumber(e.deleting_row))},null,8,["label"]),[[w]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var d=l(24622),u=l(38734),c=l(11470),p=l(18505),h=l(64775),m=l(73937),_=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const b=(0,o.pM)({el:"#app",props:{width:{type:Number,default:70},supplierId:{type:String,default:""},onSearch:{type:String}},mixins:[d.A,p.A],components:{},data(){return{isAdmin:(0,u.KR)(!1),searchItem:(0,u.KR)("")}},mounted:function(){this.initView()},computed:{},watch:{onSearch(){var e;return _(this,void 0,void 0,(function*(){this.searchItem=(null===(e=this.onSearch)||void 0===e?void 0:e.toLowerCase())||"",yield this.prepareSupplierItemNumberList()}))}},methods:{initView(){this.isAdmin=(0,m.Mb)(),this.setupSupplierItemNumberList()},setupSupplierItemNumberList(){this.tableRows=[],this.prepareColumns(),this.prepareSupplierItemNumberList()},prepareColumns(){this.columns=[{name:"supplier_id",label:this.$t("supplier_id"),align:"left",field:"supplier_id"},{name:"item_number",label:this.$t("item_number"),align:"left",field:"item_number"},{name:"supplier_item_number",label:this.$t("supplier_item_number"),align:"left",field:"supplier_item_number"}],this.isAdmin&&this.columns.push({name:"action",label:this.$t("action"),align:"left",field:"action"})},prepareSupplierItemNumberList(){return _(this,void 0,void 0,(function*(){try{let e={};this.supplierId&&(e={supplier_id:this.supplierId});const t=yield c.A0.getAllSupplierItemNumbers(e);if(!t.hasOwnProperty("success")||!1===t.success)throw t;let l=t.data;l=l.filter((e=>{const t=e;return t.supplier_id.toLowerCase().includes(this.searchItem)||t.item_number.toLowerCase().includes(this.searchItem)||t.supplier_item_number.toLowerCase().includes(this.searchItem)}));const a=[];for(const[o,i]of Object.entries(l)){logInfo("record",i);const e={id:i.id,supplier_id:i.supplier_id,item_number:i.item_number,supplier_item_number:i.supplier_item_number};a.push(e)}a.sort(((e,t)=>e.supplier_id-t.supplier_id)),this.tableRows=a,this.$forceUpdate()}catch(e){const t=h.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}}))},deleteSupplierItemNumber(e){return _(this,void 0,void 0,(function*(){try{this.showLoading();const t=yield c.A0.deleteSupplierItemNumber(e.id);if(!t.hasOwnProperty("success")||!1===t.hasOwnProperty("success"))throw t;this.tableRows=this.tableRows.filter((t=>t.id!==e.id)),this.showSuccessToast(this.$t("operation_sucessfull"))}catch(t){const e=h.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.hideLoading()}}))}},setup(){return{deleteConfirm:(0,u.KR)(!1),columns:[],tableRows:[],deleting_row:(0,u.KR)({})}}});var v=l(12807),g=l(42315),f=l(44488),y=l(57722),k=l(45262),w=l(82156),C=l(23316),x=l(44189),L=l(3952),F=l(62669),E=l(56384),A=l(88672),S=l(98582),D=l.n(S);const I=(0,v.A)(b,[["render",r]]),T=I;D()(b,"components",{QTable:g.A,QTr:f.A,QTh:y.A,QTd:k.A,QDialog:w.A,QCard:C.A,QCardSection:x.A,QAvatar:L.A,QCardActions:F.A,QBtn:E.A}),D()(b,"directives",{ClosePopup:A.A})},53665:(e,t,l)=>{"use strict";l.d(t,{A:()=>x});var a=l(61758),o=l(68229),i=l.n(o);const s=e=>((0,a.Qi)("data-v-6fbb13d4"),e=e(),(0,a.jt)(),e),n=s((()=>(0,a.Lk)("img",{width:"24",src:i()},null,-1))),r=s((()=>(0,a.Lk)("img",{width:"24",src:i()},null,-1)));function d(e,t,l,o,i,s){const d=(0,a.g2)("q-tooltip"),u=(0,a.g2)("q-icon");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.isAutoTestingOn?((0,a.uX)(),(0,a.Wv)(u,{key:0,class:"text-red-13 auto_testing q-ma-sm",size:"sm",onClick:t[0]||(t[0]=t=>e.saveData())},{default:(0,a.k6)((()=>[n,(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)("Auto Testing")])),_:1})])),_:1})):(0,a.Q3)("",!0),e.isAutoTestingOn?((0,a.uX)(),(0,a.Wv)(u,{key:1,class:"text-red-13 auto_testing q-ma-sm",size:"sm",onClick:t[1]||(t[1]=t=>e.getDocumentData())},{default:(0,a.k6)((()=>[r,(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)("Get Testing Data")])),_:1})])),_:1})):(0,a.Q3)("",!0)],64)}var u=l(82303),c=l(38734),p=l(24622),h=l(18505),m=l(46162),_=l(85487),b=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const v=(0,a.pM)({el:"#app",mixins:[h.A,p.A],props:{},components:{},emits:["setApiData"],data(){return{}},computed:{isAutoTestingOn:function(){let e=!1;return this.$route.query&&"true"===this.$route.query.auto_testing&&(e=!0),e}},mounted:function(){this.docId=this.$route.params.id},methods:{saveData(){return b(this,void 0,void 0,(function*(){try{let e;this.showLoading();let t=new FormData;t.append("doc_id",this.docId),t.append("org_id",(0,_.I)());let l=yield(0,m.L3)();e=yield u.A.post(m.FH.auto_test_add_update_document,t,{headers:{Authorization:l}}),!1===e.data.success?this.showErrorToast(e.data.message):this.showSuccessToast(e.data.message)}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}}))},getDocumentData(){return b(this,void 0,void 0,(function*(){try{let e;this.showLoading();let t=yield(0,m.L3)();e=yield u.A.get((0,_.MV)(m.FH.get_document_data+"?doc_id="+this.docId),{headers:{Authorization:t}}),!1===e.data.success?this.showErrorToast(e.data.message):(this.showSuccessToast(this.$t("pages.messages.TEST_DATA_LOADED")),this.$emit("setApiData",e.data.data))}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}}))}},setup(){return{docId:(0,c.KR)("")}}});var g=l(12807),f=l(50492),y=l(97410),k=l(98582),w=l.n(k);const C=(0,g.A)(v,[["render",d],["__scopeId","data-v-6fbb13d4"]]),x=C;w()(v,"components",{QIcon:f.A,QTooltip:y.A})},68987:(e,t,l)=>{"use strict";l.d(t,{A:()=>Q});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-6142bf68"),e=e(),(0,a.jt)(),e),s=i((()=>(0,a.Lk)("span",{class:"text-weight-bold"},null,-1))),n={class:"main-container highlighted-back"},r={draggable:"true",class:"split-img-main box"},d=["data-page-id","src","onLoad"],u={class:"img-number"},c={class:"doc-splitter"},p=i((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1))),h={class:"q-ml-sm"};function m(e,t,l,i,m,_){const b=(0,a.g2)("q-toolbar-title"),v=(0,a.g2)("q-btn"),g=(0,a.g2)("q-toolbar"),f=(0,a.g2)("f-btn"),y=(0,a.g2)("q-card-actions"),k=(0,a.g2)("q-icon"),w=(0,a.g2)("q-card-section"),C=(0,a.g2)("q-inner-loading"),x=(0,a.g2)("q-avatar"),L=(0,a.g2)("q-card"),F=(0,a.g2)("q-dialog"),E=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(L,{class:"split-doc-card"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("split_document")),1),s])),_:1}),(0,a.bo)((0,a.bF)(v,{flat:"",round:"",dense:"",icon:"close"},null,512),[[E]])])),_:1}),(0,a.bF)(y,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(f,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[E]]),(0,a.bF)(f,{type:"submit",class:"q-mr-sm",label:e.$t("confirm"),onClick:t[0]||(t[0]=t=>e.split_action_confirm=!0)},null,8,["label"])])),_:1}),(0,a.bF)(w,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.images,((l,i)=>((0,a.uX)(),(0,a.CE)("span",{key:i,class:"box-parent"},[(0,a.Lk)("div",r,[(0,a.bF)(k,{flat:"",dense:"","data-page-id":i,name:"cancel",size:"20px",color:"red",class:"img-delete",onClick:e.deletePage},null,8,["data-page-id","onClick"]),(0,a.Lk)("img",{"data-page-id":i,src:e.baseUrl+"/"+l.path+"?"+e.tokenQueryParam,class:"shadow-5 split-img",style:{height:"auto"},onLoad:t=>{e.imageLoaded(t,i)}},null,40,d),(0,a.Lk)("span",u,(0,o.v_)(i+1),1)]),(0,a.Lk)("span",c,[(0,a.Lk)("span",{class:"splitter-span",onClick:t[1]||(t[1]=(...t)=>e.addSplit&&e.addSplit(...t)),style:(0,o.Tr)({height:e.splitterHeight+"px"})},null,4)])])))),128))])])),_:1}),(0,a.bF)(C,{showing:e.processing},{default:(0,a.k6)((()=>[p])),_:1},8,["showing"]),(0,a.bF)(F,{modelValue:e.split_action_confirm,"onUpdate:modelValue":t[3]||(t[3]=t=>e.split_action_confirm=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(w,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(x,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(w,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",h,(0,o.v_)(e.$t("confirm_split_message")),1)])),_:1}),(0,a.bF)(y,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(f,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[E]]),(0,a.bo)((0,a.bF)(f,{label:e.$t("proceed"),onClick:t[2]||(t[2]=t=>e.performDocumentSplit())},null,8,["label"]),[[E]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var _=l(1659),b=l(24622),v=l(38734),g=l(68450),f=l(46162),y=l(64233),k=l(64775),w=l(96075),C=l(11470),x=l(83319),L=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const F=(0,a.pM)({el:"#app",mixins:[y.A,b.A],props:{},components:{},data(){return{dragSrcEl:{}}},mounted:function(){this.initView()},watch:{},methods:{handleDragStart(e){e.target.style.opacity="0.4",this.dragSrcEl=e.target,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.target.innerHTML)},handleDragEnd(e){e.target.style.opacity="1";let t=document.querySelectorAll(".main-container .box");t.forEach((function(e){e.classList.remove("over")}))},handleDragOver(e){return e.preventDefault(),!1},handleDragEnter(e){e.target.classList.add("over")},handleDragLeave(e){e.target.classList.remove("over")},handleDrop(e){if(e.stopPropagation(),this.dragSrcEl!==e.target){this.dragSrcEl.innerHTML=e.target.innerHTML,e.target.innerHTML=e.dataTransfer.getData("text/html");const t=e.target.querySelector(".img-delete");t&&t.addEventListener("click",this.deletePage);const l=this.dragSrcEl.querySelector(".img-delete");l&&l.addEventListener("click",this.deletePage)}return!1},deletePage(e){let t=e.target;if(!t)return;let l=t.parentNode;if(!l)return;let a=l.parentNode;if(!a)return;const o=Number(t.dataset.pageId)+1;this.deleted_indexes.push(o),a.remove()},imageLoaded(e,t){this.image_load_count++,this.image_load_count>this.images.length&&(this.image_load_count=this.images.length),this.image_load_count===this.images.length&&(this.splitterHeight=e.target.offsetHeight+56,this.processing=!1,this.afterEvents())},afterEvents(){let e=document.querySelectorAll(".main-container .box");e.forEach((e=>{e.addEventListener("dragstart",this.handleDragStart),e.addEventListener("dragend",this.handleDragEnd),e.addEventListener("dragover",this.handleDragOver),e.addEventListener("dragenter",this.handleDragEnter),e.addEventListener("dragleave",this.handleDragLeave),e.addEventListener("drop",this.handleDrop)}))},initView(){this.processing=!0;const e=(0,x.q3)(),{record:t}=e;let l=this.handleImageBaseURL(t.images);""!==l&&(this.baseUrl=l),this.image_load_count=0,this.images=(0,w.m)(t.images)},addSplit(e){e.stopPropagation();let t=e.target;const l="split-active";t.classList.contains(l)?t.classList.remove(l):t.classList.add("split-active")},getActiveSplits(){const e=document.querySelectorAll(".split-active");if(e.length<1)return[];const t=document.querySelector(".main-container");if(!t)return[];let l=[];for(var a=0;a<e.length;a++){let o=e[a],i=o.parentNode;if(!i)continue;let s=i.parentNode;if(!s)continue;const n=Array.prototype.indexOf.call(t.children,s);n&&l.push(Number(n)+1)}return l.push(t.children.length),l=this.sortNumbericArray(l),l},getActiveSplitters(){const e="split-active",t=document.querySelectorAll(".splitter-span");if(t.length<1)return[];let l=[];for(var a=0;a<t.length;a++){let o=t[a];if(!o.classList.contains(e))continue;const i=a+1;l.push(i)}return l.push(t.length),l=this.sortNumbericArray(l),l},getArrangedPages(){this.sorted_indexes={};const e=document.querySelectorAll(".split-img");if(e.length<1)return;let t=!1;for(var l=0;l<e.length;l++){let a=e[l];const o=Number(a.dataset.pageId)+1,i=l+1;o!==i&&(t=!0),this.sorted_indexes[i]=o}t||(this.sorted_indexes={})},performDocumentSplit(){return L(this,void 0,void 0,(function*(){try{this.processing=!0;let e={},t=this.getActiveSplitters();if(this.getArrangedPages(),0!==(0,g.Ns)(this.sorted_indexes)&&(e["sorted_indexes"]=JSON.stringify(this.sorted_indexes)),0!==this.deleted_indexes.length&&(e["deleted_indexes"]=this.deleted_indexes.toString()),0!==t.length&&(e["separators"]=t.toString()),0===(0,g.Ns)(e))return this.processing=!1,void this.showFullWidthToast(this.$t("split_empty_warning"));const l=yield C.M8.performDocSplit(e,this.record.doc_id);if(!l||l.hasOwnProperty("success")&&!1===l.success)throw l;!0===l.success&&(this.showSuccessToast(this.$t("split_success_message")),this.setDocLockStoreDisable(),setTimeout((()=>{this.$router.push("/dashboard")}),0))}catch(e){const t=k.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1}}))}},setup(){const e=(0,x.q3)(),{record:t}=(0,_.bP)(e),l=(0,x._6)(),{tokenQueryParam:a}=(0,_.bP)(l);l.getTokenQueryParam();const o=(0,x.oI)(),{setDocLockStoreDisable:i}=o;let s=[];return{setDocLockStoreDisable:i,record:t,images:(0,v.KR)(s),processing:(0,v.KR)(!1),baseUrl:f.VA,split_action_confirm:(0,v.KR)(!1),splitterHeight:(0,v.KR)(120),image_load_count:(0,v.KR)(0),deleted_indexes:(0,v.KR)([]),sorted_indexes:(0,v.KR)({}),tokenQueryParam:a}}});var E=l(12807),A=l(23316),S=l(36914),D=l(39150),I=l(56384),T=l(62669),O=l(44189),M=l(50492),R=l(39035),P=l(82156),q=l(3952),V=l(88672),N=l(98582),B=l.n(N);const $=(0,E.A)(F,[["render",m],["__scopeId","data-v-6142bf68"]]),Q=$;B()(F,"components",{QCard:A.A,QToolbar:S.A,QToolbarTitle:D.A,QBtn:I.A,QCardActions:T.A,QCardSection:O.A,QIcon:M.A,QInnerLoading:R.A,QDialog:P.A,QAvatar:q.A}),B()(F,"directives",{ClosePopup:V.A})},86743:(e,t,l)=>{"use strict";l.d(t,{A:()=>Y});var a=l(61758),o=l(58790),i=l(29104);const s={class:"text-white text-h6 text-weight-bold"},n={class:"q-mt-md"},r={class:"q-mt-md"},d={class:"q-mt-md"},u={class:"q-mt-md"},c={class:"q-mt-md"},p={class:"row items-center"},h={class:"row items-center justify-end q-gutter-sm"},m={class:"q-mt-md"},_={key:0,class:"q-mt-md"},b={class:"ellipsis"},v={key:1,class:"q-mt-md"},g={class:"q-mt-md"};function f(e,t,l,f,y,k){const w=(0,a.g2)("q-toolbar-title"),C=(0,a.g2)("f-btn"),x=(0,a.g2)("q-toolbar"),L=(0,a.g2)("q-separator"),F=(0,a.g2)("q-tooltip"),E=(0,a.g2)("q-icon"),A=(0,a.g2)("q-input"),S=(0,a.g2)("q-select"),D=(0,a.g2)("q-date"),I=(0,a.g2)("q-popup-proxy"),T=(0,a.g2)("q-checkbox"),O=(0,a.g2)("q-item-section"),M=(0,a.g2)("q-item"),R=(0,a.g2)("q-card-section"),P=(0,a.g2)("q-card-actions"),q=(0,a.g2)("q-card"),V=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(q,{flat:"",class:"popup-background"},{default:(0,a.k6)((()=>[(0,a.bF)(x,{class:"pr-0 secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",s,(0,o.v_)(e.$t("add_a_task")),1)])),_:1}),(0,a.bF)(C,{class:"text-white q-mr-xs",flat:"",round:"",dense:"",appearance:"tertiary",icon:"close",onClick:t[0]||(t[0]=t=>e.$emit("closeCreatePopup"))})])),_:1}),(0,a.bF)(L,{class:"separator-space"}),(0,a.bF)(R,{class:"q-pa-md"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.bF)(A,{dense:"",outlined:"",modelValue:e.model.title,"onUpdate:modelValue":t[1]||(t[1]=t=>e.model.title=t),class:"back-white",label:e.$t("name")},{append:(0,a.k6)((()=>[e.errors.hasOwnProperty("title")&&""!=e.errors["title"]?((0,a.uX)(),(0,a.Wv)(E,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.errors["title"]),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])]),(0,a.Lk)("div",r,[(0,a.bF)(S,{dense:"",outlined:"",options:e.taskTypeOptions,class:"back-white",modelValue:e.model.is_notification,"onUpdate:modelValue":t[2]||(t[2]=t=>e.model.is_notification=t),label:e.$t("task_type"),"emit-value":"","map-options":""},null,8,["options","modelValue","label"])]),(0,a.Lk)("div",d,[(0,a.bF)(S,{dense:"",outlined:"",options:e.priorityOptions,class:"back-white",modelValue:e.model.priority,"onUpdate:modelValue":t[3]||(t[3]=t=>e.model.priority=t),label:e.$t("priority"),"emit-value":"","map-options":""},null,8,["options","modelValue","label"])]),(0,a.Lk)("div",u,[(0,a.bF)(S,{dense:"",outlined:"",options:e.statusOptions,class:"back-white",modelValue:e.model.status,"onUpdate:modelValue":t[4]||(t[4]=t=>e.model.status=t),label:e.$t("status"),"emit-value":"","map-options":""},null,8,["options","modelValue","label"])]),(0,a.Lk)("div",c,[(0,a.bF)(A,{dense:"",outlined:"",readonly:"",class:"back-white",modelValue:e.model.deadline,"onUpdate:modelValue":t[11]||(t[11]=t=>e.model.deadline=t),label:e.$t("deadline")},{append:(0,a.k6)((()=>[(0,a.bF)(E,{name:"event",class:"cursor-pointer",onClick:t[10]||(t[10]=(0,i.D$)((()=>{}),["stop"]))},{default:(0,a.k6)((()=>[(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.eW)("Select Date-Time")])),_:1}),(0,a.bF)(I,{cover:"",modelValue:e.show_calender,"onUpdate:modelValue":t[9]||(t[9]=t=>e.show_calender=t),"transition-show":"scale","transition-hide":"scale",ref:"qDateProxy"},{default:(0,a.k6)((()=>[(0,a.bF)(D,{modelValue:e.model.date,"onUpdate:modelValue":[t[7]||(t[7]=t=>e.model.date=t),t[8]||(t[8]=t=>{e.OnDateChange(t)})],minimal:""},{default:(0,a.k6)((()=>[(0,a.Lk)("div",p,[(0,a.bF)(E,{name:"schedule ",class:"icon-grey q-mr-sm",size:"20px"}),(0,a.bF)(S,{dense:"",outlined:"",options:e.timeOptions,class:"back-white",modelValue:e.model.time,"onUpdate:modelValue":[t[5]||(t[5]=t=>e.model.time=t),t[6]||(t[6]=t=>{e.OnTimeChange(t)})],label:e.$t("set_time"),"emit-value":"","map-options":""},null,8,["options","modelValue","label"])]),(0,a.Lk)("div",h,[(0,a.bo)((0,a.bF)(C,{label:e.$t("pages.select_app.close"),appearance:"negative-tertiary"},null,8,["label"]),[[V]]),(0,a.bo)((0,a.bF)(C,{label:"Ok",appearance:"tertiary"},null,512),[[V]])])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue","label"])]),(0,a.Lk)("div",m,[(0,a.bF)(T,{modelValue:e.model["assigned_to_group"],"onUpdate:modelValue":[t[12]||(t[12]=t=>e.model["assigned_to_group"]=t),e.resetAssigned],label:e.$t("assigned_to_group")},null,8,["modelValue","label","onUpdate:modelValue"])]),e.model["assigned_to_group"]?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.bF)(S,{clearable:"","use-input":"",dense:"",outlined:"",onFilter:e.filterGroupsEvent,options:e.filteredGroupList,loading:e.groups_loading,"emit-value":"","map-options":"",class:"back-white",modelValue:e.model.assigned_to_group_id,"onUpdate:modelValue":t[13]||(t[13]=t=>e.model.assigned_to_group_id=t),label:e.$t("assigned_to_group"),"hide-dropdown-icon":""},{"selected-item":(0,a.k6)((e=>[(0,a.Lk)("div",b,(0,o.v_)(e.opt.label),1)])),"no-option":(0,a.k6)((()=>[(0,a.bF)(M,null,{default:(0,a.k6)((()=>[(0,a.bF)(O,null,{default:(0,a.k6)((()=>[(0,a.eW)(" No results ")])),_:1})])),_:1})])),append:(0,a.k6)((()=>[e.errors.hasOwnProperty("assigned_to_group_id")&&""!=e.errors["assigned_to_group_id"]?((0,a.uX)(),(0,a.Wv)(E,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.errors["assigned_to_group_id"]),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["onFilter","options","loading","modelValue","label"])])):(0,a.Q3)("",!0),e.model["assigned_to_group"]?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",v,[(0,a.bF)(S,{clearable:"","use-input":"",dense:"",outlined:"","hide-dropdown-icon":"",onFilter:e.filterUsersEvent,options:e.filteredUserList,loading:e.user_list_loading,"emit-value":"","map-options":"",class:"back-white",modelValue:e.model.assigned_to_user_id,"onUpdate:modelValue":t[14]||(t[14]=t=>e.model.assigned_to_user_id=t),label:e.$t("assigned_to")},{append:(0,a.k6)((()=>[e.errors.hasOwnProperty("assigned_to_user_id")&&""!=e.errors["assigned_to_user_id"]?((0,a.uX)(),(0,a.Wv)(E,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.errors["assigned_to_user_id"]),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),"no-option":(0,a.k6)((()=>[(0,a.bF)(M,null,{default:(0,a.k6)((()=>[(0,a.bF)(O,null,{default:(0,a.k6)((()=>[(0,a.eW)(" No results ")])),_:1})])),_:1})])),_:1},8,["onFilter","options","loading","modelValue","label"])])),(0,a.Lk)("div",g,[(0,a.bF)(A,{dense:"",outlined:"",modelValue:e.model.description,"onUpdate:modelValue":t[15]||(t[15]=t=>e.model.description=t),class:"back-white",label:e.$t("description"),type:"textarea"},null,8,["modelValue","label"])])])),_:1}),(0,a.bF)(P,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(C,{appearance:"cancel",label:e.$t("cancel"),onClick:t[16]||(t[16]=t=>e.$emit("closeCreatePopup"))},null,8,["label"]),(0,a.bF)(C,{label:e.$t("create"),onClick:e.save,class:"q-mr-sm"},null,8,["label","onClick"])])),_:1})])),_:1})}var y=l(1659),k=l(24622),w=l(38734),C=l(83319),x=l(11470),L=l(91486),F=l(36246),E=l(64775),A=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const{addToDate:S}=F.Ay,D=(0,a.pM)({props:{},mixins:[k.A],emits:["closeCreatePopup","refreshTasks"],watch:{doc_loaded:{handler:function(e,t){this.initView()}}},components:{},data(){return{taskTypeOptions:[{label:this.$t("task"),value:!1},{label:this.$t("notification"),value:!0}]}},mounted:function(){this.initView()},methods:{initView(){try{this.priorityOptions=L.G.map((e=>({label:this.$t("pages.support."+e),value:e}))),this.statusOptions=L.E.map((e=>({label:this.$t(e),value:e}))),this.makeTimeOptions(),this.loadUserList(),this.loadGroupsList(),this.model.time=this.getDeadlineTime(),this.model.is_notification=this.taskTypeOptions[0].value,this.model.priority="medium",this.model.status="open",this.model.assigned_to_group=!1,this.model.assigned_to_user_id=null;const e=S(new Date,{days:1});this.model.date=F.Ay.formatDate(e,this.task_date_format),this.model.deadline=this.makeDeadline(this.model.time,this.model.date)}catch(e){logInfo(e)}},loadUserList(){this.filteredUserList=this.usersList},loadGroupsList(){this.filteredGroupList=this.group_list},OnTimeChange(e){const t=this.makeDeadline(e,this.model.date);this.model.deadline=t},OnDateChange(e){const t=this.makeDeadline(this.model.time,e);this.model.deadline=t},filterGroupsEvent(e,t,l){e.length<1?l():t((()=>{const t=e.toLowerCase();this.filteredGroupList=this.group_list.filter((e=>e.label.toLowerCase().startsWith(t)))}))},filterUsersEvent(e,t,l){e.length<1?l():t((()=>{const t=e.toLowerCase();this.filteredUserList=this.usersList.filter((e=>e.label.toLowerCase().startsWith(t)))}))},save(){return A(this,void 0,void 0,(function*(){try{if(!this.validateForm())return;const e={};e["title"]=this.model.title,e["is_notification"]=this.model.is_notification,e["priority"]=this.model.priority,e["status"]=this.model.status,e["deadline"]=this.getIsoFormatDate(this.model.deadline),this.model.assigned_to_group?e["assigned_to_group_id"]=this.model.assigned_to_group_id:e["assigned_to_user_id"]=this.model.assigned_to_user_id,this.model.description&&(e["description"]=this.model.description),this.record&&this.record.doc_id&&(e["document_id"]=this.record.doc_id);const t=yield x.Hg.createTask(e);if(!1===t.success)throw t;this.$emit("closeCreatePopup"),this.$emit("refreshTasks");const l=new CustomEvent("refreshTasks",{});document.dispatchEvent(l)}catch(e){const t=E.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1}}))},validateForm(){this.errors={};let e=!0;return this.model.title||(this.errors["title"]=this.$t("field_required"),e=!1),this.model.assigned_to_group?this.model.assigned_to_group_id||(this.errors["assigned_to_group_id"]=this.$t("field_required"),e=!1):this.model.assigned_to_user_id||(this.errors["assigned_to_user_id"]=this.$t("field_required"),e=!1),e},resetAssigned(){this.errors["assigned_to_group_id"]="",this.errors["assigned_to_user_id"]=""}},setup(){const e=(0,C.q3)(),{record:t}=(0,y.bP)(e),l=(0,C.cY)(),a=(0,w.KR)(l.usersList),{user_list_loading:o,usersList:i}=(0,y.bP)(l),s=(0,C.$i)(),n=(0,w.KR)(s.group_list),{group_list:r,groups_loading:d}=(0,y.bP)(s),u=(0,C.OP)(),{timeOptions:c,task_date_format:p}=(0,y.bP)(u),{makeTimeOptions:h,getDeadlineTime:m,getIsoFormatDate:_,makeDeadline:b}=u;return{makeDeadline:b,getIsoFormatDate:_,getDeadlineTime:m,task_date_format:p,makeTimeOptions:h,group_list:r,groups_loading:d,filteredGroupList:n,user_list_loading:o,usersList:i,filteredUserList:a,record:t,createTaskPopup:(0,w.KR)(!1),model:(0,w.KR)({}),priorityOptions:(0,w.KR)([]),statusOptions:(0,w.KR)([]),show_calender:(0,w.KR)(!1),timeOptions:c,errors:(0,w.KR)({}),processing:(0,w.KR)(!1)}}});var I=l(12807),T=l(23316),O=l(36914),M=l(39150),R=l(10386),P=l(44189),q=l(67837),V=l(50492),N=l(97410),B=l(94940),$=l(48975),Q=l(93692),X=l(80460),W=l(90124),K=l(25173),U=l(62669),j=l(88672),z=l(98582),H=l.n(z);const G=(0,I.A)(D,[["render",f]]),Y=G;H()(D,"components",{QCard:T.A,QToolbar:O.A,QToolbarTitle:M.A,QSeparator:R.A,QCardSection:P.A,QInput:q.A,QIcon:V.A,QTooltip:N.A,QSelect:B.A,QPopupProxy:$.A,QDate:Q.A,QCheckbox:X.A,QItem:W.A,QItemSection:K.A,QCardActions:U.A}),H()(D,"directives",{ClosePopup:j.A})},41843:(e,t,l)=>{"use strict";l.d(t,{A:()=>me});var a=l(61758),o=l(58790),i=l(29104);const s={class:"secondary-c-text text-h6 text-weight-bold"},n={class:"row full-width items-center"},r={class:"row full-width items-center selectable"},d=["onClick"],u={class:"q-ml-auto icon-grey"},c={class:"text-red"},p={class:"row full-width task-sidebar-pagination"},h={key:0,class:"popup-container"},m={class:"popup"};function _(e,t,l,_,b,v){const g=(0,a.g2)("q-toolbar-title"),f=(0,a.g2)("f-btn"),y=(0,a.g2)("q-toolbar"),k=(0,a.g2)("q-separator"),w=(0,a.g2)("q-btn"),C=(0,a.g2)("q-tooltip"),x=(0,a.g2)("q-item-section"),L=(0,a.g2)("q-item"),F=(0,a.g2)("q-list"),E=(0,a.g2)("q-menu"),A=(0,a.g2)("q-card-section"),S=(0,a.g2)("q-card"),D=(0,a.g2)("q-pagination"),I=(0,a.g2)("Create"),T=(0,a.g2)("ShortEdit");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(S,{flat:"",class:(0,o.C4)(["page-background",e.createTaskPopup||e.editTaskPopup?"no-background-color backdrop ":""])},{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:"pr-0"},{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",s,(0,o.v_)(e.$t("tasks")),1)])),_:1}),(0,a.bF)(f,{flat:"",round:"",dense:"",appearance:"tertiary",icon:"close",onClick:t[0]||(t[0]=t=>e.$emit("btnClicked"))})])),_:1}),(0,a.bF)(k,{class:"separator-space"}),(0,a.bF)(A,{class:"q-pa-md pr-0"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.bF)(w,{icon:"add_task",class:"cursor-pointer link-color no-padding-left-right",flat:"",onClick:t[1]||(t[1]=t=>{e.createTaskPopup=!0,e.editTaskPopup=!1})}),(0,a.Lk)("label",{onClick:t[2]||(t[2]=t=>{e.createTaskPopup=!0,e.editTaskPopup=!1}),class:"q-ml-sm cursor-pointer link-color"},(0,o.v_)(e.$t("add_a_task")),1)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.document_related_tasks,((l,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s,class:"row full-width items-center"},[(0,a.bF)(f,{class:"p-4",appearance:"flat",onClick:t=>e.updateStatus(s,l),icon:l.done_task_icon,onMouseover:t=>e.changeIconForOver(s,l),onMouseout:t=>e.changeIconForOut(s,l)},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>["done"==l.status?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t("mark_as_open")),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.$t("mark_as_done")),1)],64))])),_:2},1024)])),_:2},1032,["onClick","icon","onMouseover","onMouseout"]),(0,a.Lk)("label",{class:"icon-grey q-ml-sm cursor-pointer ellipsify",style:{width:"65%"},onClick:t=>e.goToDetail(l.id)},(0,o.v_)(l.title),9,d),(0,a.Lk)("div",u,[(0,a.bF)(w,{flat:"",dense:"",round:"",onClick:t[3]||(t[3]=(0,i.D$)((()=>{}),["stop","prevent"])),icon:"more_vert"},{default:(0,a.k6)((()=>[(0,a.bF)(E,{style:{"min-width":"140px"},"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{dense:""},{default:(0,a.k6)((()=>[(0,a.bF)(L,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(x,{onClick:t=>e.updateStatus(s,l)},{default:(0,a.k6)((()=>[(0,a.Lk)("span",null,["done"==l.status?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t("mark_as_open")),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.$t("mark_as_done")),1)],64))])])),_:2},1032,["onClick"])])),_:2},1024),(0,a.bF)(k,{inset:""}),(0,a.bF)(L,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(x,{onClick:t=>e.deleteRecord(s,l)},{default:(0,a.k6)((()=>[(0,a.Lk)("span",c,(0,o.v_)(e.$t("delete")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])])))),128))])])),_:1})])),_:1},8,["class"]),(0,a.Lk)("div",p,[e.total_pages>1?((0,a.uX)(),(0,a.Wv)(D,{key:0,modelValue:e.current_page,"onUpdate:modelValue":t[4]||(t[4]=t=>e.current_page=t),max:e.total_pages,"max-pages":6,"direction-links":"",unelevated:"",color:"black","active-color":"black",class:"doc2-pagination q-ml-auto q-mr-auto",onClick:t[5]||(t[5]=t=>e.nexPageClicked())},null,8,["modelValue","max"])):(0,a.Q3)("",!0)]),e.createTaskPopup||e.editTaskPopup?((0,a.uX)(),(0,a.CE)("div",h,[(0,a.Lk)("div",m,[e.createTaskPopup?((0,a.uX)(),(0,a.Wv)(I,{key:0,onCloseCreatePopup:t[6]||(t[6]=t=>e.createTaskPopup=!1),onRefreshTasks:e.refreshTasks},null,8,["onRefreshTasks"])):(0,a.Q3)("",!0),e.editTaskPopup?((0,a.uX)(),(0,a.Wv)(T,{key:1,onCloseCreatePopup:e.resetEditPopup,selected_record:e.selected_record,onRefreshTasks:e.refreshTasks},null,8,["onCloseCreatePopup","selected_record","onRefreshTasks"])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0)],64)}var b=l(1659),v=l(24622),g=l(38734),f=l(64775),y=l(83319),k=l(86743);const w={class:"secondary-c-text text-h6 text-weight-bold"},C={class:"q-mt-md"},x={class:"q-mt-md"},L={class:"q-mt-md"},F={class:"q-mt-md"},E={class:"row items-center"},A={class:"row items-center justify-end q-gutter-sm"},S={class:"q-mt-md"},D={key:0,class:"q-mt-md"},I={class:"ellipsis"},T={key:1,class:"q-mt-md"};function O(e,t,l,s,n,r){const d=(0,a.g2)("q-toolbar-title"),u=(0,a.g2)("f-btn"),c=(0,a.g2)("q-toolbar"),p=(0,a.g2)("q-tooltip"),h=(0,a.g2)("q-icon"),m=(0,a.g2)("q-input"),_=(0,a.g2)("q-select"),b=(0,a.g2)("q-date"),v=(0,a.g2)("q-popup-proxy"),g=(0,a.g2)("q-checkbox"),f=(0,a.g2)("q-card-section"),y=(0,a.g2)("q-card-actions"),k=(0,a.g2)("q-card"),O=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(k,{flat:"",class:"popup-background"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"pr-0"},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",w,(0,o.v_)(e.$t("edit_task")),1)])),_:1}),(0,a.bF)(u,{flat:"",round:"",dense:"",appearance:"tertiary",icon:"close",onClick:t[0]||(t[0]=t=>e.$emit("closeCreatePopup"))})])),_:1}),(0,a.bF)(f,{class:"q-pa-md"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",C,[(0,a.bF)(m,{dense:"",outlined:"",modelValue:e.model.title,"onUpdate:modelValue":t[1]||(t[1]=t=>e.model.title=t),class:"back-white",label:e.$t("name")},{append:(0,a.k6)((()=>[e.errors.hasOwnProperty("title")&&""!=e.errors["title"]?((0,a.uX)(),(0,a.Wv)(h,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.errors["title"]),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])]),(0,a.Lk)("div",x,[(0,a.bF)(_,{dense:"",outlined:"",options:e.priorityOptions,class:"back-white",modelValue:e.model.priority,"onUpdate:modelValue":t[2]||(t[2]=t=>e.model.priority=t),label:e.$t("priority")},null,8,["options","modelValue","label"])]),(0,a.Lk)("div",L,[(0,a.bF)(_,{dense:"",outlined:"",options:e.statusOptions,class:"back-white",modelValue:e.model.status,"onUpdate:modelValue":t[3]||(t[3]=t=>e.model.status=t),label:e.$t("status")},null,8,["options","modelValue","label"])]),(0,a.Lk)("div",F,[(0,a.bF)(m,{dense:"",outlined:"",readonly:"",class:"back-white",modelValue:e.model.deadline,"onUpdate:modelValue":t[10]||(t[10]=t=>e.model.deadline=t),label:e.$t("deadline")},{append:(0,a.k6)((()=>[(0,a.bF)(h,{name:"event",class:"cursor-pointer",onClick:t[9]||(t[9]=(0,i.D$)((()=>{}),["stop"]))},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.eW)("Select Date-Time")])),_:1}),(0,a.bF)(v,{cover:"",modelValue:e.show_calender,"onUpdate:modelValue":t[8]||(t[8]=t=>e.show_calender=t),"transition-show":"scale","transition-hide":"scale",ref:"qDateProxy"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:e.model.date,"onUpdate:modelValue":[t[6]||(t[6]=t=>e.model.date=t),t[7]||(t[7]=t=>{e.OnDateChange(t)})],minimal:""},{default:(0,a.k6)((()=>[(0,a.Lk)("div",E,[(0,a.bF)(h,{name:"schedule ",class:"icon-grey q-mr-sm",size:"20px"}),(0,a.bF)(_,{dense:"",outlined:"",options:e.timeOptions,class:"back-white",modelValue:e.model.time,"onUpdate:modelValue":[t[4]||(t[4]=t=>e.model.time=t),t[5]||(t[5]=t=>{e.OnTimeChange(t)})],label:e.$t("set_time"),"emit-value":"","map-options":""},null,8,["options","modelValue","label"])]),(0,a.Lk)("div",A,[(0,a.bo)((0,a.bF)(u,{label:e.$t("pages.select_app.close"),appearance:"negative-tertiary"},null,8,["label"]),[[O]]),(0,a.bo)((0,a.bF)(u,{label:"Ok",appearance:"tertiary",onClick:e.save},null,8,["onClick"]),[[O]])])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue","label"])]),(0,a.Lk)("div",S,[(0,a.bF)(g,{modelValue:e.model["assigned_to_group"],"onUpdate:modelValue":[t[11]||(t[11]=t=>e.model["assigned_to_group"]=t),e.resetAssigned],label:e.$t("assigned_to_group")},null,8,["modelValue","label","onUpdate:modelValue"])]),e.model["assigned_to_group"]?((0,a.uX)(),(0,a.CE)("div",D,[(0,a.bF)(_,{clearable:"","use-input":"",dense:"",outlined:"",onFilter:e.filterGroupsEvent,options:e.filteredGroupList,loading:e.groups_loading,"emit-value":"","map-options":"",class:"back-white",modelValue:e.model.assigned_to_group_id,"onUpdate:modelValue":t[12]||(t[12]=t=>e.model.assigned_to_group_id=t),label:e.$t("assigned_to_group")},{"selected-item":(0,a.k6)((e=>[(0,a.Lk)("div",I,(0,o.v_)(e.opt.label),1)])),append:(0,a.k6)((()=>[e.errors.hasOwnProperty("assigned_to_group_id")&&""!=e.errors["assigned_to_group_id"]?((0,a.uX)(),(0,a.Wv)(h,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.errors["assigned_to_group_id"]),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["onFilter","options","loading","modelValue","label"])])):(0,a.Q3)("",!0),e.model["assigned_to_group"]?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",T,[(0,a.bF)(_,{clearable:"","use-input":"",dense:"",outlined:"",onFilter:e.filterUsersEvent,options:e.filteredUserList,loading:e.user_list_loading,"emit-value":"","map-options":"",class:"back-white",modelValue:e.model.assigned_to_user_id,"onUpdate:modelValue":t[13]||(t[13]=t=>e.model.assigned_to_user_id=t),label:e.$t("assigned_to")},{append:(0,a.k6)((()=>[e.errors.hasOwnProperty("assigned_to_user_id")&&""!=e.errors["assigned_to_user_id"]?((0,a.uX)(),(0,a.Wv)(h,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.errors["assigned_to_user_id"]),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["onFilter","options","loading","modelValue","label"])]))])),_:1}),(0,a.bF)(y,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{appearance:"cancel",label:e.$t("cancel"),onClick:t[14]||(t[14]=t=>e.$emit("closeCreatePopup"))},null,8,["label"]),(0,a.bF)(u,{label:e.$t("save"),onClick:e.save,class:"q-mr-sm"},null,8,["label","onClick"])])),_:1})])),_:1})}var M=l(11470),R=l(91486),P=l(36246),q=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const{addToDate:V}=P.Ay,N=(0,a.pM)({props:{selected_record:{type:Object,default:()=>({})}},mixins:[v.A],emits:["closeCreatePopup","refreshTasks"],watch:{doc_loaded:{handler:function(e,t){this.initView()}}},components:{},data(){return{}},mounted:function(){this.initView()},methods:{initView(){try{this.model=this.selected_record,this.priorityOptions=R.G.map((e=>({label:this.$t(e),value:e}))),this.statusOptions=R.E.map((e=>({label:this.$t(e),value:e}))),this.makeTimeOptions(),this.model.time=this.getCurrentTimePlus30MinutesRounded(),this.model.priority="medium",this.model.status="open",this.model.assigned_to_group=!1;const e=V(new Date,{days:1});this.model.date=P.Ay.formatDate(e,this.task_date_format),this.makeDeadline(this.model.time,this.model.date)}catch(e){logInfo(e)}},getCurrentTimePlus30MinutesRounded(){var e=new Date,t=new Date(e.getTime()+18e5),l=15*Math.round(t.getMinutes()/15);t.setMinutes(l);var a=t.getHours(),o=t.getMinutes(),i=a>=12?"PM":"AM";a%=12,a=a||12;const s=o<10?"0"+o:o;return a+":"+s+" "+i},OnTimeChange(e){this.makeDeadline(e,this.model.date)},OnDateChange(e){this.makeDeadline(this.model.time,e)},makeDeadline(e,t){e&&t&&(this.model.deadline=t+" "+e)},filterGroupsEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filteredGroupList=this.group_list.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filteredGroupList=this.group_list})},filterUsersEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filteredUserList=this.usersList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filteredUserList=this.usersList})},save(){return q(this,void 0,void 0,(function*(){try{if(!this.validateForm())return;const e=P.Ay.formatDate(this.model.deadline,"YYYY-MM-DDTHH:mm:ss.SSSZ"),t={};t["title"]=this.model.title,t["priority"]=this.model.priority,t["status"]=this.model.status,t["deadline"]=e,this.model.assigned_to_group?t["assigned_to_group_id"]=this.model.assigned_to_group_id:t["assigned_to_user_id"]=this.model.assigned_to_user_id,this.model.description&&(t["description"]=this.model.description),this.record&&this.record.doc_id&&(t["document_id"]=this.record.doc_id);const l=yield M.Hg.editTask(this.model.id,t);if(!1===l.success)throw l;this.$emit("closeCreatePopup"),this.$emit("refreshTasks")}catch(e){const t=f.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1}}))},validateForm(){this.errors={};let e=!0;return this.model.title||(this.errors["title"]=this.$t("field_required"),e=!1),this.model.assigned_to_group?this.model.assigned_to_group_id||(this.errors["assigned_to_group_id"]=this.$t("field_required"),e=!1):this.model.assigned_to_user_id||(this.errors["assigned_to_user_id"]=this.$t("field_required"),e=!1),e},resetAssigned(){this.errors["assigned_to_group_id"]="",this.errors["assigned_to_user_id"]=""}},setup(){const e=(0,y.q3)(),{record:t}=(0,b.bP)(e),l=(0,y.cY)(),a=(0,g.KR)(l.usersList),{user_list_loading:o,usersList:i}=(0,b.bP)(l),s=(0,y.$i)(),n=(0,g.KR)(s.group_list),{group_list:r,groups_loading:d}=(0,b.bP)(s),u=(0,y.OP)(),{timeOptions:c,task_date_format:p}=(0,b.bP)(u),{makeTimeOptions:h}=u;return{timeOptions:c,task_date_format:p,makeTimeOptions:h,group_list:r,groups_loading:d,filteredGroupList:n,user_list_loading:o,usersList:i,filteredUserList:a,record:t,createTaskPopup:(0,g.KR)(!1),model:(0,g.KR)({}),priorityOptions:(0,g.KR)([]),statusOptions:(0,g.KR)([]),show_calender:(0,g.KR)(!1),errors:(0,g.KR)({}),processing:(0,g.KR)(!1)}}});var B=l(12807),$=l(23316),Q=l(36914),X=l(39150),W=l(44189),K=l(67837),U=l(50492),j=l(97410),z=l(94940),H=l(48975),G=l(93692),Y=l(80460),J=l(62669),Z=l(88672),ee=l(98582),te=l.n(ee);const le=(0,B.A)(N,[["render",O]]),ae=le;te()(N,"components",{QCard:$.A,QToolbar:Q.A,QToolbarTitle:X.A,QCardSection:W.A,QInput:K.A,QIcon:U.A,QTooltip:j.A,QSelect:z.A,QPopupProxy:H.A,QDate:G.A,QCheckbox:Y.A,QCardActions:J.A}),te()(N,"directives",{ClosePopup:Z.A});var oe=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const ie=(0,a.pM)({props:{},mixins:[v.A],emits:["btnClicked"],watch:{doc_loaded:{handler:function(e,t){this.initView()}}},components:{Create:k.A,ShortEdit:ae},data(){return{}},mounted:function(){this.initView()},methods:{initView(){return oe(this,void 0,void 0,(function*(){try{this.processing=!0,yield this.prepareUsersDropdown(),yield this.getGroups(),this.data_fetched||(yield this.fetchTasks()),this.data_fetched&&(this.formatTasks(),this.setPagination())}catch(e){const t=f.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1}}))},fetchTasks(){return oe(this,void 0,void 0,(function*(){try{this.processing=!0;const e={};this.record&&this.record.doc_id&&(e["document_id"]=this.record.doc_id),e["status"]="open,in_progress",yield this.getTasks(e),this.formatTasks(),this.setPagination()}catch(e){const t=f.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1}}))},formatTasks(){for(const[e,t]of Object.entries(this.document_related_tasks)){const l=t,a=Number(e);l.done_task_icon="radio_button_unchecked","done"===l.status&&(l.done_task_icon="done"),this.document_related_tasks[a]=l}},setPagination(){this.total_document_tasks>0&&this.setTotalPages()},refreshTasks(){this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.resetPagination(),this.fetchTasks()},deleteRecord(e,t){return oe(this,void 0,void 0,(function*(){try{this.processing=!0;const l=yield M.Hg.deleteTask(t.id);if(!1===l.success)throw l;this.document_related_tasks.splice(e,1),this.document_related_tasks=this.document_related_tasks.filter((e=>e.id!==t.id)),this.total_document_tasks=this.total_document_tasks-1}catch(l){const e=f.t.getErrorMessage(l);this.showErrorToast(e),logError(l)}finally{this.processing=!1}}))},changeIconForOver(e,t){let l="done";"done"===t.status&&(l="radio_button_unchecked"),this.document_related_tasks[e].done_task_icon=l},changeIconForOut(e,t){let l="radio_button_unchecked";"done"===t.status&&(l="done"),this.document_related_tasks[e].done_task_icon=l},updateStatus(e,t){return oe(this,void 0,void 0,(function*(){try{this.processing=!0;const e={status:"done"};"done"===t.status&&(e["status"]="open"),logInfo(e);const l=yield M.Hg.updateTask(t.id,e);if(!1===l.success)throw l;this.fetchTasks()}catch(e){const t=f.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1}}))},editRecord(e,t){this.selected_record=t,this.editTaskPopup=!0,this.createTaskPopup=!1},resetEditPopup(){this.selected_record={},this.editTaskPopup=!1},resetPagination(){this.total_pages=0,this.current_page=1,this.total_document_tasks=0,this.offset=0},setTotalPages(){this.total_pages=Math.ceil(this.total_document_tasks/this.page_size)},calculateOffset(){this.offset=this.page_size*(this.current_page-1)},nexPageClicked(){return oe(this,void 0,void 0,(function*(){try{this.calculateOffset(),yield this.fetchTasks()}catch(e){const t=f.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}}))},goToDetail(e){window.open("/task/"+e,"_blank").focus()}},setup(){const e=(0,y.q3)(),{record:t}=(0,b.bP)(e),l=(0,y.cY)(),{prepareUsersDropdown:a}=l,o=(0,y.$i)(),{getGroups:i}=o,s=(0,y.OP)(),{document_related_tasks:n,tasks_loading:r,total_document_tasks:d,data_fetched:u,offset:c,page_size:p}=(0,b.bP)(s),{getTasks:h}=s;return{data_fetched:u,total_document_tasks:d,document_related_tasks:n,tasks_loading:r,getTasks:h,record:t,getGroups:i,prepareUsersDropdown:a,createTaskPopup:(0,g.KR)(!1),processing:(0,g.KR)(!1),selected_record:(0,g.KR)({}),editTaskPopup:(0,g.KR)(!1),current_page:(0,g.KR)(1),total_pages:(0,g.KR)(0),offset:c,page_size:p}}});var se=l(10386),ne=l(56384),re=l(84436),de=l(53999),ue=l(90124),ce=l(25173),pe=l(54700);const he=(0,B.A)(ie,[["render",_]]),me=he;te()(ie,"components",{QCard:$.A,QToolbar:Q.A,QToolbarTitle:X.A,QSeparator:se.A,QCardSection:W.A,QBtn:ne.A,QTooltip:j.A,QMenu:re.A,QList:de.A,QItem:ue.A,QItemSection:ce.A,QPagination:pe.A,QCheckbox:Y.A})},12682:(e,t,l)=>{"use strict";l.d(t,{A:()=>k});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-badge"),d=(0,a.g2)("q-tooltip"),u=(0,a.g2)("f-btn"),c=(0,a.g2)("q-btn");return e.is_module_on?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[e.is_f_btn?((0,a.uX)(),(0,a.Wv)(u,{key:0,icon:"img:images/task-list.svg",onClick:t[0]||(t[0]=t=>e.$emit("btnClicked")),class:"q-mr-sm"},{default:(0,a.k6)((()=>[e.total_document_tasks>0?((0,a.uX)(),(0,a.Wv)(r,{key:0,color:"red",rounded:"",floating:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.total_document_tasks),1)])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("tasks")),1)])),_:1})])),_:1})):((0,a.uX)(),(0,a.Wv)(c,{key:1,icon:"task_alt",class:"cursor-pointer validation-view-button icon-grey",flat:"",onClick:t[1]||(t[1]=t=>e.$emit("btnClicked"))},{default:(0,a.k6)((()=>[e.total_document_tasks>0?((0,a.uX)(),(0,a.Wv)(r,{key:0,color:"red",rounded:"",floating:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.total_document_tasks),1)])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("tasks")),1)])),_:1})])),_:1}))],64)):(0,a.Q3)("",!0)}var s=l(24622),n=l(38734),r=l(1659),d=l(83319),u=l(64775),c=l(76956),p=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const h=(0,a.pM)({props:{is_f_btn:{type:Boolean,default:!1}},mixins:[s.A],emits:["btnClicked"],components:{},data(){return{taskClearInterval:0}},watch:{doc_loaded:{handler:function(e,t){this.init()}},isConnected:{handler:function(e,t){this.use_websocket=!0}},websocketHasError:{handler:function(e,t){1==e&&(this.use_websocket=!1,this.handleWebsocketDelay())}},tasks_data_flag:{handler:function(e,t){logInfo("tasks_data_flag",e),0!=e&&(this.websocket_data_status="received",this.handleWebSocketResult(this.tasks_data))}},tasks_count:{handler:function(e,t){logInfo("tasks_count",e),this.handleWsCountResult(e)}}},mounted:function(){this.init()},methods:{init(){return p(this,void 0,void 0,(function*(){(yield this.isModuleOn())&&(this.fetchTasks(),window.addEventListener("refresh_tasks",this.fetchTasksEvent))}))},unmounted:function(){window.removeEventListener("refresh_tasks",this.fetchTasksEvent)},tasksInterval(e){clearInterval(this.taskClearInterval),!0===e&&(this.taskClearInterval=setInterval((()=>{this.fetchTasks()}),2e4))},fetchTasksEvent(){this.fetchTasks()},fetchTasks(){return p(this,void 0,void 0,(function*(){try{if(!this.doc_loaded||!this.is_module_on||!this.record.doc_id)return;if(yield this.startSettingsFetch(),this.use_websocket)return void this.terminateLongRunningTask(this.getTasksByWebsocket(),5e3);yield this.getOpenTasks(this.getDocumentId()),setTimeout(this.turnOnWebSocket,5e3)}catch(e){const t=u.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}}))},getDocumentId(){let e="";return this.record&&this.record.doc_id&&(e=this.record.doc_id),e},prepareWsParams(){const e=this.prepareOpenTaskParams(this.getDocumentId()),t=this.makeDefaultParams(e);let l=this.user_settings[c.vp.get_task_and_notification_cache];return l&&(l=JSON.parse(this.user_settings[c.vp.get_task_and_notification_cache]),l.enabled&&(e["cache"]=!0,e["ttl"]=l.ttl)),Object.assign(e,t),e},getTasksByWebsocket(){return p(this,void 0,void 0,(function*(){try{logInfo("fetching tasks by websocket");const e={type:"tasks"};e["data"]=this.prepareWsParams(),logInfo("request",e),this.resetBeforeRequest(e["data"]),this.websocket_data_status="fetching",this.tasks_data_flag=!1,logInfo(e.type,e.data);const t=yield this.sendMessageToSocket(e.type,e.data);return logInfo("getTasksByWebsocket::result",t),this.updateTaskData(t,e["data"]),!0}catch(e){this.handleWebsocketDelay()}}))},turnOnWebSocket(){this.websocketHasError||(this.use_websocket=!0)},handleWebsocketDelay(){"received"!==this.websocket_data_status&&(logInfo("turning off websocket and switching to https",this.websocket_data_status),this.use_websocket=!1,this.fetchTasks(),setTimeout(this.turnOnWebSocket,5e3))},terminateLongRunningTask(e,t){return new Promise(((l,a)=>{const o=setTimeout((()=>{a(new Error("Operation timed out")),this.handleWebsocketDelay()}),t);e.then((e=>{clearTimeout(o),l(e)})).catch((e=>{clearTimeout(o),a(e),this.handleWebsocketDelay()}))}))},handleWebSocketResult(e){if(!e)return;this.use_websocket=!0,logInfo("websocket data received",e);const t={document_id:""};this.$route.fullPath.includes("/field_validation")&&this.$route.params.id===this.getDocumentId()&&(t["document_id"]=this.$route.params.id),this.updateTaskData(e,t)},handleWsCountResult(e){if(logInfo("handleWsCountResult",e),!e||0==e)return;if(this.total_document_tasks==e)return;this.total_document_tasks=e,this.fetchTasks();const t=new CustomEvent("refresh_view",{});document.dispatchEvent(t)}},setup(){const e=(0,d.G6)(),{tasks_data:t,tasks_count:l,tasks_count_data_flag:a,isConnected:o,hasError:i,tasks_data_flag:s}=(0,r.bP)(e),{sendMessageByType:u}=e,c=(0,d.OP)(),{tasks:p,tasks_loading:h,total_records:m,total_document_tasks:_,is_module_on:b}=(0,r.bP)(c),{updateTaskData:v,getOpenTasks:g,isModuleOn:f,prepareOpenTaskParams:y,makeDefaultParams:k,resetBeforeRequest:w}=c,C=(0,d.q3)(),{record:x,doc_loaded:L}=(0,r.bP)(C),F=(0,d.Bu)(),{user_settings:E}=(0,r.bP)(F),{startSettingsFetch:A}=F;return{tasks_data:t,isConnected:o,websocketHasError:i,tasks_data_flag:s,tasks_count:l,tasks_count_data_flag:a,sendMessageToSocket:u,use_websocket:(0,n.KR)(!0),websocket_data_status:"",user_settings:E,startSettingsFetch:A,prepareOpenTaskParams:y,makeDefaultParams:k,resetBeforeRequest:w,updateTaskData:v,is_module_on:b,isModuleOn:f,doc_loaded:L,getOpenTasks:g,tasks:p,tasks_loading:h,total_records:m,total_document_tasks:_,record:x}}});var m=l(12807),_=l(23954),b=l(97410),v=l(56384),g=l(98582),f=l.n(g);const y=(0,m.A)(h,[["render",i]]),k=y;f()(h,"components",{QBadge:_.A,QTooltip:b.A,QBtn:v.A})},56190:(e,t,l)=>{"use strict";l.d(t,{A:()=>f});var a=l(61758),o=l(58790);const i=(0,a.Lk)("img",{src:"images/doc-type.svg",class:"black_to_white"},null,-1);function s(e,t,l,s,n,r){const d=(0,a.g2)("q-item-label"),u=(0,a.g2)("q-item-section"),c=(0,a.g2)("q-item"),p=(0,a.g2)("q-icon"),h=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(h,{outlined:"",dense:"",class:"doc-type-select back-white",disable:e.isReadOnly,modelValue:e.selected_doc_type,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selected_doc_type=t),e.itemClicked],options:e.active_doc_types_sub_types_list,"emit-value":"","map-options":""},{option:(0,a.k6)((t=>[(0,a.bF)(c,(0,a.v6)(t.itemProps,{disable:t.opt.hasDocTypes}),{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[t.opt.doc_type_key?((0,a.uX)(),(0,a.Wv)(d,{key:0,class:(0,o.C4)("pl-20 "+(e.sub_doc_type===t.opt.value?"q-item--active":""))},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.opt.label),1)])),_:2},1032,["class"])):((0,a.uX)(),(0,a.Wv)(d,{key:1},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.opt.label),1)])),_:2},1024))])),_:2},1024)])),_:2},1040,["disable"])])),prepend:(0,a.k6)((()=>[(0,a.bF)(p,{flat:"",dense:"",color:"grey-9"},{default:(0,a.k6)((()=>[i])),_:1})])),_:1},8,["disable","modelValue","options","onUpdate:modelValue"])}var n=l(1659),r=l(83319);const d=(0,a.pM)({props:{isReadOnly:{type:Boolean,default:!1}},mixins:[],components:{},data(){return{}},methods:{itemClicked(){let e=this.sub_types_list.filter((e=>e.value==this.selected_doc_type));e=e[0]||null,e&&e.hasOwnProperty("model_label_id")&&e.model_label_id?(this.selected_custom_model_label=e.model_label_id,this.label_classification_popup=!0):this.restart_classification_popup=!0}},setup(){const e=(0,r.v)(),{restart_classification_popup:t,label_classification_popup:l,selected_custom_model_label:a}=(0,n.bP)(e),o=(0,r.cY)(),{active_doc_types_sub_types_list:i,sub_types_list:s}=(0,n.bP)(o),d=(0,r.q3)(),{selected_doc_type:u,sub_doc_type:c}=(0,n.bP)(d);return{selected_custom_model_label:a,label_classification_popup:l,restart_classification_popup:t,selected_doc_type:u,active_doc_types_sub_types_list:i,sub_doc_type:c,sub_types_list:s}}});var u=l(12807),c=l(94940),p=l(90124),h=l(25173),m=l(13796),_=l(50492),b=l(98582),v=l.n(b);const g=(0,u.A)(d,[["render",s]]),f=g;v()(d,"components",{QSelect:c.A,QItem:p.A,QItemSection:h.A,QItemLabel:m.A,QIcon:_.A})},96179:(e,t,l)=>{"use strict";l.d(t,{A:()=>f});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-item-label"),d=(0,a.g2)("q-item-section"),u=(0,a.g2)("q-item"),c=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(c,{outlined:"",dense:"",clearable:"","use-input":"",disable:e.isReadOnly,modelValue:e.selected_custom_model_label,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected_custom_model_label=t),options:e.filtered_custom_model_label,onFilter:e.filterlistEvent,"emit-value":"","map-options":"",label:e.$t("labels")},{option:(0,a.k6)((t=>[(0,a.bF)(u,(0,a.v6)(t.itemProps,{disable:t.opt.has_child}),{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[t.opt.has_child?((0,a.uX)(),(0,a.Wv)(r,{key:1},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.opt.label),1)])),_:2},1024)):((0,a.uX)(),(0,a.Wv)(r,{key:0,class:(0,o.C4)("pl-20 "+(e.sub_doc_type===t.opt.value?"q-item--active":""))},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.opt.label),1)])),_:2},1032,["class"]))])),_:2},1024)])),_:2},1040,["disable"])])),_:1},8,["disable","modelValue","options","onFilter","label"])}var s=l(1659),n=l(38734),r=l(83319),d=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const u=(0,a.pM)({props:{isReadOnly:{type:Boolean,default:!1}},mixins:[],components:{},data(){return{}},watch:{custom_model_labels_loading:{handler:function(e,t){this.filtered_custom_model_label=this.custom_model_labels_list}}},mounted:function(){this.initView()},methods:{initView(){return d(this,void 0,void 0,(function*(){yield this.getModelLabels(),this.prepareDropdown()}))},filterlistEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filtered_custom_model_label=this.custom_model_labels_list.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filtered_custom_model_label=this.custom_model_labels_list})}},setup(){const e=(0,r.zm)(),{getModelLabels:t,prepareDropdown:l}=e,{custom_model_labels_list:a,custom_model_labels_loading:o}=(0,s.bP)(e),i=(0,r.v)(),{selected_custom_model_label:d}=(0,s.bP)(i);return{custom_model_labels_loading:o,custom_model_labels_list:a,selected_custom_model_label:d,filtered_custom_model_label:(0,n.KR)([]),getModelLabels:t,prepareDropdown:l}}});var c=l(12807),p=l(94940),h=l(90124),m=l(25173),_=l(13796),b=l(98582),v=l.n(b);const g=(0,c.A)(u,[["render",i]]),f=g;v()(u,"components",{QSelect:p.A,QItem:h.A,QItemSection:m.A,QItemLabel:_.A})},72091:(e,t,l)=>{"use strict";l.d(t,{A:()=>k});var a=l(61758),o=l(58790);const i=["innerHTML"],s=(0,a.Lk)("img",{width:"20",src:"images/globe.svg",class:"black_to_white"},null,-1);function n(e,t,l,n,r,d){const u=(0,a.g2)("q-item-label"),c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-item-section"),h=(0,a.g2)("q-item"),m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(_,{outlined:"",dense:"",class:"back-white",modelValue:e.language_origin,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.language_origin=t),t[1]||(t[1]=t=>e.restart_classification_popup=!0)],options:e.language_origin_list,"emit-value":"","map-options":"",disable:e.isReadOnly},{option:(0,a.k6)((e=>[(0,a.bF)(h,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024),e.opt.description?((0,a.uX)(),(0,a.Wv)(c,{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("span",{innerHTML:e.opt.description},null,8,i)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1040)])),prepend:(0,a.k6)((()=>[(0,a.bF)(m,{flat:"",dense:"",color:"primary"},{default:(0,a.k6)((()=>[s])),_:1})])),_:1},8,["modelValue","options","disable"])}var r=l(1659),d=l(83319);const u=(0,a.pM)({props:{isReadOnly:{type:Boolean,default:!1}},mixins:[],components:{},data(){return{}},methods:{},setup(){const e=(0,d.v)(),{restart_classification_popup:t}=(0,r.bP)(e),l=(0,d.q3)(),{language_origin:a}=(0,r.bP)(l),o=(0,d.QJ)(),{language_origins:i}=(0,r.bP)(o);return{restart_classification_popup:t,language_origin:a,language_origin_list:i}}});var c=l(12807),p=l(94940),h=l(90124),m=l(25173),_=l(13796),b=l(97410),v=l(50492),g=l(98582),f=l.n(g);const y=(0,c.A)(u,[["render",n]]),k=y;f()(u,"components",{QSelect:p.A,QItem:h.A,QItemSection:m.A,QItemLabel:_.A,QTooltip:b.A,QIcon:v.A})},74368:(e,t,l)=>{"use strict";l.d(t,{A:()=>Z});var a=l(61758),o=l(58790);const i={class:"row p-t-3 full-width justify-start"},s={class:"col-6"};function n(e,t,l,n,r,d){const u=(0,a.g2)("labelClassificationBtn"),c=(0,a.g2)("docTypeDropdown"),p=(0,a.g2)("LanguageDropdown"),h=(0,a.g2)("RestartClassificationPopup"),m=(0,a.g2)("q-dialog"),_=(0,a.g2)("LabelClassificationPopup"),b=(0,a.g2)("Classification");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",i,[(0,a.Lk)("div",{class:(0,o.C4)(["classify-content",e.isReadOnly||e.hide_reclassify_btn?"":"col-1"])},[e.isReadOnly||e.hide_reclassify_btn?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(u,{key:0}))],2),(0,a.Lk)("div",s,[(0,a.bF)(c,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"])]),(0,a.Lk)("div",{class:(0,o.C4)(["q-pl-sm",e.isReadOnly||e.hide_reclassify_btn?"col-6":"col-5"])},[(0,a.bF)(p,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"])],2)]),(0,a.bF)(m,{modelValue:e.restart_classification_popup,"onUpdate:modelValue":t[0]||(t[0]=t=>e.restart_classification_popup=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"])])),_:1},8,["modelValue"]),(0,a.bF)(m,{modelValue:e.label_classification_popup,"onUpdate:modelValue":t[1]||(t[1]=t=>e.label_classification_popup=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(_,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"])])),_:1},8,["modelValue"]),(0,a.bF)(b)],64)}var r=l(1659),d=l(93829),u=l(83319),c=l(26471);const p={class:"row"},h={class:"col-12 q-mb-sm"},m={class:"col-12 q-mb-sm"},_={class:"col-12 q-mb-sm"};function b(e,t,l,o,i,s){const n=(0,a.g2)("q-toolbar-title"),r=(0,a.g2)("q-btn"),d=(0,a.g2)("q-toolbar"),u=(0,a.g2)("labelsDropdown"),c=(0,a.g2)("LanguageDropdown"),b=(0,a.g2)("PagesDropdown"),v=(0,a.g2)("q-card-section"),g=(0,a.g2)("f-btn"),f=(0,a.g2)("q-card-actions"),y=(0,a.g2)("q-card"),k=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(y,{style:{width:"500px"}},{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(n),(0,a.bo)((0,a.bF)(r,{flat:"",round:"",dense:"",icon:"close",onClick:e.resetClassification},null,8,["onClick"]),[[k]])])),_:1}),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",p,[(0,a.Lk)("div",h,[(0,a.bF)(u,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"])]),(0,a.Lk)("div",m,[(0,a.bF)(c,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"])]),(0,a.Lk)("div",_,[(0,a.bF)(b,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"])])])])),_:1}),e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(f,{key:0,align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(g,{appearance:"cancel",label:e.$t("cancel"),onClick:e.resetClassification},null,8,["label","onClick"]),[[k]]),(0,a.bo)((0,a.bF)(g,{label:e.$t("proceed"),onClick:e.triggerNewClassification},null,8,["label","onClick"]),[[k]])])),_:1}))])),_:1})}var v=l(96179),g=l(72091);function f(e,t,l,o,i,s){const n=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(n,{outlined:"",denses:"",modelValue:e.selected_page,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected_page=t),options:e.pages_list,"emit-value":"","map-options":"",label:e.$t("Start Page")},null,8,["modelValue","options","label"])}const y=(0,a.pM)({props:{isReadOnly:{type:Boolean,default:!1}},mixins:[],components:{},data(){return{}},methods:{},setup(){const e=(0,u.q3)(),{pages_list:t}=(0,r.bP)(e),l=(0,u.v)(),{selected_page:a}=(0,r.bP)(l);return{pages_list:t,selected_page:a}}});var k=l(12807),w=l(94940),C=l(98582),x=l.n(C);const L=(0,k.A)(y,[["render",f]]),F=L;x()(y,"components",{QSelect:w.A});const E=(0,a.pM)({el:"#app",mixins:[],components:{labelsDropdown:v.A,LanguageDropdown:g.A,PagesDropdown:F},props:{isReadOnly:{type:Boolean,default:!0}},mounted:function(){},methods:{resetClassification(){this.resetStore(),this.setDocTypeAndLanguageOrigin()},triggerNewClassification(){this.trigger_classification=!0}},setup(){const e=(0,u.v)(),{resetStore:t}=e,{trigger_classification:l,reset_classification:a}=(0,r.bP)(e),o=(0,u.q3)(),{setDocTypeAndLanguageOrigin:i}=o;return{resetStore:t,trigger_classification:l,reset_classification:a,setDocTypeAndLanguageOrigin:i}}});var A=l(23316),S=l(36914),D=l(39150),I=l(56384),T=l(44189),O=l(62669),M=l(88672);const R=(0,k.A)(E,[["render",b]]),P=R;x()(E,"components",{QCard:A.A,QToolbar:S.A,QToolbarTitle:D.A,QBtn:I.A,QCardSection:T.A,QCardActions:O.A}),x()(E,"directives",{ClosePopup:M.A});const q=e=>((0,a.Qi)("data-v-481c1bf6"),e=e(),(0,a.jt)(),e),V=q((()=>(0,a.Lk)("img",{src:"settings/klassifizierung.svg"},null,-1)));function N(e,t,l,o,i,s){const n=(0,a.g2)("q-tooltip"),r=(0,a.g2)("q-icon");return e.display_btn?((0,a.uX)(),(0,a.Wv)(r,{key:0,class:"q-mr-sm cursor-pointer classification-icon",onClick:e.displayPopup},{default:(0,a.k6)((()=>[V,(0,a.bF)(n,null,{default:(0,a.k6)((()=>[(0,a.eW)("Re-Classifiy Document")])),_:1})])),_:1},8,["onClick"])):(0,a.Q3)("",!0)}var B=l(24622),$=l(38734),Q=l(68450);const X=(0,a.pM)({props:{},mixins:[B.A],watch:{doc_loaded:{handler:function(e,t){this.initView()}}},components:{},data(){return{}},mounted:function(){this.initView()},methods:{initView(){this.record.hasOwnProperty("classification")&&!(0,Q.dd)(this.record.classification)&&(this.display_btn=!0)},displayPopup(){this.label_classification_popup=!0}},setup(){const e=(0,u.q3)(),{record:t,doc_loaded:l}=(0,r.bP)(e),a=(0,u.v)(),{label_classification_popup:o}=(0,r.bP)(a);return{doc_loaded:l,record:t,label_classification_popup:o,display_btn:(0,$.KR)(!1)}}});var W=l(50492),K=l(97410);const U=(0,k.A)(X,[["render",N],["__scopeId","data-v-481c1bf6"]]),j=U;x()(X,"components",{QIcon:W.A,QTooltip:K.A});var z=l(56190),H=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const G=(0,a.pM)({name:"DocumentClassification",props:{isReadOnly:{type:Boolean,default:!1},hide_reclassify_btn:{type:Boolean,default:!1}},mixins:[],components:{Classification:d.A,RestartClassificationPopup:c.A,LabelClassificationPopup:P,labelClassificationBtn:j,docTypeDropdown:z.A,LanguageDropdown:g.A},data(){return{}},mounted:function(){this.initPage()},methods:{initPage(){return H(this,void 0,void 0,(function*(){yield this.getLanguageIfEmpty()}))}},setup(){const e=(0,u.v)(),{restart_classification_popup:t,label_classification_popup:l}=(0,r.bP)(e),a=(0,u.QJ)(),{getLanguageIfEmpty:o}=a,i=(0,u.q3)(),{selected_doc_type:s}=(0,r.bP)(i);return{getLanguageIfEmpty:o,selected_doc_type:s,restart_classification_popup:t,label_classification_popup:l}}});var Y=l(82156);const J=(0,k.A)(G,[["render",n],["__scopeId","data-v-5fb1103f"]]),Z=J;x()(G,"components",{QDialog:Y.A})},85560:(e,t,l)=>{"use strict";l.d(t,{A:()=>_});var a=l(61758);const o={id:"app"};function i(e,t,l,i,s,n){const r=(0,a.g2)("prism-editor");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(r,{class:"special-rules-editor",modelValue:this.current_model["script_data"],"onUpdate:modelValue":t[0]||(t[0]=e=>this.current_model["script_data"]=e),highlight:e.highlighter,"line-numbers":"",tabSize:4},null,8,["modelValue","highlight"])])}var s=l(83319),n=l(1659),r=l(57706),d=l(10828),u=(l(53749),l(75125),l(81623)),c=l.n(u);const p=(0,a.pM)({el:"#app",mixins:[],props:{formatCode:{type:Boolean,required:!0}},components:{PrismEditor:r.N},data(){return{}},mounted:function(){window.pyCodeEditor=this,""===this.current_model["script_data"]&&this.addExampleCode()},unmounted:function(){},watch:{current_model:{handler:function(e,t){""===e["script_data"]&&this.addExampleCode()}},formatCode(e){e&&this.formatCodeScript()}},methods:{async formatCodeScript(){try{this.current_model["script_data"]=await c()(this.current_model["script_data"],{indent_size:4,indent_char:" ",preserve_newlines:!0}),this.$emit("formatComplete",!1)}catch(e){logError("Error formatting Python code:",e)}},highlighter(e){return(0,d.highlight)(e,d.languages.python,"python")},addExampleCode(){this.current_model["script_data"]="\n# This is an Example Code\ndef median(pool):\n    copy = sorted(pool)\n    size = len(copy)\n    if size % 2 == 1:\n        return copy[(size - 1) / 2]\n    else:\n        return (copy[size/2 - 1] + copy[size/2]) / 2\nif __name__ == '__main__':\n    import doctest\n    doctest.testmod()\n      "}},setup(){const e=(0,s.oO)(),{current_model:t}=(0,n.bP)(e);return{current_model:t}}});var h=l(12807);const m=(0,h.A)(p,[["render",i],["__scopeId","data-v-18990b0c"]]),_=m},86124:(e,t,l)=>{"use strict";l.d(t,{A:()=>v});var a=l(61758),o=l(58790);const i=(0,a.Lk)("img",{width:"24",height:"24",src:"images/special_rule.svg"},null,-1);function s(e,t,l,s,n,r){const d=(0,a.g2)("q-tooltip"),u=(0,a.g2)("q-btn");return e.is_script_editor_available||""!=e.selected_doc_type?((0,a.uX)(),(0,a.Wv)(u,{key:0,flat:"",class:"pr-6 pl-6",onClick:e.goToScriptView},{default:(0,a.k6)((()=>[i,(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("add_special_rules")),1)])),_:1})])),_:1},8,["onClick"])):(0,a.Q3)("",!0)}var n=l(83319),r=l(1659),d=l(24622);const u=(0,a.pM)({el:"#app",mixins:[d.A],components:{},props:{},watch:{doc_loaded:{handler:function(e,t){this.init()}},doc_type_loading:{handler:function(e,t){this.init()}}},data(){return{}},mounted:function(){this.init()},methods:{init(){if(!this.doc_loaded)return;const e=this.record.doc_type;let t=this.doc_types_sub_types_list.filter((t=>t.value==e));t=t[0]||null,t&&t.hasOwnProperty("name")&&t.name&&(this.selected_doc_type=t.name)},goToScriptView(){if(!this.doc_loaded)return;this.selected_doc_type||logInfo("missing this.selected_doc_type for url");let e=this.selected_doc_type;this.record.sub_doc_type&&(e=e+"/"+this.record.sub_doc_type);const t="/settings/manage_scripts/"+e;window.open(t,"_blank").focus()}},setup(){const e=(0,n.q3)(),{record:t,doc_loaded:l}=(0,r.bP)(e),a=(0,n.cY)(),{doc_types_sub_types_list:o,doc_type_loading:i}=(0,r.bP)(a),s=(0,n.oO)(),{selected_doc_type:d,is_script_editor_available:u}=(0,r.bP)(s);return{doc_type_loading:i,doc_types_sub_types_list:o,record:t,doc_loaded:l,selected_doc_type:d,is_script_editor_available:u}}});var c=l(12807),p=l(56384),h=l(97410),m=l(98582),_=l.n(m);const b=(0,c.A)(u,[["render",s]]),v=b;_()(u,"components",{QBtn:p.A,QTooltip:h.A})},4995:(e,t,l)=>{"use strict";l.d(t,{A:()=>f});var a=l(61758),o=l(58790);const i={class:"row validation_time_spent_main",style:{width:"250px",float:"right"}},s={key:0,class:"secondary-c-text text-uppercase title q-ml-auto text-right"},n=(0,a.Lk)("div",{class:"secondary-c-text validation_time_spent"},null,-1);function r(e,t,l,r,d,u){return(0,a.uX)(),(0,a.CE)("div",i,[this.isValidationTimeSpentTimerEnable?((0,a.uX)(),(0,a.CE)("div",s,(0,o.v_)(e.$t("time_spent")),1)):(0,a.Q3)("",!0),n])}var d=l(38734),u=l(83319),c=l(1659),p=l(91134),h=l.n(p);function m(e,t){var l=document.createElement("span");l.className="flip-clock__piece",l.innerHTML='<b class="flip-clock__card card"><b class="card__top"></b><b class="card__bottom"></b><b class="card__back"><b class="card__bottom"></b></b></b>',this.el=l;var a=l.querySelector(".card__top"),o=l.querySelector(".card__bottom"),i=l.querySelector(".card__back"),s=l.querySelector(".card__back .card__bottom");this.update=function(e){e=("0"+e).slice(-2),e!==this.currentValue&&(this.currentValue>=0&&(i.setAttribute("data-value",this.currentValue),o.setAttribute("data-value",this.currentValue)),this.currentValue=e,a.innerText=this.currentValue,s.setAttribute("data-value",this.currentValue),this.el.classList.remove("flip"),this.el.offsetWidth,this.el.classList.add("flip"))},this.update(t)}class _{constructor(e,t=!1,l=0,a){h()(this,"el",null),h()(this,"start_clock",!1),h()(this,"timer",null),h()(this,"countdown",null),h()(this,"updateFn",{}),h()(this,"diff",0),h()(this,"callback",(function(){})),h()(this,"timeinterval",null),h()(this,"throttle",0),h()(this,"trackers",{}),h()(this,"first_update",!1),this.diff=l,this.start_clock=t,this.timer=null,this.countdown=!!e&&new Date(Date.parse(e)),this.first_update=!0,a&&(this.callback=a),this.updateFn=e?this.getTimeRemaining:{},this.el=document.createElement("div"),this.el.className="flip-clock",this.trackers={};var o,i=this.updateFn();for(o in i)i[o]<0&&(i[o]=0),"Total"!==o&&"Days"!=o&&("Hours"===o&&i[o]<=0||(this.trackers[o]=new m(o,i[o]),this.el.appendChild(this.trackers[o].el)));this.updateClock()}startClock(e,t){this.countdown=e,this.diff=t,this.start_clock=!0}stopClock(){this.start_clock=!1}updateClock(){try{if(this.timeinterval=requestAnimationFrame(this.updateClock.bind(this)),this.throttle++%30)return;if(!this.start_clock&&!this.first_update)return;this.first_update=!1;var e=this.updateFn();if(e.Total<0){cancelAnimationFrame(this.timeinterval);for(let e in this.trackers)this.trackers[e].update(0);return void this.callback(e)}for(let t in this.trackers)this.trackers[t].update(e[t]);this.callback(e)}catch(t){logError(t)}}getTimeRemaining(){let e=new Date;e=new Date(e.getTime()+1e3*this.diff);var t=Date.parse(e)-this.countdown;return t<0&&(t=0),{Total:t,Days:Math.floor(t/864e5),Hours:Math.floor(t/36e5%24),Minutes:Math.floor(t/1e3/60%60),Seconds:Math.floor(t/1e3%60)}}}const b=(0,a.pM)({el:"#app",props:{},watch:{doc_loaded:{handler:function(){this.initView()}},isValidationTimeSpentTimerEnable:{handler:function(){this.initView()}},doc_saving:{handler:function(e,t){1==e&&this.stopClock()}}},mounted(){this.initView()},unmounted(){try{this.clock&&this.clock.timeinterval&&cancelAnimationFrame(this.clock.timeinterval)}catch(e){}},methods:{initView(){this.isTimerEnabled()&&!this.clock_set&&(this.makeCounter(),this.startClock())},isTimerEnabled(){return!(!this.isValidationTimeSpentTimerEnable||!this.doc_loaded)&&!(!this.record||!this.record.hasOwnProperty("doc_id"))},getParentDivEl(){return!!this.timer_parent_DIV||(this.timer_parent_DIV=document.querySelector(".validation_time_spent"),!!this.timer_parent_DIV)},makeCounter(e=!1){try{if(!this.getParentDivEl())return;this.timer_parent_DIV.innerHTML="",this.clock=new _(new Date,e,this.getTimeDiffInSeconds(),this.timeUpdated),this.timer_parent_DIV.appendChild(this.clock.el),this.clock_set=!0}catch(t){logError(t)}},getTimeDiffInSeconds(){let e=0;return this.record&&this.record.hasOwnProperty("time_spent_on_validation")&&(e=Number(this.record.time_spent_on_validation)),e},startClock(){this.isTimerEnabled()&&this.clock&&!this.clock.start_clock&&this.clock.startClock(new Date,this.getTimeDiffInSeconds())},stopClock(){this.isTimerEnabled()&&this.clock&&this.clock.start_clock&&this.clock.stopClock()},timeUpdated(e){e["Total"]<0||(this.record.time_spent_on_validation=Math.round(e["Total"]/1e3))}},setup(){const e=(0,u.XB)(),{isValidationTimeSpentTimerEnable:t}=(0,c.bP)(e),l=(0,u.q3)(),{record:a,doc_loaded:o,saving:i}=(0,c.bP)(l);return{doc_saving:i,isValidationTimeSpentTimerEnable:t,counter_dateTime:(0,d.KR)({}),doc_loaded:o,record:a,time_spent:(0,d.KR)(0),clock:(0,d.KR)(),timer_parent_DIV:(0,d.KR)(),clock_set:(0,d.KR)(!1)}}});var v=l(12807);const g=(0,v.A)(b,[["render",r]]),f=g},13322:(e,t,l)=>{"use strict";l.d(t,{A:()=>B});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-480dfeac"),e=e(),(0,a.jt)(),e),s={class:"secondary-c-text text-h6 text-weight-bold"},n={class:"q-mt-md"},r={class:"q-mt-md"},d={class:"q-mt-md"},u={class:"q-mt-md"},c={class:"q-mt-md"},p={class:"q-mt-md"},h={id:"screen-button",class:"text-center"},m=i((()=>(0,a.Lk)("div",{id:"display"},null,-1))),_={class:"q-mt-md"};function b(e,t,l,i,b,v){const g=(0,a.g2)("q-card-section"),f=(0,a.g2)("q-seperator"),y=(0,a.g2)("q-input"),k=(0,a.g2)("q-select"),w=(0,a.g2)("q-spinner-hourglass"),C=(0,a.g2)("f-btn"),x=(0,a.g2)("q-icon"),L=(0,a.g2)("q-file"),F=(0,a.g2)("q-card-actions"),E=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(E,{flat:"",class:"page-background scroll-area-height-medi container-height max-width-240"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{class:"row justify-center q-pl-md q-pr-md q-pt-md"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",s,(0,o.v_)(e.$t("pages.support.support_ticket")),1)])),_:1}),(0,a.bF)(f),(0,a.bF)(g,{class:"q-pa-md"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.bF)(y,{dense:"",outlined:"",modelValue:e.supportTicket.fullname,"onUpdate:modelValue":t[0]||(t[0]=t=>e.supportTicket.fullname=t),class:"back-white",label:e.$t("name")},null,8,["modelValue","label"])]),(0,a.Lk)("div",r,[(0,a.bF)(y,{dense:"",outlined:"",modelValue:e.supportTicket.email,"onUpdate:modelValue":t[1]||(t[1]=t=>e.supportTicket.email=t),class:"back-white",label:e.$t("email")},null,8,["modelValue","label"])]),(0,a.Lk)("div",d,[(0,a.bF)(y,{dense:"",outlined:"",modelValue:e.supportTicket.subject,"onUpdate:modelValue":t[2]||(t[2]=t=>e.supportTicket.subject=t),class:"back-white",label:e.$t("pages.import.emaillog.subject")},null,8,["modelValue","label"])]),(0,a.Lk)("div",u,[(0,a.bF)(k,{dense:"",outlined:"",options:e.priorityOptions,class:"back-white",modelValue:e.supportTicket.priority,"onUpdate:modelValue":t[3]||(t[3]=t=>e.supportTicket.priority=t),label:e.$t("priority")},null,8,["options","modelValue","label"])]),(0,a.Lk)("div",c,[(0,a.bF)(y,{dense:"",outlined:"",modelValue:e.supportTicket.message,"onUpdate:modelValue":t[4]||(t[4]=t=>e.supportTicket.message=t),class:"back-white",label:e.$t("pages.support.message"),type:"textarea"},null,8,["modelValue","label"])]),(0,a.Lk)("div",p,[(0,a.Lk)("div",h,[(0,a.bF)(C,{loading:e.loading,class:"full-width",appearance:"secondary",label:e.$t("screenshot"),onClick:t[5]||(t[5]=t=>e.takeScreenshot())},{loading:(0,a.k6)((()=>[(0,a.bF)(w,{class:"on-left"})])),_:1},8,["loading","label"])]),m]),(0,a.Lk)("div",_,[(0,a.bF)(L,{outlined:"",class:"back-white",label:e.$t("pages.integration_settings.upload_file"),modelValue:e.supportTicket.file,"onUpdate:modelValue":t[6]||(t[6]=t=>e.supportTicket.file=t)},{prepend:(0,a.k6)((()=>[(0,a.bF)(x,{name:"attach_file"})])),_:1},8,["label","modelValue"])])])),_:1}),(0,a.bF)(F,{align:"center",class:"q-pb-md"},{default:(0,a.k6)((()=>[(0,a.bF)(C,{color:"primary",unelevated:"",label:e.$t("pages.support.send"),onClick:e.sendSupportTicket},null,8,["label","onClick"])])),_:1})])),_:1})}var v=l(11470),g=l(37299),f=l.n(g),y=l(24622),k=l(18505),w=l(64775),C=l(38734),x=l(16332),L=l(45022),F=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const E=(0,a.pM)({mixins:[k.A,y.A],setup(){return{loading:(0,C.KR)(!1),supportDialog:(0,C.KR)(!1),priorityOptions:(0,C.KR)([{label:x.i18n.t("pages.support.very_high"),value:"Very High"},{label:x.i18n.t("pages.support.high"),value:"High"},{label:x.i18n.t("pages.support.medium"),value:"Medium"},{label:x.i18n.t("pages.support.low"),value:"Low"}]),supportTicket:(0,C.KR)({email:"",message:"",subject:"",screenshot:"",file:"",priority:{label:x.i18n.t("pages.support.medium"),value:"Medium"}})}},mounted(){this.autofillmail()},methods:{autofillmail(){let e=L.A.getItem("user_details");this.supportTicket.email=e.username,this.supportTicket.fullname=e.first_name+" "+e.last_name},takeScreenshot(){this.loading=!0,f()(document.body,{allowTaint:!0,useCORS:!0}).then((e=>{var t,l,a,o,i=e.toDataURL();fetch(i).then((e=>e.blob())).then((e=>{const t=new File([e],"Screenshot.png",{type:"image/png"});this.supportTicket.screenshot=t})),e.style.width="208px",e.style.height="144px",this.loading=!1,logInfo(null===(t=document.getElementById("display"))||void 0===t?void 0:t.appendChild(e)),null===(l=document.getElementById("screen-button"))||void 0===l||l.removeChild(null===(a=document.getElementById("screen-button"))||void 0===a?void 0:a.firstChild);const s=document.createElement("span");s.innerHTML=x.i18n.t("pages.support.screenshot_taken"),s.style.color="green",null===(o=document.getElementById("screen-button"))||void 0===o||o.appendChild(s)}))},checkArrayForEmptyString(){return""===this.supportTicket.email||""===this.supportTicket.message||""===this.supportTicket.fullname||""===this.supportTicket.subject},checkStringIfValidEmail(){return this.supportTicket.email.includes("@")},buildRequestBody(){const e=new FormData;return e.append("fullname",this.supportTicket.fullname),e.append("customer_email",this.supportTicket.email),e.append("subject",this.supportTicket.subject),e.append("priority",this.supportTicket.priority.value),e.append("body",this.supportTicket.message+". DocID: "+this.$route.params.id),""!==this.supportTicket.screenshot&&e.append("screenshot",this.supportTicket.screenshot),""!==this.supportTicket.file&&e.append("attachment",this.supportTicket.file),e},sendSupportTicket(){return F(this,void 0,void 0,(function*(){try{if(this.showLoading(),this.checkArrayForEmptyString())return void this.showErrorToast(this.$t("directscan.fill_all_fields"));if(!this.checkStringIfValidEmail())return void this.showErrorToast(this.$t("pages.messages.invalid_email"));yield this.makeApiCall()}catch(e){let t=w.t.getErrorMessage(e);t.includes("undefined")&&(t=w.t.translate("pages.messages.INVALID_SUPPORT_EMAIL")),this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},makeApiCall(){return F(this,void 0,void 0,(function*(){const e=this.buildRequestBody();return yield v.dn.create_ticket(e).then((e=>{this.hideLoading(),this.showSuccessToast(this.$t("success"))})).catch((e=>{this.hideLoading(),e.message.error.includes("customer")?this.showErrorToast(this.$t("no_email_found")+" "+this.supportTicket.email):this.showErrorToast(this.$t("errors.INVALID_AUTHORIZATION_CODE"))}))}))}}});var A=l(12807),S=l(23316),D=l(44189),I=l(67837),T=l(94940),O=l(63194),M=l(99980),R=l(50492),P=l(62669),q=l(98582),V=l.n(q);const N=(0,A.A)(E,[["render",b],["__scopeId","data-v-480dfeac"]]),B=N;V()(E,"components",{QCard:S.A,QCardSection:D.A,QInput:I.A,QSelect:T.A,QSpinnerHourglass:O.A,QFile:M.A,QIcon:R.A,QCardActions:P.A})},35484:(e,t,l)=>{"use strict";l.d(t,{A:()=>Z});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-6edb4903"),e=e(),(0,a.jt)(),e),n={class:"q-pa-sm"},r={key:0,class:"float-right"},d=s((()=>(0,a.Lk)("div",{class:"text-left sub-table"},"No multi-match Information",-1))),u={class:"compact-table-tr"},c={class:"text-left data-td"},p={class:"text-left data-td"},h={class:"text-left data-td"},m=s((()=>(0,a.Lk)("th",{colspan:"20"},null,-1))),_={class:"text-left data-td"},b={class:"text-left data-td"},v={class:"text-left data-td"},g=s((()=>(0,a.Lk)("td",{colspan:"20"},null,-1))),f={class:"compact-table-tr"},y={class:"text-left data-td"},k={class:"text-right data-td"},w={class:"text-left data-td"},C={class:"text-right data-td"},x={class:"text-left data-td"},L={class:"text-right data-td"},F={class:"text-left data-td"},E={class:"text-right data-td"};function A(e,t,l,s,A,S){const D=(0,a.g2)("q-th"),I=(0,a.g2)("q-tr"),T=(0,a.g2)("q-tooltip"),O=(0,a.g2)("q-img"),M=(0,a.g2)("q-td"),R=(0,a.g2)("q-badge"),P=(0,a.g2)("q-markup-table"),q=(0,a.g2)("q-icon"),V=(0,a.g2)("q-table");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(V,{class:(0,o.C4)(["text-uppercase sticky-header transparent-header table_height",e.custom_class]),rows:e.tableRows,columns:e.tableColumns,"sort-method":e.customSort,"row-key":"id","table-header-style":{backgroundColor:"#d4d4d4"},"rows-per-page-options":[0],id:"po-table",selection:"single","no-data-label":e.$t("no_data_found")},{header:(0,a.k6)((t=>[(0,a.bF)(I,{props:t,class:(0,o.C4)(["",""])},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,((l,s)=>((0,a.uX)(),(0,a.Wv)(D,{key:l.name,props:t,"data-index":s,draggable:"true",dropzone:"true",direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.tableColumns,s),onDrop:(0,i.D$)((t=>e.handleDrop(t,s)),["prevent"]),onDragover:(0,i.D$)((t=>e.onDragOver(t,s)),["prevent"]),onDragenter:(0,i.D$)(e.onDragEnter,["prevent"]),onDragleave:(0,i.D$)(e.onDragLeave,["prevent"]),style:(0,o.Tr)({cursor:e.getIsDragging?"pointer":"move"}),class:(0,o.C4)("po_table_header cursor-move")},{default:(0,a.k6)((()=>["position"==l.label?((0,a.uX)(),(0,a.CE)("span",r,(0,o.v_)(l.label),1)):((0,a.uX)(),(0,a.CE)("span",{key:1,class:(0,o.C4)(l.is_bold||l.name===e.po_quantity_column?"text-weight-bolder font-size-14":"")},(0,o.v_)(l.label),3))])),_:2},1032,["props","data-index","onDragstart","onDrop","onDragover","onDragenter","onDragleave","style"])))),128))])),_:2},1032,["props"])])),body:(0,a.k6)((t=>[(0,a.bF)(I,{props:t,id:t.key,class:(0,o.C4)(["po_iterateable_item compact-table-tr",(t.row["is_draggable"]?"draggable":"un-draggable")+" "+(t.rowIndex," ")+(e.po_line_id_for_match==t.key?"selected_for_match":"")]),tabindex:"0","data-id":t.key},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,(l=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l.name},["buttons"===l.name?((0,a.uX)(),(0,a.Wv)(M,{key:0,"data-id":t.key,class:(0,o.C4)(["actions",t.row["is_draggable"]?"draggable":"un-draggable"])},{default:(0,a.k6)((()=>[e.isChargesModule?((0,a.uX)(),(0,a.Wv)(O,{key:0,onClick:l=>e.toggleExpand(t.row),class:(0,o.C4)([e.getPoLineCharges(t.row.line_number,t.row.sub_line_number)?"cursor-pointer":"item-disabled","icon-grey-svg"]),src:"images/charges/charges.svg",height:"21px",width:"19px",id:"icon_charge"},{default:(0,a.k6)((()=>[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("charges")),1)])),_:1})])),_:2},1032,["onClick","class"])):(0,a.Q3)("",!0)])),_:2},1032,["data-id","class"])):"status"===l.name?((0,a.uX)(),(0,a.Wv)(M,{key:1,"data-id":t.key,class:(0,o.C4)(t.row["is_draggable"]?"draggable":"un-draggable")},{default:(0,a.k6)((()=>[(0,a.bF)(R,{transparent:"",align:"middle",color:e.statusColor(t.row[l.name])},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.row[l.name]),1)])),_:2},1032,["color"])])),_:2},1032,["data-id","class"])):((0,a.uX)(),(0,a.Wv)(M,{key:2,"data-id":t.key,class:(0,o.C4)(t.row["is_draggable"]?"draggable":"un-draggable")},{default:(0,a.k6)((()=>[(0,a.Lk)("span",{class:(0,o.C4)(e.checkIfColumnIsAmount(l.name)?"float-right":"")},(0,o.v_)(e.colValue(t.row,l.name)),3)])),_:2},1032,["data-id","class"]))],64)))),128))])),_:2},1032,["props","id","class","data-id"]),(0,a.bo)((0,a.bF)(I,{props:t},{default:(0,a.k6)((()=>[!e.po_connected_line_items[t.key]||e.po_connected_line_items[t.key].hasOwnProperty("table_line_id")?((0,a.uX)(),(0,a.Wv)(M,{key:0,class:"sub-table-main-td",colspan:"100%"},{default:(0,a.k6)((()=>[d])),_:1})):((0,a.uX)(),(0,a.Wv)(M,{key:1,colspan:"100%",class:"sub-table-main-td"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(P,{class:"sub-table"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",u,[(0,a.Lk)("th",c,(0,o.v_)(e.$t("pages.line_items_columns.POSITION")),1),(0,a.Lk)("th",p,(0,o.v_)(e.$t("quantity")),1),(0,a.Lk)("th",h,(0,o.v_)(e.$t("unit_price")),1),m])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.po_connected_line_items[t.key].table_lines,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:t.table_line_id,class:(0,o.C4)("")},[(0,a.Lk)("td",_,(0,o.v_)(e.lineDataObj[t.table_line_id].columns.POSITION.formatted_value),1),(0,a.Lk)("td",b,(0,o.v_)(e.lineDataObj[t.table_line_id].columns.QUANTITY.formatted_value),1),(0,a.Lk)("td",v,(0,o.v_)(e.lineDataObj[t.table_line_id].columns.UNIT_PRICE.formatted_value),1),g],2)))),128))])])),_:2},1536),[[i.aG,t.expand]])])),_:2},1024))])),_:2},1032,["props"]),[[i.aG,t.expand]]),(0,a.bo)((0,a.bF)(I,{props:t},{default:(0,a.k6)((()=>[(0,a.bF)(M,{colspan:"100",class:"sub-table-main-td"},{default:(0,a.k6)((()=>[(0,a.bF)(P,{class:"sub-table gray-border"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",f,[(0,a.Lk)("th",y,(0,o.v_)(e.$t("charge_id")),1),(0,a.Lk)("th",k,(0,o.v_)(e.$t("amount")),1),(0,a.Lk)("th",w,(0,o.v_)(e.$t("charge_type")),1),(0,a.Lk)("th",C,(0,o.v_)(e.$t("purchase_order_number")),1)])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.row.po_charge_item,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t.line_number},[t.charge_id?((0,a.uX)(),(0,a.CE)("tr",{key:0,class:(0,o.C4)(["compact-table-tr",+l%2==0?"":"alternative-row"])},[(0,a.Lk)("td",x,[e.costingElementDictionary&&e.costingElementDictionary[t.charge_id]?((0,a.uX)(),(0,a.Wv)(q,{key:0,name:"img:images/charges/"+e.costingElementDictionary[t.charge_id].icon,size:"xs",class:"icon-grey-svg q-mr-sm"},null,8,["name"])):(0,a.Q3)("",!0),(0,a.Lk)("span",null,(0,o.v_)(t.charge_id),1)]),(0,a.Lk)("td",L,(0,o.v_)(t.formattedAmount),1),(0,a.Lk)("td",F,(0,o.v_)(t.charge_type),1),(0,a.Lk)("td",E,(0,o.v_)(t.purchase_order_number),1)],2)):(0,a.Q3)("",!0)],64)))),128))])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"]),[[i.aG,t.row.expand]])])),_:1},8,["class","rows","columns","sort-method","no-data-label"])])}var S=l(1659),D=l(24622),I=l(38734),T=l(18505),O=l(10739),M=l(18859),R=l(76956),P=l(62488),q=l(83319),V=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};M.A.table.arrowUp="arrow_drop_down";const N=(0,a.pM)({el:"#app",mixins:[D.A,T.A,O.A],props:{visible_columns:{type:Object,default:()=>({})},po_lines:{type:Array,default:()=>[]},po_number:{type:String,default:""}},components:{},data(){return{AMOUNT_COLUMNS:P.Ng,po_connected_line_items:{},loading_data:!1,isChargesModule:(0,I.KR)(!1),additional_columns:["delivery_number","delivery_line_number"],po_table_columns:R.lv}},mounted:function(){document.addEventListener("init_po_lines",this.loadPurchaseOrderData),this.loadPurchaseOrderData(),this.initailizeDragColumnsById("po-table"),document.addEventListener("po-table-column-drop",this.onDropColumns)},unmounted:function(){document.removeEventListener("init_po_lines",this.loadPurchaseOrderData),document.removeEventListener("po-table-column-drop",this.onDropColumns)},watch:{po_lines:{deep:!0,handler:function(e,t){this.loadPurchaseOrderData()}}},methods:{onDropColumns(){const e={};this.tableColumns.forEach(((t,l)=>{e[t.name]=this.visible_columns[t.name],e[t.name]&&(e[t.name]["order"]=l)})),this.saveOrderColumns(e)},saveOrderColumns(e){return V(this,void 0,void 0,(function*(){try{let t=this.po_table_columns+"_"+this.doctype;yield this.updateSetting(t,JSON.stringify(e))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}}))},checkIfColumnIsAmount(e){let t=!1;return this.AMOUNT_COLUMNS.includes(e.toLowerCase())&&(t=!0),t},colValue(e,t){let l=e[t];return e.hasOwnProperty(t+"_formatted_value")&&(l=e[t+"_formatted_value"]),l},isNotEditable(){return!this.record.editable||this.is_view_readonly},loadPurchaseOrderData(){try{if(this.loading_data)return;this.loading_data=!0,this.setConnectedPoRecords(),this.checkForAdditionalColumns(),this.prepareTableColumn(),this.prepareTableRows(),this.user_settings[R.lZ]&&(this.isChargesModule=!0),this.loading_data=!1}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}},prepareTableColumn(){this.tableColumns=[];let e={name:"buttons",field:"buttons",align:"left",label:"",order:0};this.tableColumns.push(e);let t=!1;Array.from(Object.keys(this.visible_columns)).forEach((e=>{let l=this.visible_columns[e],a={name:l.name,field:l.name,align:"left",label:this.$t(l.translation_key),sortable:!0,is_bold:this.isColumnBold(l.name),order:l.order};this.tableColumns.push(Object.assign({},a)),"purchase_order_number"==l.name&&this.add_additional_columns&&(t=!0,this.addAdditionalColumns())})),!t&&this.add_additional_columns&&this.addAdditionalColumns(),this.tableColumns.sort(((e,t)=>e.order-t.order))},addAdditionalColumns(){let e=25;for(let[t,l]of Object.entries(this.additional_columns)){let t={name:l,field:l,align:"left",label:this.$t(l),sortable:!0,is_bold:this.isColumnBold(l),order:e++};this.tableColumns.push(Object.assign({},t))}},isColumnBold(e){return!1},prepareTableRows(){return V(this,void 0,void 0,(function*(){this.custom_class="",this.tableRows=[],0!=this.po_lines.length&&(yield this.fetchAttributes(this.doctype),this.po_lines.forEach(((e,t)=>{let l={connection_data:{},connected:!1};l["id"]=e.id,l["show_menu"]=!1,l["sub_line_number"]=e.sub_line_number;let a=this.doc_attributes["PO_DISABLED_STATUSES"];a&&a.includes(e.status.toLowerCase())?l["is_draggable"]=!1:l["is_draggable"]=!0,this.po_connected_line_items.hasOwnProperty(e.id)&&(l["connected"]=!0,l["connection_data"]=this.po_connected_line_items[e.id]);for(let[o,i]of Object.entries(this.tableColumns)){const t=i;l[t.name]=this.colValue(e,t.name);let a=t.name+"_value";e.hasOwnProperty(a)&&(l[a]=e[a])}this.tableRows.push(l)})),this.calculateTableHeight())}))},calculateTableHeight(){this.tableRows.length<3&&(this.custom_class="height-20vh")},checkForAdditionalColumns(){0!=this.po_lines.length&&this.po_lines.forEach(((e,t)=>{for(let[l,a]of Object.entries(this.additional_columns))if(e.hasOwnProperty(a)&&null!=e[a]&&""!=e[a]){this.add_additional_columns=!0;break}}))},setConnectedPoRecords(){this.po_connected_line_items={};let e=this.getConnectedLineItems();if(0!=e.length)for(let[t,l]of e.entries())if(l.hasOwnProperty("po_line_id"))this.po_connected_line_items[l.po_line_id]=l;else if(l.hasOwnProperty("sub_lines"))for(let[e,a]of l.sub_lines.entries())this.po_connected_line_items[a.po_line_id]=l},getConnectedLineItems(){let e=[];return this.record?(this.record.hasOwnProperty("po_multi_matched")&&(e=this.record.po_multi_matched),e):e},statusColor(e){return(0,P.qY)(e.toLowerCase())||"primary"},customSort(e,t,l){const a=[...e];let o=t+"_value";return a[0].hasOwnProperty(o)||(o=t),t&&a.sort(((e,a)=>{const i=l?a:e,s=l?e:a;return this.checkIfColumnIsAmount(t)?parseFloat(i[o])-parseFloat(s[o]):i[t]>s[t]?1:i[t]<s[t]?-1:0})),a},toggleExpand(e){return V(this,void 0,void 0,(function*(){const t=this.getPoLineCharges(e.line_number,e.sub_line_number);if(t&&(e.po_charge_item=t,e.po_charge_item))for(const l of e.po_charge_item)l.formattedAmount=yield this.formatAmount(l.amount);e.expand=!e.expand}))},getPoLineCharges(e,t){const l=this.charges[this.po_number];return!(!l||!l[e])&&l[e].filter((e=>e.sub_line_number===t))},formatAmount(e){return V(this,void 0,void 0,(function*(){const t=[];e?t.push({key:e,value:e}):t.push({key:0,value:0});const l=yield this.formatMultiValues(t,"en_US",this.user_settings.AMOUNTS_LOCALE);if(l)return this.searchValueByKey(e,l)}))}},setup(){let e=[];const t=(0,q.wt)(),{model:l}=(0,S.bP)(t),{fetchAttributes:a}=t,o=(0,q.gP)(),{searchValueByKey:i,formatMultiValues:s}=o,n=(0,q.rD)(),{costingElementDictionary:r}=(0,S.bP)(n),d=(0,q.R9)(),{charges:u,PODataObj:c,lineDataObj:p,is_view_readonly:h,po_line_for_match:m,po_quantity_column:_,po_line_id_for_match:b,line_connected_items:v}=(0,S.bP)(d),g=(0,q.q3)(),{record:f,doctype:y}=(0,S.bP)(g),k=(0,q.Bu)(),{user_settings:w}=(0,S.bP)(k),{updateSetting:C}=k;return{charges:u,doctype:y,user_settings:w,updateSetting:C,fetchAttributes:a,searchValueByKey:i,formatMultiValues:s,po_quantity_column:_,line_connected_items:v,po_line_id_for_match:b,po_line_for_match:m,PODataObj:c,record:f,is_view_readonly:h,lineDataObj:p,doc_attributes:l,tableRows:(0,I.KR)(e),tableColumns:(0,I.KR)(e),add_additional_columns:(0,I.KR)(!1),custom_class:(0,I.KR)(""),costingElementDictionary:r}}});var B=l(12807),$=l(42315),Q=l(44488),X=l(57722),W=l(45262),K=l(15046),U=l(97410),j=l(23954),z=l(857),H=l(50492),G=l(98582),Y=l.n(G);const J=(0,B.A)(N,[["render",A],["__scopeId","data-v-6edb4903"]]),Z=J;Y()(N,"components",{QTable:$.A,QTr:Q.A,QTh:X.A,QTd:W.A,QImg:K.A,QTooltip:U.A,QBadge:j.A,QMarkupTable:z.A,QIcon:H.A})},99976:(e,t,l)=>{"use strict";l.d(t,{A:()=>_});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("q-btn"),r=(0,a.gN)("close-popup");return(0,a.bo)(((0,a.uX)(),(0,a.Wv)(n,{label:e.message,class:"cancel-btn-alfred","text-color":"red",flat:"",icon:e.icon},null,8,["label","icon"])),[[r]])}var i=l(38734),s=l(18505),n=l(24622);const r=(0,a.pM)({el:"#app",mixins:[s.A,n.A],props:["label","icon"],mounted(){null!=this.label&&(this.message=this.label)},data(){return{message:(0,i.KR)(this.$t("cancel"))}},methods:{}});var d=l(12807),u=l(56384),c=l(88672),p=l(98582),h=l.n(p);const m=(0,d.A)(r,[["render",o],["__scopeId","data-v-1608f57c"]]),_=m;h()(r,"components",{QBtn:u.A}),h()(r,"directives",{ClosePopup:c.A})},31123:(e,t,l)=>{"use strict";l.d(t,{A:()=>_});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("q-btn"),r=(0,a.gN)("close-popup");return(0,a.bo)(((0,a.uX)(),(0,a.Wv)(n,{label:e.message,class:"default-btn-alfred",flat:"",icon:e.icon},null,8,["label","icon"])),[[r]])}var i=l(38734),s=l(18505),n=l(24622);const r=(0,a.pM)({el:"#app",mixins:[s.A,n.A],props:["label","icon","deactivate"],mounted(){null!=this.label&&(this.message=this.label)},data(){return{message:(0,i.KR)(this.$t("")),button_state:(0,i.KR)(!0)}},methods:{}});var d=l(12807),u=l(56384),c=l(88672),p=l(98582),h=l.n(p);const m=(0,d.A)(r,[["render",o],["__scopeId","data-v-279a7ba1"]]),_=m;h()(r,"components",{QBtn:u.A}),h()(r,"directives",{ClosePopup:c.A})},93760:(e,t,l)=>{"use strict";l.d(t,{A:()=>L});var a=l(61758),o=l(58790),i=l(29104);const s={class:"q-ml-sm"};function n(e,t,l,n,r,d){const u=(0,a.g2)("q-tooltip"),c=(0,a.g2)("q-fab-action"),p=(0,a.g2)("q-avatar"),h=(0,a.g2)("q-card-section"),m=(0,a.g2)("CancelBtn"),_=(0,a.g2)("SaveBtn"),b=(0,a.g2)("q-card-actions"),v=(0,a.g2)("q-card"),g=(0,a.g2)("q-dialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(c,{padding:"5px","label-position":"top",color:"red",icon:"delete_outline",onClick:t[0]||(t[0]=t=>e.confirm=!0)},{default:(0,a.k6)((()=>[e.tooltip?((0,a.uX)(),(0,a.Wv)(u,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.tooltip),1)])),_:1})):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(g,{modelValue:e.confirm,"onUpdate:modelValue":t[2]||(t[2]=t=>e.confirm=t),onKeydown:t[3]||(t[3]=(0,i.jR)((t=>e.confirm=!1),["esc"])),style:{width:"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(v,{style:{width:"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{icon:"delete",color:"red","text-color":"white"}),(0,a.Lk)("span",s,(0,o.v_)(e.$t("doc2light.descriptions.confirm_delete")+" ("+this.info+")"),1)])),_:1}),(0,a.bF)(b,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(m),(0,a.bF)(_,{label:e.$t("doc2light.popups.accept"),onClick:t[1]||(t[1]=t=>this.function(e.argument))},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var r=l(38734),d=l(18505),u=l(24622),c=l(99976),p=l(5255);const h=(0,a.pM)({el:"#app",mixins:[d.A,u.A],props:["function","tooltip","info","argument"],components:{CancelBtn:c.A,SaveBtn:p.A},data(){return{confirm:(0,r.KR)(!1)}},methods:{}});var m=l(12807),_=l(20284),b=l(97410),v=l(82156),g=l(23316),f=l(44189),y=l(3952),k=l(62669),w=l(98582),C=l.n(w);const x=(0,m.A)(h,[["render",n],["__scopeId","data-v-7334c572"]]),L=x;C()(h,"components",{QFabAction:_.A,QTooltip:b.A,QDialog:v.A,QCard:g.A,QCardSection:f.A,QAvatar:y.A,QCardActions:k.A})},5255:(e,t,l)=>{"use strict";l.d(t,{A:()=>_});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("q-btn"),r=(0,a.gN)("close-popup");return(0,a.bo)(((0,a.uX)(),(0,a.Wv)(n,{label:e.message,class:"save-btn","text-color":"primary",unelevated:"",icon:e.icon},null,8,["label","icon"])),[[r]])}var i=l(38734),s=l(18505),n=l(24622);const r=(0,a.pM)({el:"#app",mixins:[s.A,n.A],mounted(){null!=this.label&&(this.message=this.label)},props:["label","icon","breathe"],data(){return{message:(0,i.KR)(this.$t("save"))}},methods:{}});var d=l(12807),u=l(56384),c=l(88672),p=l(98582),h=l.n(p);const m=(0,d.A)(r,[["render",o],["__scopeId","data-v-4ee4e372"]]),_=m;h()(r,"components",{QBtn:u.A}),h()(r,"directives",{ClosePopup:c.A})},59534:(e,t,l)=>{"use strict";l.d(t,{A:()=>X});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-a1bf3520"),e=e(),(0,a.jt)(),e),s={id:"card",class:"text-left white-back",style:{padding:"10px"}},n={style:{"margin-top":"10px"}},r={style:{"margin-bottom":"15px"}},d={class:"row"},u={key:0,class:"col-4",style:{"margin-top":"14px"}},c={key:1,class:"col-5",style:{"margin-top":"14px"}},p=i((()=>(0,a.Lk)("hr",{style:{color:"#cecece"}},null,-1))),h={key:0},m=["onClick"],_={key:0},b={key:1,class:"text-subtitle1 text-grey-10"},v={style:{"margin-top":"10px"}};function g(e,t,l,i,g,f){const y=(0,a.g2)("DefaultBtn"),k=(0,a.g2)("q-select"),w=(0,a.g2)("q-checkbox"),C=(0,a.g2)("CancelBtn"),x=(0,a.g2)("SaveBtn"),L=(0,a.g2)("q-toolbar-title"),F=(0,a.g2)("q-icon"),E=(0,a.g2)("q-item-section"),A=(0,a.g2)("q-item"),S=(0,a.g2)("q-list"),D=(0,a.g2)("q-card-actions"),I=(0,a.gN)("ripple");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",n,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,[(0,a.bF)(k,{filled:"",modelValue:e.store_selection,"onUpdate:modelValue":t[1]||(t[1]=t=>e.store_selection=t),options:e.store_options,label:"Store"},{after:(0,a.k6)((()=>[(0,a.bF)(y,{onClick:t[0]||(t[0]=t=>e.initView()),label:e.$t("select")},null,8,["label"])])),_:1},8,["modelValue","options"])]),(0,a.Lk)("div",d,["popup"==e.mode?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.bF)(w,{modelValue:e.overwrite,"onUpdate:modelValue":t[2]||(t[2]=t=>e.overwrite=t),label:e.$t("doc2light.popups.overwrite"),color:"primary",unelevated:""},null,8,["modelValue","label"])])):(0,a.Q3)("",!0),"popup"==e.mode?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.bF)(C,{label:e.$t("cancel"),style:{"margin-right":"10px"}},null,8,["label"]),(0,a.bF)(x,{label:e.$t("doc2light.pages.upload"),onClick:e.uploadToSpace},null,8,["label","onClick"])])):(0,a.Q3)("",!0)])])),_:1}),p,0!=e.path_array.length?((0,a.uX)(),(0,a.CE)("div",h,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.path_array,((t,l)=>((0,a.uX)(),(0,a.CE)("span",{onClick:l=>e.clickOnPath(t),key:l,class:"text-subtitle1 underliner"},[(0,a.eW)((0,o.v_)(t.label),1),"/"!=t.label?((0,a.uX)(),(0,a.CE)("span",_,"/")):(0,a.Q3)("",!0)],8,m)))),128))])):((0,a.uX)(),(0,a.CE)("span",b,"/"))]),(0,a.Lk)("div",v,[0!=e.apidata.getCurrentFolderFolders.length?((0,a.uX)(),(0,a.Wv)(S,{key:0,bordered:"",padding:"",class:"rounded-borders text-primary dark-back",style:{height:"50vh","overflow-y":"auto"}},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.apidata.getCurrentFolderFolders,((t,l)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(A,{clickable:"",key:l,onClick:l=>e.setCurrentFolder(t)},{default:(0,a.k6)((()=>[(0,a.bF)(E,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(F,{name:"folder"})])),_:1}),(0,a.bF)(E,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.label),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[I]]))),128))])),_:1})):(0,a.Q3)("",!0)]),(0,a.bF)(D)])}var f=l(24622),y=l(38734),k=l(18505),w=l(98872),C=l(1659),x=l(34300),L=l(5255),F=l(99976),E=l(31123),A=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const S=(0,a.pM)({data(){return{}},mixins:[k.A,f.A],components:{CancelBtn:F.A,SaveBtn:L.A,DefaultBtn:E.A},props:["mode","selection"],mounted(){return A(this,void 0,void 0,(function*(){yield this.getStores()}))},methods:{initView(){return A(this,void 0,void 0,(function*(){this.showLoading();try{if(null==this.store_selection)return this.showErrorToast("Please select a store"),void this.hideLoading();yield this.loadStoreContent(this.store_selection.value).then((()=>{this.selected_store_id=this.store_selection.value,logInfo("SELECTED_STORE_ID"+this.selected_store_id),this.hideLoading()})).catch((()=>{this.selected_store_id=this.store_selection.value,this.hideLoading()}))}catch(e){this.hideLoading(),this.showErrorToast("Error while loading files. Please Recheck your token")}}))},getStores(){return A(this,void 0,void 0,(function*(){try{yield x.iT.getAccessableStores().then((e=>{e.exports.forEach((e=>{const t={label:e.name,value:e.id,store:e.store_type};this.store_options.push(t)})),this.store_selection=this.store_options[0],null!=this.store_selection&&this.initView(),logInfo(this.store_options)}))}catch(e){this.showErrorToast("Failed getting authenticated Stores")}}))},uploadToSpace(){return A(this,void 0,void 0,(function*(){const e={label:"",path:this.apidata.getCurrentFolder.path,id:this.apidata.getCurrentFolder.id};try{this.showLoading(),yield this.uploadFiletoSpace(this.selection,e,this.overwrite,this.store_selection.value,this.store_selection.store).then((e=>{!0===e.success?this.showSuccessToast("Files Uploaded to Space"):this.showErrorToast("File(s) could not be uploaded. "+e.message)})),this.hideLoading()}catch(t){this.hideLoading(),this.showErrorToast("Files could not be uploaded. Please try again")}}))},clickOnPath(e){this.setCurrentFolder(e);var t=this.path_array.findIndex((e=>e.id===this.apidata.getCurrentFolder.id));this.path_array.length=t+1},setCurrentFolder(e){this.setFolder(e),"/"==this.apidata.getCurrentFolder.path?this.path_array=[{label:"/",path:"/",id:this.getRootFolder.id,folders:this.getRootFolder.folders,files:this.getRootFolder.files}]:this.path_array.push(this.apidata.getCurrentFolder)}},setup(){const e=(0,w.C)(),t=(0,C.bP)(e),{setFolder:l,uploadFiletoSpace:a,loadStoreContent:o,getRootFolder:i}=e;return{overwrite:(0,y.KR)(!1),loadStoreContent:o,uploadFiletoSpace:a,getRootFolder:i,path_array:(0,y.KR)([{label:"/",path:"/",id:i.id,folders:i.folders,files:i.files}]),apidata:(0,y.KR)(t),store_selection:(0,y.KR)({}),store_options:(0,y.KR)([]),selected_store_id:(0,y.KR)(""),setFolder:l}}});var D=l(12807),I=l(39150),T=l(94940),O=l(80460),M=l(53999),R=l(90124),P=l(25173),q=l(50492),V=l(62669),N=l(65265),B=l(98582),$=l.n(B);const Q=(0,D.A)(S,[["render",g],["__scopeId","data-v-a1bf3520"]]),X=Q;$()(S,"components",{QToolbarTitle:I.A,QSelect:T.A,QCheckbox:O.A,QList:M.A,QItem:R.A,QItemSection:P.A,QIcon:q.A,QCardActions:V.A}),$()(S,"directives",{Ripple:N.A})},23034:(e,t,l)=>{"use strict";l.d(t,{A:()=>K});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-3443cbba"),e=e(),(0,a.jt)(),e),s={key:0,class:"popup-heading color-primary"},n={key:1,class:"popup-heading color-primary"},r={key:0,class:"popup-heading color-primary"},d={key:1,class:"popup-heading color-primary"},u=i((()=>(0,a.Lk)("hr",null,null,-1))),c={class:"row full-width mb-10 mt-8"},p={class:"full-width"},h={class:"q-gutter-md row items-start"},m={key:0},_={key:1},b=i((()=>(0,a.Lk)("div",null,null,-1))),v=[b],g={key:0,style:{"margin-bottom":"20px"},class:"row full-width mb-10 mt-8"},f={class:"full-width"},y={key:1,style:{"margin-bottom":"20px"},class:"row full-width mb-10 mt-8"},k=i((()=>(0,a.Lk)("div",{class:"full-width"},null,-1))),w=[k];function C(e,t,l,i,b,k){const C=(0,a.g2)("q-toolbar-title"),x=(0,a.g2)("CancelBtn"),L=(0,a.g2)("SaveBtn"),F=(0,a.g2)("q-card-actions"),E=(0,a.g2)("q-toolbar"),A=(0,a.g2)("q-input"),S=(0,a.g2)("q-select"),D=(0,a.g2)("q-card-section"),I=(0,a.g2)("q-card"),T=(0,a.g2)("Loader");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(I,{style:{width:"50%"},class:"card-format"},{default:(0,a.k6)((()=>["edit"==e.mode?((0,a.uX)(),(0,a.Wv)(E,{key:0,class:"primary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>["doctype"==e.show?((0,a.uX)(),(0,a.CE)("span",s,(0,o.v_)(e.$t("doc2light.popups.edit_doc_type")),1)):"corresp"==e.show?((0,a.uX)(),(0,a.CE)("span",n,(0,o.v_)(e.$t("doc2light.popups.edit_correspondent")),1)):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(F,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(x),(0,a.bF)(L,{onClick:e.EditItem},null,8,["onClick"])])),_:1})])),_:1})):"create"==e.mode?((0,a.uX)(),(0,a.Wv)(E,{key:1,class:"primary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>["doctype"==e.show?((0,a.uX)(),(0,a.CE)("span",r,(0,o.v_)(e.$t("doc2light.popups.create_new_doc_type")),1)):"corresp"==e.show?((0,a.uX)(),(0,a.CE)("span",d,(0,o.v_)(e.$t("doc2light.popups.add_correspondent")),1)):(0,a.Q3)("",!0)])),_:1}),"create"==e.mode?((0,a.uX)(),(0,a.Wv)(F,{key:0,align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(x),(0,a.bF)(L,{onClick:e.AddItem},null,8,["onClick"])])),_:1})):(0,a.Q3)("",!0)])),_:1})):(0,a.Q3)("",!0),u,(0,a.bF)(D,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",c,[(0,a.Lk)("div",p,[(0,a.bF)(A,{style:{"margin-bottom":"18px"},type:"text",outlined:"",dense:"",tabindex:"0",label:e.$t("doc2light.popups.name"),modelValue:e.field["name"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.field["name"]=t)},null,8,["label","modelValue"])])]),(0,a.Lk)("div",h,[(0,a.Lk)("div",null,[(0,a.Lk)("div",null,[(0,a.bF)(S,{style:{width:"250px"},outlined:"",modelValue:e.field["assignment_algorythm"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.field["assignment_algorythm"]=t),options:e.algorythms,label:e.$t("doc2light.popups.assignment_algorythm"),dense:""},null,8,["modelValue","options","label"])])]),"MatchNone"!=e.field["assignment_algorythm"]&&"MatchAI"!=e.field["assignment_algorythm"]?((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("div",null,[(0,a.bF)(A,{style:{width:"260px"},type:"number",outlined:"",dense:"",label:e.$t("priority"),modelValue:e.field["priority"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.field["priority"]=t),rules:[t=>t>-1||e.$t("doc2light.popups.use_positive_number")]},null,8,["label","modelValue","rules"])])])):((0,a.uX)(),(0,a.CE)("div",_,v))]),"MatchNone"!=e.field["assignment_algorythm"]&&"MatchAI"!=e.field["assignment_algorythm"]?((0,a.uX)(),(0,a.CE)("div",g,[(0,a.Lk)("div",f,[(0,a.bF)(A,{type:"text",outlined:"",tabindex:"0",dense:"",label:e.$t("doc2light.popups.assignment_pattern"),modelValue:e.field["assignment_pattern"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.field["assignment_pattern"]=t)},null,8,["label","modelValue"])])])):((0,a.uX)(),(0,a.CE)("div",y,w))])),_:1})])),_:1}),(0,a.bF)(T)],64)}var x=l(38734),L=l(89156),F=l(18505),E=l(24622),A=l(63008),S=l(1659),D=l(5255),I=l(99976),T=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const O=(0,a.pM)({el:"#app",mixins:[F.A,E.A],props:["showSpinner","show","mode","id"],components:{SaveBtn:D.A,CancelBtn:I.A,Loader:L.A},data(){return{}},mounted(){"edit"==this.mode&&this.get_field_values(this.id),this.field["priority"]=0,this.field["assignment_algorythm"]=this.algorythms[0]},methods:{fill_fields(e){"doctype"==this.show?(this.field["name"]=e.name,this.field["assignment_algorythm"]=e.method,this.field["assignment_pattern"]=e.regex,this.field["priority"]=e.priority):"corresp"==this.show&&(this.field["name"]=e.name,this.field["assignment_algorythm"]=e.extraction_type,this.field["assignment_pattern"]=e.regex,this.field["priority"]=e.priority)},get_field_values(e){"doctype"==this.show?this.get_doctype(e).then((e=>{const t=e;this.fill_fields(t.doctype)})):"corresp"==this.show&&this.get_correspondent(e).then((e=>{const t=e;this.fill_fields(t.correspondent)}))},EditItem(){return T(this,void 0,void 0,(function*(){"doctype"==this.show?yield this.update_doctype(this.id,this.field["name"],this.field["priority"],this.field["assignment_algorythm"],this.field["assignment_pattern"]):"corresp"==this.show&&(yield this.update_correspondent(this.id,this.field["name"],this.field["assignment_algorythm"],this.field["assignment_pattern"],this.field["priority"]))}))},AddItem(){return T(this,void 0,void 0,(function*(){logInfo(this.show),"doctype"==this.show?yield this.create_doctype(this.field["name"],this.field["assignment_algorythm"],this.field["assignment_pattern"],this.field["priority"]):"corresp"==this.show&&(void 0==this.field["assignment_pattern"]&&(this.field["assignment_pattern"]=""),yield this.create_correspondent(this.field["name"],this.field["assignment_algorythm"],this.field["assignment_pattern"],this.field["priority"]))}))}},setup(){const e=(0,A.GX)(),{create_doctype:t,get_doctype:l,update_doctype:a,create_correspondent:o,update_correspondent:i,get_correspondent:s}=((0,S.bP)(e),e);return{multiUploaderDialog:(0,x.KR)(!0),create_doctype:t,get_doctype:l,update_correspondent:i,create_correspondent:o,update_doctype:a,get_correspondent:s,uploadedFiles:(0,x.KR)(null),field:(0,x.KR)({}),algorythms:["MatchNone","MatchAll","MatchAny","MatchRegex","MatchAI","MatchLiteral"]}}});var M=l(12807),R=l(23316),P=l(36914),q=l(39150),V=l(62669),N=l(44189),B=l(67837),$=l(94940),Q=l(98582),X=l.n(Q);const W=(0,M.A)(O,[["render",C],["__scopeId","data-v-3443cbba"]]),K=W;X()(O,"components",{QCard:R.A,QToolbar:P.A,QToolbarTitle:q.A,QCardActions:V.A,QCardSection:N.A,QInput:B.A,QSelect:$.A})},65471:(e,t,l)=>{"use strict";l.d(t,{A:()=>j});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-339f8462"),e=e(),(0,a.jt)(),e),s={key:0,class:"popup-heading color-primary"},n={key:1,class:"popup-heading color-primary"},r=i((()=>(0,a.Lk)("hr",{style:{color:"#cecece"}},null,-1))),d={class:"full-width mb-10 mt-8"},u={class:"full-width"},c={class:"row"},p={class:"col-6 mt-8",style:{}},h=i((()=>(0,a.Lk)("div",{class:"col-1"},null,-1))),m={class:"col-5 mt-8"},_={key:0,class:"full-width"},b={class:"full-width"},v={class:"full-width"},g={key:1,class:"full-width"},f=i((()=>(0,a.Lk)("div",{class:"full-width"},null,-1))),y=[f];function k(e,t,l,i,f,k){const w=(0,a.g2)("q-toolbar-title"),C=(0,a.g2)("CancelBtn"),x=(0,a.g2)("SaveBtn"),L=(0,a.g2)("q-card-actions"),F=(0,a.g2)("q-toolbar"),E=(0,a.g2)("q-input"),A=(0,a.g2)("q-tooltip"),S=(0,a.g2)("q-icon"),D=(0,a.g2)("q-select"),I=(0,a.g2)("q-color"),T=(0,a.g2)("q-popup-proxy"),O=(0,a.g2)("q-card-section"),M=(0,a.g2)("q-card"),R=(0,a.g2)("Loader");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(M,{style:{width:"50%"},class:"card-format"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"primary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(w,null,{default:(0,a.k6)((()=>["create"==e.mode?((0,a.uX)(),(0,a.CE)("span",s,(0,o.v_)(e.$t("doc2light.popups.create_new_tag")),1)):"edit"==e.mode?((0,a.uX)(),(0,a.CE)("span",n,(0,o.v_)(e.$t("doc2light.popups.edit_tag")),1)):(0,a.Q3)("",!0)])),_:1}),"create"==e.mode?((0,a.uX)(),(0,a.Wv)(L,{key:0,align:"right",style:{"margin-right":"9px"}},{default:(0,a.k6)((()=>[(0,a.bF)(C,{onClick:t[0]||(t[0]=t=>e.field={})}),(0,a.bF)(x,{onClick:e.AddItem},null,8,["onClick"])])),_:1})):"edit"==e.mode?((0,a.uX)(),(0,a.Wv)(L,{key:1,align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(C,{onClick:t[1]||(t[1]=t=>e.field={})}),(0,a.bF)(x,{onClick:e.EditItem},null,8,["onClick"])])),_:1})):(0,a.Q3)("",!0)])),_:1}),r,(0,a.bF)(O,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",d,[(0,a.Lk)("div",u,[(0,a.bF)(E,{type:"text",outlined:"",tabindex:"0",dense:"",hint:e.message,label:e.$t("doc2light.popups.name"),modelValue:e.field["name"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.field["name"]=t)},null,8,["hint","label","modelValue"])])]),(0,a.Lk)("div",c,[(0,a.Lk)("div",p,[(0,a.Lk)("div",null,[(0,a.bF)(D,{outlined:"",modelValue:e.field["extraction_method"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.field["extraction_method"]=t),options:e.algorythms,dense:"","emit-value":"","map-options":"",label:e.$t("doc2light.table.regex_rythm")},{append:(0,a.k6)((()=>[e.field["extraction_method_error"]?((0,a.uX)(),(0,a.Wv)(S,{key:0,flat:"",dense:"",name:"error",size:"24px"},{default:(0,a.k6)((()=>[(0,a.bF)(A,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[e.field["extraction_method_error"]?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)(" Field is Required ")],64)):(0,a.Q3)("",!0)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","options","label"])])]),h,(0,a.Lk)("div",m,[(0,a.Lk)("div",null,[(0,a.bF)(E,{outlined:"",dense:"",standout:"",modelValue:e.field["color"],"onUpdate:modelValue":t[5]||(t[5]=t=>e.field["color"]=t),rules:["hexColor"],label:e.$t("doc2light.popups.color")},{append:(0,a.k6)((()=>[(0,a.bF)(S,{name:"colorize",class:"cursor-pointer",color:{"background-color":e.field["color"]}},{default:(0,a.k6)((()=>[(0,a.bF)(T,{"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(I,{modelValue:e.field["color"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.field["color"]=t),"default-view":"palette","no-header-tabs":""},null,8,["modelValue"])])),_:1})])),_:1},8,["color"])])),_:1},8,["modelValue","label"])])])]),"MatchNone"!=e.field["extraction_method"]&&"MatchAI"!=e.field["extraction_method"]?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.Lk)("div",b,(0,o.v_)(e.$t("This will overwrite the AI-Results")),1),(0,a.Lk)("div",v,[(0,a.bF)(E,{type:"text",outlined:"",dense:"",label:e.$t("doc2light.table.regex"),modelValue:e.field["regex"],"onUpdate:modelValue":t[6]||(t[6]=t=>e.field["regex"]=t)},null,8,["label","modelValue"])])])):((0,a.uX)(),(0,a.CE)("div",g,y))])),_:1})])),_:1}),(0,a.bF)(R)],64)}var w=l(38734),C=l(89156),x=l(99976),L=l(5255),F=l(18505),E=l(24622),A=l(63008),S=l(1659),D=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const I=(0,a.pM)({el:"#app",mixins:[F.A,E.A],props:["showSpinner","mode","id"],components:{SaveBtn:L.A,CancelBtn:x.A,Loader:C.A},data(){return{}},mounted(){this.initView(),"edit"==this.mode&&this.get_field_values()},methods:{get_field_values(){this.get_tag(this.id).then((e=>this.fill_fields(e)))},fill_fields(e){this.field["name"]=e.tag.tag,this.field["extraction_method"]=e.tag.extraction_type,this.field["regex"]=e.tag.regex,this.field["color"]=e.tag.color},initView(){this.field["extraction_method"]=this.algorythms[0]},EditItem(){return D(this,void 0,void 0,(function*(){yield this.update_tag(this.id,this.field["name"],this.field["extraction_method"],this.field["regex"],this.field["color"])}))},AddItem(){return D(this,void 0,void 0,(function*(){yield this.create_tag(this.field["name"],this.field["extraction_method"],this.field["regex"],this.field["color"])}))}},setup(){const e=(0,A.GX)(),t=(0,S.bP)(e),{create_tag:l,update_tag:a,get_tag:o}=e;return{apidata:(0,w.KR)(t),create_tag:l,update_tag:a,get_tag:o,algorythms:["MatchNone","MatchAll","MatchAny","MatchRegex","MatchAI","MatchLiteral"],field:(0,w.KR)({})}}});var T=l(12807),O=l(23316),M=l(36914),R=l(39150),P=l(62669),q=l(44189),V=l(67837),N=l(94940),B=l(50492),$=l(97410),Q=l(48975),X=l(80483),W=l(98582),K=l.n(W);const U=(0,T.A)(I,[["render",k],["__scopeId","data-v-339f8462"]]),j=U;K()(I,"components",{QCard:O.A,QToolbar:M.A,QToolbarTitle:R.A,QCardActions:P.A,QCardSection:q.A,QInput:V.A,QSelect:N.A,QIcon:B.A,QTooltip:$.A,QPopupProxy:Q.A,QColor:X.A})},44271:(e,t,l)=>{"use strict";l.d(t,{A:()=>M});var a=l(61758),o=l(58790);const i={class:"popup-heading"},s={class:"row"},n={class:"col-3 text-center"},r={class:"col-1 text-center"},d={class:"col-4 text-center"},u={class:"col-1 text-center"},c={class:"col-3 text-center"};function p(e,t,l,p,h,m){const _=(0,a.g2)("q-btn"),b=(0,a.g2)("q-toolbar-title"),v=(0,a.g2)("q-toolbar"),g=(0,a.g2)("q-img"),f=(0,a.g2)("q-icon"),y=(0,a.g2)("q-card-section"),k=(0,a.g2)("DefaultBtn"),w=(0,a.g2)("q-card-actions"),C=(0,a.g2)("q-card"),x=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(C,{class:"download-installer"},{default:(0,a.k6)((()=>[(0,a.bF)(v,{class:"text-center"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(_,{flat:"",round:"",dense:""},null,512),[[x]]),(0,a.bF)(b,{class:"text-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",i,(0,o.v_)(e.$t("doc2light.pages.download_scan_installer")),1)])),_:1}),(0,a.bo)((0,a.bF)(_,{flat:"",round:"",dense:"",icon:"close"},null,512),[[x]])])),_:1}),(0,a.bF)(y,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",s,[(0,a.Lk)("div",n,[(0,a.bF)(g,{id:"image",src:"doc2light/download-13.svg",height:"70px",width:"70px"}),(0,a.Lk)("div",null,(0,o.v_)(e.$t("download")),1)]),(0,a.Lk)("div",r,[(0,a.bF)(f,{name:"double_arrow",size:"40px",style:{"margin-top":"1.5vh"}})]),(0,a.Lk)("div",d,[(0,a.bF)(g,{id:"image",src:"doc2light/ordner-12.svg",height:"70px",width:"80px"}),(0,a.Lk)("div",null,(0,o.v_)(e.$t("doc2light.pages.installing")),1)]),(0,a.Lk)("div",u,[(0,a.bF)(f,{name:"double_arrow",size:"40px",style:{"margin-top":"1.5vh"}})]),(0,a.Lk)("div",c,[(0,a.bF)(g,{id:"image",src:"doc2light/icons-menu_Scan.svg",height:"70px",width:"70px"}),(0,a.Lk)("div",null,(0,o.v_)(e.$t("doc2light.pages.scan")),1)])])])),_:1}),(0,a.bF)(w,{align:"center"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{class:"download-button",label:e.$t("download"),icon:"fab fa-windows",onClick:t[0]||(t[0]=t=>e.downloadInstaller("https://github.com/Fellow-Consulting-AG/Public-Doc2scanner/releases/latest/download/doc2scan-windows-installer.msi"))},null,8,["label"]),(0,a.bF)(k,{class:"download-button",label:e.$t("download"),icon:"apple",onClick:t[1]||(t[1]=t=>e.downloadInstaller("https://github.com/Fellow-Consulting-AG/Public-Doc2scanner/releases/latest/download/doc2scan-macos-installer-x64.pkg "))},null,8,["label"])])),_:1})])),_:1})}var h=l(24622),m=l(38734),_=l(18505),b=l(36246),v=l(31123),g=l(63008),f=l(1659);const y=(0,a.pM)({data(){return{}},components:{DefaultBtn:v.A},mixins:[_.A,h.A],methods:{formateDate(e,t){return b.Ay.formatDate(e,t)},downloadInstaller(e){window.open(e,"_self")}},setup(){const e=(0,g.IO)(),t=(0,f.bP)(e),l=[{value:"Grayscale8",label:"Gray"},{value:"RGB24",label:"Color"}],a=[{value:"300",label:"300"},{value:"600",label:"600"},{value:"1200",label:"1200"}];return{apidata:(0,m.KR)(t),showDragDrop:(0,m.KR)(!0),showDownloadInstaller:(0,m.KR)(!1),myFile:(0,m.KR)(),file:(0,m.KR)(),filedata:(0,m.KR)(),filter:(0,m.KR)(""),view:(0,m.KR)("list"),multiUploaderDialog:(0,m.KR)(!1),uploadedFiles:(0,m.KR)(null),image:(0,m.KR)(),new_scan:(0,m.KR)({}),scanners:(0,m.KR)([]),show_popup:(0,m.KR)(!1),pixeltypes:(0,m.KR)(l),resolutions:(0,m.KR)(a),importing:(0,m.KR)(!1),showSplitButton:(0,m.KR)(!1),showMenu:(0,m.KR)(!1),showIcons:(0,m.KR)(!0),documentScanned:(0,m.KR)(!1),ports:(0,m.KR)(["12500","12154","12346"]),valid_url:(0,m.KR)()}}});var k=l(12807),w=l(23316),C=l(36914),x=l(56384),L=l(39150),F=l(44189),E=l(15046),A=l(50492),S=l(62669),D=l(88672),I=l(98582),T=l.n(I);const O=(0,k.A)(y,[["render",p],["__scopeId","data-v-1614d57a"]]),M=O;T()(y,"components",{QCard:w.A,QToolbar:C.A,QBtn:x.A,QToolbarTitle:L.A,QCardSection:F.A,QImg:E.A,QIcon:A.A,QCardActions:S.A}),T()(y,"directives",{ClosePopup:D.A})},78748:(e,t,l)=>{"use strict";l.d(t,{A:()=>W});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-24fd0c6e"),e=e(),(0,a.jt)(),e),s=i((()=>(0,a.Lk)("span",{class:"text-weight-bold"},null,-1))),n={class:"main-container"},r={draggable:"true",class:"split-img-main box"},d={class:"img-number"},u={class:"doc-splitter"},c=["data-page-id"],p=i((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1))),h={class:"q-ml-sm"};function m(e,t,l,i,m,_){const b=(0,a.g2)("q-toolbar-title"),v=(0,a.g2)("q-btn"),g=(0,a.g2)("q-toolbar"),f=(0,a.g2)("CancelBtn"),y=(0,a.g2)("DefaultBtn"),k=(0,a.g2)("q-card-actions"),w=(0,a.g2)("q-icon"),C=(0,a.g2)("vue-pdf-embed"),x=(0,a.g2)("q-card-section"),L=(0,a.g2)("q-inner-loading"),F=(0,a.g2)("q-avatar"),E=(0,a.g2)("SaveBtn"),A=(0,a.g2)("q-card"),S=(0,a.g2)("q-dialog"),D=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(A,{class:"split-doc-card"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("split_document")),1),s])),_:1}),(0,a.bo)((0,a.bF)(v,{flat:"",round:"",dense:"",icon:"close"},null,512),[[D]])])),_:1}),(0,a.bF)(k,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(f),(0,a.bF)(y,{class:"q-mr-sm",label:e.$t("confirm"),onClick:t[0]||(t[0]=t=>e.split_action_confirm=!0)},null,8,["label"])])),_:1}),(0,a.bF)(x,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.pageCount,(l=>((0,a.uX)(),(0,a.CE)("span",{key:l,class:"box-parent"},[(0,a.Lk)("div",r,[(0,a.bF)(w,{flat:"",dense:"","data-page-id":l,name:"cancel",size:"20px",color:"red",class:"img-delete",onClick:e.deletePage},null,8,["data-page-id","onClick"]),(0,a.bF)(C,{"data-page-id":l,class:"split-img",source:e.doc,page:l},null,8,["data-page-id","source","page"]),(0,a.Lk)("span",d,(0,o.v_)(l),1)]),(0,a.Lk)("span",u,[(0,a.Lk)("span",{class:"splitter-span",onClick:t[1]||(t[1]=(...t)=>e.addSplit&&e.addSplit(...t)),"data-page-id":l,style:(0,o.Tr)({height:e.splitterHeight+"px"})},null,12,c)])])))),128))])])),_:1}),(0,a.bF)(L,{showing:e.processing},{default:(0,a.k6)((()=>[p])),_:1},8,["showing"]),e.split_action_confirm?((0,a.uX)(),(0,a.Wv)(S,{key:0,persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(A,null,{default:(0,a.k6)((()=>[(0,a.bF)(x,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(F,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(x,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",h,(0,o.v_)(e.$t("confirm_split_message")),1)])),_:1}),(0,a.bF)(k,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(f),(0,a.bF)(E,{label:e.$t("proceed"),onClick:t[2]||(t[2]=t=>e.performDocumentSplit())},null,8,["label"])])),_:1})])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1})}var _=l(38734),b=l(46162),v=l(64233),g=l(24622),f=l(68450),y=l(64775),k=l(99976),w=l(97912),C=l(34300),x=l(5255),L=l(31123),F=l(16853),E=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const A=(0,a.pM)({el:"#app",mixins:[v.A,g.A],props:["doc","pageCount","filedata","mode"],components:{SaveBtn:x.A,DefaultBtn:L.A,CancelBtn:k.A,VuePdfEmbed:w.A},data(){return{dragSrcEl:{}}},watch:{},methods:{handleDragStart(e){e.target.style.opacity="0.4",this.dragSrcEl=e.target,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.target.innerHTML)},handleDragEnd(e){e.target.style.opacity="1";let t=document.querySelectorAll(".main-container .box");t.forEach((function(e){e.classList.remove("over")}))},handleDragOver(e){return e.preventDefault(),!1},handleDragEnter(e){e.target.classList.add("over")},handleDragLeave(e){e.target.classList.remove("over")},handleDrop(e){if(e.stopPropagation(),this.dragSrcEl!==e.target){this.dragSrcEl.innerHTML=e.target.innerHTML,e.target.innerHTML=e.dataTransfer.getData("text/html");const t=e.target.querySelector(".img-delete");t&&t.addEventListener("click",this.deletePage);const l=this.dragSrcEl.querySelector(".img-delete");l&&l.addEventListener("click",this.deletePage)}return!1},deletePage(e){let t=e.target;if(!t)return;let l=t.parentNode;if(!l)return;let a=l.parentNode;if(!a)return;const o=Number(t.dataset.pageId);this.deleted_indexes.push(o),a.remove()},afterEvents(){let e=document.querySelectorAll(".main-container .box");e.forEach((e=>{e.addEventListener("dragstart",this.handleDragStart),e.addEventListener("dragend",this.handleDragEnd),e.addEventListener("dragover",this.handleDragOver),e.addEventListener("dragenter",this.handleDragEnter),e.addEventListener("dragleave",this.handleDragLeave),e.addEventListener("drop",this.handleDrop)}))},addSplit(e){e.stopPropagation();let t=e.target;const l="split-active";t.classList.contains(l)?t.classList.remove(l):t.classList.add("split-active")},getActiveSplits(){const e=document.querySelectorAll(".split-active");if(e.length<1)return[];const t=document.querySelector(".main-container");if(!t)return[];let l=[];for(var a=0;a<e.length;a++){let o=e[a],i=o.parentNode;if(!i)continue;let s=i.parentNode;if(!s)continue;const n=Array.prototype.indexOf.call(t.children,s);n&&l.push(Number(n)+1)}return l.push(t.children.length),l=this.sortNumbericArray(l),l},getActiveSplitters(){const e="split-active",t=document.querySelectorAll(".splitter-span");if(t.length<1)return[];let l=[];for(var a=0;a<t.length;a++){let o=t[a];if(!o.classList.contains(e))continue;const i=a+1;l.push(i)}return l.push(t.length),l=this.sortNumbericArray(l),l},getArrangedPages(){this.sorted_indexes={};const e=document.querySelectorAll(".split-img");if(e.length<1)return;let t=!1;for(var l=0;l<e.length;l++){let a=e[l];const o=Number(a.dataset.pageId),i=l+1;o!==i&&(t=!0),this.sorted_indexes[i]=o}t||(this.sorted_indexes={})},performDocumentSplit(){return E(this,void 0,void 0,(function*(){try{this.processing=!0;let e={},t=this.getActiveSplitters();if(this.getArrangedPages(),0!==(0,f.Ns)(this.sorted_indexes)&&(e["sorted_indexes"]=JSON.stringify(this.sorted_indexes)),0!==this.deleted_indexes.length&&(e["deleted_indexes"]=this.deleted_indexes.toString()),0!==t.length&&(e["separators"]=t.toString()),0===(0,f.Ns)(e))return this.processing=!1,void this.showFullWidthToast(this.$t("split_empty_warning"));"split_create"==this.mode?yield C.QR.split_create_doc(this.filedata,e.separators,e.sorted_indexes,e.deleted_indexes):"split_only"==this.mode?yield C.QR.split_old_doc(this.$route.params.id,e.separators,e.sorted_indexes,e.deleted_indexes):"ocr_create"==this.mode&&(yield this.scanstore.uploadSplitOcr(e.separators,e.sorted_indexes,e.deleted_indexes))}catch(e){const t=y.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1,this.$router.push("/alfred/dashboard")}}))}},setup(){const e=(0,F.j)();return{processing:(0,_.KR)(!1),scanstore:e,baseUrl:b.VA,split_action_confirm:(0,_.KR)(!1),splitterHeight:(0,_.KR)(120),image_load_count:(0,_.KR)(0),deleted_indexes:(0,_.KR)([]),sorted_indexes:(0,_.KR)({}),content:(0,_.KR)([]),page:(0,_.KR)(),showAllPages:(0,_.KR)(!0),splitter_list:(0,_.KR)([])}}});var S=l(12807),D=l(23316),I=l(36914),T=l(39150),O=l(56384),M=l(62669),R=l(44189),P=l(50492),q=l(39035),V=l(82156),N=l(3952),B=l(88672),$=l(98582),Q=l.n($);const X=(0,S.A)(A,[["render",m],["__scopeId","data-v-24fd0c6e"]]),W=X;Q()(A,"components",{QCard:D.A,QToolbar:I.A,QToolbarTitle:T.A,QBtn:O.A,QCardActions:M.A,QCardSection:R.A,QIcon:P.A,QInnerLoading:q.A,QDialog:V.A,QAvatar:N.A}),Q()(A,"directives",{ClosePopup:B.A})},55166:(e,t,l)=>{"use strict";l.d(t,{A:()=>f});var a=l(61758),o=l(58790);const i={class:"container no-padding"},s={class:"row full-width secondary-c-text q-pt-md q-pb-md"},n={class:"col-6 pl-20"},r=(0,a.Lk)("img",{width:"24",src:"images/back-primary.svg"},null,-1),d={style:{"vertical-align":"middle","margin-left":"10px","font-size":"20px",cursor:"pointer"}},u={class:"col-6 pr-22"};function c(e,t,l,c,p,h){const m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-btn");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",s,[(0,a.Lk)("div",n,[(0,a.bF)(_,{flat:"",rounded:"",color:"primary",to:e.back_to_rotue},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"text-red-13",size:"sm"},{default:(0,a.k6)((()=>[r])),_:1}),(0,a.Lk)("label",d,(0,o.v_)(e.$t("layout.settings")),1)])),_:1},8,["to"])]),(0,a.Lk)("div",u,[(0,a.RG)(e.$slots,"default"),e.create_new_btn?((0,a.uX)(),(0,a.Wv)(_,{key:0,color:"primary",class:"float-right q-ml-sm",icon:"add",to:e.create_new_btn,label:e.$t("new")},null,8,["to","label"])):(0,a.Q3)("",!0)])])])}const p=(0,a.pM)({props:{back_to_rotue:{type:String,default:"/alfred/settings"},create_new_btn:{type:String,default:""}}});var h=l(12807),m=l(56384),_=l(50492),b=l(98582),v=l.n(b);const g=(0,h.A)(p,[["render",c]]),f=g;v()(p,"components",{QBtn:m.A,QIcon:_.A})},55184:(e,t,l)=>{"use strict";l.d(t,{A:()=>y});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-tooltip"),d=(0,a.g2)("q-icon"),u=(0,a.g2)("f-btn");return e.isButtonVisible?((0,a.uX)(),(0,a.Wv)(u,{key:0,label:e.formBuilderConfigModel[e.fieldName].label,class:"full-width q-mt-sm",onClick:e.clickEvent},{default:(0,a.k6)((()=>[e.isFormBuilderMode&&!e.isModuleOn()?((0,a.uX)(),(0,a.Wv)(d,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"white"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{class:"bg-red",anchor:"bottom right",self:"top right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("module_disabled")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["label","onClick"])):(0,a.Q3)("",!0)}var s=l(1659),n=l(38734),r=l(83319),d=l(24622),u=l(18505),c=l(76956),p=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const h=(0,a.pM)({name:"TextInput",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},show_button_type:{type:String,default:""},class:{type:String,default:""}},emits:["inputClicked","updateModel"],mixins:[d.A,u.A],watch:{},data(){return{auto_accounting_setting:c.P1}},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},computed:{isButtonVisible:function(){return!!this.isFormBuilderMode||(this.show_button_type===this.currentField.fieldType||""===this.show_button_type&&!!this.isModuleOn())}},methods:{isModuleOn(){return this.user_settings[this.auto_accounting_setting]||(this.user_settings[this.auto_accounting_setting]=!1),Boolean(this.user_settings[this.auto_accounting_setting])},clickEvent(e){return p(this,void 0,void 0,(function*(){if(e.stopPropagation(),this.isFormBuilderMode)this.$emit("inputClicked",this.fieldName);else try{if(this.isReadOnly)return void this.$router.push("/accounting/"+this.$route.params.id);this.showLoading(),this.record.po_multi_matched=[];const e=yield this.saveAndValidate();if(!1===e.success){const t=new CustomEvent("display_fields_errors",{});return document.dispatchEvent(t),void this.showErrorToast(e.message)}this.$router.push("/accounting/"+this.$route.params.id)}catch(t){logError(t)}finally{this.hideLoading()}}))}},setup(){const e=(0,r.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a}=(0,s.bP)(e),o=(0,r.q3)(),{record:i,doctype:d,tb_version:u}=(0,s.bP)(o),{saveAndValidate:c}=o,p=(0,r.Bu)(),{user_settings:h,loading_settings:m}=(0,s.bP)(p);return{saveAndValidate:c,doctype:d,record:i,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,user_settings:h,loading_settings:m,show_button:(0,n.KR)(!1)}}});var m=l(12807),_=l(50492),b=l(97410),v=l(98582),g=l.n(v);const f=(0,m.A)(h,[["render",i]]),y=f;g()(h,"components",{QIcon:_.A,QTooltip:b.A})},12397:(e,t,l)=>{"use strict";l.d(t,{A:()=>p});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("f-btn");return(0,a.uX)(),(0,a.Wv)(n,{label:e.formBuilderConfigModel[e.fieldName].label,disable:e.isReadOnly,class:"full-width q-mt-sm",onClick:e.clickEvent},null,8,["label","disable","onClick"])}var i=l(1659),s=l(83319),n=l(24622),r=l(18505);const d=(0,a.pM)({name:"TextInput",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},show_button_type:{type:String,default:""},class:{type:String,default:""}},emits:["inputClicked","updateModel"],mixins:[r.A,n.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{clickEvent(e){if(e.stopPropagation(),this.isFormBuilderMode)return void this.$emit("inputClicked",this.fieldName);this.record["export_parameters"]={doc_export_status:this.currentField.exportType,validate:!1};const t=new CustomEvent("trigger_export",{});document.dispatchEvent(t)}},setup(){const e=(0,s.uL)(),{isFormBuilderMode:t,formBuilderConfigModel:l}=(0,i.bP)(e),a=(0,s.q3)(),{record:o}=(0,i.bP)(a);return{formBuilderConfigModel:l,record:o,isFormBuilderMode:t}}});var u=l(12807);const c=(0,u.A)(d,[["render",o]]),p=c},52544:(e,t,l)=>{"use strict";l.d(t,{A:()=>y});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-tooltip"),d=(0,a.g2)("q-icon"),u=(0,a.g2)("f-btn");return e.is_button_visible?((0,a.uX)(),(0,a.Wv)(u,{key:0,label:e.formBuilderConfigModel[e.fieldName].label,class:"full-width q-mt-sm",onClick:e.clickEvent},{default:(0,a.k6)((()=>[e.isFormBuilderMode&&!e.isPoSettingActivate(e.doctype)?((0,a.uX)(),(0,a.Wv)(d,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"white"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{class:"bg-red",anchor:"bottom right",self:"top right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("module_disabled")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["label","onClick"])):(0,a.Q3)("",!0)}var s=l(1659),n=l(24622),r=l(38734),d=l(76956),u=l(57366),c=l(83319),p=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const h=(0,a.pM)({name:"TextInput",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},show_button_type:{type:String,default:""},class:{type:String,default:""}},emits:["inputClicked","updateModel"],mixins:[u.A,n.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField),this.isButtonVisible(),document.addEventListener("delete_table",this.reInitButton)},unmounted:function(){document.removeEventListener("delete_table",this.reInitButton)},computed:{},methods:{clickEvent(e){return p(this,void 0,void 0,(function*(){if(e.stopPropagation(),this.isFormBuilderMode)return void this.$emit("inputClicked",this.fieldName);if(this.isReadOnly)return void this.$router.push("/po-matching-v3/"+this.record.doc_id);if(null===this.tb_version)return;let t=this.showProcessMessage(this.$t("saving_data"));const l=yield this.saveAndValidate();if(t(),!1===l.success){const e=new CustomEvent("display_fields_errors",{});return document.dispatchEvent(e),void this.showErrorToast(l.message)}this.user_settings[d.aH.po_auto_match_and_export]&&(this.execute_auto_export=!0),this.$router.push("/po-matching-v3/"+this.record.doc_id)}))},isButtonVisible(){return p(this,void 0,void 0,(function*(){this.isFormBuilderMode?this.is_button_visible=!0:this.show_button_type!==this.currentField.fieldType?""===this.show_button_type&&this.hasTable()&&(yield this.isPoSettingActivate(this.doctype))&&this.isPoIconAllowed(this.record.status,this.tb_version)?this.is_button_visible=!0:this.is_button_visible=!1:this.is_button_visible=!0}))},reInitButton(){this.isButtonVisible()}},setup(){const e=(0,c.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a}=(0,s.bP)(e),o=(0,c.q3)(),{record:i,doctype:n,tb_version:d}=(0,s.bP)(o),{saveAndValidate:u,hasTable:p}=o,h=(0,c.oI)(),{hasActionAcquiredLock:m,releaseDocLock:_}=h,b=(0,c.Bu)(),{user_settings:v,execute_auto_export:g}=(0,s.bP)(b);return{releaseDocLock:_,saveAndValidate:u,hasActionAcquiredLock:m,hasTable:p,user_settings:v,execute_auto_export:g,tb_version:d,doctype:n,record:i,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,is_button_visible:(0,r.KR)(!1)}}});var m=l(12807),_=l(50492),b=l(97410),v=l(98582),g=l.n(v);const f=(0,m.A)(h,[["render",i]]),y=f;g()(h,"components",{QIcon:_.A,QTooltip:b.A})},18509:(e,t,l)=>{"use strict";l.d(t,{A:()=>m});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("f-btn");return e.isButtonVisible?((0,a.uX)(),(0,a.Wv)(n,{key:0,label:e.formBuilderConfigModel[e.fieldName].label,class:"full-width q-mt-sm",onClick:e.clickEvent},null,8,["label","onClick"])):(0,a.Q3)("",!0)}var i=l(1659),s=l(38734),n=l(83319),r=l(24622),d=l(18505),u=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const c=(0,a.pM)({name:"TextInput",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},show_button_type:{type:String,default:""},class:{type:String,default:""}},emits:["inputClicked","updateModel"],mixins:[r.A,d.A],watch:{},data(){return{}},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},computed:{isButtonVisible:function(){return!!this.isFormBuilderMode||(this.show_button_type===this.currentField.fieldType||""===this.show_button_type)}},methods:{clickEvent(e){return u(this,void 0,void 0,(function*(){if(e.stopPropagation(),this.isFormBuilderMode)this.$emit("inputClicked",this.fieldName);else try{if(this.isReadOnly)return;this.showLoading();const e=yield this.rejectDocument(this.record.doc_id);if(!1===e.success)return void this.showErrorToast(e.message);this.routeToDashboard()}catch(t){logError(t)}finally{this.hideLoading()}}))},routeToDashboard(){window.removeEventListener("beforeunload",this.onTabClose),this.$router.push("/dashboard")}},setup(){const e=(0,n.uL)(),{isFormBuilderMode:t,formBuilderConfigModel:l}=(0,i.bP)(e),a=(0,n.q3)(),{record:o}=(0,i.bP)(a),{rejectDocument:r}=a,d=(0,n.oI)(),{releaseDocLock:u}=d;return{releaseDocLock:u,rejectDocument:r,record:o,isFormBuilderMode:t,formBuilderConfigModel:l,show_button:(0,s.KR)(!1)}}});var p=l(12807);const h=(0,p.A)(c,[["render",o]]),m=h},76093:(e,t,l)=>{"use strict";l.d(t,{A:()=>E});var a=l(61758),o=l(58790);const i={class:"q-ml-sm"},s={class:"q-ml-sm"};function n(e,t,l,n,r,d){const u=(0,a.g2)("f-btn"),c=(0,a.g2)("q-avatar"),p=(0,a.g2)("q-card-section"),h=(0,a.g2)("q-card-actions"),m=(0,a.g2)("q-card"),_=(0,a.g2)("q-dialog"),b=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(u,{label:e.formBuilderConfigModel[e.fieldName].label,disable:e.isReadOnly,class:"full-width q-mt-sm",onClick:e.clickEvent},null,8,["label","disable","onClick"]),(0,a.bF)(_,{modelValue:e.confirmRuleSave,"onUpdate:modelValue":t[1]||(t[1]=t=>e.confirmRuleSave=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(c,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(p,{class:"row items-center",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.Lk)("span",i,(0,o.v_)(e.$t("pages.messages.SAVE_RULES_WARNING")),1),(0,a.Lk)("span",s,(0,o.v_)(e.$t("pages.messages.SAVE_RULES_WARNING_2")),1)])),_:1}),(0,a.bF)(h,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(u,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[b]]),(0,a.bo)((0,a.bF)(u,{label:e.$t("done"),onClick:t[0]||(t[0]=t=>e.saveRules())},null,8,["label"]),[[b]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var r=l(1659),d=l(38734),u=l(83319),c=l(24622),p=l(18505),h=l(11470),m=l(64775),_=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const b=(0,a.pM)({name:"TextInput",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},show_button_type:{type:String,default:""},class:{type:String,default:""}},emits:["inputClicked","updateModel"],mixins:[p.A,c.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{clickEvent(e){e.stopPropagation(),this.isFormBuilderMode?this.$emit("inputClicked",this.fieldName):this.confirmRuleSave=!0},saveRules(){return _(this,void 0,void 0,(function*(){const e=yield this.hasActionAcquiredLock();if(e){this.confirmRuleSave=!1,this.showLoading(),this.record.hasOwnProperty("table_data_copy")&&delete this.record["table_data_copy"];try{const e={data:JSON.stringify(this.record)},t=yield h.sm.saveRules(e);if(!1===t.success)throw t.message;this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(t){const e=m.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.hideLoading()}}}))}},setup(){const e=(0,u.uL)(),{isFormBuilderMode:t,formBuilderConfigModel:l}=(0,r.bP)(e),a=(0,u.q3)(),{record:o}=(0,r.bP)(a),i=(0,u.oI)(),{hasActionAcquiredLock:s}=i;return{formBuilderConfigModel:l,hasActionAcquiredLock:s,record:o,isFormBuilderMode:t,confirmRuleSave:(0,d.KR)(!1)}}});var v=l(12807),g=l(82156),f=l(23316),y=l(44189),k=l(3952),w=l(62669),C=l(88672),x=l(98582),L=l.n(x);const F=(0,v.A)(b,[["render",n]]),E=F;L()(b,"components",{QDialog:g.A,QCard:f.A,QCardSection:y.A,QAvatar:k.A,QCardActions:w.A}),L()(b,"directives",{ClosePopup:C.A})},35519:(e,t,l)=>{"use strict";l.d(t,{A:()=>A});var a=l(61758),o=l(58790),i=l(29104);const s={class:"full-width"},n={key:0,class:"center border-left"},r=["onClick"],d=["onClick"],u={key:0,class:"center border-left"};function c(e,t,l,c,p,h){const m=(0,a.g2)("q-tooltip"),_=(0,a.g2)("q-btn"),b=(0,a.g2)("q-checkbox"),v=(0,a.g2)("q-markup-table");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(v,{flat:"",class:"group_checkboxes_tbl overflow-visible border-bottom"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.formBuilderConfigModel[e.fieldName].tableHeaderRows,((t,l)=>((0,a.uX)(),(0,a.CE)("thead",{key:l},[(0,a.Lk)("tr",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t,((e,t)=>((0,a.uX)(),(0,a.CE)("th",{key:t,class:(0,o.C4)(["border-left",0==t?" text-left ":" center "])},(0,o.v_)(e),3)))),128)),e.isFormBuilderMode?((0,a.uX)(),(0,a.CE)("th",n,[(0,a.bF)(_,{round:"",color:"primary",icon:"settings",size:"xs",class:"h-m-5 float-right",onClick:t=>e.loadSettings(l,e.headerColumnIndex,!0)},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("settings")),1)])),_:1})])),_:2},1032,["onClick"])])):(0,a.Q3)("",!0)])])))),128)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.formBuilderConfigModel[e.fieldName].tableBodyRows,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:l},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t,((t,s)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:s},[t.isLabelArea?((0,a.uX)(),(0,a.CE)("td",{key:0,class:"text-left border-left",onClick:t=>e.loadSettings(l,s,!1)},(0,o.v_)(t.label),9,r)):((0,a.uX)(),(0,a.CE)("td",{key:1,class:(0,o.C4)(["center border-left group-checkbox-td",e.formBuilderConfigModel[e.fieldName].tableBodyRows[l][s].isDisabled?" bg-disable ":" "]),onClick:t=>e.loadSettings(l,s,!1)},[(0,a.bF)(b,{id:t.name,child_type:"checkbox",disable:!e.isFormBuilderMode&&(e.isReadOnly||e.formBuilderConfigModel[e.fieldName].tableBodyRows[l][s].isDisabled),"onUpdate:modelValue":[a=>e.inputValueChanges(a,t.name,l,s),l=>e.formBuilderModel[t.name].formatted_value=l],onFocus:e.focusEvent,onKeydown:(0,i.jR)((l=>{e.keydownEvent(l,t.name)}),["enter"]),modelValue:e.formBuilderModel[t.name].formatted_value,size:"30px",color:"grey-6",class:(0,o.C4)(t.name+" "+e.getElementBorder(e.formBuilderConfigModel[t.name].color))},null,8,["id","disable","onUpdate:modelValue","onFocus","onKeydown","modelValue","class"])],10,d))],64)))),128)),e.isFormBuilderMode?((0,a.uX)(),(0,a.CE)("td",u,[(0,a.bF)(_,{round:"",color:"primary",icon:"delete",size:"xs",class:"h-m-5 float-right",onClick:t=>e.deleteRow(l)},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete")),1)])),_:1})])),_:2},1032,["onClick"])])):(0,a.Q3)("",!0)])))),128))])])),_:1})])}var p=l(1659),h=l(38734),m=l(64233),_=l(83319),b=l(4225);const v=(0,a.pM)({name:"TableOfCheckboxes",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["updateModel","inputValueChanges"],mixins:[m.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{loadSettings(e,t,l){if(!this.isFormBuilderMode)return;this.activeTab="element_properties",this.activeFieldName=this.fieldName;const a=new CustomEvent("load_settings",{detail:{rowIndex:e,columnIndex:t,isColumnMode:l}});document.dispatchEvent(a)},deleteRow(e){for(let t of this.formBuilderConfigModel[this.fieldName].tableBodyRows)delete this.formBuilderModel[t.name];this.formBuilderConfigModel[this.fieldName].tableBodyRows.splice(e,1)},inputValueChanges(e,t,l,a){const o="Enter"==window.event.key;if(o){const e=this.formBuilderModel[t].formatted_value;return setTimeout((()=>{this.formBuilderModel[t].formatted_value=e,this.emitinputValueChanges(t)}),50),void this.triggerMoveToNextFieldEvent(t)}this.emitinputValueChanges(t),this.loadSettings(l,a,!1)},emitinputValueChanges(e){this.$emit("inputValueChanges",e,b.VV.TABLE_OF_CHECKBOXES)},triggerMoveToNextFieldEvent(e){if(this.is_focus_event)return void(this.is_focus_event=!1);const t=new CustomEvent("move_to_next_field",{detail:e});document.dispatchEvent(t)},keydownEvent(e,t){this.is_focus_event=!1,this.triggerMoveToNextFieldEvent(t)},focusEvent(){this.is_focus_event=!0,setTimeout((()=>{this.is_focus_event=!1}),500)}},setup(){const e=(0,_.uL)(),{formBuilderConfigModel:t,isFormBuilderMode:l,formBuilderModel:a,activeFieldName:o,activeTab:i}=(0,p.bP)(e);return{activeTab:i,activeFieldName:o,isFormBuilderMode:l,formBuilderModel:a,formBuilderConfigModel:t,is_focus_event:(0,h.KR)(!1)}}});var g=l(12807),f=l(857),y=l(56384),k=l(97410),w=l(80460),C=l(42315),x=l(67156),L=l(98582),F=l.n(L);const E=(0,g.A)(v,[["render",c],["__scopeId","data-v-5c4897b6"]]),A=E;F()(v,"components",{QMarkupTable:f.A,QBtn:y.A,QTooltip:k.A,QCheckbox:w.A,QTable:C.A,QField:x.A})},30431:(e,t,l)=>{"use strict";l.d(t,{A:()=>Ze});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-6a19e38c"),e=e(),(0,a.jt)(),e),n={key:0,class:"full-width"},r={class:"highlighted-back"},d={class:"cursor-pointer link"},u={class:"full-width"},c={class:"full-width"},p={class:"row items-center no-wrap"},h=s((()=>(0,a.Lk)("img",{width:"18",height:"18",src:"images/trash-bin-default.svg"},null,-1))),m=s((()=>(0,a.Lk)("img",{width:"18",height:"18",src:"images/trash-bin-default.svg"},null,-1))),_=s((()=>(0,a.Lk)("img",{width:"18",height:"18",src:"images/globe.svg"},null,-1))),b={class:"row items-center no-wrap"},v={class:"text-center"},g=["id"],f={key:0,class:"highlighted-back"},y={key:1},k={key:2,class:"row q-mt-md full-width white-inputs"},w={class:"col"},C={class:"col-auto"},x={class:"highlighted-back"},L={class:"q-ml-sm"},F=s((()=>(0,a.Lk)("span",{class:"q-ml-sm"},"You have made some changes related to line Item/PO on saving you may lost PO connections",-1)));function E(e,t,l,s,E,A){const S=(0,a.g2)("q-markup-table"),D=(0,a.g2)("q-th"),I=(0,a.g2)("q-item-section"),T=(0,a.g2)("q-item-label"),O=(0,a.g2)("q-item"),M=(0,a.g2)("q-separator"),R=(0,a.g2)("ColumnOrigin"),P=(0,a.g2)("q-list"),q=(0,a.g2)("q-btn-dropdown"),V=(0,a.g2)("q-tooltip"),N=(0,a.g2)("q-icon"),B=(0,a.g2)("q-td"),$=(0,a.g2)("q-tr"),Q=(0,a.g2)("q-menu"),X=(0,a.g2)("Charges"),W=(0,a.g2)("q-input"),K=(0,a.g2)("q-table"),U=(0,a.g2)("q-spinner-hourglass"),j=(0,a.g2)("q-inner-loading"),z=(0,a.g2)("q-select"),H=(0,a.g2)("f-btn"),G=(0,a.g2)("CreateCustomColumn"),Y=(0,a.g2)("q-dialog"),J=(0,a.g2)("NonMappedColumnsSelection"),Z=(0,a.g2)("q-avatar"),ee=(0,a.g2)("q-card-section"),te=(0,a.g2)("q-card-actions"),le=(0,a.g2)("q-card"),ae=(0,a.g2)("q-toolbar-title"),oe=(0,a.g2)("q-btn"),ie=(0,a.g2)("q-toolbar"),se=(0,a.gN)("new-tab"),ne=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.isFormBuilderMode?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(S,{class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",r,[(0,a.Lk)("th",null,[(0,a.eW)((0,o.v_)(e.$t("ai_table_place_holder"))+" ",1),(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",d,[(0,a.eW)((0,o.v_)(e.$t("settings")),1)])),[[se,"settings/classify-extract"]])])])])])),_:1})])):(0,a.Q3)("",!0),e.displayTable?((0,a.uX)(),(0,a.CE)("div",{key:1,class:(0,o.C4)("full-width "+e.fieldName)},[(0,a.Lk)("div",u,[(0,a.Lk)("div",c,[e.hasLineItems()?((0,a.uX)(),(0,a.Wv)(K,{key:0,class:"full-width sticky-header",id:"table_"+e.fieldName,"row-key":"id",flat:"","hide-bottom":"",rows:e.tableRows,"no-data-label":e.$t("pages.messages.no_record_found"),columns:e.tableColumns,"rows-per-page-options":[0],"table-header-style":{backgroundColor:"#d4d4d4"},style:{overflow:"auto",height:"auto","max-height":"200px","min-height":"128px"},"sticky-header":""},{header:(0,a.k6)((t=>[(0,a.bF)($,{props:t,class:"highlighted-back"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[""===t.label?((0,a.uX)(),(0,a.Wv)(D,{key:0})):(0,a.Q3)("",!0),""!==t.label&&e.isColumnVisible(t.original_name,t)?((0,a.uX)(),(0,a.Wv)(B,{key:1,id:t.name,class:(0,o.C4)(e.getColumnClass(t.label))},{default:(0,a.k6)((()=>[(0,a.Lk)("div",p,[e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(q,{key:0,"fab-mini":"",color:e.hasOriginalIndex(t.org_index,t)&&e.formatting_options.group_column===t.org_index?"primary":"grey-6",rounded:"",outline:"",class:"column-action-dropdown","dropdown-icon":"more_horiz"},{default:(0,a.k6)((()=>[(0,a.bF)(P,null,{default:(0,a.k6)((()=>[e.hasOriginalIndex(t.org_index,t)?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(O,{key:0,onClick:l=>e.confirmDeleteColumn(t.original_name),clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(I,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[h])),_:1}),(0,a.bF)(I,null,{default:(0,a.k6)((()=>[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete_column")),1)])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[ne]]):(0,a.bo)(((0,a.uX)(),(0,a.Wv)(O,{key:1,onClick:l=>e.disableCustomColumn(t.name),clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(I,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[m])),_:1}),(0,a.bF)(I,null,{default:(0,a.k6)((()=>[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("disable_column")),1)])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[ne]]),(0,a.bF)(M),"AMOUNT"==t.column_type?((0,a.uX)(),(0,a.Wv)(O,{key:2},{default:(0,a.k6)((()=>[(0,a.bF)(I,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[_])),_:1}),(0,a.bF)(I,null,{default:(0,a.k6)((()=>[(0,a.bF)(R,{class:"f-doc-screens-input-field",onUpdateColumnOrigin:e.updateColumnOrigin,origin:t.col_origin,column_name:t.name},null,8,["onUpdateColumnOrigin","origin","column_name"])])),_:2},1024)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1032,["color"])),(0,a.bF)(q,{flat:"",disable:1!=e.hasOriginalIndex(t.org_index,t)||e.isReadOnly,id:"button_"+l,class:(0,o.C4)("ellipsis ellipsis-column gridHeader "+(t.error?"column-error-border":"")+(!0===e.hasOriginalIndex(t.org_index,t)?"non-extractable-column-text ":" extractable-column-text"))},{label:(0,a.k6)((()=>[(0,a.Lk)("div",b,[t.error?((0,a.uX)(),(0,a.Wv)(N,{key:0,left:"",title:e.$t("pages.screen2b.in_valid_column_error"),name:"priority_high",class:"headerError"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.screen2b.in_valid_column_error")),1)])),_:1})])),_:1},8,["title"])):(0,a.Q3)("",!0),(0,a.Lk)("div",v,(0,o.v_)(t.label),1)])])),default:(0,a.k6)((()=>[(0,a.bF)(P,{filter:e.filter},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.dropdownColumns,(i=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(O,{key:i.techName,clickable:"",onClick:a=>e.swapColumn(i,t.original_name,t.name,"button_"+l)},{default:(0,a.k6)((()=>[(0,a.bF)(I,null,{default:(0,a.k6)((()=>[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(i.header),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[ne]]))),128))])),_:2},1032,["filter"])])),_:2},1032,["disable","id","class"])])])),_:2},1032,["id","class"])):(0,a.Q3)("",!0)],64)))),128))])),_:2},1032,["props"])])),body:(0,a.k6)((t=>[(0,a.bF)($,{class:(0,o.C4)(["droptarget",e.lineDataObj[t.key].hasOwnProperty("is_additional_cost")&&!0===e.lineDataObj[t.key].is_additional_cost?"additional-cost-row":""]),props:t,id:e.getRowIdPrefix()+t.key,onDrop:l=>e.handleDrop(l,t),onDragover:e.handleDragOver,onClick:l=>e.highlightRow(t.key),pageno:e.lineDataObj[t.key].page},{default:(0,a.k6)((()=>[e.isChargesModule?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(Q,{key:0,"touch-position":"","context-menu":"",modelValue:e.lineDataObj[t.key]["show_menu"],"onUpdate:modelValue":l=>e.lineDataObj[t.key]["show_menu"]=l},{default:(0,a.k6)((()=>[(0,a.bF)(P,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[e.lineDataObj[t.key].hasOwnProperty("is_additional_cost")&&!0===e.lineDataObj[t.key].is_additional_cost?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(O,{key:0,clickable:"",onClick:l=>e.additionalCostFlag(t.key,!1)},{default:(0,a.k6)((()=>[(0,a.bF)(I,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("remove_as_additional_cost")),1)])),_:1})])),_:2},1032,["onClick"])),[[ne]]):(0,a.bo)(((0,a.uX)(),(0,a.Wv)(O,{key:1,clickable:"",onClick:l=>e.additionalCostFlag(t.key,!0)},{default:(0,a.k6)((()=>[(0,a.bF)(I,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("select_as_additional_cost")),1)])),_:1})])),_:2},1032,["onClick"])),[[ne]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(O,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(I,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("close")),1)])),_:1})])),_:1})),[[ne]])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"])),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,(l=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l.name},[""===l.label?((0,a.uX)(),(0,a.Wv)(B,{key:0,class:"q-td secondary-c-text"},{default:(0,a.k6)((()=>[e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,o.C4)(["display-flex q-pr-sm q-pl-xs",e.isChargesModule&&e.lineDataObj[t.key].parent_id?"pl-27":""])},[e.rowHasErrors(t.key)?((0,a.uX)(),(0,a.Wv)(N,{key:0,title:e.$t("pages.screen2b.in_valid_column_error"),name:"priority_high",class:"headerError"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.lineItemsErrors[t.key],((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t},(0,o.v_)(e),1)))),128))])),_:2},1024)])),_:2},1032,["title"])):(0,a.Q3)("",!0),e.isChargesModule?((0,a.uX)(),(0,a.Wv)(X,{key:1,ref_for:!0,ref:"charges_"+t.key,props:t},null,8,["props"])):(0,a.Q3)("",!0),(0,a.bF)(N,{color:"primary",size:"xs",onClick:t=>e.removeLineItem(l.value),name:"fa fa-times",class:"q-ml-sm cursor-pointer"},null,8,["onClick"])],2))])),_:2},1024)):(0,a.Q3)("",!0),"id"!==l.name?((0,a.uX)(),(0,a.Wv)(B,{key:1,"data-name":l.name,"data-type":l.column_type,"data-input-class":l.name+"_"+t.key},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{id:l.name+"_"+t.key+"_parent"},[(0,a.bF)(W,{outlined:"",disable:e.isReadOnly,class:(0,o.C4)("input-text-28px "+l.name+"_"+t.key+" input_column_type "+l.column_type.toLowerCase()),onChange:a=>e.inputValueChanges(l.name,t.key),onKeydown:(0,i.jR)((0,i.D$)((a=>e.handleTabKey(a,l.name,t.key)),["prevent"]),["tab"]),modelValue:e.lineDataObj[t.key]["columns"][l.name].formatted_value,"onUpdate:modelValue":a=>e.lineDataObj[t.key]["columns"][l.name].formatted_value=a,"data-column-name":l.name},null,8,["disable","class","onChange","onKeydown","modelValue","onUpdate:modelValue","data-column-name"])],8,g)])),_:2},1032,["data-name","data-type","data-input-class"])):(0,a.Q3)("",!0)],64)))),128))])),_:2},1032,["props","id","onDrop","onDragover","onClick","pageno","class"])])),_:1},8,["id","rows","no-data-label","columns"])):((0,a.uX)(),(0,a.Wv)(S,{key:1,class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[!1===e.lineItemsloading?((0,a.uX)(),(0,a.CE)("tr",f,[(0,a.Lk)("th",null,(0,o.v_)(e.$t("no_line_items_found")),1)])):(0,a.Q3)("",!0),!0===e.lineItemsloading?((0,a.uX)(),(0,a.CE)("tr",y,[(0,a.Lk)("th",null,[(0,a.bF)(j,{showing:e.lineItemsloading},{default:(0,a.k6)((()=>[(0,a.bF)(U,{color:"primary",size:"6em"})])),_:1},8,["showing"])])])):(0,a.Q3)("",!0)])])),_:1})),e.hasLineItems()&&!e.isReadOnly?((0,a.uX)(),(0,a.CE)("div",k,[(0,a.Lk)("div",w,[(0,a.bF)(z,{ref:"ai_tags_ref",class:"full-width",label:e.$t("tags"),hint:e.$t("tags_hint"),outlined:"",modelValue:e.ai_tags,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.ai_tags=t),e.aiTagsUpdate],options:e.tags_filtered_options,"use-input":"",dense:"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0",onNewValue:e.addTages,onFilter:e.filterTagList},{after:(0,a.k6)((()=>[])),_:1},8,["label","hint","modelValue","options","onNewValue","onFilter","onUpdate:modelValue"])]),(0,a.Lk)("div",C,[(0,a.bF)(H,{class:"q-ml-sm float-right",appearance:"negative",onClick:e.deleteRules,label:e.$t("delete")},{default:(0,a.k6)((()=>[(0,a.bF)(V,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("form_builder.deleteRule")),1)])),_:1})])),_:1},8,["onClick","label"]),(0,a.bF)(H,{class:"q-ml-sm float-right",onClick:e.saveRules,label:e.$t("save")},{default:(0,a.k6)((()=>[(0,a.bF)(V,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("form_builder.saveRules")),1)])),_:1})])),_:1},8,["onClick","label"]),(0,a.bF)(H,{class:"q-ml-sm float-right",appearance:"secondary",onClick:t[1]||(t[1]=t=>e.confirmRequestReformate()),label:e.$t("apply")},null,8,["label"])])])):(0,a.Q3)("",!0)])])],2)):((0,a.uX)(),(0,a.Wv)(S,{key:2,class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",x,[(0,a.Lk)("th",null,(0,o.v_)(e.$t("no_line_items_found")),1)])])])),_:1})),(0,a.bF)(Y,{modelValue:e.addColumnDialog,"onUpdate:modelValue":t[2]||(t[2]=t=>e.addColumnDialog=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(G,{is_table_training_doc:!!e.record.hasOwnProperty("is_table_training_doc"),table_name:e.record.tables&&e.record.tables.length>0?e.record.tables[0].name:"",tables:e.record.tables&&e.record.tables.length>0?e.record.tables[0]:{},columns_list:e.lineItemLayout,addColumnDialog:e.addColumnDialog},null,8,["is_table_training_doc","table_name","tables","columns_list","addColumnDialog"])])),_:1},8,["modelValue"]),(0,a.bF)(Y,{modelValue:e.nonMappedColumnsDialog,"onUpdate:modelValue":t[3]||(t[3]=t=>e.nonMappedColumnsDialog=t),persistent:"",onKeydown:t[4]||(t[4]=(0,i.jR)((t=>e.nonMappedColumnsDialog=!1),["esc"])),onHide:t[5]||(t[5]=t=>e.nonMappedColumnsDialog=!1)},{default:(0,a.k6)((()=>[(0,a.bF)(J,{lineItemLayout:e.lineItemLayout,tableColumns:e.tableColumns},null,8,["lineItemLayout","tableColumns"])])),_:1},8,["modelValue"]),(0,a.bF)(Y,{modelValue:e.showConfirmDeleteColumn,"onUpdate:modelValue":t[7]||(t[7]=t=>e.showConfirmDeleteColumn=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.bF)(ee,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(Z,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(ee,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",L,(0,o.v_)(e.$t("delete_column_warning")),1)])),_:1}),(0,a.bF)(te,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(H,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[ne]]),(0,a.bo)((0,a.bF)(H,{label:e.$t("done"),onClick:t[6]||(t[6]=t=>e.deleteLineItemColumn())},null,8,["label"]),[[ne]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Y,{modelValue:e.confirmReformate,"onUpdate:modelValue":t[9]||(t[9]=t=>e.confirmReformate=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.bF)(ie,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("confirm")),1)])),_:1}),(0,a.bo)((0,a.bF)(oe,{flat:"",round:"",dense:"",icon:"close"},null,512),[[ne]])])),_:1}),(0,a.bF)(ee,{class:"row items-center"},{default:(0,a.k6)((()=>[F])),_:1}),(0,a.bF)(te,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(H,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[ne]]),(0,a.bo)((0,a.bF)(H,{label:e.$t("done"),onClick:t[8]||(t[8]=t=>e.proceedToReformat())},null,8,["label"]),[[ne]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var A=l(1659),S=l(24622),D=l(68450),I=l(38734),T=l(96056),O=l(82836),M=l(92162),R=l(18505),P=l(64233),q=l(14907),V=l(41903),N=l(85192),B=l(86633),$=l(42300),Q=l(11470),X=l(25891),W=l(64471),K=l(30739),U=l(82080),j=l(76956),z=l(83319),H=l(64775),G=l(89518),Y=l(12537);const J=e=>((0,a.Qi)("data-v-6cf65150"),e=e(),(0,a.jt)(),e),Z={class:"text-weight-bold"},ee={class:"row no-wrap justify-around q-pt-md"},te={class:"drop-target rounded-borders q-mr-md"},le={class:"box row justify-center items-center",style:{"border-bottom":"1px solid grey"}},ae={class:"visible-doc-columns-parent"},oe=["id","data-column-name"],ie={class:"rounded-borders overflow-hidden content-center"},se={class:"row justify-end items-start"},ne={class:"row justify-end items-start"},re={class:"drop-target rounded-borders"},de={class:"box row justify-center items-center",style:{"border-bottom":"1px solid grey"}},ue=["id","data-column-name"],ce={class:"row justify-end items-start q-mt-md"},pe=J((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function he(e,t,l,i,s,n){const r=(0,a.g2)("q-toolbar-title"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-toolbar"),c=(0,a.g2)("q-checkbox"),p=(0,a.g2)("q-tooltip"),h=(0,a.g2)("f-btn"),m=(0,a.g2)("q-card-section"),_=(0,a.g2)("q-inner-loading"),b=(0,a.g2)("q-card"),v=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(b,{style:{width:"900px","max-width":"1060px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-white secondary-toolbar draggable-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",Z,(0,o.v_)(e.$t("column_settings")),1)])),_:1}),(0,a.bo)((0,a.bF)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[v]])])),_:1}),(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.Lk)("div",ee,[(0,a.Lk)("div",te,[(0,a.Lk)("div",le,(0,o.v_)(e.$t("available_columns")),1),(0,a.Lk)("div",ae,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.available_columns,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,draggable:"true",class:"draggable-box row full-width"},[(0,a.Lk)("div",{draggable:"true",id:e.name,"data-column-name":e.name,class:"box"},[(0,a.bF)(c,{"data-column-name":e.name,modelValue:e.selected,"onUpdate:modelValue":t=>e.selected=t,class:"box-checkbox",label:e.lbl_to_display},null,8,["data-column-name","modelValue","onUpdate:modelValue","label"])],8,oe)])))),128))])]),(0,a.Lk)("div",ie,[(0,a.Lk)("div",se,[(0,a.bF)(h,{class:"q-mr-md mt-20",icon:"arrow_forward",onClick:e.moveToTableColumnList},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("move_to_visibile_button_tooltip")),1)])),_:1})])),_:1},8,["onClick"])]),(0,a.Lk)("div",ne,[(0,a.bF)(h,{class:"q-mr-md mt-20",icon:"arrow_back",onClick:e.moveToAvailableColumnList},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("move_to_hidden_button_tooltip")),1)])),_:1})])),_:1},8,["onClick"])])]),(0,a.Lk)("div",re,[(0,a.Lk)("div",de,(0,o.v_)(e.$t("columns_in_table")),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.columns_in_table,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,id:e.name,"data-column-name":e.name,class:"box row full-width"},[(0,a.bF)(c,{"data-column-name":e.name,modelValue:e.selected,"onUpdate:modelValue":t=>e.selected=t,label:e.lbl_to_display},null,8,["data-column-name","modelValue","onUpdate:modelValue","label"])],8,ue)))),128))])]),(0,a.Lk)("div",ce,[(0,a.bo)((0,a.bF)(h,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[v]]),(0,a.bF)(h,{label:e.$t("done"),class:"q-ml-sm",onClick:t[0]||(t[0]=t=>e.saveSettings())},null,8,["label"])])])])),_:1}),(0,a.bF)(_,{showing:e.processing},{default:(0,a.k6)((()=>[pe])),_:1},8,["showing"])])),_:1})}const me=(0,a.pM)({props:{lineItemLayout:{type:Object},tableColumns:{type:Array}},components:{},mounted(){this.init()},data(){return{dragSrcEl:{},clearInterval:0}},beforeRouteLeave:function(e,t,l){l()},methods:{init(){this.available_columns={},this.columns_in_table={},this.setColumns()},setColumns(){this.all_columns=JSON.parse(JSON.stringify(this.lineItemLayout));let e=JSON.parse(JSON.stringify(this.lineItemLayout));for(const t in this.tableColumns){const l=Number(t),a=this.tableColumns[l];if(!e[a.name])continue;if("id"==a.name){delete e[a.name];continue}const o=Object.assign(e[a.name],{selected:!1});a.is_extra_column?(this.columns_in_table[a.name]=JSON.parse(JSON.stringify(o)),delete e[a.name]):null==a.org_index||void 0==a.org_index||delete e[a.name]}this.available_columns=e,this.setAvailableColumnsCheckbox()},setAvailableColumnsCheckbox(){for(const[e,t]of Object.entries(this.available_columns)){const l=Object.assign(t,{selected:!1});this.available_columns[e]=l}},moveToTableColumnList(){for(const[e,t]of Object.entries(this.available_columns)){if(logInfo(t.name,t.selected),!t.selected)continue;t.selected=!1;const l=JSON.parse(JSON.stringify(t));l.from_layout=!0,this.columns_in_table[e]=JSON.parse(JSON.stringify(l)),delete this.available_columns[e]}},moveToAvailableColumnList(){for(var e of Object.keys(this.columns_in_table))this.columns_in_table[e].selected&&(this.columns_in_table[e].selected=!1,this.available_columns[e]=this.columns_in_table[e],delete this.columns_in_table[e]);this.setAvailableColumnsCheckbox()},saveSettings(){this.processing=!0;const e=new CustomEvent("add_non_mapped_columns",{detail:{columns_in_table:this.columns_in_table}});document.dispatchEvent(e)}},setup(){return{available_columns:(0,I.KR)({}),columns_in_table:(0,I.KR)({}),processing:(0,I.KR)(!1),all_columns:(0,I.KR)({}),show_column_settings:(0,I.KR)(!1)}}});var _e=l(12807),be=l(23316),ve=l(36914),ge=l(39150),fe=l(56384),ye=l(44189),ke=l(80460),we=l(97410),Ce=l(39035),xe=l(50492),Le=l(88672),Fe=l(98582),Ee=l.n(Fe);const Ae=(0,_e.A)(me,[["render",he],["__scopeId","data-v-6cf65150"]]),Se=Ae;Ee()(me,"components",{QCard:be.A,QToolbar:ve.A,QToolbarTitle:ge.A,QBtn:fe.A,QCardSection:ye.A,QCheckbox:ke.A,QTooltip:we.A,QInnerLoading:Ce.A,QIcon:xe.A}),Ee()(me,"directives",{ClosePopup:Le.A});var De=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};let Ie=new Map;const Te=(0,a.pM)({name:"AIExtractedTable",components:{CreateCustomColumn:Y.A,ColumnOrigin:G.A,NonMappedColumnsSelection:Se,Charges:O.A},mixins:[R.A,S.A,$.A,W.A,P.A,T.A,B.A,X.A,U.A],emits:["updateExtractionDataForSave","setTableRowCorrdinates","loadNewPageImage","updateModel"],props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},watch:{doc_loaded:{handler:function(e,t){this.init()}},loading_settings:{handler:function(e,t){0==e&&1==t&&this.init()}}},computed:{hasSettingDisabled:function(){return Boolean(this.doc_loaded&&!this.setting_flag)}},data(){return{dropdownColumns:[],rows_to_delete:[],po_dragging:!1,dragging_data:{},coveredLineItem:[],validation_done:!0,connected_line_item:"",renderKey:0,is_po_view:!1,confirmReformate:(0,I.KR)(!1),po_connected_line_items:{},is_auto_filled_color:"#c2dba6",is_missing_color:"#eed69e",tableObj:{},AI_table_extraction_setting:j.N1,costingElementIdPreFix:j.aH.costingElementIdPreFix,isChargesModule:(0,I.KR)(!1)}},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.init(),document.addEventListener("delete_table",this.deleteTable),document.addEventListener("add_new_row",this.createNewRow),document.addEventListener("add_new_empty_row",this.createNewEmptyRow),document.addEventListener("prepare_rows",this.reRenderTable),document.addEventListener("display_fields_errors",this.reRenderTable),document.addEventListener("add_ai_new_column",this.addNewCustomColumn),document.addEventListener("custom_column_create",this.customColumnCreated),document.addEventListener("restore_delete_column",this.restoreDeleteColumn),document.addEventListener("add_non_mapped_columns",this.addNonMappedColumns),document.addEventListener("show_non_mapped_columns_dialog",this.displayNonMappedColumnsDialog),document.addEventListener("render_map_coulums",this.renderShowMapCoulums),window.ait=this},unmounted:function(){document.removeEventListener("delete_table",this.deleteTable),document.removeEventListener("add_new_row",this.createNewRow),document.removeEventListener("add_new_empty_row",this.createNewEmptyRow),document.removeEventListener("prepare_rows",this.reRenderTable),document.removeEventListener("display_fields_errors",this.reRenderTable),document.removeEventListener("add_ai_new_column",this.addNewCustomColumn),document.removeEventListener("custom_column_create",this.customColumnCreated),document.removeEventListener("restore_delete_column",this.restoreDeleteColumn),document.removeEventListener("add_non_mapped_columns",this.addNonMappedColumns),document.removeEventListener("show_non_mapped_columns_dialog",this.displayNonMappedColumnsDialog),document.removeEventListener("render_map_coulums",this.renderShowMapCoulums)},methods:{init(){return De(this,void 0,void 0,(function*(){if(this.checkSetting(),!this.isFormBuilderMode&&!1!==this.doc_loaded&&null!==this.record&&void 0!==this.record&&!1!==this.setting_flag&&this.has_ai_table&&null!==this.record.tables&&0!=this.record.tables.length&&1!=this.displayTable){this.displayTable=!0;for(let e of this.record.tables){this.tableObj=e;break}yield this.startSettingsFetch(),this.lineItemDataLoaded(),this.user_settings[j.lZ]&&(this.isChargesModule=!0)}}))},checkSetting(){this.isFormBuilderMode||(this.setting_flag=!1,this.user_settings[this.AI_table_extraction_setting]&&(this.setting_flag=this.user_settings[this.AI_table_extraction_setting]))},get_org_pref(e){return De(this,void 0,void 0,(function*(){let t=!1;try{let l={main_key:e};const a=yield Q.fE.getOrgPref(l);if(!1===a.success)return t;t=a}catch(l){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(l)}return t}))},addExtractionMethodClass(e){let t="";return e&&e.hasOwnProperty("extraction_method")&&""!==e.extraction_method&&(t="extraction_method"),t},deleteTable(){this.tableObj={},this.lineItemDataLoaded()},lineItemDataLoaded(){this.lineItemsloading=!1,this.resetRows(),this.refactorApiData()},handleTabKey(e,t,l){const a=Array.from(document.querySelectorAll("input")),o=a.indexOf(e.target);if(-1!==o&&o<a.length-1){const e=a[o+1];e.focus()}},isViewEditable(){return!this.is_po_view},getColumnMappingIndexes(){let e={};for(const t in this.column_mapping_indexes){let l=this.column_mapping_indexes[t];e[t]=l}return e},validateLineItemColumns(){let e=!1;if(void 0===this.tableColumns)return;let t=[];for(const a of this.tableColumns){let l=this.isColumnNameValid(a);l||(a.error=!0,e=!0,t.push(a.name))}let l=!e;this.is_line_item_validated=l,this.missing_mapping_column=t,this.validation_done!==l&&(this.validation_done,this.validation_done=l)},isColumnNameValid(e){let t=!(!this.column_mapping_indexes||null==this.column_mapping_indexes||!(0,D.dd)(this.column_mapping_indexes)),l=!1;if("id"==e.name)return!0;for(const a of this.dropdownColumns)if(e.name===a.techName){l=!0;break}return l&&t&&!0===this.hasOriginalIndex(e.original_name,e)&&this.addInMapping(e.original_name,e.name),l},addInMapping(e,t){logInfo("addInMapping",e,t),this.column_mapping_indexes[t]=e},updateLineItemsForApi(){this.isReadOnly||this.$emit("updateExtractionDataForSave","mapping",this.getColumnMappingIndexes())},isColumnGroupBy(e){let t="";return this.group_column&&(t=this.group_column),null===t&&(t=""),t==e},getColumnGroupBy(){let e="";return this.group_column&&(e=this.group_column),null===e&&(e=""),e},isColumnVisible(e,t){let l=!0;return e&&this.columns_to_hide&&0!=this.columns_to_hide.length?((this.columns_to_hide.includes(e)||"UUID"==t.name)&&(l=!1),l):l},isCustomColumnHidden(e){let t=!1;if(!this.custom_columns_to_hide||0==this.custom_columns_to_hide.length)return t;for(const l of this.custom_columns_to_hide)if(l===e){t=!0;break}return t},isRowDeleted(e){let t=this.getLineUuid(e);return!this.rows_to_delete.includes(t)},getLineUuid(e){let t="";for(let[l,a]of e.entries())if("UUID"==a.techName){t=a.value;break}return t},getLineItemRowsToHide(){if(this.rows_to_delete=[],this.tableObj&&this.tableObj.hasOwnProperty("extraction_info")){for(let[e,t]of Object.entries(this.tableObj.extraction_info))this.tableObj.extraction_info[e].hasOwnProperty("rows_to_delete")&&(this.rows_to_delete=this.tableObj.extraction_info[e].rows_to_delete);Array.isArray(this.rows_to_delete)&&this.rows_to_delete.length>0?this.rows_to_delete=this.rows_to_delete[0].split(" "):this.rows_to_delete=[]}},addToRowToDelete(e){for(let[t,l]of e.entries())if("UUID"==l.techName){this.rows_to_delete.push(l.value);break}},setRowToDeleteForApi(){if(!this.tableObj||!this.tableObj.hasOwnProperty("extraction_info"))return;let e=[this.rows_to_delete.join(" ")];this.$emit("updateExtractionDataForSave","rows_to_delete",e)},inputKeyDown(e){if(this.training_mode)return e.preventDefault(),e.target.blur(),void this.showErrorToast(this.$t("manual_change"))},inputValueChanges(e,t){return De(this,void 0,void 0,(function*(){const l=this.lineDataObj[t]["columns"][e].formatted_value;this.lineDataObj[t]["columns"][e].value=l,this.lineDataObj[t]["columns"][e].content=l;const a=this.record.amount_format_locale.split(".");"en_US"!=a[0]&&this.lineItemLayout.hasOwnProperty(e)&&"AMOUNT"===this.lineItemLayout[e].column_type&&(this.lineDataObj[t]["columns"][e].value=yield this.convertValueAccordingToLocale(l,a[0],"en_US")),this.updateJsonForLineItems(e,t)}))},updateJsonForLineItems(e,t){Array.from(this.tableObj.rows).forEach(((l,a)=>{t===l.id&&Array.from(l.columns).forEach(((t,o)=>{t.name!==e||(this.tableObj.rows[a].columns[o]=this.lineDataObj[l.id].columns[e])}))})),this.dispatchEventToSaveTableChanges()},setJsonForLineItems(){Array.from(this.tableObj.rows).forEach(((e,t)=>{const l=e.id,a=this.lineDataObj[l];this.tableObj.rows[t]=a})),this.dispatchEventToSaveTableChanges()},dispatchEventToSaveTableChanges(e=!1){this.docStore.confirmationForPoConnectionReset=!0,this.record.tables&&this.record.tables[0]||(this.record.tables=[]),this.record.tables[0]=this.tableObj},hasLineItems(){return!(!this.tableRows||0===Object.keys(this.tableRows).length)},setAdvSettings(){this.move_extra_rows_to="",this.header_rows_count=1,this.extra_columns=[],this.formatting_options&&(this.formatting_options.hasOwnProperty("merge_extra_lines_to")&&null!==this.formatting_options.merge_extra_lines_to&&(this.move_extra_rows_to=this.formatting_options.merge_extra_lines_to),this.formatting_options.hasOwnProperty("header_rows_count")&&null!==this.formatting_options.header_rows_count&&(this.header_rows_count=this.formatting_options.header_rows_count),this.formatting_options.hasOwnProperty("extra_cols")&&null!==this.formatting_options.extra_cols&&(this.extra_columns=this.formatting_options.extra_cols),this.formatting_options.hasOwnProperty("group_column")&&null!==this.formatting_options.group_column&&(this.group_column=this.formatting_options.group_column),this.formatting_options.hasOwnProperty("min_group_rows")&&null!==this.formatting_options.min_group_rows&&(this.min_group_rows=this.formatting_options.min_group_rows),this.formatting_options.hasOwnProperty("max_group_rows")&&null!==this.formatting_options.max_group_rows&&(this.max_group_rows=this.formatting_options.max_group_rows),this.formatting_options.hasOwnProperty("distinct_group_column")&&null!==this.formatting_options.distinct_group_column&&(this.distinct_group_column=this.formatting_options.distinct_group_column),this.formatting_options.hasOwnProperty("reverse_grouping")&&null!==this.formatting_options.reverse_grouping&&(this.reverse_grouping=this.formatting_options.reverse_grouping),this.formatting_options.hasOwnProperty("split_text")&&null!==this.formatting_options.split_text&&(this.split_text=this.formatting_options.split_text))},formatWthAdvSettings(){return De(this,void 0,void 0,(function*(){yield this.requestReformate(),this.openAdvSettings=!1}))},advSettingNewFieldColumnSelected(e,t){this.new_field_model[t]?this.new_field_model[e]=this.new_field_model[t].value:this.new_field_model[e]=""},saveNewFieldForAdvSettings(){this.new_field_model["pattern_invalid"]=!1,this.new_field_model["key_invalid"]=!1,this.new_field_model["source_invalid"]=!1;let e=!0;if(this.new_field_model["pattern"]&&!(0,K.IN)(this.new_field_model["pattern"])&&(this.new_field_model["pattern_invalid"]=!0,e=!1),this.new_field_model["key"]&&""!=this.new_field_model["key"]||(this.new_field_model["key_invalid"]=!0,e=!1),this.new_field_model["source"]&&""!=this.new_field_model["source"]||(this.new_field_model["source_invalid"]=!0,e=!1),!e)return;let t=this.new_field_model["label"];t||(t=this.new_field_model["key"].toUpperCase()),this.extra_columns||(this.extra_columns=[]),this.extra_columns.push({field_key:this.new_field_model["key"].toUpperCase(),source_field:this.new_field_model["source"].toUpperCase(),label:t,pattern:this.new_field_model["pattern"].toUpperCase()}),this.addFieldsDialog=!1},addFieldForAdvSettings(){this.addFieldsDialog=!0,this.new_field_model={}},removeFieldFromSettings(e){e=Number(e),e>-1&&this.extra_columns.splice(e,1)},revertChanges(e=!1){return De(this,void 0,void 0,(function*(){!1!==e?(this.revert_changes_confirm_dialog=!1,this.resetFormatSettings(),yield this.requestReformate()):this.revert_changes_confirm_dialog=!0}))},isViewPo(){this.$route.fullPath.match(/po-matching/g)&&(this.is_po_view=!0)},refactorApiData(){this.resetFormatSettings(),this.setFormatOptions(),this.setAdvSettings(),this.prepareTableLayoutObj(),this.prepareTableColumn(),this.prepareTableRowsAndRowObj(),this.sortTableColumn(),this.validateLineItemColumns(),this.prepareDisabledCstmColumnsList(),this.preparePrompt(),setTimeout((()=>{let e=document.querySelector("#line_item_table");if(e){let t=e.querySelector("table");t&&this.resizableGrid(t)}}),1e3)},preparePrompt(){this.ai_prompt="",this.ai_tags=[],this.tableObj&&(this.tableObj.hasOwnProperty("ai_prompt")&&(this.ai_prompt=this.tableObj.ai_prompt),this.tableObj.hasOwnProperty("ai_tags")&&(this.ai_tags=this.tableObj.ai_tags))},setFormatOptions(){this.formatting_options={},this.tableObj&&this.tableObj.hasOwnProperty("formatting_options")&&(this.formatting_options=this.tableObj.formatting_options),this.tableObj.formatting_options=this.formatting_options,this.formatting_options.hasOwnProperty("mapping")&&null!==this.formatting_options.mapping&&(this.column_mapping_indexes=Object.assign({},this.formatting_options.mapping)),this.formatting_options.hasOwnProperty("columns_to_hide")&&null!==this.formatting_options.columns_to_hide&&(this.columns_to_hide=Object.assign([],this.formatting_options.columns_to_hide)),this.formatting_options.hasOwnProperty("custom_columns_to_hide")&&null!==this.formatting_options.custom_columns_to_hide&&(this.custom_columns_to_hide=Object.assign([],this.formatting_options.custom_columns_to_hide)),this.formatting_options.hasOwnProperty("column_origins")&&!(0,D.z)(this.formatting_options.column_origins)&&(0,D.Gv)(this.formatting_options.column_origins)||(this.tableObj.formatting_options.column_origins={},this.formatting_options.column_origins={})},resetRows(){this.tableRows=[],this.lineDataObj=[],this.lineItemsErrors={}},resetFormatSettings(){this.move_extra_rows_to="",this.header_rows_count=1,this.extra_columns=[],this.group_column="",this.min_group_rows=1,this.max_group_rows=null,this.distinct_group_column=!1,this.reverse_grouping=!1,this.column_mapping_indexes={},this.columns_to_hide=[],this.custom_columns_to_hide=[],this.split_text=!1},setTableData(e){this.tableObj=e,this.ai_prompt=this.tableObj.ai_prompt,this.tableObj.hasOwnProperty("ai_tags")&&(this.ai_tags=this.tableObj.ai_tags)},prepareTableRowsAndRowObj(){this.docStore.confirmationForPoConnectionReset=!0,this.tableRows=[],this.lineDataObj=[];let e={};if(this.lineItemsErrors={},this.tableRowsLocationsMap.clear(),!this.tableObj||!this.tableObj.hasOwnProperty("rows")||0==this.tableObj.rows.length)return;this.tableObj.rows[0].id;Array.from(this.tableObj.rows).forEach((t=>{if(!1===t.is_deleted){let l={};e[t.id]=JSON.parse(JSON.stringify(t)),e[t.id].show_menu=!1,e[t.id].locations_list=[],t.locations_list&&Array.from(t.locations_list).forEach((l=>{e[t.id].locations_list["page_"+l.page]=l,this.tableRowsLocationsMap.has("page_"+l.page)||this.tableRowsLocationsMap.set("page_"+l.page,t.id)})),delete e[t.id].columns,e[t.id]["columns"]=[],Array.from(t.columns).forEach((a=>{e[t.id].columns[a.name]=JSON.parse(JSON.stringify(a)),e[t.id].columns[a.name].locations_list=[],a.locations_list&&Array.from(a.locations_list).forEach((l=>{e[t.id].columns[a.name].locations_list["page_"+l.page]=l})),t.id,(0,D.z)(a.formatted_value)&&(a.formatted_value=""),l[a.name]=a.formatted_value,this.prepareMapOfColumnHavingData(a)})),this.addExtraColumnsInRow(e,l,t.id),l["id"]=t.id,t.id,this.tableRows.push(l),this.setRowErrors(t)}})),Object.assign(this.lineDataObj,e),this.addExtraColumnsInExportJson()},prepareMapOfColumnHavingData(e){Ie.has(e.name)?!1===Ie.get(e.name)&&e.formatted_value&&null!=e.formatted_value&&""!=e.formatted_value&&Ie.set(e.name,!0):e.formatted_value&&null!=e.formatted_value&&""!=e.formatted_value?Ie.set(e.name,!0):Ie.set(e.name,!1)},addExtraColumnsInRow(e,t,l){for(let a of this.layoutExtraColumns){let o={name:a,value:"",content:"",locations:[],locations_list:[],formatted_value:"",is_extra_column:!0};e[l].columns[a]=o,Ie.set(a,!1),t[a]=""}},addExtraColumnsInExportJson(){let e=[];for(let t of this.layoutExtraColumns){let l={name:t,value:"",content:"",locations:[],locations_list:[],formatted_value:"",is_extra_column:!0};e.push(l)}Array.from(this.tableObj.rows).forEach(((t,l)=>{for(let a of e)this.tableObj.rows[l].columns.push(a)}))},setRowErrors(e){if(this.lineItemsErrors[e.id]={},!e.messages||!Array.isArray(e.messages))return;let t={};for(const l in e.messages){let a=e.messages[l];if("COLUMN_NOT_MAPPED"==a.message_code)continue;if(!a.message||""==a.message)continue;let o=a.message;if(a.hasOwnProperty("col_name")){let e=this.$t(a.col_name);this.lineItemLayout.hasOwnProperty(a.col_name)&&(e=this.lineItemLayout[a.col_name].lbl_to_display),o=e+": "+o}t[l]=o}this.lineItemsErrors[e.id]=t},rowHasErrors(e){return!(!this.lineItemsErrors.hasOwnProperty(e)||null===this.lineItemsErrors[e]||(0,D.dd)(this.lineItemsErrors[e]))},isColumnHasError(e,t){return!(!this.lineItemsErrors.hasOwnProperty(e)||(0,D.dd)(this.lineItemsErrors[e])||null===this.lineItemsErrors[e])&&!(!this.lineItemsErrors[e].hasOwnProperty(t)||!this.lineItemsErrors[e][t]||""===this.lineItemsErrors[e][t])},prepareTableLayoutObj(){this.tags_options=[],this.dropdownColumns=[];let e={};this.lineItemLayout={},this.initStandardColumns(),this.tableObj&&this.tableObj.hasOwnProperty("layout")&&(Array.from(this.tableObj.layout).forEach((t=>{e.hasOwnProperty(t.column_name)||0!=t.is_hidden||this.isCustomColumnHidden(t.column_name)||(e[t.column_name]=!0,t["lbl_to_display"]=this.getLabelToDisplay(t),this.lineItemLayout[t.column_name]=t,this.addStandardColumns(t),this.dropdownColumns.push({header:t.lbl_to_display,techName:t.column_name}),this.tags_options.push({label:t.lbl_to_display,value:t.column_name}))})),this.tags_filtered_options=JSON.parse(JSON.stringify(this.tags_options)),this.sortMappingColumns())},sortMappingColumns(){this.dropdownColumns.length>0&&this.dropdownColumns.sort((function(e,t){return e.header<t.header?-1:e.header>t.header?1:0}))},initStandardColumns(){this.advance_settings_columns=[],this.advance_settings_columns.push(Object.assign({},{value:"",label:this.$t("select")})),this.advance_settings_columns.push(Object.assign({},{value:"__trash__",label:this.$t("trash")}))},addStandardColumns(e){this.advance_settings_columns.push(Object.assign({},{value:e.column_name,label:e.column_name}))},prepareTableColumn(){this.tableColumns=[];let e={};if(this.layoutExtraColumns=[],!(this.tableObj&&this.tableObj.hasOwnProperty("rows")&&this.tableObj.rows.length>0))return;let t={name:"id",field:"id",align:"left",label:"",is_mapped:!0,org_index:"",column_type:"string",original_name:""};this.tableColumns.push(t);const l=this.tableObj.rows[0];if(!l)return;let a=JSON.parse(JSON.stringify(this.lineItemLayout));logInfo("prepareTableColumn 3",l.columns,a),Array.from(l.columns).forEach((t=>{let o=this.isColumnHidden(l,t);if(o){let l=t.name,o="string",i="",s="";this.lineItemLayout.hasOwnProperty(t.name)&&(l=this.lineItemLayout[t.name].lbl_to_display,this.lineItemLayout[t.name].hasOwnProperty("column_type")&&(o=this.lineItemLayout[t.name].column_type,i=this.lineItemLayout[t.name].is_required,s=this.lineItemLayout[t.name].always_visible),delete a[t.name]);let n="";null!=t.org_index&&void 0!=t.org_index&&(n=String(t.org_index));let r={name:t.name,field:t.name,align:"left",label:l,is_mapped:!!t.is_mapped&&t.is_mapped,column_type:o,org_index:n,col_origin:"auto",is_required:i,always_visible:s,original_name:this.getOrignalColumnName(t),is_extra_column:!!t.hasOwnProperty("is_extra_column")&&t.is_extra_column};r.col_origin=this.getColumnOrigin(this.tableObj,t.name);const d=r.is_mapped||!this.remove_unmapped_columns&&!r.is_mapped;t.hasOwnProperty("org_index")&&null!=t.org_index&&d?this.tableColumns.push(r):e[t.name]=r}}));for(let[o,i]of Object.entries(e)){const e=i;(e.hasOwnProperty("is_extra_column")&&!0===e.is_extra_column||e.always_visible||e.is_required)&&this.tableColumns.push(e)}for(let o in a){const e=a[o];if(!e.hasOwnProperty("org_index")||!e.org_index)continue;let t=!this.isCustomColumnHidden(e.column_name);if(!t){delete a[e.column_name];continue}const l=e.is_mapped||!this.remove_unmapped_columns&&!e.is_mapped;if(!l){delete a[e.column_name];continue}let i="string";this.lineItemLayout.hasOwnProperty(e.column_name)&&this.lineItemLayout[e.column_name].hasOwnProperty("column_type")&&(i=this.lineItemLayout[e.column_name].column_type);let s={name:e.column_name,field:e.column_name,align:"left",label:e.lbl_to_display,is_mapped:!!e.is_mapped&&e.is_mapped,column_type:i,org_index:null,is_extra_column:!!e.hasOwnProperty("is_extra_column")&&e.is_extra_column,col_origin:"auto",original_name:this.getOrignalColumnName(e)};s.col_origin=this.getColumnOrigin(this.tableObj,e.column_name),this.tableColumns.push(Object.assign({},s)),this.layoutExtraColumns.push(e.column_name)}},getOrignalColumnName(e){return!e.hasOwnProperty("original_name")||(0,D.z)(e.original_name)?"":String(e.original_name)},sortTableColumn(){let e=JSON.parse(JSON.stringify(this.tableColumns)),t=[];this.tableColumns=[],Array.from(e).forEach(((e,l)=>{1!=this.hasOriginalIndex(e.org_index,e)&&Ie.has(e.name)&&!1===Ie.get(e.name)?t.push(Object.assign({},e)):this.tableColumns.push(Object.assign({},e))})),t.sort(((e,t)=>{let l=e.field.toLowerCase(),a=t.field.toLowerCase();return l<a?-1:l>a?1:0})),Array.from(t).forEach(((e,t)=>{this.tableColumns.push(Object.assign({},e))}))},isColumnHidden(e,t){let l="";null!=t.original_name&&void 0!=t.original_name&&(l=String(t.original_name));let a=!0;return""!==l&&(a=this.isColumnVisible(l,t)),""===l&&(a=!this.isCustomColumnHidden(t.name)),a},confirmDeleteColumn(e){this.showConfirmDeleteColumn=!0,this.selectedColumn=e},deleteLineItemColumn(){return De(this,void 0,void 0,(function*(){logInfo("deleteLineItemColumn",this.selectedColumn),this.columns_to_hide.push(this.selectedColumn),null!=this.group_column&&this.group_column===this.selectedColumn&&(this.group_column=""),yield this.requestReformate(),this.selectedColumn=""}))},restoreDeleteColumn(){this.columns_to_hide="",this.requestReformate(),this.dispatchEventToSaveTableChanges(),this.reRenderTable()},getColumnToHide(){return Array.isArray(this.columns_to_hide)?this.columns_to_hide.join():""},removeLineItem(e){Array.from(this.tableObj.rows).forEach((t=>{if(t.id===e)return t.is_deleted=!0,this.$forceUpdate(),void this.prepareTableRowsAndRowObj()})),this.dispatchEventToSaveTableChanges()},swapColumn(e,t,l,a){return De(this,void 0,void 0,(function*(){if(!this.isViewEditable())return;if(this.selectedColumnHasData(e.techName))return void this.showErrorToast(this.$t("column_has_value"));let o=!1,i=!1;if(this.column_mapping_indexes)for(const a in this.column_mapping_indexes){let s=this.column_mapping_indexes[a];if(a==e.techName&&s!=t){o=!0;break}if(a==l&&s==t){i=!0;break}}o?this.showErrorToast(this.$t("pages.messages.COLUMN_ALREADY_MAPPED")):(i&&delete this.column_mapping_indexes[l],this.addInMapping(t,e.techName),yield this.requestReformate(),setTimeout((()=>{this.scrollInToViewCenter(document.getElementById(a))}),10))}))},selectedColumnHasData(e){let t=!1;for(const l in this.tableRows){const a=this.tableRows[l];if(a.hasOwnProperty(e)&&null!=a[e]&&void 0!=a[e]&&""!=a[e]){t=!0;break}}return t},getTableData(){return this.tableObj?this.tableObj:{}},addNewCustomColumn(e){this.addColumnDialog=!0},editColumnData(e,t,l){if(!this.lineDataObj[l].hasOwnProperty("custom_row"))if(!0===this.isRowMode){let a,o=10;this.clearOldSelection(),e.target.closest("label")&&e.target.closest("label").classList.add("active-border-2px"),a=this.lineDataObj[l].columns[t];let i=!0;if(a&&a.locations_list){let e=a.locations_list;if(e.hasOwnProperty("page_"+this.currentPageNo))i=!1;else if(0!=Object.entries(e).length){o=200;for(const t in e){i=!1;let l=+e[t].page-1;this.$emit("loadNewPageImage",l);break}}else this.loadAppropriatePage(l)}setTimeout((()=>{if(!1===i){let i={rowId:l,columnName:t};this.getTableRowsAreas({detail:i}),setTimeout((()=>{let l=(0,M.$)("#draw_"+t);if(l){l.querySelector(".select-areas--outline").style.opacity="0";let o=l.querySelector(".select-areas--background_area");o.style.border="2px",o.style.borderStyle="solid",o.style.borderColor="#8800ff",this.oldSelectedColumnName=t,this.scrollInToViewCenter(o),this.removeExistingConfirmationOverlays(),a&&""!==this.addExtractionMethodClass(a)&&setTimeout((()=>{let t=e.target.closest("td").dataset.columnValue,l=e.target.closest("td").dataset.scoreDescription,a={value:t,score:l,selection:o};const i=new CustomEvent("prepare_overlay",{detail:a});document.dispatchEvent(i)}),20)}}),o)}else{this.showNotification(this.$t("pages.messages.SELECT_AREA"));let e={rowId:l,columnName:t,onlySelectedRow:!0};this.getTableRowsAreas({detail:e}),setTimeout((()=>{const e=new CustomEvent("enable_column_selection",{detail:l});document.dispatchEvent(e)}),10)}}),10)}else this.loadAppropriatePage(l),setTimeout((()=>{let e={rowId:l,columnName:t,onlySelectedRow:!0};this.drawSelectedRow({detail:e}),setTimeout((()=>{let e=(0,M.$)("#draw_"+l);if(e){this.oldSelectedColumnName=t;let l=e.querySelector(".select-areas--background_area");this.scrollInToViewCenter(l)}}),40)}),100)},clearOldSelection(){if(""!=this.oldSelectedColumnName){let e=(0,M.$)("#draw_"+this.oldSelectedColumnName);if(e){let t=e.querySelector(".select-areas--background_area"),l=t.style.background.split("100%)");t.style.background=j.I7+l[1]}}let e=document.querySelector("#line_item_table").querySelectorAll("label.active-border-2px");Array.from(e).forEach((e=>{e.classList.remove("active-border-2px")}));let t=document.querySelector("#screenshot_container"),l=t.querySelectorAll("div.select-areas--outline");Array.from(l).forEach((e=>{e.style.opacity="0.2",e.nextSibling&&(e.nextSibling.style.border="unset")}))},loadAppropriatePage(e){let t=this.lineDataObj[e],l="";for(const a in t.locations_list){if(t.locations_list[a].page===this.currentPageNo){l=a;break}l=a}if(""!=l){let e=+t.locations_list[l].page-1;this.$emit("loadNewPageImage",e)}},drawSelectedRow(e){let t="",l=null;void 0!=e.detail&&e.detail.columnName&&(t=e.detail.rowId,l=e.detail.columnName);let a=[];if(this.lineDataObj[t]){this.lineDataObj[t].locations_list&&this.lineDataObj[t].locations_list["page_"+this.currentPageNo]&&a.push({id:t,type:"row",row_id:"",background:j.je,opacity:"1",coord:this.lineDataObj[t].locations_list["page_"+this.currentPageNo].coords[0]});let o=this.lineDataObj[t].columns[l];o&&o.locations_list&&o.locations_list["page_"+this.currentPageNo]&&a.push({id:l,row_id:e.detail.rowId,type:"column",background:j.je,opacity:"1",coord:o.locations_list["page_"+this.currentPageNo].coords[0]})}let o={columns:[],table_areas:[]};o.table_areas=a,V.A.set("table_rows_data",JSON.stringify(o));const i=new CustomEvent("prepare_customized_areas");document.dispatchEvent(i)},getTableRowsAreas(e){let t="all_rows",l=null;void 0!=e.detail&&e.detail.columnName&&(t=e.detail.rowId,l=e.detail.columnName);let a=[];for(const o in this.lineDataObj)this.lineDataObj[o]&&this.lineDataObj[o].locations_list["page_"+this.currentPageNo]&&a.push({id:o,type:"row",row_id:"",background:void 0!=e.detail&&e.detail.rowId===o?"":"linear-gradient( rgba(211, 211, 211, 0.5) 100%, rgba(0, 0, 0, 0.5)100%),",opacity:(void 0!=e.detail&&e.detail.rowId,"1"),coord:this.lineDataObj[o].locations_list["page_"+this.currentPageNo].coords[0]});if(e.detail&&!e.detail.onlySelectedRow&&this.lineDataObj.hasOwnProperty(e.detail.rowId)){let t=this.lineDataObj[e.detail.rowId].columns;for(const l in t)t[l].locations_list&&t[l].locations_list.hasOwnProperty("page_"+this.currentPageNo)&&a.push({id:l,row_id:e.detail.rowId,type:"column",background:this.columnDefaultBackground(),opacity:1,coord:t[l].locations_list["page_"+this.currentPageNo].coords[0]})}this.$emit("setTableRowCorrdinates",JSON.stringify(a),l,t)},columnDefaultBackground(){return j.je},hasOriginalIndex(e,t){let l=!1;return""!==e&&null!==e&&void 0!==e&&(l=!0),l},getScoreDescription(e){let t="";return e&&e.hasOwnProperty("score_description")&&""!==e.score_description&&null!=e.score_description&&(t=e.score_description),String(t)},TriggerSplitText(){this.split_text_confirm_dialog=!1,this.openAdvSettings=!1;const e=new CustomEvent("perform_split_text",{detail:this.split_text});document.dispatchEvent(e)},disableCustomColumn(e){this.formatting_options.hasOwnProperty("custom_columns_to_hide")&&null!==this.formatting_options.custom_columns_to_hide||(this.formatting_options.custom_columns_to_hide=Object.assign([])),this.formatting_options.custom_columns_to_hide.push(e),this.refactorApiData(),this.$forceUpdate(),this.dispatchEventToSaveTableChanges(!0)},prepareDisabledCstmColumnsList(){this.disableColumnList=[],this.tableObj&&this.tableObj.hasOwnProperty("layout")&&Array.from(this.tableObj.layout).forEach((e=>{if(!0===this.isCustomColumnHidden(e.column_name)){let t={};t["name"]=e.column_name,t["label"]=this.getLabelToDisplay(e),this.disableColumnList.push(t)}}))},openDisabledCstmColumnsView(){this.tableObj&&this.tableObj.hasOwnProperty("layout")&&(this.openDisableColumnListView=!0)},enableCustomColumn(e){if(e&&e.detail){var t=this.formatting_options.custom_columns_to_hide.indexOf(e.detail);-1!==t&&this.formatting_options.custom_columns_to_hide.splice(t,1),this.refactorApiData(),this.dispatchEventToSaveTableChanges(!0)}},customColumnCreated(e){e&&e.detail&&e.detail.tables&&(this.addColumnDialog=!1,this.setTableData(e.detail.tables),this.dispatchEventToSaveTableChanges(),this.refactorApiData())},createNewRow(e){if(!e||!e.detail)return;let t=e.detail.field,l=e.detail.addLineModel,a=this.createRowJson();Array.from(a.columns).forEach(((e,a)=>{"TOTAL_AMOUNT"==e.name?(e.formatted_value=t.formatted_value,e.value=t.value):"DESCRIPTION"==e.name&&(e.formatted_value=l.description,e.value=l.description)}));const o=Number(l.position);let i=this.tableObj.rows[o].id;a.parent_id=i,a.costing_element=l.costing_element,this.tableObj.rows.splice(o+1,0,a),this.prepareTableRowsAndRowObj()},createNewEmptyRow(){let e=this.createRowJson();e.columns.forEach((e=>{delete e.original_content})),this.tableObj.rows.splice(this.tableRows.length,0,e),this.prepareTableRowsAndRowObj()},createRowJson(){let e=JSON.parse(JSON.stringify(this.tableObj.rows[0]));return e.id=(0,N.A)(),e.ids=[],e.content="",e.locations=[],e.locations_list=[],e.is_deleted=!1,e.messages=[],e.custom_row=!0,Array.from(e.columns).forEach(((e,t)=>{e.content="",e.locations=[],e.locations_list=[],e.value="",e.formatted_value=[]})),e},prepareRegexData(e){this.docStore.regex.clear(),this.selectedColumn=e,Array.from(this.tableObj.rows).forEach(((t,l)=>{Array.from(t.columns).forEach(((t,l)=>{t.name===e&&t.hasOwnProperty("rule")&&t.hasOwnProperty("valuePattern")&&this.docStore.regex.set(t.rule,t.valuePattern)}))})),this.showRegexDlg=!0},updateRegexByRule(){this.showRegexDlg=!1,Array.from(this.tableObj.rows).forEach(((e,t)=>{Array.from(e.columns).forEach(((e,l)=>{e.name===this.selectedColumn&&e.hasOwnProperty("rule")&&e.hasOwnProperty("valuePattern")&&(this.tableObj.rows[t].columns[l].valuePattern=this.docStore.regex.get(e.rule))}))})),this.refactorApiData()},setShowRegexDlg(e){this.showRegexDlg=e},highliteFirstRowOfCurrentPage(){if(this.tableRowsLocationsMap.has("page_"+this.currentPageNo)){const e=this.tableRowsLocationsMap.get("page_"+this.currentPageNo),t=(0,M.$)("#"+j.Al+e);t&&(this.scrollInToViewStart(t),setTimeout((()=>{t.classList.add("light-grey-with-effect"),setTimeout((()=>{t.classList.remove("light-grey-with-effect")}),1400)}),500))}},getBackgroundColor(e){let t="";return e.hasOwnProperty("is_auto_filled")&&1==e.is_auto_filled?t=this.is_auto_filled_color:e.hasOwnProperty("is_missing")&&1==e.is_missing&&(t=this.is_missing_color),t},getRowIdPrefix(){return j.Al},getColumnClass(e){const t=e.split(" ");return 2==t.length&&1==t[1].length?"no-wrap-text":""},displayName(e,t){try{logInfo(this.lineDataObj[t]["columns"][e].content)}catch(l){logError("displayName",e,this.lineDataObj[t]["columns"])}return e},confirmRequestReformate(){this.record.po_multi_matched&&this.record.po_multi_matched.length>0?this.confirmReformate=!0:this.requestReformate()},proceedToReformat(){this.confirmReformate=!1,this.record.po_multi_matched=[],this.requestReformate()},requestReformate(){return De(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.lineItemsloading=!0,this.resetRows();const e={doc_id:this.record.doc_id,data:JSON.stringify(this.getTableData()),column_mapping_indexes:JSON.stringify(this.getColumnMappingIndexes()),ai_prompt:this.ai_prompt?this.ai_prompt:"",ai_tags:JSON.stringify(this.ai_tags),columns_to_hide:this.getColumnToHide(),column_origins:JSON.stringify(this.getColumnOrigins())};this.record.hasOwnProperty("is_table_training_doc")&&(e["is_table_training_doc"]=(!0).toString()),logInfo("requestReformate",JSON.parse(e.data));const t=yield Q.sm.reformatAITable(e);if(!1===t.success)throw t.message;this.setTableData(t),this.refactorApiData(),this.dispatchEventToSaveTableChanges(),this.lineItemsloading=!1}catch(e){const t=H.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},getColumnOrigins(){return this.tableObj.formatting_options.column_origins},updateColumnOrigin(e){if(!e||!e.hasOwnProperty("column_name")||!e.hasOwnProperty("origin"))return;if(""==e.column_name)return;if(""==e.language_origin)return;let t=!1;Array.from(this.tableObj.rows).forEach(((l,a)=>{Array.from(l.columns).forEach(((l,a)=>{l.name===e.column_name&&(l.col_origin=e.origin,t=!0)}))})),this.tableObj.formatting_options.column_origins[e.column_name]=e.origin,t&&this.requestReformate()},setDataForRuleSave(){this.record.tables[0]=this.tableObj,this.ai_prompt=this.tableObj.ai_prompt,this.tableObj.hasOwnProperty("ai_tags")&&(this.ai_tags=this.tableObj.ai_tags)},saveRules(){return De(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;const e=yield this.hasActionAcquiredLock();if(!e)return;this.showLoading(),this.setDataForRuleSave();const t={data:JSON.stringify(this.record)},l=yield Q.sm.saveRules(t);if(!1===l.success)throw l.message}catch(e){const t=H.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},deleteRules(){return De(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;const e=yield this.hasActionAcquiredLock();if(!e)return;this.showLoading(),this.setDataForRuleSave();const t={doc_id:this.record.doc_id},l=yield Q.sm.deleteRules(t);if(!1===l.success)throw l.message;this.showSuccessToast(this.$t("pages.messages.RULES_DELETED_SUCESSFULLY")),yield this.autoDetectTables({extract_ai_table:(!0).toString()}),this.tableObj=this.record.tables[0],this.lineItemDataLoaded()}catch(e){const t=H.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},highlightRow(e){const t=new CustomEvent("highlight_table_row",{detail:j.Al+e});document.dispatchEvent(t)},reRenderTable(){this.displayTable=!1,this.tableRows.length>0&&(!this.record.hasOwnProperty("tables")||(0,D.z)(this.record.tables)||0==this.record.tables.length)?this.deleteTable():this.init()},renderShowMapCoulums(){this.refactorApiData()},addTages(e,t){t({label:e,value:e})},aiTagsUpdate(e){e&&(e.forEach((e=>{e.new_tag&&(e.label=e.label.replace(" ("+this.$t("new")+" tag)",""))})),this.tags_filtered_options=this.getUniqueTags(e),void 0!==this.$refs.ai_tags_ref&&(this.$refs.ai_tags_ref.refresh(),this.$refs.ai_tags_ref.updateInputValue("")))},getUniqueTags(e){if(!e)return[];const t=e.map((e=>e.value)),l=this.tags_options.filter((e=>!t.includes(e.value)));return l},filterTagList(e,t,l){const a=this.getUniqueTags(this.ai_tags);t(""!==e?()=>{const t=e.toLowerCase();this.tags_filtered_options=a.filter((e=>e.label.toLowerCase().indexOf(t)>-1)),0===this.tags_filtered_options.length&&this.tags_filtered_options.push({label:t+" ("+this.$t("new")+" tag)",value:t,new_tag:!0})}:()=>{this.tags_filtered_options=a})},displayNonMappedColumnsDialog(){this.nonMappedColumnsDialog=!0},addNonMappedColumns(e){if(this.nonMappedColumnsDialog=!1,e&&e.detail&&e.detail.hasOwnProperty("columns_in_table")&&e.detail.columns_in_table)try{const t=e.detail.columns_in_table,l=this.tableObj.rows[0];if(!l)return;const a={},o={};for(let[e,s]of Object.entries(this.tableColumns)){const e=s;e.hasOwnProperty("is_extra_column")&&!0===e.is_extra_column&&(a[e.name]=e)}for(let[e,s]of Object.entries(t)){const t=s;a.hasOwnProperty(t.column_name)||(o[e]=e)}const i={};for(let[e,s]of Object.entries(a)){const e=s;!t.hasOwnProperty(e.name)&&e.hasOwnProperty("is_extra_column")&&!0===e.is_extra_column&&(i[e.name]=e.name)}if(0==(0,D.Ns)(o)&&0==(0,D.Ns)(i))return;Array.from(this.tableObj.rows).forEach(((e,l)=>{for(let[t,a]of Object.entries(i)){const e=this.tableObj.rows[l].columns.findIndex((e=>e.name===t));this.tableObj.rows[l].columns.splice(e,1)}for(let[o,i]of Object.entries(t)){const e=i;if(a.hasOwnProperty(e.column_name))continue;e.org_index="";let t={name:e.column_name,value:"",content:"",locations:[],locations_list:[],formatted_value:"",is_extra_column:!0};this.tableObj.rows[l].columns.push(t)}})),logInfo("addNonMappedColumns 3"),this.dispatchEventToSaveTableChanges(),this.reRenderTable()}catch(t){logError(t)}},additionalCostFlag(e,t=!0){try{this.lineDataObj[e].is_additional_cost=t;for(let[l,a]of Object.entries(this.tableObj.rows)){const l=a;l.id!=e?l.is_additional_cost=!1:l.is_additional_cost=t}for(let[t,l]of Object.entries(this.lineDataObj))t!=e&&(this.lineDataObj[t].is_additional_cost=!1);this.lineDataObj[e].show_menu=!1,this.updateViewFields(e,t),this.dispatchEventToSaveTableChanges(),this.reRenderTable()}catch(l){logError(l)}},updateViewFields(e,t){try{this.updateField("shipping_charges","TOTAL_AMOUNT",e,t),this.updateField("charges_description","DESCRIPTION",e,t)}catch(l){logError(l)}},updateField(e,t,l,a){try{a?(this.formBuilderModel[e].value=this.lineDataObj[l].columns[t].value,this.formBuilderModel[e].formatted_value=this.lineDataObj[l].columns[t].formatted_value,this.formBuilderModel[e].content=this.lineDataObj[l].columns[t].content):(this.formBuilderModel[e].value="",this.formBuilderModel[e].formatted_value="",this.formBuilderModel[e].content="");const o=new CustomEvent("model_updated",{detail:{field_name:e}});document.dispatchEvent(o)}catch(o){logError(o,e,t,l,a)}},handleDragOver(e){e.preventDefault()},handleDrop(e,t){const l="charges_"+t.key,a=this.$refs[l];a&&a[0].handleDrop(e,t)}},setup(){const e=(0,q.A)(),t=(0,z.q3)(),l=(0,z.uL)(),{isFormBuilderMode:a,formBuilderModel:o}=(0,A.bP)(l),i=(0,z.ky)(),{validation_done:s,missing_mapping_column:n,lineDataObj:r,tableRows:d}=(0,A.bP)(i),u=(0,z.q3)(),{record:c,doc_loaded:p,has_ai_table:h,remove_unmapped_columns:m}=(0,A.bP)(u),{saveDocument:_,autoDetectTables:b}=u,v=(0,z.Bu)(),{user_settings:g,loading_settings:f}=(0,A.bP)(v),{startSettingsFetch:y}=v,k=(0,z.oI)(),{hasActionAcquiredLock:w}=k;let C=[],x={};const L=(0,I.KR)("");return{remove_unmapped_columns:m,formBuilderModel:o,has_ai_table:h,saveDocument:_,startSettingsFetch:y,autoDetectTables:b,hasActionAcquiredLock:w,setting_flag:(0,I.KR)(!1),user_settings:g,loading_settings:f,record:c,doc_loaded:p,is_line_item_validated:s,missing_mapping_column:n,filter:L,docStore:t,headers:(0,I.KR)(),lineitems:(0,I.KR)(),move_extra_rows_to:(0,I.KR)(""),header_rows_count:(0,I.KR)(1),min_group_rows:(0,I.KR)(1),max_group_rows:(0,I.KR)(),distinct_group_column:(0,I.KR)(!1),reverse_grouping:(0,I.KR)(!1),group_column:(0,I.KR)(""),column_mapping_indexes:(0,I.KR)(x),columns_to_hide:(0,I.KR)(C),custom_columns_to_hide:(0,I.KR)(C),addFieldsDialog:(0,I.KR)(!1),extra_columns:(0,I.KR)(C),poEditRestrictDialog:(0,I.KR)(!1),poEditRestrictMessage:(0,I.KR)(""),new_field_model:(0,I.KR)(x),new_column_model:(0,I.KR)(x),revert_changes_confirm_dialog:(0,I.KR)(!1),adv_column_options:C,advance_settings_columns:(0,I.KR)([]),confirmDialog:(0,I.KR)(!1),displayTable:(0,I.KR)(!1),selectedColumn:(0,I.KR)(""),showRegexDlg:(0,I.KR)(!1),openAdvSettings:(0,I.KR)(!1),oldSelectedColumnName:(0,I.KR)(""),showConfirmDeleteColumn:(0,I.KR)(!1),headerRowCountRules:[e=>null!==e||"Please type number",e=>e>0&&e<100||"Please type number"],showNotification(t){e.notify({message:t,color:"primary",position:"bottom"})},lineDataObj:r,lineItemsErrors:(0,I.KR)(x),lineItemLayout:(0,I.KR)(C),tableColumns:(0,I.KR)(C),tableRows:d,formatting_options:(0,I.KR)(x),addColumnDialog:(0,I.KR)(!1),headerKey:(0,I.KR)(""),headerLable:(0,I.KR)(""),lineItemsloading:(0,I.KR)(!0),openDisableColumnListView:(0,I.KR)(!1),disableColumnList:(0,I.KR)(C),split_text:(0,I.KR)(!1),split_text_confirm_dialog:(0,I.KR)(!1),tableRowsLocationsMap:(0,I.KR)(new Map),layoutExtraColumns:(0,I.KR)([]),isFormBuilderMode:a,ai_prompt:(0,I.KR)(""),ai_tags:(0,I.KR)([]),tags_options:(0,I.KR)([]),tags_filtered_options:(0,I.KR)([]),nonMappedColumnsDialog:(0,I.KR)(!1)}}});var Oe=l(857),Me=l(42315),Re=l(44488),Pe=l(57722),qe=l(45262),Ve=l(18301),Ne=l(53999),Be=l(90124),$e=l(25173),Qe=l(13796),Xe=l(10386),We=l(84436),Ke=l(67837),Ue=l(63194),je=l(94940),ze=l(82156),He=l(3952),Ge=l(62669),Ye=l(67156);const Je=(0,_e.A)(Te,[["render",E],["__scopeId","data-v-6a19e38c"]]),Ze=Je;Ee()(Te,"components",{QMarkupTable:Oe.A,QTable:Me.A,QTr:Re.A,QTh:Pe.A,QTd:qe.A,QBtnDropdown:Ve.A,QList:Ne.A,QItem:Be.A,QItemSection:$e.A,QItemLabel:Qe.A,QSeparator:Xe.A,QIcon:xe.A,QTooltip:we.A,QMenu:We.A,QInput:Ke.A,QInnerLoading:Ce.A,QSpinnerHourglass:Ue.A,QSelect:je.A,QDialog:ze.A,QCard:be.A,QCardSection:ye.A,QAvatar:He.A,QCardActions:Ge.A,QToolbar:ve.A,QToolbarTitle:ge.A,QBtn:fe.A,QField:Ye.A}),Ee()(Te,"directives",{ClosePopup:Le.A})},34631:(e,t,l)=>{"use strict";l.d(t,{A:()=>C});var a=l(61758),o=l(58790);const i={class:"full-width"},s=["src"];function n(e,t,l,n,r,d){const u=(0,a.g2)("q-icon"),c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-btn"),h=(0,a.g2)("q-btn-group");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(h,{class:"group-btn-panel pr-14 mt-15",outline:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.buttons,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[!t.is_hidden||e.isFormBuilderMode?((0,a.uX)(),(0,a.Wv)(p,{key:0,class:(0,o.C4)(t.selected?"q-btn-selected":""),outline:"",color:"#9d9898",onClick:l=>e.toggleGroupFieldsVisibility(t.field,t.selected)},{default:(0,a.k6)((()=>[(0,a.bF)(u,{size:"md"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{width:"26",src:t.icon},null,8,s)])),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.label),1)])),_:2},1024)])),_:2},1032,["class","onClick"])):(0,a.Q3)("",!0)],64)))),128))])),_:1})])}var r=l(1659),d=l(76956),u=l(83319),c=l(25891),p=l(4225),h=l(42963);const m=(0,a.pM)({name:"CheckBox",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},data(){return{buttons:{}}},mixins:[h.A,c.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.addAdditionalAmountPanelInRows()},methods:{addAdditionalAmountPanelInRows(){let e=JSON.parse(JSON.stringify(p.fN.aditionalAmountGroupPositive)),t=JSON.parse(JSON.stringify(p.fN.aditionalAmountGroupNegative)),l=[],a=!0;this.buttons=[{selected:!1,is_hidden:!1,name:"additional_amount",icon:"images/AdditionalAmount.svg",field:"additional_amount",label:"Additional Amount"},{selected:!1,is_hidden:!1,name:"additional_amount_2",icon:"images/AdditionalAmount.svg",field:"additional_amount_2",label:"Additional Amount 2"},{selected:!1,is_hidden:!1,name:"additional_amount_3",icon:"images/AdditionalAmount.svg",field:"additional_amount_3",label:"Additional Amount 3"},{selected:!1,is_hidden:!1,name:"negative_amount",icon:"images/NegativeAmount.svg",field:"negative_amount",label:"Negative Amount"},{selected:!1,is_hidden:!1,name:"negative_amount_2",icon:"images/NegativeAmount.svg",field:"negative_amount_2",label:"Negative Amount 2"},{selected:!1,is_hidden:!1,name:"negative_amount_3",icon:"images/NegativeAmount.svg",field:"negative_amount_3",label:"Negative Amount 3"}];let o="";for(const[i,s]of this.buttons.entries()){o="";let i=s.field;l.push(i),this.formBuilderConfigModel[i].is_hidden?(s.is_hidden=!0,o=i):this.formBuilderModel[i].value?(s.selected=!0,this.formBuilderModel[i].visibile=!0,this.formBuilderConfigModel[i].visibile=!0,a=!1):(this.formBuilderConfigModel[i].visibile=!1,o=i),o&&(e.includes(i)?e=e.filter((e=>e!==i)):t.includes(i)&&(t=t.filter((e=>e!==i))))}a&&(this.buttons[0].selected=!0,this.formBuilderModel[this.buttons[0].field].visibile=!0,this.formBuilderConfigModel[this.buttons[0].field].visibile=!0);for(const[i,s]of this.formLayout.entries())if(s.name===d.P.tax_details)for(const[a,o]of s.rows.entries())l.some((e=>e===o.field_name))&&(o.visibile=this.formBuilderConfigModel[o.field_name].visibile,e.includes(o.field_name)?o.elementWidth=Math.round(this.calculateRowColSize(e.length)):t.includes(o.field_name)&&(o.elementWidth=Math.round(this.calculateRowColSize(t.length))))},toggleGroupFieldsVisibility(e,t){if(this.isButtonToggleDisable())return;this.buttons.forEach(((l,a)=>{l.field==e&&(l.selected=!t)}));let l=[],a=[];for(const o of this.formLayout)for(const i of o.rows)o.name===d.P.tax_details&&(i.field_name==e&&(i.visibile=!t),i.visibile&&!i.is_hidden&&(p.fN.aditionalAmountGroupPositive.includes(i.field_name)?l.push(i.field_name):p.fN.aditionalAmountGroupNegative.includes(i.field_name)&&a.push(i.field_name)));for(const o of this.formLayout)for(const e of o.rows)o.name===d.P.tax_details&&(l.includes(e.field_name)?e.elementWidth=Math.round(this.calculateRowColSize(l.length)):a.includes(e.field_name)&&(e.elementWidth=Math.round(this.calculateRowColSize(a.length))));this.prepareLayoutForTemplate()}},setup(){const e=(0,u.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,formLayout:o}=(0,r.bP)(e);return{formBuilderConfigModel:a,isFormBuilderMode:l,formBuilderModel:t,formLayout:o}}});var _=l(12807),b=l(76031),v=l(56384),g=l(50492),f=l(97410),y=l(98582),k=l.n(y);const w=(0,_.A)(m,[["render",n],["__scopeId","data-v-40cd17a2"]]),C=w;k()(m,"components",{QBtnGroup:b.A,QBtn:v.A,QIcon:g.A,QTooltip:f.A})},80747:(e,t,l)=>{"use strict";l.d(t,{A:()=>f});var a=l(61758),o=l(58790);const i={class:"full-width"};function s(e,t,l,s,n,r){const d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-btn-group");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(u,{class:"group-btn-panel",outline:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.buttons,((t,l)=>((0,a.uX)(),(0,a.Wv)(d,{key:l,class:(0,o.C4)(["cursor-pointer",t.selected?"q-btn-selected":""]),outline:"",color:"#9d9898",label:e.$t("pages.screen2a."+t.translation_key),onClick:l=>e.toggleFieldsVisibility(t.fields,t.name,t.selected)},null,8,["class","label","onClick"])))),128))])),_:1})])}var n=l(1659),r=l(76956),d=l(83319),u=l(4225),c=l(42963);const p=(0,a.pM)({name:"CheckBox",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},data(){return{buttons:{}}},mixins:[c.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.addFieldsButtonsVibility()},methods:{toggleFieldsVisibility(e,t,l){if(!this.isButtonToggleDisable()){this.buttons.forEach(((e,a)=>{e.name==t&&(e.selected=!l)}));for(const t of this.formLayout)for(const a of t.rows){let t=a.field_name;e.some((e=>e===t))&&(a.visibile=!l,this.formBuilderConfigModel[t].visibile=!l)}this.prepareLayoutForTemplate(),this.$forceUpdate()}},addFieldsButtonsVibility(){this.addVibilityButtons();let e=this.checkButtonsVisibilty(),t=JSON.parse(JSON.stringify(u.fN.amountGroup1)),l=JSON.parse(JSON.stringify(u.fN.amountGroup2)),a=JSON.parse(JSON.stringify(u.fN.amountGroup3)),o=[];this.buttons.forEach(((i,s)=>{let n=Object.values(i.fields);for(const[r,d]of n.entries()){let s=d;this.formBuilderConfigModel[s]&&(o.push(s),!0===e[i.name]?(i.selected=!0,this.formBuilderConfigModel[s].visibile=!0):(i.selected=!1,this.formBuilderConfigModel[s].visibile=!1),this.formBuilderConfigModel[s].is_hidden&&(t.includes(s)?t=t.filter((e=>e!==s)):l.includes(s)?l=l.filter((e=>e!==s)):a.includes(s)&&(a=a.filter((e=>e!==s)))))}}));for(const i of this.formLayout)for(const e of i.rows){let s=e.field_name;i.name===r.P.tax_details&&o.some((e=>e===s))&&(e.visibile=this.formBuilderConfigModel[s].visibile,t.includes(e.field_name)?e.elementWidth=Math.round(this.calculateRowColSize(t.length)):l.includes(e.field_name)?e.elementWidth=Math.round(this.calculateRowColSize(l.length)):a.includes(e.field_name)&&(e.elementWidth=Math.round(this.calculateRowColSize(a.length))))}this.prepareLayoutForTemplate()},addVibilityButtons(){this.buttons=[{selected:!1,name:"full",translation_key:"full",fields:["net_amount","tax_amount","tax_rate","tax_code"]},{selected:!1,name:"reduced",translation_key:"reduced",fields:["net_amount_2","tax_amount_2","tax_rate_2","tax_code_2"],alt_translation_keys:{net_amount_2:"net_amount",tax_amount_2:"tax_amount",tax_rate_2:"tax_rate",tax_code_2:"tax_code"}},{selected:!1,name:"free",translation_key:"free",fields:["net_amount_3","tax_amount_3","tax_rate_3","tax_code_3"],alt_translation_keys:{net_amount_3:"net_amount",tax_amount_3:"tax_amount",tax_rate_3:"tax_rate",tax_code_3:"tax_code"}}]},checkButtonsVisibilty(){var e={};return this.buttons.forEach(((t,l)=>{let a=Object.values(t.fields);e.hasOwnProperty(t.name)||(e[t.name]=!1),a.forEach(((l,a)=>{this.formBuilderModel[l]&&(this.formBuilderModel[l].value||this.formBuilderModel[l].is_required||"error-border-left"==this.formBuilderModel[l].color)&&(e[t.name]=!0)}))})),this.makeFullTaxDetailRowVisible(e),e},makeFullTaxDetailRowVisible(e){let t=!1;for(let[l,a]of Object.entries(e))a&&(t=!0);t||(e["full"]=!0)}},setup(){const e=(0,d.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,formLayout:o}=(0,n.bP)(e);return{formBuilderConfigModel:a,isFormBuilderMode:l,formBuilderModel:t,formLayout:o}}});var h=l(12807),m=l(76031),_=l(56384),b=l(98582),v=l.n(b);const g=(0,h.A)(p,[["render",s],["__scopeId","data-v-77ec8bba"]]),f=g;v()(p,"components",{QBtnGroup:m.A,QBtn:_.A})},37673:(e,t,l)=>{"use strict";l.d(t,{A:()=>y});var a=l(61758),o=l(58790);const i=(0,a.Lk)("br",null,null,-1),s=(0,a.Lk)("br",null,null,-1);function n(e,t,l,n,r,d){const u=(0,a.g2)("q-tooltip"),c=(0,a.g2)("f-btn");return e.isButtonVisible?((0,a.uX)(),(0,a.Wv)(c,{key:0,label:e.formBuilderConfigModel[e.fieldName].label,disable:e.isReadOnly,class:(0,o.C4)(["full-width q-mt-sm",e.canDisabled&&!e.enableExportButton?"disabled":""]),onClick:t[0]||(t[0]=t=>{t.stopPropagation(),e.inputClicked(e.fieldName)})},{default:(0,a.k6)((()=>[e.canDisabled&&e.hasErrors?((0,a.uX)(),(0,a.Wv)(u,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)(" Following fields need to be validated before export:"),i,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.fieldErrors,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e},[(0,a.eW)((0,o.v_)(e),1),s])))),128))])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["label","disable","class"])):(0,a.Q3)("",!0)}var r=l(1659),d=l(38734),u=l(76956),c=l(83319),p=l(4225),h=l(68450);const m=(0,a.pM)({name:"TextInput",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},show_button_type:{type:String,default:""}},emits:["inputClicked","updateModel"],computed:{isButtonVisible:function(){return!(!this.isFormBuilderMode&&p.VV.EXPORT_BUTTON===this.currentField.fieldType)||(this.show_button_type===this.currentField.fieldType||""===this.show_button_type)},hasErrors:function(){return(0,h.Ns)(this.fieldErrors)>0}},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){!this.isFormBuilderMode&&this.formBuilderConfigModel[this.fieldName].exportType==u.aH.export&&(0,u.UN)(this.doctype)&&(this.canDisabled=!0)},methods:{inputClicked(e){this.canDisabled&&!this.enableExportButton||this.$emit("inputClicked",e)}},setup(){const e=(0,c.q3)(),{fieldErrors:t,enableExportButton:l,doctype:a}=(0,r.bP)(e),o=(0,c.uL)(),{formBuilderModel:i,isFormBuilderMode:s,formBuilderConfigModel:n}=(0,r.bP)(o);return{doctype:a,fieldErrors:t,formBuilderModel:i,isFormBuilderMode:s,enableExportButton:l,formBuilderConfigModel:n,canDisabled:(0,d.KR)(!1)}}});var _=l(12807),b=l(97410),v=l(98582),g=l.n(v);const f=(0,_.A)(m,[["render",n]]),y=f;g()(m,"components",{QTooltip:b.A})},13912:(e,t,l)=>{"use strict";l.d(t,{A:()=>y});var a=l(61758),o=l(58790),i=l(29104);function s(e,t,l,s,n,r){const d=(0,a.g2)("q-checkbox"),u=(0,a.g2)("q-badge");return(0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)(["full-width",e.isFormBuilderMode&&e.showTabIndex?"position-relative":""])},[(0,a.bF)(d,{id:e.fieldName,child_type:"checkbox",disable:e.isReadOnly||e.formBuilderConfigModel[e.fieldName].is_readonly,tabindex:e.formBuilderConfigModel[e.fieldName].tabIndex,label:e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."),onFocus:e.focusEvent,onKeydown:(0,i.jR)(e.keydownEvent,["enter"]),modelValue:e.formBuilderModel[e.fieldName].formatted_value,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.formBuilderModel[e.fieldName].formatted_value=t),t[1]||(t[1]=t=>e.inputValueChanges(t,e.fieldName))],size:"30px",color:"grey-6",class:(0,o.C4)(e.formBuilderModel[e.fieldName].name+" "+e.getElementBorder(e.formBuilderConfigModel[e.fieldName].color))},null,8,["id","disable","tabindex","label","onFocus","onKeydown","modelValue","class"]),e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(u,{key:0,color:"orange","text-color":"black",class:(0,o.C4)(e.isFormBuilderMode&&e.showTabIndex?"checkbox-badge":""),label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["class","label"])):(0,a.Q3)("",!0)],2)}var n=l(1659),r=l(38734),d=l(64233),u=l(83319),c=l(25891),p=l(79893);const h=(0,a.pM)({name:"CheckBox",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["inputValueChanges","updateModel"],mixins:[c.A,p.A,d.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{getLowerConfidence(e){return this.isFormBuilderMode?null:this.getLowerConfidence(e)},inputValueChanges(e,t){const l="Enter"==window.event.key;if(l)return this.formBuilderModel[this.fieldName].formatted_value=!this.formBuilderModel[this.fieldName].formatted_value,void this.triggerMoveToNextFieldEvent();this.$emit("inputValueChanges",t,"checkbox")},triggerMoveToNextFieldEvent(){if(this.is_focus_event)return void(this.is_focus_event=!1);const e=new CustomEvent("move_to_next_field",{detail:this.fieldName});document.dispatchEvent(e)},keydownEvent(e){this.is_focus_event=!1,this.triggerMoveToNextFieldEvent()},focusEvent(e){this.is_focus_event=!0,setTimeout((()=>{this.is_focus_event=!1}),500)}},setup(){const e=(0,u.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,showTabIndex:o}=(0,n.bP)(e);return{formBuilderConfigModel:a,isFormBuilderMode:l,formBuilderModel:t,is_focus_event:(0,r.KR)(!1),showTabIndex:o}}});var m=l(12807),_=l(80460),b=l(23954),v=l(98582),g=l.n(v);const f=(0,m.A)(h,[["render",s]]),y=f;g()(h,"components",{QCheckbox:_.A,QBadge:b.A})},16028:(e,t,l)=>{"use strict";l.d(t,{A:()=>I});var a=l(61758),o=l(58790);const i={class:"full-width"},s={key:0,class:"col-sm-12 col-md-12 col-lg-12 display-flex"},n=["id","child_type"],r={class:"inner-field-actions",style:{height:"38px"}},d={key:0};function u(e,t,l,u,c,p){const h=(0,a.g2)("q-tooltip"),m=(0,a.g2)("q-spinner-ios"),_=(0,a.g2)("q-icon"),b=(0,a.g2)("InfoPanel"),v=(0,a.g2)("q-badge"),g=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.CE)("div",i,[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?((0,a.uX)(),(0,a.CE)("div",{key:0,style:(0,o.Tr)("width:"+e.formBuilderConfigModel[e.fieldName].labelWidth+"%"),class:"display-block"},[(0,a.Lk)("div",{class:(0,o.C4)([e.fieldName,"full-width"])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0)],2)],4)):(0,a.Q3)("",!0),(0,a.Lk)("div",{style:(0,o.Tr)("width:"+e.getInputFieldWidth(e.formBuilderConfigModel[e.fieldName])+"%"),class:"display-block"},[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",{class:(0,o.C4)(["ellipsify full-width",e.fieldName])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder.")),1)])),_:1})],2)])),(0,a.Lk)("div",{id:e.fieldName,child_type:e.formBuilderConfigModel[e.fieldName].is_textarea?"textarea":"input",class:(0,o.C4)(["col-sm-12 col-md-12 col-lg-12 autocomplete",e.formBuilderConfigModel[e.fieldName].is_textarea?" ":" input-text-28px"]),role:"combobox","aria-autocomplete":"list","aria-controls":"suggestions","aria-expanded":"false"},[(0,a.bF)(g,{outlined:"",clearable:"","use-input":"","hide-selected":"","fill-input":"","hide-dropdown-icon":"","data-field-name":e.formBuilderConfigModel[e.fieldName].field_name,options:e.filteredList,disable:e.isReadOnly||e.formBuilderConfigModel[e.fieldName].is_readonly||e.lookup_loading_fields.hasOwnProperty(e.fieldName)&&e.lookup_loading_fields[e.fieldName].lookup_loading,class:(0,o.C4)("full-width input-field ellipsify autocomplete-field "+e.formBuilderConfigModel[e.fieldName].field_name+"_input "+e.formBuilderConfigModel[e.fieldName].color+" "+(e.formBuilderModel[e.fieldName].input_error?" invalid-input ":"")+e.formBuilderModel[e.fieldName].input_error),onClick:t[0]||(t[0]=t=>{e.inputFieldClicked(t,e.fieldName)}),"onUpdate:modelValue":[t[1]||(t[1]=t=>{e.changeEventHandler(t)}),t[2]||(t[2]=t=>e.formBuilderModel[e.fieldName].formatted_value=t)],modelValue:e.formBuilderModel[e.fieldName].formatted_value,"data-cy":e.formBuilderModel[e.fieldName].field_name,"emit-value":"","map-options":"",onFilter:e.filterlistEvent},{append:(0,a.k6)((()=>[(0,a.Lk)("div",r,[e.lookup_loading_fields.hasOwnProperty(e.fieldName)?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[e.lookup_loading_fields[e.fieldName].lookup_loading?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(m,{color:"primary",size:"0.86em"})])):(0,a.Q3)("",!0),1==e.lookup_loading_fields[e.fieldName].lookup_found?((0,a.uX)(),(0,a.Wv)(_,{key:1,flat:"",dense:"",name:"check_circle",size:"18px",class:"cursor-pointer text-light-green-8",tabindex:"0"},{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("lookup_record_found")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),0==e.lookup_loading_fields[e.fieldName].lookup_found?((0,a.uX)(),(0,a.Wv)(_,{key:2,flat:"",dense:"",name:"warning",size:"18px",class:"cursor-pointer text-orange",tabindex:"0"},{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("no_lookup_record_found")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0),e.isExtraInfo(e.fieldName)?((0,a.uX)(),(0,a.Wv)(b,{key:1,fieldName:e.fieldName},null,8,["fieldName"])):(0,a.Q3)("",!0),e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(v,{key:2,color:"orange","text-color":"black",label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["label"])):(0,a.Q3)("",!0)])])),_:1},8,["data-field-name","options","disable","class","modelValue","data-cy","onFilter"])],10,n)],4)])}var c=l(1659),p=l(87374),h=l(38734),m=l(76956),_=l(25891),b=l(55987),v=l(79893),g=l(31453),f=l(83319);const y=(0,a.pM)({name:"EnumInput",components:{InfoPanel:g.A},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["inputClicked","inputValueChanges","updateModel"],mixins:[_.A,v.A,b.A,p.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.options=this.getListOfValuesAsSelectList(this.formBuilderConfigModel[this.fieldName].list_of_values)},methods:{inputFieldClicked(e,t){this.isFormBuilderMode&&(e.stopPropagation(),this.$emit("inputClicked",t))},changeEventHandler(e){this.formBuilderModel[this.fieldName].formatted_value=e,this.formBuilderModel[this.fieldName].value=e,this.formBuilderModel[this.fieldName].input_error="",this.formBuilderConfigModel[this.fieldName].color=m.aH.success_border_left,this.$emit("inputValueChanges",this.fieldName,"input")},filterlistEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filteredList=this.options.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filteredList=this.options})}},setup(){const e=(0,f.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,showTabIndex:o}=(0,c.bP)(e),{isExtraInfo:i}=e,s=(0,f.yM)(),{getListOfValuesAsSelectList:n}=s,r=(0,f.vm)(),{lookup_loading_fields:d}=(0,c.bP)(r);return{lookup_loading_fields:d,showTabIndex:o,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,isExtraInfo:i,getListOfValuesAsSelectList:n,options:(0,h.KR)([]),filteredList:(0,h.KR)([])}}});var k=l(12807),w=l(97410),C=l(94940),x=l(82157),L=l(50492),F=l(23954),E=l(67156),A=l(98582),S=l.n(A);const D=(0,k.A)(y,[["render",u],["__scopeId","data-v-43f731f0"]]),I=D;S()(y,"components",{QTooltip:w.A,QSelect:C.A,QSpinnerIos:x.A,QIcon:L.A,QBadge:F.A,QField:E.A})},12167:(e,t,l)=>{"use strict";l.d(t,{A:()=>B});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-e5073bdc"),e=e(),(0,a.jt)(),e),s={key:0,class:"full-width"},n={class:"highlighted-back"},r={class:"full-width"},d=i((()=>(0,a.Lk)("img",{width:"22",src:"images/add_row.svg"},null,-1))),u=["id"];function c(e,t,l,i,c,p){const h=(0,a.g2)("q-markup-table"),m=(0,a.g2)("q-btn"),_=(0,a.g2)("q-td"),b=(0,a.g2)("draggable"),v=(0,a.g2)("q-tr"),g=(0,a.g2)("q-tooltip"),f=(0,a.g2)("q-icon"),y=(0,a.g2)("q-input"),k=(0,a.g2)("autocomplete"),w=(0,a.g2)("q-checkbox"),C=(0,a.g2)("q-table");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.displayTable?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(h,{class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",n,[(0,a.Lk)("th",null,[e.isFormBuilderMode?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)(" No columns found. Please contact system administrator. ")],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)(" No columns found. Please go to "),(0,a.Lk)("span",{class:"cursor-pointer link",onClick:t[0]||(t[0]=(...t)=>e.routeToTableTraining&&e.routeToTableTraining(...t))},"table training view"),(0,a.eW)(". ")],64))])])])])),_:1})])),e.displayTable?((0,a.uX)(),(0,a.CE)("div",{key:1,class:(0,o.C4)("full-width "+e.fieldName)},[(0,a.Lk)("div",r,[(0,a.bF)(C,{class:"full-width",id:"table_"+e.fieldName,"row-key":"id",flat:"","no-data-label":e.$t("pages.messages.no_record_found"),"hide-bottom":"",rows:e.tableRows,columns:e.tableColumns,"rows-per-page-options":[0],"table-header-style":{backgroundColor:"#d4d4d4"},style:{overflow:"auto",height:"auto","min-height":"180px","max-height":"500px"}},{header:(0,a.k6)((t=>[e.isFormBuilderMode?((0,a.uX)(),(0,a.Wv)(v,{key:0,props:t,class:"bg-grey-3"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:t.cols,"onUpdate:modelValue":e=>t.cols=e,class:"dragArea","item-key":"name",group:{name:"formbuilder",pull:!1,put:!0},sort:!0,"ghost-class":"sortable__ghost",onChange:e.itemDraggedComplete},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,((t,l)=>((0,a.uX)(),(0,a.Wv)(_,{key:l,id:"col_"+t.col_id,class:(0,o.C4)([(t.tr_ocr_model_id?"text-primary":"")+" "+e.getColumnClass(t.label),"text-center"])},{default:(0,a.k6)((()=>[(0,a.bF)(m,{flat:"",label:t.label,onClick:l=>e.markTableColumns(l,t.col_id)},null,8,["label","onClick"])])),_:2},1032,["id","class"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),_:2},1032,["props"])):((0,a.uX)(),(0,a.Wv)(v,{key:1,props:t,class:"bg-grey-3"},{default:(0,a.k6)((()=>[e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(_,{key:0},{default:(0,a.k6)((()=>[e.isFormBuilderMode?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(f,{key:0,flat:"",dense:"",size:"22px",color:"primary",class:"cursor-pointer",onClick:e.addRow},{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("add_row")),1)])),_:1}),d])),_:1},8,["onClick"]))])),_:1})),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,((t,l)=>((0,a.uX)(),(0,a.Wv)(_,{key:l,id:"col_"+t.col_id,class:(0,o.C4)(["text-center",e.getColumnClass(t.label)])},{default:(0,a.k6)((()=>[(0,a.Lk)("span",null,(0,o.v_)(t.label),1)])),_:2},1032,["id","class"])))),128))])),_:2},1032,["props"]))])),body:(0,a.k6)((t=>[(0,a.bF)(v,{props:t,id:e.getRowIdPrefix()+t.key},{default:(0,a.k6)((()=>[e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(_,{key:0,"data-name":"actions",class:"no-wrap-text"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{tabindex:"0",flat:"",color:"primary",onClick:l=>e.removeRow(t.rowIndex,t.key),icon:"close",class:"padding-left-right-2"},null,8,["onClick"]),(0,a.bF)(m,{tabindex:"0",flat:"",color:"primary",onClick:l=>e.copyRow(t.rowIndex),icon:"content_copy",class:"padding-left-right-2"},null,8,["onClick"])])),_:2},1024)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,(l=>((0,a.uX)(),(0,a.Wv)(_,{key:l.name,"data-name":l.name,"data-type":l.col_type,"data-input-class":e.tableRowsObj[t.key]["columns"][l.name].col_class},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{id:e.tableRowsObj[t.key]["columns"][l.name].col_class+"_parent",class:"autocomplete",role:"combobox","aria-autocomplete":"list","aria-controls":"suggestions","aria-expanded":"false"},["boolean"!=l.col_type.toLowerCase()?((0,a.uX)(),(0,a.Wv)(y,{key:0,outlined:"",disable:e.isReadOnly,class:(0,o.C4)("input-text-28px "+e.tableRowsObj[t.key]["columns"][l.name].col_class+" "+e.getInputTextElementBorder(e.tableRowsObj[t.key]["columns"][l.name].is_valid)),onChange:a=>e.inputValueChanges(l.name,t.key),modelValue:e.tableRowsObj[t.key]["columns"][l.name].formatted_value,"onUpdate:modelValue":a=>e.tableRowsObj[t.key]["columns"][l.name].formatted_value=a,autocomplete:"off","data-column-name":l.name},null,8,["disable","class","onChange","modelValue","onUpdate:modelValue","data-column-name"])):(0,a.Q3)("",!0),e.hasListOfValuesForAnyColumn()&&e.lov_columns_mapping[l.name]?((0,a.uX)(),(0,a.Wv)(k,{key:1,input_class:e.tableRowsObj[t.key]["columns"][l.name].col_class,parent_id:e.tableRowsObj[t.key]["columns"][l.name].col_class+"_parent",options:e.getListOfValues(e.lov_columns_mapping[l.name])},null,8,["input_class","parent_id","options"])):(0,a.Q3)("",!0),"boolean"==l.col_type.toLowerCase()?((0,a.uX)(),(0,a.Wv)(w,{key:2,child_type:"checkbox",disable:e.isReadOnly,tabindex:"0",class:(0,o.C4)(e.tableRowsObj[t.key]["columns"][l.name].col_class+" "+e.getCheckBoxElementBorder(e.tableRowsObj[t.key]["columns"][l.name].is_valid)),onFocus:e.focusEvent,"onUpdate:modelValue":[a=>{e.checkboxUpdateForColumn(l.name,t.key,a)},a=>e.tableRowsObj[t.key]["columns"][l.name].formatted_value=a],modelValue:e.tableRowsObj[t.key]["columns"][l.name].formatted_value,size:"30px",color:"grey-6"},null,8,["disable","class","onFocus","onUpdate:modelValue","modelValue"])):(0,a.Q3)("",!0)],8,u)])),_:2},1032,["data-name","data-type","data-input-class"])))),128))])),_:2},1032,["props","id"])])),_:1},8,["id","no-data-label","rows","columns"])])],2)):(0,a.Q3)("",!0)],64)}var p=l(85192),h=l(1659),m=l(38734),_=l(96056),b=l(18453),v=l(64233),g=l(68450),f=l(39231),y=l(64471),k=l(83319),w=l(79045),C=l(4225),x=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const L=(0,a.pM)({name:"ExtractedTable",components:{autocomplete:w.A,draggable:f.H},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["inputClicked","updateModel","inputValueChanges","markTableColumns"],mixins:[_.A,b.A,v.A,y.A],data(){return{displayTable:(0,m.KR)(!1),savedColumnsMap:new Map}},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.init(),document.addEventListener("prepare_rows",this.prepareRows)},unmounted:function(){if(document.removeEventListener("prepare_rows",this.prepareRows),!this.fieldName)return;let e=document.querySelector("."+this.fieldName);if(e&&(e.removeEventListener("focus_first_row_column",this.focusFirstRowColumn),e.removeEventListener("trigger_add_row",this.triggerAddRow),e.removeEventListener("keydown",this.handleKeyDown)),this.tableRowsObj)for(let[t,l]of Object.entries(this.tableRowsObj))this.removeEventOnRow(l)},methods:{itemDraggedComplete(e){if(e.moved){const t=this.tableColumns[e.moved.oldIndex];this.tableColumns.splice(e.moved.oldIndex,1),this.tableColumns.splice(e.moved.newIndex,0,t);const l=this.formBuilderConfigModel[this.fieldName].columns[e.moved.oldIndex];this.formBuilderConfigModel[this.fieldName].columns.splice(e.moved.oldIndex,1),this.formBuilderConfigModel[this.fieldName].columns.splice(e.moved.newIndex,0,l)}},init(){return x(this,void 0,void 0,(function*(){this.isFormBuilderMode||(yield this.prepareColumns(),this.prepareRows(),this.hasTable(),this.initEventsOnMount(),setTimeout((()=>{let e=document.querySelector("#table_"+this.fieldName);if(e){let t=e.querySelector("table");t&&this.resizableGrid(t)}}),1e3))}))},hasListOfValuesForAnyColumn(){return!this.isFormBuilderMode&&!(0,g.dd)(this.lov_columns_mapping)},getColumnClass(e){const t=e.split(" ");return 2==t.length&&1==t[1].length?"no-wrap-text":""},getLablel(e){return this.stringReplaceWithString(e,"_"," ")},addItemToColumnList(e,t,l,a){const o=Object.assign({},{name:e.column_name,label:this.getLablel(e.title),field:e.column_name,col_id:e.id,col_type:e.column_type,tr_ocr_model_id:l});this.tableColumns.push(o),this.column_properties_map[e.column_name]=o,this.formBuilderConfigModel[this.fieldName].columns.push({coords:t,col_id:e.id,name:e.column_name,column_type:e.column_type,list_of_values:this.lov_columns_mapping[e.column_name],run_script_on_change:a,tr_ocr_model_id:l})},prepareColumns(){return x(this,void 0,void 0,(function*(){this.tableColumns=[];const e=new Map;this.column_properties_map={};const t=this.formBuilderConfigModel[this.fieldName].columns;if(yield this.getDocumentTables(this.docType),!this.documentTables.hasOwnProperty(this.fieldName))return;for(const i of this.documentTables[this.fieldName])e.set(i.column_name,i);this.formBuilderConfigModel[this.fieldName].columns=[];let l=[],a="",o=!1;for(const i of t)this.savedColumnsMap.set(i.name,i),e.has(i.name)&&(i.list_of_values&&(this.lov_columns_mapping[i.name]=i.list_of_values),l=i.coords?i.coords:[],a=i.tr_ocr_model_id?i.tr_ocr_model_id:"",o=!!i.run_script_on_change&&i.run_script_on_change,this.addItemToColumnList(e.get(i.name),l,a,o),e.delete(i.name));for(const[i,s]of e)this.addItemToColumnList(s,[],"",!1)}))},prepareRows(){this.tableRows=[],this.tableRowsObj=[],!this.isFormBuilderMode&&this.formBuilderModel.hasOwnProperty(this.fieldName)&&(Array.from(this.formBuilderModel[this.fieldName].rows).forEach(((e,t)=>{let l=[];this.tableRowsObj[e.id]=[],this.tableRowsObj[e.id].columns=[];let a=[],o=JSON.parse(JSON.stringify(this.column_properties_map));l["id"]=e.id;for(const i of e.columns)l[i.name]=i.formatted_value,i.col_type=this.getColumnType(i.name),a.push(this.columnModel(i)),this.addRowToTableRowObj(e.id,i.id,i),o.hasOwnProperty(i.name)&&delete o[i.name];for(let[i,s]of Object.entries(o)){const t=this.getNewColumnObj(s);l[t.name]=t.formatted_value,a.push(this.columnModel(t)),this.addRowToTableRowObj(e.id,t.id,t)}this.formBuilderModel[this.fieldName].rows[t]["columns"]=a,this.tableRows.push(l)})),0==this.tableRows.length&&this.addRow())},addRow(){return x(this,void 0,void 0,(function*(){let e=(0,p.A)(),t=[],l=[];this.tableRowsObj[e]=[],this.tableRowsObj[e].columns=[],t["id"]=e;for(let[a,o]of Object.entries(this.tableColumns)){const a=this.getNewColumnObj(o);t[a.name]=a.formatted_value,this.addRowToTableRowObj(e,a.id,a),l.push(this.columnModel(o))}this.tableRows.push(t),this.formBuilderModel[this.fieldName].rows.push(Object.assign({},{id:e,columns:l})),yield this.$nextTick(),this.addEventOnRowColumns(e,this.tableRowsObj[e])}))},getColumnType(e){let t=C.VV.TEXT_INPUT;if(this.column_properties_map.hasOwnProperty(e)){const l=this.column_properties_map[e];t=l.col_type}return t},getNewColumnObj(e){return e.col_type=this.getColumnType(e.name),Object.assign(e,{col_type:e.col_type,id:(0,p.A)(),formatted_value:this.getColumnFormattedValue(e)})},columnModel(e){return{id:e.id,name:e.name,value:e.value,formatted_value:e.formatted_value}},addRowToTableRowObj(e,t,l){this.tableRowsObj[e].columns[l.name]={};const a=l.name+"_"+e;l.formatted_value=this.getColumnFormattedValue(l),l["value"]=l.formatted_value,Object.assign(this.tableRowsObj[e].columns[l.name],{id:t,name:l.name,col_class:a,value:l.value,formatted_value:l.formatted_value}),l.highlight_field&&(l.highlight_field=!1,this.fieldListToHighlight.push(a+"_parent"))},getColumnFormattedValue(e){return e.formatted_value||(e.formatted_value=""),"boolean"==e.col_type.toLowerCase()&&(e.formatted_value=Boolean(e.formatted_value)),e.formatted_value},removeRow(e,t){this.removeEventOnRow(this.tableRowsObj[t]),this.tableRows.splice(e,1),this.tableRowsObj.splice(e,1),this.formBuilderModel[this.fieldName].rows.splice(e,1)},copyRow(e){return x(this,void 0,void 0,(function*(){let t=(0,p.A)(),l=[];for(const i in this.tableRows[e])l[i]=this.tableRows[e][i];l["id"]=t,this.tableRows.splice(e+1,0,l);let a=[];this.tableRowsObj[t]=[],this.tableRowsObj[t].columns=[];for(let[e,i]of Object.entries(this.tableColumns)){const e=this.getNewColumnObj(i);e.formatted_value=l[e.name],this.addRowToTableRowObj(t,e.id,e),a.push(this.columnModel(i))}const o=Object.assign({},{id:t,columns:a});this.formBuilderModel[this.fieldName].rows.splice(e+1,0,o);for(const e in l)this.tableRowsObj[t]["columns"][e]&&this.inputValueChanges(e,t);yield this.$nextTick(),this.addEventOnRowColumns(t,this.tableRowsObj[t])}))},initEventsOnMount(){return x(this,void 0,void 0,(function*(){yield this.$nextTick();let e=document.querySelector("."+this.fieldName);e&&(e.addEventListener("focus_first_row_column",this.focusFirstRowColumn),e.addEventListener("trigger_add_row",this.triggerAddRow),e.addEventListener("keydown",this.handleKeyDown));for(let[t,l]of Object.entries(this.tableRowsObj))this.addEventOnRowColumns(t,l)}))},focusFirstRowColumn(e){if(0===this.tableRows.length)return;const t=this.tableRows[0];if(!t)return;const l=this.tableColumns[0];if(!l)return;const a=this.tableRowsObj[t.id]["columns"][l.name].col_class;this.focusOnColumn(a,l.col_type)},getRowEl(e){const t=document.querySelector("#"+this.getRowIdPrefix()+e);return t},addEventOnRowColumns(e,t){try{if(!this.hasListOfValuesForAnyColumn())return;const l=this.getRowEl(e);if(!l)return void logError("Row el is missing",e);if(!t.columns)return void logError("row is missing columns attribute",t);for(const[e,a]of Object.entries(t.columns)){const t=a;let l=!0;t.col_type&&"boolean"==t.col_type.toLowerCase()&&(l=!1),l&&this.lov_columns_mapping[e]&&this.addEventOnColumn(t.col_class)}}catch(l){logError(l)}},addEventOnColumn(e){let t=document.querySelector("."+e);t&&t.addEventListener("update_field_value",this.updateModel)},removeEventOnRow(e){try{if(!this.hasListOfValuesForAnyColumn())return;if(!e.columns)return void logError("row is missing columns attribute",e);for(const[t,l]of Object.entries(e.columns)){const e=l;this.lov_columns_mapping[t]&&this.removeEventOnColumn(e.col_class)}}catch(t){logError(t)}},removeEventOnColumn(e){let t=document.querySelector("."+e);t&&t.removeEventListener("update_field_value",this.updateModel)},updateModel(e){try{let t=String(e.target.closest("tr").getAttribute("id"));t=t.replace(this.getRowIdPrefix(),"");const l=e.target.querySelectorAll("[data-column-name]");if(0==l.length)return;const a=l[0],o=a.getAttribute("data-column-name");this.tableRowsObj[t]["columns"][o].formatted_value=e.detail.val,this.focusToNextColumn(a),this.inputValueChanges(o,t)}catch(t){logError(t)}},getRowIdPrefix(){return"tbl_row_"},hasTable(){this.tableColumns.length>0&&(this.displayTable=!0)},checkboxUpdateForColumn(e,t,l){this.tableRowsObj[t]["columns"][e].formatted_value=l,this.inputValueChanges(e,t)},inputValueChanges(e,t){const l=this.tableRowsObj[t]["columns"][e].formatted_value,a=this.formBuilderModel[this.fieldName].rows.findIndex((e=>e.id==t));if(-1===a)return;const o=this.formBuilderModel[this.fieldName].rows[a].columns.findIndex((t=>t.name==e));if(-1===o)return;const i=this.formBuilderModel[this.fieldName].rows[a].columns[o].formatted_value;this.formBuilderModel[this.fieldName].rows[a].columns[o].hasOwnProperty("original_value")||(this.formBuilderModel[this.fieldName].rows[a].columns[o]["original_value"]=i),this.formBuilderModel[this.fieldName].rows[a].columns[o].value=l,this.formBuilderModel[this.fieldName].rows[a].columns[o].formatted_value=l,this.triggerScriptCalculate(e,t)},triggerScriptCalculate(e,t){if(!this.savedColumnsMap.has(e)||!this.savedColumnsMap.get(e).run_script_on_change)return;const l=new CustomEvent("script_calculate_func",{detail:{columnName:e,rowId:t}});document.dispatchEvent(l)},markTableColumns(e,t){setTimeout((()=>{this.$emit("markTableColumns",t+"__"+this.fieldName);const e=new CustomEvent("load_settings_for_series",{detail:t});document.dispatchEvent(e)}),100)},triggerAddRow(){this.addRow()},handleKeyDown(e){try{switch(e.key){case"ArrowDown":this.moveToNextRowColumn(e),e.stopPropagation(),e.preventDefault();break;case"ArrowUp":this.moveToPrevRowColumn(e),e.stopPropagation(),e.preventDefault();break;case"ArrowRight":this.focusToNextColumn(e.target),e.stopPropagation(),e.preventDefault();break;case"ArrowLeft":this.focusToPrevColumn(e.target),e.stopPropagation(),e.preventDefault();break}const t=this.isCombinationKey(e),l=this.getAddRowKeyCodes();l.includes(e.keyCode)&&!0===t&&(this.triggerAddRow(),e.preventDefault(),e.stopPropagation())}catch(t){logError(t)}},moveToPrevRowColumn(e){const t=e.target.closest("td");if(!t)return;const l=t.getAttribute("data-name"),a=t.closest("tr").previousSibling.previousElementSibling;if(!a)return;const o=a.querySelector("[data-name='"+l+"']");this.focusOnColumnByTd(o)},moveToNextRowColumn(e){const t=e.target.closest("td");if(!t)return;const l=t.getAttribute("data-name"),a=t.closest("tr").nextSibling.nextElementSibling;if(!a)return;const o=a.querySelector("[data-name='"+l+"']");this.focusOnColumnByTd(o)},focusToPrevColumn(e){return x(this,void 0,void 0,(function*(){if(!e)return;yield this.$nextTick(),e.blur();const t=e.closest("td"),l=t.closest("td").previousSibling;l&&"function"===typeof l.hasAttribute&&l.hasAttribute("data-input-class")&&this.focusOnColumnByTd(l)}))},focusToNextColumn(e){return x(this,void 0,void 0,(function*(){if(!e)return;yield this.$nextTick(),e.blur();const t=e.closest("td"),l=t.nextSibling;if(!l)return;if("function"===typeof l.hasAttribute&&l.hasAttribute("data-input-class"))return void this.focusOnColumnByTd(l);const a=t.closest("tr").nextSibling.nextElementSibling;a&&this.focusToRowFirstColumn(a)}))},focusToRowFirstColumn(e){if(!e)return;if(0==e.children.length)return;let t;for(let l of e.children)if(l.dataset.hasOwnProperty("inputClass")){t=l;break}this.focusOnColumnByTd(t)},focusOnColumnByTd(e){if(!e)return;e.getAttribute("data-name");const t=e.getAttribute("data-type"),l=e.getAttribute("data-input-class");this.focusOnColumn(l,t)},focusOnColumn(e,t){if("STRING"!==t)return void this.checkboxFocusHandler(e);const l=document.querySelector("."+e);if(!l)return;const a=l.querySelector("input");a&&(a.click(),a.focus())},checkboxFocusHandler(e){const t=document.querySelector("."+e);t&&(this.is_focus_event=!0,t.focus())},focusEvent(e){this.is_focus_event=!0,setTimeout((()=>{this.is_focus_event=!1}),500)},routeToTableTraining(){this.$router.push("/tbl_ext_v3/"+this.$route.params.id)}},setup(){let e=[];const t=(0,k.uL)(),{formBuilderModel:l,isFormBuilderMode:a,formBuilderConfigModel:o,documentTables:i,docType:s,fieldListToHighlight:n,activeFieldName:r,activeTab:d}=(0,h.bP)(t),{replaceElementInLayout:u,getDocumentTables:c}=t,p=(0,k.yM)(),{getListOfValues:_}=p;return{getListOfValues:_,formBuilderConfigModel:o,fieldListToHighlight:n,isFormBuilderMode:a,formBuilderModel:l,activeFieldName:r,documentTables:i,activeTab:d,docType:s,tableRows:(0,m.KR)(e),tableRowsObj:(0,m.KR)(e),tableColumns:(0,m.KR)(e),column_properties_map:(0,m.KR)({}),lov_columns_mapping:(0,m.KR)({}),getDocumentTables:c,replaceElementInLayout:u,is_focus_event:(0,m.KR)(!1)}}});var F=l(12807),E=l(857),A=l(42315),S=l(44488),D=l(45262),I=l(56384),T=l(50492),O=l(97410),M=l(67837),R=l(80460),P=l(67156),q=l(98582),V=l.n(q);const N=(0,F.A)(L,[["render",c],["__scopeId","data-v-e5073bdc"]]),B=N;V()(L,"components",{QMarkupTable:E.A,QTable:A.A,QTr:S.A,QTd:D.A,QBtn:I.A,QIcon:T.A,QTooltip:O.A,QInput:M.A,QCheckbox:R.A,QField:P.A})},89977:(e,t,l)=>{"use strict";l.d(t,{A:()=>J});var a=l(61758),o=l(58790);const i={class:"q-pa-sm full-width"},s={class:"q-ml-sm alert-text"},n={class:"row full-width"},r={class:"q-ml-sm alert-text"},d={class:"q-ml-sm"};function u(e,t,l,u,c,p){const h=(0,a.g2)("q-tooltip"),m=(0,a.g2)("q-tab"),_=(0,a.g2)("q-icon"),b=(0,a.g2)("q-badge"),v=(0,a.g2)("q-spinner-dots"),g=(0,a.g2)("q-item-section"),f=(0,a.g2)("q-item"),y=(0,a.g2)("q-list"),k=(0,a.g2)("q-menu"),w=(0,a.g2)("q-tabs"),C=(0,a.g2)("q-separator"),x=(0,a.g2)("AIExtractedTable"),L=(0,a.g2)("q-tab-panel"),F=(0,a.g2)("LineItemTable"),E=(0,a.g2)("PoTable"),A=(0,a.g2)("q-tab-panels"),S=(0,a.g2)("q-avatar"),D=(0,a.g2)("q-card-section"),I=(0,a.g2)("f-btn"),T=(0,a.g2)("q-card-actions"),O=(0,a.g2)("q-card"),M=(0,a.g2)("q-dialog"),R=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",i,[(0,a.bF)(w,{"narrow-indicator":!1,"active-class":"highlighted-back",modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),class:"text-weight-bold align-tabs-left","active-color":"primary","indicator-color":"primary"},{default:(0,a.k6)((()=>[e.display_tabs&&e.AI_setting_flag?((0,a.uX)(),(0,a.Wv)(m,{key:0,disable:!e.has_ai_table,name:"ai_tables",class:"max-width-400",label:e.$t("ai_extracted_table")},{default:(0,a.k6)((()=>[e.has_ai_table?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(h,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("ai_table_not_found")),1)])),_:1}))])),_:1},8,["disable","label"])):(0,a.Q3)("",!0),e.display_tabs&&e.table_extration_setting?((0,a.uX)(),(0,a.Wv)(m,{key:1,name:"extracted_tables",label:e.$t("extracted_table")},null,8,["label"])):(0,a.Q3)("",!0),e.isFormBuilderMode?((0,a.uX)(),(0,a.Wv)(m,{key:2,name:"po_tables",label:e.$t("po_tables")},{default:(0,a.k6)((()=>[e.doc_attributes[e.po_table_in_layout_builder]?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(b,{key:0,color:"amber","text-color":"white",floating:""},{default:(0,a.k6)((()=>[(0,a.bF)(_,{color:"white",name:"warning"},{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("module_disabled")),1)])),_:1})])),_:1})])),_:1}))])),_:1},8,["label"])):e.doc_attributes[e.po_table_in_layout_builder]?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[e.po_items_loaded?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("span",s,(0,o.v_)(e.$t("loading_po_tables")),1),(0,a.bF)(v,{color:"grey",size:"2em",class:"q-ml-sm"})],64)),e.po_items_loaded&&0===e.po_items.length?((0,a.uX)(),(0,a.Wv)(m,{key:1,name:"po_tables",label:e.$t("po_tables")},{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("po_table_not_found")),1)])),_:1})])),_:1},8,["label"])):e.po_items_loaded&&e.objLen(e.po_items)>0?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:2},(0,a.pI)(e.po_items,((t,l)=>((0,a.uX)(),(0,a.Wv)(m,{key:l,name:l,"data-name":l,tabindex:"0",class:"po-tab"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.bF)(_,{class:"q-mr-sm mt-3 po-indication-icon",name:"img:images/po_not_matched.svg"},{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("po_table")),1)])),_:1})])),_:1}),(0,a.Lk)("label",null,(0,o.v_)(l),1),(0,a.bF)(_,{class:"q-pl-sm cursor-pointer po-action-icon",name:e.isPODeleteAble(l)?"fa fa-times":"refresh",onClick:t=>e.isPODeleteAble(l)?e.proceedToClosePOTab(l):e.refreshPOItems(l)},{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.isPODeleteAble(l)?e.$t("delete"):e.$t("tab_not_deletable")),1)])),_:2},1024)])),_:2},1032,["name","onClick"]),(0,a.bF)(k,{"context-menu":""},{default:(0,a.k6)((()=>[(0,a.bF)(y,null,{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(f,{clickable:"",onClick:t=>e.copyToClipboard(l)},{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("copy_to_clipboard")),1)])),_:1})])),_:2},1032,["onClick"])),[[R]])])),_:2},1024)])),_:2},1024)])])),_:2},1032,["name","data-name"])))),128)):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)])),_:1},8,["modelValue"]),(0,a.bF)(A,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),class:"page-background"},{default:(0,a.k6)((()=>[e.display_tabs&&e.AI_setting_flag?((0,a.uX)(),(0,a.Wv)(L,{key:0,name:"ai_tables",class:"no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(C),(0,a.bF)(x,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"])])),_:1})):(0,a.Q3)("",!0),e.display_tabs&&e.table_extration_setting?((0,a.uX)(),(0,a.Wv)(L,{key:1,name:"extracted_tables",class:"no-padding"},{default:(0,a.k6)((()=>[e.renderTable?((0,a.uX)(),(0,a.Wv)(F,{key:0,fieldName:e.firstTableName,isReadOnly:e.isReadOnly},null,8,["fieldName","isReadOnly"])):(0,a.Q3)("",!0)])),_:1})):(0,a.Q3)("",!0),e.doc_attributes[e.po_table_in_layout_builder]&&e.po_items_loaded&&e.objLen(e.po_items)>0?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:2},(0,a.pI)(e.po_items,((t,l)=>((0,a.uX)(),(0,a.Wv)(L,{key:l,name:l},{default:(0,a.k6)((()=>[e.loading_panels?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("span",r,(0,o.v_)(e.$t("loading_po_tables")),1),(0,a.bF)(v,{color:"grey",size:"2em",class:"q-ml-sm"})],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[e.visible_columns&&e.objLen(e.visible_columns)>0?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(E,{po_lines:t,po_number:l,visible_columns:e.visible_columns},null,8,["po_lines","po_number","visible_columns"]),e.visible_columns&&0==e.objLen(e.visible_columns)?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)(" no po columns found ")],64)):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)],64))])),_:2},1032,["name"])))),128)):(0,a.Q3)("",!0)])),_:1},8,["modelValue"])]),(0,a.bF)(M,{modelValue:e.delete_tab_confirmation,"onUpdate:modelValue":t[4]||(t[4]=t=>e.delete_tab_confirmation=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(O,null,{default:(0,a.k6)((()=>[(0,a.bF)(D,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(S,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(D,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",d,(0,o.v_)(e.$t("delete_po_tab")),1)])),_:1}),(0,a.bF)(T,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(I,{appearance:"cancel",label:e.$t("cancel"),onClick:t[2]||(t[2]=t=>e.delete_tab_po_number="")},null,8,["label"]),[[R]]),(0,a.bo)((0,a.bF)(I,{"data-cy":"done",label:e.$t("proceed"),onClick:t[3]||(t[3]=t=>e.proceedDeletePoTab())},null,8,["label"]),[[R]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var c=l(1659),p=l(24622),h=l(38734),m=l(68450),_=l(64233),b=l(25891),v=l(30431),g=l(78652),f=l(79893),y=l(68220),k=l(76956),w=l(73855),C=l(35484),x=l(83319),L=l(18505),F=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};let E;const A=(0,a.pM)({name:"extracted-table-tab-panels",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,required:!1},itemIndex:{type:Number,default:0}},emits:["inputValueChanges","updateModel","inputClicked","applyFuzzySearch","markTableColumns","itemAdded","removeField"],mixins:[b.A,f.A,_.A,p.A,L.A],components:{PoTable:C.A,LineItemTable:y.A,AIExtractedTable:v.A},watch:{doc_loaded:{handler:function(e,t){this.init()}},po_items_loaded:{handler:function(e,t){this.initPoTabPanels()}}},data(){return{tables:(0,h.KR)(w.o.data().tables),renderTable:(0,h.KR)(!1),firstTableName:(0,h.KR)(""),extractedTables:(0,h.KR)([]),table_extraction_setting:k.sO,po_table_in_layout_builder:k.iD,AI_table_extraction_setting:k.N1,objLen:m.Ns,po_table_columns:k.lv,po_tab_table_columns:k.hD}},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted(){this.init(),document.addEventListener("prepare_rows",this.reRenderPanel),window.fvt=this,E=this},unmounted:function(){document.removeEventListener("prepare_rows",this.reRenderPanel)},methods:{init(){if(this.isFormBuilderMode)return this.AI_setting_flag=!0,void(this.table_extration_setting=!0);this.isPoTableInLayoutBuilder(),this.initPoTabPanels(),this.record.table_blocked?this.display_tabs=!1:this.record.tables&&0!==Object.keys(this.record.tables).length?(this.display_tabs=!0,this.prepareTables(),this.checkSetting(),this.handleTabChange()):this.display_tabs=!1},copyToClipboard(e){return F(this,void 0,void 0,(function*(){try{if(!e)return;"number"===typeof e&&(e=e.toString()),yield(0,g.A)(e),this.showSuccessToast(this.$t("success_copy_to_clipboard"))}catch(t){this.showErrorToast(this.$t("error_copy_to_clipboard"))}}))},handleTabChange(){this.has_ai_table&&this.AI_setting_flag&&(this.tab="ai_tables")},checkSetting(){this.AI_setting_flag=!1,this.table_extration_setting=!1,this.user_settings[this.AI_table_extraction_setting]&&(this.AI_setting_flag=this.user_settings[this.AI_table_extraction_setting]),this.user_settings[this.table_extraction_setting]&&(this.table_extration_setting=this.user_settings[this.table_extraction_setting]),this.AI_setting_flag||this.table_extration_setting||this.$nextTick((function(){setTimeout((function(){E.isExtenedPanel=!1;const e=new CustomEvent("set_splitter_model",{detail:{data:!1}});document.dispatchEvent(e)}),100)}))},prepareTables(){return F(this,void 0,void 0,(function*(){yield this.getDocumentTables(this.docType);for(let[e,t]of Object.entries(this.documentTables))this.tables[0].name=e,this.tables[0].text="Table ("+e+")",this.extractedTables.push(JSON.parse(JSON.stringify(this.tables[0]))),this.documentTableNames.push(e),this.firstTableName=this.documentTableNames[0];this.renderTable=!0}))},goToTableExtraction(){this.isFormBuilderMode||this.$router.push("/tbl_ext_v3/"+this.$route.params.id)},reRenderPanel(){this.init()},initPoTabPanels(){return F(this,void 0,void 0,(function*(){try{if(logInfo("initPoTabPanels",this.po_items_loaded,this.objLen(this.po_items),this.doc_attributes[this.po_table_in_layout_builder]),this.isFormBuilderMode||!1===this.po_items_loaded||0==this.objLen(this.po_items)||!1===this.doc_attributes[this.po_table_in_layout_builder]||this.objLen(this.visible_columns)>0)return;this.loading_panels=!0,yield this.getPOColumns(),yield this.startSettingsFetch(),this.handleCharges(this.po_items),this.visible_columns=yield this.getSavedColumns(this.po_table_columns+"_"+this.record.doc_type),logInfo("initPoTabPanels",this.visible_columns)}catch(e){logError("Error in initPoTabPanels",e)}finally{this.loading_panels=!1}}))},proceedDeletePoTab(){this.handleTabChange(),this.deletePoTab()}},setup(){const e=(0,x.uL)(),{formBuilderModel:t,formBuilderConfigModel:l,isFormBuilderMode:a,documentTableNames:o,documentTables:i,isExtenedPanel:s,docType:n}=(0,c.bP)(e),{getDocumentTables:r}=e,d=(0,x.q3)(),{doc_loaded:u,selected_doc_type:p,has_ai_table:m,record:_,po_items:b,po_items_loaded:v,delete_tab_confirmation:f,delete_tab_po_number:y}=(0,c.bP)(d),{isPoTableInLayoutBuilder:k,isPODeleteAble:w,proceedToClosePOTab:C,refreshPOItems:L,deletePoTab:F}=d,E=(0,x.Bu)(),{user_settings:A}=(0,c.bP)(E),{startSettingsFetch:S,updateSetting:D}=E,I=(0,x.wt)(),{model:T}=(0,c.bP)(I),O=(0,x.R9)(),{table_columns:M}=(0,c.bP)(O),{getSavedColumns:R,getPOColumns:P,handleCharges:q}=O;return{delete_tab_confirmation:f,deletePoTab:F,updateSetting:D,delete_tab_po_number:y,refreshPOItems:L,proceedToClosePOTab:C,isPODeleteAble:w,getPOColumns:P,handleCharges:q,startSettingsFetch:S,loading_panels:(0,h.KR)(!1),table_columns:M,getSavedColumns:R,isPoTableInLayoutBuilder:k,po_items:b,po_items_loaded:v,selected_doc_type:p,doc_attributes:T,user_settings:A,record:_,docType:n,doc_loaded:u,has_ai_table:m,documentTables:i,isExtenedPanel:s,formBuilderModel:t,isFormBuilderMode:a,documentTableNames:o,formBuilderConfigModel:l,tab:(0,h.KR)("extracted_tables"),quasarCopyToClipboard:g.A,AI_setting_flag:(0,h.KR)(!1),table_extration_setting:(0,h.KR)(!1),display_tabs:(0,h.KR)(!0),visible_columns:(0,h.KR)([]),getDocumentTables:r}}});var S=l(12807),D=l(42980),I=l(10327),T=l(97410),O=l(23954),M=l(50492),R=l(59198),P=l(84436),q=l(53999),V=l(90124),N=l(25173),B=l(39041),$=l(71746),Q=l(10386),X=l(82156),W=l(23316),K=l(44189),U=l(3952),j=l(62669),z=l(88672),H=l(98582),G=l.n(H);const Y=(0,S.A)(A,[["render",u]]),J=Y;G()(A,"components",{QTabs:D.A,QTab:I.A,QTooltip:T.A,QBadge:O.A,QIcon:M.A,QSpinnerDots:R.A,QMenu:P.A,QList:q.A,QItem:V.A,QItemSection:N.A,QTabPanels:B.A,QTabPanel:$.A,QSeparator:Q.A,QDialog:X.A,QCard:W.A,QCardSection:K.A,QAvatar:U.A,QCardActions:j.A}),G()(A,"directives",{ClosePopup:z.A})},51145:(e,t,l)=>{"use strict";l.d(t,{A:()=>S});var a=l(61758),o=l(58790);const i={class:"full-width"},s={key:0,class:"col-sm-12 col-md-12 col-lg-12 display-flex"},n=["id","child_type"],r={class:"inner-field-actions",style:{height:"38px"}};function d(e,t,l,d,u,c){const p=(0,a.g2)("q-tooltip"),h=(0,a.g2)("InfoPanel"),m=(0,a.g2)("q-badge"),_=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.CE)("div",i,[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?((0,a.uX)(),(0,a.CE)("div",{key:0,style:(0,o.Tr)("width:"+e.formBuilderConfigModel[e.fieldName].labelWidth+"%"),class:"display-block"},[(0,a.Lk)("div",{class:(0,o.C4)([e.fieldName,"full-width"])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0)],2)],4)):(0,a.Q3)("",!0),(0,a.Lk)("div",{style:(0,o.Tr)("width:"+e.getInputFieldWidth(e.formBuilderConfigModel[e.fieldName])+"%"),class:"display-block"},[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",{class:(0,o.C4)(["ellipsify full-width",e.fieldName])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder.")),1)])),_:1})],2)])),(0,a.Lk)("div",{id:e.fieldName,child_type:e.formBuilderConfigModel[e.fieldName].is_textarea?"textarea":"input",class:(0,o.C4)(["col-sm-12 col-md-12 col-lg-12 autocomplete",e.formBuilderConfigModel[e.fieldName].is_textarea?" ":" input-text-28px"]),role:"combobox","aria-autocomplete":"list","aria-controls":"suggestions","aria-expanded":"false"},[(0,a.bF)(_,{outlined:"",clearable:"","use-input":"","hide-selected":"","fill-input":"","hide-dropdown-icon":"","data-field-name":e.formBuilderConfigModel[e.fieldName].field_name,options:e.filteredList,disable:e.isReadOnly||e.formBuilderConfigModel[e.fieldName].is_readonly,class:(0,o.C4)("full-width input-field ellipsify autocomplete-field "+e.formBuilderConfigModel[e.fieldName].field_name+"_input "+e.formBuilderConfigModel[e.fieldName].color+" "+(e.formBuilderModel[e.fieldName].input_error?" invalid-input ":"")+e.formBuilderModel[e.fieldName].input_error),onClick:t[0]||(t[0]=t=>{e.inputFieldClicked(t,e.fieldName)}),"onUpdate:modelValue":[t[1]||(t[1]=t=>{e.changeEventHandler(t)}),t[2]||(t[2]=t=>e.formBuilderModel[e.fieldName].formatted_value=t)],modelValue:e.formBuilderModel[e.fieldName].formatted_value,"data-cy":e.formBuilderModel[e.fieldName].field_name,"emit-value":"","map-options":"",onFilter:e.filterlistEvent},{append:(0,a.k6)((()=>[(0,a.Lk)("div",r,[e.isExtraInfo(e.fieldName)?((0,a.uX)(),(0,a.Wv)(h,{key:0,fieldName:e.fieldName},null,8,["fieldName"])):(0,a.Q3)("",!0),e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(m,{key:1,color:"orange","text-color":"black",label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["label"])):(0,a.Q3)("",!0)])])),_:1},8,["data-field-name","options","disable","class","modelValue","data-cy","onFilter"])],10,n)],4)])}var u=l(1659),c=l(87374),p=l(38734),h=l(76956),m=l(25891),_=l(55987),b=l(79893),v=l(83319),g=l(31453),f=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const y=(0,a.pM)({name:"group_dropdown",components:{InfoPanel:g.A},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["inputClicked","inputValueChanges","updateModel"],mixins:[m.A,b.A,_.A,c.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.init()},methods:{init(){return f(this,void 0,void 0,(function*(){this.isFormBuilderMode||(yield this.getPermissionsData(),this.prepareUserDropdown())}))},prepareUserDropdown(){this.options=[];for(let e of this.groups)this.options.push({label:e.group_name,value:e.group_id});this.filteredList=this.options},inputFieldClicked(e,t){this.isFormBuilderMode&&(e.stopPropagation(),this.$emit("inputClicked",t))},changeEventHandler(e){this.formBuilderModel[this.fieldName].formatted_value=e,this.formBuilderModel[this.fieldName].value=e,this.formBuilderModel[this.fieldName].input_error="",this.formBuilderConfigModel[this.fieldName].color=h.aH.success_border_left,this.$emit("inputValueChanges",this.fieldName,"input")},filterlistEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filteredList=this.options.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filteredList=this.options})}},setup(){const e=(0,v.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,showTabIndex:o}=(0,u.bP)(e),{isExtraInfo:i}=e,s=(0,v.H4)(),{getPermissionsData:n}=s,{groups:r}=(0,u.bP)(s);return{groups:r,showTabIndex:o,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,isExtraInfo:i,getPermissionsData:n,options:(0,p.KR)([]),filteredList:(0,p.KR)([])}}});var k=l(12807),w=l(97410),C=l(94940),x=l(23954),L=l(67156),F=l(98582),E=l.n(F);const A=(0,k.A)(y,[["render",d],["__scopeId","data-v-c92e0984"]]),S=A;E()(y,"components",{QTooltip:w.A,QSelect:C.A,QBadge:x.A,QField:L.A})},34835:(e,t,l)=>{"use strict";l.d(t,{A:()=>m});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-separator");return(0,a.uX)(),(0,a.Wv)(r,{size:"2px",class:(0,o.C4)(["cursor-pointer",e.formBuilderConfigModel[e.fieldName].space_from_top+" "+e.formBuilderConfigModel[e.fieldName].space_from_bottom]),onClick:t[0]||(t[0]=t=>{e.inputFieldClicked(t,e.fieldName)})},null,8,["class"])}var s=l(1659),n=l(83319);const r=(0,a.pM)({name:"HorizontalSeparator",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["updateModel","inputClicked"],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{inputFieldClicked(e,t){e.stopPropagation(),this.$emit("inputClicked",t)},getLowerConfidence(e){return this.isFormBuilderMode?null:this.getLowerConfidence(e)}},setup(){const e=(0,n.uL)(),{isFormBuilderMode:t,formBuilderConfigModel:l}=(0,s.bP)(e);return{isFormBuilderMode:t,formBuilderConfigModel:l}}});var d=l(12807),u=l(10386),c=l(98582),p=l.n(c);const h=(0,d.A)(r,[["render",i]]),m=h;p()(r,"components",{QSeparator:u.A})},85203:(e,t,l)=>{"use strict";l.d(t,{A:()=>D});var a=l(61758);const o=e=>((0,a.Qi)("data-v-71a11836"),e=e(),(0,a.jt)(),e),i={class:"full-width"},s=o((()=>(0,a.Lk)("div",{class:"q-pa-md"},[(0,a.Lk)("div",{class:"row items-center"},[(0,a.Lk)("div",{class:"col"}," Buttons visibility ")]),(0,a.Lk)("div",{class:"row"},[(0,a.Lk)("div",{class:"col"}," Auto Accounting = Cost Invoice + Auto Accounting module is on ")]),(0,a.Lk)("div",{class:"row"},[(0,a.Lk)("div",{class:"col"}," PO Match = Purchase Invoice + Table Exists + PO Enable ")]),(0,a.Lk)("div",{class:"row"},[(0,a.Lk)("div",{class:"col"}," Export = No Auto Accounting AND No PO Match ")])],-1))),n={class:"full-width"},r=["onClick"];function d(e,t,l,o,d,u){const c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-icon");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",i,[e.isFormBuilderMode?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-grey",anchor:"bottom right",self:"top right"},{default:(0,a.k6)((()=>[s])),_:1})])),_:1})):(0,a.Q3)("",!0)]),(0,a.Lk)("div",n,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.formBuilderConfigModel[e.fieldName].child_elements,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[e.isFormBuilderMode||-1!==e.exclueded_buttons.indexOf(t.fieldType)||e.show_button_type===t.fieldType?((0,a.uX)(),(0,a.CE)("div",(0,a.v6)({key:0,ref_for:!0},e.formBuilderConfigModel[t.name],{onClick:l=>e.inputClicked(t.name),class:["display-block element_parent cursor-move",t.name==e.activeFieldName?"is--active  dashed-border":" "],style:"width:"+e.getElementWidth(e.formBuilderConfigModel[t.name])+"%"}),[((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.fieldType),{onInputClicked:e.inputClicked,currentField:e.formBuilderConfigModel[t.name],fieldName:t.name,show_button_type:e.show_button_type,isReadOnly:e.isReadOnly,class:"form__field"},null,40,["onInputClicked","currentField","fieldName","show_button_type","isReadOnly"]))],16,r)):(0,a.Q3)("",!0)],64)))),128))])],64)}var u=l(1659),c=l(38734),p=l(25891),h=l(76093),m=l(55184),_=l(52544),b=l(37673),v=l(79893),g=l(83319),f=l(57366),y=l(4225),k=l(76956),w=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const C=(0,a.pM)({name:"InvoiceButtons",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,default:0},itemIndex:{type:Number,default:0}},emits:["inputClicked","inputValueChanges","updateModel","applyFuzzySearch","markTableColumns","itemAdded","removeField"],mixins:[p.A,v.A,f.A],components:{PoMatchButton:_.A,SaveRulesButton:h.A,ExportButton:b.A,AutoAccountingButton:m.A},watch:{doc_loaded:{handler:function(e,t){this.init()}},loading_settings:{handler:function(e,t){1==e&&0==t||this.init()}}},data(){return{auto_accounting_setting:k.P1}},beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted(){this.init(),document.addEventListener("field_value_updated",this.fieldValueUpdated),document.addEventListener("prepare_rows",this.reInitButtons),document.addEventListener("delete_table",this.reInitButtons)},unmounted:function(){document.removeEventListener("field_value_updated",this.fieldValueUpdated),document.removeEventListener("prepare_rows",this.reInitButtons),document.removeEventListener("delete_table",this.reInitButtons)},methods:{inputClicked(e){const t=new CustomEvent("element_click",{detail:e});document.dispatchEvent(t)},fieldValueUpdated(e){"invoice_sub_type"===e.detail.field_name&&this.init()},init(){return w(this,void 0,void 0,(function*(){if(this.isFormBuilderMode)return;let e=y.VV.EXPORT_BUTTON;this.isCostInvoice()?(this.record.po_multi_matched=[],e=y.VV.AUTO_ACCOUNTING_BUTTON):(yield this.isPoSettingActivate(this.doctype))&&this.formBuilderModel["invoice_sub_type"]&&this.formBuilderModel["invoice_sub_type"].hasOwnProperty("formatted_value")&&"Purchase Invoice"===this.formBuilderModel["invoice_sub_type"].formatted_value&&this.hasTable()&&(e=y.VV.PO_MATCH_BUTTON),logInfo("on_button",e),this.show_button_type=e}))},reInitButtons(){this.hasTable()||this.init()},isCostInvoice(){return!(!0!==Boolean(this.user_settings[this.auto_accounting_setting])||!this.formBuilderModel["invoice_sub_type"]||!this.formBuilderModel["invoice_sub_type"].hasOwnProperty("formatted_value")||"Cost Invoice"!==this.formBuilderModel["invoice_sub_type"].formatted_value)}},setup(){const e=(0,g.uL)(),{formBuilderModel:t,formBuilderConfigModel:l,documentTableNames:a,isFormBuilderMode:o,activeFieldName:i,documentTables:s,docType:n}=(0,u.bP)(e),{getElementWidth:r}=e,d=(0,g.q3)(),{record:p,doctype:h,doc_loaded:m}=(0,u.bP)(d),{hasTable:_}=d,b=(0,g.Bu)(),{user_settings:v}=(0,u.bP)(b);return{hasTable:_,user_settings:v,record:p,doctype:h,getElementWidth:r,docType:n,doc_loaded:m,documentTables:s,activeFieldName:i,formBuilderModel:t,isFormBuilderMode:o,documentTableNames:a,formBuilderConfigModel:l,show_button_type:(0,c.KR)(y.VV.EXPORT_BUTTON),exclueded_buttons:(0,c.KR)([y.VV.SAVE_RULES_BUTTON])}}});var x=l(12807),L=l(50492),F=l(97410),E=l(98582),A=l.n(E);const S=(0,x.A)(C,[["render",d],["__scopeId","data-v-71a11836"]]),D=S;A()(C,"components",{QIcon:L.A,QTooltip:F.A})},18783:(e,t,l)=>{"use strict";l.d(t,{A:()=>h});var a=l(61758),o=l(58790);const i={class:"full-width full-height cursor-pointer"};function s(e,t,l,s,n,r){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("span",{onClick:t[0]||(t[0]=t=>e.$emit("inputClicked",e.fieldName))},(0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder.")),1)])}var n=l(1659),r=l(83319),d=l(25891);const u=(0,a.pM)({name:"TextInput",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["updateModel","inputClicked"],mixins:[d.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{getLowerConfidence(e){return this.isFormBuilderMode?null:this.getLowerConfidence(e)}},setup(){const e=(0,r.uL)(),{formBuilderConfigModel:t,isFormBuilderMode:l}=(0,n.bP)(e);return{isFormBuilderMode:l,formBuilderConfigModel:t}}});var c=l(12807);const p=(0,c.A)(u,[["render",s]]),h=p},21529:(e,t,l)=>{"use strict";l.d(t,{A:()=>v});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-option-group"),d=(0,a.g2)("q-badge");return(0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)(["full-width",e.isFormBuilderMode&&e.showTabIndex?"position-relative":""])},[(0,a.bF)(r,{id:e.fieldName,child_type:"multi_checkbox",inline:"",color:"primary",type:"checkbox",modelValue:e.formBuilderModel[e.fieldName].groupList,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.formBuilderModel[e.fieldName].groupList=t),t[1]||(t[1]=t=>{e.inputValueChanges(e.$event,t)})],options:e.formBuilderConfigModel[e.fieldName].options,tabindex:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["id","modelValue","options","tabindex"]),e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(d,{key:0,color:"orange","text-color":"black",class:(0,o.C4)(e.isFormBuilderMode&&e.showTabIndex?"checkbox-badge":""),label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["class","label"])):(0,a.Q3)("",!0)],2)}var s=l(1659),n=l(83319),r=l(25891),d=l(79893);const u=(0,a.pM)({name:"MultiCheckBox",props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["inputValueChanges","updateModel"],mixins:[r.A,d.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{inputValueChanges(e,t){e||(e=window.event),e.stopPropagation&&e.stopPropagation(),this.isFormBuilderMode?this.formBuilderModel[this.fieldName].groupList=[]:this.formBuilderModel[this.fieldName].groupList.length>1&&this.formBuilderModel[this.fieldName].groupList.splice(0,1),this.$emit("inputValueChanges",this.fieldName,"checkbox")}},setup(){const e=(0,n.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,showTabIndex:o}=(0,s.bP)(e);return{showTabIndex:o,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a}}});var c=l(12807),p=l(61003),h=l(23954),m=l(98582),_=l.n(m);const b=(0,c.A)(u,[["render",i]]),v=b;_()(u,"components",{QOptionGroup:p.A,QBadge:h.A})},46186:(e,t,l)=>{"use strict";l.d(t,{A:()=>A});var a=l(58790),o=l(61758);const i={key:0,class:"row items-center justify-center"},s={key:1,class:"full-width"},n={class:"row"},r={class:"col-sm-6 secondary-c-text text-h6 q-pt-sm q-pb-sm text-weight-bold"},d={class:(0,a.C4)("row full-width ")},u={key:0,class:"col-6 q-pt-sm qr-fields"},c={class:"row"},p={class:"row"},h={class:(0,a.C4)("row full-width ")},m={key:0,class:"col-6 q-mt-sm qr-fields"},_={class:"row"},b={class:"row"};function v(e,t,l,v,g,f){const y=(0,o.g2)("q-input");return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.isFormBuilderMode?((0,o.uX)(),(0,o.CE)("div",i,(0,a.v_)(e.$t("qr_code_extracted_fields")),1)):(0,o.Q3)("",!0),e.doc_loaded&&e.hasQRInfo()?((0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",n,[(0,o.Lk)("div",r,(0,a.v_)(e.$t("qr_code")),1),(0,o.Lk)("div",d,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.record.qr_code_data,((t,l)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:l},[t&&"object"!==typeof t?((0,o.uX)(),(0,o.CE)("div",u,[(0,o.Lk)("div",c,(0,a.v_)(e.makeLabelFromFieldName(l)),1),(0,o.Lk)("div",p,[(0,o.bF)(y,{"data-field-name":l,outlined:"",disable:!0,class:(0,a.C4)(" bg-disable input-field input-text-28px full-width "+l+"_input "),type:"text",modelValue:e.record.qr_code_data[l],"onUpdate:modelValue":t=>e.record.qr_code_data[l]=t},null,8,["data-field-name","class","modelValue","onUpdate:modelValue"])])])):(0,o.Q3)("",!0)],64)))),128))]),e.show_more?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"row link cursor-pointer font-size-14",onClick:t[0]||(t[0]=t=>e.show_more=!0)},(0,a.v_)(e.$t("show_more")),1)),e.show_more?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.record.qr_code_data,((t,l)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:l},[t&&"object"===typeof t?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",{class:(0,a.C4)("row full-width q-pt-sm pr-14 "+l+("object"===typeof t?" secondary-c-text text-weight-bold ":""))},(0,a.v_)(e.makeLabelFromFieldName(l)),3),(0,o.Lk)("div",h,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t,((t,i)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:i},[t?((0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("div",_,(0,a.v_)(e.makeLabelFromFieldName(i)),1),(0,o.Lk)("div",b,[(0,o.bF)(y,{"data-field-name":i,outlined:"",disable:!0,class:(0,a.C4)(" bg-disable full-width input-field input-text-28px "+i+"_input "),type:"text",modelValue:e.record.qr_code_data[l][i],"onUpdate:modelValue":t=>e.record.qr_code_data[l][i]=t},null,8,["data-field-name","class","modelValue","onUpdate:modelValue"])])])):(0,o.Q3)("",!0)],64)))),128))])],64)):(0,o.Q3)("",!0)],64)))),128)),(0,o.Lk)("div",{class:"row link cursor-pointer font-size-14",onClick:t[1]||(t[1]=t=>e.show_more=!1)},(0,a.v_)(e.$t("show_less")),1)],64)):(0,o.Q3)("",!0)])])):(0,o.Q3)("",!0)],64)}var g=l(1659),f=l(38734),y=l(25891),k=l(83319);const w=(0,o.pM)({name:"QRCodeExtractedFields",watch:{doc_loaded:{handler:function(e,t){e&&(this.load_view=!0)}}},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,default:0},itemIndex:{type:Number,default:0}},emits:["inputClicked","inputValueChanges","updateModel","applyFuzzySearch","markTableColumns","itemAdded","removeField"],mixins:[y.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},methods:{hasQRInfo(){return!this.isFormBuilderMode&&this.doc_loaded&&this.record.hasOwnProperty("qr_code_data")&&null!=this.record.qr_code_data},makeLabelFromFieldName(e){return e.replace(/_/g," ").toUpperCase()}},setup(){const e=(0,k.uL)(),{isFormBuilderMode:t}=(0,g.bP)(e),l=(0,k.q3)(),{doc_loaded:a,record:o}=(0,g.bP)(l);return{isFormBuilderMode:t,doc_loaded:a,record:o,load_view:(0,f.KR)(!1),show_more:(0,f.KR)(!1)}}});var C=l(12807),x=l(67837),L=l(98582),F=l.n(L);const E=(0,C.A)(w,[["render",v]]),A=E;F()(w,"components",{QInput:x.A})},46032:(e,t,l)=>{"use strict";l.d(t,{A:()=>I});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-4aaa8d74"),e=e(),(0,a.jt)(),e),s={class:"full-width"},n={key:0,class:"col-sm-12 col-md-12 col-lg-12 display-flex"},r={key:0,class:"width-35px"},d=["id","child_type"],u={key:0},c=i((()=>(0,a.Lk)("img",{width:"24",src:"images/value_unmatched.svg"},null,-1))),p={key:0,class:"inner-field-actions"},h={class:"q-ml-sm"};function m(e,t,l,i,m,_){const b=(0,a.g2)("q-tooltip"),v=(0,a.g2)("q-icon"),g=(0,a.g2)("q-spinner-ios"),f=(0,a.g2)("q-avatar"),y=(0,a.g2)("InfoPanel"),k=(0,a.g2)("q-badge"),w=(0,a.g2)("AddFieldAsLineItem"),C=(0,a.g2)("q-input"),x=(0,a.g2)("autocomplete"),L=(0,a.g2)("q-card-section"),F=(0,a.g2)("f-btn"),E=(0,a.g2)("q-card-actions"),A=(0,a.g2)("q-card"),S=(0,a.g2)("q-dialog"),D=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",s,[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?((0,a.uX)(),(0,a.CE)("div",{key:0,style:(0,o.Tr)("width:"+e.formBuilderConfigModel[e.fieldName].labelWidth+"%"),class:"display-block"},[(0,a.Lk)("div",{class:(0,o.C4)(e.fieldName+" "+(e.showClearRuleButton(e.fieldName)?" label-area ":" full-width "))},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0)],2)],4)):(0,a.Q3)("",!0),(0,a.Lk)("div",{style:(0,o.Tr)("width:"+e.getInputFieldWidth(e.formBuilderConfigModel[e.fieldName])+"%"),class:"display-block"},[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",{class:(0,o.C4)(["ellipsify",e.fieldName+" "+(e.showClearRuleButton(e.fieldName)?"label-area-fb":"full-width")])},[(0,a.eW)((0,o.v_)(e.getTranslations())+" ",1),(0,a.Q3)("",!0),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder.")),1)])),_:1})],2),e.showClearRuleButton(e.fieldName)?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(v,{onClick:t[0]||(t[0]=t=>e.deleteRuleConfirmation()),name:"cancel",class:"q-pb-xs float-right text-grey-7 cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("form_builder.deleteRule")),1)])),_:1})])),_:1})])):(0,a.Q3)("",!0)])),(0,a.Lk)("div",{id:e.fieldName,child_type:e.formBuilderConfigModel[e.fieldName].is_textarea?"textarea":"input",class:(0,o.C4)(["col-sm-12 col-md-12 col-lg-12 autocomplete",e.formBuilderConfigModel[e.fieldName].is_textarea?" ":" input-text-28px"]),role:"combobox","aria-autocomplete":"list","aria-controls":"suggestions","aria-expanded":"false"},[(0,a.bF)(C,{outlined:"",dense:"","data-name":e.fieldName,readonly:e.isReadOnly||e.formBuilderConfigModel[e.fieldName].is_readonly||e.lookup_loading_fields.hasOwnProperty(e.fieldName)&&e.lookup_loading_fields[e.fieldName].lookup_loading,tabindex:e.formBuilderConfigModel[e.fieldName].tabIndex,autogrow:e.formBuilderConfigModel[e.fieldName].is_textarea,class:(0,o.C4)(" full-width "+e.fieldName+"_input "+(e.formBuilderConfigModel[e.fieldName].is_textarea?" ":"input-field ")+e.formBuilderConfigModel[e.fieldName].color+" "+e.formBuilderModel[e.fieldName].name+" "+e.addErrorClass()),onClick:t[3]||(t[3]=t=>{e.inputFieldClicked(t,e.fieldName)}),"onUpdate:modelValue":[t[4]||(t[4]=t=>{e.modelUpdated(t)}),t[6]||(t[6]=t=>e.formBuilderModel[e.fieldName].formatted_value=t)],onChange:t[5]||(t[5]=t=>{e.changeEvent()}),modelValue:e.formBuilderModel[e.fieldName].formatted_value,autocomplete:"off"},{append:(0,a.k6)((()=>[e.lookup_loading_fields.hasOwnProperty(e.fieldName)?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[e.lookup_loading_fields[e.fieldName].lookup_loading?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.bF)(g,{color:"primary",size:"0.86em"})])):(0,a.Q3)("",!0),1==e.lookup_loading_fields[e.fieldName].lookup_found?((0,a.uX)(),(0,a.Wv)(v,{key:1,flat:"",dense:"",name:"check_circle",size:"18px",class:"cursor-pointer text-light-green-8",tabindex:"0"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("lookup_record_found")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),0==e.lookup_loading_fields[e.fieldName].lookup_found?((0,a.uX)(),(0,a.Wv)(v,{key:2,flat:"",dense:"",name:"warning",size:"18px",class:"cursor-pointer text-orange",tabindex:"0"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.interpolate(e.fieldName,e.$t("no_lookup_record_found_for_list"))),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0),e.formBuilderModel[e.fieldName].hasOwnProperty("value_unmatched")&&1==e.formBuilderModel[e.fieldName].value_unmatched?((0,a.uX)(),(0,a.Wv)(v,{key:1,flat:"",size:"18px"},{default:(0,a.k6)((()=>[c])),_:1})):(0,a.Q3)("",!0),e.formBuilderConfigModel[e.fieldName].calculator?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[e.isCalculatorIconAllowed()?((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(v,{flat:"",dense:"",name:"calculate",size:"18px",class:"cursor-pointer",tabindex:"0",onClick:t[1]||(t[1]=t=>e.calculateValueOnCalulatorClick())})])):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0),e.lookup_configurations.has(e.fieldName)?((0,a.uX)(),(0,a.Wv)(f,{key:3,class:"cursor-pointer fuzzy-field",size:"18px"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/fuzzy-search.svg",onClick:t[2]||(t[2]=t=>{t.stopPropagation(),t.preventDefault(),e.$emit("applyFuzzySearch",e.formBuilderModel[e.fieldName])})})])),_:1})):(0,a.Q3)("",!0),e.isExtraInfo(e.fieldName)?((0,a.uX)(),(0,a.Wv)(y,{key:4,fieldName:e.fieldName},null,8,["fieldName"])):(0,a.Q3)("",!0),e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(k,{key:5,color:"orange","text-color":"black",label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["label"])):(0,a.Q3)("",!0)])),default:(0,a.k6)((()=>[e.displayAddFieldAsLineItemMenu()?((0,a.uX)(),(0,a.Wv)(w,{key:0,fieldName:e.fieldName},null,8,["fieldName"])):(0,a.Q3)("",!0)])),_:1},8,["data-name","readonly","tabindex","autogrow","class","modelValue"]),!e.isFormBuilderMode&&e.formBuilderConfigModel[e.fieldName].list_of_values?((0,a.uX)(),(0,a.Wv)(x,{key:0,input_class:e.fieldName+"_input",parent_id:e.fieldName,options:e.getListOfValues(e.formBuilderConfigModel[e.fieldName].list_of_values)},null,8,["input_class","parent_id","options"])):(0,a.Q3)("",!0)],10,d)],4)]),(0,a.bF)(S,{modelValue:e.deleteConfirmationDlg,"onUpdate:modelValue":t[8]||(t[8]=t=>e.deleteConfirmationDlg=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(A,null,{default:(0,a.k6)((()=>[(0,a.bF)(L,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(f,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(L,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",h,(0,o.v_)(e.$t("pages.messages.MSG_DELETE_RULE")),1)])),_:1}),(0,a.bF)(E,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(F,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[D]]),(0,a.bo)((0,a.bF)(F,{appearance:"negative",label:e.$t("delete"),onClick:t[7]||(t[7]=t=>e.deleteRule())},null,8,["label"]),[[D]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var _=l(59389),b=l(12807),v=l(97410),g=l(50492),f=l(67837),y=l(82157),k=l(3952),w=l(23954),C=l(82156),x=l(23316),L=l(44189),F=l(62669),E=l(88672),A=l(98582),S=l.n(A);const D=(0,b.A)(_.A,[["render",m],["__scopeId","data-v-4aaa8d74"]]),I=D;S()(_.A,"components",{QTooltip:v.A,QIcon:g.A,QInput:f.A,QSpinnerIos:y.A,QAvatar:k.A,QBadge:w.A,QDialog:C.A,QCard:x.A,QCardSection:L.A,QCardActions:F.A}),S()(_.A,"directives",{ClosePopup:E.A})},54126:(e,t,l)=>{"use strict";l.d(t,{A:()=>S});var a=l(61758),o=l(58790);const i={class:"full-width"},s={key:0,class:"col-sm-12 col-md-12 col-lg-12 display-flex"},n=["id","child_type"],r={class:"inner-field-actions",style:{height:"38px"}};function d(e,t,l,d,u,c){const p=(0,a.g2)("q-tooltip"),h=(0,a.g2)("InfoPanel"),m=(0,a.g2)("q-badge"),_=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.CE)("div",i,[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?((0,a.uX)(),(0,a.CE)("div",{key:0,style:(0,o.Tr)("width:"+e.formBuilderConfigModel[e.fieldName].labelWidth+"%"),class:"display-block"},[(0,a.Lk)("div",{class:(0,o.C4)([e.fieldName,"full-width"])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0)],2)],4)):(0,a.Q3)("",!0),(0,a.Lk)("div",{style:(0,o.Tr)("width:"+e.getInputFieldWidth(e.formBuilderConfigModel[e.fieldName])+"%"),class:"display-block"},[e.formBuilderConfigModel[e.fieldName].displayLabelOnLeft?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",{class:(0,o.C4)(["ellipsify full-width",e.fieldName])},[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" ",1),(0,a.Q3)("",!0),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder.")),1)])),_:1})],2)])),(0,a.Lk)("div",{id:e.fieldName,child_type:e.formBuilderConfigModel[e.fieldName].is_textarea?"textarea":"input",class:(0,o.C4)(["col-sm-12 col-md-12 col-lg-12 autocomplete",e.formBuilderConfigModel[e.fieldName].is_textarea?" ":" input-text-28px"]),role:"combobox","aria-autocomplete":"list","aria-controls":"suggestions","aria-expanded":"false"},[(0,a.bF)(_,{outlined:"",clearable:"","use-input":"","hide-selected":"","fill-input":"","hide-dropdown-icon":"","data-field-name":e.formBuilderConfigModel[e.fieldName].field_name,options:e.filteredList,disable:e.isReadOnly||e.formBuilderConfigModel[e.fieldName].is_readonly,class:(0,o.C4)("full-width input-field ellipsify autocomplete-field "+e.formBuilderConfigModel[e.fieldName].field_name+"_input "+e.formBuilderConfigModel[e.fieldName].color+" "+(e.formBuilderModel[e.fieldName].input_error?" invalid-input ":"")+e.formBuilderModel[e.fieldName].input_error),onClick:t[0]||(t[0]=t=>{e.inputFieldClicked(t,e.fieldName)}),"onUpdate:modelValue":[t[1]||(t[1]=t=>{e.changeEventHandler(t)}),t[2]||(t[2]=t=>e.formBuilderModel[e.fieldName].formatted_value=t)],modelValue:e.formBuilderModel[e.fieldName].formatted_value,"data-cy":e.formBuilderModel[e.fieldName].field_name,"emit-value":"","map-options":"",onFilter:e.filterlistEvent},{append:(0,a.k6)((()=>[(0,a.Lk)("div",r,[e.isExtraInfo(e.fieldName)?((0,a.uX)(),(0,a.Wv)(h,{key:0,fieldName:e.fieldName},null,8,["fieldName"])):(0,a.Q3)("",!0),e.isFormBuilderMode&&e.showTabIndex?((0,a.uX)(),(0,a.Wv)(m,{key:1,color:"orange","text-color":"black",label:e.formBuilderConfigModel[e.fieldName].tabIndex},null,8,["label"])):(0,a.Q3)("",!0)])])),_:1},8,["data-field-name","options","disable","class","modelValue","data-cy","onFilter"])],10,n)],4)])}var u=l(1659),c=l(87374),p=l(38734),h=l(76956),m=l(25891),_=l(55987),b=l(83319),v=l(79893),g=l(31453),f=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const y=(0,a.pM)({name:"user_dropdown",components:{InfoPanel:g.A},props:{currentField:{type:Object,default:new Object},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1}},emits:["inputClicked","inputValueChanges","updateModel"],mixins:[m.A,v.A,_.A,c.A],beforeMount:function(){this.isFormBuilderMode&&this.$emit("updateModel",this.currentField)},mounted:function(){this.init()},methods:{init(){return f(this,void 0,void 0,(function*(){this.isFormBuilderMode||(yield this.getAllUsers(),this.prepareUserDropdown())}))},prepareUserDropdown(){this.options=[];for(let e of this.allUsers)this.options.push({label:e.name,value:e.id});this.filteredList=this.options},inputFieldClicked(e,t){this.isFormBuilderMode&&(e.stopPropagation(),this.$emit("inputClicked",t))},changeEventHandler(e){this.formBuilderModel[this.fieldName].formatted_value=e,this.formBuilderModel[this.fieldName].value=e,this.formBuilderModel[this.fieldName].input_error="",this.formBuilderConfigModel[this.fieldName].color=h.aH.success_border_left,this.$emit("inputValueChanges",this.fieldName,"input")},filterlistEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filteredList=this.options.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filteredList=this.options})}},setup(){const e=(0,b.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,showTabIndex:o}=(0,u.bP)(e),{isExtraInfo:i}=e,s=(0,b.kH)(),{getAllUsers:n}=s,{allUsers:r}=(0,u.bP)(s);return{allUsers:r,showTabIndex:o,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,getAllUsers:n,isExtraInfo:i,options:(0,p.KR)([]),filteredList:(0,p.KR)([])}}});var k=l(12807),w=l(97410),C=l(94940),x=l(23954),L=l(67156),F=l(98582),E=l.n(F);const A=(0,k.A)(y,[["render",d],["__scopeId","data-v-02ae97dc"]]),S=A;E()(y,"components",{QTooltip:w.A,QSelect:C.A,QBadge:x.A,QField:L.A})},14144:(e,t,l)=>{"use strict";l.d(t,{A:()=>V});var a=l(61758),o=l(58790);const i={class:"text-weight-bold"},s={class:"row"},n={class:"col-sm-12 col-md-12 col-lg-12 q-mt-sm"},r={class:"col-sm-12 col-md-12 col-lg-12 q-mt-sm"},d={class:"col-sm-12 col-md-12 col-lg-12 q-mt-sm"},u={class:"col-sm-12 col-md-12 col-lg-12 q-mt-sm"};function c(e,t,l,c,p,h){const m=(0,a.g2)("q-item-section"),_=(0,a.g2)("q-item"),b=(0,a.g2)("q-separator"),v=(0,a.g2)("q-list"),g=(0,a.g2)("q-menu"),f=(0,a.g2)("q-toolbar-title"),y=(0,a.g2)("q-btn"),k=(0,a.g2)("q-toolbar"),w=(0,a.g2)("q-input"),C=(0,a.g2)("q-select"),x=(0,a.g2)("q-card-section"),L=(0,a.g2)("f-btn"),F=(0,a.g2)("q-card-actions"),E=(0,a.g2)("q-card"),A=(0,a.g2)("q-dialog"),S=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(g,{"touch-position":"","context-menu":""},{default:(0,a.k6)((()=>[(0,a.bF)(v,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(_,{clickable:"",onClick:t[0]||(t[0]=t=>e.showAddLineItemDialog())},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.eW)("Select as line Item")])),_:1})])),_:1})),[[S]]),(0,a.bF)(b),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(_,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("close")),1)])),_:1})])),_:1})),[[S]])])),_:1})])),_:1}),(0,a.bF)(A,{modelValue:e.addLineItemDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.addLineItemDialog=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(E,{style:{width:"600px"}},{default:(0,a.k6)((()=>[(0,a.bF)(k,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",i,(0,o.v_)(e.$t("add_line_row")),1)])),_:1}),(0,a.bo)((0,a.bF)(y,{flat:"",round:"",dense:"",icon:"close"},null,512),[[S]])])),_:1}),(0,a.bF)(x,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",s,[(0,a.Lk)("div",n,[(0,a.bF)(w,{dense:"",label:e.$t("amount"),modelValue:e.addLineModel["amount"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.addLineModel["amount"]=t),outlined:"",class:"full-width"},null,8,["label","modelValue"])]),(0,a.Lk)("div",r,[(0,a.bF)(C,{dense:"",outlined:"",modelValue:e.addLineModel["position"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.addLineModel["position"]=t),options:e.positionList,label:e.$t("position"),"emit-value":"","map-options":""},null,8,["modelValue","options","label"])]),(0,a.Lk)("div",d,[(0,a.bF)(w,{dense:"",label:e.$t("description"),modelValue:e.addLineModel["description"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.addLineModel["description"]=t),outlined:"",class:"full-width"},null,8,["label","modelValue"])]),(0,a.Lk)("div",u,[(0,a.bF)(C,{dense:"",outlined:"",modelValue:e.addLineModel["costing_element"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.addLineModel["costing_element"]=t),options:e.costingElementList,label:e.$t("costing_element"),"emit-value":"","map-options":""},null,8,["modelValue","options","label"])])])])),_:1}),(0,a.bF)(F,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(L,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[S]]),(0,a.bF)(L,{class:"q-mr-sm","data-cy":"setvatfield",label:e.$t("pages.line_items.proceed"),onClick:t[5]||(t[5]=t=>e.selectAsLineItem())},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var p=l(1659),h=l(24622),m=l(38734),_=l(83319),b=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const v=(0,a.pM)({mixins:[h.A],data(){return{addLineItemDialog:(0,m.KR)(!1),addLineModel:(0,m.KR)({})}},props:{fieldName:{type:String,required:!0}},mounted:function(){this.init()},methods:{init(){return b(this,void 0,void 0,(function*(){this.initPositionList(),this.costingElementList=yield this.getCostingElementList(["1","3"])}))},initPositionList(){if(this.positionList=[],this.record.tables&&this.record.tables[0]){this.tableObj=this.record.tables[0];for(const[e,t]of Object.entries(this.tableObj.rows)){const l=t;if(!l.hasOwnProperty("parent_id"))for(const[t,a]of Object.entries(l.columns)){const t=a;"POSITION"===t.name&&this.positionList.push({label:t.formatted_value,value:e})}}}},showAddLineItemDialog(){this.formBuilderModel[this.fieldName].formatted_value?(this.addLineItemDialog=!0,this.initLineModel()):this.showErrorToast(this.$t("pages.messages.CAN_NOT_PROCEED_ON_EMPTY_FIELD"))},initLineModel(){this.addLineModel={amount:this.formBuilderModel[this.fieldName].formatted_value,position:"",description:"",costing_element:""}},selectAsLineItem(){if(!this.formBuilderModel[this.fieldName].formatted_value)return void this.showErrorToast(this.$t("pages.messages.CAN_NOT_PROCEED_ON_EMPTY_FIELD"));for(let l of Object.keys(this.addLineModel))if(!this.addLineModel[l]){this.showErrorToast(this.$t("pages.messages.FIELD_IS_MANDATORY",{field:this.$t(l)}));break}let e={};this.record.fields.forEach(((t,l)=>{t.name===this.fieldName&&(t.content="",t.formatted_value="",t.value="",t.extraction_method="",t.is_validated=!0,t.is_valid=!0,t.coords=[],delete t.page,e=t)}));const t=new CustomEvent("add_new_row",{detail:{addLineModel:this.addLineModel,field:this.formBuilderModel[this.fieldName]}});document.dispatchEvent(t),this.formBuilderModel[this.fieldName]=[],this.formBuilderModel[this.fieldName]=e,this.addLineItemDialog=!1}},setup(){const e=(0,_.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,formLayout:o}=(0,p.bP)(e),i=(0,_.q3)(),{record:s}=(0,p.bP)(i),n=(0,_.rD)(),{getCostingElementList:r}=n;return{record:s,formLayout:o,formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,costingElementList:[],positionList:[],tableObj:[],getCostingElementList:r}}});var g=l(12807),f=l(84436),y=l(53999),k=l(90124),w=l(25173),C=l(10386),x=l(82156),L=l(23316),F=l(36914),E=l(39150),A=l(56384),S=l(44189),D=l(67837),I=l(94940),T=l(62669),O=l(44488),M=l(88672),R=l(98582),P=l.n(R);const q=(0,g.A)(v,[["render",c]]),V=q;P()(v,"components",{QMenu:f.A,QList:y.A,QItem:k.A,QItemSection:w.A,QSeparator:C.A,QDialog:x.A,QCard:L.A,QToolbar:F.A,QToolbarTitle:E.A,QBtn:A.A,QCardSection:S.A,QInput:D.A,QSelect:I.A,QCardActions:T.A,QTr:O.A}),P()(v,"directives",{ClosePopup:M.A})},14291:(e,t,l)=>{"use strict";l.d(t,{A:()=>S});var a=l(61758),o=l(58790),i=l(29104);const s={class:"q-ml-sm"};function n(e,t,l,n,r,d){const u=(0,a.g2)("q-tooltip"),c=(0,a.g2)("q-btn"),p=(0,a.g2)("q-avatar"),h=(0,a.g2)("q-card-section"),m=(0,a.g2)("f-btn"),_=(0,a.g2)("q-card-actions"),b=(0,a.g2)("q-card"),v=(0,a.g2)("q-dialog"),g=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(c,{flat:"",dense:"",icon:"img:images/supplier_block.svg",class:"icon-grey validation-footer-table-button",onClick:t[0]||(t[0]=t=>{t.stopPropagation(),e.openSupplierBlockDialog()})},{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("block_supplier_tooltip")),1)])),_:1})])),_:1}),(0,a.bF)(v,{modelValue:e.confirm_supplier_block,"onUpdate:modelValue":t[1]||(t[1]=t=>e.confirm_supplier_block=t),onKeydown:t[2]||(t[2]=(0,i.jR)((t=>e.confirm_supplier_block=!1),["esc"])),onHide:t[3]||(t[3]=t=>e.confirm_supplier_block=!1)},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{icon:"block",color:"primary","text-color":"white"}),(0,a.Lk)("span",s,(0,o.v_)(e.$t("block_supplier_confirmation")),1)])),_:1}),(0,a.bF)(_,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(m,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[g]]),(0,a.bF)(m,{class:"q-mr-sm","data-cy":"setvatfield",label:e.$t("confirm"),onClick:e.blockSupplierTableExtraction},null,8,["label","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var r=l(24622),d=l(38734),u=l(83319),c=l(18505),p=l(11470),h=l(1659),m=l(64775),_=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const b=(0,a.pM)({el:"#app",mixins:[c.A,r.A],components:{},props:{isReadOnly:{type:Boolean,default:!1}},data(){return{}},methods:{openSupplierBlockDialog(){this.isReadOnly||(this.confirm_supplier_block=!0)},blockSupplierTableExtraction(){return _(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;if(!this.supplier)return void this.showErrorToast(this.$t("pages.messages.SUPPLIER_NAME_MISSING"));const e={};e.doc_type=this.record.doc_type,e.is_org_specific=!0,e.tfidf_id=this.supplier,this.record.filter_values&&this.record.filter_values.length>0&&this.record.filter_values.forEach((function(t,l){let a="filterID"+(l+1);e[a]=t})),this.showLoading();const t=yield p.tt.blockSupplierForTableExtraction(e);if(!t||!1===t.success)throw{message:t.message};yield this.updateDocument(),this.confirm_supplier_block=!1,this.$router.go(0)}catch(e){const t=m.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},updateDocument(){return _(this,void 0,void 0,(function*(){this.record.tables=[],this.record.table_blocked=!0,yield this.saveDocument(this.record.doc_id),this.setDataToCache()}))}},setup(){const e=(0,u.q3)(),{doc_loaded:t,record:l,supplier:a}=(0,h.bP)(e),{saveDocument:o,setDataToCache:i}=e;return{setDataToCache:i,supplier:a,saveDocument:o,doc_loaded:t,record:l,confirm_supplier_block:(0,d.KR)(!1)}}});var v=l(12807),g=l(56384),f=l(97410),y=l(82156),k=l(23316),w=l(44189),C=l(3952),x=l(62669),L=l(88672),F=l(98582),E=l.n(F);const A=(0,v.A)(b,[["render",n],["__scopeId","data-v-1a76c50a"]]),S=A;E()(b,"components",{QBtn:g.A,QTooltip:f.A,QDialog:y.A,QCard:k.A,QCardSection:w.A,QAvatar:C.A,QCardActions:x.A}),E()(b,"directives",{ClosePopup:L.A})},89518:(e,t,l)=>{"use strict";l.d(t,{A:()=>y});var a=l(61758),o=l(58790);const i=["innerHTML"];function s(e,t,l,s,n,r){const d=(0,a.g2)("q-item-label"),u=(0,a.g2)("q-tooltip"),c=(0,a.g2)("q-item-section"),p=(0,a.g2)("q-item"),h=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(h,{dense:"",borderless:"",class:"f-doc-screens-input-field",loading:e.language_origins_loading,modelValue:e.language_origin,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.language_origin=t),e.dropdownChanged],options:e.origin_list,"emit-value":"","map-options":"",disable:e.isReadOnly,label:e.$t("pages.settings.amount_format")},{option:(0,a.k6)((e=>[(0,a.bF)(p,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024),e.opt.description?((0,a.uX)(),(0,a.Wv)(u,{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("span",{innerHTML:e.opt.description},null,8,i)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1040)])),_:1},8,["loading","modelValue","options","disable","label","onUpdate:modelValue"])}var n=l(1659),r=l(38734),d=l(83319);const u=(0,a.pM)({props:{isReadOnly:{type:Boolean,default:!1},origin:{type:String,default:""},column_name:{type:String,default:""}},mixins:[],components:{},emits:["updateColumnOrigin"],watch:{language_origins_loading:{handler:function(e,t){0==e&&this.updateOriginList()}}},data(){return{}},mounted:function(){this.updateOriginList()},methods:{dropdownChanged(){""!=this.column_name&&""!=this.language_origin&&this.$emit("updateColumnOrigin",{column_name:this.column_name,origin:this.language_origin})},updateOriginList(){this.language_origins_loaded&&(this.origin_list=JSON.parse(JSON.stringify(this.language_origins)),this.origin_list[0].label=this.$t("auto"),this.origin_list[0].value="auto",this.language_origin=this.origin)}},setup(){const e=(0,d.QJ)(),{language_origins:t,language_origins_loading:l,language_origins_loaded:a}=(0,n.bP)(e);return{language_origins_loaded:a,language_origins_loading:l,origin_list:(0,r.KR)([]),language_origin:(0,r.KR)(""),language_origins:t}}});var c=l(12807),p=l(94940),h=l(90124),m=l(25173),_=l(13796),b=l(97410),v=l(98582),g=l.n(v);const f=(0,c.A)(u,[["render",s]]),y=f;g()(u,"components",{QSelect:p.A,QItem:h.A,QItemSection:m.A,QItemLabel:_.A,QTooltip:b.A})},92867:(e,t,l)=>{"use strict";l.d(t,{A:()=>g});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-tooltip"),d=(0,a.g2)("q-btn");return e.ignore_table_validation?((0,a.uX)(),(0,a.Wv)(d,{key:0,flat:"",dense:"",icon:"img:images/ignore_table_validate_done.svg",class:"icon-grey validation-footer-table-button",onClick:e.ignoreTableValidation},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("ignore_table_validation")),1)])),_:1})])),_:1},8,["onClick"])):((0,a.uX)(),(0,a.Wv)(d,{key:1,flat:"",dense:"",icon:"img:images/ignore_table_validate.svg",class:"icon-grey validation-footer-table-button",onClick:e.ignoreTableValidation},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("ignore_table_validation")),1)])),_:1})])),_:1},8,["onClick"]))}var s=l(24622),n=l(38734),r=l(83319),d=l(18505),u=l(1659);const c=(0,a.pM)({el:"#app",mixins:[d.A,s.A],components:{},props:{isReadOnly:{type:Boolean,default:!1}},watch:{doc_loaded:{handler:function(e,t){this.init()}}},data(){return{}},mounted(){this.init()},methods:{init(){this.isFormBuilderMode||this.record.hasOwnProperty("ignore_table_validation")&&1==this.record.ignore_table_validation&&(this.ignore_table_validation=!0)},ignoreTableValidation(){this.isFormBuilderMode||this.isReadOnly||(this.ignore_table_validation=!this.ignore_table_validation,this.record.ignore_table_validation=this.ignore_table_validation)}},setup(){const e=(0,r.q3)(),{doc_loaded:t,record:l}=(0,u.bP)(e),a=(0,r.uL)(),{isFormBuilderMode:o}=(0,u.bP)(a);return{isFormBuilderMode:o,doc_loaded:t,record:l,ignore_table_validation:(0,n.KR)(!1)}}});var p=l(12807),h=l(56384),m=l(97410),_=l(98582),b=l.n(_);const v=(0,p.A)(c,[["render",i],["__scopeId","data-v-669edf82"]]),g=v;b()(c,"components",{QBtn:h.A,QTooltip:m.A})},82161:(e,t,l)=>{"use strict";l.d(t,{A:()=>I});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-3b3c7b0a"),e=e(),(0,a.jt)(),e),n=s((()=>(0,a.Lk)("img",{src:"images/supplier_un_block.svg"},null,-1))),r={class:"q-ml-sm"};function d(e,t,l,s,d,u){const c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-icon"),h=(0,a.g2)("q-avatar"),m=(0,a.g2)("q-card-section"),_=(0,a.g2)("f-btn"),b=(0,a.g2)("q-card-actions"),v=(0,a.g2)("q-card"),g=(0,a.g2)("q-dialog"),f=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.record.table_blocked?((0,a.uX)(),(0,a.Wv)(p,{key:0,size:"30px",onClick:t[0]||(t[0]=t=>e.openSupplierBlockDialog()),class:"q-mr-sm cursor-pointer"},{default:(0,a.k6)((()=>[n,(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("unblock_supplier")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(g,{modelValue:e.confirm_supplier_unblock,"onUpdate:modelValue":t[1]||(t[1]=t=>e.confirm_supplier_unblock=t),onKeydown:t[2]||(t[2]=(0,i.jR)((t=>e.confirm_supplier_unblock=!1),["esc"])),onHide:t[3]||(t[3]=t=>e.confirm_supplier_unblock=!1)},{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{icon:"block",color:"primary"}),(0,a.Lk)("span",r,(0,o.v_)(e.$t("unblock_supplier_confirmation")),1)])),_:1}),(0,a.bF)(b,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(_,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[f]]),(0,a.bF)(_,{class:"q-mr-sm",label:e.$t("confirm"),onClick:e.unBlockedSupplier},null,8,["label","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var u=l(24622),c=l(38734),p=l(83319),h=l(18505),m=l(1659),_=l(64775),b=l(11470),v=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const g=(0,a.pM)({el:"#app",mixins:[h.A,u.A],props:{isReadOnly:{type:Boolean,default:!1}},components:{},data(){return{}},methods:{openSupplierBlockDialog(){this.isReadOnly||(this.confirm_supplier_unblock=!0)},unBlockedSupplier(){return v(this,void 0,void 0,(function*(){try{if(!this.supplier)throw"No Supplier found to unblock";this.showLoading();const e=yield b.tt.deleteSupplierBySupplier(this.supplier);if(!1===e.success)throw{message:e.message};const t=yield b.M8.restartDocument(this.record.doc_id);if(!1===t.success)throw{message:"Failed to unblock"};this.$router.push("/dashboard")}catch(e){const t=_.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading(),this.confirm_supplier_unblock=!1}}))}},setup(){const e=(0,p.q3)(),{record:t,supplier:l}=(0,m.bP)(e);return{supplier:l,record:t,confirm_supplier_unblock:(0,c.KR)(!1)}}});var f=l(12807),y=l(50492),k=l(97410),w=l(82156),C=l(23316),x=l(44189),L=l(3952),F=l(62669),E=l(88672),A=l(98582),S=l.n(A);const D=(0,f.A)(g,[["render",d],["__scopeId","data-v-3b3c7b0a"]]),I=D;S()(g,"components",{QIcon:y.A,QTooltip:k.A,QDialog:w.A,QCard:C.A,QCardSection:x.A,QAvatar:L.A,QCardActions:F.A}),S()(g,"directives",{ClosePopup:E.A})},31453:(e,t,l)=>{"use strict";l.d(t,{A:()=>S});var a=l(61758),o=l(58790);const i={class:"max-width-350"},s={class:"text-bold"},n=(0,a.Lk)("div",null,"Checked automatically",-1),r={key:0},d={key:1,class:"text-caption text-red"},u={key:2,class:"text-caption text-grey"},c={key:3,class:"row align-middle"},p={key:1,class:"q-mx-xs"};function h(e,t,l,h,m,_){const b=(0,a.g2)("q-icon"),v=(0,a.g2)("q-separator"),g=(0,a.g2)("q-chip"),f=(0,a.g2)("q-tooltip");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(b,{name:"info",class:"cursor-pointer",size:"18px",color:e.hasInputError(e.fieldName)?"red":""},null,8,["color"]),(0,a.bF)(f,{class:"back-white shadow-1 text-color",onBeforeHide:t[0]||(t[0]=t=>e.removeColorFromFields())},{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.Lk)("div",s,(0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder.")),1),n,(0,a.bF)(v),e.getLowerConfidence(e.formBuilderModel[e.fieldName])?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(b,{name:"check_circle_outline",color:"green"}),(0,a.eW)(" Confidence score: "),(0,a.Lk)("strong",null,(0,o.v_)(e.getLowerConfidence(e.formBuilderModel[e.fieldName]))+"%",1)])):(0,a.Q3)("",!0),(0,a.bF)(v),e.hasInputError(e.fieldName)?((0,a.uX)(),(0,a.CE)("div",d,(0,o.v_)(e.inputErrorMessage()),1)):(0,a.Q3)("",!0),e.isDocumentExtratedField(e.fieldName)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",u,(0,o.v_)(e.$t("pages.messages.SELECT_AREA_NO_COORDINATES")),1)),e.hasAnyFormula()?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.eW)((0,o.v_)(e.getLabelForFormBuilder(e.formBuilderConfigModel[e.fieldName],"form_builder."))+" = ",1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.getCalculationFields(),((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[e.isInvoiceField(t)?((0,a.uX)(),(0,a.Wv)(g,{key:0,outline:"",dense:"",color:e.fieldColors.get(e.getFieldName(t)),class:"chip-design"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.translateLabel("form_builder."+e.getFieldName(t))),1)])),_:2},1032,["color"])):((0,a.uX)(),(0,a.CE)("span",p,(0,o.v_)(t),1))],64)))),128))])):(0,a.Q3)("",!0)])])),_:1})],64)}var m=l(1659),_=l(38734),b=l(83319),v=l(25891),g=l(76956),f=l(79893);const y=(0,a.pM)({name:"info-panel",mixins:[v.A,f.A],props:{fieldName:{type:String,default:""}},methods:{getFieldName(e){return e.replace("[","").replace("]","")},hasAnyFormula(){const e=!!this.formBuilderConfigModel[this.fieldName].calculation_formula,t=!!this.formBuilderConfigModel[this.fieldName].calculator_formula,l=!!this.formBuilderModel[this.fieldName].calculation_formula,a=e||t||l;return a},removeColorFromFields(){for(let e=0;e<this.coloredFields.length;e+=1){const t=document.getElementById(this.coloredFields[e].field_name);if(t){const l=t.classList;l.remove(this.coloredFields[e].class)}}},colorField(e){e=this.getFieldName(e);const t=document.getElementById(e);if(t){const l=t.classList,a=this.fieldColors.get(e);if(!a)return;l.add("field-"+a),this.coloredFields.push({field_name:e,class:"field-"+a})}},isInvoiceField(e){return e.startsWith("[")},getFormula(){return this.formBuilderModel[this.fieldName].calculation_formula?this.formBuilderModel[this.fieldName].calculation_formula:this.formBuilderConfigModel[this.fieldName].calculation_formula?this.formBuilderConfigModel[this.fieldName].calculation_formula:this.formBuilderConfigModel[this.fieldName].calculator_formula?this.formBuilderConfigModel[this.fieldName].calculator_formula:""},getCalculationFields(){let e="",t=[];const l=this.getFormula();if(!l)return t;const a=l.split(" ");for(let o=0;o<a.length;o+=1)e=a[o].trim(),a[o].startsWith("[")&&this.colorField(e),t.push(e);return t},inputErrorMessage(){let e="";if(!this.formBuilderModel[this.fieldName].input_error)return e;const t=this.formBuilderModel[this.fieldName].input_error,l=this.translateLabel(t);return e+=" "+l+" ",e}},setup(){const e=(0,b.uL)(),{formBuilderModel:t,isFormBuilderMode:l,formBuilderConfigModel:a,fieldColors:o}=(0,m.bP)(e),{isDocumentExtratedField:i,hasInputError:s}=e;return{formBuilderModel:t,fieldColors:o,isFormBuilderMode:l,formBuilderConfigModel:a,isDocumentExtratedField:i,hasInputError:s,info_panel_chip_colors:g.OW,coloredFields:(0,_.KR)([{}])}}});var k=l(12807),w=l(50492),C=l(97410),x=l(10386),L=l(66760),F=l(98582),E=l.n(F);const A=(0,k.A)(y,[["render",h]]),S=A;E()(y,"components",{QIcon:w.A,QTooltip:C.A,QSeparator:x.A,QChip:L.A})},79045:(e,t,l)=>{"use strict";l.d(t,{A:()=>h});var a=l(61758),o=l(38734),i=l(83319),s=l(1659),n=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const r=(0,a.pM)({name:"auto-complete",render(){return null},data(){return{}},props:{input_class:{type:String,required:!0},parent_id:{type:String,required:!0},options:{type:Array,default:[]}},setup(){const e=(0,i.uL)(),{formBuilderModel:t}=(0,s.bP)(e);return{formBuilderModel:t,suggestions_id:(0,o.KR)(""),FILTERED:(0,o.KR)([]),suggestionsEle:(0,o.KR)({}),searchInput:(0,o.KR)({}),parent_DIV:(0,o.KR)({}),CURRENT_INDEX:(0,o.KR)(-1)}},methods:{handleInput(e){const t=e.target.value,l=t.toLowerCase();this.FILTERED=this.options.filter((e=>e.toLowerCase().indexOf(l)>-1)),this.suggestionsEle.innerHTML="",this.FILTERED.forEach(this.createOption),t.length>0?this.openSuggestions():this.closeSuggestions()},highlightNext(){const e=(this.CURRENT_INDEX+1)%this.FILTERED.length;this.updateIndex(e)},highlightPrev(){const e=(this.CURRENT_INDEX-1+this.FILTERED.length)%this.FILTERED.length;this.updateIndex(e)},handleKeyDown(e){const t=["Escape","ArrowDown","ArrowUp","Enter"];if(t.includes(e.key))switch(this.suggestionsEle.hidden||e.stopPropagation(),e.key){case"Escape":this.closeSuggestions();break;case"ArrowDown":this.highlightNext();break;case"ArrowUp":this.highlightPrev();break;case"Enter":this.selectItem(e)}},createOption(e,t){const l=document.createElement("li");l.id=`option-${t}`,l.className="suggestion-option",l.textContent=e,l.addEventListener("mouseover",(()=>this.updateIndex(t))),l.addEventListener("click",this.selectItem),this.suggestionsEle.appendChild(l)},updateIndex(e){const t=this.CURRENT_INDEX;this.CURRENT_INDEX=e,this.suggestionsEle.setAttribute("aria-activedescendant",String(this.CURRENT_INDEX));const l=this.suggestionsEle.querySelector(`#option-${t}`),a=this.suggestionsEle.querySelector(`#option-${this.CURRENT_INDEX}`);l&&l.classList.remove("current"),a&&a.classList.add("current")},selectItem(e){const t=this.FILTERED[this.CURRENT_INDEX];if(!t)return;const l=new CustomEvent("update_field_value",{detail:{input_class:this.input_class,val:t}});this.searchInput.dispatchEvent(l),this.closeSuggestions()},openSuggestions(){var e=this.parent_DIV.getBoundingClientRect(),t=Number(e.left+window.pageXOffset),l=Number(e.top+window.pageYOffset)+30;this.suggestionsEle.hidden=!1,this.suggestionsEle.style.visibility="visible",this.suggestionsEle.style.left=t+"px",this.suggestionsEle.style.top=l+"px",this.parent_DIV.setAttribute("aria-expanded",String(!0)),window.addEventListener("click",this.closeSuggestions)},closeSuggestions(){this.hideSuggestions(),this.searchInput.focus()},hideSuggestions(){this.CURRENT_INDEX=-1,this.suggestionsEle.hidden=!0,this.suggestionsEle.style.visibility="hidden",this.parent_DIV.setAttribute("aria-expanded",String(!1)),window.removeEventListener("click",this.closeSuggestions)},hanldFocusOut(e){this.suggestionsEle.hidden||setTimeout((()=>{this.hideSuggestions()}),1e3)},init(){return n(this,void 0,void 0,(function*(){yield this.$nextTick();let e=document.querySelector("."+this.input_class);if(!e)return void logError("search Input not found",this.input_class);const t=document.createElement("ul");t.setAttribute("id",this.suggestions_id),t.setAttribute("class","sugg"),document.body.appendChild(t);const l=document.getElementById(this.parent_id);l?(this.parent_DIV=l,this.searchInput=e,this.suggestionsEle=t,this.searchInput.addEventListener("blur",this.hanldFocusOut),this.searchInput.addEventListener("focusout",this.hanldFocusOut),this.searchInput.addEventListener("input",this.handleInput),this.parent_DIV.addEventListener("keydown",this.handleKeyDown),window.addEventListener("scroll",this.hideSuggestions,!0)):logError("parent element not found",this.parent_id)}))}},mounted:function(){this.suggestions_id=this.input_class+"_suggestions",this.init()},unmounted:function(){window.removeEventListener("scroll",this.hideSuggestions,!0);let e=document.querySelector("."+this.input_class);e&&(e.removeEventListener("input",this.handleInput),this.searchInput.removeEventListener("blur",this.hanldFocusOut),this.searchInput.removeEventListener("focusout",this.hanldFocusOut));const t=document.getElementById(this.parent_id);t&&t.removeEventListener("keydown",this.handleKeyDown)}});var d=l(44488),u=l(98582),c=l.n(u);const p=r,h=p;c()(r,"components",{QTr:d.A})},78035:(e,t,l)=>{"use strict";l.d(t,{A:()=>_});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("q-btn");return(0,a.uX)(),(0,a.Wv)(n,{flat:"",class:"helpbtn",color:"primary",icon:"help",onClick:t[0]||(t[0]=t=>e.goHelp()),target:"_blank"})}var i=l(83319),s=l(1659),n=l(41498),r=l(64307);const d=(0,a.pM)({el:"#app",mixins:[r.A],components:{},props:{name:{type:String,default:"layoutbuilder_help"}},data(){return{}},methods:{goHelp(){let e=(0,n.TEc)(this.name);e&&("string"!=typeof e&&(e="https://docs.docbits.com/"),window.open(e))}},setup(){const e=(0,i.uL)(),{show_help:t}=(0,s.bP)(e);return{show_help:t}}});var u=l(12807),c=l(56384),p=l(98582),h=l.n(p);const m=(0,u.A)(d,[["render",o]]),_=m;h()(d,"components",{QBtn:c.A})},33603:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>k});var a=l(61758);const o={class:"container row width-100-percent"},i={style:{"margin-left":"auto"}};function s(e,t,l,s,n,r){const d=(0,a.g2)("q-avatar"),u=(0,a.g2)("LanguageDropdown"),c=(0,a.g2)("q-toolbar"),p=(0,a.g2)("q-header"),h=(0,a.g2)("router-view"),m=(0,a.g2)("q-page-container"),_=(0,a.g2)("Footer"),b=(0,a.g2)("q-toolbar-title"),v=(0,a.g2)("q-footer"),g=(0,a.g2)("q-layout");return(0,a.uX)(),(0,a.Wv)(g,{view:"lHh Lpr lFf"},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"toolbar full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",o,[(0,a.bF)(d,{class:"img_header cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/docbits-black.svg",onClick:t[0]||(t[0]=(...t)=>e.goHome&&e.goHome(...t)),target:"_blank"})])),_:1}),(0,a.Lk)("div",i,[(0,a.bF)(u)])])])),_:1})])),_:1}),(0,a.bF)(m,null,{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)(h,{key:e.$route.fullPath}))])),_:1}),(0,a.bF)(v,{elevated:"",class:"bg-grey-8 text-white"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(d),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(_)])),_:1})])),_:1})])),_:1})])),_:1})}var n=l(80769),r=l(48156);const d=(0,a.pM)({methods:{goHome(){this.$router.push("/dashboard")}},data(){return{}},components:{Footer:n.A,LanguageDropdown:r.A},mixins:[],setup(){return{}}});var u=l(12807),c=l(62008),p=l(8416),h=l(36914),m=l(3952),_=l(45205),b=l(57092),v=l(39150),g=l(98582),f=l.n(g);const y=(0,u.A)(d,[["render",s],["__scopeId","data-v-e1522aa0"]]),k=y;f()(d,"components",{QLayout:c.A,QHeader:p.A,QToolbar:h.A,QAvatar:m.A,QPageContainer:_.A,QFooter:b.A,QToolbarTitle:v.A})},83121:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>k});var a=l(61758);const o={class:"row bg-grey-2 q-pl-xl q-pr-md q-pb-md"},i={class:"row"},s={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12 border-top-bdbdbd border-left-bdbdbd border-bottom-bdbdbd border-right-bdbdbd"};function n(e,t,l,n,r,d){const u=(0,a.g2)("q-header"),c=(0,a.g2)("router-view"),p=(0,a.g2)("q-page-container"),h=(0,a.g2)("q-avatar"),m=(0,a.g2)("Footer"),_=(0,a.g2)("q-toolbar-title"),b=(0,a.g2)("q-toolbar"),v=(0,a.g2)("q-footer"),g=(0,a.g2)("q-layout");return(0,a.uX)(),(0,a.Wv)(g,{view:"lHh Lpr lFf"},{default:(0,a.k6)((()=>[(0,a.bF)(u),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",o,[(0,a.Lk)("div",i,[(0,a.Lk)("div",s,[(0,a.bF)(c)])])])])),_:1}),(0,a.bF)(v,{elevated:"",class:"bg-grey-8 text-white"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(h),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.bF)(m)])),_:1})])),_:1})])),_:1})])),_:1})}var r=l(80769);const d=(0,a.pM)({name:"FieldsSepLayout",components:{Footer:r.A},setup(){return{}}});var u=l(12807),c=l(62008),p=l(8416),h=l(45205),m=l(57092),_=l(36914),b=l(3952),v=l(39150),g=l(98582),f=l.n(g);const y=(0,u.A)(d,[["render",n],["__scopeId","data-v-33c971c3"]]),k=y;f()(d,"components",{QLayout:c.A,QHeader:p.A,QPageContainer:h.A,QFooter:m.A,QToolbar:_.A,QAvatar:b.A,QToolbarTitle:v.A})},80769:(e,t,l)=>{"use strict";l.d(t,{A:()=>_});var a=l(61758),o=l(58790);const i={class:"on-left"},s={key:0,class:"on-right"};function n(e,t,l,n,r,d){return(0,a.uX)(),(0,a.CE)("div",{id:"version",target:"_blank",onClick:t[0]||(t[0]=t=>e.goHelp()),color:"white",class:"cursor-pointer row justify-center",style:{"font-size":"11px"}},[(0,a.Lk)("p",i,"DocBits Version "+(0,o.v_)(e.app_version),1),this.$route.path.includes("setting")?((0,a.uX)(),(0,a.CE)("p",s,"API Version "+(0,o.v_)(e.api_version),1)):(0,a.Q3)("",!0)])}var r=l(38734),d=l(41498),u=l(11470),c=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const p=(0,a.pM)({name:"Footer",setup(){return{app_version:(0,r.KR)("0.0.0"),api_version:(0,r.KR)("0.0.0")}},mounted:function(){this.app_version="7.12.2".toString(),this.getApiVersion()},methods:{getApiVersion(){return c(this,void 0,void 0,(function*(){yield u.gG.getApiVersion().then((e=>{1==e.success&&(this.api_version=e.version)}))}))},goHelp(){d.Q9t&&window.open(d.Q9t)}}});var h=l(12807);const m=(0,h.A)(p,[["render",n]]),_=m},88063:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>qe});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("SideMenu"),r=(0,a.g2)("newUpdateError"),d=(0,a.g2)("router-view"),u=(0,a.g2)("q-page-container"),c=(0,a.g2)("q-layout");return(0,a.uX)(),(0,a.Wv)(c,{view:"lHh lpR lFf"},{default:(0,a.k6)((()=>[(0,a.bF)(n),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(r),((0,a.uX)(),(0,a.Wv)(d,{key:e.$route.fullPath}))])),_:1})])),_:1})}var i=l(50411),s=l(23537),n=l(1659),r=l(45022),d=l(24622),u=l(38734),c=l(46162),p=l(18505),h=l(76956),m=l(58790);const _=e=>((0,a.Qi)("data-v-990871ea"),e=e(),(0,a.jt)(),e),b={key:0},v=["src"],g={key:1},f=["src"],y=_((()=>(0,a.Lk)("img",{src:"icons/LOGO.svg",target:"_blank",rel:"noopener noreferrer"},null,-1))),k={class:"text-capitalize"},w={class:"fixed-bottom"},C={key:0},x={class:"text-capitalize"},L={key:1},F={class:"text-capitalize"},E={class:"text-center q-pt-md ellipsis q-px-sm"},A={class:"q-mini-drawer-hide drawer-close"};function S(e,t,l,o,i,s){const n=(0,a.g2)("q-avatar"),r=(0,a.g2)("q-badge"),d=(0,a.g2)("InvoiceIcon"),u=(0,a.g2)("q-icon"),c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-item-section"),h=(0,a.g2)("q-item"),_=(0,a.g2)("q-separator"),S=(0,a.g2)("q-list"),D=(0,a.g2)("UserDropDown"),I=(0,a.g2)("q-menu"),T=(0,a.g2)("q-btn"),O=(0,a.g2)("q-drawer"),M=(0,a.gN)("ripple");return e.isDashboardRoute?((0,a.uX)(),(0,a.Wv)(O,{key:0,modelValue:e.drawer,"onUpdate:modelValue":t[4]||(t[4]=t=>e.drawer=t),"show-if-above":"",mini:!e.drawer||e.miniState,width:250,breakpoint:500,bordered:"",class:"highlighted-back"},{default:(0,a.k6)((()=>[e.isMobile()?((0,a.uX)(),(0,a.CE)("div",b,[(0,a.bF)(n,{class:"cursor-pointer big-fellow-icon",square:"",onClick:t[0]||(t[0]=t=>e.drawer=!e.drawer)},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:e.$q.dark.isActive?"images/docbits-black.svg":"images/docbits.svg",target:"_blank",rel:"noopener noreferrer",class:"icon-width"},null,8,v)])),_:1})])):((0,a.uX)(),(0,a.CE)("div",g,[e.miniState?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(n,{key:0,class:"cursor-pointer big-fellow-icon",square:"",onClick:t[1]||(t[1]=t=>e.miniState=!0)},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:e.$q.dark.isActive?"images/docbits-black.svg":"images/docbits.svg",target:"_blank",rel:"noopener noreferrer",class:"icon-width"},null,8,f)])),_:1})),e.miniState?((0,a.uX)(),(0,a.Wv)(n,{key:1,square:"",class:"cursor-pointer small-fellow-icon",onClick:t[2]||(t[2]=t=>e.miniState=!1)},{default:(0,a.k6)((()=>[y])),_:1})):(0,a.Q3)("",!0)])),(0,a.bF)(S,{padding:"",class:(0,m.C4)(["scroll-menu",e.isMobile()?"":"thin-scrollbar"])},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.menuList,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(h,{clickable:"",onClick:l=>e.navigateTo(t.to),active:e.isActive(t.to),"active-class":"active-text",id:t.name},{default:(0,a.k6)((()=>[(0,a.bF)(p,{avatar:""},{default:(0,a.k6)((()=>["tasks"==t.name&&e.task_count>0?((0,a.uX)(),(0,a.Wv)(r,{key:0,color:"red",style:{position:"absolute","z-index":"1",top:"4px",right:"4px"},label:e.task_count},null,8,["label"])):(0,a.Q3)("",!0),"invoice_dashboard"===t.name?((0,a.uX)(),(0,a.Wv)(d,{key:1,isActive:!!e.isActive(t.to)},null,8,["isActive"])):((0,a.uX)(),(0,a.Wv)(u,{key:2,color:e.isActive(t.to)?"primary":e.$q.dark.isActive?"grey-3":"grey-8",name:t.icon},null,8,["color","name"])),(0,a.bF)(c,{class:"text-capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,m.v_)(e.$t(t.label).toLowerCase()),1)])),_:2},1024)])),_:2},1024),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",k,(0,m.v_)(e.$t(t.label).toLowerCase()),1)])),_:2},1024)])),_:2},1032,["onClick","active","id"])),[[M]]),t.separator?((0,a.uX)(),(0,a.Wv)(_,{key:"sep"+l})):(0,a.Q3)("",!0)],64)))),128))])),_:1},8,["class"]),(0,a.Lk)("div",w,[(0,a.bF)(_),(0,a.bF)(S,null,{default:(0,a.k6)((()=>[e.isMobile()?((0,a.uX)(),(0,a.CE)("div",L,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.bottomItems,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},["notifications"!==t.name&&"user"!==t.name?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(h,{key:0,clickable:"",onClick:l=>e.navigateTo(t.to),active:e.isActive(t.to),"active-class":"active-text",id:t.name},{default:(0,a.k6)((()=>[(0,a.bF)(p,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(u,{color:e.isActive(t.to)?"primary":e.$q.dark.isActive?"grey-3":"grey-8",name:t.icon},null,8,["color","name"]),(0,a.bF)(c,{class:"text-capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,m.v_)(e.$t(t.label).toLowerCase()),1)])),_:2},1024)])),_:2},1024),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",F,(0,m.v_)(e.$t(t.label).toLowerCase()),1)])),_:2},1024)])),_:2},1032,["onClick","active","id"])),[[M]]):(0,a.Q3)("",!0)],64)))),128)),(0,a.bF)(_),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(h,{clickable:"",onClick:e.logout},{default:(0,a.k6)((()=>[(0,a.bF)(p,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"icon-grey",name:"power_settings_new"})])),_:1}),(0,a.bF)(p,{class:"text-capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,m.v_)(e.$t("layout.logout")),1)])),_:1})])),_:1},8,["onClick"])),[[M]])])):((0,a.uX)(),(0,a.CE)("div",C,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.bottomItems,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(h,{clickable:"",onClick:l=>e.navigateTo(t.to),active:e.isActive(t.to),"active-class":"active-text",id:t.name},{default:(0,a.k6)((()=>[(0,a.bF)(p,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(u,{color:e.isActive(t.to)?"primary":e.$q.dark.isActive?"grey-3":"grey-8",name:t.icon},null,8,["color","name"]),(0,a.bF)(c,{class:"text-capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,m.v_)(e.$t(t.label).toLowerCase()),1)])),_:2},1024)])),_:2},1024),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",x,(0,m.v_)(e.$t(t.label).toLowerCase()),1)])),_:2},1024),"user"==t.name?((0,a.uX)(),(0,a.Wv)(I,{key:0,style:{"border-radius":"4px"},class:"no-shadow gray-border",anchor:"bottom right",self:"bottom left"},{default:(0,a.k6)((()=>[(0,a.bF)(D)])),_:1})):(0,a.Q3)("",!0)])),_:2},1032,["onClick","active","id"])),[[M]]),t.separator?((0,a.uX)(),(0,a.Wv)(_,{key:"sep"+l})):(0,a.Q3)("",!0)],64)))),128))]))])),_:1}),(0,a.bF)(_),(0,a.Lk)("div",null,[(0,a.Lk)("p",E,(0,m.v_)(e.app_version),1),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,m.v_)(e.app_version),1)])),_:1})])]),(0,a.Lk)("div",A,[(0,a.bF)(T,{dense:"",round:"",unelevated:"",class:"highlighted-back menu-close-button",icon:"chevron_left",onClick:t[3]||(t[3]=t=>e.miniState=!0)})])])),_:1},8,["modelValue","mini"])):(0,a.Q3)("",!0)}var D=l(6044),I=l(11470);const T={id:"clip-path"},O={id:"clip-path-2"},M={id:"Gruppe_838","data-name":"Gruppe 838",transform:"translate(0.025 0.041)"},R={id:"Gruppe_837","data-name":"Gruppe 837",transform:"translate(0 0)","clip-path":"url(#clip-path)"},P={id:"Gruppe_840","data-name":"Gruppe 840"},q={id:"Gruppe_839","data-name":"Gruppe 839","clip-path":"url(#clip-path-2)"};function V(e,t,l,o,i,s){return(0,a.uX)(),(0,a.CE)("svg",{id:"Gruppe_841","data-name":"Gruppe 841",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"20",height:"23",viewBox:"0 0 24 31.491",class:(0,m.C4)(e.isActive?"color-primary":e.$q.dark.isActive?"color-dark-grey":"color-light-grey")},[(0,a.Lk)("defs",null,[(0,a.Lk)("clipPath",T,[(0,a.Lk)("rect",{id:"Rechteck_493","data-name":"Rechteck 493",width:"23.972",height:"31.435",class:(0,m.C4)(e.isActive?"color-primary":e.$q.dark.isActive?"color-dark-grey":"color-light-grey")},null,2)]),(0,a.Lk)("clipPath",O,[(0,a.Lk)("rect",{id:"Rechteck_494","data-name":"Rechteck 494",width:"24",height:"31.491",class:(0,m.C4)(e.isActive?"color-primary":e.$q.dark.isActive?"color-dark-grey":"color-light-grey")},null,2)])]),(0,a.Lk)("g",M,[(0,a.Lk)("g",R,[(0,a.Lk)("path",{id:"Pfad_710","data-name":"Pfad 710",d:"M126.644,3.134c.246.2.509.371.737.586q2.888,2.713,5.753,5.441c.276.263.505.574.756.863l-.05.081h-6.773c-.443,0-.511-.069-.511-.518V3.18l.084-.048",transform:"translate(-110.332 -2.736)",class:(0,m.C4)(e.isActive?"color-primary":e.$q.dark.isActive?"color-dark-grey":"color-light-grey")},null,2)])]),(0,a.Lk)("g",P,[(0,a.Lk)("g",q,[(0,a.Lk)("path",{id:"Pfad_711","data-name":"Pfad 711",d:"M24,27.285V9.228H16.71A2.16,2.16,0,0,1,14.4,6.922V.005H3.6A3.389,3.389,0,0,0,.011,3.583C.01,11.7.023,19.814,0,27.929a3.437,3.437,0,0,0,2.884,3.515c.027,0,.052.029.078.044H21.045l0,0c.175-.047.353-.09.527-.14a3.4,3.4,0,0,0,2.419-3.113C24,27.92,24,27.6,24,27.285M8.485,9.15C8.14,9.076,7.778,9.077,7.436,9a2.97,2.97,0,0,1-.388-5.654.508.508,0,0,0,.4-.577c-.017-.516.253-.8.678-.791s.674.285.667.81a.488.488,0,0,0,.379.547,2.873,2.873,0,0,1,1.919,2.578.707.707,0,0,1-.577.853.667.667,0,0,1-.767-.709,1.626,1.626,0,1,0-3.2.467,1.613,1.613,0,0,0,1.485,1.2,2.993,2.993,0,0,1,2.961,2.238,5.808,5.808,0,0,1,.109.634,3,3,0,0,1-1.9,2.895c-.3.111-.421.233-.411.563.015.5-.268.812-.67.815s-.692-.3-.673-.8c.012-.328-.109-.45-.4-.57a2.875,2.875,0,0,1-1.9-2.594c-.041-.5.2-.824.618-.856.388-.03.663.239.734.718A1.623,1.623,0,1,0,8.485,9.15m1.962,14a.926.926,0,0,1-1.013.831H5.129a.924.924,0,1,1,0-1.843H9.434a.926.926,0,0,1,1.013,1.013m8.981-4.641a.937.937,0,0,1-.941.559h-6.7l0,0q-3.334.007-6.668,0a.917.917,0,0,1-.886-1.327.908.908,0,0,1,.873-.517H18.5a.921.921,0,0,1,.923,1.286",transform:"translate(0 0.001)",class:(0,m.C4)(e.isActive?"color-primary":e.$q.dark.isActive?"color-dark-grey":"color-light-grey")},null,2)])])],2)}const N=(0,a.pM)({name:"InvoiceIcon",props:{isActive:{type:Boolean,required:!0}}});var B=l(12807);const $=(0,B.A)(N,[["render",V],["__scopeId","data-v-1f438770"]]),Q=$;var X=l(29104);const W={class:"user-item-initials"},K={class:"user-profile-name"},U={class:""},j={class:"q-ml-sm"};function z(e,t,l,o,i,s){const n=(0,a.g2)("q-avatar"),r=(0,a.g2)("q-item-section"),d=(0,a.g2)("q-icon"),u=(0,a.g2)("q-item"),c=(0,a.g2)("q-list"),p=(0,a.g2)("q-menu"),h=(0,a.g2)("q-separator"),_=(0,a.g2)("LanguageDropdown"),b=(0,a.g2)("DarkMode"),v=(0,a.g2)("EditProfile"),g=(0,a.g2)("q-dialog"),f=(0,a.g2)("q-card-section"),y=(0,a.g2)("f-btn"),k=(0,a.g2)("q-card-actions"),w=(0,a.g2)("q-card"),C=(0,a.gN)("ripple"),x=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(c,{bordered:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.organizations,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[(0,a.bF)(u,{clickable:t.sub_organisations.length>0},{default:(0,a.k6)((()=>[(0,a.bF)(r,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(n,{size:"32px",class:"user-avatar-background"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",W,(0,m.v_)(e.getInitials(this.userFullName)),1)])),_:1})])),_:1}),(0,a.bF)(r,{class:"text-capitalize"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",K,(0,m.v_)(this.userFullName),1),(0,a.Lk)("span",U,(0,m.v_)(t.name.toLowerCase()),1)])),_:2},1024),t.sub_organisations.length>0?((0,a.uX)(),(0,a.Wv)(r,{key:0,side:""},{default:(0,a.k6)((()=>[(0,a.bF)(d,{name:"keyboard_arrow_right"})])),_:1})):(0,a.Q3)("",!0),t.sub_organisations.length>0?((0,a.uX)(),(0,a.Wv)(p,{key:1,anchor:"top end",self:"top start",offset:[1,0],style:{"border-radius":"4px"},class:"no-shadow gray-border"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{bordered:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.sub_organisations,((t,l)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(u,{key:l,clickable:"",onClick:l=>e.setSubOrg(t),active:t.id===e.sub_org_id},{default:(0,a.k6)((()=>[(0,a.bF)(r,{avatar:""},{default:(0,a.k6)((()=>[t.id===e.sub_org_id?((0,a.uX)(),(0,a.Wv)(d,{key:0,name:"check"})):(0,a.Q3)("",!0)])),_:2},1024),(0,a.bF)(r,{class:"text-capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,m.v_)(t.name.toLowerCase()),1)])),_:2},1024)])),_:2},1032,["onClick","active"])),[[C]]))),128))])),_:2},1024)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1032,["clickable"]),(0,a.bF)(h),(0,a.bF)(_),(0,a.bF)(b)],64)))),128)),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(u,{clickable:"",onClick:t[0]||(t[0]=t=>e.profileDialog=!0)},{default:(0,a.k6)((()=>[(0,a.bF)(r,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"icon-grey",name:"settings"})])),_:1}),(0,a.bF)(r,{class:"text-capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,m.v_)(e.$t("pages.user.settings").toLowerCase()),1)])),_:1})])),_:1})),[[C]]),(0,a.bF)(h),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(u,{clickable:"",onClick:t[1]||(t[1]=e=>this.logout())},{default:(0,a.k6)((()=>[(0,a.bF)(r,{avatar:""},{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"icon-grey",name:"power_settings_new"})])),_:1}),(0,a.bF)(r,{class:"text-capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,m.v_)(e.$t("layout.logout")),1)])),_:1})])),_:1})),[[C]])])),_:1}),(0,a.bF)(g,{persistent:"",modelValue:e.profileDialog,"onUpdate:modelValue":t[2]||(t[2]=t=>e.profileDialog=t),onKeydown:t[3]||(t[3]=(0,X.jR)((t=>e.profileDialog=!1),["esc"]))},{default:(0,a.k6)((()=>[(0,a.bF)(v,{onRefreshClicked:e.refreshClicked},null,8,["onRefreshClicked"])])),_:1},8,["modelValue"]),(0,a.bF)(g,{modelValue:e.refresh_warning,"onUpdate:modelValue":t[6]||(t[6]=t=>e.refresh_warning=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.bF)(f,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(n,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(f,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",j,(0,m.v_)(e.$t("change_lost_warning")),1)])),_:1}),(0,a.bF)(k,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(y,{appearance:"cancel",label:e.$t("cancel"),onClick:t[4]||(t[4]=t=>e.refresh_warning=!1)},null,8,["label"]),[[x]]),(0,a.bF)(y,{"data-cy":"done",label:e.$t("proceed"),onClick:t[5]||(t[5]=t=>e.refreshSettings(!0))},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var H=l(45938),G=l(68130),Y=l(50637),J=l(83319),Z=l(73937),ee=l(48156),te=l(88180),le=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const ae=(0,a.pM)({el:"#app",mixins:[D.A,p.A,d.A],props:{},components:{EditProfile:Y.A,DarkMode:te.A,LanguageDropdown:ee.A},data(){return{is_sub_org:(0,u.KR)(!1)}},mounted:function(){return le(this,void 0,void 0,(function*(){yield this.init(),window.addEventListener("storage",this.storageChangeEvent)}))},unmounted:function(){window.removeEventListener("storage",this.storageChangeEvent)},methods:{getInitials(e){var t=e.split(" "),l=t[0].substring(0,1).toUpperCase();return t.length>1&&(l+=t[t.length-1].substring(0,1).toUpperCase()),l},init(){return le(this,void 0,void 0,(function*(){try{this.loading=!0,this.getSubInfo(),yield this.refreshSettings(),yield this.getSubOrgId(),this.refreshUserInfo(),this.getLanguageIfEmpty(),this.getDatePatterns()}catch(e){logError(e)}finally{this.loading=!1}}))},storageChangeEvent(e){this.handleSessionStorageChange(e)},getSubOrgName(e){let t;return e.map((e=>{e.id===this.sub_org_id&&(t=e.name)})),t},getSubInfo(){this.organizations&&this.organizations.length>0?this.organizations.map((e=>{e.sub_organisations.length>0?this.is_sub_org=!0:this.is_sub_org=!1})):this.is_sub_org=!1},handleSessionStorageChange(e){return le(this,void 0,void 0,(function*(){try{this.handleStorageEvent(e),yield this.refreshAndGetSubOrgId()}catch(t){logError(t)}}))},getDatePatterns(){return le(this,void 0,void 0,(function*(){this.date_pattern_loaded||(yield this.getDatePatternOptions())}))},setSubOrg(e){return le(this,void 0,void 0,(function*(){try{this.showLoading();const t=String(e.id);if(!t)return void this.showErrorToast("no organization selected");yield G.E.setSubOrgId(t),yield this.refreshAndGetSubOrgId(),this.$router.go(0)}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.hideLoading()}}))},refreshUserInfo(){this.profileDialog=!1;const e=(0,Z.Ky)("id");this.isUserAdmin=(0,Z.Ky)("is_organisation_admin"),e?this.updateUserName():this.logout()},refreshSettings(e=!1){return le(this,void 0,void 0,(function*(){if(yield this.startSettingsFetch(),this.refresh_warning=!1,!e)return;this.clearStorageForRefresh(),yield H.tH.fetch(),yield this.refreshUserOrganizations();const t=(0,J.q3)();t.resetDocStore(this.$route.fullPath),this.$router.go(0)}))},refreshClicked(){const e=this.$route.path,t=["/dashboard","/setting"];if(t.includes(e))return this.profileDialog=!1,void this.refreshSettings(!0);this.refresh_warning=!0},hasSubOrganizations(){return!!(this.organizations[0]&&this.organizations[0].hasOwnProperty("sub_organisations")&&this.organizations[0].sub_organisations.length>0)}},setup(){const e=(0,J.kH)(),{updateUserName:t,getUserOrganizations:l,getSubOrgId:a,refreshAndGetSubOrgId:o,refreshUserOrganizations:i}=e,{userFullName:s,organizations:r,sub_org_id:d,main_orgainzation:c}=(0,n.bP)(e),p=(0,J.Bu)(),{setOrgSettings:h,handleStorageEvent:m,getOrgSettings:_,startSettingsFetch:b}=p,v=(0,J.QJ)(),{getLanguageIfEmpty:g}=v,f=(0,J.Sq)(),{getDatePatternOptions:y}=f,{date_pattern_loaded:k}=(0,n.bP)(f);return{startSettingsFetch:b,refreshUserOrganizations:i,refreshAndGetSubOrgId:o,getOrgSettings:_,handleStorageEvent:m,date_pattern_loaded:k,getDatePatternOptions:y,getLanguageIfEmpty:g,getUserOrganizations:l,setOrgSettings:h,updateUserName:t,getSubOrgId:a,settings_store:p,main_orgainzation:c,sub_org_id:d,userFullName:s,organizations:r,refresh_warning:(0,u.KR)(!1),profileDialog:(0,u.KR)(!1),isUserAdmin:(0,u.KR)(""),link:(0,u.KR)("inbox"),loading:(0,u.KR)(!1),isSupplierUser:Z.cq}}});var oe=l(53999),ie=l(90124),se=l(25173),ne=l(3952),re=l(50492),de=l(84436),ue=l(10386),ce=l(97410),pe=l(82156),he=l(23316),me=l(44189),_e=l(62669),be=l(56384),ve=l(65265),ge=l(88672),fe=l(98582),ye=l.n(fe);const ke=(0,B.A)(ae,[["render",z],["__scopeId","data-v-05ba862d"]]),we=ke;ye()(ae,"components",{QList:oe.A,QItem:ie.A,QItemSection:se.A,QAvatar:ne.A,QIcon:re.A,QMenu:de.A,QSeparator:ue.A,QTooltip:ce.A,QDialog:pe.A,QCard:he.A,QCardSection:me.A,QCardActions:_e.A,QBtn:be.A}),ye()(ae,"directives",{Ripple:ve.A,ClosePopup:ge.A});var Ce=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const xe=(0,a.pM)({name:"MainLayout",props:{is_supplier:{type:Boolean,default:!1}},components:{UserDropDown:we,InvoiceIcon:Q},beforeRouteLeave:function(e,t,l){this.unsubscribeToChannel("all_open_task_count"),l()},watch:{loading_settings:{handler:function(e,t){1==e&&0==t||this.init()}},websocketHasError:{handler:function(e,t){1==e&&(this.use_websocket=!1,this.handleWebsocketDelay())}},all_tasks_count_data_flag:{handler:function(e,t){0!=e&&(this.data_status="received",this.handleWebSocketResult(this.all_tasks_count))}}},mounted:function(){return Ce(this,void 0,void 0,(function*(){yield this.startSettingsFetch(),this.init(),document.addEventListener("keydown",this.keyDownEvent),document.addEventListener("refresh_view",this.getTaskCountListener)}))},unmounted(){document.removeEventListener("keydown",this.keyDownEvent),document.removeEventListener("refresh_view",this.getTaskCountListener)},methods:{init(){this.user_settings&&0!=Object.keys(this.user_settings).length&&(this.getUserDetailByKey(),this.prepareMenuItems(),this.app_version="7.12.2".toString()||"0.0.0",this.handleTasks(),this.drawer=!this.isMobile())},isMobile(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isActive(e){return e==this.$route.fullPath},getUserDetailByKey(){let e=(0,Z.Ky)("organisations"),t=e[0];t&&("pending_ap_approval"===t.status?this.supplier_approval_status="pending_approval":this.supplier_approval_status=t.status)},prepareMenuItems(){if(((0,Z.s5)()&&"approved"!==this.supplier_approval_status||!(0,Z.s5)())&&(this.menuList=[{label:"pages.screen2a.dashboard",name:"document_dashboard",icon:"description",separator:!1,to:"/dashboard"}]),this.bottomItems=[{label:"layout.support",name:"support",icon:"support_agent",separator:!1,to:"/support"},{label:"user",name:"user",icon:"person",separator:!1,to:""}],(0,Z.cq)()){const e=(0,Z.Ky)("organisations")[0];"approved"===e.status&&this.bottomItems.splice(0,0,{label:"layout.settings",name:"settings",icon:"settings",separator:!0,to:"/setting"})}else this.bottomItems.splice(0,0,{label:"layout.settings",name:"settings",icon:"settings",separator:!0,to:"/setting"});this.handleSettingDependantMenu(),this.handleAsnDashbaordMenu(),this.handleTaskAndNotification(),this.is_supplier||this.menuAccessibleCheck()},handleAsnDashbaordMenu(){this.user_settings[this.asn_dashboard_setting]||(this.user_settings[this.asn_dashboard_setting]=!1);const e=this.user_settings[this.asn_dashboard_setting],t=this.menuList.findIndex((e=>"asn_dashboard"===e.name));-1===t&&e?(0,Z.cq)()||this.menuList.splice(1,0,{label:"advance_shipment_dashboard",name:"asn_dashboard",icon:"receipt_long",separator:!1,to:"/asn_shipment/dashboard"}):e||-1===t||this.menuList.splice(t,1)},handleTaskAndNotification(){this.user_settings[this.tasks_notification_setting]||(this.user_settings[this.tasks_notification_setting]=!1);const e=this.user_settings[this.tasks_notification_setting],t=this.menuList.findIndex((e=>"tasks"===e.name));-1===t&&e?(0,Z.cq)()||this.menuList.splice(1,0,{label:"tasks",name:"tasks",icon:"task_alt",separator:!1,to:"/tasks"}):e||-1===t||this.menuList.splice(t,1)},handleSettingDependantMenu(){(0,Z.sE)();this.user_settings[this.supplier_dashboard_setting]||(this.user_settings[this.supplier_dashboard_setting]=!1);let e=this.menuList.findIndex((e=>"supplier_dashboard"===e.name));const t=this.user_settings[this.supplier_dashboard_setting];t&&-1===e?(0,Z.cq)()||this.menuList.splice(1,0,{label:"supplier_management",name:"supplier_dashboard",icon:"people",separator:!1,to:"/supplier/dashboard"}):t||-1===e||this.menuList.splice(e,1),this.user_settings[this.workflow_builder_setting]?(0,Z.cq)()&&(this.user_settings[this.workflow_builder_setting]=!1):this.user_settings[this.workflow_builder_setting]=!1,this.user_settings[this.po_dashboard]||(this.user_settings[this.po_dashboard]=!1);const l=this.user_settings[this.po_dashboard];e=this.menuList.findIndex((e=>"purchase_order"===e.label)),-1===e&&l?(0,Z.cq)()||(0,Z.s5)()?"approved"==this.supplier_approval_status&&this.menuList.push({label:"purchase_order",name:"purchase_orders_and_invoices",icon:"shopping_cart",separator:!1,to:"/purchase-order"}):this.menuList.push({label:"purchase_order",name:"purchase_orders_and_invoices",icon:"shopping_cart",separator:!1,to:"/purchase-order"}):-1===e||l||this.menuList.splice(e,1),e=this.menuList.findIndex((e=>"workflow"===e.name));const a=this.user_settings[this.workflow_builder_setting];a&&-1===e&&(0,Z.N6)()?this.menuList.splice(1,0,{label:"workflow",name:"workflow",icon:"account_tree",separator:!1,to:"/workflows"}):a||-1===e||this.menuList.splice(e,1),this.user_settings[this.report_setting]||(this.user_settings[this.report_setting]=!1),e=this.menuList.findIndex((e=>"report"===e.name));const o=this.user_settings[this.report_setting];o&&-1===e?this.menuList.splice(1,0,{label:"layout.report",name:"report",icon:"query_stats",separator:!1,to:"/report"}):o||-1===e||this.menuList.splice(e,1),this.user_settings[this.invoice_dashboard_setting]||(this.user_settings[this.invoice_dashboard_setting]=!1);const i=this.user_settings[this.invoice_dashboard_setting],s=this.menuList.findIndex((e=>"invoice_dashboard"===e.name));-1===s&&i?(0,Z.cq)()||(0,Z.s5)()?"approved"==this.supplier_approval_status&&this.menuList.push({label:"invoice_dashboard",name:"invoice_dashboard",icon:"img:images/invoice.svg",separator:!1,to:"/invoice/dashboard"}):this.menuList.push({label:"invoice_dashboard",name:"invoice_dashboard",icon:"img:images/invoice.svg",separator:!1,to:"/invoice/dashboard"}):i||-1===s||this.menuList.splice(s,1),this.user_settings[h.aH.shipment_order_dashboard]||(this.user_settings[h.aH.shipment_order_dashboard]=!1);const n=this.user_settings[h.aH.shipment_order_dashboard];e=this.menuList.findIndex((e=>"shipment_order"===e.label)),-1===e&&n?(0,Z.cq)()||this.menuList.push({label:"shipment_order",name:"shipment_order",icon:"add_shopping_cart",separator:!1,to:"/shipment-order"}):-1===e||n||this.menuList.splice(e,1)},isDashboardRoute(){return"/dashboard"==this.$route.fullPath||"/supplier/dashboard"==this.$route.fullPath},keyDownEvent(e){"d"===e.key&&e.ctrlKey&&(this.miniState=!this.miniState)},navigateTo(e){e&&("/tasks"===e&&this.handleTasksFilters(),this.$router.push(e))},menuAccessibleCheck(){if((0,Z.cq)()){const e=["workflow","report","supplier_dashboard","asn_dashboard"],t=(0,Z.Ky)("organisations")[0];"approved"!==t.status&&e.push("purchase_orders_and_invoices");const l=this.menuList.filter((t=>-1==e.indexOf(t.name)));this.menuList=l}},handleTasks(){return Ce(this,void 0,void 0,(function*(){document.addEventListener("refreshTasks",this.getTaskCountListener),yield this.getTaskCount(),setInterval((()=>{this.getTaskCount()}),12e4)}))},terminateLongRunningTask(e,t){return new Promise(((l,a)=>{const o=setTimeout((()=>{a(new Error("Operation timed out")),this.handleWebsocketDelay()}),t);e.then((e=>{clearTimeout(o),l(e)})).catch((e=>{clearTimeout(o),a(e),this.handleWebsocketDelay()}))}))},getTaskCount(){return Ce(this,void 0,void 0,(function*(){const{CACHE_TN:e}=this.user_settings,t={cache:!1,ttl:0};if(e){let l=JSON.parse(e);t["cache"]=l.enabled,t["ttl"]=l.ttl}const l=yield this.getSubOrgId();l&&(t["sub_org_id"]=l),this.use_websocket?this.terminateLongRunningTask(this.getTaskCountByWebSocket(t),6e4):this.wsConnectTry>0||this.getTaskCountByHttpCall(t)}))},getTaskCountByWebSocket(e){return Ce(this,void 0,void 0,(function*(){try{this.data_status="fetching",this.all_tasks_count_data_flag=!1;const t=yield this.sendMessageToSocket("all_open_task_count",e);if(!t||!t.hasOwnProperty("data"))throw"Error in getting task count";this.task_count=t.data}catch(t){this.handleWebsocketDelay()}}))},getTaskCountByHttpCall(e){return Ce(this,void 0,void 0,(function*(){try{const t=yield I.Hg.getTotalTaskCount(e);t&&t.hasOwnProperty("success")&&t.success&&(this.task_count=t.data)}catch(t){logError("Error in getting task count",t)}}))},getTaskCountListener(){this.getTaskCount()},handleTasksFilters(){const e=(0,J.OP)();e.getSavedListSettings(),e.deleteItemInFiltersMap("keyword"),e.deleteItemInFiltersMap("status");const t=new CustomEvent("refresh_view",{});document.dispatchEvent(t)},logout(){D.A.methods.logout()},handleWebsocketDelay(){"received"!==this.data_status&&(logInfo("turning off websocket and switching to https",this.data_status),this.use_websocket=!1,this.getTaskCount(),this.wsConnectTry++,setTimeout(this.turnOnWebSocket,5e3))},turnOnWebSocket(){this.websocketHasError||(this.use_websocket=!0)},handleWebSocketResult(e){e&&(this.use_websocket=!0,this.task_count=e)}},data(){return{wsConnectTry:(0,u.KR)(0),use_websocket:(0,u.KR)(!0),showIcons:!1,supportURL:c.cK,dark_mode_setting:h.up,menuList:(0,u.KR)([]),bottomItems:(0,u.KR)([]),supplier_dashboard_setting:h.t2,asn_dashboard_setting:h.fJ,tasks_notification_setting:h.so,workflow_builder_setting:h.$w,report_setting:h.EF,po_dashboard:h.aH.po_dashboard,invoice_dashboard_setting:h.wp}},setup(){const e=(0,J.Bu)(),{user_settings:t,drawer:l,loading_settings:a}=(0,n.bP)(e),{startSettingsFetch:o}=e,i=(0,J.kH)(),{sub_org_id:s}=i,{getSubOrgId:r}=i,d=(0,J.OP)(),{total_records:c}=(0,n.bP)(d),{getTasks:p}=d,h=(0,u.KR)(""),m=(0,J.G6)(),{all_tasks_count:_,isConnected:b,hasError:v,all_tasks_count_data_flag:g}=(0,n.bP)(m),{subscribeToChannel:f,unsubscribeToChannel:y,sendMessageByType:k}=m;return{sub_org_id:s,getSubOrgId:r,supplier_approval_status:h,startSettingsFetch:o,loading_settings:a,user_settings:t,drawer:l,getTasks:p,total_records:c,miniState:(0,u.KR)(!0),task_count:(0,u.KR)(0),app_version:(0,u.KR)("0.0.0"),data_status:(0,u.KR)(""),isConnected:b,all_tasks_count:_,websocketHasError:v,all_tasks_count_data_flag:g,subscribeToChannel:f,sendMessageToSocket:k,unsubscribeToChannel:y}}});var Le=l(76056),Fe=l(23954);const Ee=(0,B.A)(xe,[["render",S],["__scopeId","data-v-990871ea"]]),Ae=Ee;ye()(xe,"components",{QDrawer:Le.A,QAvatar:ne.A,QList:oe.A,QItem:ie.A,QItemSection:se.A,QBadge:Fe.A,QIcon:re.A,QTooltip:ce.A,QSeparator:ue.A,QMenu:de.A,QBtn:be.A}),ye()(xe,"directives",{Ripple:ve.A});var Se=l(62103),De=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ie=(0,a.pM)({name:"MainLayout",watch:{loading_settings:{handler:function(e,t){!1===e&&this.setDarkMode()}}},unmounted(){document.removeEventListener("keydown",this.sendBack)},mounted:function(){document.addEventListener("keydown",this.sendBack),this.fillDocTypeAndSubTypesListIfEmpty(),this.initFontSize(),this.init(),this.app_version="7.12.2".toString()},methods:{isDashboardRoute(){return"/dashboard"==this.$route.fullPath||"/supplier/dashboard"==this.$route.fullPath},navigateTo(e){e&&this.$router.push(e)},init(){this.setDarkMode(),r.A.has("selected_language")&&(this.locale=r.A.getItem("selected_language"))},sendBack(e){"Escape"!==e.key||document.querySelector(".q-dialog")||"/dashboard"!=this.$route.path&&this.$router.go(-1)},setDarkMode(){return De(this,void 0,void 0,(function*(){if(this.loading_settings)return;const e=yield this.getUserSettingWithExpiry(this.dark_mode_setting,!1);"true"!=e&&1!=e||this.$q.dark.set(!0),i.A.set(Boolean(e))}))},goHome(){this.$router.push("/dashboard")},supportIntegration(){this.$router.push("/support")},gotoSettings(){this.$router.push("/settings")},gotoReport(){this.$router.push("/report")},gotoCloud(){this.$router.push("/dashboard")},gotoWorkflow(){this.$router.push("/workflows")}},data(){return{showIcons:!1,supportURL:c.cK,dark_mode_setting:h.up}},components:{SideMenu:Ae,newUpdateError:Se.A},mixins:[p.A,d.A],setup(){let{locale:e}=(0,s.s9)({useScope:"global"});const t=(0,J.cY)(),{fillDocTypeAndSubTypesListIfEmpty:l}=t,a=(0,J.Bu)(),{user_settings:o,loading_settings:i}=(0,n.bP)(a),{getUserSettingWithExpiry:r}=a,d=(0,J.Ml)(),{initFontSize:c}=d;return{loading_settings:i,getUserSettingWithExpiry:r,fillDocTypeAndSubTypesListIfEmpty:l,initFontSize:c,user_settings:o,settings_store:a,report:(0,u.KR)(!0),app_version:(0,u.KR)("0.0.0"),locale:(0,u.KR)(e),drawer:(0,u.KR)(!0),miniState:(0,u.KR)(!1),mode:(0,u.KR)("dashboard")}}});var Te=l(62008),Oe=l(8416),Me=l(36914),Re=l(45205);const Pe=(0,B.A)(Ie,[["render",o],["__scopeId","data-v-604279b3"]]),qe=Pe;ye()(Ie,"components",{QLayout:Te.A,QHeader:Oe.A,QToolbar:Me.A,QIcon:re.A,QPageContainer:Re.A,QDialog:pe.A,QBtn:be.A})},29925:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>v});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("q-header"),r=(0,a.g2)("router-view"),d=(0,a.g2)("q-page-container"),u=(0,a.g2)("q-layout");return(0,a.uX)(),(0,a.Wv)(u,{view:"lHh Lpr lFf"},{default:(0,a.k6)((()=>[(0,a.bF)(n),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(r)])),_:1})])),_:1})}const i={name:"PublicLayout",mixins:[],data(){return{}}};var s=l(12807),n=l(62008),r=l(8416),d=l(45205),u=l(57092),c=l(36914),p=l(3952),h=l(39150),m=l(98582),_=l.n(m);const b=(0,s.A)(i,[["render",o]]),v=b;_()(i,"components",{QLayout:n.A,QHeader:r.A,QPageContainer:d.A,QFooter:u.A,QToolbar:c.A,QAvatar:p.A,QToolbarTitle:h.A})},4801:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>g});var a=l(61758);const o={class:"container",style:{display:"flex"}},i={style:{"margin-left":"auto"}};function s(e,t,l,s,n,r){const d=(0,a.g2)("LanguageDropdown"),u=(0,a.g2)("q-toolbar"),c=(0,a.g2)("q-header"),p=(0,a.g2)("router-view"),h=(0,a.g2)("q-page-container"),m=(0,a.g2)("q-footer"),_=(0,a.g2)("q-layout");return(0,a.uX)(),(0,a.Wv)(_,{view:"lHh Lpr lFf table_train"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"toolbar"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",o,[(0,a.Lk)("div",i,[(0,a.bF)(d)])])])),_:1})])),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.bF)(p)])),_:1}),(0,a.bF)(m,{elevated:"",class:"bg-grey-8 text-white"},{default:(0,a.k6)((()=>[(0,a.bF)(u)])),_:1})])),_:1})}var n=l(48156);const r=(0,a.pM)({name:"TableTrainLayout",components:{LanguageDropdown:n.A},methods:{goHome(){this.$router.push("/dashboard")}},setup(){return{}}});var d=l(12807),u=l(62008),c=l(8416),p=l(36914),h=l(45205),m=l(57092),_=l(98582),b=l.n(_);const v=(0,d.A)(r,[["render",s],["__scopeId","data-v-58a9ee11"]]),g=v;b()(r,"components",{QLayout:u.A,QHeader:c.A,QToolbar:p.A,QPageContainer:h.A,QFooter:m.A})},88952:(e,t,l)=>{"use strict";l.d(t,{A:()=>v});var a=l(61758),o=l(29104);const i={style:{padding:"10px"}};function s(e,t,l,s,n,r){const d=(0,a.g2)("q-input"),u=(0,a.g2)("q-menu"),c=(0,a.g2)("q-icon");return(0,a.uX)(),(0,a.Wv)(c,{class:"hover-search-icon",id:`${e.name}-${e.column}-filter`,style:{"font-size":"18px"},name:e.filterValue?"filter_list":"menu",onClick:t[1]||(t[1]=(0,o.D$)((()=>{}),["stop","prevent"]))},{default:(0,a.k6)((()=>[(0,a.bF)(u,{onBeforeHide:e.beforeHideMenu,onBeforeShow:e.beforeShowMenu},{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.bF)(d,{class:"width-150",outlined:"",dense:"",debounce:"300",color:"primary",modelValue:e.value,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.value=t),e.handleUpdateValue],label:"Filter..."},null,8,["modelValue","onUpdate:modelValue"])])])),_:1},8,["onBeforeHide","onBeforeShow"])])),_:1},8,["id","name"])}var n=l(83319),r=l(38734);const d=(0,a.pM)({mixins:[],props:{name:{type:String,required:!0,hint:"Name of the filter"},column:{type:String,required:!0,hint:"Name of the column to filter"},persist:{type:Boolean,default:!1,hint:"Persist the filter value"}},components:{},computed:{filterValue(){const e=this.quickFilterMap.get(this.name);return e&&e[this.column]?e[this.column]:""}},mounted:function(){const e=this.componentLifeCycle.get(`${this.name}-filter-mounted`);if(!e){this.componentLifeCycle.set(`${this.name}-filter-mounted`,!0);const e=this.quickFilterMap.get(this.name);void 0==e?this.quickFilterMap.set(this.name,{}):Object.keys(e).length>0&&this.$emit("onUpdateValue",e)}},watch:{quickFilterMap:{handler:function(e,t){this.value=e.get(this.name).hasOwnProperty(this.column)?e.get(this.name)[this.column]:""},deep:!0}},unmounted:function(){this.componentLifeCycle.delete(`${this.name}-filter-mounted`),this.persist||this.quickFilterMap.delete(this.name)},methods:{beforeHideMenu(e){var t;null===(t=document.getElementById(`${this.name}-${this.column}-filter`))||void 0===t||t.classList.remove("always-show")},beforeShowMenu(e){var t;null===(t=document.getElementById(`${this.name}-${this.column}-filter`))||void 0===t||t.classList.add("always-show")},handleUpdateValue(e){const t=this.quickFilterMap.get(this.name);t[this.column]=e,""!=e&&void 0!=e||delete t[this.column],this.quickFilterMap.set(this.name,t),this.$emit("onUpdateValue",t)}},setup(){const{quickFilterMap:e,resetFilters:t,componentLifeCycle:l}=(0,n.fX)(),a=(0,r.KR)("");return{quickFilterMap:e,resetFilters:t,componentLifeCycle:l,value:a}}});var u=l(12807),c=l(50492),p=l(84436),h=l(67837),m=l(98582),_=l.n(m);const b=(0,u.A)(d,[["render",s]]),v=b;_()(d,"components",{QIcon:c.A,QMenu:p.A,QInput:h.A})},69323:(e,t,l)=>{"use strict";l.d(t,{A:()=>_});var a=l(61758),o=l(58790);const i={class:"row"};function s(e,t,l,s,n,r){const d=(0,a.g2)("q-icon"),u=(0,a.g2)("q-badge");return(0,a.uX)(),(0,a.CE)("div",i,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.filterValue,((t,l)=>((0,a.uX)(),(0,a.Wv)(u,{key:t,color:"primary",rounded:"",class:"text-capitalize cursor-pointer q-ml-xs"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t(t))+" ",1),(0,a.Lk)("div",null,[(0,a.bF)(d,{name:"close",color:"white",size:"xs",class:"q-ml-xs cursor-pointer",style:{"font-size":"12px !important"},onClick:t=>e.removeFilter(l)},null,8,["onClick"])])])),_:2},1024)))),128))])}var n=l(83319);const r=(0,a.pM)({mixins:[],props:{name:{type:String,required:!0,hint:"Name of the filter"}},components:{},computed:{filterValue(){const e=this.quickFilterMap.get(this.name);return e||{}}},watch:{},methods:{removeFilter(e){const t=this.quickFilterMap.get(this.name);delete t[e],this.quickFilterMap.set(this.name,t),this.$emit("onUpdateValue",t)}},setup(){const{quickFilterMap:e,resetFilters:t}=(0,n.fX)();return{quickFilterMap:e,resetFilters:t}}});var d=l(12807),u=l(23954),c=l(50492),p=l(98582),h=l.n(p);const m=(0,d.A)(r,[["render",s]]),_=m;h()(r,"components",{QBadge:u.A,QIcon:c.A})},28545:(e,t,l)=>{"use strict";l.d(t,{A:()=>O});var a=l(61758),o=l(58790);const i={class:"text-weight-bold"},s={class:"col-sm-12 col-md-12 col-lg-12"},n={class:"col-sm-12 col-md-12 col-lg-12"},r={class:"col-sm-12 col-md-12 col-lg-12"};function d(e,t,l,d,u,c){const p=(0,a.g2)("q-toolbar-title"),h=(0,a.g2)("q-btn"),m=(0,a.g2)("q-toolbar"),_=(0,a.g2)("q-select"),b=(0,a.g2)("q-card-section"),v=(0,a.g2)("f-btn"),g=(0,a.g2)("q-card-actions"),f=(0,a.g2)("q-form"),y=(0,a.g2)("q-card"),k=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(y,{class:"card"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",i,(0,o.v_)(e.$t("assigne_to")),1)])),_:1}),(0,a.bo)((0,a.bF)(h,{flat:"",round:"",dense:"",icon:"close"},null,512),[[k]])])),_:1}),(0,a.bF)(f,{onSubmit:e.updateAssignment},{default:(0,a.k6)((()=>[(0,a.bF)(b,{class:"row"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",s,[(0,a.bF)(_,{clearable:"","use-input":"",modelValue:e.sub_org_id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.sub_org_id=t),options:e.filterSubOrgsList,onFilter:e.filterSubOrgslistEvent,onInput:e.filertBySubOrgId,label:e.$t("sub_organizations"),loading:e.sub_org_list_loading,"emit-value":"","map-options":"",class:"card-padding",outlined:"",dense:""},null,8,["modelValue","options","onFilter","onInput","label","loading"])]),(0,a.Lk)("div",n,[(0,a.bF)(_,{clearable:"","use-input":"",modelValue:e.userOrGroupValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.userOrGroupValue=t),options:e.userOrGroupList,label:e.$t("select_user_or_group"),loading:e.sub_org_list_loading,"emit-value":"","map-options":"",class:"card-padding",outlined:"",dense:""},null,8,["modelValue","options","label","loading"])]),(0,a.Lk)("div",r,["User"===e.userOrGroupValue?((0,a.uX)(),(0,a.Wv)(_,{key:0,ref:"selectq",clearable:"",modelValue:e.user_id,"onUpdate:modelValue":t[2]||(t[2]=t=>e.user_id=t),"use-input":"",id:e.updateUsers,onFilter:e.filterUsersEvent,options:e.filteredUserList,label:e.$t("assigne"),loading:e.user_list_loading,"emit-value":"","map-options":"",class:"card-padding",outlined:"",dense:""},null,8,["modelValue","id","onFilter","options","label","loading"])):(0,a.Q3)("",!0),"Group"===e.userOrGroupValue?((0,a.uX)(),(0,a.Wv)(_,{key:1,ref:"selectq",clearable:"",modelValue:e.group_id,"onUpdate:modelValue":t[3]||(t[3]=t=>e.group_id=t),"use-input":"",id:e.updateGroups,onFilter:e.filterGroupsEvent,options:e.filteredGroupList,label:e.$t("groups"),loading:e.groups_list_loading,"emit-value":"","map-options":"",class:"card-padding",outlined:"",dense:""},null,8,["modelValue","id","onFilter","options","label","loading"])):(0,a.Q3)("",!0)])])),_:1}),(0,a.bF)(g,{class:"row",align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(v,{label:e.$t("cancel"),appearance:"cancel"},null,8,["label"]),[[k]]),(0,a.bF)(v,{label:e.$t("save"),class:"q-mr-sm",type:"submit"},null,8,["label"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})}var u=l(38734),c=l(83319),p=l(11470),h=l(24622),m=l(18505),_=l(1659),b=l(64775),v=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const g=(0,a.pM)({el:"#app",mixins:[h.A,m.A],props:{doc_ids:{type:Array,default:()=>[]},doc_sub_org_id:{type:String,default:""}},mounted:function(){this.initView()},methods:{initView(){return v(this,void 0,void 0,(function*(){this.checkIfGroupsAreActivated(),this.prepareGroupsDropdown(),this.prepareUsersDropdown(),this.preSelectedSubOrg(),yield this.getSubOrgsList(),this.filterSubOrgByid(),this.filertBySubOrgId()}))},checkIfGroupsAreActivated(){return v(this,void 0,void 0,(function*(){try{if(this.userOrGroupList=["User","Group"],yield this.startSettingsFetch(),!this.user_settings["GROUP_PERMISSION_ACTIVATED"])return void(this.userOrGroupList=["User"]);const e=(0,c.cY)();this.filteredGroupList=e.groups_list,this.originalGroupList=e.groups_list}catch(e){const t=b.t.getErrorMessage(e);this.showErrorToast(t),logError(e),this.hideLoading()}}))},preSelectedSubOrg(){this.sub_org_id=this.doc_sub_org_id},filterSubOrgByid(){this.sub_org_id&&(this.filterSubOrgsList=this.subOrgList.filter((e=>e.value===this.sub_org_id)))},filertBySubOrgId(){var e;if(!this.sub_org_id)return void(this.filteredUserList=this.usersList);const t=(null===(e=this.subOrgList.find((e=>e.value===this.sub_org_id)))||void 0===e?void 0:e.users)||[];if(!t.length)return void(this.filteredUserList=this.usersList);const l=t.map((e=>e.user_id));this.filteredUserList=this.usersList.filter((e=>l.includes(e.value)))},filterUsersEvent(e,t,l){this.filertBySubOrgId(),t(e?()=>{const t=e.toLowerCase();this.filteredUserList=this.filteredUserList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filertBySubOrgId()})},filterSubOrgslistEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filterSubOrgsList=this.subOrgList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filterSubOrgsList=this.subOrgList})},filterGroupsEvent(e,t){t(e?()=>{const t=e.toLowerCase();this.filteredGroupList=this.filteredGroupList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filteredGroupList=this.originalGroupList})},updateAssignment(){return v(this,void 0,void 0,(function*(){try{if(!this.user_id&&!this.sub_org_id&&!this.group_id)return void this.showErrorToast(this.$t("no_user_sub_org_selection"));if(this.user_id&&this.group_id)return void this.showErrorToast(this.$t("can_not_assign_to_user_and_group"));this.showLoading();let e={doc_ids:this.doc_ids.join(","),assign_to_user:this.user_id||"",assign_to_sub_org:this.sub_org_id||"",assign_to_group:this.group_id||""};const t=yield p.z6.assignDocuments(e);if(!t||t.hasOwnProperty("success")&&!1===t.success)throw t;this.hideLoading(),this.showSuccessToast(this.$t("operation_sucessfull"));const l=new CustomEvent("assignment_success",{});document.dispatchEvent(l)}catch(e){const t=b.t.getErrorMessage(e);this.showErrorToast(t),logError(e),this.hideLoading()}}))}},setup(){const e=(0,c.cY)(),t=(0,c.Bu)(),l=(0,u.KR)(e.usersList),a=(0,u.KR)(e.subOrgList),o=(0,u.KR)(),i=(0,u.KR)(),{prepareUsersDropdown:s,getSubOrgsList:n,prepareGroupsDropdown:r}=e,{user_list_loading:d,subOrgList:p,sub_org_list_loading:h,usersList:m}=(0,_.bP)(e),{startSettingsFetch:b}=t,{user_settings:v}=(0,_.bP)(t);return{updateUsers:(0,u.KR)(1),getSubOrgsList:n,prepareUsersDropdown:s,prepareGroupsDropdown:r,startSettingsFetch:b,user_list_loading:d,sub_org_list_loading:h,dropdown_store:e,settings_store:t,user_settings:v,usersList:m,filteredUserList:l,subOrgList:p,filterSubOrgsList:a,filteredGroupList:o,originalGroupList:i,userOrGroupList:(0,u.KR)([""]),user_id:(0,u.KR)(),sub_org_id:(0,u.KR)(),group_id:(0,u.KR)(),userOrGroupValue:(0,u.KR)()}}});var f=l(12807),y=l(23316),k=l(36914),w=l(39150),C=l(56384),x=l(49200),L=l(44189),F=l(94940),E=l(62669),A=l(67156),S=l(88672),D=l(98582),I=l.n(D);const T=(0,f.A)(g,[["render",d],["__scopeId","data-v-565752e0"]]),O=T;I()(g,"components",{QCard:y.A,QToolbar:k.A,QToolbarTitle:w.A,QBtn:C.A,QForm:x.A,QCardSection:L.A,QSelect:F.A,QCardActions:E.A,QField:A.A}),I()(g,"directives",{ClosePopup:S.A})},32297:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Et});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-77a05367"),e=e(),(0,a.jt)(),e),n={key:0,class:"row justify-center q-pa-lg"},r={key:1},d={key:0},u={key:0,class:"full-width"},c={class:"highlighted-back"},p={class:"q-pa-lg flex flex-center"},h={key:0},m={class:"text-center",colspan:"10"},_={class:"width-40"},b={class:"width-100-40 q-pt-xs"},v={key:0,class:"q-ml-sm"},g={class:"full-width dashboard-list-area"},f={class:"table-header-text back-white"},y=["onDragstart","onDrop","onDragover"],k={key:0,class:"q-pr-md"},w={key:2,class:"float-right q-pl-md"},C={class:"page-background"},x=s((()=>(0,a.Lk)("div",{class:"box loading-shimmer"},null,-1))),L=[x],F={key:1},E=["colspan"],A={class:"back-white flex justify-end"},S={class:"row",style:{"margin-right":"0"}},D={class:"flex float-right"},I={key:0},T=s((()=>(0,a.Lk)("td",{class:"text-center",colspan:"10"},null,-1))),O=[T],M={class:"q-ml-sm"},R={cellspacing:"0",cellpadding:"0",style:{border:"none",width:"100%"}},P={style:{width:"5%"}},q={style:{padding:"5%","text-align":"center"}},V={style:{width:"5%"}},N={cellspacing:"5px",cellpadding:"5px",style:{border:"none",width:"100%"}},B={cellspacing:"0",cellpadding:"0",style:{border:"none",width:"100%"}},$={style:{width:"5%"}},Q={style:{padding:"5%","text-align":"center"}},X={style:{width:"5%"}},W={cellspacing:"5px",cellpadding:"5px",style:{border:"none",width:"100%"}},K={style:{"text-align":"center"}},U={class:"q-ml-sm"};function j(e,t,l,s,x,T){const j=(0,a.g2)("SupplierApprovalStatus"),z=(0,a.g2)("SubHeader"),H=(0,a.g2)("MobileGrid"),G=(0,a.g2)("q-markup-table"),Y=(0,a.g2)("q-pagination"),J=(0,a.g2)("DashboardHeader"),Z=(0,a.g2)("q-separator"),ee=(0,a.g2)("q-icon"),te=(0,a.g2)("q-item-label"),le=(0,a.g2)("q-item-section"),ae=(0,a.g2)("q-item"),oe=(0,a.g2)("q-list"),ie=(0,a.g2)("q-popup-proxy"),se=(0,a.g2)("q-badge"),ne=(0,a.g2)("draggable"),re=(0,a.g2)("q-linear-progress"),de=(0,a.g2)("q-checkbox"),ue=(0,a.g2)("q-tooltip"),ce=(0,a.g2)("q-fab-action"),pe=(0,a.g2)("q-fab"),he=(0,a.g2)("ColumnOrderBy"),me=(0,a.g2)("TableBody"),_e=(0,a.g2)("PaginationSettings"),be=(0,a.g2)("q-avatar"),ve=(0,a.g2)("q-card-section"),ge=(0,a.g2)("f-btn"),fe=(0,a.g2)("q-card-actions"),ye=(0,a.g2)("q-card"),ke=(0,a.g2)("q-dialog"),we=(0,a.g2)("q-btn"),Ce=(0,a.g2)("DocAssignment"),xe=(0,a.g2)("Loader"),Le=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,["pending_registration"===e.supplier_approval_status||"pending_supplier_input"===e.supplier_approval_status||"pending_approval"===e.supplier_approval_status||"rejected"===e.supplier_approval_status||"pending_ap_approval"===e.supplier_approval_status?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(j,{status:e.supplier_approval_status,supplier_as_org_id:e.supplier_as_org_id,supplier_lookup_record_id:e.supplier_lookup_record_id},null,8,["status","supplier_as_org_id","supplier_lookup_record_id"])])):((0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(z,{name:"dashboard",onSearch:!1,label:e.$t("pages.screen2a.dashboard"),show_expiry_alert:!0},null,8,["label"]),e.isMobile()?((0,a.uX)(),(0,a.CE)("div",d,[e.display_data&&e.display_data.length>0?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.bF)(H,{table_data:e.display_data,onRowClick:e.rowClick},null,8,["table_data","onRowClick"])])):((0,a.uX)(),(0,a.Wv)(G,{key:1,flat:"",class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",c,[(0,a.Lk)("th",null,(0,o.v_)(e.$t("no_data_found")),1)])])])),_:1})),(0,a.Lk)("div",p,[e.display_data.length>0?((0,a.uX)(),(0,a.CE)("tr",h,[(0,a.Lk)("td",m,[(0,a.bF)(Y,{modelValue:e.paginationCount,"onUpdate:modelValue":t[0]||(t[0]=t=>e.paginationCount=t),color:"primary",max:e.skip,"max-pages":6,"boundary-links":"",onClick:t[1]||(t[1]=t=>e.loadData())},null,8,["modelValue","max"])])])):(0,a.Q3)("",!0)])])):((0,a.uX)(),(0,a.CE)("div",{key:1,class:"dashboard-container dashboard-text-color dashboard-main",onDrop:t[16]||(t[16]=(...t)=>e.drop&&e.drop(...t)),onDragover:t[17]||(t[17]=(...t)=>e.allowDrop&&e.allowDrop(...t)),onDragleave:t[18]||(t[18]=(...t)=>e.dragLeave&&e.dragLeave(...t))},[(0,a.bF)(J),(0,a.bF)(Z,{class:"seperator"}),e.isGroupingMode?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"row back-white grouping-header",onDrop:t[3]||(t[3]=t=>e.headerGroupDropEvent(t)),onDragover:t[4]||(t[4]=(...t)=>e.allowDrop&&e.allowDrop(...t))},[(0,a.Lk)("div",_,[(0,a.bF)(ee,{name:"switch_access_shortcut_add",size:"sm",class:"cursor-pointer"})]),(0,a.Lk)("div",b,[(0,a.bF)(ne,{modelValue:e.groupedColumns,"onUpdate:modelValue":t[2]||(t[2]=t=>e.groupedColumns=t),class:"dragArea","item-key":"name",group:{name:"groups",pull:!1,put:!0},sort:!0,"ghost-class":"sortable__ghost",onEnd:e.handleGroupChange},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.groupedColumns,((t,l)=>((0,a.uX)(),(0,a.Wv)(se,{key:t.name,rounded:"",color:"primary",class:"q-mr-sm capitalize cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.label)+" ",1),t.group_by_type?((0,a.uX)(),(0,a.CE)("span",v," ("+(0,o.v_)(t.group_by_type)+")",1)):(0,a.Q3)("",!0),t.group_by_type?((0,a.uX)(),(0,a.Wv)(ie,{key:1,anchor:"bottom end",self:"top end"},{default:(0,a.k6)((()=>[(0,a.bF)(oe,null,{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(ae,{dense:"",clickable:"",onClick:l=>{t.group_by_type="day",e.handleGroupChange()}},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.bF)(te,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("day")),1)])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[Le]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(ae,{dense:"",clickable:"",onClick:l=>{t.group_by_type="week",e.handleGroupChange()}},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.bF)(te,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("week")),1)])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[Le]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(ae,{dense:"",clickable:"",onClick:l=>{t.group_by_type="month",e.handleGroupChange()}},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.bF)(te,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("month")),1)])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[Le]])])),_:2},1024)])),_:2},1024)):(0,a.Q3)("",!0),(0,a.bF)(ee,{name:"close",color:"white",class:"q-ml-xs cursor-pointer",onClick:t=>e.removeGroup(l)},null,8,["onClick"])])),_:2},1024)))),128))])),_:1},8,["modelValue","onEnd"])])],32)):(0,a.Q3)("",!0),e.loading?((0,a.uX)(),(0,a.Wv)(re,{key:1,indeterminate:""})):(0,a.Q3)("",!0),(0,a.Lk)("div",g,[e.table_columns.length>0?((0,a.uX)(),(0,a.Wv)(G,{key:0,flat:"",id:"dashboard",class:(0,o.C4)(["dashboard-table-style back-white dashboard-table-height dashboard-table-header-sticky",e.display_data.length>0?"dashboard-min-height":""])},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",f,[(0,a.Lk)("th",null,[(0,a.bF)(de,{modelValue:this.headerCheckbox,"onUpdate:modelValue":[t[5]||(t[5]=e=>this.headerCheckbox=e),t[6]||(t[6]=t=>e.changeAction())],dense:""},null,8,["modelValue"]),(0,a.bF)(pe,{modelValue:this.headerFabIcon,"onUpdate:modelValue":t[11]||(t[11]=e=>this.headerFabIcon=e),disable:this.selectionList.length<1,"label-position":"top",flat:"","data-cy":"actions","external-label":"",icon:"more_vert",direction:"down",padding:"1px"},{default:(0,a.k6)((()=>[(0,a.bF)(ce,{onClick:t[7]||(t[7]=t=>e.deleteMultipalDocument()),padding:"7px","external-label":"","label-position":"top","data-cy":"delete",style:{background:"#b90713"},disable:e.isMultiDeleteButtonDisabled},{default:(0,a.k6)((()=>[(0,a.bF)(ee,{style:{padding:"1px 1px 1px 1px"},name:"img:images/trash-bin-default-white.svg",size:"20px"}),(0,a.bF)(ue,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.isMultiDeleteButtonDisabled?e.$t("could_not_delete"):e.$t("delete")),1)])),_:1})])),_:1},8,["disable"]),(0,a.bF)(ce,{onClick:t[8]||(t[8]=t=>e.restartMultipalDocExport()),padding:"7px","external-label":"","label-position":"top",style:{background:"#6479ff"},disable:e.isMultiRestartButtonDisabled},{default:(0,a.k6)((()=>[(0,a.bF)(ee,{style:{padding:"1px 1px 1px 1px"},name:"img:images/refresh.svg",size:"20px"}),(0,a.bF)(ue,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.isMultiRestartButtonDisabled?e.$t("could_not_restart"):e.$t("restart")),1)])),_:1})])),_:1},8,["disable"]),(0,a.bF)(ce,{onClick:t[9]||(t[9]=t=>e.multipleDocAssignment()),padding:"7px","external-label":"","label-position":"top",style:{background:"#6decb4"}},{default:(0,a.k6)((()=>[(0,a.bF)(ee,{style:{padding:"1px 1px 1px 1px"},name:"img:images/assign to.svg",size:"20px"}),(0,a.bF)(ue,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("assign2")),1)])),_:1})])),_:1}),(0,a.bF)(ce,{onClick:t[10]||(t[10]=t=>e.confirmMerge()),padding:"5px","external-label":"","label-position":"top",color:"deep-orange-6",icon:"merge"},{default:(0,a.k6)((()=>[(0,a.bF)(ue,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("merge")),1)])),_:1})])),_:1})])),_:1},8,["modelValue","disable"])]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns,((l,s)=>((0,a.uX)(),(0,a.CE)("th",{key:s,class:"documnetCol draggable",draggable:"true",onDragstart:t=>e.handleDragStart(t,l,s,e.table_columns),onDrop:(0,i.D$)((t=>e.handleDrop(t,s)),["prevent"]),onDragover:(0,i.D$)((t=>e.onDragOver(t,s)),["prevent"]),onDragenter:t[12]||(t[12]=(0,i.D$)(((...t)=>e.onDragEnter&&e.onDragEnter(...t)),["prevent"])),onDragleave:t[13]||(t[13]=(0,i.D$)(((...t)=>e.onDragLeave&&e.onDragLeave(...t)),["prevent"])),style:(0,o.Tr)({cursor:e.getIsDragging?"pointer":"move"})},[l.hasOwnProperty("label")?((0,a.uX)(),(0,a.CE)("span",k,(0,o.v_)(e.$t(l.label)),1)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.$t(l.name)),1)],64)),l.sortable?((0,a.uX)(),(0,a.CE)("div",w,[(0,a.bF)(he,{column_name:l.name},null,8,["column_name"])])):(0,a.Q3)("",!0)],44,y)))),128)),(0,a.Lk)("th",C,[(0,a.Lk)("span",null,(0,o.v_)(e.$t("actions")),1)])])]),(0,a.Lk)("tbody",null,[(0,a.bF)(me,{parentIndexes:"",table_columns:e.table_columns,statusList:e.statusList,restartExportedInvoices:e.restartExportedInvoices,onCheckRowExistance:e.checkRowExistance,onRowClick:e.rowClick,onViewPurchaseOrder:e.viewPurchaseOrder,onOpenAssignmentDlg:e.openAssignmentDlg,onToFlowScreen:e.toFlowScreen,onDownloadFile:e.downloadFile,onDownloadZugferd:e.downloadZugferd,onDownloadPeppol:e.downloadPeppol,onDownloadAnnotated:e.downloadAnnotated,onDownloadPreviewFile:e.downloadPreviewFile,onGoToExport:e.goToExport,onRestartExport:e.restartExport,onRestartExportError:e.restartExportError,onReadyForDelete:e.readyForDelete,onSetErrorInfos:e.setErrorInfos,onLoadChildRowData:e.loadChildRowData,onSetLastVisitedParentsToCache:e.setLastVisitedParentsToCache},null,8,["table_columns","statusList","restartExportedInvoices","onCheckRowExistance","onRowClick","onViewPurchaseOrder","onOpenAssignmentDlg","onToFlowScreen","onDownloadFile","onDownloadZugferd","onDownloadPeppol","onDownloadAnnotated","onDownloadPreviewFile","onGoToExport","onRestartExport","onRestartExportError","onReadyForDelete","onSetErrorInfos","onLoadChildRowData","onSetLastVisitedParentsToCache"]),!0===e.show_table_loader?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:0},(0,a.pI)(e.pageSize,(t=>((0,a.uX)(),(0,a.CE)("tr",{key:t},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns.length+2,(e=>((0,a.uX)(),(0,a.CE)("td",{key:e},L)))),128))])))),128)):0===e.display_data.length&&!1===e.processing?((0,a.uX)(),(0,a.CE)("tr",F,[(0,a.Lk)("td",{class:"text-center",colspan:e.table_columns.length+2},(0,o.v_)(e.$t("no_document_found")),9,E)])):(0,a.Q3)("",!0)])])),_:1},8,["class"])):(0,a.Q3)("",!0),(0,a.Lk)("div",A,[(0,a.Lk)("div",S,[(0,a.bF)(_e,{class:"q-py-xs q-mr-md"}),(0,a.bF)(Z,{vertical:""}),(0,a.bF)(Y,{modelValue:e.paginationCount,"onUpdate:modelValue":[t[14]||(t[14]=t=>e.paginationCount=t),t[15]||(t[15]=t=>e.loadData())],color:"primary",max:e.skip,class:"q-py-xs q-mx-md","max-pages":6,input:"","boundary-links":""},null,8,["modelValue","max"])])])]),(0,a.Lk)("div",D,[e.display_data.length>0?((0,a.uX)(),(0,a.CE)("tr",I,O)):(0,a.Q3)("",!0)])],32))])),(0,a.bF)(ke,{modelValue:e.deleteInvoice,"onUpdate:modelValue":t[20]||(t[20]=t=>e.deleteInvoice=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ve,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(be,{icon:"warning",color:"primary"})])),_:1}),(0,a.bF)(ve,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",M,(0,o.v_)(e.$t("sure")),1)])),_:1}),(0,a.bF)(fe,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(ge,{appearance:"cancel","data-cy":"cancel",label:e.$t("cancel")},null,8,["label"]),[[Le]]),(0,a.bo)((0,a.bF)(ge,{label:e.$t("delete"),"data-cy":"delete-popup",onClick:t[19]||(t[19]=t=>e.deleteRecord(e.recordId))},null,8,["label"]),[[Le]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(ke,{modelValue:e.ErrorInfos,"onUpdate:modelValue":t[21]||(t[21]=t=>e.ErrorInfos=t)},{default:(0,a.k6)((()=>[(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ve,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("table",R,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",P,[(0,a.bF)(be,{icon:"error",color:"red-6",style:{margin:"3%"}})]),(0,a.Lk)("td",null,[(0,a.Lk)("div",q,[(0,a.Lk)("b",null,(0,o.v_)(this.ErrorText["row"]["filename"]),1)])]),(0,a.Lk)("td",V,[(0,a.bF)(be,{icon:"error",color:"red-6",style:{margin:"3%"}})])])])]),(0,a.Lk)("table",N,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",null,[(0,a.Lk)("span",null,(0,o.v_)(e.$t("upload_failed")),1)])])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(ke,{modelValue:e.QualityConfirm,"onUpdate:modelValue":t[24]||(t[24]=t=>e.QualityConfirm=t)},{default:(0,a.k6)((()=>[(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ve,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("table",B,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",$,[(0,a.bF)(be,{icon:"warning",color:"yellow-6",style:{margin:"3%"}})]),(0,a.Lk)("td",null,[(0,a.Lk)("div",Q,[(0,a.Lk)("b",null,(0,o.v_)(this.QualityText["row"]["filename"]),1)])]),(0,a.Lk)("td",X,[(0,a.bF)(be,{icon:"warning",color:"yellow-6",style:{margin:"3%"}})])])])]),(0,a.Lk)("table",W,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",K,[(0,a.Lk)("span",null,(0,o.v_)(e.$t("low_quality")),1)])])])]),(0,a.bF)(we,{class:"button-1",onClick:t[22]||(t[22]=t=>e.restartExport(this.docrowID)),label:e.$t("run_anyway")},null,8,["label"]),(0,a.bF)(we,{class:"button-2",onClick:t[23]||(t[23]=t=>{e.recordId=this.docrowID,e.deleteInvoice=!0,e.QualityConfirm=!1}),label:e.$t("delete")},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(ke,{modelValue:e.assigneDialog,"onUpdate:modelValue":t[25]||(t[25]=t=>e.assigneDialog=t)},{default:(0,a.k6)((()=>[(0,a.bF)(Ce,{doc_ids:e.assignment_doc_ids},null,8,["doc_ids"])])),_:1},8,["modelValue"]),(0,a.bF)(ke,{modelValue:e.confirmMergeDialog,"onUpdate:modelValue":t[27]||(t[27]=t=>e.confirmMergeDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ve,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(be,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(ve,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",U,(0,o.v_)(e.$t("merge_doc_warning")),1)])),_:1}),(0,a.bF)(fe,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(ge,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[Le]]),(0,a.bo)((0,a.bF)(ge,{label:e.$t("done"),onClick:t[26]||(t[26]=t=>e.mergeDocuments())},null,8,["label"]),[[Le]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(xe)],64)}var z=l(82303),H=l(1659),G=l(6044),Y=l(24622),J=l(46736),Z=l(66845),ee=l(45938),te=l(38734),le=l(68450),ae=l(46162),oe=l(96056),ie=l(89156),se=l(18505),ne=l(64233),re=l(24481),de=l(57366),ue=l(64775),ce=l(39231),pe=l(51476);const he=["data-index"],me={class:"table-body"},_e={class:"q-pt-md"},be=["data-index"],ve={class:"table-body"},ge=["onClick"],fe={class:"q-ml-auto",style:{display:"flex","justify-content":"right","padding-right":"16px"}},ye={style:{position:"relative",left:"60px"}},ke={class:"dashboard-status"},we={class:"q-ml-lg"},Ce={class:"q-ml-auto",style:{"padding-right":"16px"}},xe={class:"page-background"},Le=["src"],Fe={class:"q-px-sm"},Ee=["innerHTML"],Ae={class:"text-red-14"};function Se(e,t,l,s,n,r){const d=(0,a.g2)("f-btn"),u=(0,a.g2)("q-checkbox"),c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-icon"),h=(0,a.g2)("q-badge"),m=(0,a.g2)("q-btn"),_=(0,a.g2)("q-item-section"),b=(0,a.g2)("q-item"),v=(0,a.g2)("q-separator"),g=(0,a.g2)("q-list"),f=(0,a.g2)("q-menu");return(0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tableRows,((l,s)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l["id"]},[l.hasOwnProperty("count")?((0,a.uX)(),(0,a.CE)("tr",{key:0,"data-index":s},[(0,a.Lk)("td",me,[(0,a.Lk)("div",{class:"display-flex",style:(0,o.Tr)("padding-left:"+e.getLeftPadding(!1)+"px")},[(0,a.bF)(d,{appearance:"tertiary",onClick:t=>e.handleRowExpension(l,s),icon:l.is_expend?"remove":"add",class:"q-mr-sm"},null,8,["onClick","icon"]),(0,a.Lk)("span",_e,(0,o.v_)(l["label"])+" ("+(0,o.v_)(l.count)+")",1)],4)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns,((e,t)=>((0,a.uX)(),(0,a.CE)("td",{key:t})))),128))],8,he)):((0,a.uX)(),(0,a.CE)("tr",{key:1,class:(0,o.C4)(e.setRowStyle(l)),"data-index":s},[(0,a.Lk)("td",ve,[(0,a.Lk)("div",{class:"display-flex",style:(0,o.Tr)("padding-left:"+e.getLeftPadding(!0)+"px")},[(0,a.bF)(u,{dense:"",modelValue:l["rowSelection"],"onUpdate:modelValue":[e=>l["rowSelection"]=e,t=>e.checkRowExistance(l)]},null,8,["modelValue","onUpdate:modelValue"]),l["locked_by"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,name:"lock",style:{color:"#7a7a7a"},size:"22px",class:"mt-3 q-ml-sm"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("doc_lock")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)],4)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns,((t,i)=>((0,a.uX)(),(0,a.CE)("td",{key:i,onClick:a=>"status"===t.name&&"error"===l["status"]?e.getErrorInfosWrapper(l):e.rowClickWrapper(l),class:(0,o.C4)([e.getClassesForColumn(l["status"],t.name),"text-weight-regular documnetCol table-body"])},["pages"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("span",fe,(0,o.v_)(l[t.name]?l[t.name]:"-"),1),l[t.name]?((0,a.uX)(),(0,a.Wv)(c,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l[t.name]),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)):"priority"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("span",ye,(0,o.v_)(l[t.name]?l[t.name]:"-"),1),l[t.name]?((0,a.uX)(),(0,a.Wv)(c,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l[t.name]),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)):"status"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.Lk)("span",ke,[(0,a.bF)(h,{rounded:"",class:(0,o.C4)(e.getStatusClass(l["status"]))},null,8,["class"]),(0,a.Lk)("span",we,(0,o.v_)(e.getLabelTranslation(l["status"])),1)]),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelTranslation(l["status"])),1)])),_:2},1024),"error"===l["status"]?((0,a.uX)(),(0,a.Wv)(c,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)(" Click over status to see more details ")])),_:1})):(0,a.Q3)("",!0)],64)):"doc_type"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[(0,a.eW)((0,o.v_)(e.setDisplayDocType(l))+" ",1),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.setDisplayDocType(l)),1)])),_:2},1024)],64)):"total_amount"===t.name||"total_net_amount"===t.name||"net_amount"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[(0,a.Lk)("span",Ce,(0,o.v_)(l[t.name]),1),l[t.name]?((0,a.uX)(),(0,a.Wv)(c,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l[t.name]),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)):-1!=e.dashboarDateColumns.indexOf(t.name)?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[(0,a.eW)((0,o.v_)(e.formatDateAccordingToPreference(l[t.name]))+" ",1),l[t.name]?((0,a.uX)(),(0,a.Wv)(c,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.formatDateAccordingToPreference(l[t.name])),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:6},[(0,a.eW)((0,o.v_)(l[t.name]?l[t.name]:"-")+" ",1),l[t.name]?((0,a.uX)(),(0,a.Wv)(c,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l[t.name]),1)])),_:2},1024)):(0,a.Q3)("",!0)],64))],10,ge)))),128)),(0,a.Lk)("td",xe,[l.hasOwnProperty("po_match_status")&&!e.isMediUser()?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[l.hasOwnProperty("po_match_icon")?((0,a.uX)(),(0,a.Wv)(m,{key:0,round:"",flat:"",size:"10px",class:(0,o.C4)("po_not_matched"==l["po_match_icon"]?"cursor-not-allowed":""),style:{"pointer-events":"unset !important"},onClick:t=>{t.stopPropagation(),e.viewPurchaseOrderWrapper(l)}},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+l["po_match_icon"]+".svg",width:"20"},null,8,Le),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t(l["po_match_status"])),1)])),_:2},1024)])),_:2},1032,["class","onClick"])):((0,a.uX)(),(0,a.Wv)(m,{key:1,round:"",flat:"",size:"10px",ripple:!1,style:{cursor:"default"},class:"invisible"}))],64)):(0,a.Q3)("",!0),(0,a.Lk)("span",Fe,[(0,a.Lk)("img",{src:"images/document_quality.svg",class:(0,o.C4)(["black_to_white vertical-middle",""==e.renderquality(l)?"invisible":""])},null,2),l["quality"]?((0,a.uX)(),(0,a.Wv)(c,{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{class:"row",innerHTML:e.renderquality(l)},null,8,Ee)])),_:2},1024)):(0,a.Q3)("",!0)]),(0,a.bF)(m,{flat:"",dense:"",round:"",onClick:t[0]||(t[0]=(0,i.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz"},{default:(0,a.k6)((()=>[(0,a.bF)(f,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>["finished"!=l["status"]&&"workflow"!=l["status"]&&"running"!=l["status"]&&"restart_in_progress"!=l["status"]&&"error"!=l["status"]&&"pending_confirmation"!=l["status"]?((0,a.uX)(),(0,a.Wv)(b,{key:0,clickable:"",onClick:t=>e.rowClickWrapper(l)},{default:(0,a.k6)((()=>[(0,a.bF)(_,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:"img:images/pencil-white.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("validate")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isDocReassignAble(l)?((0,a.uX)(),(0,a.Wv)(b,{key:1,clickable:"",onClick:t=>e.openAssignmentDlgWrapper(l["id"])},{default:(0,a.k6)((()=>[(0,a.bF)(_,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:"img:images/assign to.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("assign2")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(b,{clickable:"",onClick:t=>e.toFlowScreenWrapper(l.id)},{default:(0,a.k6)((()=>[(0,a.bF)(_,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:"img:images/doc_flow.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("flow_screen")),1)])),_:1})])),_:2},1032,["onClick"]),(0,a.bF)(v,{inset:""}),e.isDocDownloadable(l)?((0,a.uX)(),(0,a.Wv)(b,{key:2,clickable:"",onClick:t=>e.downloadFile(l)},{default:(0,a.k6)((()=>[(0,a.bF)(_,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:"img:settings/import-white.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("download")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isdownloadZugferd(l)?((0,a.uX)(),(0,a.Wv)(b,{key:3,clickable:"",onClick:t=>e.downloadZugferd(l)},{default:(0,a.k6)((()=>[(0,a.bF)(_,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:"img:settings/import-white.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("download_zugferd")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isdownloadPeppol(l)?((0,a.uX)(),(0,a.Wv)(b,{key:4,clickable:"",onClick:t=>e.downloadPeppol(l)},{default:(0,a.k6)((()=>[(0,a.bF)(_,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:"img:settings/import-white.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("download_peppol")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isdownloadAnnotated(l)?((0,a.uX)(),(0,a.Wv)(b,{key:5,clickable:"",onClick:t=>e.downloadAnnotated(l)},{default:(0,a.k6)((()=>[(0,a.bF)(_,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:"img:settings/import-white.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("download_annotated")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.hasPreviewFile(l)?((0,a.uX)(),(0,a.Wv)(b,{key:6,clickable:"",onClick:t=>e.downloadPreviewFile(l)},{default:(0,a.k6)((()=>[(0,a.bF)(_,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:"img:settings/import-white.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("download_preview_files")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isExportAllowed(l["document_export_log"])?((0,a.uX)(),(0,a.Wv)(b,{key:7,clickable:"",onClick:t=>e.goToExportWrapper(l["document_export_log"])},{default:(0,a.k6)((()=>[(0,a.bF)(_,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:e.getExportIcon(l["document_export_log"]),size:"xs",class:"invert",style:{"font-size":"14px"}},null,8,["name"])])),_:2},1024),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("go_to_export")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isDocRestartable(l)?((0,a.uX)(),(0,a.Wv)(b,{key:8,clickable:"",onClick:t=>e.restartExportWrapper(l["id"])},{default:(0,a.k6)((()=>[(0,a.bF)(_,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:"img:images/refresh.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("restart")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isExportErrorRestart(l)?((0,a.uX)(),(0,a.Wv)(b,{key:9,clickable:"",onClick:t=>e.restartExportErrorWrapper(l["id"])},{default:(0,a.k6)((()=>[(0,a.bF)(_,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:"img:images/refresh.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("restart_export")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(v,{inset:""}),e.isDocDeleteable(l)?((0,a.uX)(),(0,a.Wv)(b,{key:10,clickable:"",onClick:t=>e.readyForDeleteWrapper(l["id"])},{default:(0,a.k6)((()=>[(0,a.bF)(_,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:"img:images/trash-bin-default-white.svg",size:"xs",class:"white-to-red",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",Ae,(0,o.v_)(e.$t("delete")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024),1==l["restart_allowed"]?((0,a.uX)(),(0,a.Wv)(p,{key:1,name:"priority_high",class:"headerError"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("document_restart_alert")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])],10,be)),l.is_expend&&l._children?((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.componentName),{key:2,parentIndexes:e.getParentIndexes(s),table_columns:e.table_columns,statusList:e.statusList,restartExportedInvoices:e.restartExportedInvoices,onCheckRowExistance:e.checkRowExistance,onRowClick:e.rowClick,onViewPurchaseOrder:e.viewPurchaseOrder,onOpenAssignmentDlg:e.openAssignmentDlg,onToFlowScreen:e.toFlowScreen,onDownloadFile:e.downloadFile,onDownloadZugferd:e.downloadZugferd,onDownloadPeppol:e.downloadPeppol,onDownloadAnnotated:e.downloadAnnotated,onDownloadPreviewFile:e.downloadPreviewFile,onGoToExport:e.goToExport,onRestartExport:e.restartExport,onRestartExportError:e.restartExportError,onReadyForDelete:e.readyForDelete,onSetErrorInfos:e.setErrorInfos,onLoadChildRowData:e.loadChildRowData,onSetLastVisitedParentsToCache:e.setLastVisitedParentsToCache},null,40,["parentIndexes","table_columns","statusList","restartExportedInvoices","onCheckRowExistance","onRowClick","onViewPurchaseOrder","onOpenAssignmentDlg","onToFlowScreen","onDownloadFile","onDownloadZugferd","onDownloadPeppol","onDownloadAnnotated","onDownloadPreviewFile","onGoToExport","onRestartExport","onRestartExportError","onReadyForDelete","onSetErrorInfos","onLoadChildRowData","onSetLastVisitedParentsToCache"])):(0,a.Q3)("",!0)],64)))),128)}var De=l(45022),Ie=l(85487),Te=l(83319),Oe=l(76956),Me=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Re=(0,a.pM)({name:"TableBody",mixins:[ne.A,re.A,oe.A,J.A],emits:["checkRowExistance","rowClick","viewPurchaseOrder","openAssignmentDlg","toFlowScreen","downloadFile","downloadZugferd","downloadPeppol","downloadAnnotated","downloadPreviewFile","goToExport","restartExport","restartExportError","readyForDelete","setErrorInfos","loadChildRowData","setLastVisitedParentsToCache"],props:{table_columns:{type:Array,default:()=>[]},statusList:{type:Array,default:()=>[]},parentIndexes:{type:String,default:""},restartExportedInvoices:{type:Boolean,default:!1}},data(){return{dashboarDateColumns:Oe.GK}},watch:{display_data:{deep:!0,handler:function(e,t){this.prepareTableRows()}}},mounted(){this.prepareTableRows()},methods:{getStatusClass(e){let t="";const l=this.statusList.hasOwnProperty(e);return t=l?this.statusList[e]["class"]:"bg-grey",t+=" dashboard-status-badge",t},prepareTableRows(){if(!this.parentIndexes)return void(this.tableRows=this.display_data);const e=this.getParentRows(this.parentIndexes.split(","));this.tableRows=e[e.length-1]._children},setRowStyle(e){if(e.hasOwnProperty("export_data_fetched")&&!0===e["export_data_fetched"])return"exported-row"},getLeftPadding(e){let t=0;return this.parentIndexes?(t=10*this.parentIndexes.split(",").length,t+=10,e&&(t+=30),t):t},getErrorInfosWrapper(e){this.setLastVisitedParentsToCache(this.parentIndexes),this.getErrorInfos(e)},getErrorInfos(e){return Me(this,void 0,void 0,(function*(){let t=!1,l={};if("error"!==e["status"])return;let a=yield(0,ae.L3)();const o=yield z.A.get((0,Ie.MV)(ae.FH.get_error_infos),{headers:{Authorization:a},params:{doc_id:e["id"]}});return o["data"]["row"]=e,1===Object.keys(o).length?l={message:"None"}:(l=o["data"],t=!0),this.setErrorInfos(t,l),t}))},getClassesForColumn(e,t){let l="",a="running"===e?"enableDrawingRectangle":"cursor-pointer";return a+="filename"===t?" text-primary ":"",a+=t.includes("amount")?" text-right ":"",a+" "+l},setDisplayDocType(e){const t=this.getDocTypeForDisplay(e),l=this.displayDocType(t);return String(l)},renderquality(e){if(!this.user_settings["OCR_PERCENTAGE"]||!this.user_settings["OCR_PERCENTAGE"])return;let t="";if(e.hasOwnProperty("quality")){let l=this.$t("overall");const a=e["quality"];parseInt(e["quality"])<parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=l+' : <FONT COLOR="#AA0500">'+e["quality"]+"</FONT COLOR>"),parseInt(a)==parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=l+' : <FONT COLOR="#ffff00">'+e["quality"]+"</FONT COLOR>"),parseInt(a)>parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=l+' : <FONT COLOR="#00ff00">'+e["quality"]+"</FONT COLOR>")}return t},isDocReassignAble(e){const t=ee.tH.hasAccess("update",e),l=String(e["status"]);return t&&"finished"!=l&&"workflow"!=l&&"running"!=l&&"restart_in_progress"!=l},isdownloadZugferd(e){let t=!1;return this.isDocDownloadable(e)?(Oe.B2.includes(e["status"])&&1==(0,Oe.UJ)(e["doc_type"])&&1==e["has_zugferd"]&&(t=!0),t):t},isdownloadPeppol(e){let t=!1;return this.isDocDownloadable(e)?(Oe.B2.includes(e["status"])&&1==(0,Oe.UJ)(e["doc_type"])&&1==e["has_peppol"]&&(t=!0),t):t},isdownloadAnnotated(e){let t=!1;return this.isDocDownloadable(e)?(1==e["has_annotated_version"]&&(t=!0),t):t},isDocDownloadable(e){const t=ee.tH.hasAccess("view",e),l=String(e["status"]);return t&&"running"!=l&&"restart_in_progress"!=l},hasPreviewFile(e){return!(!e.hasOwnProperty("preview_file_path")||!e["preview_file_path"])},isExportAllowed(e){let t=this.getExportRecord(e);return!(!t||0===Object.keys(t).length)},getExportRecord(e){if(!e)return{};let t=De.A.getItem("login_source");if(!De.A.has("login_source")||null===t)return{};t=t.toLowerCase(),"infor"==t&&(t="idm");let l={};for(const a of e)if(t===a.export_application.toLowerCase()&&a.document_url){l=a;break}return l},getExportIcon(e){let t=this.getExportRecord(e);if(!t||0===Object.keys(t).length)return;let l="";return"FLOW2"==t.export_application&&(l="images/flow2_icon.svg"),"IDM"==t.export_application&&(l="images/idm_icon.svg"),"ZUGFERD"==t.export_application&&(l="images/zugferd-icon.svg"),"PEPPOL"==t.export_application&&(l="images/peppol-icon.svg"),l},isDocRestartable(e){const t=ee.tH.hasAccess("update",e);if(!t)return!1;const l=String(e["status"]),a=Boolean(e["restart_allowed"]);return!!this.restartExportedInvoices||("ready_for_validation"===l||"error"===l||"export_error"===l||1==a)},isDocDeleteable(e){const t=ee.tH.hasAccess("delete",e),l=String(e["status"]);return t&&"finished"!=l&&"workflow"!=l&&"running"!=l&&"restart_in_progress"!=l},isExportErrorRestart(e){const t=ee.tH.hasAccess("update",e);if(!t)return!1;const l=String(e["status"]),a=Boolean(e["restart_allowed"]);return!!this.restartExportedInvoices||("export_error"===l||1==a)},handleRowExpension(e,t){if(!e.is_expend&&!e.hasOwnProperty("_children")){const e=this.getParentIndexes(t);this.loadChildRowData(e)}e.is_expend=!e.is_expend},loadChildRowData(e){this.$emit("loadChildRowData",e)},rowClickWrapper(e){this.setLastVisitedParentsToCache(this.parentIndexes),this.rowClick(e)},rowClick(e){this.$emit("rowClick",e)},checkRowExistance(e){this.$emit("checkRowExistance",e)},viewPurchaseOrderWrapper(e){this.setLastVisitedParentsToCache(this.parentIndexes),this.viewPurchaseOrder(e)},viewPurchaseOrder(e){this.$emit("viewPurchaseOrder",e)},openAssignmentDlgWrapper(e){this.setLastVisitedParentsToCache(this.parentIndexes),this.openAssignmentDlg(e)},openAssignmentDlg(e){this.$emit("openAssignmentDlg",e)},toFlowScreenWrapper(e){this.setLastVisitedParentsToCache(this.parentIndexes),this.toFlowScreen(e)},toFlowScreen(e){this.$emit("toFlowScreen",e)},downloadFile(e){this.$emit("downloadFile",e)},downloadZugferd(e){this.$emit("downloadZugferd",e)},downloadPeppol(e){this.$emit("downloadPeppol",e)},downloadAnnotated(e){this.$emit("downloadAnnotated",e)},downloadPreviewFile(e){this.$emit("downloadPreviewFile",e)},goToExportWrapper(e){this.setLastVisitedParentsToCache(this.parentIndexes),this.goToExport(e)},goToExport(e){this.$emit("goToExport",e)},restartExportWrapper(e){this.setLastVisitedParentsToCache(this.parentIndexes),this.restartExport(e)},restartExport(e){this.$emit("restartExport",e)},restartExportErrorWrapper(e){this.setLastVisitedParentsToCache(this.parentIndexes),this.restartExportError(e)},restartExportError(e){this.$emit("restartExportError",e)},readyForDeleteWrapper(e){this.setLastVisitedParentsToCache(this.parentIndexes),this.readyForDelete(e)},readyForDelete(e){this.$emit("readyForDelete",e)},setErrorInfos(e,t){this.$emit("setErrorInfos",e,t)},getParentIndexes(e){return this.parentIndexes?this.parentIndexes+","+e:e.toString()},setLastVisitedParentsToCache(e){this.$emit("setLastVisitedParentsToCache",e)}},setup(){const e="TableBody",t=(0,Te.kH)(),{isMediUser:l}=t,a=(0,Te.fX)(),{display_data:o}=(0,H.bP)(a),{getParentRows:i}=a,s=(0,Te.Bu)(),{user_settings:n}=(0,H.bP)(s);return{isMediUser:l,display_data:o,user_settings:n,tableRows:(0,te.KR)([]),getParentRows:i,componentName:e}}});var Pe=l(12807),qe=l(80460),Ve=l(50492),Ne=l(97410),Be=l(23954),$e=l(56384),Qe=l(84436),Xe=l(53999),We=l(90124),Ke=l(25173),Ue=l(10386),je=l(98582),ze=l.n(je);const He=(0,Pe.A)(Re,[["render",Se]]),Ge=He;ze()(Re,"components",{QCheckbox:qe.A,QIcon:Ve.A,QTooltip:Ne.A,QBadge:Be.A,QBtn:$e.A,QMenu:Qe.A,QList:Xe.A,QItem:We.A,QItemSection:Ke.A,QSeparator:Ue.A});var Ye=l(25891),Je=l(94891),Ze=l(73937),et=l(44415),tt=l(28545),lt=l(11470),at=l(84364),ot=l(77362),it=l(41903),st=l(53500),nt=l(62488),rt=l(61168),dt=l(90954),ut=l(10739),ct=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const pt=(0,a.pM)({el:"#app",mixins:[G.A,Y.A,J.A,oe.A,se.A,re.A,ne.A,de.A,Ye.A,ut.A],components:{draggable:ce.H,SupplierApprovalStatus:dt.A,PaginationSettings:rt.A,DashboardHeader:et.A,DocAssignment:tt.A,ColumnOrderBy:at.A,MobileGrid:Je.A,TableBody:Ge,SubHeader:ot.A,Loader:ie.A},data(){return{all_invoice_data:[],InvoicesClearInterval:0,po_module_activate:!1,debounceSearchInputFunc:{},confirmMergeDialog:!1,filters_reset_after_restart_setting:Oe.at,groupedColumns:(0,te.KR)([]),isGroupingMode:(0,te.KR)(!1),group_key:(0,te.KR)(Oe.aH.group_key),availableGroupingColumns:(0,te.KR)([]),date_fields:["created_on","last_modified_on","invoice_date","delivery_date","order_date"]}},beforeRouteLeave:function(e,t,l){this.intervalManager(!1),this.unsubscribeToChannel("dashboard"),this.unsubscribeToChannel("pending_docs"),l()},mounted(){return ct(this,void 0,void 0,(function*(){try{yield this.startSettingsFetch(),this.initSettings(),yield this.getProfile(),this.getUserDetailByKey(),this.processing=!0,yield this.getSavedColumns(),this.handleTableColumns(!1),this.prepareStatusList(),yield this.getOrderBy(),this.po_module_activate=!0,this.getSavedFilters(),this.initGroups(),this.loadData(),this.clearSelectedSessionStorage(),this.intervalManager(!0),this.subscribeToDashboardChannel(),this.getDocTypeSettings(),this.$route.params.force_restart&&"force_restart"===this.$route.params.force_restart&&(this.restartExportedInvoices=!0),this.headerCheckbox=!1,document.addEventListener("reset_pages",this.resetPages),document.addEventListener("reset_filters",this.resetFilters),document.addEventListener("on_row_click",this.rowClickEvent),document.addEventListener("apply_filters",this.applyFilterEvent),document.addEventListener("assignment_success",this.assignmentSuccess),document.addEventListener("dashboard_refresh_data",this.refreshFilters),this.initailizeDragColumnsById("dashboard"),document.addEventListener("dashboard-column-drop",(e=>{this.saveSortedColumns(e.detail)})),this.debounceSearchInputFunc=(0,st.A)((()=>{this.applyFilter()}),1e3)}catch(e){logError(e)}finally{this.processing=!1}window.dash=this}))},unmounted:function(){document.removeEventListener("keydown",this.keyDownEvent),document.removeEventListener("reset_filters",this.resetFilters),document.removeEventListener("apply_filters",this.applyFilterEvent),document.removeEventListener("assignment_success",this.assignmentSuccess),document.removeEventListener("dashboard_refresh_data",this.refreshFilters),document.removeEventListener("dashboard-column-drop",(e=>{this.saveSortedColumns(e.detail)}))},watch:{headerCheckbox(){!1===this.headerCheckbox&&(this.headerFabIcon=!1,this.isMultiDeleteButtonDisabled=!1,this.isMultiRestartButtonDisabled=!1)},processing:{handler:function(e,t){1==e?this.showLoading():this.hideLoading()}},isConnected:{handler:function(e,t){this.use_websocket=!0,this.subscribeToDashboardChannel()}},websocketHasError:{handler:function(e,t){1==e&&(this.use_websocket=!1,this.handleWebsocketDelay())}},dashboard_data_flag:{handler:function(e,t){0!=e&&(this.data_status="received",this.handleWebSocketResult(this.dashboard_data))}}},methods:{saveSortedColumns(e){let t=JSON.parse(JSON.stringify(e)),l={};t.forEach(((e,t)=>{l[e.name]={name:e.name,label:e.label,order:t,sortable:e.sortable,selected:!1,translation_key:e.translation_key},e.doc_type_key&&(l[e.name].doc_type_key=e.doc_type_key)})),this.visible_columns=l,this.saveColumns(this.visible_columns)},getUserDetailByKey(){let e=(0,Ze.Ky)("organisations"),t=e[0];t&&("pending_ap_approval"===t.status?this.supplier_approval_status="pending_approval":this.supplier_approval_status=t.status,this.supplier_lookup_record_id=t.supplier_lookup_record_id?t.supplier_lookup_record_id:"supplier_lookup_record_id",this.supplier_as_org_id=t.supplier_as_org_id?t.supplier_as_org_id:"supplier_as_org_id")},initSettings(){this.user_settings[Oe.Ow]&&(this.isGroupingMode=!0)},initGroups(){this.group_key=(0,pe.un)(this.group_key);const e=De.A.getItem(this.group_key);e&&(this.groupedColumns=JSON.parse(e))},applyFilterEvent(e){e&&e.detail&&!0===e.detail.reset_pagination&&(this.resetPagination=!0),this.applyFilter()},dashboardColumnsEvent(){this.dashboardColumnsUpdated()},dashboardColumnsUpdated(){return ct(this,void 0,void 0,(function*(){this.handleTableColumns(),yield this.applySavedFilters(),this.fetchInvoices(!0)}))},handleTableColumns(e=!0){try{this.processing=!0;const e=this.visible_columns;this.table_columns=[];for(const t in this.visible_columns)e[t].selected=!1,this.filtered_columns.includes(e[t].name)||(e[t].label=this.getColumnLabel(e[t]),this.table_columns.push(e[t]));this.table_columns.sort(((e,t)=>e.order-t.order))}catch(t){logError(t)}finally{e&&(this.processing=!1)}},intervalManager(e){clearInterval(this.InvoicesClearInterval)},applySavedFilters(){return ct(this,void 0,void 0,(function*(){this.pageSize=Number(this.pagination_size),this.queryParams="?&skip="+this.startfrom+"&limit="+this.pageSize,this.queryParams+=(yield this.makeQueryParamFromFilters(!1)),this.resetPagination=!1}))},handleActions(e){return this.display_data.forEach(((t,l)=>{l!==e&&(t["fabAction"]=!1)})),!0},prepareStatusList(){this.statusList["new"]=[],this.statusList["new"]["value"]="new",this.statusList["new"]["class"]="bg-light-green-6",this.statusList["ready_for_review"]=[],this.statusList["ready_for_review"]["value"]="ready_for_review",this.statusList["ready_for_review"]["class"]="bg-amber-7",this.statusList["ready_for_validation"]=[],this.statusList["ready_for_validation"]["value"]="ready_for_validation",this.statusList["ready_for_validation"]["class"]="bg-amber-7",this.statusList["validating"]=[],this.statusList["validating"]["value"]="ready_for_validation",this.statusList["validating"]["class"]="bg-amber-7",this.statusList["validated_pending_export"]=[],this.statusList["validated_pending_export"]["value"]="validated_pending_export",this.statusList["validated_pending_export"]["class"]="bg-amber-7",this.statusList["pending_confirmation"]=[],this.statusList["pending_confirmation"]["value"]="pending_confirmation",this.statusList["pending_confirmation"]["class"]="bg-amber-7",this.statusList["finished"]=[],this.statusList["finished"]["value"]="finished",this.statusList["finished"]["class"]="bg-light-green-6",this.statusList["workflow"]=[],this.statusList["workflow"]["value"]="workflow",this.statusList["workflow"]["class"]="bg-light-green-6",this.statusList["completed"]=[],this.statusList["completed"]["value"]="completed",this.statusList["completed"]["class"]="bg-light-green-6",this.statusList["restarted"]=[],this.statusList["restarted"]["value"]="restarted",this.statusList["restarted"]["class"]="bg-blue-14",this.statusList["error"]=[],this.statusList["error"]["value"]="error",this.statusList["error"]["class"]="bg-red-13",this.statusList["export_error"]=[],this.statusList["export_error"]["value"]="error",this.statusList["export_error"]["class"]="bg-red-13",this.statusList["restart_export"]=[],this.statusList["restart_export"]["value"]="restart_export",this.statusList["restart_export"]["class"]="bg-blue-14",this.statusList["running"]=[],this.statusList["running"]["value"]="running",this.statusList["running"]["class"]="bg-blue-14",this.statusList["in_progress"]=[],this.statusList["in_progress"]["value"]="in_progress",this.statusList["in_progress"]["class"]="bg-blue-14",this.statusList["restart_in_progress"]=[],this.statusList["restart_in_progress"]["value"]="restart_in_progress",this.statusList["restart_in_progress"]["class"]="bg-blue-14",this.statusList["exporting"]=[],this.statusList["exporting"]["value"]="exporting",this.statusList["exporting"]["class"]="bg-blue-14"},resetPages(){this.resetPagination=!0},applyFilter(){return ct(this,void 0,void 0,(function*(){this.processing=!0,this.resetAllSelectedRows(),1==this.resetPagination&&(this.startfrom=0,this.paginationCount=1),this.resetPagination=!0,this.queryParams+=(yield this.makeQueryParamFromFilters()),""==this.queryParams&&this.removeSavedFilters(),this.queryParams="?&skip="+this.startfrom+"&limit="+this.pageSize,this.fetchInvoices(!0)}))},refreshFilters(e){let t=!1,l=!1;e&&e.detail&&e.detail.show_shimmer_loader&&(t=!0),e&&e.detail&&e.detail.refresh_cache&&(l=!0),this.all_invoice_data=[],this.display_data=[],this.selectionList=[],this.headerCheckbox=!1,this.fetchInvoices(!0,t,l)},fetchInvoices(e,t=!0,l=!1){return ct(this,void 0,void 0,(function*(){if(yield this.applySavedFilters(),this.isGroupingMode)return e&&(this.processing=!0),yield this.fetchInvoicesWithGrouping(e,t,l),void(this.processing=!1);yield this.fetchInvoicesWithoutGrouping(e,t,l)}))},fetchInvoicesWithGrouping(e,t=!0,l=!1){return ct(this,void 0,void 0,(function*(){const e=De.A.getItem(Oe.aH.group_parent_indexes),t=De.A.getItem(Oe.aH.group_parent_raw_where);if(e&&t)return yield this.fetchOpendGroupsData(e,t),De.A.remove(Oe.aH.group_parent_indexes),void De.A.remove(Oe.aH.group_parent_raw_where);let l=yield this.fetchGroupData([]);if(!1===l.success)throw this.showErrorToast(this.$t("pages.messages.error_internal_occur")),this.processing=!1,{message:l.message};this.updateDocumentStats(l),this.updateTableData(l)}))},fetchOpendGroupsData(e,t){return ct(this,void 0,void 0,(function*(){try{let l=yield this.prepareGroupingQueryParams(JSON.parse(t)),a=yield lt.z6.fetchOpendGroupsData(l);this.prepareOpenGroupData(a,e)}catch(l){this.showErrorToast(this.$t("pages.messages.ERROR_FETCHING_INVOICES")),logError(l.message)}}))},prepareGroupingQueryParams(e){return ct(this,void 0,void 0,(function*(){let t=[],l=this.getGroupBy(0);if(0!==(0,le.Ns)(l)){const e=[],t={};t[l.name]=l.hasOwnProperty("group_by_type")?l.group_by_type:"",e.push(t),this.queryParams+="&group_by="+JSON.stringify(e)}t.push(this.queryParams);let a=[];for(let o of e){a.push(o),yield this.applySavedFilters(),a.length>0&&(this.queryParams+="&raw_where="+JSON.stringify(a));let e=this.getGroupBy(a.length);if(0!==(0,le.Ns)(e)){const t=[],l={};l[e.name]=e.hasOwnProperty("group_by_type")?e.group_by_type:"",t.push(l),this.queryParams+="&group_by="+JSON.stringify(t)}t.push(this.queryParams)}return t}))},prepareOpenGroupData(e,t){this.updateTableData(e[0].data),e.shift();let l=0,a=[];const o=t.split(",");for(let i of e){const e=this.prepareGroupingData(i.data.documents);this.applyCustomFormatOnRows(e),a.push(o[l]),l++;const t=this.getParentRows(a);t[t.length-1]["_children"]=e}this.markGroupAsOpend(a,this.display_data)},markGroupAsOpend(e,t){if(!e||0==e.length)return;const l=Number(e[0]);e.shift();const a=t[l];a.is_expend=!0,this.markGroupAsOpend(e,a._children)},fetchInvoicesWithoutGrouping(e,t=!0,l=!1){return ct(this,void 0,void 0,(function*(){try{if(e&&(this.processing=!0),t&&(this.display_data=[],this.selectionList=[],this.headerCheckbox=!1,this.show_table_loader=!0),this.use_websocket)return void this.terminateLongRunningTask(this.getWebSocketDashboard(),5e3);{let e=yield lt.z6.getList(this.queryParams);this.updateDocumentStats(e),this.updateTableData(e),this.processing=!1,setTimeout(this.turnOnWebSocket,5e3)}}catch(l){this.showErrorToast(this.$t("pages.messages.ERROR_FETCHING_INVOICES")),logError(l.message),this.processing=!1}}))},handleWebsocketDelay(){"received"!==this.data_status&&(logInfo("turning off websocket and switching to https",this.data_status),this.use_websocket=!1,this.fetchInvoices(!1),this.processing=!1,setTimeout(this.turnOnWebSocket,5e3))},turnOnWebSocket(){this.websocketHasError||(this.use_websocket=!0)},terminateLongRunningTask(e,t){return new Promise(((l,a)=>{const o=setTimeout((()=>{a(new Error("Operation timed out")),this.handleWebsocketDelay()}),t);e.then((e=>{clearTimeout(o),l(e)})).catch((e=>{clearTimeout(o),a(e),this.handleWebsocketDelay()}))}))},updateTableData(e){this.resultsCount=e.overview["results-count"],this.current_invoice_count=this.resultsCount;let t=this.resultsCount/this.pageSize;this.skip=Math.ceil(t);let l=[];e.documents&&(l=e.documents),this.groupedColumns&&this.groupedColumns.length>0&&(l=this.prepareGroupingData(l)),this.availableGroupingColumns=e.available_grouping_columns,this.display_data=l,this.applyCustomFormatOnRows(this.display_data),this.show_table_loader=!1,this.processing=!1},prepareGroupingData(e){if(e&&e.length>0&&e[0].hasOwnProperty("count")){const t=this.getFirstItemColumnName(JSON.parse(JSON.stringify(e[0])));for(let l of e)l.column_name=t,l.is_expend=!1,"status"==t?l["label"]=this.getLabelTranslation(l[t]):"doc_type"==t?l["label"]=this.displayDocType(l[t]):Oe.GK.includes(t)?l["label"]=this.formatDateAccordingToPreference(l[t],!0):l["label"]=l[t]}return e},getFirstItemColumnName(e){return delete e.count,delete e.id,Object.keys(e)[0]},getDocTypeLabel(e){const t=this.getDocTypeForDisplay(e),l=this.displayDocType(t);return String(l)},updateDocumentStats(e){this.all_invoices=e.overview["all-invoices"],this.automatically_processed=e.overview["automatically-processed"],this.manually_processed=e.overview["manually-processed"],this.completed=e.overview["completed"],this.in_progress=e.overview["processing"],this.pending=e.overview["pending-user-input"],this.validated_pending_approval=e.overview["validated-pending-approval"],this.approved_pending_second_approval=e.overview["approved-pending-second-approval"],this.error=e.overview["error"]},applyCustomFormatOnRows(e){e.forEach((e=>{if(e["fabAction"]=!1,e["rowSelection"]=!1,e.hasOwnProperty("po_match_status")&&!(0,le.z)(e["po_match_status"])){const t=(0,nt.Wp)(e["po_match_status"]);(0,le.z)(t)||(e["po_match_icon"]=t)}}))},toRejectedScreen(e){this.$router.push("/rejected/"+e)},toFlowScreen(e){this.$router.push("/doc_flow/"+e)},toValidationScreen(e){it.A.set("view_mod","edit"),this.$router.push("/field_validation_v1/"+e)},toInReviewScreen(e,t){this.$router.push("/in_review/"+e)},toPendingApprovalScreen(e,t){t.layout?this.model[Oe.WE]?this.$router.push("/ready_for_approval_v3/"+e):this.$router.push("/ready-for-approval-v2/"+e):(it.A.set("view_mod","edit"),this.$router.push("/ready-for-approval/"+e))},toPendingSecondApprovalScreen(e,t){t.layout?this.$router.push("/ready-for-second-approval-v2/"+e):(it.A.set("view_mod","edit"),this.$router.push("/ready-for-second-approval/"+e))},toMediValidationScreen(e){this.$router.push("/field_validation/"+e)},toMediValidationV3Screen(e){this.$router.push("/medi_order_v3/"+e)},toDocumentErrorView(e){this.$router.push("/document_error/"+e["id"])},toDocumentClassifiyView(e){this.$router.push("/document_classifiy/"+e["id"])},toDocumentPdfView(e){this.$router.push("/document_pdf/"+e["filename"]+"/"+e["id"])},loadData(){this.resetPagination=!1,this.pageSize=Number(this.pagination_size),this.startfrom=this.pageSize*(this.paginationCount-1),this.applyFilter()},triggerWorkflow(e){return ct(this,void 0,void 0,(function*(){try{yield lt.Bj.triggerWorkflow(e)}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}}))},deleteRecord(e){return ct(this,void 0,void 0,(function*(){let t;this.processing=!0;try{let l=yield(0,ae.L3)();t=yield z.A.delete((0,Ie.MV)(ae.FH.delete_document+e),{headers:{Authorization:l}}),yield this.fetchInvoices(!0),this.deleteInvoice=!1}catch(l){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(l)}finally{this.processing=!1}}))},viewRecord(e){it.A.set("view_mod","view"),this.$router.push("/field_validation_v1/"+e)},restartExportError(e){return ct(this,void 0,void 0,(function*(){this.processing=!0;try{const t=yield lt.z6.restartExport(e);if(!1===t.success)throw{message:t.message};this.resetFilters()}catch(t){const e=ue.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.processing=!1}}))},restartExport(e){return ct(this,void 0,void 0,(function*(){let t;this.processing=!0;try{let l=yield(0,ae.L3)();t=yield z.A.get((0,Ie.MV)(ae.FH.restart_document+e),{headers:{Authorization:l}}),this.refreshDashboard(this.filters_reset_after_restart_setting)}catch(l){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(l)}finally{this.processing=!1}this.QualityConfirm=!1}))},isStatusError(e){return"error"===e||"export_error"===e},rowClickEvent(e){const t=e.detail;this.rowClick(t)},rowClick(e){let t=e["id"]?e["id"]:e["doc_id"];e["id"]=t;let l=e["status"];e["doc_type"];this.isStatusError(l)?this.toDocumentErrorView(e):"classified"!==l?"validating"!==l&&"validated_pending_export"!==l&&"pending_watcher_export"!==l&&("pending_confirmation"!==l?"validated_pending_approval"!==l?"approved_pending_second_approval"!==l?"in_review"!==l?this.isMediUser()?this.handleMediRoutes(e):"rejected"!==l?Oe.Yd.includes(l)&&(e.layout||"ready_for_validation"===l?this.toValidationScreen(t):Oe.B2.includes(l)&&this.viewRecord(t)):this.toRejectedScreen(t):this.toInReviewScreen(t,e):this.toPendingSecondApprovalScreen(t,e):this.toPendingApprovalScreen(t,e):this.getQualityInfos(e)):this.toDocumentClassifiyView(e)},handleMediRoutes(e){e.layout?this.toMediValidationV3Screen(e["id"]):this.showErrorToast(this.$t("pages.messages.NO_LAYOUT_DEFINATION_FOUND"))},getClassesForColumn(e,t){let l="",a="running"===e?"enableDrawingRectangle":"cursor-pointer";return a+="filename"===t?" text-primary ":"",a+=t.includes("amount")?" text-right ":"","status"===t&&this.statusList.hasOwnProperty(e)&&(l=e?this.statusList[e].class:""),a+" "+l},openAssignmentDlg(e){this.assignment_doc_ids=[],this.assignment_doc_ids.push(e),this.assigneDialog=!0},isExportAllowed(e){let t=this.getExportRecord(e);return!(!t||0===Object.keys(t).length)},goToExport(e){let t=this.getExportRecord(e);t&&0!==Object.keys(t).length&&window.open(t.document_url)},getExportIcon(e){let t=this.getExportRecord(e);if(!t||0===Object.keys(t).length)return;let l="";return"FLOW2"==t.export_application&&(l="images/flow2_icon.svg"),"IDM"==t.export_application&&(l="images/idm_icon.svg"),"ZUGFERD"==t.export_application&&(l="images/zugferd-icon.svg"),"PEPPOL"==t.export_application&&(l="images/peppol-icon.svg"),l},getExportRecord(e){if(!e)return{};let t=De.A.getItem("login_source");if(!De.A.has("login_source")||null===t)return{};t=t.toLowerCase(),"infor"==t&&(t="idm");let l={};for(const a of e)if(t===a.export_application.toLowerCase()&&a.document_url){l=a;break}return l},viewPurchaseOrder(e){"po_not_matched"==e["po_match_icon"]&&null===e["table_version"]||(this.user_settings[Oe.aH.po_auto_match_and_export]&&(this.execute_auto_export=!0),"v1"===e["table_version"]&&this.$router.push("/po-matching/"+e["id"]),"v3"===e["table_version"]&&this.$router.push("/po-matching-v3/"+e["id"]))},downloadFile(e){try{if(!e["doc_path"])return;let t=ae.VA+"/resource/"+e["doc_path"]+"?"+this.tokenQueryParam;if(!t)return;fetch(t).then((e=>e.blob())).then((t=>{const l=URL.createObjectURL(t),a=document.createElement("a");a.href=l,a.download=e["filename"],document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l)})).catch((e=>{logError("Error downloading file:",e)}))}catch(t){logError(t)}},resetFilters(){this.resetPagination=!0,this.quickFilterMap.clear(),this.applyFilter()},isdownloadZugferd(e){let t=!1;return this.isDocDownloadable(e)?(Oe.B2.includes(e["status"])&&1==(0,Oe.UJ)(e["doc_type"])&&1==e["has_zugferd"]&&(t=!0),t):t},downloadZugferd(e){let t=ae.VA+"/resource/document/"+e["id"]+"/"+e["id"]+"_zugferd.pdf?"+this.tokenQueryParam;if(t){var l=document.createElement("a");l.download=e["filename"],l.href=t,document.body.appendChild(l),l.click(),document.body.removeChild(l)}},isdownloadPeppol(e){let t=!1;return this.isDocDownloadable(e)?(Oe.B2.includes(e["status"])&&1==(0,Oe.UJ)(e["doc_type"])&&1==e["has_peppol"]&&(t=!0),t):t},downloadPeppol(e){let t=ae.VA+"/resource/document/"+e["id"]+"/"+e["id"]+"_peppol.xml?"+this.tokenQueryParam;if(t){var l=document.createElement("a");l.download=e["filename"],l.href=t,document.body.appendChild(l),l.click(),document.body.removeChild(l)}},isdownloadAnnotated(e){let t=!1;return this.isDocDownloadable(e)?(1==e["has_annotated_version"]&&(t=!0),t):t},downloadAnnotated(e){let t=ae.VA+"/resource/document/"+e["id"]+"/"+e["id"]+"_annotated.pdf?"+this.tokenQueryParam;t&&fetch(t).then((e=>e.blob())).then((t=>{const l=URL.createObjectURL(t),a=document.createElement("a");a.href=l,a.download=e["filename"],document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l)})).catch((e=>{logError("Error downloading file:",e)}))},getErrorInfos(e){return ct(this,void 0,void 0,(function*(){if("error"!==e["status"])return;let t=yield(0,ae.L3)();const l=yield z.A.get((0,Ie.MV)(ae.FH.get_error_infos),{headers:{Authorization:t},params:{doc_id:e["id"]}});return l["data"]["row"]=e,1===Object.keys(l).length?(this.ErrorText={message:"None"},logInfo(this.ErrorText),!1):(this.ErrorText=l["data"],this.ErrorInfos=!0,!0)}))},getQualityInfos(e){return ct(this,void 0,void 0,(function*(){if("pending_confirmation"==e["status"]){let t=yield(0,ae.L3)();const l=yield z.A.get((0,Ie.MV)(ae.FH.get_error_infos),{headers:{Authorization:t},params:{doc_id:e["id"]}});return l["data"]["row"]=e,1===Object.keys(l).length?(this.QualityText={message:"None"},!1):(this.QualityText=l["data"],this.QualityConfirm=!0,this.docrowID=l["data"]["row"]["id"],!0)}}))},allowDrop(e){e.preventDefault()},drop(e){e.preventDefault(),e.dataTransfer.files&&0!=e.dataTransfer.files.length&&this.uploadFiles(e.dataTransfer.files)},dragLeave(e){},uploadFiles(e){try{if(e&&e.length>10)return void this.showErrorToast(this.$t("pages.messages.MAX_DOC_UPLOAD_LIMIT"));const t=new CustomEvent("upload_files",{detail:{files:e}});document.dispatchEvent(t)}catch(t){logError(t)}},changeAction(){!0===this.headerCheckbox?this.selectAllRows():this.resetAllSelectedRows()},selectAllRows(){this.isMultiDeleteButtonDisabled=!1,this.isMultiRestartButtonDisabled=!1,this.selectAllItems(this.display_data)},selectAllItems(e){for(let t of e){if(t.hasOwnProperty("_children")&&t._children.length>0){this.selectAllItems(t._children);continue}if(!t.hasOwnProperty("rowSelection"))continue;t["rowSelection"]=!0;const e=this.selectionList.find((e=>e===t.id));e||this.selectionList.push(t.id),!1===this.isMultiDeleteButtonDisabled&&(this.isMultiDeleteButtonDisabled=!this.isDocDeleteable(t)),!1===this.isMultiRestartButtonDisabled&&(this.isMultiRestartButtonDisabled=!this.isDocRestartable(t))}},resetAllSelectedRows(){this.selectionList=[],this.headerCheckbox=!1,this.isMultiDeleteButtonDisabled=!1,this.isMultiRestartButtonDisabled=!1,this.resetAllItems(this.display_data)},resetAllItems(e){for(let t of e)t.hasOwnProperty("_children")&&t._children.length>0?this.resetAllItems(t._children):t["rowSelection"]=!1},checkRowExistance(e){if(e.rowSelection)this.selectionList.push(e.id),!1===this.isMultiDeleteButtonDisabled&&(this.isMultiDeleteButtonDisabled=!this.isDocDeleteable(e)),!1===this.isMultiRestartButtonDisabled&&(this.isMultiRestartButtonDisabled=!this.isDocRestartable(e));else{const t=this.selectionList.indexOf(e.id);-1!==t&&this.selectionList.splice(t,1),this.selectionList.forEach((e=>{const t=this.findItemById(e,this.display_data);!1===this.isMultiDeleteButtonDisabled&&(this.isMultiDeleteButtonDisabled=!this.isDocDeleteable(t)),!1===this.isMultiRestartButtonDisabled&&(this.isMultiRestartButtonDisabled=!this.isDocRestartable(t))}))}},findItemById(e,t){for(let l of t){if(l.hasOwnProperty("_children")&&l._children.length>0)return this.findItemById(e,l._children);if(l.id==e)return l}},setRowStyle(e){if(e.hasOwnProperty("export_data_fetched")&&!0===e["export_data_fetched"])return"exported-row"},readyForDelete(e){this.recordId=e,this.deleteInvoice=!0},setErrorInfos(e,t){this.ErrorText=t,this.ErrorInfos=e},restartMultipalDocExport(){return ct(this,void 0,void 0,(function*(){try{this.processing=!0;const e=yield lt.z6.restartDocuments(this.selectionList.join(","),this.restartExportedInvoices);if(!1===e.success)return void this.showErrorToast(e.data.message);this.headerCheckbox=!1,this.resetAllSelectedRows(),this.refreshDashboard(this.filters_reset_after_restart_setting)}catch(e){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e)}finally{this.processing=!1}}))},refreshDashboard(e){return ct(this,void 0,void 0,(function*(){const t=yield this.getSettingWithExpiry(e);if(t){const e=new CustomEvent("reset_filters",{});return void document.dispatchEvent(e)}const l=new CustomEvent("dashboard_refresh_data",{});document.dispatchEvent(l)}))},multipleDocAssignment(){this.selectionList&&(this.assignment_doc_ids=this.selectionList,this.assigneDialog=!0)},confirmMerge(){this.selectionList&&this.selectionList.length>5?this.showErrorToast(this.$t("pages.messages.SELECTION_GREATER_THAN_FIVE")):this.selectionList&&(this.confirmMergeDialog=!0)},mergeDocuments(){return ct(this,void 0,void 0,(function*(){try{this.showLoading();const e=yield lt.M8.mergeDocumnet(this.selectionList.toString());if(!1===e.success)return void this.showErrorToast(e.message);yield this.fetchInvoices(!0)}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}}))},deleteMultipalDocument(){return ct(this,void 0,void 0,(function*(){if(!this.selectionList)return;let e;this.processing=!0;try{let t=new Map;if(t.set("doc_ids",this.selectionList.join(",")),e=yield lt.v1.deleteRequest(ae.FH.delete_documents,t),!1===e.success)return void this.showErrorToast(e.data.message);this.selectionList.length,this.display_data.length,this.headerCheckbox=!1,this.resetAllSelectedRows(),this.loadData()}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.processing=!1}}))},removeQuickFilter(e){this.quickFilterMap.delete(e),this.applyFilter()},isDocRestartable(e){const t=ee.tH.hasAccess("update",e);if(!t)return!1;const l=String(e["status"]),a=Boolean(e["restart_allowed"]);return!!this.restartExportedInvoices||("ready_for_validation"===l||"error"===l||"export_error"===l||1==a)},isExportErrorRestart(e){const t=ee.tH.hasAccess("update",e);if(!t)return!1;const l=String(e["status"]),a=Boolean(e["restart_allowed"]);return!!this.restartExportedInvoices||("export_error"===l||1==a)},isDocDeleteable(e){const t=ee.tH.hasAccess("delete",e),l=String(e["status"]);return t&&"finished"!=l&&"workflow"!=l&&"running"!=l&&"restart_in_progress"!=l},isDocReassignAble(e){const t=ee.tH.hasAccess("update",e),l=String(e["status"]);return t&&"finished"!=l&&"workflow"!=l&&"running"!=l&&"restart_in_progress"!=l},isDocDownloadable(e){const t=ee.tH.hasAccess("view",e),l=String(e["status"]);return t&&"running"!=l&&"restart_in_progress"!=l},setDisplayDocType(e){const t=this.getDocTypeForDisplay(e),l=this.displayDocType(t);return String(l)},assignmentSuccess(e){this.assigneDialog=!1,this.selectionList&&(this.headerCheckbox=!1,this.resetAllSelectedRows()),this.refreshFilters({detail:{show_shimmer_loader:!0,refresh_cache:!0}})},renderquality(e){if(!this.user_settings["OCR_PERCENTAGE"]||!this.user_settings["OCR_PERCENTAGE"])return;let t="";if(e.hasOwnProperty("quality")){let l=this.$t("overall");const a=e["quality"];parseInt(e["quality"])<parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=l+' : <FONT COLOR="#AA0500">'+e["quality"]+"</FONT COLOR>"),parseInt(a)==parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=l+' : <FONT COLOR="#ffff00">'+e["quality"]+"</FONT COLOR>"),parseInt(a)>parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=l+' : <FONT COLOR="#00ff00">'+e["quality"]+"</FONT COLOR>")}return t},handleWebSocketResult(e){e&&(this.use_websocket=!0,this.updateDocumentStats(e),this.updateTableData(e))},isStatsUpdated(e){if(this.all_invoices!==e.overview["all-invoices"])return!0},getWebSocketDashboard(){return ct(this,void 0,void 0,(function*(){try{const e={type:"dashboard",data:{}};let t=this.queryParams;t=t.replace("?","");const l=t.split("&");l.forEach((t=>{t=t.split("="),2===t.length&&(e.data[t[0]]=t[1])})),this.data_status="fetching",this.dashboard_data_flag=!1;const a=yield this.sendMessageToSocket(e.type,e.data);return this.updateDocumentStats(a),this.updateTableData(a),!0}catch(e){this.handleWebsocketDelay()}finally{this.processing=!1}}))},subscribeToDashboardChannel(){this.$route.path},hasPreviewFile(e){return!(!e.hasOwnProperty("preview_file_path")||!e["preview_file_path"])},downloadPreviewFile(e){try{if(!e["preview_file_path"])return;let l=ae.VA+"/"+e["preview_file_path"]+"?"+this.tokenQueryParam;if(!l)return;var t=document.createElement("a");t.download=e["filename"],t.href=l,document.body.appendChild(t),t.click(),document.body.removeChild(t)}catch(l){logError(l)}},handleDragStart(e,t,l,a){e.dataTransfer.setData("application/json",JSON.stringify({columnIndex:l,columnInfo:t})),this.onDragStart(e,a,l)},handleDragOver(e){e.preventDefault()},handleColumSortEvent(e,t){e.preventDefault();const l=e.dataTransfer.getData("application/json");if(!l)return;const a=JSON.parse(l);if(t==a.columnIndex)return;let o=this.table_columns[a.columnIndex];this.table_columns.splice(a.columnIndex,1),this.table_columns.splice(t,0,o)},headerGroupDropEvent(e){e.preventDefault(),this.onDragLeave();const t=e.dataTransfer.getData("application/json");if(!t)return;const l=JSON.parse(t);!this.availableGroupingColumns||this.availableGroupingColumns.includes(l.columnInfo.name)?this.groupedColumns.some((e=>e.name===l.columnInfo.name))||(this.date_fields.includes(l.columnInfo.name)&&!l.columnInfo["group_by_type"]&&(l.columnInfo["group_by_type"]="month"),this.groupedColumns.push(l.columnInfo),this.setGroupsToCache(),this.resetAndFetchAgain()):this.showErrorToast("Grouping not allowed on this column")},setGroupsToCache(){this.groupedColumns&&this.groupedColumns.length>0?De.A.set(this.group_key,JSON.stringify(this.groupedColumns)):De.A.remove(this.group_key)},setLastVisitedParentsToCache(e){if(e){De.A.set(Oe.aH.group_parent_indexes,e);const t=this.getParentRows(e.split(",")),l=this.getGroupingWhere(t);De.A.set(Oe.aH.group_parent_raw_where,JSON.stringify(l))}},resetAndFetchAgain(){this.groupingWhereMap.clear(),this.getSavedFilters(),this.loadData()},handleGroupChange(){this.setGroupsToCache(),this.resetAndFetchAgain()},removeGroup(e){this.groupedColumns.splice(e,1),this.setGroupsToCache(),this.resetAndFetchAgain()},fetchGroupData(e){return ct(this,void 0,void 0,(function*(){let t;try{e.length>0&&(this.queryParams+="&raw_where="+JSON.stringify(e));let l=this.getGroupBy(e.length);if(0!==(0,le.Ns)(l)){const e=[],t={};t[l.name]=l.hasOwnProperty("group_by_type")?l.group_by_type:"",e.push(t),this.queryParams+="&group_by="+JSON.stringify(e)}t=yield lt.z6.getListFromWarehouse(this.queryParams)}catch(l){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError("error",l)}finally{return t}}))},getGroupingWhere(e){let t=[];for(let l=0;l<e.length;l++){let a=e[l].column_name;const o={};if(this.date_fields.includes(a)){const e=this.groupedColumns.find((e=>e.name===a));e&&e.group_by_type?o["operator"]=e.group_by_type:o["operator"]="month"}o["field"]=a,o["value"]=e[l][a],t.push(o)}return t},getGroupBy(e){return e==this.groupedColumns.length?null:this.groupedColumns[e]},loadChildRowData(e){return ct(this,void 0,void 0,(function*(){this.loading=!0;const t=this.getParentRows(e.split(",")),l=this.getGroupingWhere(t);yield this.applySavedFilters();let a=yield this.fetchGroupData(l);if(!1===a.success)throw this.loading=!1,this.showErrorToast(this.$t("pages.messages.error_internal_occur")),{message:a.message};const o=this.prepareGroupingData(a.documents);this.persistWhereClause(a.documents,l,e),this.applyCustomFormatOnRows(o),t[t.length-1]["_children"]=o,this.loading=!1}))},persistWhereClause(e,t,l){e&&e.length>0&&e[0].hasOwnProperty("count")||this.groupingWhereMap.set(l,JSON.stringify(t))}},setup(){let e=[];const t=(0,Te.fX)(),{quickFilterMap:l,all_invoices:a,automatically_processed:o,manually_processed:i,completed:s,in_progress:n,pending:r,validated_pending_approval:d,approved_pending_second_approval:u,error:c,processing:p,visible_columns:h,filtered_columns:m,pagination_size:_,current_invoice_count:b,paginationCount:v,display_data:g}=(0,H.bP)(t),{getSavedFilters:f,removeSavedFilters:y,saveFilters:k,makeQueryParamFromFilters:w,setDefaultFilters:C,getSavedColumns:x,getOrderBy:L,getColumnLabel:F,getParentRows:E,saveColumns:A}=t,S=(0,Te.Bu)(),{user_settings:D,execute_auto_export:I,loading_settings:T}=(0,H.bP)(S),{getSettingWithExpiry:O,startSettingsFetch:M}=S,R=(0,Te.G6)(),{dashboard_data:P,isConnected:q,hasError:V,dashboard_data_flag:N}=(0,H.bP)(R),{subscribeToChannel:B,unsubscribeToChannel:$,sendMessageByType:Q}=R,X=(0,Te.kH)(),{isMediUser:W,getProfile:K}=X,U=(0,Te._6)(),{tokenQueryParam:j}=(0,H.bP)(U);U.getTokenQueryParam();const z=(0,Te.wt)(),{model:G}=(0,H.bP)(z),{getDocTypeSettings:Y}=z;return{execute_auto_export:I,isMediUser:W,getProfile:K,startSettingsFetch:M,getDocTypeSettings:Y,tokenQueryParam:j,current_invoice_count:b,dashboard_data_flag:N,pagination_size:_,paginationCount:v,websocketHasError:V,isConnected:q,sendMessageToSocket:Q,unsubscribeToChannel:$,subscribeToChannel:B,getSettingWithExpiry:O,saveColumns:A,processing:p,dashboard_data:P,user_settings:D,loading_settings:T,visible_columns:h,filtered_columns:m,getColumnLabel:F,getParentRows:E,getOrderBy:L,getSavedColumns:x,setDefaultFilters:C,makeQueryParamFromFilters:w,saveFilters:k,removeSavedFilters:y,getSavedFilters:f,quickFilterMap:l,assignment_doc_ids:(0,te.KR)([]),restartExportedInvoices:(0,te.KR)(!1),table_columns:(0,te.KR)([]),display_data:g,Popup:Z.A,statusList:e,pageSize:(0,te.KR)(20),skip:(0,te.KR)(1),startfrom:(0,te.KR)(0),resetPagination:!0,queryParams:"?filter=current-month&skip=0",deleteInvoice:(0,te.KR)(!1),recordId:"",resultsCount:(0,te.KR)(0),assigneDialog:(0,te.KR)(!1),ErrorInfos:(0,te.KR)(!1),ErrorText:(0,te.KR)(),QualityConfirm:(0,te.KR)(!1),QualityText:(0,te.KR)(),docrowID:(0,te.KR)(),headerCheckbox:(0,te.KR)(!1),is_any_checked:(0,te.KR)(!1),headerFabIcon:(0,te.KR)(!1),selectionList:(0,te.KR)([]),isMultiDeleteButtonDisabled:(0,te.KR)(!1),isMultiRestartButtonDisabled:(0,te.KR)(!1),showFlow:(0,te.KR)(!1),flow_doc_id:(0,te.KR)(""),use_websocket:(0,te.KR)(!0),show_table_loader:(0,te.KR)(!1),data_status:(0,te.KR)(""),all_invoices:a,automatically_processed:o,manually_processed:i,completed:s,in_progress:n,pending:r,validated_pending_approval:d,approved_pending_second_approval:u,error:c,supplier_approval_status:(0,te.KR)(""),supplier_lookup_record_id:(0,te.KR)(""),supplier_as_org_id:(0,te.KR)(""),model:G,loading:(0,te.KR)(!1),groupingWhereMap:(0,te.KR)(new Map)}}});var ht=l(857),mt=l(54700),_t=l(48975),bt=l(13796),vt=l(35859),gt=l(54782),ft=l(20284),yt=l(82156),kt=l(23316),wt=l(44189),Ct=l(3952),xt=l(62669),Lt=l(88672);const Ft=(0,Pe.A)(pt,[["render",j],["__scopeId","data-v-77a05367"]]),Et=Ft;ze()(pt,"components",{QMarkupTable:ht.A,QPagination:mt.A,QSeparator:Ue.A,QIcon:Ve.A,QBadge:Be.A,QPopupProxy:_t.A,QList:Xe.A,QItem:We.A,QItemSection:Ke.A,QItemLabel:bt.A,QLinearProgress:vt.A,QCheckbox:qe.A,QFab:gt.A,QFabAction:ft.A,QTooltip:Ne.A,QDialog:yt.A,QCard:kt.A,QCardSection:wt.A,QAvatar:Ct.A,QCardActions:xt.A,QBtn:$e.A}),ze()(pt,"directives",{ClosePopup:Lt.A})},94891:(e,t,l)=>{"use strict";l.d(t,{A:()=>X});var a=l(61758),o=l(58790);const i={class:"full-width q-pa-md mobile-grid-text"},s={class:"row q-pb-sm"},n={class:"col-11"},r={class:"row"},d=["onClick"],u={class:"q-pa-sm"},c={class:"col-1"},p={class:"col-4"},h={class:"col-8"},m={class:"col-4"},_={class:"col-8"},b=["id"],v={class:"col-4"},g={class:"col-8"},f={key:0,class:"col-4"},y={key:1,class:"col-8"},k={class:"col-4"},w={class:"col-8"},C={class:"col-4"},x={class:"col-8"},L={class:"col-4"},F={class:"col-8"},E={class:"col-4"},A={class:"col-8"};function S(e,t,l,S,D,I){const T=(0,a.g2)("q-icon"),O=(0,a.g2)("q-separator");return(0,a.uX)(),(0,a.CE)("div",i,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_data,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t["id"]},[(0,a.Lk)("div",s,[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.Lk)("div",{class:"col-12 text-primary ellipsify rounded-borders solid-border",style:{"margin-top":"5px"},onClick:l=>{e.$emit("rowClick",t,!0,!1)}},[(0,a.Lk)("span",u,(0,o.v_)(t["filename"]),1)],8,d)])]),(0,a.Lk)("div",c,[(0,a.bF)(T,{name:"expand_more",size:"md",id:"expand_more_"+l,onClick:t=>e.toggleDetails(l)},null,8,["id","onClick"]),(0,a.bF)(T,{name:"expand_less",size:"md",class:"hidden",id:"expand_less_"+l,onClick:t=>e.toggleDetails(l)},null,8,["id","onClick"])]),(0,a.Lk)("div",p,(0,o.v_)(e.$t("type"))+": ",1),(0,a.Lk)("div",h,(0,o.v_)(e.displayDocType(t["doc_type"])),1),(0,a.Lk)("div",m,(0,o.v_)(e.$t("status"))+": ",1),(0,a.Lk)("div",_,(0,o.v_)(e.getLabelTranslation(t["status"])),1)]),(0,a.Lk)("div",{class:"row hidden",id:"details_block_"+l},[(0,a.Lk)("div",v,(0,o.v_)(e.$t("pages_dash"))+": ",1),(0,a.Lk)("div",g,(0,o.v_)(t["pages"]),1),t["quality"]?((0,a.uX)(),(0,a.CE)("div",f,(0,o.v_)(e.$t("quality"))+": ",1)):(0,a.Q3)("",!0),t["quality"]?((0,a.uX)(),(0,a.CE)("div",y,(0,o.v_)(t["quality"]),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",k,(0,o.v_)(e.$t("assigned_to"))+": ",1),(0,a.Lk)("div",w,(0,o.v_)(t["assigned_to"]),1),(0,a.Lk)("div",C,(0,o.v_)(e.$t("last_saved_by"))+": ",1),(0,a.Lk)("div",x,(0,o.v_)(t["last_saved_by"]),1),(0,a.Lk)("div",L,(0,o.v_)(e.$t("modified_at"))+": ",1),(0,a.Lk)("div",F,(0,o.v_)(t["last_modified_on"]),1),(0,a.Lk)("div",E,(0,o.v_)(e.$t("imported_on"))+": ",1),(0,a.Lk)("div",A,(0,o.v_)(t["created_on"]),1)],8,b),(0,a.bF)(O,{class:"q-mt-sm q-mb-sm"})],64)))),128))])}var D=l(1659),I=l(92162),T=l(83319),O=l(24481),M=l(64233);const R=(0,a.pM)({mixins:[O.A,M.A],props:{table_data:{}},methods:{renderquality(e){if(!this.user_settings["OCR_PERCENTAGE"]||!this.user_settings["OCR_PERCENTAGE"])return;let t="";if(e.hasOwnProperty("quality")){let l=this.$t("overall");const a=e["quality"];parseInt(e["quality"])<parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=l+' : <FONT COLOR="#AA0500">'+e["quality"]+"</FONT COLOR>"),parseInt(a)==parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=l+' : <FONT COLOR="#ffff00">'+e["quality"]+"</FONT COLOR>"),parseInt(a)>parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=l+' : <FONT COLOR="#00ff00">'+e["quality"]+"</FONT COLOR>")}return t},toggleDetails(e){const t=(0,I.$)("#expand_more_"+e),l=(0,I.$)("#expand_less_"+e),a=(0,I.$)("#details_block_"+e);t&&t.classList.toggle("hidden"),l&&l.classList.toggle("hidden"),a&&a.classList.toggle("hidden")}},setup(){const e=(0,T.Bu)(),{user_settings:t}=(0,D.bP)(e);return{user_settings:t}}});var P=l(12807),q=l(50492),V=l(97410),N=l(10386),B=l(98582),$=l.n(B);const Q=(0,P.A)(R,[["render",S]]),X=Q;$()(R,"components",{QIcon:q.A,QTooltip:V.A,QSeparator:N.A})},61168:(e,t,l)=>{"use strict";l.d(t,{A:()=>g});var a=l(61758),o=l(58790);const i={class:"row"},s={class:"q-py-xs q-mt-md q-mr-sm"};function n(e,t,l,n,r,d){const u=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("span",s,(0,o.v_)(e.$t("pagination_size"))+":",1),(0,a.bF)(u,{borderless:"",dense:"",modelValue:e.pagination_size,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.pagination_size=t),e.update],options:e.pagination_options},null,8,["modelValue","options","onUpdate:modelValue"])])}var r=l(38734),d=l(83319),u=l(1659),c=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const p=(0,a.pM)({mixins:[],props:{},watch:{},mounted(){this.getPaginationCount(),this.validatePaginationSize()},methods:{getPaginationCount(){return c(this,void 0,void 0,(function*(){this.pagination_size=yield this.getPaginationSize()}))},update(){return c(this,void 0,void 0,(function*(){yield this.setPaginationSize(),this.triggerApplyFilters()}))},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{});document.dispatchEvent(e)},validatePaginationSize(){this.pagination_size<=50||(this.pagination_size=50)}},setup(){const e=(0,d.fX)(),{pagination_size:t}=(0,u.bP)(e),{getPaginationSize:l,setPaginationSize:a}=e;return{setPaginationSize:a,getPaginationSize:l,pagination_size:t,pagination_options:(0,r.KR)(["10","20","25","50"])}}});var h=l(12807),m=l(94940),_=l(98582),b=l.n(_);const v=(0,h.A)(p,[["render",n]]),g=v;b()(p,"components",{QSelect:m.A})},84364:(e,t,l)=>{"use strict";l.d(t,{A:()=>v});var a=l(61758),o=l(58790);const i={class:"orderByParentSpan arrow-color"},s=["data-name"],n=["data-name"];function r(e,t,l,r,d,u){return(0,a.uX)(),(0,a.CE)("span",i,[(0,a.Lk)("span",{class:(0,o.C4)(["up-arrow orderBy absolute",e.is_order_by_selected("asc")?"selected":""]),"data-name":e.column_name,"data-direction":"asc",onClick:t[0]||(t[0]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,s),(0,a.Lk)("span",{class:(0,o.C4)(["down-arrow orderBy absolute",e.is_order_by_selected("desc")?"selected":""]),"data-name":e.column_name,"data-direction":"desc",onClick:t[1]||(t[1]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,n)])}var d=l(38734),u=l(83319),c=l(1659),p=l(68450),h=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const m=(0,a.pM)({mixins:[],props:{column_name:{type:String,required:!0},returnSortingObj:{type:Boolean,default:!1}},components:{},watch:{order_by:{deep:!0,handler:function(e,t){this.init()}}},mounted:function(){this.init(),document.addEventListener("reset_filters",this.resetFilters)},unmounted:function(){document.removeEventListener("reset_filters",this.resetFilters)},methods:{is_order_by_selected(e){return this.order_by_field==this.column_name&&this.order_by_direction==e},init(){0!==(0,p.Ns)(this.order_by)&&(this.order_by_field=this.order_by.field_name,this.order_by_direction=this.order_by.direction)},resetFilters(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},OrderBy(e){return h(this,void 0,void 0,(function*(){if(e.target.classList.contains("selected"))return;let t=e.target.dataset.direction,l=e.target.dataset.name;if(!t||!l)return void logError("ERROR: Orderby for field",l);e.target.classList.add("selected");const a=document.querySelectorAll(".orderBy");if(a.length){for(var o=0;o<a.length;o++){let e=a[o];(e.dataset.name!=l||e.dataset.name==l&&e.dataset.direction!=t)&&e.classList.remove("selected")}this.order_by_field=l,this.order_by_direction=t,this.order_by={field_name:this.order_by_field,direction:this.order_by_direction},this.paginationCount=1,this.returnSortingObj||(yield this.saveOrderBy()),this.triggerApplyFilters(this.order_by)}}))},triggerApplyFilters(e){const t=new CustomEvent("apply_filters",{detail:{orderBy:e}});document.dispatchEvent(t)}},setup(){const e=(0,u.fX)(),{order_by:t,paginationCount:l}=(0,c.bP)(e),{saveOrderBy:a}=e;return{saveOrderBy:a,paginationCount:l,order_by:t,order_by_field:(0,d.KR)(""),order_by_direction:(0,d.KR)("")}}});var _=l(12807);const b=(0,_.A)(m,[["render",r],["__scopeId","data-v-44c6cdae"]]),v=b},44415:(e,t,l)=>{"use strict";l.d(t,{A:()=>na});var a=l(61758),o=l(58790),i=l(29104);const s={class:"row q-mb-md"},n={style:{"margin-top":"40px"},class:"dashboard-title dark-readable"},r={class:"col"},d={class:"row justify-start"},u={class:"dashboard-search-box q-ml-md mt-20 white-inputs"},c={key:0,class:"row mb-25 relative-position",style:{"margin-bottom":"8px"}},p=(0,a.Lk)("div",{class:"dashboard-toggler-area"},null,-1),h=(0,a.Lk)("div",{class:"q-mb-md"},null,-1);function m(e,t,l,m,_,b){const v=(0,a.g2)("quickSearch"),g=(0,a.g2)("q-space"),f=(0,a.g2)("q-tooltip"),y=(0,a.g2)("f-btn"),k=(0,a.g2)("advancedSettings"),w=(0,a.g2)("scanButton"),C=(0,a.g2)("q-item-section"),x=(0,a.g2)("q-item"),L=(0,a.g2)("q-menu"),F=(0,a.g2)("import-multi-invoice"),E=(0,a.g2)("savedFilterBadges"),A=(0,a.g2)("q-separator"),S=(0,a.g2)("analytics"),D=(0,a.g2)("keyboardShortcutInfo"),I=(0,a.g2)("q-btn"),T=(0,a.g2)("q-card-actions"),O=(0,a.g2)("q-card"),M=(0,a.g2)("q-dialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",s,[(0,a.Lk)("span",n,(0,o.v_)(e.$t("all_invoices"))+" ("+(0,o.v_)(e.current_invoice_count)+")",1),(0,a.Lk)("div",r,[(0,a.Lk)("div",d,[(0,a.Lk)("div",u,[(0,a.bF)(v)]),(0,a.bF)(g),(0,a.bF)(y,{square:"",class:"q-mr-sm mt-20",icon:"img:images/refresh.svg",id:"btn_refresh_list",onClick:e.refreshFilters},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("refresh_list")),1)])),_:1})])),_:1},8,["onClick"]),(0,a.bF)(y,{square:"",class:"q-mr-sm mt-20",id:"btn_show_advanced_filters",icon:"img:images/settings.svg",onClick:t[0]||(t[0]=t=>e.show_advanced_filters=!e.show_advanced_filters)},{default:(0,a.k6)((()=>[(0,a.bF)(k),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("advavce_settings")),1)])),_:1})])),_:1}),(0,a.bF)(w),(0,a.bF)(y,{square:"",class:"q-mr-sm mt-20",icon:"img:images/statistik.svg",id:"btn_show_analytics",onClick:t[1]||(t[1]=t=>e.show_analytics=!e.show_analytics)},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("analytics")),1)])),_:1})])),_:1}),(0,a.bF)(y,{square:"",class:"q-mr-sm mt-20",icon:"img:settings/export-white.svg",onClick:e.startEmailImport},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("start_email_import")),1)])),_:1})])),_:1},8,["onClick"]),e.export_active?((0,a.uX)(),(0,a.Wv)(y,{key:0,square:"",class:"q-mr-sm mt-20",icon:"download"},{default:(0,a.k6)((()=>[(0,a.bF)(L,{anchor:"bottom middle",self:"top middle","transition-show":"jump-down","transition-hide":"jump-up"},{default:(0,a.k6)((()=>[(0,a.bF)(x,{clickable:"",onClick:t[2]||(t[2]=t=>e.exportDashboardData("csv"))},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("export_to_csv")),1)])),_:1})])),_:1}),(0,a.bF)(x,{clickable:"",onClick:t[3]||(t[3]=t=>e.exportDashboardData("excel"))},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("export_to_xlsx")),1)])),_:1})])),_:1})])),_:1}),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("export_table")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(F)])])]),e.quickFilterMap.size>0?((0,a.uX)(),(0,a.CE)("div",c,[p,(0,a.bF)(E)])):(0,a.Q3)("",!0),e.show_analytics?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.bF)(A,{class:"q-mb-md"}),(0,a.bF)(S),h],64)):(0,a.Q3)("",!0),(0,a.bF)(M,{modelValue:e.showKeyboardShortcuts,"onUpdate:modelValue":t[5]||(t[5]=t=>e.showKeyboardShortcuts=t),onShow:e.beforeShowKeyboard,onHide:e.beforeHideKeyboard,onKeydown:t[6]||(t[6]=(0,i.jR)((t=>e.showKeyboardShortcuts=!1),["esc"]))},{default:(0,a.k6)((()=>[(0,a.bF)(O,null,{default:(0,a.k6)((()=>[(0,a.bF)(D),(0,a.bF)(T,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(I,{flat:"",color:"primary",label:e.$t("close"),class:"float-right",style:{"font-weight":"900"},onClick:t[4]||(t[4]=t=>e.showKeyboardShortcuts=!1)},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue","onShow","onHide"])],64)}var _=l(38734),b=l(83319),v=l(1659);const g=e=>((0,a.Qi)("data-v-226ff59e"),e=e(),(0,a.jt)(),e),f={class:"advanced-search"},y={class:"row mb-20 mt-20 ml-20 ml-20"},k={class:"col-12 mb-10"},w={style:{"margin-left":"-8px","margin-right":"8px"}},C={class:"col-auto"},x={class:"col-auto"},L=g((()=>(0,a.Lk)("div",{class:"col-auto q-ml-md"},null,-1))),F=g((()=>(0,a.Lk)("div",{class:"col-auto q-ml-md"},null,-1)));function E(e,t,l,i,s,n){const r=(0,a.g2)("q-tooltip"),d=(0,a.g2)("f-btn"),u=(0,a.g2)("q-icon"),c=(0,a.g2)("TableColumnsSettings"),p=(0,a.g2)("SortColumnsSettings"),h=(0,a.g2)("TimeFilter"),m=(0,a.g2)("q-menu"),_=(0,a.g2)("ImportLogs");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(m,{id:"advanceSettingRef",ref:"advanceSettingRef","max-width":"500px"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",f,[(0,a.Lk)("div",y,[(0,a.Lk)("div",k,[(0,a.bF)(d,{square:"",class:"q-mr-sm",icon:"img:images/settings.svg",to:"/settings/dashboard"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("more_settings")),1)])),_:1})])),_:1}),(0,a.bF)(d,{square:"",class:"q-mr-sm key-card"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{name:"keyboard",width:"20",class:"keyboard-icon cursor-pointer",onClick:t[0]||(t[0]=t=>e.showKeyboardShortcuts=!0)},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("keyboard_shortcut")),1)])),_:1})])),_:1})])),_:1}),(0,a.Lk)("span",w,[(0,a.bF)(d,{square:"",class:"q-ml-sm",onClick:t[1]||(t[1]=t=>e.showMailImportLogs()),icon:"img:images/logs.svg",invert:""},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.import.import_log")),1)])),_:1})])),_:1})]),(0,a.Lk)("span",null,[(0,a.bF)(c,{tooltip:e.column_tooltip},null,8,["tooltip"])]),(0,a.Lk)("span",C,[(0,a.bF)(p)])]),(0,a.Lk)("div",x,[(0,a.bF)(h)]),L,F])])])),_:1},512),(0,a.bF)(_,{connection_id:0,show_import_logs:e.show_import_logs,setheight:"36px"},null,8,["show_import_logs"])],64)}function A(e,t,l,o,i,s){const n=(0,a.g2)("q-btn-toggle");return(0,a.uX)(),(0,a.Wv)(n,{"toggle-color":"primary",class:"toggle_time",modelValue:e.selected_time,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selected_time=t),t[1]||(t[1]=t=>e.TimeFilterSelected())],ripple:!1,options:e.time_options},null,8,["modelValue","options"])}const S=(0,a.pM)({mixins:[],props:{},watch:{quickFilterMap:{deep:!0,handler:function(e,t){this.loadFilters()}}},mounted(){this.setTimeOptions(),this.loadFilters()},methods:{loadFilters(){const e=this.quickFilterMap.get("filter");e&&e.hasOwnProperty("value")?this.selected_time=e.value:this.resetFilters()},resetFilters(){this.selected_time=""},TimeFilterSelected(){this.quickFilterMap.set("filter",{value:this.selected_time,label:this.selected_time}),this.triggerApplyFilters()},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},setTimeOptions(){this.time_options=[{label:this.$t("today"),value:"today"},{label:this.$t("week"),value:"current-week"},{label:this.$t("month"),value:"current-month"},{label:this.$t("year"),value:"current-year"},{label:this.$t("all"),value:"all"}]}},setup(){const e=(0,b.fX)(),{quickFilterMap:t}=(0,v.bP)(e);return{quickFilterMap:t,selected_time:(0,_.KR)(""),time_options:(0,_.KR)([])}}});var D=l(12807),I=l(28975),T=l(76031),O=l(56384),M=l(98582),R=l.n(M);const P=(0,D.A)(S,[["render",A]]),q=P;R()(S,"components",{QBtnToggle:I.A,QBtnGroup:T.A,QBtn:O.A});const V=e=>((0,a.Qi)("data-v-b089f6c4"),e=e(),(0,a.jt)(),e),N={class:"text-weight-bold"},B={class:"row justify-between items-center"},$={class:"col-auto"},Q={class:"row no-wrap justify-around q-pt-md"},X={class:"drop-target rounded-borders q-mr-md"},W={class:"box row justify-center items-center",style:{"border-bottom":"1px solid grey"}},K={class:"search-column-card"},U=["id","data-column-name"],j={class:"rounded-borders overflow-hidden content-center"},z={class:"row justify-end items-start"},H={class:"row justify-end items-start"},G={class:"drop-target rounded-borders"},Y={class:"box row justify-center items-center",style:{"border-bottom":"1px solid grey"}},J={class:"search-column-card"},Z={class:"visible-columns-parent"},ee=["id","data-column-name","data-order"],te={class:"row justify-end items-start q-mt-md"},le=V((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function ae(e,t,l,s,n,r){const d=(0,a.g2)("q-tooltip"),u=(0,a.g2)("f-btn"),c=(0,a.g2)("q-toolbar-title"),p=(0,a.g2)("q-btn"),h=(0,a.g2)("q-toolbar"),m=(0,a.g2)("q-input"),_=(0,a.g2)("q-checkbox"),b=(0,a.g2)("q-icon"),v=(0,a.g2)("q-card-section"),g=(0,a.g2)("q-inner-loading"),f=(0,a.g2)("q-card"),y=(0,a.g2)("q-dialog"),k=(0,a.g2)("DocTypeFields"),w=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(u,{square:"",class:"q-mr-sm",icon:"img:images/column_filter.svg",onClick:t[0]||(t[0]=t=>e.show_column_settings=!0)},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.tooltip?e.$t(e.tooltip):e.$t("column_settings_tooltip")),1)])),_:1})])),_:1}),(0,a.bF)(y,{modelValue:e.show_column_settings,"onUpdate:modelValue":t[6]||(t[6]=t=>e.show_column_settings=t),onShow:e.BeforePopupShow,onKeydown:t[7]||(t[7]=(0,i.jR)((t=>e.show_column_settings=!1),["esc"])),persistent:"",onHide:e.onDashboardColumnDialogHide},{default:(0,a.k6)((()=>[(0,a.bF)(f,{style:{width:"900px","max-width":"1060px"}},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"text-white secondary-toolbar draggable-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",N,(0,o.v_)(e.$t("column_settings")),1)])),_:1}),(0,a.bo)((0,a.bF)(p,{flat:"",round:"",dense:"",icon:"close"},null,512),[[w]])])),_:1}),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.Lk)("div",B,[(0,a.Lk)("div",$,[(0,a.bF)(u,{class:"q-mr-sm",label:e.$t("add_field_from_document_type"),onClick:t[1]||(t[1]=t=>e.show_doc_type_fields=!0)},null,8,["label"])])]),(0,a.Lk)("div",Q,[(0,a.Lk)("div",X,[(0,a.Lk)("div",W,(0,o.v_)(e.$t("hidden_columns")),1),(0,a.Lk)("div",K,[(0,a.bF)(m,{dense:"",autofocus:"",outlined:"",placeholder:e.$t("search_field"),modelValue:e.hidden_search_value,"onUpdate:modelValue":t[2]||(t[2]=t=>e.hidden_search_value=t)},null,8,["placeholder","modelValue"])]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.display_hidden_columns,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,id:e.name,"data-column-name":e.name,class:"box"},[(0,a.bF)(_,{"data-column-name":e.name,modelValue:e.selected,"onUpdate:modelValue":t=>e.selected=t},null,8,["data-column-name","modelValue","onUpdate:modelValue"]),(0,a.eW)(" "+(0,o.v_)(e.label),1)],8,U)))),128))]),(0,a.Lk)("div",j,[(0,a.Lk)("div",z,[(0,a.bF)(u,{class:"q-mr-md mt-20",icon:"arrow_back",onClick:e.moveToHideColumnList},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("move_to_visibile_button_tooltip")),1)])),_:1})])),_:1},8,["onClick"])]),(0,a.Lk)("div",H,[(0,a.bF)(u,{class:"q-mr-md mt-20",icon:"arrow_forward",onClick:e.moveToShowColumnList},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("move_to_hidden_button_tooltip")),1)])),_:1})])),_:1},8,["onClick"])])]),(0,a.Lk)("div",G,[(0,a.Lk)("div",Y,(0,o.v_)(e.$t("visible_columns")),1),(0,a.Lk)("div",J,[(0,a.bF)(m,{dense:"",autofocus:"",outlined:"",placeholder:e.$t("search_field"),modelValue:e.visible_search_value,"onUpdate:modelValue":t[3]||(t[3]=t=>e.visible_search_value=t)},null,8,["placeholder","modelValue"])]),(0,a.Lk)("div",Z,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.display_visible_columns,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,draggable:"true",class:"draggable-box"},[(0,a.Lk)("div",{draggable:"true",id:t.name,"data-column-name":t.name,class:"box","data-order":l},[(0,a.bF)(b,{name:"drag_indicator",size:"xs"}),(0,a.bF)(_,{"data-order":l,"data-column-name":t.name,modelValue:t.selected,"onUpdate:modelValue":e=>t.selected=e,class:"box-checkbox"},null,8,["data-order","data-column-name","modelValue","onUpdate:modelValue"]),t.hasOwnProperty("doc_type_key")?((0,a.uX)(),(0,a.Wv)(b,{key:0,flat:"",dense:"",name:"close",size:"24px",color:"red",onClick:l=>e.removeDocTypeColumn(t.name)},null,8,["onClick"])):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,o.v_)(t.label),1)],8,ee)])))),128))])])]),(0,a.Lk)("div",te,[(0,a.bF)(u,{appearance:"cancel",label:e.$t("cancel"),onClick:t[4]||(t[4]=t=>e.show_column_settings=!1)},null,8,["label"]),(0,a.bF)(u,{label:e.$t("done"),class:"q-ml-sm",onClick:t[5]||(t[5]=t=>e.saveSettings())},null,8,["label"])])])])),_:1}),(0,a.bF)(g,{showing:e.processing},{default:(0,a.k6)((()=>[le])),_:1},8,["showing"])])),_:1})])),_:1},8,["modelValue","onShow","onHide"]),(0,a.bF)(y,{modelValue:e.show_doc_type_fields,"onUpdate:modelValue":t[8]||(t[8]=t=>e.show_doc_type_fields=t),persistent:"",onHide:e.onDocTypeFieldsDialogHide},{default:(0,a.k6)((()=>[(0,a.bF)(k,{visible_columns_obj_list:e.visible_columns_obj_list},null,8,["visible_columns_obj_list"])])),_:1},8,["modelValue","onHide"])],64)}const oe=e=>((0,a.Qi)("data-v-5b0d81dd"),e=e(),(0,a.jt)(),e),ie={class:"text-weight-bold"},se={class:"row no-wrap justify-around q-pt-md"},ne={class:"q-mr-md"},re={class:"fields-list rounded-borders q-mr-md"},de={class:"box row justify-center items-center",style:{"border-bottom":"1px solid grey"}},ue={class:"search-column-card"},ce={key:0,class:"box row justify-center items-center"},pe={class:"row justify-end items-start q-mt-md q-mr-md"},he=oe((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function me(e,t,l,i,s,n){const r=(0,a.g2)("q-toolbar-title"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-toolbar"),c=(0,a.g2)("q-select"),p=(0,a.g2)("q-input"),h=(0,a.g2)("q-checkbox"),m=(0,a.g2)("f-btn"),_=(0,a.g2)("q-card-section"),b=(0,a.g2)("q-inner-loading"),v=(0,a.g2)("q-card"),g=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(v,{style:{width:"700px","max-width":"1060px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-white secondary-toolbar draggable-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",ie,(0,o.v_)(e.$t("select_doc_type_fields")),1)])),_:1}),(0,a.bo)((0,a.bF)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[g]])])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.Lk)("div",se,[(0,a.Lk)("div",ne,[(0,a.bF)(c,{clearable:"",outlined:"",dense:"",modelValue:e.selected_doc_type,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selected_doc_type=t),e.docTypeSelected],options:e.active_doc_types_sub_types_list,label:e.$t("pages.screen2a.doctype"),style:{"min-width":"250px"}},null,8,["modelValue","options","onUpdate:modelValue","label"])]),(0,a.Lk)("div",re,[(0,a.Lk)("div",de,(0,o.v_)(e.$t("fields")),1),(0,a.Lk)("div",ue,[(0,a.bF)(p,{dense:"",autofocus:"",outlined:"",placeholder:e.$t("search_field"),modelValue:e.doc_type_search_value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.doc_type_search_value=t)},null,8,["placeholder","modelValue"])]),(0,a.Lk)("div",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.display_doc_type_field,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,class:"box"},[(0,a.bF)(h,{modelValue:t.selected,"onUpdate:modelValue":e=>t.selected=e,class:"box-checkbox"},null,8,["modelValue","onUpdate:modelValue"]),(0,a.eW)(" "+(0,o.v_)(e.getFieldLabelFromAllPrefixes(t))+" ("+(0,o.v_)(null===t||void 0===t?void 0:t.field_name)+") ",1)])))),128))]),e.hasFields()?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",ce,(0,o.v_)(e.$t("select_doc_type_with_fields")),1))])]),(0,a.Lk)("div",pe,[(0,a.bF)(m,{label:e.$t("add_to_visible_columns"),onClick:t[2]||(t[2]=t=>e.addSelectedFieldsToVisibleColumns())},null,8,["label"])])])])),_:1}),(0,a.bF)(b,{showing:e.processing||e.doc_fields_processing},{default:(0,a.k6)((()=>[he])),_:1},8,["showing"])])),_:1})}var _e=l(25891),be=l(68450);const ve=(0,a.pM)({mixins:[_e.A],props:{visible_columns_obj_list:{}},mounted(){this.init()},data(){return{doc_type_search_value:"",display_doc_type_field:[]}},watch:{doc_type_search_value(e){this.searchDocTypeFiled(e)},fields(e){this.display_doc_type_field=e}},methods:{init(){try{this.processing=!0,this.getAllDocTypeFields()}catch(e){logInfo(e)}finally{this.processing=!1}},searchDocTypeFiled(e){if(e){const t=e.toLowerCase();this.display_doc_type_field=Object.values(this.fields).filter((e=>e.title.toLowerCase().includes(t)))}else this.display_doc_type_field=this.fields},addSelectedFieldsToVisibleColumns(){let e=this.getLargestSortOrderNumber(),t="";this.selected_doc_type.hasOwnProperty("value")&&(t=this.selected_doc_type["value"]),this.selected_doc_type.hasOwnProperty("doc_type_key")&&(t=this.selected_doc_type["doc_type_key"]);const l={};for(const o of Object.keys(this.fields)){const a=this.fields[o];a.selected&&(l[o]={name:o,sortable:!1,order:++e,translation_key:a.translation_key||o,doc_type_key:t,title:a.title})}const a=new CustomEvent("add_columns",{detail:{selected_fields:l}});document.dispatchEvent(a)},getLargestSortOrderNumber(){let e=0;for(const t of Object.keys(this.visible_columns_obj_list)){const l=this.visible_columns_obj_list[t];l.order>e&&(e=l.order)}return e},docTypeSelected(){try{if(!this.selected_doc_type)return;this.processing=!0;let e=this.selected_doc_type["name"];void 0!=this.selected_doc_type["doc_type_key"]&&(e=this.selected_doc_type["doc_type_key"]),this.fields=this.getFieldsByDocType(e)}catch(e){logInfo(e)}finally{this.processing=!1}},hasFields(){return!(0,be.dd)(this.fields)}},setup(){const e=(0,b.cY)(),{active_doc_types_sub_types_list:t}=(0,v.bP)(e),l=(0,b.O0)(),{processing:a,getFieldsByDocType:o}=(0,v.bP)(l),{getAllDocTypeFields:i}=l;return{getAllDocTypeFields:i,getFieldsByDocType:o,doc_fields_processing:a,processing:(0,_.KR)(!1),active_doc_types_sub_types_list:t,selected_doc_type:(0,_.KR)({value:null,label:""}),fields:(0,_.KR)({})}}});var ge=l(23316),fe=l(36914),ye=l(39150),ke=l(44189),we=l(94940),Ce=l(67837),xe=l(80460),Le=l(39035),Fe=l(50492),Ee=l(88672);const Ae=(0,D.A)(ve,[["render",me],["__scopeId","data-v-5b0d81dd"]]),Se=Ae;R()(ve,"components",{QCard:ge.A,QToolbar:fe.A,QToolbarTitle:ye.A,QBtn:O.A,QCardSection:ke.A,QSelect:we.A,QInput:Ce.A,QCheckbox:xe.A,QInnerLoading:Le.A,QIcon:Fe.A}),R()(ve,"directives",{ClosePopup:Ee.A});var De=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ie=(0,a.pM)({props:{tooltip:{type:String,required:!0}},components:{DocTypeFields:Se},mounted(){this.init(),document.addEventListener("add_columns",this.addColumns)},unmounted:function(){document.removeEventListener("add_columns",this.addColumns)},watch:{hidden_search_value(e){this.searchHiddenColumns(e)},hidden_columns(e){this.display_hidden_columns=e},visible_search_value(e){this.searchVisibleColumns(e)},visible_columns(e){this.display_visible_columns=e}},data(){return{dragSrcEl:{},clearInterval:0,display_hidden_columns:[],hidden_search_value:"",display_visible_columns:[],visible_search_value:""}},beforeRouteLeave:function(e,t,l){this.removeDragEvents(),l()},methods:{BeforePopupShow(){this.init(),this.show_column_settings=!0,this.hidden_search_value="",this.visible_search_value="";const e=new CustomEvent("advancedSettingsClose");document.dispatchEvent(e)},init(){return De(this,void 0,void 0,(function*(){this.elements_loaded=!1,this.visible_columns=[],this.visible_columns_obj_list={},this.hidden_columns={},yield this.setColumns(),this.intervalManager()}))},searchHiddenColumns(e){if(e){const t=e.toLowerCase();return this.display_hidden_columns=Object.values(this.hidden_columns).filter((e=>e.label.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)))}this.display_hidden_columns=this.hidden_columns},searchVisibleColumns(e){if(e){const t=e.toLowerCase();return this.display_visible_columns=Object.values(this.visible_columns).filter((e=>e.label.toLowerCase().includes(t)||e.name.toLowerCase().includes(t)))}this.display_visible_columns=this.visible_columns},setColumns(){return De(this,void 0,void 0,(function*(){yield this.setVisibleColumns(),this.setHiddenColumns()}))},setHiddenColumns(){for(const[e,t]of Object.entries(this.all_columns)){if(this.visible_columns_obj_list.hasOwnProperty(e))continue;const l=t;l.selected=!1,l.label=this.getColumnLabel(l),this.hidden_columns[l.name]=l}},setVisibleColumns(){return De(this,void 0,void 0,(function*(){const e=yield this.getSavedColumns();this.setVibileColumnsForView(e),this.visible_columns_obj_list=e}))},setVibileColumnsForView(e){this.visible_columns=[];for(const t in e)e[t].selected=!1,e[t].label=this.getColumnLabel(e[t]),this.visible_columns.push(e[t]);this.sortVisibleColumns()},moveToHideColumnList(){this.visible_columns.forEach(((e,t)=>{if(!this.visible_columns_obj_list[e.name].selected)return;const l=e.name;this.visible_columns_obj_list[l].selected=!1,this.hidden_columns[l]=this.visible_columns_obj_list[l],delete this.visible_columns_obj_list[l]})),this.setVibileColumnsForView(this.visible_columns_obj_list)},moveToShowColumnList(){for(var e of Object.keys(this.hidden_columns))this.hidden_columns[e].selected&&(this.hidden_columns[e].selected=!1,this.visible_columns_obj_list[e]=this.hidden_columns[e],delete this.hidden_columns[e]);this.setVibileColumnsForView(this.visible_columns_obj_list)},saveSettings(){return De(this,void 0,void 0,(function*(){this.processing=!0,yield this.saveColumns(this.visible_columns_obj_list),this.processing=!1,this.show_column_settings=!1;const e=new CustomEvent("reload_columns",{});document.dispatchEvent(e)}))},intervalManager(){if(!this.elements_loaded||0!==this.clearInterval){if(this.elements_loaded&&0!==this.clearInterval)return this.clearInterval=0,void clearInterval(this.clearInterval);this.isElementRendered(),this.elements_loaded&&this.addDragEvents(),!1===this.elements_loaded&&(this.clearInterval=setTimeout((()=>{this.intervalManager()}),1e3))}},isElementRendered(){let e=document.querySelectorAll(".visible-columns-parent .box");return e.length>0&&(this.elements_loaded=!0,!0)},removeDragEvents(){let e=document.querySelectorAll(".visible-columns-parent .box");e.forEach((e=>{e.removeEventListener("dragstart",this.handleDragStart),e.removeEventListener("dragend",this.handleDragEnd),e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragenter",this.handleDragEnter),e.removeEventListener("dragleave",this.handleDragLeave),e.removeEventListener("drop",this.handleDrop)}))},addDragEvents(){let e=document.querySelectorAll(".visible-columns-parent .box");e.forEach((e=>{e.removeEventListener("dragstart",this.handleDragStart),e.removeEventListener("dragend",this.handleDragEnd),e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragenter",this.handleDragEnter),e.removeEventListener("dragleave",this.handleDragLeave),e.removeEventListener("drop",this.handleDrop),e.addEventListener("dragstart",this.handleDragStart),e.addEventListener("dragend",this.handleDragEnd),e.addEventListener("dragover",this.handleDragOver),e.addEventListener("dragenter",this.handleDragEnter),e.addEventListener("dragleave",this.handleDragLeave),e.addEventListener("drop",this.handleDrop)}))},handleDragStart(e){e.target.style.opacity="0.4",e.dataTransfer.effectAllowed="move";const t=e.target.getAttribute("data-order"),l=e.target.getAttribute("data-column-name");e.dataTransfer.setData("column_order",t),e.dataTransfer.setData("column_name",l)},handleDragEnd(e){e.target.style.opacity="1";let t=document.querySelectorAll(".visible-columns-parent .box");t.forEach((function(e,t){e.classList.remove("over")}))},handleDragOver(e){return e.preventDefault(),!1},handleDragEnter(e){e.target.classList.add("over")},handleDragLeave(e){e.target.classList.remove("over")},handleDrop(e){e.stopPropagation(),e.preventDefault();const t=+e.target.getAttribute("data-order"),l=(e.target.getAttribute("data-column-name"),+e.dataTransfer.getData("column_order")),a=this.visible_columns[l];this.visible_columns[t];return this.visible_columns.splice(l,1),this.visible_columns.splice(t,0,a),this.visible_columns.forEach(((e,t)=>{e.order=t+1,this.visible_columns_obj_list[e.name].order=e.order})),this.sortVisibleColumns(),this.$forceUpdate(),!1},sortVisibleColumns(){this.visible_columns.sort(((e,t)=>e.order-t.order))},onDashboardColumnDialogHide(){document.dispatchEvent(new CustomEvent("remove_advanced_settings_pop_up")),this.removeDragEvents(),this.show_column_settings=!1},onDocTypeFieldsDialogHide(){this.show_doc_type_fields=!1},addColumns(e){if(e){for(const t in e.detail.selected_fields)this.visible_columns_obj_list[t]=e.detail.selected_fields[t];this.setVibileColumnsForView(this.visible_columns_obj_list),this.onDocTypeFieldsDialogHide()}},removeDocTypeColumn(e){delete this.visible_columns_obj_list[e],this.setVibileColumnsForView(this.visible_columns_obj_list)}},setup(){const e=(0,b.fX)(),{table_columns:t}=(0,v.bP)(e),{getSavedColumns:l,saveColumns:a,getColumnLabel:o}=e;return{getColumnLabel:o,elements_loaded:(0,_.KR)(!1),visible_columns:(0,_.KR)([]),visible_columns_obj_list:(0,_.KR)({}),hidden_columns:(0,_.KR)({}),processing:(0,_.KR)(!1),all_columns:t,getSavedColumns:l,saveColumns:a,show_column_settings:(0,_.KR)(!1),show_doc_type_fields:(0,_.KR)(!1)}}});var Te=l(97410),Oe=l(82156);const Me=(0,D.A)(Ie,[["render",ae],["__scopeId","data-v-b089f6c4"]]),Re=Me;R()(Ie,"components",{QTooltip:Te.A,QDialog:Oe.A,QCard:ge.A,QToolbar:fe.A,QToolbarTitle:ye.A,QBtn:O.A,QCardSection:ke.A,QInput:Ce.A,QCheckbox:xe.A,QIcon:Fe.A,QInnerLoading:Le.A}),R()(Ie,"directives",{ClosePopup:Ee.A});const Pe={class:"row justify-around items-start"},qe={class:"col row q-pt-md"},Ve={class:"text-subtitle1"},Ne={key:0,class:"col-12 text-red-5 height-20"},Be={class:"row no-wrap justify-around q-pt-md"},$e={class:"col-auto q-mr-md"},Qe={class:"col-auto q-mr-md"},Xe={class:"row justify-end items-start q-mt-md"},We=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function Ke(e,t,l,i,s,n){const r=(0,a.g2)("q-select"),d=(0,a.g2)("f-btn"),u=(0,a.g2)("q-banner"),c=(0,a.g2)("q-inner-loading"),p=(0,a.g2)("q-popup-proxy"),h=(0,a.g2)("q-tooltip");return(0,a.uX)(),(0,a.Wv)(d,{square:"",class:"q-mr-sm",icon:"img:images/sorting_2.svg"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{onBeforeShow:e.BeforePopupShow,modelValue:e.show_column_settings,"onUpdate:modelValue":t[4]||(t[4]=t=>e.show_column_settings=t)},{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Pe,[(0,a.Lk)("div",qe,[(0,a.Lk)("div",Ve,(0,o.v_)(e.$t("column_sort_settings")),1)])]),e.error?((0,a.uX)(),(0,a.CE)("div",Ne,"Please make sure column and direction are selected")):(0,a.Q3)("",!0),(0,a.Lk)("div",Be,[(0,a.Lk)("div",$e,[(0,a.bF)(r,{class:"select-box",outlined:"",modelValue:e.order_by_field,"onUpdate:modelValue":t[0]||(t[0]=t=>e.order_by_field=t),"use-input":"",options:e.filtered_columns,onFilter:e.filterlistEvent,label:e.$t("column_name"),"emit-value":"","map-options":""},null,8,["modelValue","options","onFilter","label"])]),(0,a.Lk)("div",Qe,[(0,a.bF)(r,{outlined:"",class:"select-box",modelValue:e.order_by_direction,"onUpdate:modelValue":t[1]||(t[1]=t=>e.order_by_direction=t),"use-input":"",options:e.direction_options,label:e.$t("Direction"),"emit-value":"","map-options":""},null,8,["modelValue","options","label"])])]),(0,a.Lk)("div",Xe,[(0,a.bF)(d,{class:"q-mr-sm",label:e.$t("cancel"),appearance:"cancel",onClick:t[2]||(t[2]=t=>e.show_column_settings=!1)},null,8,["label"]),(0,a.bF)(d,{label:e.$t("done"),onClick:t[3]||(t[3]=t=>e.saveSettings())},null,8,["label"])])])),_:1}),(0,a.bF)(c,{showing:e.processing},{default:(0,a.k6)((()=>[We])),_:1},8,["showing"])])),_:1},8,["onBeforeShow","modelValue"]),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("dashboard_sort_settings_tooltip")),1)])),_:1})])),_:1})}var Ue=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const je=(0,a.pM)({props:{},mounted(){this.init()},data(){return{}},methods:{BeforePopupShow(){this.init(),this.show_column_settings=!0},init(){return Ue(this,void 0,void 0,(function*(){this.visible_columns=[],yield this.setColumns(),this.direction_options=[],this.direction_options.push({value:"asc",label:this.$t("Asc")}),this.direction_options.push({value:"desc",label:this.$t("Desc")}),0!==(0,be.Ns)(this.order_by)&&(this.order_by_field=this.order_by.field_name,this.order_by_direction=this.order_by.direction)}))},setColumns(){return Ue(this,void 0,void 0,(function*(){yield this.setVisibleColumns()}))},setVisibleColumns(){return Ue(this,void 0,void 0,(function*(){const e=yield this.getSavedColumns();this.filtered_columns=[],this.visible_columns=[];for(const t in e)e[t].selected=!1,e[t].label=this.getColumnLabel(e[t]),e[t].value=t,this.filtered_columns.push(e[t]),this.visible_columns.push(e[t]);this.sortColumns()}))},getColumnLabel(e){return e.label||(e.label=e.name),this.$t(e.label)},saveSettings(){return Ue(this,void 0,void 0,(function*(){if(this.error=!1,!this.order_by_field||!this.order_by_direction)return void(this.error=!0);this.processing=!0,this.order_by={field_name:this.order_by_field,direction:this.order_by_direction},yield this.saveOrderBy(),this.processing=!1,this.show_column_settings=!1;const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}))},sortColumns(){this.filtered_columns.sort(((e,t)=>e.order-t.order)),this.visible_columns.sort(((e,t)=>e.order-t.order))},filterlistEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filtered_columns=this.visible_columns.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filtered_columns=this.visible_columns})}},setup(){const e=(0,b.fX)(),{saveOrderBy:t,getSavedColumns:l}=e,{order_by:a}=(0,v.bP)(e);return{order_by:a,saveOrderBy:t,visible_columns:(0,_.KR)([]),visible_columns_obj_list:(0,_.KR)({}),filtered_columns:(0,_.KR)({}),processing:(0,_.KR)(!1),getSavedColumns:l,show_column_settings:(0,_.KR)(!1),order_by_field:(0,_.KR)(""),order_by_direction:(0,_.KR)(""),direction_options:(0,_.KR)([]),error:(0,_.KR)(!1)}}});var ze=l(48975),He=l(46868);const Ge=(0,D.A)(je,[["render",Ke]]),Ye=Ge;R()(je,"components",{QPopupProxy:ze.A,QBanner:He.A,QSelect:we.A,QInnerLoading:Le.A,QTooltip:Te.A});var Je=l(29508),Ze=l(73937);const et=(0,a.pM)({mixins:[],props:{},components:{ImportLogs:Je.A,TimeFilter:q,TableColumnsSettings:Re,SortColumnsSettings:Ye},watch:{},mounted:function(){document.addEventListener("advancedSettingsClose",this.closeAdvanceSetting),document.addEventListener("remove_advanced_settings_pop_up",this.removeAdvanceSetting),document.addEventListener("hide_import_logs",this.onImportLogPopupClose),this.is_admin=(0,Ze.N6)()},unmounted:function(){document.removeEventListener("advancedSettingsClose",this.closeAdvanceSetting),document.removeEventListener("remove_advanced_settings_pop_up",this.removeAdvanceSetting),document.removeEventListener("hide_import_logs",this.onImportLogPopupClose)},methods:{closeAdvanceSetting(e){const t=document.getElementById("advanceSettingRef");t&&(t.style.visibility="hidden")},removeAdvanceSetting(e){this.advanceSettingRef.hide()},showMailImportLogs(){this.show_import_logs=!this.show_import_logs},onImportLogPopupClose(){this.show_import_logs=!1}},data(){return{column_tooltip:"table_column_settings_tooltip"}},setup(){const e=(0,b.fX)(),t=(0,_.KR)(),{showKeyboardShortcuts:l}=(0,v.bP)(e);return{advanceSettingRef:t,showKeyboardShortcuts:l,is_admin:(0,_.KR)(!1),show_import_logs:(0,_.KR)(!1)}}});var tt=l(84436);const lt=(0,D.A)(et,[["render",E],["__scopeId","data-v-226ff59e"]]),at=lt;R()(et,"components",{QMenu:tt.A,QTooltip:Te.A,QIcon:Fe.A});const ot={class:"q-pa-md"},it={class:"row q-my-sm"},st={style:{"margin-top":"10px"}},nt={class:"row q-my-sm"},rt={style:{"margin-top":"10px"}},dt={class:"row q-my-sm"},ut={style:{"margin-top":"10px"}},ct={key:0,class:"row q-my-sm"},pt={style:{"margin-top":"10px"}},ht={class:"float-right q-ml-auto"};function mt(e,t,l,i,s,n){const r=(0,a.g2)("q-resize-observer"),d=(0,a.g2)("q-space"),u=(0,a.g2)("DocTypeFilter"),c=(0,a.g2)("StatusFilter"),p=(0,a.g2)("UserFilter"),h=(0,a.g2)("AssignedGroupFilter"),m=(0,a.g2)("dateRangeFilter"),_=(0,a.g2)("f-btn"),b=(0,a.g2)("q-menu"),v=(0,a.g2)("q-input"),g=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(r,{onResize:e.elementLoadedEvent,debounce:0},null,8,["onResize"]),(0,a.bF)(v,{dense:"",modelValue:e.searchInput,"onUpdate:modelValue":[t[4]||(t[4]=t=>e.searchInput=t),t[5]||(t[5]=t=>e.inputValueChanges())],class:(0,o.C4)(["search-invoices",0===e.searchInput.length?"search-in-active":"search-active"]),autofocus:"",placeholder:e.$t("search"),"data-cy":"search",outlined:""},{append:(0,a.k6)((()=>[(0,a.bF)(_,{icon:"tune",appearance:"flat",id:"btn_tune_filters"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{style:{width:"500px","min-height":"250px"},anchor:"bottom start",self:"top left",offset:[453,10],onShow:t[2]||(t[2]=t=>e.onFilterShow()),onHide:t[3]||(t[3]=t=>e.onFilterHide())},{default:(0,a.k6)((()=>[(0,a.Lk)("div",ot,[(0,a.Lk)("div",it,[(0,a.Lk)("span",st,(0,o.v_)(e.$t("document_type")),1),(0,a.bF)(d),(0,a.bF)(u)]),(0,a.Lk)("div",nt,[(0,a.Lk)("span",rt,(0,o.v_)(e.$t("status")),1),(0,a.bF)(d),(0,a.bF)(c)]),(0,a.Lk)("div",dt,[(0,a.Lk)("span",ut,(0,o.v_)(e.$t("assigned_to")),1),(0,a.bF)(d),(0,a.bF)(p)]),e.user_settings[e.group_permission_activated]?((0,a.uX)(),(0,a.CE)("div",ct,[(0,a.Lk)("span",pt,(0,o.v_)(e.$t("assigned_to_group")),1),(0,a.bF)(d),(0,a.bF)(h)])):(0,a.Q3)("",!0),(0,a.bF)(m),(0,a.Lk)("div",ht,[(0,a.bo)((0,a.bF)(_,{appearance:"secondary",class:"q-mr-sm mt-20 q-mb-md",label:e.$t("apply"),onClick:t[0]||(t[0]=t=>e.applyFilters())},null,8,["label"]),[[g]]),(0,a.bF)(_,{appearance:"secondary",class:"q-mr-sm mt-20 q-mb-md",label:e.$t("clear_filters"),id:"clear_filters",onClick:t[1]||(t[1]=t=>e.resetFilters())},null,8,["label"])])])])),_:1})])),_:1})])),_:1},8,["modelValue","class","placeholder"])],64)}var _t=l(53500),bt=l(76956);function vt(e,t,l,i,s,n){const r=(0,a.g2)("q-checkbox"),d=(0,a.g2)("q-item-section"),u=(0,a.g2)("q-item"),c=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(c,{ref:"qselect",class:"q-mr-sm",dense:"",style:{width:"227px"},multiple:"",outlined:"","use-input":"",modelValue:e.selected_status,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selected_status=t),e.modelUpdated],onFilter:e.filterlistEvent,onInput:e.clearFilter,options:e.filtered_status_list,label:e.$t("status"),"data-cy":"status"},{option:(0,a.k6)((({itemProps:e,selected:t,opt:l,toggleOption:i})=>[(0,a.bF)(u,(0,o._B)((0,a.Ng)(e)),{default:(0,a.k6)((()=>[(0,a.bF)(d,{side:""},{default:(0,a.k6)((()=>[(0,a.bF)(r,{"model-value":t,"onUpdate:modelValue":e=>i(l)},null,8,["model-value","onUpdate:modelValue"])])),_:2},1024),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,(0,o.v_)(l.label),1)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","onFilter","onInput","onUpdate:modelValue","options","label"])}var gt=l(64233),ft=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const yt=(0,a.pM)({mixins:[gt.A],props:{},watch:{status_list_loading:{handler:function(e,t){this.filtered_status_list=this.status_list}},tempFilterMap:{deep:!0,handler:function(e,t){this.loadSavedFiler()}}},data(){return{status_filter_style_setting:bt.D2}},mounted(){return ft(this,void 0,void 0,(function*(){if(this.user_settings[this.status_filter_style_setting]||(this.user_settings[this.status_filter_style_setting]=bt.aH.all),this.user_settings[this.status_filter_style_setting]==bt.aH.custom){this.status_list=[];let e=yield this.getSettingWithExpiry(bt.lJ);e.split(",").forEach((e=>{let t=e;"-"!=gt.A.methods.getLabelTranslation(e)&&this.status_list.push(Object.assign({},{value:t,label:gt.A.methods.getLabelTranslation(e)})),this.filtered_status_list=this.status_list}))}else this.getStatusesList(this.user_settings[this.status_filter_style_setting]);this.loadSavedFiler(),document.addEventListener("quick_filter_remove",this.quickFilterRemove)}))},unmounted:function(){document.removeEventListener("quick_filter_remove",this.quickFilterRemove)},methods:{quickFilterRemove(e){e&&e.detail&&"status"===e.detail&&(this.selected_status=null,this.tempFilterMap.delete("status"))},loadSavedFiler(){const e=this.tempFilterMap.get("status_list");e?(e.forEach((e=>{e.label=this.getLabelTranslation(e.value)})),this.selected_status=e):this.selected_status=[]},modelUpdated(){if(this.handleEmptyStatus())return;let e="";this.selected_status.length|0?(this.selected_status.forEach((t=>{e+=t.value+","})),this.tempFilterMap.set("status",e),this.tempFilterMap.set("status_list",this.selected_status)):(this.tempFilterMap.delete("status"),this.tempFilterMap.delete("status_list")),this.tempFilterMap.delete("tab_status"),this.triggerApplyFilters()},handleEmptyStatus(){return(!this.selected_status||null===this.selected_status)&&(this.quickFilterRemove({detail:"status"}),this.triggerApplyFilters(),!0)},triggerApplyFilters(){const e=new CustomEvent("reset_pages",{detail:{}});document.dispatchEvent(e)},filterlistEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filtered_status_list=this.status_list.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filtered_status_list=this.status_list})},clearFilter(){void 0!==this.$refs.qselect&&this.$refs.qselect.updateInputValue("")}},setup(){const e=(0,b.uN)(),{status_list_loading:t,status_list:l}=(0,v.bP)(e),{getStatusesList:a}=e,o=(0,b.fX)(),{tempFilterMap:i}=(0,v.bP)(o),{saveFilters:s}=o,n=(0,b.Bu)(),{user_settings:r}=(0,v.bP)(n),{getSettingWithExpiry:d}=n;return{saveFilters:s,getStatusesList:a,getSettingWithExpiry:d,status_list:l,tempFilterMap:i,status_list_loading:t,filtered_status_list:(0,_.KR)([]),selected_status:(0,_.KR)([]),user_settings:r}}});var kt=l(90124),wt=l(25173);const Ct=(0,D.A)(yt,[["render",vt]]),xt=Ct;R()(yt,"components",{QSelect:we.A,QItem:kt.A,QItemSection:wt.A,QCheckbox:xe.A});const Lt={class:"selected-item"};function Ft(e,t,l,i,s,n){const r=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(r,{outlined:"",class:"q-mr-sm",style:{width:"227px",height:"40px"},clearable:"",dense:"",modelValue:e.selected_doc_type,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selected_doc_type=t),e.modelUpdated],onFilter:e.filterlistEvent,options:e.filtered_document_type_list,label:e.$t("doc_type"),"data-cy":"doc_type"},{"selected-item":(0,a.k6)((e=>[(0,a.Lk)("div",Lt,(0,o.v_)(e.opt.label),1)])),_:1},8,["modelValue","onFilter","options","onUpdate:modelValue","label"])}var Et=l(24481);const At=(0,a.pM)({mixins:[Et.A],props:{},watch:{document_type_filter_loading:{handler:function(e,t){this.filtered_document_type_list=this.document_type_filter}},tempFilterMap:{deep:!0,handler:function(e,t){this.loadSavedFilter()}}},mounted(){this.getDocumentTypeFilters(),this.loadSavedFilter()},unmounted:function(){},methods:{resetFilters(){this.selected_doc_type=null,this.tempFilterMap.delete("doc_type")},loadSavedFilter(){const e=this.tempFilterMap.get("doc_type");e?(e.label=this.getDocTypeLabel(e),this.selected_doc_type=e):this.selected_doc_type=null},removeFilter(){this.selected_doc_type=null;const e=new CustomEvent("remove_filter_by_key",{detail:"selected_filter_status"});document.dispatchEvent(e)},modelUpdated(){this.handleEmptyStatus()||this.tempFilterMap.set("doc_type",this.selected_doc_type)},handleEmptyStatus(){return(!this.selected_doc_type||null===this.selected_doc_type)&&(this.resetFilters(),!0)},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},filterlistEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filtered_document_type_list=this.document_type_filter.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filtered_document_type_list=this.document_type_filter})}},setup(){const e=(0,b.h8)(),{document_type_filter:t,document_type_filter_loading:l}=(0,v.bP)(e),{getDocumentTypeFilters:a}=e,o=(0,b.fX)(),{tempFilterMap:i}=(0,v.bP)(o);return{getDocumentTypeFilters:a,document_type_filter:t,document_type_filter_loading:l,filtered_document_type_list:(0,_.KR)([]),selected_doc_type:(0,_.KR)(null),tempFilterMap:i}}}),St=(0,D.A)(At,[["render",Ft]]),Dt=St;R()(At,"components",{QSelect:we.A});const It={class:"ellipsis"};function Tt(e,t,l,i,s,n){const r=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(r,{ref:"q-select",class:"q-mr-sm user-filter-select",dense:"",outlined:"","use-input":"",modelValue:e.assigned_user,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.assigned_user=t),e.modelUpdated],options:e.usersDropdownList,onFilter:e.filterUserByName,label:e.$t("assigned_to"),loading:e.loading,"data-cy":"assigned_to"},{"selected-item":(0,a.k6)((e=>[(0,a.Lk)("div",It,(0,o.v_)(e.opt.label),1)])),_:1},8,["modelValue","options","onUpdate:modelValue","onFilter","label","loading"])}var Ot=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Mt=(0,a.pM)({mixins:[],props:{},watch:{tempFilterMap:{deep:!0,handler:function(e,t){this.loadFilters()}}},data(){return{loading:!1,assigned_to_me_only:"assigned_to_me_only",user_id_key:"user_id"}},mounted(){return Ot(this,void 0,void 0,(function*(){this.loading=!0,yield this.prepareUsersDropdown(),this.setUserOptions(),this.loadSelectedUser(),this.loading=!1}))},methods:{loadSelectedUser(){const e=this.tempFilterMap.get(this.user_id_key);this.assigned_user=e||{value:"",label:this.$t("all")}},loadFilters(){const e=this.tempFilterMap.get(this.assigned_to_me_only);if(e){this.tempFilterMap.delete(this.assigned_to_me_only);const e=(0,Ze.d9)();return this.assigned_user={value:e.id,label:e.userFullName},void this.tempFilterMap.set(this.user_id_key,this.assigned_user)}const t=this.tempFilterMap.get(this.user_id_key);t?this.assigned_user=t:this.resetFilters()},resetFilters(){this.assigned_user=null},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},modelUpdated(){0!=Object.entries(this.assigned_user).length&&"all"!=this.assigned_user.value?this.tempFilterMap.set(this.user_id_key,this.assigned_user):this.tempFilterMap.delete(this.user_id_key)},setUserOptions(){this.user_options=[{label:this.$t("all"),value:"all"}];let e=new Map(JSON.parse(JSON.stringify(Array.from(this.usersMap))));e.forEach(((e,t)=>{this.user_options.push({value:t,label:e.first_name+" "+e.last_name})})),this.resetFilters()},filterUserByName(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.usersDropdownList=this.user_options.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.usersDropdownList=this.user_options})}},setup(){const e=(0,b.fX)(),{tempFilterMap:t}=(0,v.bP)(e),l=(0,b.cY)(),{usersMap:a}=(0,v.bP)(l),{prepareUsersDropdown:o}=l;return{usersMap:a,tempFilterMap:t,assigned_user:(0,_.KR)(null),user_options:(0,_.KR)([]),usersDropdownList:(0,_.KR)([]),prepareUsersDropdown:o}}}),Rt=(0,D.A)(Mt,[["render",Tt]]),Pt=Rt;R()(Mt,"components",{QSelect:we.A});const qt={class:"row q-my-sm"},Vt={style:{"margin-top":"10px"}},Nt={class:"row items-center justify-end"},Bt={class:"row q-my-sm"},$t={style:{"margin-top":"10px"}},Qt={class:"row items-center justify-end"};function Xt(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-date"),c=(0,a.g2)("q-popup-proxy"),p=(0,a.g2)("q-icon"),h=(0,a.g2)("q-input"),m=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",qt,[(0,a.Lk)("span",Vt,(0,o.v_)(e.$t("start_date")),1),(0,a.bF)(r),(0,a.bF)(h,{outlined:"",dense:"",modelValue:e.startDate,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.startDate=t),t[3]||(t[3]=t=>e.modelUpdated())],"data-cy":"start_date",clearable:!0,class:"q-mr-sm",style:{width:"227px",height:"40px"}},{append:(0,a.k6)((()=>[(0,a.bF)(p,{name:"event",class:"cursor-pointer",id:"btn_start_date"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{modelValue:e.startDate,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.startDate=t),t[1]||(t[1]=t=>e.modelUpdated())],mask:"YYYY-MM-DD"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Nt,[(0,a.bo)((0,a.bF)(d,{label:"Close",color:"primary",flat:""},null,512),[[m]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,a.Lk)("div",Bt,[(0,a.Lk)("span",$t,(0,o.v_)(e.$t("end_date")),1),(0,a.bF)(r),(0,a.bF)(h,{outlined:"",dense:"",modelValue:e.endDate,"onUpdate:modelValue":[t[6]||(t[6]=t=>e.endDate=t),t[7]||(t[7]=t=>e.modelUpdated())],"data-cy":"end_date",clearable:!0,class:"q-mr-sm",style:{width:"227px",height:"40px"}},{append:(0,a.k6)((()=>[(0,a.bF)(p,{name:"event",class:"cursor-pointer","data-cy":"btn_end_date"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{modelValue:e.endDate,"onUpdate:modelValue":[t[4]||(t[4]=t=>e.endDate=t),t[5]||(t[5]=t=>e.modelUpdated())],mask:"YYYY-MM-DD"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Qt,[(0,a.bo)((0,a.bF)(d,{label:"Close",color:"primary",flat:""},null,512),[[m]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])],64)}const Wt=(0,a.pM)({mixins:[],props:{},watch:{tempFilterMap:{deep:!0,handler:function(e,t){this.loadFilters()}}},mounted(){this.loadFilters()},methods:{loadFilters(){const e=this.tempFilterMap.get("date_range");if(!e)return this.startDate="",void(this.endDate="");const t=e.split(bt.aH.dateSplitBy);t[0]!=bt.aH.questionSymbol&&(this.startDate=t[0]),t[1]!=bt.aH.questionSymbol&&(this.endDate=t[1])},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},modelUpdated(){let e="";(this.startDate||this.endDate)&&(this.startDate?e=this.startDate:e+=bt.aH.questionSymbol,e+=bt.aH.dateSplitBy,this.endDate?e+=this.endDate:e+=bt.aH.questionSymbol),e?this.tempFilterMap.set("date_range",e):this.tempFilterMap.delete("date_range")}},setup(){const e=(0,b.fX)(),{tempFilterMap:t}=(0,v.bP)(e);return{tempFilterMap:t,startDate:(0,_.KR)(""),endDate:(0,_.KR)("")}}});var Kt=l(93676),Ut=l(93692);const jt=(0,D.A)(Wt,[["render",Xt]]),zt=jt;function Ht(e,t,l,o,i,s){const n=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(n,{ref:"q-select",class:"q-mr-sm group-filter-select",dense:"",outlined:"","use-input":"",modelValue:e.assigned_to_group,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.assigned_to_group=t),e.modelUpdated],options:e.groupsDropdown,onFilter:e.filterGroupByName,label:e.$t("assigned_to_group"),loading:e.processing,"data-cy":"assigned_to_group"},null,8,["modelValue","options","onUpdate:modelValue","onFilter","label","loading"])}R()(Wt,"components",{QSpace:Kt.A,QInput:Ce.A,QIcon:Fe.A,QPopupProxy:ze.A,QDate:Ut.A,QBtn:O.A}),R()(Wt,"directives",{ClosePopup:Ee.A});var Gt=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Yt=(0,a.pM)({mixins:[],props:{},watch:{tempFilterMap:{deep:!0,handler:function(e,t){this.loadFilters()}}},data(){return{group_id_key:"group_id"}},mounted(){this.init()},methods:{init(){return Gt(this,void 0,void 0,(function*(){yield this.prepareGroupsData()}))},prepareGroupsData(){return Gt(this,void 0,void 0,(function*(){this.groups&&this.groups.length>0||(yield this.getPermissionsData()),this.prepareData()}))},prepareData(){if(this.groups&&0!=this.groups.length){this.groupsList=[];for(let e of this.groups)this.groupsList.push({value:e.group_id,label:e.group_name});this.groupsDropdown=this.groupsList}},loadSelectedgroup(){const e=this.tempFilterMap.get(this.group_id_key);e&&(this.assigned_to_group=e)},loadFilters(){const e=this.tempFilterMap.get(this.group_id_key);e?this.assigned_to_group=e:this.resetFilters()},resetFilters(){this.assigned_to_group=null},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},modelUpdated(){0!=Object.entries(this.assigned_to_group).length?this.tempFilterMap.set(this.group_id_key,this.assigned_to_group):this.tempFilterMap.delete(this.group_id_key)},filterGroupByName(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.groupsDropdown=this.groupsList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.groupsDropdown=this.groupsList})}},setup(){const e=(0,b.fX)(),{tempFilterMap:t}=(0,v.bP)(e),l=(0,b.cY)(),{usersMap:a}=(0,v.bP)(l),{prepareUsersDropdown:o}=l,i=(0,b.H4)(),{getPermissionsData:s}=i,{groups:n,processing:r}=(0,v.bP)(i);return{groups:n,usersMap:a,processing:r,tempFilterMap:t,assigned_to_group:(0,_.KR)(null),groupsDropdown:(0,_.KR)([]),groupsList:(0,_.KR)([]),prepareUsersDropdown:o,getPermissionsData:s}}}),Jt=(0,D.A)(Yt,[["render",Ht]]),Zt=Jt;R()(Yt,"components",{QSelect:we.A});const el=(0,a.pM)({mixins:[],props:{},components:{UserFilter:Pt,StatusFilter:xt,DocTypeFilter:Dt,dateRangeFilter:zt,AssignedGroupFilter:Zt},watch:{quickFilterMap:{deep:!0,handler:function(e,t){this.loadSavedFiler()}}},mounted(){this.debounceSearchInputFunc=(0,_t.A)((()=>{this.triggerApplyFilters()}),1e3),window.addEventListener("resize",this.elementLoadedEvent),document.addEventListener("delete_input_text",this.clearSearchInput)},methods:{clearSearchInput(){this.searchInput=""},elementLoadedEvent(){const e=new CustomEvent("load_saved_filter_badge",{detail:""});document.dispatchEvent(e)},resetFilters(){const e=new CustomEvent("reset_filters",{});document.dispatchEvent(e)},loadSavedFiler(){const e=this.quickFilterMap.get("keyword");e?(this.searchInput=e,this.oldSearchInput=e):this.clearSearchInput()},inputValueChanges(){if(this.searchInput&&(this.searchInput=this.searchInput.trim()),!this.searchInput&&this.oldSearchInput==this.searchInput)return;if(this.oldSearchInput=this.searchInput,this.reset_pagination=!1,this.handleEmptyStatus())return void this.debounceSearchInputFunc();const e=this.quickFilterMap.get("keyword");e!==this.searchInput&&(this.reset_pagination=!0),this.quickFilterMap.set("keyword",this.searchInput),this.debounceSearchInputFunc()},handleEmptyStatus(){return(!this.searchInput||null===this.searchInput||""===this.searchInput.trim())&&(this.resetFilters(),!0)},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{reset_pagination:this.reset_pagination}});document.dispatchEvent(e)},applyFilters(){this.quickFilterMap=new Map(this.tempFilterMap),this.reset_pagination=!1,this.triggerApplyFilters()},onFilterShow(){this.tempFilterMap=new Map(this.quickFilterMap)},onFilterHide(){}},setup(){const e=(0,b.fX)(),{quickFilterMap:t,tempFilterMap:l}=(0,v.bP)(e),a=(0,b.Bu)(),{user_settings:o}=(0,v.bP)(a);return{searchInput:(0,_.KR)(""),oldSearchInput:(0,_.KR)(""),user_settings:o,tempFilterMap:l,quickFilterMap:t,showing:(0,_.KR)(!1),group_permission_activated:bt.SH,debounceSearchInputFunc:{},reset_pagination:(0,_.KR)(!1)}}});var tl=l(1096),ll=l(67156);const al=(0,D.A)(el,[["render",mt]]),ol=al;R()(el,"components",{QResizeObserver:tl.A,QInput:Ce.A,QMenu:tt.A,QSpace:Kt.A,QField:ll.A}),R()(el,"directives",{ClosePopup:Ee.A});const il={class:"saved-filter-badge row absolute"};function sl(e,t,l,i,s,n){const r=(0,a.g2)("q-icon"),d=(0,a.g2)("q-badge");return(0,a.uX)(),(0,a.CE)("div",il,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.quickFilterMap,(([t,l])=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t},[l&&l.hasOwnProperty("value")&&"all_invoices"===l.value||"status"===t?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[],64)):"status_list"==t?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:1},(0,a.pI)(l,((l,i)=>((0,a.uX)(),(0,a.CE)("div",{key:l.value},[(0,a.bF)(d,{rounded:"",color:"primary",class:"q-mr-sm capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t(l.value))+" ",1),(0,a.bF)(r,{name:"close",color:"white",size:"xs",class:"q-ml-xs cursor-pointer",style:{"font-size":"12px !important"},onClick:a=>e.removeFilter(t,i,l)},null,8,["onClick"])])),_:2},1024)])))),128)):((0,a.uX)(),(0,a.Wv)(d,{key:2,rounded:"",color:"primary",class:"q-mr-sm"},{default:(0,a.k6)((()=>[l.hasOwnProperty("label")?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(l.translation_key?e.getDocTypeLabel(l):e.$t(l.label)),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(l),1)],64)),(0,a.bF)(r,{name:"close",color:"white",class:"q-ml-xs cursor-pointer",size:"xs",style:{"font-size":"12px !important"},onClick:l=>e.removeFilter(t)},null,8,["onClick"])])),_:2},1024))],64)))),128))])}var nl=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const rl=(0,a.pM)({props:{},mixins:[Et.A],mounted(){this.init(),document.addEventListener("load_saved_filter_badge",this.loadSavedFiltersBadges)},unmounted:function(){document.removeEventListener("load_saved_filter_badge",this.loadSavedFiltersBadges)},methods:{init(){return nl(this,void 0,void 0,(function*(){yield this.$nextTick(),this.loadSavedFiltersBadges()}))},removeFilter(e,t,l=null){if(e.includes("status_")){this.quickFilterMap.get("status_list").splice(t,1);const e=this.quickFilterMap.get("status").replace(l.value+",","");this.quickFilterMap.set("status",e)}else this.quickFilterMap.delete(e);if("keyword"==e){const e=new CustomEvent("delete_input_text",{detail:{}});document.dispatchEvent(e)}this.triggerApplyFilters(),this.triggerRemoveFilterByKey(e)},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},triggerRemoveFilterByKey(e){return nl(this,void 0,void 0,(function*(){yield this.$nextTick();const t=new CustomEvent("remove_filter_by_key",{detail:e});document.dispatchEvent(t)}))},loadSavedFiltersBadges(){const e=document.querySelector(".search-input");if(!e)return;const t=document.querySelector(".saved-filter-badge");if(!t)return;let l=e.getBoundingClientRect(),a=Number(l.left+window.pageXOffset);t.style.left=a-20+"px"}},setup(){const e=(0,b.fX)(),{quickFilterMap:t}=(0,v.bP)(e);return{quickFilterMap:t}}});var dl=l(23954);const ul=(0,D.A)(rl,[["render",sl]]),cl=ul;R()(rl,"components",{QBadge:dl.A,QIcon:Fe.A});var pl=l(93865);function hl(e,t,l,i,s,n){const r=(0,a.g2)("q-tooltip"),d=(0,a.g2)("f-btn");return e.showScanButton?((0,a.uX)(),(0,a.Wv)(d,{key:0,square:"",class:"q-mr-sm mt-20",icon:"img:images/scannen.svg",onClick:t[0]||(t[0]=e=>this.$router.push("/scan"))},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("scan_document")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)}var ml=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const _l=(0,a.pM)({props:{},mounted(){this.get_scan_settings()},methods:{get_scan_settings(){return ml(this,void 0,void 0,(function*(){const e=yield this.getSettingWithExpiry("DOC_SCAN_MODULE_SETTING");e&&(this.showScanButton=e)}))}},setup(){const e=(0,b.Bu)(),{getSettingWithExpiry:t}=e;return{getSettingWithExpiry:t,showScanButton:(0,_.KR)(!1)}}}),bl=(0,D.A)(_l,[["render",hl]]),vl=bl;R()(_l,"components",{QTooltip:Te.A});const gl={class:"row q-gutter-md justify-start"},fl={class:"text-h6"},yl={class:"text-subtitle2"},kl={class:"text-h6"},wl={class:"text-subtitle2"},Cl={class:"text-h6"},xl={class:"text-subtitle2"},Ll={class:"text-h6"},Fl={class:"text-subtitle2"},El={class:"text-h6"},Al={class:"text-subtitle2"},Sl={class:"text-h6"},Dl={class:"text-subtitle2"};function Il(e,t,l,i,s,n){const r=(0,a.g2)("q-card-section"),d=(0,a.g2)("q-tooltip"),u=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.CE)("div",gl,[(0,a.bF)(u,{id:"all_invoices",class:(0,o.C4)(["analytic-card no-shadow no-shadow cursor-pointer clickable","all_invoices"===e.selected_filter_status?"selected-card":""]),onClick:t[0]||(t[0]=t=>e.filterTabSelected("all_invoices",e.$t("all_invoices"))),style:{"border-left-color":"#2388ae"}},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",fl,(0,o.v_)(e.all_invoices),1),(0,a.Lk)("div",yl,(0,o.v_)(e.$t("all_invoices")),1)])),_:1}),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)("Click to Filter by "+(0,o.v_)(e.$t("all_invoices")),1)])),_:1})])),_:1},8,["class"]),(0,a.bF)(u,{id:"in_progress",class:(0,o.C4)(["analytic-card no-shadow cursor-pointer clickable","in-progress"===e.selected_filter_status?"selected-card":""]),onClick:t[1]||(t[1]=t=>e.filterTabSelected("in-progress",e.$t("in_progress"))),style:{"border-left-color":"#409fff"}},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",kl,(0,o.v_)(e.in_progress),1),(0,a.Lk)("div",wl,(0,o.v_)(e.$t("in_progress")),1)])),_:1}),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)("Click to Filter by "+(0,o.v_)(e.$t("in_progress")),1)])),_:1})])),_:1},8,["class"]),(0,a.bF)(u,{id:"pending_user_input",class:(0,o.C4)(["analytic-card no-shadow cursor-pointer clickable","pending-user-input"===e.selected_filter_status?"selected-card":""]),onClick:t[2]||(t[2]=t=>e.filterTabSelected("pending-user-input",e.$t("pending_user_input"))),style:{"border-left-color":"#ffe240"}},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Cl,(0,o.v_)(e.pending),1),(0,a.Lk)("div",xl,(0,o.v_)(e.$t("pending_user_input")),1)])),_:1}),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)("Click to Filter by "+(0,o.v_)(e.$t("pending_user_input")),1)])),_:1})])),_:1},8,["class"]),(0,a.bF)(u,{id:"validated_pending_approval",class:(0,o.C4)(["analytic-card no-shadow cursor-pointer clickable","validated_pending_approval"===e.selected_filter_status?"selected-card":""]),onClick:t[3]||(t[3]=t=>e.filterTabSelected("validated_pending_approval",e.$t("validated_pending_approval"))),style:{"border-left-color":"#41b2bb"}},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Ll,(0,o.v_)(e.validated_pending_approval+e.approved_pending_second_approval),1),(0,a.Lk)("div",Fl,(0,o.v_)(e.$t("validated_pending_approval")),1)])),_:1}),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)("Click to Filter by "+(0,o.v_)(e.$t("validated_pending_approval")),1)])),_:1})])),_:1},8,["class"]),(0,a.bF)(u,{id:"exported",class:(0,o.C4)(["analytic-card no-shadow cursor-pointer clickable","finished"===e.selected_filter_status?"selected-card":""]),onClick:t[4]||(t[4]=t=>e.filterTabSelected("finished",e.$t("exported"))),style:{"border-left-color":"#80bb41"}},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",El,(0,o.v_)(e.completed),1),(0,a.Lk)("div",Al,(0,o.v_)(e.$t("exported")),1)])),_:1}),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)("Click to Filter by "+(0,o.v_)(e.$t("exported")),1)])),_:1})])),_:1},8,["class"]),(0,a.bF)(u,{id:"error",class:(0,o.C4)(["analytic-card no-shadow cursor-pointer clickable","error"===e.selected_filter_status?"selected-card":""]),onClick:t[5]||(t[5]=t=>e.filterTabSelected("error",e.$t("error"))),style:{"border-left-color":"#d74061"}},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Sl,(0,o.v_)(e.error),1),(0,a.Lk)("div",Dl,(0,o.v_)(e.$t("error")),1)])),_:1}),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)("Click to Filter by "+(0,o.v_)(e.$t("error")),1)])),_:1})])),_:1},8,["class"])])}const Tl=(0,a.pM)({mixins:[],props:{},watch:{quickFilterMap:{deep:!0,handler:function(e,t){this.loadFilters()}}},components:{},mounted(){document.addEventListener("dashboard_refresh",this.refreshFilters)},unmounted:function(){document.removeEventListener("dashboard_refresh",this.refreshFilters)},methods:{refreshFilters(){this.all_invoices=0,this.automatically_processed=0,this.manually_processed=0,this.completed=0,this.in_progress=0,this.pending=0,this.validated_pending_approval=0,this.approved_pending_second_approval=0,this.error=0},loadFilters(){const e=this.quickFilterMap.get("tab_status");e||(this.selected_filter_status="all_invoices")},filterTabSelected(e,t){this.selected_filter_status=e;const l=new CustomEvent("quick_filter_remove",{detail:"status"});if(document.dispatchEvent(l),this.quickFilterMap.delete("tab_status"),this.quickFilterMap.delete("status_list"),this.quickFilterMap.delete("status"),"validated_pending_approval"===e){let e="validated_pending_approval,approved_pending_second_approval,";this.quickFilterMap.set("status",e),this.quickFilterMap.set("status_list",[{value:"validated_pending_approval",label:"Pending Approval"},{value:"approved_pending_second_approval",label:"Pending Second Approval"}])}else this.quickFilterMap.set("tab_status",{value:e,label:t});this.triggerApplyFilters()},triggerApplyFilters(){logInfo("triggerApplyFilters",this.quickFilterMap);const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}},setup(){const e=(0,b.fX)(),{quickFilterMap:t,all_invoices:l,automatically_processed:a,manually_processed:o,completed:i,in_progress:s,pending:n,validated_pending_approval:r,approved_pending_second_approval:d,error:u}=(0,v.bP)(e);return{quickFilterMap:t,show_analytics:(0,_.KR)(!1),selected_filter_status:(0,_.KR)("all_invoices"),all_invoices:l,automatically_processed:a,manually_processed:o,completed:i,in_progress:s,pending:n,validated_pending_approval:r,approved_pending_second_approval:d,error:u}}}),Ol=(0,D.A)(Tl,[["render",Il],["__scopeId","data-v-5139f740"]]),Ml=Ol;R()(Tl,"components",{QCard:ge.A,QCardSection:ke.A,QTooltip:Te.A});const Rl={class:"text-weight-medium text-h6"},Pl={class:"highlighted-back"},ql={class:"text-left",style:{"font-weight":"bold"}},Vl={class:"text-left",style:{"font-weight":"900"}},Nl={class:"text-left",style:{"font-weight":"bold"}},Bl={class:"text-left",style:{"font-weight":"900"}},$l=["src"],Ql=(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," k ",-1),Xl={class:"text-left",style:{"font-weight":"bold"}},Wl={class:"text-left",style:{"font-weight":"900"}},Kl=["src"],Ul=(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," Q ",-1);function jl(e,t,l,i,s,n){const r=(0,a.g2)("q-card-section"),d=(0,a.g2)("q-icon"),u=(0,a.g2)("q-markup-table");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Rl,(0,o.v_)(e.$t("keyboard_shortcuts")),1)])),_:1}),(0,a.bF)(r,{class:"v-p-0"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"full-width",style:{overflow:"scroll","max-height":"60vh"},"virtual-scroll":""},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",Pl,[(0,a.Lk)("th",ql,(0,o.v_)(e.$t("action")),1),(0,a.Lk)("th",Vl,(0,o.v_)(e.$t("keyboard_shortcut")),1)])]),(0,a.Lk)("tbody",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",Nl,(0,o.v_)(e.$t("doc2light.descriptions.check_keyboard_shortcut")),1),(0,a.Lk)("td",Bl,[(0,a.bF)(d,{class:"black_to_white",size:"40px"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,$l)])),_:1}),(0,a.eW)(" + "),Ql])]),(0,a.Lk)("tr",null,[(0,a.Lk)("td",Xl,(0,o.v_)(e.$t("refresh_list")),1),(0,a.Lk)("td",Wl,[(0,a.bF)(d,{size:"40px",class:"black_to_white"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,Kl)])),_:1}),(0,a.eW)(" + "),Ul])])])])),_:1})])),_:1})],64)}var zl=l(18453);const Hl=(0,a.pM)({el:"#app",mixins:[zl.A],props:{},components:{},data(){return{combination_key:""}},mounted:function(){this.combination_key=this.getCombinationKey(null)},setup(){return{}}});var Gl=l(857);const Yl=(0,D.A)(Hl,[["render",jl]]),Jl=Yl;R()(Hl,"components",{QCardSection:ke.A,QMarkupTable:Gl.A,QIcon:Fe.A});var Zl=l(16588),ea=l(11470),ta=l(24622),la=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const aa=(0,a.pM)({mixins:[Zl.A,ta.A],props:{},watch:{},components:{savedFilterBadges:cl,ImportMultiInvoice:pl.A,advancedSettings:at,quickSearch:ol,scanButton:vl,analytics:Ml,keyboardShortcutInfo:Jl},mounted:function(){document.addEventListener("keydown",this.keyDownEvent),document.addEventListener("open_keyboard_shortcuts",this.openKeyboardShortcuts),this.user_settings[this.export_dashboard_data_setting]||(this.user_settings[this.export_dashboard_data_setting]=!1),this.export_active=this.user_settings[this.export_dashboard_data_setting]},unmounted:function(){document.removeEventListener("keydown",this.keyDownEvent),document.removeEventListener("open_keyboard_shortcuts",this.openKeyboardShortcuts)},methods:{openKeyboardShortcuts(){this.showKeyboardShortcuts=!0},refreshFilters(){const e=new CustomEvent("dashboard_refresh_data",{detail:{show_shimmer_loader:!0,refresh_cache:!0}});document.dispatchEvent(e)},beforeShowKeyboard(){const e=new CustomEvent("advancedSettingsClose");document.dispatchEvent(e)},beforeHideKeyboard(){document.dispatchEvent(new CustomEvent("remove_advanced_settings_pop_up"))},startEmailImport(){return la(this,void 0,void 0,(function*(){try{const e=yield ea.D.importAllEmails();if(!1===e.success)return void this.showErrorToast(e.message);this.showSuccessToast(e.message)}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}}))},resetFilters(){const e=new CustomEvent("reset_filters",{});document.dispatchEvent(e)},exportDashboardData(e){if("excel"===e){const e=new CustomEvent("export_data_as_excel",{detail:{show_shimmer_loader:!0,refresh_cache:!0}});document.dispatchEvent(e)}else if("csv"===e){const e=new CustomEvent("export_data_as_csv",{detail:{show_shimmer_loader:!0,refresh_cache:!0}});document.dispatchEvent(e)}}},setup(){const e=(0,b.fX)(),{quickFilterMap:t,all_invoices:l,current_invoice_count:a,showKeyboardShortcuts:o}=(0,v.bP)(e),i=(0,b.Bu)(),{user_settings:s}=(0,v.bP)(i);return{current_invoice_count:a,showKeyboardShortcuts:o,quickFilterMap:t,show_advanced_filters:(0,_.KR)(!1),show_analytics:(0,_.KR)(!1),all_invoices:l,export_dashboard_data_setting:bt.WT,export_active:(0,_.KR)(!1),user_settings:s}}});var oa=l(10386),ia=l(62669);const sa=(0,D.A)(aa,[["render",m]]),na=sa;R()(aa,"components",{QSpace:Kt.A,QTooltip:Te.A,QMenu:tt.A,QItem:kt.A,QItemSection:wt.A,QSeparator:oa.A,QDialog:Oe.A,QCard:ge.A,QCardActions:ia.A,QBtn:O.A})},57924:(e,t,l)=>{"use strict";l.d(t,{A:()=>b});var a=l(61758),o=l(58790);const i={class:"error"},s={class:"row justify-center items-center q-ma-lg"},n={class:"col-6 inline-block"},r=(0,a.Lk)("div",{class:"error-heading"},"Shoot!",-1),d={class:"text-h2"},u={class:"text-h5"},c=(0,a.Lk)("div",{class:"col-4 error-img inline-block"},[(0,a.Lk)("img",{src:"images/error.svg",alt:"Error Image"})],-1);function p(e,t,l,p,h,m){return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",s,[(0,a.Lk)("div",n,[r,(0,a.Lk)("div",d,(0,o.v_)(e.heading),1),(0,a.Lk)("div",u,(0,o.v_)(e.$t("errors.error_code"))+": "+(0,o.v_)(e.status_code),1),(0,a.RG)(e.$slots,"default")]),c])])}const h=(0,a.pM)({mixins:[],props:{heading:{type:String,default:""},status_code:{type:String,default:"500"}},data(){return{}},methods:{}});var m=l(12807);const _=(0,m.A)(h,[["render",p]]),b=_},11497:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>w});var a=l(61758),o=l(58790);const i={class:"container",style:{display:"flex",width:"100%"}},s=(0,a.Lk)("img",{src:"https://fellowpro.com/wp-content/uploads/2023/06/LOGO_DocBits.png",target:"_blank"},null,-1),n={style:{"margin-left":"auto",display:"flex"}},r={class:"text-h6"};function d(e,t,l,d,u,c){const p=(0,a.g2)("q-avatar"),h=(0,a.g2)("q-btn"),m=(0,a.g2)("LanguageDropdown"),_=(0,a.g2)("q-toolbar"),b=(0,a.g2)("q-header"),v=(0,a.g2)("Error");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(_,{class:"toolbar"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.bF)(p,{class:"img_header cursor-pointer"},{default:(0,a.k6)((()=>[s])),_:1}),(0,a.Lk)("div",n,[(0,a.bF)(h,{flat:"",class:"line-height",color:"primary text-white ",label:e.$t("layout.home"),onClick:t[0]||(t[0]=t=>e.gotoCloud()),target:"_blank"},null,8,["label"]),(0,a.bF)(m)])])])),_:1})])),_:1}),(0,a.bF)(v,{heading:e.$t("pages.messages.PAGE_NOT_FOUND"),status_code:"404"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,[(0,a.Lk)("div",null,(0,o.v_)(e.$t("errors.error_404")),1),(0,a.Lk)("div",null,[(0,a.eW)((0,o.v_)(e.$t("errors.please_visit"))+" ",1),(0,a.Lk)("a",{class:"cursor-pointer",onClick:t[1]||(t[1]=t=>e.help_center())},(0,o.v_)(e.$t("help_center")),1),(0,a.eW)(" "+(0,o.v_)(e.$t("errors.for_additional_message")),1)])])])),_:1},8,["heading"])],64)}var u=l(57924),c=l(48156),p=l(95548);const h=(0,a.pM)({mixins:[p.A],components:{Error:u.A,LanguageDropdown:c.A},methods:{gotoCloud(){this.$router.push("/")}}});var m=l(12807),_=l(8416),b=l(36914),v=l(3952),g=l(56384),f=l(98582),y=l.n(f);const k=(0,m.A)(h,[["render",d]]),w=k;y()(h,"components",{QHeader:_.A,QToolbar:b.A,QAvatar:v.A,QBtn:g.A})},12566:(e,t,l)=>{"use strict";l.d(t,{A:()=>L});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-8358f402"),e=e(),(0,a.jt)(),e),s={key:0,class:"q-dialog fullscreen no-pointer-events q-dialog--modal banner-parent"},n=i((()=>(0,a.Lk)("div",{class:"q-dialog__backdrop fixed-full","aria-hidden":"true",style:{"--q-transition-duration":"300ms"}},null,-1))),r={class:"error-banner row q-dialog__inner all-pointer-events"},d={class:"left-side"},u={class:"message"},c={key:0},p={key:1},h=i((()=>(0,a.Lk)("span",{class:"right-side"},null,-1)));function m(e,t,l,i,m,_){const b=(0,a.g2)("q-btn");return e.error?((0,a.uX)(),(0,a.CE)("div",s,[n,(0,a.Lk)("div",r,[(0,a.Lk)("span",d,[(0,a.bF)(b,{class:"reload-doc text-weight-bold",to:"/dashboard"},{default:(0,a.k6)((()=>[(0,a.eW)(" Dashboard ")])),_:1})]),(0,a.Lk)("span",u,[e.errors.hasOwnProperty(e.error_message)?((0,a.uX)(),(0,a.CE)("span",c,(0,o.v_)(e.$t(e.errors[e.error_message])),1)):((0,a.uX)(),(0,a.CE)("span",p,(0,o.v_)(e.$t(e.errors["general"])),1))]),h])])):(0,a.Q3)("",!0)}var _=l(1659),b=l(83319);const v=(0,a.pM)({el:"#app",mixins:[],components:{},data(){return{errors:{invalid:"pages.messages.INVALID_DOCUMENT",permission:"doc_permission_error",general:"pages.messages.error_internal_occur",invalid_status:"doc_invalid_status_error",error_status:"document_has_error_status",record_not_found:"record_not_found"}}},methods:{},setup(){const e=(0,b.q3)(),{error:t,error_message:l}=(0,_.bP)(e);return{error:t,error_message:l}}});var g=l(12807),f=l(82156),y=l(44488),k=l(56384),w=l(98582),C=l.n(w);const x=(0,g.A)(v,[["render",m],["__scopeId","data-v-8358f402"]]),L=x;C()(v,"components",{QDialog:f.A,QTr:y.A,QBtn:k.A})},62103:(e,t,l)=>{"use strict";l.d(t,{A:()=>x});var a=l(61758),o=l(58790);const i={class:"update-banner"},s={class:"message text-center"},n={class:"q-mb-md"},r={class:"q-mt-md"};function d(e,t,l,d,u,c){const p=(0,a.g2)("q-btn"),h=(0,a.g2)("q-dialog");return(0,a.uX)(),(0,a.Wv)(h,{persistent:"",modelValue:e.app_update_warning,"onUpdate:modelValue":t[0]||(t[0]=t=>e.app_update_warning=t)},{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.Lk)("div",s,[(0,a.Lk)("span",n,(0,o.v_)(e.$t("new_version_available")),1),(0,a.Lk)("div",r,[(0,a.bF)(p,{push:"",class:"reload-page text-weight-bold",label:e.$t("refresh_to_close"),onClick:e.refreshPage},null,8,["label","onClick"])])])])])),_:1},8,["modelValue"])}var u=l(1659),c=l(45938),p=l(83319),h=l(6044),m=l(55930),_=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const b=(0,a.pM)({el:"#app",mixins:[h.A],components:{},data(){return{}},methods:{refreshPage(){return _(this,void 0,void 0,(function*(){yield this.setOrgSettings(),this.clearStorageForRefresh(),yield c.tH.fetch(),m.U.updateVersion(),this.app_update_warning=!1,window.location.reload()}))}},setup(){const e=(0,p.Bu)(),{setOrgSettings:t}=e,{app_update_warning:l}=(0,u.bP)(e);return{app_update_warning:l,setOrgSettings:t}}});var v=l(12807),g=l(82156),f=l(44488),y=l(56384),k=l(98582),w=l.n(k);const C=(0,v.A)(b,[["render",d],["__scopeId","data-v-7dc8f16a"]]),x=C;w()(b,"components",{QDialog:g.A,QTr:f.A,QBtn:y.A})},3398:(e,t,l)=>{"use strict";l.d(t,{A:()=>fe});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-50d25247"),e=e(),(0,a.jt)(),e),n={class:"row"},r={class:"row col-12"},d={class:"col-auto q-ml-md q-mr-sm"},u={class:"ellipsis"},c={class:"col-auto q-mr-sm"},p={class:"ellipsis"},h={class:"col"},m={class:"row mb-10"},_={class:"col-auto q-ml-md q-mr-sm"},b={class:"full-width"},v={class:"float-right"},g=s((()=>(0,a.Lk)("div",{class:"col-auto q-ml-auto"},null,-1))),f={class:"q-pl-md q-pr-md q-pt-md"},y={class:"text-item"},k={class:"back-white flex justify-end"},w={class:"row",style:{"margin-right":"0"}},C=s((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function x(e,t,l,s,x,L){const F=(0,a.g2)("q-tooltip"),E=(0,a.g2)("q-icon"),A=(0,a.g2)("q-select"),S=(0,a.g2)("q-input"),D=(0,a.g2)("q-btn"),I=(0,a.g2)("q-checkbox"),T=(0,a.g2)("f-btn"),O=(0,a.g2)("CreateTaskBtn"),M=(0,a.g2)("savedSortByBadges"),R=(0,a.g2)("ColumnOrderBy"),P=(0,a.g2)("q-th"),q=(0,a.g2)("q-tr"),V=(0,a.g2)("q-td"),N=(0,a.g2)("q-table"),B=(0,a.g2)("q-pagination"),$=(0,a.g2)("q-card-section"),Q=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)($,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.advance_filters,((l,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s,class:"row mb-10"},[(0,a.Lk)("div",d,[(0,a.bF)(A,{outlined:"",class:"ms-select",clearable:"",modelValue:l["field"],"onUpdate:modelValue":e=>l["field"]=e,options:e.tableColumns,"emit-value":"","map-options":""},{append:(0,a.k6)((()=>[l["validate_field_name"]?((0,a.uX)(),(0,a.Wv)(E,{key:0,flat:"",dense:"",name:"error",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),"selected-item":(0,a.k6)((e=>[(0,a.Lk)("div",u,(0,o.v_)(e.opt.label),1)])),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),(0,a.Lk)("div",c,[(0,a.bF)(A,{outlined:"",class:"ms-select ms-select-operator left-border-none",clearable:"",modelValue:l["operator"],"onUpdate:modelValue":e=>l["operator"]=e,options:e.search_operators,"emit-value":"","map-options":""},{append:(0,a.k6)((()=>[l["validate_operator"]?((0,a.uX)(),(0,a.Wv)(E,{key:0,flat:"",dense:"",name:"error",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),"selected-item":(0,a.k6)((e=>[(0,a.Lk)("div",p,(0,o.v_)(e.opt.label),1)])),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),(0,a.Lk)("div",h,[(0,a.bF)(S,{borderless:"",modelValue:l["search_text"],"onUpdate:modelValue":e=>l["search_text"]=e,onKeyup:(0,i.jR)(e.searchBySelectedColumns,["enter"]),class:(0,o.C4)("ms-search-input left-border-none "+(l["validate"]?"column-error-border":"")),onMousedown:t[0]||(t[0]=(0,i.D$)((()=>{}),["stop"]))},{append:(0,a.k6)((()=>[1==l["validate"]?((0,a.uX)(),(0,a.Wv)(E,{key:0,flat:"",dense:"",name:"error",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:2},1032,["modelValue","onUpdate:modelValue","onKeyup","class"])]),(0,a.bF)(D,{class:"q-ml-sm",icon:"close",onClick:t=>e.removeFilter(s),flat:"",round:"",dense:""},null,8,["onClick"])])))),128))])]),(0,a.Lk)("div",m,[(0,a.Lk)("div",_,[(0,a.bF)(I,{class:"all-columns q-mr-md",label:e.$t("match_all_filters"),modelValue:e.match_all_filters,"onUpdate:modelValue":t[1]||(t[1]=t=>e.match_all_filters=t),size:"30px"},null,8,["label","modelValue"])])]),(0,a.Lk)("div",b,[(0,a.bF)(T,{onClick:e.searchBySelectedColumns,onKeyup:(0,i.jR)(e.searchBySelectedColumns,["enter"]),label:e.$t("pages.user.search"),class:"q-ml-md"},{default:(0,a.k6)((()=>[(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.user.search")),1)])),_:1})])),_:1},8,["onClick","onKeyup","label"]),(0,a.bF)(T,{appearance:"secondary",onClick:e.addNewAdvanceSearchRow,label:e.$t("add_new_filter"),class:"q-ml-sm"},{default:(0,a.k6)((()=>[(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("add_new_filter")),1)])),_:1})])),_:1},8,["onClick","label"]),(0,a.Lk)("div",v,[(0,a.bF)(T,{class:"q-ml-sm",label:e.$t("pages.screen2a.proceed"),onClick:t[2]||(t[2]=t=>e.selectedRowProceed()),disable:e.disableSelectionButton},null,8,["label","disable"]),(0,a.bF)(O)]),g]),(0,a.bF)(M),(0,a.bF)(I,{class:"all-columns q-mr-md",label:e.$t("display_all_columns"),modelValue:e.show_all_columns,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.show_all_columns=t),t[4]||(t[4]=t=>{e.showAllColumns(t)})],size:"30px"},null,8,["label","modelValue"]),(0,a.Lk)("div",f,[(0,a.bF)(N,{rows:e.tableRows,columns:e.tableColumns,id:"data-look-up-table","row-key":"id",selection:"single",selected:e.selectedRow,"onUpdate:selected":t[7]||(t[7]=t=>e.selectedRow=t),"table-header-style":{},loading:e.loading,"hide-bottom":"",flat:"",class:"dashboard-table-style dashboard-text-color",style:{overflow:"auto",height:"400px"},"rows-per-page-options":[0],onSelection:e.onRowSelection,"no-data-label":e.$t("no_data_found")},{header:(0,a.k6)((l=>[(0,a.bF)(q,{props:l},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.cols,((s,n)=>((0,a.uX)(),(0,a.Wv)(P,{key:s.name,props:l,dropzone:"true","data-index":n,draggable:"true",direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.tableColumns,n),onDrop:(0,i.D$)((t=>e.handleDrop(t,n)),["prevent"]),onDragover:(0,i.D$)((t=>e.onDragOver(t,n)),["prevent"]),onDragenter:(0,i.D$)(e.onDragEnter,["prevent"]),onDragleave:(0,i.D$)(e.onDragLeave,["prevent"]),onMouseenter:t[5]||(t[5]=t=>e.setIsDragging(!1)),onMouseleave:t[6]||(t[6]=t=>e.setIsDragging(!0)),style:(0,o.Tr)({cursor:e.getIsDragging?"pointer":"move"}),class:"cursor-move"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",y,(0,o.v_)(s.label),1),(0,a.bF)(R,{column_name:s.field},null,8,["column_name"])])),_:2},1032,["props","data-index","onDragstart","onDrop","onDragover","onDragenter","onDragleave","style"])))),128))])),_:2},1032,["props"]),0==e.tableRows.length?((0,a.uX)(),(0,a.Wv)(q,{key:0},{default:(0,a.k6)((()=>[(0,a.bF)(V,{colspan:"20",class:"text-center"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("no_data_found")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),body:(0,a.k6)((t=>[(0,a.bF)(q,{class:"cursor-pointer",props:t,onClick:e=>t.selected=!t.selected,onDblclick:l=>e.dblClickSelect(t.row)},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,(e=>((0,a.uX)(),(0,a.Wv)(V,{key:e.name,props:t},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.value),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props","onClick","onDblclick"])])),_:1},8,["rows","columns","selected","loading","onSelection","no-data-label"]),(0,a.Lk)("div",k,[(0,a.Lk)("div",w,[(0,a.bF)(B,{modelValue:e.current_page,"onUpdate:modelValue":[t[8]||(t[8]=t=>e.current_page=t),t[9]||(t[9]=t=>e.nexPageClicked())],color:"primary",max:e.total_pages,class:"q-py-xs q-mx-md","max-pages":6,input:"","boundary-links":""},null,8,["modelValue","max"])])])])])),_:1}),(0,a.bF)(Q,{showing:e.loading,style:{"z-index":"2"}},{default:(0,a.k6)((()=>[C])),_:1},8,["showing"])],64)}var L=l(85192),F=l(1659),E=l(46736),A=l(24622),S=l(38734),D=l(11470),I=l(64775),T=l(10739),O=l(36801),M=l(48520),R=l(25891);const P={class:"orderByParentSpan"},q=["data-name"],V=["data-name"];function N(e,t,l,i,s,n){return(0,a.uX)(),(0,a.CE)("span",P,[(0,a.Lk)("span",{class:(0,o.C4)(["up-arrow orderBy absolute cursor-pointer",e.is_order_by_selected("asc")?"selected":""]),"data-name":e.column_name,"data-direction":"asc",onClick:t[0]||(t[0]=t=>e.OrderBy("asc"))},null,10,q),(0,a.Lk)("span",{class:(0,o.C4)(["down-arrow orderBy absolute cursor-pointer",e.is_order_by_selected("desc")?"selected":""]),"data-name":e.column_name,"data-direction":"desc",onClick:t[1]||(t[1]=t=>e.OrderBy("desc"))},null,10,V)])}var B=l(83319);const $=(0,a.pM)({mixins:[],props:{column_name:{type:String,required:!0}},components:{},methods:{is_order_by_selected(e){return Boolean(this.orderByMap.has(this.column_name)&&this.orderByMap.get(this.column_name)==e)},OrderBy(e){this.orderByMap.has(this.column_name)&&this.orderByMap.get(this.column_name)==e?this.orderByMap.delete(this.column_name):this.orderByMap.set(this.column_name,e),this.saveOrderByColumns(this.master_lookup_type),this.triggerApplyFilters()},triggerApplyFilters(){const e=new CustomEvent("ms_search",{});document.dispatchEvent(e)}},setup(){const e=(0,B.Ox)(),{orderByMap:t,master_lookup_type:l}=(0,F.bP)(e),{saveOrderByColumns:a}=e;return{master_lookup_type:l,saveOrderByColumns:a,orderByMap:t}}});var Q=l(12807);const X=(0,Q.A)($,[["render",N],["__scopeId","data-v-f2bc1a00"]]),W=X,K={class:"saved-filter-badge row q-mt-sm q-ml-md"},U={key:0,class:"q-mr-xs"};function j(e,t,l,i,s,n){const r=(0,a.g2)("q-icon"),d=(0,a.g2)("q-badge");return(0,a.uX)(),(0,a.CE)("div",K,[e.orderByMap.size>0?((0,a.uX)(),(0,a.CE)("span",U,(0,o.v_)(e.$t("sort_by")),1)):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.orderByMap,(([t,l])=>((0,a.uX)(),(0,a.Wv)(d,{key:t,rounded:"",color:"primary",class:"q-mr-sm capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.keyFormatter(e.column_ms_mapping[t]))+" : "+(0,o.v_)(l)+" ",1),(0,a.bF)(r,{name:"close",color:"white",class:"q-ml-xs cursor-pointer",onClick:l=>e.removeFilter(t)},null,8,["onClick"])])),_:2},1024)))),128))])}const z=(0,a.pM)({mixins:[R.A],props:{},methods:{removeFilter(e){this.orderByMap.delete(e),logInfo(this.orderByMap,"order by map"),this.triggerApplyFilters()},triggerApplyFilters(){const e=new CustomEvent("ms_search",{});document.dispatchEvent(e)}},setup(){const e=(0,B.Ox)(),{orderByMap:t,column_ms_mapping:l}=(0,F.bP)(e);return{column_ms_mapping:l,orderByMap:t}}});var H=l(23954),G=l(50492),Y=l(98582),J=l.n(Y);const Z=(0,Q.A)(z,[["render",j]]),ee=Z;J()(z,"components",{QBadge:H.A,QIcon:G.A});var te=l(68450),le=l(82204),ae=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const oe=(0,a.pM)({mixins:[A.A,R.A,T.A,E.A],props:{},watch:{quickSearchText:{handler:function(e,t){this.updateFilters()}}},components:{ColumnOrderBy:W,savedSortByBadges:ee,CreateTaskBtn:M.A},data(){return{columnListPreferenc:[]}},mounted:function(){this.populate_row_to_view=!1,this.validateViewVariables(),this.getOrderByColumns(this.master_lookup_type),this.searchByField(),window.msl=this,document.addEventListener("ms_search",this.searchEvent),document.addEventListener("keydown",this.onKeyup),this.initailizeDragColumnsById("data-look-up-table"),document.addEventListener("data-look-up-table-column-drop",this.onDropColumns)},unmounted:function(){document.removeEventListener("ms_search",this.searchEvent),document.removeEventListener("keydown",this.onKeyup),document.removeEventListener("data-look-up-table-column-drop",this.onDropColumns),this.show_all_columns=!1,this.showAllColumns(this.show_all_columns)},methods:{setIsDragging(e){this.isDraggle=e},onDropColumns(){let e=[];for(let t of this.tableColumns)e.push(t.field);this.saveOrderColumns(e)},saveOrderColumns(e){return ae(this,void 0,void 0,(function*(){try{this.loading=!0;let t="master_data"+this.master_lookup_type;yield this.updateSetting(t,JSON.stringify(e))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.loading=!1}}))},removeFilter(e){delete this.advance_filters[e]},searchEvent(){this.searchBySelectedColumns()},addNewAdvanceSearchRow(){const e=(0,L.A)();this.advance_filters[e]={field:null,search_text:"",validate:!1,operator:this.search_operator,validate_field_name:!1}},updateFilters(){for(let[e,t]of Object.entries(this.advance_filters)){const l=t.hasOwnProperty("field")&&t.field,a=t.search_text&&t.search_text.length>0;if(!l&&!a){delete this.advance_filters[e];continue}const o=t.hasOwnProperty("operator")&&t.operator;o||(t.operator=this.search_operator)}},validateSearchFilters(){let e=!0;for(let[t,l]of Object.entries(this.advance_filters)){l.validate=!1,l.validate_field_name=!1,logInfo("Check",l.hasOwnProperty("field"));const t=l.hasOwnProperty("field")&&l.field,a=l.search_text&&l.search_text.length>0;!t&&a&&(l.validate_field_name=!0,e=!1),!a&&t&&(l.validate=!0,e=!1)}return e},makeSearchJsonFromFilters(){let e=[];for(let[t,l]of Object.entries(this.advance_filters))l.search_text&&e.push({field:l.field.field,operator:l.operator,value:l.search_text});return e},prepareFiltersForApiCall(){let e={};e["data_type"]=this.master_lookup_type,e["filter_data_json"]="";let t={};t["match_all"]=this.match_all_filters;const l=this.makeSearchJsonFromFilters();return l.length>0&&(t["filters"]=l),e["filter_data_json"]=JSON.stringify(t),e},onKeyup(e){"Enter"==e.key&&this.searchBySelectedColumns()},searchBySelectedColumns(){return ae(this,void 0,void 0,(function*(){try{if(this.loading=!0,this.updateFilters(),!1===this.validateSearchFilters())return;this.tableRows=[],this.resetPagination();const e=this.prepareFiltersForApiCall();this.search_params=e,this.last_search_params=e,yield this.fetchFromServer(e)}catch(e){logInfo(e)}finally{this.loading=!1}}))},setInitialSearch(){for(let[e,t]of Object.entries(this.advance_filters)){let e=t.fuzzy_field;const l=this.tableColumns.find((t=>t.field.toLowerCase()==e.toLowerCase()));l&&(t.field=l,t.operator||(t.operator=this.search_operator))}},searchByField(){return ae(this,void 0,void 0,(function*(){try{this.loading=!0,this.getColumnSortPreference(),this.populateTableColumns(),yield this.setDefaultSearchOperator(),this.setInitialSearch(),this.updateFilters();const e=this.prepareFiltersForApiCall();this.search_params=e,this.last_search_params=e;let t=yield this.fetchFromServer(e);return t}catch(e){logInfo(e)}finally{this.loading=!1}}))},searchByFieldForAutoTrigger(){return ae(this,void 0,void 0,(function*(){try{if(this.loading=!0,this.getColumnSortPreference(),this.populateTableColumns(),yield this.setDefaultSearchOperator(),this.setInitialSearch(),this.updateFilters(),!1===this.validateSearchFilters())return;let e=yield this.fetchFromServerForAutoTrigger(this.last_search_params);return e}catch(e){logInfo(e)}finally{this.loading=!1}}))},fetchFromServerForAutoTrigger(e){return ae(this,void 0,void 0,(function*(){try{this.loading=!0;const t={};t["data_type"]=e["data_type"],t["skip"]=this.offset,t["limit"]=this.page_size;const l={};l["document_fields_data"]=this.setRequestFields(e["filter_data_json"]);const a=this.makeOrderByForCall();a.length>0&&(t["sort_order_json"]=JSON.stringify(a),logInfo("sort_order_json",t["sort_order_json"],a)),this.doc_loaded&&(t["amounts_format"]=this.amount_format_locale);let o=this.getDocSubOrgId();(0,te.z)(o)||""==o||(t["sub_org_id"]=o);let i={};if(i=yield D.SY.getData_V2(t,e["filter_data_json"],l),0==i.success)throw i;return 1==i.data.length?i:(i.data&&Array.isArray(i.data)&&0!=i.data.length||logError("No Data From server"),null)}catch(t){const e=I.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.loading=!1}}))},populateTableColumns(){const e=this.getColumnsByType(this.master_lookup_type);if(e.length>0)return this.tableColumns=e,void this.applyColumnSort();this.getColumnsfromFieldsMapping()},getColumnsfromFieldsMapping(){var e;if(!this.master_data_fields_map.has(this.master_lookup_type))return;const t=this.master_data_fields_map.get(this.master_lookup_type).fields;for(const[l,a]of t.entries()){const t=null!==(e=a.field_name)&&void 0!==e?e:a.column_name,l=a.lookup_field.toLowerCase();let o=this.getColumnLabel(t);this.column_ms_mapping[l]=t,this.tableColumns.push({name:t,label:o,field:l,align:"left"})}this.applyColumnSort(),this.setColumnsByType(this.master_lookup_type,this.tableColumns)},getColumnLabel(e){let t="";if(this.model[e]){this.displayFieldLabelForMedi(this.model[e])}return t&&""!=t||(t=e),t==e&&(t=(0,le.C5)(t)),t},setRequestFields(e){if(e=JSON.parse(e).filters,0==this.master_data_fields_map.size||!this.master_data_fields_map.has(this.master_lookup_type))return"";if(this.master_data_fields_map.get(this.master_lookup_type).hasOwnProperty("request_fields")){const t=this.master_data_fields_map.get(this.master_lookup_type).request_fields,l=this.master_data_fields_map.get(this.master_lookup_type).field_name,a=this.master_data_fields_map.get(this.master_lookup_type).lookup_field;if("object"===typeof t){let o={};return this.record.fields.forEach((e=>{for(const[l,a]of Object.entries(t))e.name==a&&(o[e.name]=e.formatted_value)})),e.forEach((e=>{e.field==a&&(o[l]=e.value)})),JSON.stringify(o)}}return""},fetchFromServer(e){return ae(this,void 0,void 0,(function*(){try{this.loading=!0;const t={};t["data_type"]=e["data_type"],t["skip"]=this.offset,t["limit"]=this.page_size;const l={};l["document_fields_data"]=this.setRequestFields(e["filter_data_json"]);const a=this.makeOrderByForCall();a.length>0&&(t["sort_order_json"]=JSON.stringify(a),logInfo("sort_order_json",t["sort_order_json"],a)),this.doc_loaded&&(t["amounts_format"]=this.amount_format_locale);let o=this.getDocSubOrgId();(0,te.z)(o)||""==o||(t["sub_org_id"]=o);let i={};if(i=yield D.SY.getData_V2(t,e["filter_data_json"],l),0==i.success)throw i;if(!i.data||!Array.isArray(i.data)||0==i.data.length)return void logError("No Data From server");this.tableRows=[],i.hasOwnProperty("total_records")&&(this.total_records=i.total_records,this.setTotalPages()),this.populateRows(i.data)}catch(t){const e=I.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.loading=!1}}))},nexPageClicked(){return ae(this,void 0,void 0,(function*(){try{this.calculateOffset(),yield this.fetchFromServer(this.search_params)}catch(e){const t=I.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}}))},resetPagination(){this.total_pages=0,this.current_page=1,this.total_records=0,this.offset=0},setTotalPages(){this.total_pages=Math.ceil(this.total_records/this.page_size)},calculateOffset(){this.offset=this.page_size*(this.current_page-1)},populateRows(e){Array.from(e).forEach(((e,t)=>{let l={};for(let[a,o]of Object.entries(e))a=a.toLowerCase(),l[a]=o,"last_modified_on"!==a&&"order_date"!==a||(l[a]=this.formatDateAccordingToPreference(String(o),!0));this.tableRows.push(l)})),this.$forceUpdate()},selectedRowProceed(){let e=JSON.parse(JSON.stringify(this.selectedRow));this.selected_row=JSON.stringify(e[0]),this.selectedRow=[],this.populate_row_to_view=!0,this.disableSelectionButton=!0},onRowSelection(e){e.added?this.disableSelectionButton=!1:this.disableSelectionButton=!0},validateViewVariables(){this.inital_filters=JSON.parse(JSON.stringify(this.advance_filters)),0==this.master_data_fields_map.size&&logInfo("No master data field map is empty"),(0,te.dd)(this.model)&&logInfo("view data model is empty")},showAllColumns(e){if(0!=this.tableRows.length)return e?void this.populateTableColumnsFromRow():(this.tableColumns.splice(0,this.tableColumns.length),void this.getColumnsfromFieldsMapping())},populateTableColumnsFromRow(){const e=this.tableRows[0];for(const[t,l]of Object.entries(e)){if(this.column_ms_mapping.hasOwnProperty(t))continue;let e=t;e="last_modified_on"==t?this.$t(t):(0,le.C5)(e),this.tableColumns.push({name:t,label:e,field:t,align:"left"})}this.applyColumnSort()},dblClickSelect(e){this.selected_row=JSON.stringify(e),this.selectedRow=[],this.populate_row_to_view=!0,this.disableSelectionButton=!0},getColumnSortPreference(){this.columnListPreferenc=JSON.parse(this.getColumnPreference(this.master_lookup_type))},applyColumnSort(){this.tableColumns=this.sortColumns(this.columnListPreferenc,this.tableColumns)},setDefaultSearchOperator(){return ae(this,void 0,void 0,(function*(){const e=String(this.master_lookup_type+this.search_op_key_postfix).toUpperCase();this.search_operator=yield(0,O.PL)(e),this.search_operator||(this.search_operator=this.default_operator)}))},makeOrderByForCall(){return(0,le.nM)(this.orderByMap)}},setup(){const e=(0,B.Ox)(),{model:t,populate_row_to_view:l,master_data_fields_map:a,selected_row:o,column_ms_mapping:i,advance_filters:s,master_lookup_type:n,changed_fields:r,groups_to_update:d,last_search_params:u,search_operators:c,search_op_key_postfix:p,orderByMap:h,default_operator:m,inital_filters:_,isDraggle:b}=(0,F.bP)(e),{setColumnsByType:v,getColumnsByType:g,getOrderByColumns:f}=e,y=(0,B.rD)(),{sortColumns:k,getColumnPreference:w,getColumnPreferenceFieldValidation:C}=y,x=(0,B.q3)(),{getDocSubOrgId:L}=x,{amount_format_locale:E,doc_loaded:A,record:D}=(0,F.bP)(x),I=(0,B.Bu)(),{updateSetting:T}=I;return{record:D,amount_format_locale:E,doc_loaded:A,isDraggle:b,updateSetting:T,getColumnPreferenceFieldValidation:C,getDocSubOrgId:L,default_operator:m,orderByMap:h,getOrderByColumns:f,search_op_key_postfix:p,sortColumns:k,getColumnsByType:g,setColumnsByType:v,getColumnPreference:w,model:t,advance_filters:s,master_lookup_type:n,changed_fields:r,groups_to_update:d,last_search_params:u,column_ms_mapping:i,populate_row_to_view:l,selected_row:o,master_data_fields_map:a,search_operators:c,oldSearchVal:(0,S.KR)(""),tableColumns:(0,S.KR)([]),loading:(0,S.KR)(!1),tableRows:(0,S.KR)([]),selectedRow:(0,S.KR)([]),disableSelectionButton:(0,S.KR)(!0),show_all_columns:(0,S.KR)(!1),match_all_filters:(0,S.KR)(!0),master_lookup_columns:(0,S.KR)({}),search_params:(0,S.KR)({}),current_page:(0,S.KR)(1),total_pages:(0,S.KR)(0),offset:(0,S.KR)(0),page_size:(0,S.KR)(10),total_records:(0,S.KR)(0),searchable_columns_list:(0,S.KR)([]),search_operator:(0,S.KR)(""),inital_filters:_}}});var ie=l(44189),se=l(94940),ne=l(97410),re=l(67837),de=l(56384),ue=l(80460),ce=l(42315),pe=l(44488),he=l(57722),me=l(45262),_e=l(54700),be=l(39035),ve=l(67156);const ge=(0,Q.A)(oe,[["render",x],["__scopeId","data-v-50d25247"]]),fe=ge;J()(oe,"components",{QCardSection:ie.A,QSelect:se.A,QIcon:G.A,QTooltip:ne.A,QInput:re.A,QBtn:de.A,QCheckbox:ue.A,QTable:ce.A,QTr:pe.A,QTh:he.A,QTd:me.A,QPagination:_e.A,QInnerLoading:be.A,QField:ve.A})},26471:(e,t,l)=>{"use strict";l.d(t,{A:()=>x});var a=l(61758);const o={class:"row"},i={class:"col-12 q-mb-sm"},s={class:"col-12 q-mb-sm"};function n(e,t,l,n,r,d){const u=(0,a.g2)("q-toolbar-title"),c=(0,a.g2)("q-btn"),p=(0,a.g2)("q-toolbar"),h=(0,a.g2)("docTypeDropdown"),m=(0,a.g2)("LanguageDropdown"),_=(0,a.g2)("q-card-section"),b=(0,a.g2)("f-btn"),v=(0,a.g2)("q-card-actions"),g=(0,a.g2)("q-card"),f=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(g,{style:{width:"500px"}},{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(u),(0,a.bo)((0,a.bF)(c,{flat:"",round:"",dense:"",icon:"close",onClick:e.resetClassification},null,8,["onClick"]),[[f]])])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",o,[(0,a.Lk)("div",i,[(0,a.bF)(h,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"])]),(0,a.Lk)("div",s,[(0,a.bF)(m,{class:"full-width",isReadOnly:e.isReadOnly},null,8,["isReadOnly"])])])])),_:1}),e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(v,{key:0,align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(b,{appearance:"cancel",label:e.$t("cancel"),onClick:e.resetClassification},null,8,["label","onClick"]),[[f]]),(0,a.bo)((0,a.bF)(b,{label:e.$t("proceed"),onClick:e.triggerNewClassification},null,8,["label","onClick"]),[[f]])])),_:1}))])),_:1})}var r=l(56190),d=l(72091),u=l(83319),c=l(1659);const p=(0,a.pM)({el:"#app",mixins:[],components:{docTypeDropdown:r.A,LanguageDropdown:d.A},props:{isReadOnly:{type:Boolean,default:!0}},mounted:function(){},methods:{resetClassification(){this.resetStore(),this.setDocTypeAndLanguageOrigin()},triggerNewClassification(){this.trigger_classification=!0}},setup(){const e=(0,u.v)(),{resetStore:t}=e,{trigger_classification:l,reset_classification:a}=(0,c.bP)(e),o=(0,u.q3)(),{setDocTypeAndLanguageOrigin:i}=o;return{resetStore:t,trigger_classification:l,reset_classification:a,setDocTypeAndLanguageOrigin:i}}});var h=l(12807),m=l(23316),_=l(36914),b=l(39150),v=l(56384),g=l(44189),f=l(62669),y=l(88672),k=l(98582),w=l.n(k);const C=(0,h.A)(p,[["render",n]]),x=C;w()(p,"components",{QCard:m.A,QToolbar:_.A,QToolbarTitle:b.A,QBtn:v.A,QCardSection:g.A,QCardActions:f.A}),w()(p,"directives",{ClosePopup:y.A})},41268:(e,t,l)=>{"use strict";l.d(t,{A:()=>X});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-4d90f762"),e=e(),(0,a.jt)(),e),n={class:"text-weight-bold"},r={class:"row no-wrap justify-around q-pt-md"},d={class:"drop-target rounded-borders q-mr-md"},u={class:"box row justify-center items-center",style:{"border-bottom":"1px solid grey"}},c=["id","data-column-name"],p={class:"rounded-borders overflow-hidden content-center"},h={class:"row justify-end items-start"},m={class:"row justify-end items-start"},_={class:"drop-target rounded-borders"},b={class:"box row justify-center items-center",style:{"border-bottom":"1px solid grey"}},v={class:"visible-columns-parent"},g=["id","data-column-name","data-order"],f={class:"row justify-end items-start q-mt-md"},y=s((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function k(e,t,l,s,k,w){const C=(0,a.g2)("q-tooltip"),x=(0,a.g2)("f-btn"),L=(0,a.g2)("q-toolbar-title"),F=(0,a.g2)("q-btn"),E=(0,a.g2)("q-toolbar"),A=(0,a.g2)("q-checkbox"),S=(0,a.g2)("q-icon"),D=(0,a.g2)("q-card-section"),I=(0,a.g2)("q-inner-loading"),T=(0,a.g2)("q-card"),O=(0,a.g2)("q-dialog"),M=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(x,{square:"",class:"q-mr-sm",icon:"img:images/column_filter.svg",onClick:t[0]||(t[0]=t=>e.show_column_settings=!0)},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t(e.label))+"",1)])),_:1})])),_:1}),(0,a.bF)(O,{modelValue:e.show_column_settings,"onUpdate:modelValue":t[3]||(t[3]=t=>e.show_column_settings=t),onShow:e.BeforePopupShow,onKeydown:t[4]||(t[4]=(0,i.jR)((t=>e.show_column_settings=!1),["esc"])),persistent:"",onHide:e.onDashboardColumnDialogHide},{default:(0,a.k6)((()=>[(0,a.bF)(T,{style:{width:"900px","max-width":"1060px"}},{default:(0,a.k6)((()=>[(0,a.bF)(E,{class:"text-white secondary-toolbar draggable-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",n,(0,o.v_)(e.$t("column_settings")),1)])),_:1}),(0,a.bo)((0,a.bF)(F,{flat:"",round:"",dense:"",icon:"close"},null,512),[[M]])])),_:1}),(0,a.bF)(D,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.Lk)("div",r,[(0,a.Lk)("div",d,[(0,a.Lk)("div",u,(0,o.v_)(e.$t("hidden_columns")),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.hidden_columns,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,id:t[e.unique_column_key],"data-column-name":t[e.unique_column_key],class:"box"},[(0,a.bF)(A,{"data-column-name":t[e.unique_column_key],modelValue:t.selected,"onUpdate:modelValue":e=>t.selected=e},null,8,["data-column-name","modelValue","onUpdate:modelValue"]),(0,a.eW)(" "+(0,o.v_)(e.$t(t.label)),1)],8,c)))),128))]),(0,a.Lk)("div",p,[(0,a.Lk)("div",h,[(0,a.bF)(x,{class:"q-mr-md mt-20",icon:"arrow_back",onClick:e.moveToHideColumnList},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("move_to_visibile_button_tooltip")),1)])),_:1})])),_:1},8,["onClick"])]),(0,a.Lk)("div",m,[(0,a.bF)(x,{class:"q-mr-md mt-20",icon:"arrow_forward",onClick:e.moveToShowColumnList},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("move_to_hidden_button_tooltip")),1)])),_:1})])),_:1},8,["onClick"])])]),(0,a.Lk)("div",_,[(0,a.Lk)("div",b,(0,o.v_)(e.$t("visible_columns")),1),(0,a.Lk)("div",v,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.visible_columns,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,draggable:"true",class:"draggable-box"},[(0,a.Lk)("div",{draggable:"true",id:t[e.unique_column_key],"data-column-name":t[e.unique_column_key],class:"box","data-order":t.order},[(0,a.bF)(S,{name:"drag_indicator",size:"xs"}),(0,a.bF)(A,{"data-order":t.order,"data-column-name":t[e.unique_column_key],modelValue:t.selected,"onUpdate:modelValue":e=>t.selected=e,class:"box-checkbox"},null,8,["data-order","data-column-name","modelValue","onUpdate:modelValue"]),t.hasOwnProperty("doc_type_key")?((0,a.uX)(),(0,a.Wv)(S,{key:0,flat:"",dense:"",name:"close",size:"24px",color:"red",onClick:l=>e.removeDocTypeColumn(t[e.unique_column_key])},null,8,["onClick"])):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,o.v_)(e.$t(t.label)),1)],8,g)])))),128))])])]),(0,a.Lk)("div",f,[(0,a.bF)(x,{appearance:"cancel",label:e.$t("cancel"),onClick:t[1]||(t[1]=t=>e.show_column_settings=!1)},null,8,["label"]),(0,a.bF)(x,{label:e.$t("done"),class:"q-ml-sm",onClick:t[2]||(t[2]=t=>e.saveSettings())},null,8,["label"])])])])),_:1}),(0,a.bF)(I,{showing:e.processing},{default:(0,a.k6)((()=>[y])),_:1},8,["showing"])])),_:1})])),_:1},8,["modelValue","onShow","onHide"])],64)}var w=l(38734),C=l(83319),x=l(16332),L=l(25891),F=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const E=(0,a.pM)({props:{columns_key:{type:String,required:!0},table_columns:{type:Array,required:!0},label:{type:String,default:x.i18n.t("table_column_settings_tooltip")},unique_column_key:{type:String,required:!1,default:"name"}},components:{},mounted(){this.init(),document.addEventListener("add_columns",this.addColumns)},unmounted:function(){document.removeEventListener("add_columns",this.addColumns)},data(){return{dragSrcEl:{},clearInterval:0}},beforeRouteLeave:function(e,t,l){this.removeDragEvents(),l()},methods:{BeforePopupShow(){this.init(),this.show_column_settings=!0},getSavedColumns(){return F(this,void 0,void 0,(function*(){try{const e=yield this.getColumnSettingsFromServer();this.visible_columns=e&&""!=e?JSON.parse(e):Object.assign({},this.table_columns)}catch(e){this.visible_columns=Object.assign({},this.table_columns)}return this.visible_columns}))},getColumnSettingsFromServer(){return F(this,void 0,void 0,(function*(){try{const e=(0,C.Bu)(),t=yield e.getSettingWithExpiry(this.columns_key.toUpperCase());return t}catch(e){return""}}))},init(){return F(this,void 0,void 0,(function*(){this.elements_loaded=!1,this.visible_columns=[],this.visible_columns_obj_list={},this.hidden_columns={},yield this.setColumns(),this.intervalManager()}))},setColumns(){return F(this,void 0,void 0,(function*(){yield this.setVisibleColumns(),this.setHiddenColumns()}))},setHiddenColumns(){for(const[e,t]of Object.entries(this.table_columns)){if(this.visible_columns_obj_list.hasOwnProperty(e))continue;const l=t;l.selected=!1,l.label=this.getColumnLabel(l),this.hidden_columns[l[this.unique_column_key]]=l}},setVisibleColumns(){return F(this,void 0,void 0,(function*(){const e=yield this.getSavedColumns();this.setVibileColumnsForView(e),this.visible_columns_obj_list=e}))},setVibileColumnsForView(e){this.visible_columns=[];for(const t in e)e[t].selected=!1,e[t].label=this.getColumnLabel(e[t]),this.visible_columns.push(e[t]);this.sortVisibleColumns()},moveToHideColumnList(){this.visible_columns.forEach(((e,t)=>{if(!this.visible_columns_obj_list[e[this.unique_column_key]].selected)return;const l=e[this.unique_column_key];this.visible_columns_obj_list[l].selected=!1,this.hidden_columns[l]=this.visible_columns_obj_list[l],delete this.visible_columns_obj_list[l]})),this.setVibileColumnsForView(this.visible_columns_obj_list)},moveToShowColumnList(){for(var e of Object.keys(this.hidden_columns))this.hidden_columns[e].selected&&(this.hidden_columns[e].selected=!1,this.visible_columns_obj_list[e]=this.hidden_columns[e],delete this.hidden_columns[e]);this.setVibileColumnsForView(this.visible_columns_obj_list)},getColumnLabel(e){e.label=e[this.unique_column_key];const t=this.table_columns[e[this.unique_column_key]];return(e.translation_key||t.translation_key)&&(e.label=e.translation_key||t.translation_key),e.hasOwnProperty("doc_type_key")&&(e.label=L.A.methods.getFieldLabelFromAllPrefixes(e)),String(e.label)},saveSettings(){return F(this,void 0,void 0,(function*(){this.processing=!0,yield this.saveColumns(this.visible_columns_obj_list),this.processing=!1,this.show_column_settings=!1;const e=new CustomEvent("reload_columns",{});document.dispatchEvent(e)}))},intervalManager(){if(!this.elements_loaded||0!==this.clearInterval){if(this.elements_loaded&&0!==this.clearInterval)return this.clearInterval=0,void clearInterval(this.clearInterval);this.isElementRendered(),this.elements_loaded&&this.addDragEvents(),!1===this.elements_loaded&&(this.clearInterval=setTimeout((()=>{this.intervalManager()}),1e3))}},isElementRendered(){let e=document.querySelectorAll(".visible-columns-parent .box");return e.length>0&&(this.elements_loaded=!0,!0)},removeDragEvents(){let e=document.querySelectorAll(".visible-columns-parent .box");e.forEach((e=>{e.removeEventListener("dragstart",this.handleDragStart),e.removeEventListener("dragend",this.handleDragEnd),e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragenter",this.handleDragEnter),e.removeEventListener("dragleave",this.handleDragLeave),e.removeEventListener("drop",this.handleDrop)}))},addDragEvents(){let e=document.querySelectorAll(".visible-columns-parent .box");e.forEach((e=>{e.removeEventListener("dragstart",this.handleDragStart),e.removeEventListener("dragend",this.handleDragEnd),e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragenter",this.handleDragEnter),e.removeEventListener("dragleave",this.handleDragLeave),e.removeEventListener("drop",this.handleDrop),e.addEventListener("dragstart",this.handleDragStart),e.addEventListener("dragend",this.handleDragEnd),e.addEventListener("dragover",this.handleDragOver),e.addEventListener("dragenter",this.handleDragEnter),e.addEventListener("dragleave",this.handleDragLeave),e.addEventListener("drop",this.handleDrop)}))},handleDragStart(e){e.target.style.opacity="0.4",e.dataTransfer.effectAllowed="move";const t=e.target.getAttribute("data-order"),l=e.target.getAttribute("data-column-name");e.dataTransfer.setData("column_order",t),e.dataTransfer.setData("column_name",l)},handleDragEnd(e){e.target.style.opacity="1";let t=document.querySelectorAll(".visible-columns-parent .box");t.forEach((function(e,t){e.classList.remove("over")}))},handleDragOver(e){return e.preventDefault(),!1},handleDragEnter(e){e.target.classList.add("over")},handleDragLeave(e){e.target.classList.remove("over")},handleDrop(e){e.stopPropagation(),e.preventDefault();const t=+e.target.getAttribute("data-order"),l=e.target.getAttribute("data-column-name"),a=+e.dataTransfer.getData("column_order"),o=e.dataTransfer.getData("column_name");return this.visible_columns_obj_list[o].order=t,this.visible_columns_obj_list[l].order=a,this.visible_columns.forEach((e=>{e.name===o&&(e.order=t),e.name===l&&(e.order=a)})),logInfo(this.visible_columns_obj_list),this.sortVisibleColumns(),this.$forceUpdate(),!1},sortVisibleColumns(){this.visible_columns.sort(((e,t)=>e.order-t.order))},onDashboardColumnDialogHide(){this.removeDragEvents(),this.show_column_settings=!1},onDocTypeFieldsDialogHide(){this.show_doc_type_fields=!1},addColumns(e){if(e){for(const t in e.detail.selected_fields)this.visible_columns_obj_list[t]=e.detail.selected_fields[t];this.setVibileColumnsForView(this.visible_columns_obj_list),this.onDocTypeFieldsDialogHide()}},removeDocTypeColumn(e){delete this.visible_columns_obj_list[e],this.setVibileColumnsForView(this.visible_columns_obj_list)},saveColumns(e){return F(this,void 0,void 0,(function*(){const t=JSON.stringify(e),l=(0,C.Bu)();yield l.updateSetting(this.columns_key.toUpperCase(),t),this.$emit("columnsUpdated",{visible_columns:this.visible_columns,hidden_columns:this.hidden_columns});const a=new CustomEvent("columnsUpdated",{detail:{visible_columns:this.visible_columns,hidden_columns:this.hidden_columns}});document.dispatchEvent(a)}))}},setup(){return{elements_loaded:(0,w.KR)(!1),visible_columns:(0,w.KR)([]),visible_columns_obj_list:(0,w.KR)({}),hidden_columns:(0,w.KR)({}),processing:(0,w.KR)(!1),show_column_settings:(0,w.KR)(!1),show_doc_type_fields:(0,w.KR)(!1)}}});var A=l(12807),S=l(97410),D=l(82156),I=l(23316),T=l(36914),O=l(39150),M=l(56384),R=l(44189),P=l(80460),q=l(50492),V=l(39035),N=l(88672),B=l(98582),$=l.n(B);const Q=(0,A.A)(E,[["render",k],["__scopeId","data-v-4d90f762"]]),X=Q;$()(E,"components",{QTooltip:S.A,QDialog:D.A,QCard:I.A,QToolbar:T.A,QToolbarTitle:O.A,QBtn:M.A,QCardSection:R.A,QCheckbox:P.A,QIcon:q.A,QInnerLoading:V.A}),$()(E,"directives",{ClosePopup:N.A})},92301:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Me});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-4b38d93c"),e=e(),(0,a.jt)(),e),s={class:"col-12 border-bottom-bdbdbd q-pb-sm"},n={class:"row"},r={class:"col-6 items-center"},d={class:"text-h6 text-bold text-primary flex items-center"},u={class:"invoice-number-padd"},c={class:"col-6 items-center",style:{"padding-top":"13px"}},p={class:"q-ml-xs q-mr-sm"},h={key:0,class:"col-12 mt-4 q-pa-lg text-blue-grey-5"},m={class:"row mb-4"},_={class:"col-3 text-bold"},b={class:"col-3"},v={class:"col-3 text-bold"},g={class:"col-3 text-uppercase"},f={class:"row mb-4"},y={class:"col-3 text-bold"},k={class:"col-3"},w={class:"col-3 text-bold"},C={class:"col-3 text-uppercase"},x={class:"row mb-4"},L={class:"col-3 text-bold"},F={class:"col-3"},E={class:"col-3 text-bold"},A={class:"col-3"},S={class:"row mb-4"},D={class:"col-3 text-bold"},I={class:"col-3"},T={class:"col-3 text-bold"},O={class:"col-3"},M={class:"row mb-4"},R={class:"col-3 text-bold"},P={class:"col-3"},q={class:"col-3 text-bold"},V={class:"col-3"},N={class:"row mb-4"},B={class:"col-3 text-bold"},$={class:"col-3"},Q={class:"col-3 text-bold"},X={class:"col-3"},W={class:"col-12 iframe-padding"},K={key:0,class:"mx-12 q-card mt-10"},U=["src"],j=i((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function z(e,t,l,i,z,H){const G=(0,a.g2)("SubHeader"),Y=(0,a.g2)("BackToSettings"),J=(0,a.g2)("InvoiceDetailIcon"),Z=(0,a.g2)("q-icon"),ee=(0,a.g2)("q-tooltip"),te=(0,a.g2)("f-btn"),le=(0,a.g2)("q-badge"),ae=(0,a.g2)("q-skeleton"),oe=(0,a.g2)("q-card-actions"),ie=(0,a.g2)("q-card"),se=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.$route.fullPath.includes("/share")?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(G,{key:0,name:"invoice_details",label:e.$t("invoices"),back_to_link:"/invoice/dashboard"},null,8,["label"])),e.$route.fullPath.includes("/share")?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(Y,{key:1,label:e.$t("invoices"),back_to_rotue:"/invoice/dashboard"},null,8,["label"])),(0,a.Lk)("div",{class:(0,o.C4)(["row q-px-lg q-pb-lg",e.$route.fullPath.includes("/share")?e.iframe_path?"share-content":"":e.iframe_path?"invoice-content":""])},[(0,a.bF)(ie,{class:"col-12 container-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(oe,{class:"row"},{default:(0,a.k6)((()=>{var t,l,i,j,z,H,G,Y,oe,ie,se,ne,re,de,ue;return[(0,a.Lk)("div",s,[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.Lk)("div",d,[(0,a.bF)(J),(0,a.Lk)("span",u,(0,o.v_)(e.$t("invoice"))+" #"+(0,o.v_)(null===(t=e.invoice_details)||void 0===t?void 0:t.alternate_document_id),1)])]),(0,a.Lk)("div",c,[(0,a.bF)(te,{class:"float-right",onClick:e.shareLinkInvoice},{default:(0,a.k6)((()=>[(0,a.bF)(Z,{name:e.mdiShare},null,8,["name"]),(0,a.Lk)("span",p,(0,o.v_)(e.$t("share")),1),(0,a.bF)(ee,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("copy_public_url")),1)])),_:1})])),_:1},8,["onClick"])])])]),e.invoice_details?((0,a.uX)(),(0,a.CE)("div",h,[(0,a.Lk)("div",m,[(0,a.Lk)("div",_,(0,o.v_)(e.$t("invoice_number"))+" :",1),(0,a.Lk)("div",b,(0,o.v_)(null===(l=e.invoice_details)||void 0===l?void 0:l.alternate_document_id),1),(0,a.Lk)("div",v,(0,o.v_)(e.$t("status"))+" :",1),(0,a.Lk)("div",g,[(null===(i=e.invoice_details)||void 0===i?void 0:i.status)?((0,a.uX)(),(0,a.Wv)(le,{key:0,transparent:"",align:"middle",color:e.statusColor(null===(j=e.invoice_details)||void 0===j?void 0:j.status)},{default:(0,a.k6)((()=>{var t;return[(0,a.eW)((0,o.v_)(null===(t=e.invoice_details)||void 0===t?void 0:t.status),1)]})),_:1},8,["color"])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",f,[(0,a.Lk)("div",y,(0,o.v_)(e.$t("supplier_name"))+" :",1),(0,a.Lk)("div",k,(0,o.v_)(null===(z=e.invoice_details)||void 0===z?void 0:z.supplier_name),1),(0,a.Lk)("div",w,(0,o.v_)(e.$t("paid_status"))+" :",1),(0,a.Lk)("div",C,[(0,a.bF)(le,{transparent:"",align:"middle",color:e.statusColor(null!==(G=null===(H=e.invoice_details)||void 0===H?void 0:H.paid_status)&&void 0!==G?G:"Open")},{default:(0,a.k6)((()=>{var t,l;return[(0,a.eW)((0,o.v_)((null===(t=e.invoice_details)||void 0===t?void 0:t.paid_status)?null===(l=e.invoice_details)||void 0===l?void 0:l.paid_status:"Open"),1)]})),_:1},8,["color"])])]),(0,a.Lk)("div",x,[(0,a.Lk)("div",L,(0,o.v_)(e.$t("total_amount"))+" :",1),(0,a.Lk)("div",F,(0,o.v_)(null===(Y=e.invoice_details)||void 0===Y?void 0:Y.extended_amount),1),(0,a.Lk)("div",E,(0,o.v_)(e.$t("invoice_details_date"))+" :",1),(0,a.Lk)("div",A,(0,o.v_)(e.formatDateTimeZone(null===(oe=e.invoice_details)||void 0===oe?void 0:oe.invoice_date,!0)),1)]),(0,a.Lk)("div",S,[(0,a.Lk)("div",D,(0,o.v_)(e.$t("purchase_order"))+"# :",1),(0,a.Lk)("div",I,(0,o.v_)(null===(ie=e.invoice_details)||void 0===ie?void 0:ie.purchase_order_number),1),(0,a.Lk)("div",T,(0,o.v_)(e.$t("invoice_due_date"))+" :",1),(0,a.Lk)("div",O,(0,o.v_)(e.formatDateTimeZone(null===(se=e.invoice_details)||void 0===se?void 0:se.invoice_due_date,!0)),1)]),(0,a.Lk)("div",M,[(0,a.Lk)("div",R,(0,o.v_)(e.$t("discount_term"))+" :",1),(0,a.Lk)("div",P,(0,o.v_)(null===(ne=e.invoice_details)||void 0===ne?void 0:ne.discount_term),1),(0,a.Lk)("div",q,(0,o.v_)(e.$t("payment_method"))+" :",1),(0,a.Lk)("div",V,(0,o.v_)(e.showPaymentMethodLabel(null===(re=e.invoice_details)||void 0===re?void 0:re.payment_method)),1)]),(0,a.Lk)("div",N,[(0,a.Lk)("div",B,(0,o.v_)(e.$t("electronic_payment"))+"# :",1),(0,a.Lk)("div",$,(0,o.v_)(e.displayLastSixDigits(null===(de=e.invoice_details)||void 0===de?void 0:de.electronic_payment_number)),1),(0,a.Lk)("div",Q,(0,o.v_)(e.$t("payment_date"))+" :",1),(0,a.Lk)("div",X,(0,o.v_)(e.formatDateTimeZone(null===(ue=e.invoice_details)||void 0===ue?void 0:ue.payment_date,!0)),1)])])):(0,a.Q3)("",!0),(0,a.Lk)("div",W,[e.iframe_path?((0,a.uX)(),(0,a.CE)("div",K,[e.skeletonLoad?((0,a.uX)(),(0,a.Wv)(ae,{key:1,style:{width:"100%"},animated:!1,width:"100%",height:"700px",class:"custom-skeleton"})):((0,a.uX)(),(0,a.CE)("iframe",{key:0,id:"preview_frame",src:e.iframe_path,title:"file preview",width:"100%",height:"700px"},null,8,U))])):(0,a.Q3)("",!0)])]})),_:1})])),_:1})],2),(0,a.bF)(se,{showing:e.loading,style:{"z-index":"2"}},{default:(0,a.k6)((()=>[j])),_:1},8,["showing"])],64)}var H=l(38734),G=l(77362),Y=l(25773),J=l(83319),Z=l(1659),ee=l(62488),te=l(43437),le=l(78652),ae=l(24622),oe=l(64775),ie=l(68450),se=l(46162),ne=l(82303),re=l(46736),de=l(18698);const ue=e=>((0,a.Qi)("data-v-487286f8"),e=e(),(0,a.jt)(),e),ce={width:"42",height:"59",id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 595.28 841.89"},pe=ue((()=>(0,a.Lk)("path",{class:"icon-size",d:"M359.6,498.63c-21.28-.02-42.55,0-63.83,0s-42.55-.01-63.83,0c-8.76,0-14.67,5.24-14.73,12.98-.06,7.73,5.9,13.2,14.52,13.21,42.69.02,85.38.02,128.07,0,8.63,0,14.59-5.46,14.53-13.19-.05-7.7-6.01-12.98-14.73-12.99Z"},null,-1))),he=ue((()=>(0,a.Lk)("path",{class:"icon-size",d:"M321.32,553.2c-29.73-.04-59.46-.02-89.19-.01-9.02,0-14.98,5.3-14.92,13.19.06,7.83,6.05,12.99,15.14,13,14.59.01,29.19,0,43.78,0,14.87,0,29.73.12,44.6-.1,2.85-.04,6-.87,8.47-2.29,4.97-2.87,6.92-8.89,5.33-14.23-1.78-5.95-6.61-9.54-13.19-9.55Z"},null,-1))),me=ue((()=>(0,a.Lk)("path",{class:"icon-size",d:"M260.31,439.29c-12.91.29-21.59-7.95-23.76-22.54-1.02-6.84-4.94-10.68-10.47-10.25-5.9.46-9.4,5.04-8.82,12.21,1.44,17.84,10.62,30.3,27.09,37.02,4.2,1.71,5.93,3.44,5.76,8.13-.26,7.17,3.82,11.53,9.61,11.48,5.73-.05,9.78-4.44,9.56-11.64-.14-4.71,1.6-6.45,5.87-8.03,16.43-6.09,27.19-22.18,27.12-41.31-.31-1.89-.62-5.55-1.55-9.04-5.12-19.26-19.86-30.34-42.25-31.94-10.39-.75-18.78-7.51-21.2-17.1-2.41-9.56,1.36-19.66,9.51-25.08,15.45-10.26,35.14.6,36.14,18.41.41,7.18,5.14,10.95,10.94,10.12,5.57-.8,8.87-5.5,8.24-12.17-1.69-17.77-10.77-30.3-27.38-36.79-4.18-1.63-5.46-3.52-5.41-7.8.09-7.5-3.51-11.48-9.52-11.57-6.07-.08-9.91,3.93-9.67,11.29.15,4.64-1.41,6.58-5.72,8.23-17.82,6.81-28.11,23.82-26.76,43.27,1.22,17.64,14.46,33.15,32.3,37.41,4.89,1.17,10.05,1.15,14.97,2.2,11.17,2.38,18.98,13.1,17.92,24.13-1.17,12.11-10.63,21.08-22.51,21.35Z"},null,-1))),_e=ue((()=>(0,a.Lk)("path",{class:"icon-size",d:"M296.28,177.59c-150.5,0-272.5,122-272.5,272.5s122,272.5,272.5,272.5,272.5-122,272.5-272.5-122-272.5-272.5-272.5ZM439.82,376.48c0,72.02.01,144.04,0,216.05,0,24.52-16.87,41.4-41.37,41.4-68.46.02-136.92.02-205.37,0-24.46,0-41.35-16.93-41.35-41.42-.01-94.66-.01-189.32,0-283.98,0-24.45,16.93-41.34,41.42-41.34,45.82-.02,91.64,0,137.46,0h4.45c0,21.9-.05,43.17.01,64.44.06,20.63,13.53,36.48,33.87,39.87,2.67.44,5.43.45,8.15.46,20.72.04,41.43.02,62.74.02v4.51ZM435.91,345.77c-20.04,0-40.08.02-60.12,0-9.44-.01-14.53-5-14.54-14.28-.03-21.26,0-42.52,0-65.25,3.55,1.84,6.96,2.72,9.12,4.86,22.03,21.74,43.91,43.63,65.64,65.66,2.1,2.13,2.98,5.47,4.83,9.03-2.51,0-3.72,0-4.93,0Z"},null,-1))),be=[pe,he,me,_e];function ve(e,t){return(0,a.uX)(),(0,a.CE)("svg",ce,be)}var ge=l(12807);const fe={},ye=(0,ge.A)(fe,[["render",ve],["__scopeId","data-v-487286f8"]]),ke=ye;var we=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ce=(0,a.pM)({mixins:[ae.A,re.A],components:{SubHeader:G.A,BackToSettings:Y.A,InvoiceDetailIcon:ke},mounted(){this.init()},methods:{init(){return we(this,void 0,void 0,(function*(){yield this.getDetails()}))},getDetails(){var e;return we(this,void 0,void 0,(function*(){try{this.preview_path="",this.loading=!0;const l=this.$route.params.id;if(this.id=l,this.$route.fullPath.includes("/share")&&this.$route.query.token){this.token=this.$route.query.token;try{const t=yield ne.A.get(`${se.VA}/supplier_invoice/share/get_details?token=${this.token}`);t&&(this.invoice_details=null===(e=null===t||void 0===t?void 0:t.data)||void 0===e?void 0:e.data),this.getPreviewSharePath(this.token)}catch(t){logError(t)}}else l&&(yield this.getInvoiceDetails(l)),yield this.getPreviewPathInvoice()}catch(t){logError(t)}finally{this.loading=!1}}))},getPreviewSharePath(e){return we(this,void 0,void 0,(function*(){try{const l=this.invoice_details.preview_path;if((0,ie.z)(l)&&(0,ie.jw)(l))return;try{this.skeletonLoad=!0;const t=this.invoice_details.alternate_document_id,a=yield ne.A.get(`${se.VA}/resource/get_file/${t}?path=${l}&download=false&token=${e}`,{responseType:"blob"});if("application/json"==a.headers["content-type"])return setTimeout((()=>{this.getInvoicePdfFile()}),5e3);const o=a.config.url;this.iframe_path=o}catch(t){logError(t)}finally{this.skeletonLoad=!1}}catch(t){logError(t)}}))},getPreviewPathInvoice(){return we(this,void 0,void 0,(function*(){try{if(!(0,ie.z)(this.preview_path)&&!(0,ie.jw)(this.preview_path))return void this.getInvoicePdfFile();try{this.skeletonLoad=!0;const e=this.$route.params.id;e&&(yield this.getPreviewPath(e),yield this.getInvoicePdfFile())}catch(e){logInfo(e)}finally{this.skeletonLoad=!1}}catch(e){const t=oe.t.getErrorMessage(e),l=document.getElementById("preview_frame"),a=l.contentDocument;a&&(a.write("<h1>Error</h1><p>Oops!  "+t+".</p>"),a.close()),logError(e)}}))},getInvoicePdfFile(){return we(this,void 0,void 0,(function*(){try{if((0,ie.z)(this.preview_path)||(0,ie.jw)(this.preview_path))return;const t=(0,J._6)();yield t.getTokenQueryParam();const{tokenQueryParam:l}=t;try{this.skeletonLoad=!0;const e=yield ne.A.get(`${se.VA}/resource/get_file/${this.invoice_id_path}?path=${this.preview_path}&download=false&${l}`,{responseType:"blob"});if("application/json"==e.headers["content-type"])return setTimeout((()=>{this.getInvoicePdfFile()}),5e3);const t=e.config.url;this.iframe_path=t}catch(e){logError(e)}finally{this.skeletonLoad=!1}}catch(t){logInfo(t)}}))},statusColor(e){return e?(0,ee.qY)(e.toLowerCase())||"primary":""},shareLinkInvoice(){return we(this,void 0,void 0,(function*(){const e=this.$route.fullPath;if(e.includes("/share"))this.shareLink=window.location,(0,le.A)(this.shareLink).then((()=>{this.showSuccessToast(this.$t("copy_to_clipboard"))}));else try{if(this.id){let e=yield this.getInvoiceShareToken(this.id);if(e){const t=window.location.origin;this.shareLink=`${t}/supplier_invoice/share/get_details?token=${e}`,(0,le.A)(this.shareLink).then((()=>{this.showSuccessToast(this.$t("copy_to_clipboard"))}))}return}}catch(t){logInfo(t)}}))},displayLastSixDigits(e){let t;return t=e&&e.length>6?e.slice(-6):e,t},formatDate(e){return e?re.A.methods.formatDateWithPattern(e,"DD.MM.YYYY"):""},showPaymentMethodLabel(e){let t;const l=de.paymentMtdAPOptions.find((t=>t.value===e));return t=l?l.label:"",t}},data(){return{shareLink:(0,H.KR)(""),skeletonLoad:(0,H.KR)(!1),iframe_path:(0,H.KR)(""),id:(0,H.KR)(""),token:(0,H.KR)("")}},setup(){const e=(0,J.LN)(),{loading:t,invoice_details:l,preview_path:a,invoice_id_path:o}=(0,Z.bP)(e),{getInvoiceDetails:i,getPreviewPath:s,getInvoiceShareToken:n}=e,r=(0,J.Bu)(),{datePattern:d,dateFormatOnly:u}=r;return{loading:t,invoice_details:l,preview_path:a,invoice_id_path:o,getInvoiceDetails:i,datePattern:d,dateFormatOnly:u,getPreviewPath:s,getInvoiceShareToken:n,mdiShare:te.YuT}}});var xe=l(23316),Le=l(62669),Fe=l(50492),Ee=l(97410),Ae=l(23954),Se=l(43820),De=l(39035),Ie=l(98582),Te=l.n(Ie);const Oe=(0,ge.A)(Ce,[["render",z],["__scopeId","data-v-4b38d93c"]]),Me=Oe;Te()(Ce,"components",{QCard:xe.A,QCardActions:Le.A,QIcon:Fe.A,QTooltip:Ee.A,QBadge:Ae.A,QSkeleton:Se.Ay,QInnerLoading:De.A})},98028:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Fe});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-30dd9817"),e=e(),(0,a.jt)(),e),n={class:"p-t-3 p-b-6 image_control_panel panel-padding"},r={class:"row justify-start panel-right"},d={class:"col-auto"},u=s((()=>(0,a.Lk)("img",{width:"24",height:"24",src:"images/save.svg"},null,-1))),c={class:"col-auto"},p={key:0,class:"col-auto"},h={class:"col-auto"},m={class:"col-auto"},_=s((()=>(0,a.Lk)("img",{width:"24",height:"24",src:"images/full_screen.svg"},null,-1))),b={class:"col-auto q-ml-auto medi-classification"},v={key:0,class:"full-width"},g=["data-group-id"],f={class:"row q-pl-sm q-pr-sm"},y={class:"col-12 secondary-c-text text-h6 text-weight-bold"},k=s((()=>(0,a.Lk)("img",{width:"24",src:"images/card-checklist.svg"},null,-1))),w=["data-fields-group-name"],C={key:0,class:"full-width v-m-10 height-7"},x={class:""};function L(e,t,l,s,L,F){const E=(0,a.g2)("q-tooltip"),A=(0,a.g2)("q-btn"),S=(0,a.g2)("q-icon"),D=(0,a.g2)("scriptBtn"),I=(0,a.g2)("autoTesting"),T=(0,a.g2)("DocumentClassification"),O=(0,a.g2)("q-separator"),M=(0,a.g2)("masterDataLookup"),R=(0,a.g2)("dialog-draggable"),P=(0,a.g2)("export-dialog"),q=(0,a.g2)("q-dialog"),V=(0,a.g2)("Loader"),N=(0,a.g2)("q-spinner-hourglass"),B=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.isModelReady()?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.Lk)("div",d,[(0,a.bF)(A,{flat:"",class:"pr-6 pl-6",onClick:e.saveData},{default:(0,a.k6)((()=>[u,(0,a.bF)(E,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("save")),1)])),_:1})])),_:1},8,["onClick"])]),(0,a.Lk)("div",c,[(0,a.Q3)("",!0)]),!0!==this.is_admin||e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(D)])),(0,a.Lk)("div",h,[(0,a.bF)(I)]),(0,a.Lk)("div",m,[e.renderOpenWindoIcon?((0,a.uX)(),(0,a.Wv)(A,{key:0,flat:"",class:"pr-6 pl-6",onClick:e.openComponentInSaparateWindow},{default:(0,a.k6)((()=>[_,(0,a.bF)(E,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("medi.new_window")),1)])),_:1})])),_:1},8,["onClick"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",b,[(0,a.bF)(T,{isReadOnly:e.isReadOnly},null,8,["isReadOnly"])])])]),(0,a.Lk)("div",{class:(0,o.C4)(["scrolle-y back-white",e.renderOpenWindoIcon?"full-height":"right-content-height"]),"data-section":"fields",id:"field_scrolle"},[e.renderComponent?((0,a.uX)(),(0,a.CE)("div",v,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.formLayout,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:`div-${l}`},[t.is_panel_section_group===e.isPanelSection?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,o.C4)(["full-width q-mb-lg",t.is_stcky_group?" validation-sticky-area":"not-sticky-area"]),"data-group-id":l},[(0,a.Lk)("div",f,[(0,a.Lk)("div",y,[t.title?((0,a.uX)(),(0,a.Wv)(S,{key:0,class:"cursor-pointer",size:"sm",onClick:t=>e.validateAllSectionFields(l)},{default:(0,a.k6)((()=>[k,(0,a.bF)(E,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("validate_all_fields")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,o.v_)(t.title),1)])]),(0,a.Lk)("div",{class:"full-width","data-fields-group-name":t.name},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.rows,((t,i)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:`div-${i}`},[t.is_hidden||void 0!=t.visibile&&!t.visibile?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",{key:0,class:"display-block field-padding",style:(0,o.Tr)("width:"+e.getElementWidth(t)+"%")},[((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.fieldType),{currentField:t,isReadOnly:e.isReadOnly,fieldName:t.name,groupIndex:l,onInputClicked:e.htmlElementClick,onInputValueChanges:e.onInputValueChanges,onApplyFuzzySearch:e.masterDataSearchByField,onUpdateModel:e.updateModel},null,40,["currentField","isReadOnly","fieldName","groupIndex","onInputClicked","onInputValueChanges","onApplyFuzzySearch","onUpdateModel"]))],4))],64)))),128))],8,w),t.is_stcky_group?((0,a.uX)(),(0,a.CE)("div",C)):(0,a.Q3)("",!0)],10,g)):(0,a.Q3)("",!0)],64)))),128))])):(0,a.Q3)("",!0),(0,a.bF)(O,{size:"2px",class:"q-mt-lg q-ma-sm"})],2),(0,a.Lk)("div",x,[(0,a.bF)(R,{modelValue:e.fuzzyDialog,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fuzzyDialog=t),seamless:"","full-width":"",position:"right",persistent:"",onKeydown:(0,i.jR)(e.closeMsDialog,["esc"]),title:e.$t("pages.screen2a.validation"),onOnHide:e.closeMsDialog,width:e.master_data_popup_width},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{style:(0,o.Tr)({width:e.master_data_popup_width+"px !important"})},[(0,a.bF)(M)],4)])),_:1},8,["modelValue","onKeydown","title","onOnHide","width"])])],64)):(0,a.Q3)("",!0),(0,a.bF)(q,{modelValue:e.display_config_dialog,"onUpdate:modelValue":t[1]||(t[1]=t=>e.display_config_dialog=t),position:"top",class:"export-dialog",persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(P)])),_:1},8,["modelValue"]),e.is_sep_view?((0,a.uX)(),(0,a.Wv)(V,{key:1})):(0,a.Q3)("",!0),(0,a.bF)(B,{showing:e.script_loading},{default:(0,a.k6)((()=>[(0,a.bF)(N,{color:"primary",size:"6em"})])),_:1},8,["showing"])],64)}var F=l(1659),E=l(24622),A=l(38734),S=l(96056),D=l(89156),I=l(18505),T=l(153),O=l(11470),M=l(53665),R=l(25891),P=l(68450),q=l(53500),V=l(41903),N=l(85192),B=l(82080),$=l(41360),Q=l(76956),X=l(3398),W=l(83319),K=l(86124),U=l(18783),j=l(13912),z=l(37673),H=l(52544),G=l(46032),Y=l(21529),J=l(12167),Z=l(35519),ee=l(34835),te=l(4225),le=l(74368),ae=l(84050),oe=l(64775),ie=l(73937),se=l(96587),ne=l(40057),re=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const de=document.querySelector.bind(document);new Map;const ue=(0,a.pM)({el:"#app",mixins:[I.A,S.A,ae.A,E.A,T.A,B.A,R.A],props:{renderOpenWindoIcon:{type:Boolean,default:!1},isPanelSection:{type:Boolean,default:!1}},emits:["removeOldMapiingsAndDrawNew","showConnectionFromField","setSplitterModel","handleScroll","setApiData","setDocVersion","onFieldLoad"],components:{ExportDialog:$.A,autoTesting:M.A,Loader:D.A,Label:U.A,CheckBox:j.A,TextInput:G.A,ExportButton:z.A,MultiCheckBox:Y.A,ExtractedTable:J.A,TableOfCheckboxes:Z.A,HorizontalSeparator:ee.A,masterDataLookup:X.A,scriptBtn:K.A,DocumentClassification:le.A,dialogDraggable:se.A,PoMatchButton:H.A},watch:{config_saved:{handler:function(e,t){!0===t&&!1===e||(this.display_config_dialog=!1)}},populate_row_to_view:{handler:function(e,t){0!=e&&this.populateMasterDataFields()}}},data(){return{page:1,docId:"",imageWidth:0,imageHeight:0,connectionId:"",itemsData:{},conversionFields:[],debounceScriptCalculateFunc:{},highlightFieldsMode:(0,A.KR)(!1),excluded_field_types:["Label","ExportButton","HorizontalSeparator"]}},mounted:function(){this.isFormBuilderMode=!1,this.formBuilderModel={},this.formBuilderConfigModel={},this.docId=this.$route.params.id,this.is_admin=(0,ie.N6)(),this.isViewSeparateComponenet(),this.init(),document.addEventListener("script_calculate_func",this.scriptCalculateFuncWrapper),document.addEventListener("model_updated",this.updateModelAttribute),document.addEventListener("reload_tables",this.reloadTable),document.addEventListener("keydown",this.keydownEventWrapper),document.addEventListener("move_to_next_field",this.moveToNextFieldEvent),window.addEventListener("resize",this.windowResize)},unmounted:function(){document.removeEventListener("script_calculate_func",this.scriptCalculateFuncWrapper),document.removeEventListener("model_updated",this.updateModelAttribute),document.removeEventListener("reload_tables",this.reloadTable),document.removeEventListener("keydown",this.keydownEventWrapper)},methods:{reloadTable(){this.renderKey++},init(){return re(this,void 0,void 0,(function*(){if(this.is_sep_view&&this.get_cached_data_id===this.docId&&(yield this.setRecordFromCache()),Q.B2.includes(this.record.status)&&(this.isReadOnly=!0),yield this.getLayoutTemplateID(),yield this.getFormBuilderLayout(),this.populateListsAndValues(),!this.isModelReady())return void this.showErrorToast("Document does not have layout. Please contact administrator");this.renderComponent=!0;const e=this.findGroupToFocus(0),t=this.getFirstFieldOfGroup(String(e));this.getOrgSettings(),this.createScriptCalculateDebounceFunc(),yield this.$nextTick(),this.viewLoadCompleted(),this.$emit("onFieldLoad",t,!0),this.hideLoading()}))},createScriptCalculateDebounceFunc(){let e=this.connectionId&&this.formBuilderConfigModel[this.connectionId].isFieldArtikelNummber;this.debounceScriptCalculateFunc=(0,q.A)((()=>re(this,void 0,void 0,(function*(){logError("debounceScriptCalculateFunc called"),yield this.applyScript(e)}))),e?0:3e3)},updateScriptRequest(){this.updateRequestId(),this.debounceScriptCalculateFunc.cancel()},createNewScriptRequest(){this.createScriptCalculateDebounceFunc(),logError("debounceScriptCalculateFunc canceled and created new one"),this.debounceScriptCalculateFunc()},viewLoadCompleted(){const e=de(".validation-sticky-area"),t=de(".not-sticky-area");e&&t&&(t.style.paddingTop=e.clientHeight+20+"px");const l=de("#field_scrolle");l&&l.addEventListener("scroll",this.handleScroll)},prepareMediTable(e){if(this.formBuilderConfigModel[e.name]=Object.assign({},e),!this.record.tables||!this.record.tables[0]){this.record.tables=[];let t={name:e.name,rows:[]};return void(this.formBuilderModel[e.name]=Object.assign({},t))}let t={};this.record.tables.forEach((l=>{(l.name=e.name)&&(t=Object.assign({},l))})),this.formBuilderModel[e.name]=Object.assign({},t)},prepareMultiCheckBox(e,t,l){if(this.formBuilderConfigModel[e.name]=Object.assign({},e),!t)return this.formBuilderModel[l]=[],this.formBuilderModel[l].page="",this.formBuilderModel[l].color="",this.formBuilderModel[l].score="",this.formBuilderModel[l].value="",this.formBuilderModel[l].coords=[],this.formBuilderModel[l].groupList=[],this.formBuilderModel[l].confidence="",void(this.formBuilderModel[l].formatted_value="");t.highlight_field&&(t.highlight_field=!1,this.addFieldToHighlight(l)),this.formBuilderModel[l]=Object.assign({},t)},prepareCheckboxesTable(e,t,l){e.tableBodyRows.forEach(((e,a)=>{e.forEach(((e,a)=>{let o=e.name;l.hasOwnProperty(o)&&Object.assign(e,this.cleanLayoutSettings(l[o])),this.prepareModel(e,t[o],o)}))}))},makeModel(){return this.fieldListToHighlight=[],this.fields_tabindex_mapping={},new Promise(((e,t)=>{let l={};if(void 0!==this.record){this.record.fields.forEach(((e,t)=>{l[e.name]=e}));let e=this.getUpdatedFieldSettings(),t="";for(const[a,o]of this.formLayout.entries()){o.short_cut_key_2&&(t=o.short_cut_key_1+o.short_cut_key_2,this.groupShortCutMap.set(t,a));for(let t of o.rows){let a=t.name?t.name:t.field_name;t.fieldType!==te.VV.TABLE_OF_CHECKBOXES?t.fieldType!==te.VV.EXTRACTED_TABLE?t.fieldType!==te.VV.MULTI_CHECK_BOX?(e.hasOwnProperty(a)&&(t=Object.assign(t,this.cleanLayoutSettings(e[a]))),this.prepareModel(t,l[a],a)):this.prepareMultiCheckBox(t,l[a],a):this.prepareMediTable(t):this.prepareCheckboxesTable(t,l,e)}}this.setupLookup()}e("done"),this.highlightFieldsMode&&setTimeout((()=>{this.highlightFields()}),500)}))},setupLookup(){try{if(this.lookup_configurations=new Map,!this.record.hasOwnProperty("layout")||!this.record.layout.hasOwnProperty("lookup_configurations"))return;for(const[e,t]of this.record.layout.lookup_configurations.entries())for(const[l,a]of t.fields.entries())a.is_searchable&&this.lookup_configurations.set(a.field_name,Object.assign(JSON.parse(JSON.stringify(a)),{lookup_name:t.lookup_dataset_name,fields:JSON.parse(JSON.stringify(t.fields))}))}catch(e){logError(e)}},prepareModel(e,t,l){t?this.setColor(t,e):t=this.createEmptyField(l,e.input_type);let a=e.input_type?e.input_type:e.fieldType;this.cleanCheckboxValue(t,a.toLowerCase()),e.hasOwnProperty("tabIndex")&&!(0,P.z)(e.tabIndex)||(e.tabIndex=0),t.highlight_field&&(t.highlight_field=!1,this.addFieldToHighlight(l)),this.formBuilderModel[l]=[],this.formBuilderConfigModel[l]=[],this.formBuilderModel[l]=Object.assign({},t),this.formBuilderConfigModel[l]=Object.assign({},e),t.hasOwnProperty("is_required")&&(this.formBuilderConfigModel[l].is_required=t.is_required),t.hasOwnProperty("force_validation")&&(this.formBuilderConfigModel[l].force_validation=t.force_validation,1==t.force_validation&&(this.formBuilderModel[l].validation_code="FORCED_VALIDATION",this.formBuilderModel[l].validation_message="Validation required")),this.setTabIndexInList(e),this.handleListofValues(l)},handleListofValues(e){this.formBuilderConfigModel[e].hasOwnProperty("list_of_values")&&this.addNameToLovList(this.formBuilderConfigModel[e].list_of_values)},addFieldToHighlight(e){this.fieldListToHighlight.push(e)},highlightFields(){var e;this.highlightFieldsMode=!1;for(const t of this.fieldListToHighlight){let l=de("#"+t);(null===(e=l.parentElement)||void 0===e?void 0:e.classList.contains("q-td"))&&(l=l.parentElement),l&&(l.classList.add("light-yellow-with-effect"),setTimeout((()=>{l.classList.remove("light-yellow-with-effect")}),4e3))}},getUpdatedFieldSettings(){let e={},t=JSON.parse(JSON.stringify(this.record.layout.groups));return t.forEach(((t,l)=>{t.rows.forEach(((t,l)=>{t.forEach(((t,l)=>{let a=t.field_name;e[a]=t}))}))})),e},cleanLayoutSettings(e){return delete e.name,delete e.field,delete e.field_name,delete e.field_type,delete e.title,delete e.translation_key,e},setTabIndexInList(e){if(this.excluded_field_types.includes(e.fieldType)||1==e.is_readonly||1==e.is_hidden||1==e.isDisabled)return;let t=e.field_name||e.name;const l=Number(e.tabIndex);this.fields_tabindex_mapping.hasOwnProperty(l)||(this.fields_tabindex_mapping[l]=[]),this.fields_tabindex_mapping[l].push(t)},cleanCheckboxValue(e,t){"checkbox"!=t&&"CheckBox"!=e.fieldType||("true"==e.formatted_value||1==e.formatted_value||"Y"==e.formatted_value?e.formatted_value=!0:e.formatted_value=!1)},setColor(e,t){e.hasOwnProperty("is_valid")?"MD"==e.extraction_method?t.color="extraction_method-border-left":e.is_valid?t.color="success-border-left":t.color="error-border-left":t.color=""},setConversionFields(){this.conversionFields=this.getConversionFields()},getField(e){let t={};if(void 0!==this.record)for(const l in this.record.fields){let a=this.record.fields[l];if(a.name==e){t=a;break}}return t},createEmptyField(e,t){let l="checkbox"!=t&&"";return{confidence:0,name:e,value:l,formatted_value:l,content:l}},saveMediImageFields(){let e={};if(V.A.has("table_data")&&null!=V.A.getItem("table_data")&&""!=V.A.getItem("table_data")){let t=V.A.getItem("table_data");e=JSON.parse(t)}else e={columns:[],table_areas:[]}},prepareTableJson(){this.record["tables"]=[],Object.keys(this.formBuilderModel).forEach((e=>{this.formBuilderConfigModel[e].fieldType===te.VV.EXTRACTED_TABLE?this.record.tables.push(Object.assign({},this.formBuilderModel[e])):this.formBuilderConfigModel[e].fieldType===te.VV.MULTI_CHECK_BOX&&(this.record.fields.push(Object.assign({},this.formBuilderModel[e])),this.record.fields[this.record.fields.length-1].name=e)}))},saveData(){return re(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.prepareTableJson(),this.saveMediImageFields(),this.showLoading();const e=yield this.saveDocument(this.docId);if(!1===e.success)return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.showErrorToast(e.message);this.$emit("setDocVersion"),this.setDataToCache(),yield this.makeModel();const t=new CustomEvent("prepare_rows",{});document.dispatchEvent(t),this.$forceUpdate(),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(e){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e)}finally{this.hideLoading()}}))},exportData(){return re(this,void 0,void 0,(function*(){if(!this.isReadOnly)try{const e=yield this.confirmExportConfiguration();if(!e)return void(this.display_config_dialog=!0);yield this.callExportApi()}catch(e){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e)}}))},confirmExportConfiguration(){return re(this,void 0,void 0,(function*(){let e,t=new FormData;t.append("doc_type",this.record.doc_type);const l=yield O.M8.export_configuration_existence(t);return e=l.valid,e}))},validateRequiredFieldRules(){let e=!0;return this.record.hasOwnProperty("required_field_pairs")&&Array.isArray(this.record.required_field_pairs)&&0!=this.record.required_field_pairs.length?(Array.from(this.record.required_field_pairs).forEach((t=>{let l=!1;for(let e of t)this.formBuilderModel[e].formatted_value&&(l=!0);if(!l){e=!1;const l=this.getRequirdFieldsErrorMessage(t);for(let e of t)this.formBuilderModel[e].input_error=l}})),e):e},getRequirdFieldsErrorMessage(e){const t=[];for(let a of e)t.push(this.getLabelForFormBuilder(this.formBuilderConfigModel[a],"form_builder."));let l=this.$t("atleast_fill_one_field");return l=l.replace("#",t.join(", ")),l},callExportApi(){return re(this,void 0,void 0,(function*(){let e;try{if(yield this.validateExportData())return;let t=this.record;this.showLoading(),t.hasOwnProperty("table_data_copy")&&delete t["table_data_copy"];let l=new FormData;if(l.append("data",JSON.stringify(t)),e=yield O.M8.validate_and_export(this.docId,l),!0===e.success)return yield this.dashboardFiltersAfterExport(),void this.routeToDashboard();this.showErrorToast(e.message),e.hasOwnProperty("data")&&(this.record=e.data),yield this.handleExportError()}catch(t){const e=oe.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.hideLoading()}}))},routeToDashboard(){this.$router.push("/dashboard")},validateExportData(){return re(this,void 0,void 0,(function*(){this.handleScroll(),this.updateFieldErrors();const e=this.setFieldErrors(!0),t=yield this.checkValidationError(),l=!this.validateRequiredFieldRules();return(e||t||l)&&this.focusFirstErrorField(),e||t||l}))},handleExportError(){return re(this,void 0,void 0,(function*(){this.setDataToCache(),this.$emit("setDocVersion"),yield this.makeModel();const e=this.setFieldErrors(!1);e&&this.focusFirstErrorField()}))},updateFieldErrors(){for(const[e,t]of Object.entries(this.formBuilderModel))this.formBuilderConfigModel[e].is_required&&t.formatted_value&&"REQUIRED"===t.validation_code&&(t.validation_code="")},setFieldErrors(e){let t=!1;for(const[l,a]of Object.entries(this.formBuilderModel)){if(this.formBuilderModel[l].input_error="",this.formBuilderConfigModel[l].is_required&&!a.formatted_value){t=!0,this.formBuilderModel[l].input_error=this.$t("field_required");continue}if(!a.validation_code||e&&Q.Cx.includes(a.validation_code))continue;let o=this.formBuilderModel[l].validation_message;o||(o=this.$t("pages.api_user_messages."+a.validation_code)),t=!0,this.formBuilderModel[l].input_error=o}return t},focusFirstErrorField(){let e="";for(const[t,l]of Object.entries(this.formBuilderModel))if(l.input_error){e=t;break}this.focusOnField(e)},checkValidationError(){return re(this,void 0,void 0,(function*(){let e=!1;for(const[t,l]of Object.entries(this.formBuilderModel)){if("TextInput"!==this.formBuilderConfigModel[t].fieldType)continue;let a=l.formatted_value;if(!a||""==a)continue;const o=this.formBuilderConfigModel[t];let i=!0,s="";this.isFieldArtikelNummber(t)&&(o.isFieldArtikelNummber=!0),({is_valid:i,input_error:s}=yield ne.m.init(l,o)),i||(this.formBuilderModel[t].input_error=s,e=!0)}return e}))},isFieldArtikelNummber(e){const t=this.getArtikelNummerFields();return!!t.includes(e)},isModelReady(){return 0!==(0,P.Ns)(this.formBuilderModel)},isSelectedAreaDataReady(){return this.isSelectedAreaFieldsReady},getConfidence(e){return e?e<1?(100*+e.toFixed(2)).toFixed(0):+e.toFixed(2):""},getLowerConfidence(e){if(e.confidence&&e.score){let t=e.confidence<1?(100*e.confidence.toFixed(2)).toFixed(0):e.confidence.toFixed(2),l=e.score<=1?(100*e.score.toFixed(2)).toFixed(0):e.score.toFixed(2);return t=Number(t),l=Math.floor(Number(l)),t<l?t:l}return e.confidence?e.confidence<1?(100*e.confidence.toFixed(2)).toFixed(0):e.confidence.toFixed(2):null},openComponentInSaparateWindow(){this.setDataToCache();let e=this.$router.resolve({path:"/fields_sep_comp_v3/"+this.docId});window.open(e.href,"_blank","toolbar=yes,scrollbars=yes,resizable=yes,left=500,width=1500,height=1000")},isViewSeparateComponenet(){this.$route.fullPath.match(/fields_sep_comp_v3/g)&&(this.is_sep_view=!0)},setCheckboxBackgroupColor(e){let t=this.formBuilderConfigModel[e],l="";if(!(0,P.z)(t))return 1==t.is_readonly?l=" bg-disable ":1==this.formBuilderModel[e].formatted_value&&(l=" color-primary "),l},updateModelAttribute(e){e.detail&&e.detail.field_name&&this.updateImportJson(e.detail.field_name)},inputValueChanges(e){this.updateLocalModel(e),this.updateImportJson(e),this.handleScriptCalculatedFields(e)},updateLocalModel(e){this.formBuilderModel[e].value=this.formBuilderModel[e].formatted_value,this.formBuilderModel[e].content=this.formBuilderModel[e].formatted_value},masterDataSearchByField(e){try{const t=e.name,l=this.lookup_configurations.get(t);if(!l)return void logError("field vardef is missing for master loopup",t);const a=(0,N.A)();if(this.ms_advance_filters[a]={fuzzy_field:l.lookup_field.toLowerCase(),search_text:this.formBuilderModel[t].formatted_value,field_name:t,primary:!0},this.master_lookup_type=l.lookup_name,this.ms_view_model=this.formBuilderConfigModel,this.master_data_fields_map=new Map,this.master_data_fields_map.set(this.master_lookup_type,l),this.master_data_popup_width=this.calculateWidthForMSPopuup(),l.parent_field_id&&""!=l.parent_field_id){let e=null;for(const[t,a]of l.fields.entries())if(l.parent_field_id==a.field_id){e=a;break}if(e){const t=(0,N.A)();this.ms_advance_filters[t]={fuzzy_field:e.lookup_field.toLowerCase(),search_text:this.formBuilderModel[e.field_name].formatted_value,field_name:e.field_name,primary:!1}}}this.fuzzyDialog=!0}catch(t){logInfo(t)}},closeMsDialog(){this.fuzzyDialog=!1,this.ms_advance_filters={}},calculateWidthForMSPopuup(){let e="700";const t=document.querySelector(".field_validation");if(!t)return e;const l=document.querySelector("#field_scrolle");if(!l)return e;const a=l.offsetWidth;return a<=0?e:String(a)},windowResize(){this.fuzzyDialog&&(this.master_data_popup_width=this.calculateWidthForMSPopuup())},handleSingleSelection(e){let t=["stuck_checkbox","paar_checkbox","hose_checkbox"];t.includes(e)&&t.forEach(((t,l)=>{t!==e&&(this.formBuilderModel[t].formatted_value=!1,this.formBuilderModel[t].value=!1)}))},checkboxValueChanges(e){setTimeout((()=>{this.formBuilderModel[e].formatted_value=this.formBuilderModel[e].value,this.showConnectionFromField(e)}),30)},showConnectionFromField(e){te.iS.includes(this.formBuilderConfigModel[e].fieldType)&&(this.connectionId=e,this.$emit("showConnectionFromField",e))},exportWithSonderWunsch(){this.record["export_parameters"]={doc_export_status:"export_with_sonderwunsche",validate:!1},this.exportData()},clickExport(){this.record["export_parameters"]={doc_export_status:"export"},this.exportData()},htmlElementClick(e){if(this.formBuilderConfigModel[e].fieldType===te.VV.EXPORT_BUTTON)return"reject"==this.formBuilderConfigModel[e].exportType?void this.rejectDocument():(this.record["export_parameters"]={doc_export_status:this.formBuilderConfigModel[e].exportType,validate:!1},void this.exportData());const t=de("#"+e);t&&t.closest(".validation-sticky-area")?this.handleScroll():this.showConnectionFromField(e)},updateFieldInFormBuilder(e,t){let l=e.querySelector("."+this.connectionId+"_input");if(!l)return;const a=new CustomEvent("update_field_value",{detail:{input_class:this.connectionId+"_input",val:t.formatted_value}});l.dispatchEvent(a)},updateFieldData(e){let t=de("#"+this.connectionId);t.setAttribute("pageno",this.page.toString()),t&&this.updateFieldInFormBuilder(t,e);const l=this.getInputType(t);this.formBuilderModel[this.connectionId].value=e.value,this.formBuilderModel[this.connectionId].formatted_value=e.formatted_value,this.formBuilderModel[this.connectionId].content=e.text,this.formBuilderModel[this.connectionId].api_save=!0,this.formBuilderModel[this.connectionId].score_description="","checkbox"===l&&(this.formBuilderModel[this.connectionId].value=!1,this.formBuilderModel[this.connectionId].formatted_value=!1,this.formBuilderModel[this.connectionId].content=!1,e.formatted_value&&"x"===e.formatted_value.toLowerCase()&&(this.handleSingleSelection(this.connectionId),this.formBuilderModel[this.connectionId].value=!0,this.formBuilderModel[this.connectionId].content=!0,this.formBuilderModel[this.connectionId].formatted_value=!0)),this.valueChangesOnRedraw(this.connectionId,e.coords,this.page),this.$forceUpdate()},valueChangesOnRedraw(e,t,l){let a=["stuck_checkbox","paar_checkbox","hose_checkbox"],o=[];a.includes(e)?o=a:o.push(e),t&&l?this.prepareImportJson(o,t,l,"AI"):this.prepareImportJson(o),this.$emit("removeOldMapiingsAndDrawNew",e),this.$forceUpdate()},prepareImportJson(e,t,l,a){e.forEach((e=>{this.updateImportJson(e,t,l,a)}))},updateImportJson(e,t,l,a){let o=!1;if(this.record.fields.forEach(((a,i)=>re(this,void 0,void 0,(function*(){if(a.name===e){o=!0,a.hasOwnProperty("original")||(a["original"]=Object.assign({},JSON.parse(JSON.stringify(a)))),a.hasOwnProperty("original_value")||(a["original_value"]=a.value),t&&(a.coords=t),l&&(a.page=l),a.is_valid=!0,a.is_validated=!0;let i=this.formBuilderModel[e];a.formatted_value=i.formatted_value,a.value=i.formatted_value,a.content=i.formatted_value,i.hasOwnProperty("api_save")&&i.api_save||(a.value=i.formatted_value);const s=this.record.amount_format_locale.split(".");return i.hasOwnProperty("api_save")&&i.api_save||!this.conversionFields.includes(i.name)||"en_US"==s[0]||(a.value=yield this.convertValueAccordingToLocale(a.value,s[0],"en_US"),a.float_value=+a.value),a.color="success-border-left","MD"==a.extraction_method&&(a.color="extraction_method-border-left"),void(!a.is_required||""!=a.formatted_value&&null!=a.formatted_value||(a.color="error-border-left"))}})))),!o){this.record.fields.push({});const o=this.record.fields.length-1;this.record.fields[o].name=e,this.record.fields[o].content=this.formBuilderModel[e].content,this.record.fields[o].formatted_value=this.formBuilderModel[e].formatted_value,this.record.fields[o].value=this.formBuilderModel[e].value,this.record.fields[o].original_value="",this.record.fields[o].validation_code="",this.record.fields[o].extraction_method=a,this.record.fields[o].is_validated=!0,this.record.fields[o].is_valid=!0,this.record.fields[o].color="success-border-left",t&&(this.record.fields[o].coords=t),l&&(this.record.fields[o].page=l)}},initTempFieldDelete(){this.record.fields.forEach(((e,t)=>{if(e.name===this.connectionId){e.hasOwnProperty("original")||(e["original"]=Object.assign({},JSON.parse(JSON.stringify(e))));const l={color:null,coords:null,confidence:0,validation_code:null};this.formBuilderModel[this.connectionId]=Object.assign(this.formBuilderModel[this.connectionId],l),this.record.fields[t]=Object.assign(this.record.fields[t],l)}}))},handleScroll(){this.$emit("handleScroll")},getInputType(e){return e.getAttribute("child_type")},onInputValueChanges(e,t){this.connectionId=e,this.removeSelectedAreaOnImage(e),this.isFieldScriptCalculated(e)?this.updateScriptRequest():this.handleScriptForNonCalcField(),setTimeout((()=>{this.inputValueChanges(e)}),0),this.startTimer()},removeSelectedAreaOnImage(e){if(this.isConfirmationBoxDisable){const t=new CustomEvent("removeSelectedAreaOnImage",{});document.dispatchEvent(t),this.connectionId=e,this.initTempFieldDelete()}},getElementBorder(e){let t="";return this.formBuilderConfigModel.hasOwnProperty(e.name)?(t=this.formBuilderConfigModel[e.name].right_border?" border-right":"",t+=this.formBuilderConfigModel[e.name].bottom_border?" border-bottom":"",t):(t=e.right_border?" border-right":"",t+=e.bottom_border?" border-bottom":"",t)},getLayoutTemplateID(){return re(this,void 0,void 0,(function*(){try{let e={};this.record.doc_type&&(e["doc_type_key"]=this.record.doc_type),this.record.sub_doc_type&&(e["sub_doc_type_key"]=this.record.sub_doc_type);const t=yield O.H7.getLayoutTemplates(e);if(!t||t.hasOwnProperty("success")&&!1===t.success)throw t;if(!t.data||!Array.isArray(t.data)||0===t.data.length||!t.data[0].hasOwnProperty("id"))throw{message:"Layout Template ID Not Found"};this.layout_template_id=t.data[0].id}catch(e){const t=oe.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}}))},getFormBuilderLayout(){return re(this,void 0,void 0,(function*(){let e;this.formLayout=[];try{if(!this.layout_template_id)return;e=yield O.H7.getDocumentLayoutTemplateById(this.layout_template_id);let t=JSON.parse(e.layout_json);t&&(this.formLayout=t.hasOwnProperty("layout")?t.layout:[],this.formLayout&&(yield this.makeModel(),this.prepareLayoutData()),this.isExtenedPanel=!!t.isExtenedPanelEnabled,this.setGeneralSettings(t),this.$emit("setSplitterModel",this.isExtenedPanel?60:100))}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(t)}}))},updateModel(e){},isFieldScriptCalculated(e){return!(!this.formBuilderConfigModel[e].hasOwnProperty("run_script_on_change")||!0!==this.formBuilderConfigModel[e].run_script_on_change)},isFieldhasWorkflowEnabled(e){return!(!this.formBuilderConfigModel[e].hasOwnProperty("run_workflow_on_change")||!0!==this.formBuilderConfigModel[e].run_workflow_on_change)},handleScriptCalculatedFields(e){try{if(!this.isFieldScriptCalculated(e))return;this.record.apply_script_triggered_on_field=e,logError("handleScriptCalculatedFields",e,this.formBuilderModel[e].formatted_value),this.createNewScriptRequest()}catch(t){logError(t)}},handleScriptForNonCalcField(){""!==this.api_request_id&&this.record.hasOwnProperty("apply_script_triggered_on_field")&&this.record.apply_script_triggered_on_field&&(logError("handleScriptForNonCalcField",this.api_request_id,this.record.apply_script_triggered_on_field),this.updateScriptRequest(),this.createNewScriptRequest())},scriptCalculateFuncWrapper(e){let t="",l="";e.detail.columnName&&(l=e.detail.columnName),e.detail.rowId&&(t=e.detail.rowId),this.record.apply_script_triggered_on_table_row=t,this.record.apply_script_triggered_on_table_field=l,this.debounceScriptCalculateFunc()},applyScript(e=!1){return re(this,void 0,void 0,(function*(){try{e&&(this.script_loading=!0),this.auto_saved_done=!1,this.auto_saving=!0,this.script_api_timestamp=Date.now();const t=yield this.applyScriptOnDocument();if(!t)return;let l=!1;for(const[e,o]of Object.entries(this.formBuilderModel)){let t=0;o.hasOwnProperty("update_timestamp")&&(t=o.update_timestamp),t>this.script_api_timestamp&&(l=!0),l&&logInfo("discard_response",e,o.formatted_value,t,this.script_api_timestamp)}if(l)return logInfo("discard_response"),this.updateRequestId(),void this.createNewScriptRequest();yield this.updateRecordAfterScript(),this.$emit("setDocVersion"),this.setDataToCache(),this.highlightFieldsMode=!0,yield this.makeModel();const a=new CustomEvent("prepare_rows",{});document.dispatchEvent(a)}catch(t){logError(t)}finally{this.auto_saving=!1,this.auto_saved_done=!0,this.script_loading=!1,setTimeout((()=>{this.auto_saved_done=!1}),1e4)}}))},rejectDocument(){return re(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.showLoading(),yield this.saveData();const e={request_type:"reject"},t=yield O.M8.rejectDocument(e,this.docId);if(!1===t.success)throw t.message;if(this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),!0===t.success)return void this.routeToDashboard()}catch(e){logError(e)}finally{this.hideLoading()}}))},populateMasterDataFields(){try{this.closeMsDialog(),this.showLoading();let e=JSON.parse(this.master_data_row);const t=this.master_data_fields_map.get(this.master_lookup_type),l=t.fields;let a=[];for(let[o,i]of l.entries()){const t=i.field_name,l=i.lookup_field.toLowerCase();e.hasOwnProperty(l)&&this.formBuilderModel.hasOwnProperty(t)&&(this.formBuilderModel[t].formatted_value=e[l],this.formBuilderModel[t].value=e[l],this.formBuilderModel[t].color="extraction_method-border-left",this.formBuilderModel[t].extraction_method="MD",!this.isCurrentFieldPrimary(t)&&this.isContentChanged(this.formBuilderModel[t].content,e[l])&&(this.formBuilderModel[t].content=e[l],this.formBuilderModel[t].coords=null,this.formBuilderModel[t].confidence=0,this.formBuilderModel[t].validation_code=null),a.push(t))}a.length>0&&this.prepareImportJson(a,[],this.page,"MD"),this.resetMasterDataStore()}catch(e){logError(e)}finally{this.hideLoading()}},jumpToTable(e){e.preventDefault();for(const[t,l]of this.formLayout.entries())if(this.isGroupTable(t)){this.focusOnTableGroup(t);break}},triggerTableAddRow(e){for(const[t,l]of this.formLayout.entries()){if(!this.isGroupTable(t))continue;const e=this.formLayout[t].rows[0];let l=document.querySelector("."+e.name);if(!l)return;const a=new CustomEvent("trigger_add_row",{detail:{}});l.dispatchEvent(a);break}e.preventDefault()},findGroupShortcutkey(e){const t=e.key,l=["shift","alt"],a=l.find((e=>{const l=e+t;return this.groupShortCutMap.has(l)}));return a},focusOnGroupFromMap(e){if(0===this.groupShortCutMap.size)return;const t=this.findGroupShortcutkey(e);if(!t)return;const l=t+e.key,a=this.groupShortCutMap.get(l);null!==a&&void 0!==a&&""!==a&&(e.preventDefault(),this.focusGroup(a,e))},isGroupTable(e){return!!this.formLayout[e].rows[0]&&"ExtractedTable"===this.formLayout[e].rows[0].fieldType},focusGroup(e,t){if(t.preventDefault(),0===this.formLayout[e].rows.length)return;if(this.isGroupTable(e))return void this.focusOnTableGroup(e);const l=this.getFirstFieldOfGroup(e);l&&this.focusOnField(l)},getFirstFieldOfGroup(e){let t="",l=["CheckBox","TableOfCheckboxes"];l=l.concat(this.excluded_field_types);const a=this.formLayout[e].rows.find((e=>!l.includes(e.fieldType)));return a?(t=a.name,a.hasOwnProperty("field_name")&&(t=a.field_name),t||""):t},focusOnTableGroup(e){const t=this.formLayout[e].rows[0];this.focusOnTable(t.name)},validateAllSectionFields(e){if(this.isReadOnly)return;const t=this.formLayout[e];if(t.hasOwnProperty("rows"))for(const l of t.rows)this.validateField(l.field_name);else logInfo("No rows found to validate in this section")},selectFieldFromNextGroup(e){let t=e.target.closest("[data-group-id]");if(t||(t=document.querySelector("[data-group-id]")),!t)return;const l=t.getAttribute("data-group-id"),a=Number(l)+1;this.focusFirstFieldOnGroup(a)},validateAndSelectNextInvalidField(e){let t=!1,l="";for(const a of this.formLayout)for(const o of a.rows){let a=o.field_name,i=this.formBuilderModel[a];if(i){if(!0===t){if(1==o.is_readonly||1==o.is_hidden)continue;if(1==i.is_valid||i.calculation_formula)continue;return this.focusOnField(a),void(t=!1)}if(a===e){t=!0,this.validateField(a);const e=de("#"+a);if(l=this.getComponentType(a),""==l)e.blur();else{const t=e.querySelector(l);t.blur()}}}}},focusOnField(e,t=!0,l=!1){const a=de("#"+e);if(!a)return void logError("cannot find field",e);const o=this.getComponentType(e);if(""==o)return a.focus(),void(t&&this.startTimer());const i=a.querySelector(o);i?(i.click(),i.focus(),this.scrollInToViewCenter(i),l&&i.select(),t&&this.startTimer()):logError("cannot find field",o)},selectNextField(e){let t=!1,l="";for(const a of this.formLayout)for(const o of a.rows){let a=o.field_name,i=this.formBuilderModel[a];if(i){if(!0===t){if(1==o.is_readonly||1==o.is_hidden)continue;return this.focusOnField(a),void(t=!1)}if(a===e){const e=de("#"+a);l=this.getComponentType(a);const o=e.querySelector(l);o.blur(),this.validateField(a),t=!0}}}},getNextTabIndex(e){let t=!1,l=0;for(const[o,i]of Object.entries(this.fields_tabindex_mapping)){const a=Number(o);if(!0===t){l=a;break}e===a&&(t=!0)}const a=this.fields_tabindex_mapping[l];return a&&Array.isArray(a)?l:this.getNextTabIndex(l)},isFieldAvailableToFocus(e){const t=de("#"+e);return!!t},getNextTabIndexField(e,t){try{const l=this.fields_tabindex_mapping[e],a=l.indexOf(t);if(a===l.length-1){const t=this.getNextTabIndex(e),l=String(this.fields_tabindex_mapping[t][0]),a=this.isFieldAvailableToFocus(l);return a?l:this.getNextTabIndexField(t,l)}const o=a+1,i=String(l[o]),s=this.isFieldAvailableToFocus(i);return s?i:this.getNextTabIndexField(e,i)}catch(l){return""}},findNextField(e){const t=this.formBuilderConfigModel[e],l=Number(t.tabIndex);let a=this.getNextTabIndexField(l,e);return a},isFieldTable(e){return"ExtractedTable"===e.fieldType},focusOnTable(e){let t=document.querySelector("."+e);if(!t)return;const l=new CustomEvent("focus_first_row_column",{detail:{}});t.dispatchEvent(l)},moveToNextFieldEvent(e){if(!e.detail)return;const t=this.findNextField(e.detail);t&&this.focusOnField(t)},getComponentType(e){let t="";const l=de("#"+e);return l?(t=this.getInputType(l),"checkbox"==t||""==t?"":t):(logInfo("NO parentDiv",l),"")},validateField(e){if(!this.formBuilderModel[e])return void logInfo("validateField formBuilderModel missing field_name",e,this.formBuilderModel[e]);let t=this.formBuilderConfigModel[e];this.formBuilderModel[e].color="success-border-left",this.formBuilderModel[e].is_valid=!0,this.formBuilderModel[e].validation_code=null,this.formBuilderModel[e].validation_message=null,this.formBuilderModel[e].is_validated=!0,this.setColor(this.formBuilderModel[e],t),this.updateImportJson(e)},getFieldParentDiv(e){let t="";const l=de("#"+e);if(!l)return logInfo("NO parentDiv",l),!1;if(t=this.getInputType(l),"checkbox"==t||""==t)return logInfo("NO componentType",t),!1;const a=l.querySelector(t);return a?(a.blur(),!0):(logInfo("NO Element Value",a),!1)},startTimer(){const e=new CustomEvent("start_time_spent_on_validation",{});document.dispatchEvent(e)},focusFirstFieldOnGroup(e=0){return re(this,void 0,void 0,(function*(){yield this.$nextTick();const t=this.findGroupToFocus(e),l=this.getFirstFieldOfGroup(String(t));l&&this.focusOnField(l,!1)}))},findGroupToFocus(e){if(0===this.formLayout[String(e)].rows.length)return this.findGroupToFocus(e+1);if(this.formLayout[String(e)].is_stcky_group)return this.findGroupToFocus(e+1);const t=this.getFirstFieldOfGroup(String(e));return t?e:this.findGroupToFocus(e+1)},keydownEventWrapper(e){this.keyDownEvent(e)}},setup(){let e=[],t=new Map;const l=(0,W.t8)(),{clearStateForExportDialog:a}=l,{display_config_dialog:o}=(0,F.bP)(l),i=(0,W.uL)(),{formBuilderModel:s,formLayout:n,isExtenedPanel:r,isFormBuilderMode:d,formBuilderConfigModel:u,renderComponent:c,docType:p,fieldListToHighlight:h}=(0,F.bP)(i),{getElementWidth:m,prepareLayoutData:_,isFieldHidden:b,getArtikelNummerFields:v}=i,g=(0,W.q3)(),{record:f,lookup_configurations:y,script_response:k,script_api_timestamp:w,layout_template_id:C,get_cached_data_id:x,auto_saving:L,auto_saved_done:E,api_request_id:S}=(0,F.bP)(g),{saveDocument:D,applyScriptOnDocument:I,updateRecordAfterScript:T,setDataToCache:O,setRecordFromCache:M,updateRequestId:R}=g,P=(0,W.Ox)(),{model:q,advance_filters:V,master_lookup_type:N,selected_row:B,populate_row_to_view:$,master_data_fields_map:Q}=(0,F.bP)(P),{resetMasterDataStore:X,isContentChanged:K,isCurrentFieldPrimary:U}=P,j=(0,W.yM)(),{populateListsAndValues:z,addNameToLovList:H}=j,G=(0,W.XB)(),{setGeneralSettings:Y}=G,{isConfirmationBoxDisable:J}=(0,F.bP)(G),Z=(0,W.oI)(),{releaseDocLock:ee}=Z,te=(0,W.fX)(),{dashboardFiltersAfterExport:le}=te,ae=(0,W.Bu)(),{getOrgSettings:oe}=ae;return{lookup_configurations:y,script_api_timestamp:w,script_response:k,updateRecordAfterScript:T,isCurrentFieldPrimary:U,updateRequestId:R,api_request_id:S,addNameToLovList:H,getOrgSettings:oe,isFieldHidden:b,getArtikelNummerFields:v,dashboardFiltersAfterExport:le,auto_saving:L,auto_saved_done:E,setRecordFromCache:M,setDataToCache:O,saveDocument:D,releaseDocLock:ee,setGeneralSettings:Y,resetMasterDataStore:X,applyScriptOnDocument:I,populateListsAndValues:z,clearStateForExportDialog:a,get_cached_data_id:x,master_lookup_type:N,ms_advance_filters:V,isContentChanged:K,isConfirmationBoxDisable:J,master_data_fields_map:Q,populate_row_to_view:$,master_data_row:B,ms_view_model:q,record:f,apiData:(0,A.KR)(e),tableAreasStr:(0,A.KR)(""),isSelectedAreaFieldsReady:(0,A.KR)(!1),is_sep_view:(0,A.KR)(!1),fuzzyDialog:(0,A.KR)(!1),selectedRow:(0,A.KR)([]),renderKey:0,isReadOnly:(0,A.KR)(!1),display_config_dialog:o,formBuilderModel:s,formLayout:n,isExtenedPanel:r,isFormBuilderMode:d,formBuilderConfigModel:u,layout_template_id:C,renderComponent:c,docType:p,groupShortCutMap:t,fieldListToHighlight:h,getElementWidth:m,prepareLayoutData:_,is_admin:(0,A.KR)(!1),master_data_popup_width:(0,A.KR)("700"),fields_tabindex_mapping:(0,A.KR)({}),script_loading:(0,A.KR)(!1)}}});var ce=l(12807),pe=l(56384),he=l(97410),me=l(50492),_e=l(10386),be=l(82156),ve=l(39035),ge=l(63194),fe=l(45262),ye=l(67156),ke=l(80460),we=l(42315),Ce=l(98582),xe=l.n(Ce);const Le=(0,ce.A)(ue,[["render",L],["__scopeId","data-v-30dd9817"]]),Fe=Le;xe()(ue,"components",{QBtn:pe.A,QTooltip:he.A,QIcon:me.A,QSeparator:_e.A,QDialog:be.A,QInnerLoading:ve.A,QSpinnerHourglass:ge.A,QTd:fe.A,QField:ye.A,QCheckbox:ke.A,QTable:we.A})},91990:(e,t,l)=>{"use strict";l.d(t,{A:()=>Re});var a=l(61758),o=l(58790),i=l(29104);function s(e,t,l,s,n,r){const d=(0,a.g2)("q-tooltip"),u=(0,a.g2)("q-icon"),c=(0,a.g2)("q-btn"),p=(0,a.g2)("keyboardShortcutInfo"),h=(0,a.g2)("q-card-actions"),m=(0,a.g2)("q-card"),_=(0,a.g2)("q-dialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(c,{flat:"",class:"key-card",onClick:t[1]||(t[1]=t=>e.showKeyboardShortcuts=!0)},{default:(0,a.k6)((()=>[(0,a.bF)(u,{name:"keyboard",width:"24",class:"keyboard-icon cursor-pointer",onClick:t[0]||(t[0]=t=>e.showKeyboardShortcuts=!0)},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("keyboard_shortcut")),1)])),_:1})])),_:1})])),_:1}),(0,a.bF)(_,{modelValue:e.showKeyboardShortcuts,"onUpdate:modelValue":t[3]||(t[3]=t=>e.showKeyboardShortcuts=t),onKeydown:t[4]||(t[4]=(0,i.jR)((t=>e.showKeyboardShortcuts=!1),["esc"]))},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(p),(0,a.bF)(h,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{flat:"",color:"primary",label:e.$t("close"),class:"float-right",style:{"font-weight":"900"},onClick:t[2]||(t[2]=t=>e.showKeyboardShortcuts=!1)},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var n=l(38734);const r={class:"text-weight-medium text-h6"},d={class:""},u={class:"text-left",style:{"font-weight":"bold"}},c={class:"text-left",style:{"font-weight":"900"}},p=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Moves to next fields "),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box"}," Enter ")])],-1),h=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Validate & jump to next red-marked field "),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," TAB ")])],-1),m={class:"text-left",style:{"font-weight":"bold"}},_={class:"text-left",style:{"font-weight":"900"}},b=["src"],v=(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," k ",-1),g=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Checkbox check/uncheck "),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box"}," Space ")])],-1),f=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Moves to next group of fields ",-1),y={class:"text-left",style:{"font-weight":"900"}},k=["src"],w=(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," G ",-1),C=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Move To first field of first group ",-1),x={class:"text-left",style:{"font-weight":"900"}},L=["src"],F=(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," F ",-1),E=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Save document ",-1),A={class:"text-left",style:{"font-weight":"900"}},S=["src"],D=(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," S ",-1),I=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Reject document ",-1),T={class:"text-left",style:{"font-weight":"900"}},O=["src"],M=(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," R ",-1),R=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Export without Sonderwunsch ",-1),P={class:"text-left",style:{"font-weight":"900"}},q=["src"],V=(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," E ",-1),N=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Export with Sonderwunsch ",-1),B={class:"text-left",style:{"font-weight":"900"}},$=["src"],Q=(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," W ",-1),X=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," Jump to Table Section ",-1),W={class:"text-left",style:{"font-weight":"900"}},K=["src"],U=(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," T ",-1),j=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Create new line ",-1),z={class:"text-left",style:{"font-weight":"900"}},H=["src"],G=(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," plus (+) ",-1),Y=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Move to Next Column ",-1),J={class:"text-left"},Z=(0,a.Lk)("img",{src:"images/keyboard-left-arrow.svg"},null,-1),ee=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Move to previous Column ",-1),te={class:"text-left"},le={class:"q-mr-sm"},ae=(0,a.Lk)("img",{src:"images/keyboard-right-arrow.svg"},null,-1),oe=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Move to above Row ",-1),ie={class:"text-left"},se=(0,a.Lk)("img",{src:"images/keyboard-up-arrow.svg"},null,-1),ne=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}}," (Table) Move to below Row ",-1),re={class:"text-left"},de=(0,a.Lk)("img",{src:"images/keyboard-down-arrow.svg"},null,-1),ue={key:0},ce={class:"text-left",style:{"font-weight":"bold"}},pe={class:"text-left",style:{"font-weight":"900"}},he={class:"shortcut-Key-box q-mr-sm"},me={class:"shortcut-Key-box q-ml-sm"};function _e(e,t,l,i,s,n){const _e=(0,a.g2)("q-card-section"),be=(0,a.g2)("q-icon"),ve=(0,a.g2)("q-markup-table");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(_e,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,(0,o.v_)(e.$t("keyboard_shortcuts")),1)])),_:1}),(0,a.bF)(_e,{class:"v-p-0"},{default:(0,a.k6)((()=>[(0,a.bF)(ve,{class:"full-width",style:{overflow:"scroll","max-height":"60vh"},"virtual-scroll":""},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",d,[(0,a.Lk)("th",u,(0,o.v_)(e.$t("action")),1),(0,a.Lk)("th",c,(0,o.v_)(e.$t("keyboard_shortcut")),1)])]),(0,a.Lk)("tbody",null,[p,h,(0,a.Lk)("tr",null,[(0,a.Lk)("td",m,(0,o.v_)(e.$t("doc2light.descriptions.check_keyboard_shortcut")),1),(0,a.Lk)("td",_,[(0,a.bF)(be,{size:"40px",class:"black_to_white"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,b)])),_:1}),(0,a.eW)(" + "),v])]),g,(0,a.Lk)("tr",null,[f,(0,a.Lk)("td",y,[(0,a.bF)(be,{size:"40px",class:"black_to_white"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,k)])),_:1}),(0,a.eW)(" + "),w])]),(0,a.Lk)("tr",null,[C,(0,a.Lk)("td",x,[(0,a.bF)(be,{size:"40px",class:"black_to_white"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,L)])),_:1}),(0,a.eW)(" + "),F])]),(0,a.Lk)("tr",null,[E,(0,a.Lk)("td",A,[(0,a.bF)(be,{size:"40px",class:"black_to_white"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,S)])),_:1}),(0,a.eW)(" + "),D])]),(0,a.Lk)("tr",null,[I,(0,a.Lk)("td",T,[(0,a.bF)(be,{size:"40px",class:"black_to_white"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,O)])),_:1}),(0,a.eW)(" + "),M])]),(0,a.Lk)("tr",null,[R,(0,a.Lk)("td",P,[(0,a.bF)(be,{size:"40px",class:"black_to_white"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,q)])),_:1}),(0,a.eW)(" + "),V])]),(0,a.Lk)("tr",null,[N,(0,a.Lk)("td",B,[(0,a.bF)(be,{size:"40px",class:"black_to_white"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,$)])),_:1}),(0,a.eW)(" + "),Q])]),(0,a.Lk)("tr",null,[X,(0,a.Lk)("td",W,[(0,a.bF)(be,{size:"40px",class:"black_to_white"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,K)])),_:1}),(0,a.eW)(" + "),U])]),(0,a.Lk)("tr",null,[j,(0,a.Lk)("td",z,[(0,a.bF)(be,{size:"40px",class:"black_to_white"},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+e.combination_key+".svg"},null,8,H)])),_:1}),(0,a.eW)(" + "),G])]),(0,a.Lk)("tr",null,[Y,(0,a.Lk)("td",J,[(0,a.bF)(be,{size:"36px",class:"black_to_white"},{default:(0,a.k6)((()=>[Z])),_:1})])]),(0,a.Lk)("tr",null,[ee,(0,a.Lk)("td",te,[(0,a.Lk)("span",le,[(0,a.bF)(be,{size:"36px",class:"black_to_white"},{default:(0,a.k6)((()=>[ae])),_:1})])])]),(0,a.Lk)("tr",null,[oe,(0,a.Lk)("td",ie,[(0,a.bF)(be,{size:"36px",class:"black_to_white"},{default:(0,a.k6)((()=>[se])),_:1})])]),(0,a.Lk)("tr",null,[ne,(0,a.Lk)("td",re,[(0,a.bF)(be,{size:"36px",class:"black_to_white"},{default:(0,a.k6)((()=>[de])),_:1})])]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.formLayout,((e,t)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t},[""!==e.short_cut_key_2&&""!==e.short_cut_key_1?((0,a.uX)(),(0,a.CE)("tr",ue,[(0,a.Lk)("td",ce," Move to Group "+(0,o.v_)(e.title),1),(0,a.Lk)("td",pe,[(0,a.Lk)("span",he,(0,o.v_)(e.short_cut_key_1),1),(0,a.eW)(" + "),(0,a.Lk)("span",me,(0,o.v_)(e.short_cut_key_2),1)])])):(0,a.Q3)("",!0)],64)))),128))])])),_:1})])),_:1})],64)}var be=l(1659),ve=l(83319),ge=l(18453);const fe=(0,a.pM)({el:"#app",mixins:[ge.A],props:{},components:{},data(){return{combination_key:""}},mounted:function(){this.combination_key=this.getCombinationKey(null)},setup(){const e=(0,ve.uL)(),{formLayout:t}=(0,be.bP)(e);return{formLayout:t}}});var ye=l(12807),ke=l(44189),we=l(857),Ce=l(50492),xe=l(98582),Le=l.n(xe);const Fe=(0,ye.A)(fe,[["render",_e]]),Ee=Fe;Le()(fe,"components",{QCardSection:ke.A,QMarkupTable:we.A,QIcon:Ce.A});const Ae=(0,a.pM)({el:"#app",mixins:[ge.A],props:{},components:{keyboardShortcutInfo:Ee},mounted:function(){window.addEventListener("keydown",this.keyboardKeyDownEvent)},unmounted:function(){window.removeEventListener("keydown",this.keyboardKeyDownEvent)},methods:{keyboardKeyDownEvent(e){const t=this.isCombinationKey(e);75===e.keyCode&&!0===t&&(e.preventDefault(),this.showKeyboardShortcuts=!0)}},data(){return{}},setup(){return{showKeyboardShortcuts:(0,n.KR)(!1)}}});var Se=l(56384),De=l(97410),Ie=l(82156),Te=l(23316),Oe=l(62669);const Me=(0,ye.A)(Ae,[["render",s],["__scopeId","data-v-0ff25052"]]),Re=Me;Le()(Ae,"components",{QBtn:Se.A,QIcon:Ce.A,QTooltip:De.A,QDialog:Ie.A,QCard:Te.A,QCardActions:Oe.A})},66845:(e,t,l)=>{"use strict";l.d(t,{A:()=>u});var a=l(61758);const o={class:"popup"},i={class:"popup-inner"};function s(e,t,l,s,n,r){return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("div",i,[(0,a.RG)(e.$slots,"default",{},void 0,!0),(0,a.Lk)("button",{class:"popup-close",onClick:t[0]||(t[0]=e=>l.TogglePopup())},"Close")])])}const n={props:["TogglePopup"]};var r=l(12807);const d=(0,r.A)(n,[["render",s],["__scopeId","data-v-4d99a68a"]]),u=d},43956:(e,t,l)=>{"use strict";l.d(t,{A:()=>$});var a=l(61758),o=l(58790),i=l(29104);const s={class:"row q-pa-md"},n=["innerHTML"],r={class:"row items-center justify-end"},d={class:"row items-center justify-end"},u={class:"float-right q-ml-auto"};function c(e,t,l,c,p,h){const m=(0,a.g2)("q-input"),_=(0,a.g2)("q-item-label"),b=(0,a.g2)("q-item-section"),v=(0,a.g2)("q-item"),g=(0,a.g2)("q-icon"),f=(0,a.g2)("q-select"),y=(0,a.g2)("q-btn"),k=(0,a.g2)("q-date"),w=(0,a.g2)("q-popup-proxy"),C=(0,a.g2)("q-list"),x=(0,a.g2)("q-menu"),L=(0,a.g2)("f-btn"),F=(0,a.g2)("Loader"),E=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",s,[(0,a.Lk)("div",{class:(0,o.C4)(e.classes)},[(0,a.bF)(m,{outlined:"",modelValue:e.filterModel["q"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.filterModel["q"]=t),dense:"",label:e.$t("keyword"),onKeyup:e.onKeyup},null,8,["modelValue","label","onKeyup"])],2),(0,a.Lk)("div",{class:(0,o.C4)(e.classes)},[(0,a.bF)(f,{ref:"supplierSelect",dense:"",outlined:"","use-input":"","emit-value":"","map-options":"",tabindex:"0","input-debounce":"1000","hide-dropdown-icon":"",modelValue:e.search_value,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.search_value=t),e.selectValueToSearch],options:e.supplier_options,onFilter:e.updateSearchValue,loading:e.loading_supplier_options,label:e.$t("supplier"),onKeyup:e.onKeyupChange},(0,a.eX)({"no-option":(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("no_data_found")),1)])),_:1})])),_:1})])),append:(0,a.k6)((()=>[""!==e.filterModel["supplier"]?((0,a.uX)(),(0,a.Wv)(g,{key:0,name:"close",onClick:(0,i.D$)(e.clearSupplierSearch,["stop","prevent"]),class:"cursor-pointer"},null,8,["onClick"])):(0,a.Q3)("",!0)])),_:2},[e.search_value?{name:"option",fn:(0,a.k6)((t=>[(0,a.bF)(v,(0,o._B)((0,a.Ng)(t.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",{innerHTML:e.styleSupplerOptions(t.opt.label)},null,8,n)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),key:"0"}:void 0]),1032,["modelValue","options","onFilter","onUpdate:modelValue","loading","label","onKeyup"])],2),(0,a.Lk)("div",{class:(0,o.C4)(e.classes)},[(0,a.bF)(f,{dense:"",outlined:"","emit-value":"","map-options":"",modelValue:e.filterModel["status"],"onUpdate:modelValue":[t[2]||(t[2]=t=>e.filterModel["status"]=t),e.applyFilters],options:e.statusOptions,label:e.$t("status")},null,8,["modelValue","options","label","onUpdate:modelValue"])],2),(0,a.Lk)("div",{class:(0,o.C4)(e.classes)},[(0,a.bF)(f,{dense:"",outlined:"","emit-value":"","map-options":"",modelValue:e.filterModel["order_status"],"onUpdate:modelValue":[t[3]||(t[3]=t=>e.filterModel["order_status"]=t),e.applyFilters],options:e.statusOptions,label:e.$t("order_status")},null,8,["modelValue","options","label","onUpdate:modelValue"])],2),(0,a.Lk)("div",{class:(0,o.C4)(e.classes)},[(0,a.bF)(m,{outlined:"",dense:"",modelValue:e.filterModel["after_date"],"onUpdate:modelValue":t[5]||(t[5]=t=>e.filterModel["after_date"]=t),readonly:"",label:e.$t("after_date")},{append:(0,a.k6)((()=>[(0,a.bF)(g,{name:"event",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{modelValue:e.filterModel["after_date"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.filterModel["after_date"]=t),mask:"YYYY-MM-DD"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,[(0,a.bo)((0,a.bF)(y,{label:"Close",color:"primary",flat:""},null,512),[[E]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","label"])],2),(0,a.Lk)("div",{class:(0,o.C4)(e.classes)},[(0,a.bF)(m,{outlined:"",dense:"",modelValue:e.filterModel["before_date"],"onUpdate:modelValue":t[7]||(t[7]=t=>e.filterModel["before_date"]=t),readonly:"",label:e.$t("before_date")},{append:(0,a.k6)((()=>[(0,a.bF)(g,{name:"event",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(w,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{modelValue:e.filterModel["before_date"],"onUpdate:modelValue":t[6]||(t[6]=t=>e.filterModel["before_date"]=t),mask:"YYYY-MM-DD"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",d,[(0,a.bo)((0,a.bF)(y,{label:"Close",color:"primary",flat:""},null,512),[[E]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue","label"])],2),(0,a.Lk)("div",{class:(0,o.C4)(e.classes)},[(0,a.bF)(m,{outlined:"",modelValue:e.filterModel["min_amount"],"onUpdate:modelValue":t[8]||(t[8]=t=>e.filterModel["min_amount"]=t),dense:"",label:e.$t("min_order_amount"),type:"number",onKeyup:e.onKeyup},null,8,["modelValue","label","onKeyup"])],2),(0,a.Lk)("div",{class:(0,o.C4)(e.classes)},[(0,a.bF)(m,{outlined:"",modelValue:e.filterModel["max_amount"],"onUpdate:modelValue":t[9]||(t[9]=t=>e.filterModel["max_amount"]=t),dense:"",label:e.$t("max_order_amount"),type:"number",onKeyup:e.onKeyup},null,8,["modelValue","label","onKeyup"])],2),(0,a.Lk)("div",{class:(0,o.C4)(e.classes)},[(0,a.bF)(f,{dense:"",outlined:"","emit-value":"","map-options":"",modelValue:e.filterModel["sort_by"],"onUpdate:modelValue":[t[10]||(t[10]=t=>e.filterModel["sort_by"]=t),e.applyFilters],options:e.sortByStatus,label:e.$t("sort_by")},null,8,["modelValue","options","label","onUpdate:modelValue"])],2),(0,a.Lk)("div",{class:(0,o.C4)(e.classes)},[(0,a.bF)(f,{dense:"",outlined:"","emit-value":"","map-options":"",modelValue:e.filterModel["order"],"onUpdate:modelValue":[t[11]||(t[11]=t=>e.filterModel["order"]=t),e.applyFilters],options:e.orderList,label:e.$t("sort_direction")},null,8,["modelValue","options","label","onUpdate:modelValue"])],2),(0,a.Lk)("div",{class:(0,o.C4)(e.classes)},[(0,a.bF)(f,{dense:"",outlined:"",modelValue:e.filterModel["limit"],"onUpdate:modelValue":[t[12]||(t[12]=t=>e.filterModel["limit"]=t),e.applyFilters],options:e.pagination_options,label:e.$t("no_of_items")},null,8,["modelValue","options","onUpdate:modelValue","label"])],2),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.enabledColumnsToSearch,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:(0,o.C4)(e.classes)},[(0,a.bF)(m,{outlined:"",modelValue:e.filterModel[t],"onUpdate:modelValue":l=>e.filterModel[t]=l,dense:"",label:e.$t(t),type:"text",onKeyup:e.onKeyup},{append:(0,a.k6)((()=>[(0,a.bF)(y,{onClick:a=>e.removeColumnFromSearch(t,l),round:"",dense:"",flat:"",icon:"close",class:"cursor-pointer"},null,8,["onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue","label","onKeyup"])],2)))),128)),(0,a.Lk)("div",null,[(0,a.Lk)("div",{class:(0,o.C4)(e.classes)},[(0,a.bF)(y,{disabled:e.enabledColumnsToSearch.length==e.columnsToSearch.length,label:"More",color:"primary"},{default:(0,a.k6)((()=>[(0,a.bF)(x,{ref:"moreOptionsEl"},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.columnsToSearch,(t=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t},[e.enabledColumnsToSearch.includes(t)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(v,{key:0,clickable:"",onClick:l=>e.pushColumnsToSearch(t)},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t(t)),1)])),_:2},1024)])),_:2},1032,["onClick"]))],64)))),128))])),_:1})])),_:1},512),(0,a.bF)(g,{dense:"",flat:"",name:"add"})])),_:1},8,["disabled"])],2)]),(0,a.Lk)("div",u,[(0,a.bF)(L,{appearance:"secondary",class:"q-mr-sm mt-20",label:e.$t("clear"),onClick:t[13]||(t[13]=t=>e.clearFilter())},null,8,["label"]),(0,a.bF)(L,{class:"q-mr-sm mt-20",label:e.$t("apply"),onClick:e.clickApplyFilter},null,8,["label","onClick"])])]),(0,a.bF)(F)],64)}var p=l(1659),h=l(24622),m=l(38734),_=l(89156),b=l(18505),v=l(83319),g=l(68450),f=l(60521),y=l(11470),k=l(64775),w=l(62488),C=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const x=(0,a.pM)({mixins:[h.A,b.A,f.A],emits:["displayAdvanceFilterResults","initDashboard"],props:{classes:{type:String,default:"col-6 q-pa-sm"}},components:{Loader:_.A},data(){return{columnsToSearch:["delivery_number","packing_slip_number","item_id"],orderList:[],sortByStatus:[],statusOptions:[],PO_STATUSES:w.$8,search_value:(0,m.KR)(""),enterValue:(0,m.KR)(""),loading_supplier_options:(0,m.KR)(!1),supplierSelect:null}},watch:{search_value(e){""===e&&this.removeFocusFromQSelect()},enterValue(e){""===e&&this.removeFocusFromQSelect()}},mounted(){this.initOrder(),this.initStatus(),this.initSortByStatus(),document.addEventListener("apply_filters",this.applyFilterEvent)},unmounted(){document.removeEventListener("apply_filters",this.applyFilterEvent)},methods:{removeColumnFromSearch(e,t){this.enabledColumnsToSearch.splice(t,1),delete this.filterModel[e]},pushColumnsToSearch(e){this.enabledColumnsToSearch.includes(e)||(this.enabledColumnsToSearch.push(e),Object.assign(this.filterModel,{[e]:""})),this.moreOptionsEl.hide()},clickApplyFilter(){this.filterModel["skip"]=0,this.applyFilters(!0)},onKeyup(e){"Enter"==e.key&&(this.filterModel["skip"]=0,this.search_value=this.filterModel["supplier"],this.applyFilters())},applyFilterEvent(e){this.applyFilters()},applyFilters(e=!1){try{this.po_preview?this.$emit("initDashboard"):1==e&&(this.po_preview=!0)}catch(t){const e=k.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}},initOrder(){this.orderList=[{label:this.$t("pages.settings.asc"),value:"asc"},{label:this.$t("pages.settings.desc"),value:"desc"}]},initStatus(){this.statusOptions=[];for(const[e,t]of Object.entries(this.PO_STATUSES))this.statusOptions.push({label:this.$t(t.label),value:t.value})},initSortByStatus(){this.sortByStatus=[{label:this.$t("purchase_order_number"),value:"purchase_order_number"},{label:this.$t("line_number"),value:"line_number"},{label:this.$t("sub_line_number"),value:"sub_line_number"},{label:this.$t("supplier_id"),value:"supplier_id"},{label:this.$t("supplier_name"),value:"supplier_name"},{label:this.$t("item_id"),value:"item_id"},{label:this.$t("supplier_id"),value:"supplier_id"},{label:this.$t("supplier_item_id"),value:"supplier_item_id"},{label:this.$t("order_total_amount"),value:"order_total_amount"},{label:this.$t("order_date"),value:"order_date"},{label:this.$t("requested_shipment_date"),value:"requested_shipment_date"},{label:this.$t("status"),value:"status"},{label:this.$t("delivery_number"),value:"delivery_number"},{label:this.$t("packing_slip_number"),value:"packing_slip_number"},{label:this.$t("delivery_line_number"),value:"delivery_line_number"},{label:this.$t("quantity"),value:"quantity"},{label:this.$t("shipped_quantity"),value:"shipped_quantity"},{label:this.$t("open_quantity"),value:"open_quantity"},{label:this.$t("received_quantity"),value:"received_quantity"}]},clearSupplierSearch(){this.search_value="",this.filterModel["supplier"]="",this.enterValue="",this.applyFilters()},removeFocusFromQSelect(){this.$refs.supplierSelect&&this.$refs.supplierSelect.blur()},onKeyupChange(e){"Enter"==e.key&&(this.filterModel["supplier"]=this.enterValue,this.filterModel["skip"]=0,this.applyFilters())},updateSearchValue(e,t,l){return C(this,void 0,void 0,(function*(){if((0,g.jw)(e)||e.length<2)l();else try{this.loading_supplier_options=!0;let l=[];const a=yield this.getSupplierFromServer(e);for(const[e,t]of Object.entries(a))l.push({value:t,label:t});this.enterValue=e,t((()=>{this.supplier_options=l}))}catch(a){const e=k.t.getErrorMessage(a);e&&this.showErrorToast(e)}finally{this.loading_supplier_options=!1}}))},getSupplierFromServer(e){return C(this,void 0,void 0,(function*(){try{let t=[];const l={keyword:e},a=yield y.nb.getSuppliers(l);if(0==a.success)throw a;return t=a.data,t}catch(t){throw t}}))},selectValueToSearch(e){try{this.filterModel["supplier"]=e,this.filterModel["skip"]=0,this.applyFilters()}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}},styleSupplerOptions(e){const t=new RegExp(this.supplier_search,"gi"),l=e.replace(t,(e=>`<strong>${e}</strong>`));return l},clearFilter(){this.initFilterModel(),this.clearSupplierSearch()}},setup(){const e=(0,m.KR)(),t=(0,v.R9)(),{initFilterModel:l,prepareFilterRequestParams:a}=t,{filterModel:o,supplier_options:i,supplier_search:s,loading:n,po_preview:r,enabledColumnsToSearch:d}=(0,p.bP)(t);return{prepareFilterRequestParams:a,loading:n,initFilterModel:l,filterModel:o,moreOptionsEl:e,pagination_options:(0,m.KR)(["10","25","50"]),supplier_options:i,supplier_search:s,po_preview:r,enabledColumnsToSearch:d}}});var L=l(12807),F=l(67837),E=l(94940),A=l(90124),S=l(25173),D=l(13796),I=l(50492),T=l(48975),O=l(93692),M=l(56384),R=l(84436),P=l(53999),q=l(88672),V=l(98582),N=l.n(V);const B=(0,L.A)(x,[["render",c]]),$=B;N()(x,"components",{QInput:F.A,QSelect:E.A,QItem:A.A,QItemSection:S.A,QItemLabel:D.A,QIcon:I.A,QPopupProxy:T.A,QDate:O.A,QBtn:M.A,QMenu:R.A,QList:P.A}),N()(x,"directives",{ClosePopup:q.A})},65569:(e,t,l)=>{"use strict";l.d(t,{A:()=>he});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-f2e4d9f0"),e=e(),(0,a.jt)(),e),n={class:"q-pa-sm"},r={key:0,class:"float-right"},d=s((()=>(0,a.Lk)("div",{class:"text-left sub-table"},"No multi-match Information",-1))),u={class:"compact-table-tr",style:{"z-index":"0"}},c={class:"text-right data-td"},p={class:"text-right data-td"},h={class:"text-right data-td"},m={class:"text-right data-td"},_={class:"text-right data-td"},b={class:"text-right data-td"},v={class:"compact-table-tr"},g={class:"text-left data-td"},f={class:"text-right data-td"},y={class:"text-left data-td"},k={class:"text-right data-td"},w={class:"text-left data-td"},C={class:"text-right data-td"},x={class:"text-left data-td"},L={class:"text-right data-td"};function F(e,t,l,s,F,E){const A=(0,a.g2)("ColumnFilterBadges"),S=(0,a.g2)("ColumnFilter"),D=(0,a.g2)("q-th"),I=(0,a.g2)("q-tr"),T=(0,a.g2)("q-item-section"),O=(0,a.g2)("q-item"),M=(0,a.g2)("q-list"),R=(0,a.g2)("q-menu"),P=(0,a.g2)("q-tooltip"),q=(0,a.g2)("q-img"),V=(0,a.g2)("f-btn"),N=(0,a.g2)("q-icon"),B=(0,a.g2)("q-td"),$=(0,a.g2)("q-badge"),Q=(0,a.g2)("q-markup-table"),X=(0,a.g2)("q-table"),W=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(A,{name:`PurchaseOrderFilter-${e.po_number}`,class:"q-mb-sm",onOnUpdateValue:t[0]||(t[0]=t=>{e.filterValueByField=Object.assign({},t)})},null,8,["name"]),(0,a.bF)(X,{class:"text-uppercase sticky-header transparent-header table_height resizable",rows:e.filteredTableRows,columns:e.tableColumns,flat:"","sort-method":e.customSort,"row-key":"id","table-header-style":{backgroundColor:"#d4d4d4"},"rows-per-page-options":[0],id:"po-table","no-data-label":e.$t("no_data_found"),ref:"el"},{header:(0,a.k6)((l=>[(0,a.bF)(I,{props:l,class:(0,o.C4)(["",!0===e.allowPOTableDrag?"draggable":""]),draggable:!0===e.allowPOTableDrag?"true":"false"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.cols,((s,n)=>((0,a.uX)(),(0,a.Wv)(D,{key:s.name,props:l,draggable:e.allowedColumnSorting(s),dropzone:e.allowedColumnSorting(s),"data-index":n,direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.tableColumns,n),onDrop:(0,i.D$)((t=>e.handleDrop(t,n)),["prevent"]),onDragover:(0,i.D$)((t=>e.onDragOverWrapper(t,n,s.name)),["prevent"]),onDragenter:(0,i.D$)(e.onDragEnter,["prevent"]),onDragleave:(0,i.D$)(e.onDragLeave,["prevent"]),class:(0,o.C4)(["po-table-header",!0===e.allowPOTableDrag?"draggable":""]),style:(0,o.Tr)({cursor:e.getIsDragging&&e.allowedColumnSorting(s)?"pointer":"move"})},{default:(0,a.k6)((()=>["position"==s.label?((0,a.uX)(),(0,a.CE)("span",r,(0,o.v_)(s.label),1)):((0,a.uX)(),(0,a.CE)("span",{key:1,class:(0,o.C4)(s.is_bold||s.name===e.po_quantity_column?"text-weight-bolder font-size-14 secondary-c-text":"")},(0,o.v_)(s.label),3)),s.label?((0,a.uX)(),(0,a.Wv)(S,{key:2,persist:!0,name:`PurchaseOrderFilter-${e.po_number}`,column:s.name,onOnUpdateValue:t[1]||(t[1]=t=>{e.filterValueByField=Object.assign({},t)})},null,8,["name","column"])):(0,a.Q3)("",!0)])),_:2},1032,["props","draggable","dropzone","data-index","onDragstart","onDrop","onDragover","onDragenter","onDragleave","style","class"])))),128))])),_:2},1032,["props","class","draggable"])])),body:(0,a.k6)((l=>[(0,a.bF)(I,{props:l,id:l.key,class:(0,o.C4)(["po_iterateable_item table-row compact-table-tr",(l.row["is_draggable"]?"draggable":"un-draggable")+" "+(l.rowIndex%2==0?"":"alternative-row")+" "+(e.po_line_id_for_match.includes(l.row.id)?"selected_for_match":"")]),tabindex:"0",draggable:l.row["is_draggable"],onClick:[(0,i.D$)((t=>e.selectForMatch(l.key,l.row)),["ctrl"]),(0,i.D$)((t=>e.selectForMatch(l.key,l.row)),["meta"])],"data-id":l.key},{default:(0,a.k6)((()=>[e.record.editable&&!e.is_view_readonly&&!e.allowPOTableDrag&&l.row["is_draggable"]?((0,a.uX)(),(0,a.Wv)(R,{key:0,onBeforeShow:t=>e.contextHandler(t,l),"context-menu":"",modelValue:l.row["show_menu"],"onUpdate:modelValue":e=>l.row["show_menu"]=e},{default:(0,a.k6)((()=>[(0,a.bF)(M,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[e.po_line_id_for_match.includes(l.key)?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(O,{clickable:"",onClick:t=>e.removeMatch(l.key,l.row)},{default:(0,a.k6)((()=>[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("unselect")),1)])),_:1})])),_:2},1032,["onClick"])),[[W]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(O,{clickable:"",onClick:t[2]||(t[2]=t=>e.clearMatch())},{default:(0,a.k6)((()=>[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("clear")),1)])),_:1})])),_:1})),[[W]])],64)):(0,a.bo)(((0,a.uX)(),(0,a.Wv)(O,{key:1,clickable:"",onClick:t=>e.selectForMatch(l.key,l.row)},{default:(0,a.k6)((()=>[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("select_for_match")),1)])),_:1})])),_:2},1032,["onClick"])),[[W]])])),_:2},1024)])),_:2},1032,["onBeforeShow","modelValue","onUpdate:modelValue"])):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.cols,(t=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t.name},["connection_status"===t.name?((0,a.uX)(),(0,a.Wv)(B,{key:0,"data-id":l.key,class:(0,o.C4)(["actions",l.row["is_draggable"]?"draggable":"un-draggable"])},{default:(0,a.k6)((()=>[e.isChargesModuleEnabled?((0,a.uX)(),(0,a.Wv)(q,{key:0,onClick:t=>e.toggleExpand(l.row),class:(0,o.C4)([e.getPoLineCharges(l.row.line_number)?"cursor-pointer":"item-disabled","icon-grey-svg"]),src:"images/charges/charges.svg",height:"21px",width:"19px",id:"icon_charge"},{default:(0,a.k6)((()=>[(0,a.bF)(P,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("charges")),1)])),_:1})])),_:2},1032,["onClick","class"])):(0,a.Q3)("",!0),(0,a.bF)(V,{appearance:"tertiary",onClick:e=>l.expand=!l.expand,icon:l.expand?"remove":"add",class:"q-mr-sm"},null,8,["onClick","icon"]),l.row.connected?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},["success"==l.row.connection_data.connection_status?((0,a.uX)(),(0,a.Wv)(N,{key:0,size:"sm",name:"done",class:"success"},{default:(0,a.k6)((()=>[(0,a.bF)(P,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("po_connected_match")),1)])),_:1})])),_:1})):((0,a.uX)(),(0,a.Wv)(N,{key:1,size:"sm",name:"done",class:"mismatched"},{default:(0,a.k6)((()=>[(0,a.bF)(P,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("po_connected_mismatch")),1)])),_:1})])),_:1}))],64)):(0,a.Q3)("",!0)])),_:2},1032,["data-id","class"])):"status"===t.name?((0,a.uX)(),(0,a.Wv)(B,{key:1,"data-id":l.key,class:(0,o.C4)(l.row["is_draggable"]?"draggable":"un-draggable")},{default:(0,a.k6)((()=>[(0,a.bF)($,{transparent:"",align:"middle",color:e.statusColor(l.row[t.name])},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l.row[t.name]),1)])),_:2},1032,["color"])])),_:2},1032,["data-id","class"])):((0,a.uX)(),(0,a.Wv)(B,{key:2,"data-id":l.key,class:(0,o.C4)(l.row["is_draggable"]?"draggable":"un-draggable")},{default:(0,a.k6)((()=>[(0,a.Lk)("span",{class:(0,o.C4)(e.checkIfColumnIsAmount(t.name,e.AMOUNT_COLUMNS)?"float-right":"")},(0,o.v_)(e.colValue(l.row,t.name)),3)])),_:2},1032,["data-id","class"]))],64)))),128))])),_:2},1032,["props","id","draggable","onClick","class","data-id"]),(0,a.bo)((0,a.bF)(I,{props:l},{default:(0,a.k6)((()=>[!e.po_connected_line_items[l.key]||e.po_connected_line_items[l.key].hasOwnProperty("table_line_id")?((0,a.uX)(),(0,a.Wv)(B,{key:0,class:"sub-table-main-td",colspan:"100%"},{default:(0,a.k6)((()=>[d])),_:1})):((0,a.uX)(),(0,a.Wv)(B,{key:1,colspan:"5",class:"sub-table-main-td"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(Q,{class:"sub-table"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",u,[(0,a.Lk)("th",c,(0,o.v_)(e.$t("pages.line_items_columns.POSITION")),1),(0,a.Lk)("th",p,(0,o.v_)(e.$t("quantity")),1),(0,a.Lk)("th",h,(0,o.v_)(e.$t("unit_price")),1)])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.po_connected_line_items[l.key].table_lines,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:t.table_line_id,class:(0,o.C4)(l%2==0?"":"alternative-row")},[(0,a.Lk)("td",m,(0,o.v_)(e.lineDataObj[t.table_line_id].columns.POSITION.formatted_value),1),(0,a.Lk)("td",_,(0,o.v_)(e.lineDataObj[t.table_line_id].columns.QUANTITY.formatted_value),1),(0,a.Lk)("td",b,(0,o.v_)(e.lineDataObj[t.table_line_id].columns.UNIT_PRICE.formatted_value),1)],2)))),128))])])),_:2},1536),[[i.aG,l.expand]])])),_:2},1024))])),_:2},1032,["props"]),[[i.aG,l.expand]]),(0,a.bo)((0,a.bF)(I,{props:l},{default:(0,a.k6)((()=>[(0,a.bF)(B,{colspan:"100",class:"sub-table-main-td"},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{class:"sub-table gray-border"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",v,[(0,a.Lk)("th",g,(0,o.v_)(e.$t("charge_id")),1),(0,a.Lk)("th",f,(0,o.v_)(e.$t("amount")),1),(0,a.Lk)("th",y,(0,o.v_)(e.$t("charge_type")),1),(0,a.Lk)("th",k,(0,o.v_)(e.$t("purchase_order_number")),1)])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.row.po_charge_item,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t.line_number},[t.charge_id?((0,a.uX)(),(0,a.CE)("tr",{key:0,class:(0,o.C4)(+l%2==0?"":"alternative-row")},[(0,a.Lk)("td",w,[e.costingElementDictionary&&e.costingElementDictionary[t.charge_id]?((0,a.uX)(),(0,a.Wv)(N,{key:0,name:"img:images/charges/"+e.costingElementDictionary[t.charge_id].icon,size:"xs",class:"icon-grey-svg q-mr-sm"},null,8,["name"])):(0,a.Q3)("",!0),(0,a.Lk)("span",null,(0,o.v_)(t.charge_id),1)]),(0,a.Lk)("td",C,(0,o.v_)(t.formattedAmount),1),(0,a.Lk)("td",x,(0,o.v_)(t.charge_type),1),(0,a.Lk)("td",L,(0,o.v_)(t.purchase_order_number),1)],2)):(0,a.Q3)("",!0)],64)))),128))])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"]),[[i.aG,l.row.expand]])])),_:1},8,["rows","columns","sort-method","no-data-label"])])}var E=l(1659),A=l(24622),S=l(10739),D=l(46736),I=l(41903),T=l(38734),O=l(92162),M=l(86633),R=l(76956),P=l(62488),q=l(83319),V=l(51476),N=l(36801),B=l(91298),$=l(53500),Q=l(68450),X=l(88952),W=l(69323),K=l(96056),U=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const j=(0,a.pM)({el:"#app",mixins:[A.A,D.A,M.A,K.A,S.A],props:{visible_columns:{type:Object,default:()=>({})},po_lines:{type:Array,default:()=>[]},po_number:{type:String,default:""},allowPOTableDrag:{type:Boolean,default:!1}},components:{ColumnFilter:X.A,ColumnFilterBadges:W.A},updated(){let e=this.user_settings.PO_TABLE_SETTING,t=200;e&&(e=JSON.parse(e),t=e.height);const l=document.getElementById("po-table");l&&(t<200&&(t=200),l.style.height=t+"px")},data(){return{AMOUNT_COLUMNS:P.Ng,po_connected_line_items:{},loading_data:!1,additional_columns:["delivery_number","delivery_line_number"],po_charge_item:{},formattedAmount:(0,T.KR)(""),scrollItemIndex:0,lastScrollPoLineId:"",selectedRow:[],filterValueByField:(0,T.KR)({}),draggingColumnIndex:-1,isDragging:(0,T.KR)(!1),scrollInterval:null,tableColumnsOriganl:(0,T.KR)([]),indexToMove:(0,T.KR)(),oldIndex:(0,T.KR)()}},mounted:function(){return U(this,void 0,void 0,(function*(){document.addEventListener("init_po_lines",this.loadPurchaseOrderData),document.addEventListener("po_connection_add",this.lineItemConnected),document.addEventListener("connection_remove",this.connectionRemoved),document.addEventListener("show_line_highlighted",this.showLineHighlighted),document.addEventListener("removed_highlight",this.removeHighlights),document.addEventListener("scroll_to_highlighted_line",this.scrollToHighlightedLine),this.initailizeDragColumnsByRef(this.el),this.user_settings[R.lZ]&&(yield this.prepareCostingElementDictionary()),this.loadPurchaseOrderData(),document.addEventListener("dragstart",this.dragstart),document.addEventListener("dragend",this.dragend),document.addEventListener("keydown",this.keyDownEvent)}))},unmounted:function(){document.removeEventListener("po_connection_add",this.lineItemConnected),document.removeEventListener("connection_remove",this.connectionRemoved),document.removeEventListener("show_line_highlighted",this.showLineHighlighted),document.removeEventListener("removed_highlight",this.removeHighlights),document.removeEventListener("scroll_to_highlighted_line",this.scrollToHighlightedLine),document.removeEventListener("dragstart",this.dragstart),document.removeEventListener("dragend",this.dragend),document.removeEventListener("keydown",this.keyDownEvent),document.removeEventListener("init_po_lines",this.loadPurchaseOrderData),this.clearDraggingData()},watch:{po_lines:{deep:!0,handler:function(e,t){this.loadPurchaseOrderData()}},charges:{deep:!0,handler:function(e,t){this.prepareChargesForLines(e)}}},computed:{filteredTableRows(){return this.filterByObject(this.tableRows,this.filterValueByField)}},methods:{colValue(e,t){let l=e[t];return e.hasOwnProperty(t+"_formatted_value")&&(l=e[t+"_formatted_value"]),l},onDragOverWrapper(e,t,l){"connection_status"!=l&&this.onDragOver(e,t)},allowedColumnSorting(e){return"connection_status"!==e.name},isNotEditable(){return!this.record.editable||this.is_view_readonly},contextHandler(e,t){e.ctrlKey&&1==e.buttons?(this.selectForMatch(t.key,t.row),t.row["show_menu"]=!1):2==e.buttons&&(t.row["show_menu"]=!0)},clearMatch(){if(!this.isNotEditable()){this.po_line_id_for_match=[],this.po_line_for_match=[];for(let[e,t]of this.tableRows.entries())t["show_menu"]=!1}},removeMatch(e,t){try{if(this.isNotEditable())return;const l=this.po_line_id_for_match.indexOf(e);this.po_line_id_for_match.splice(l,1),this.po_line_for_match.splice(l,1),t["show_menu"]=!1}catch(l){logError(l)}},selectForMatch(e,t){try{if(this.isNotEditable()||!1===t.is_draggable)return;const l=this.po_line_id_for_match.indexOf(e);if(l>-1)return this.po_line_id_for_match.splice(l,1),void this.po_line_for_match.splice(l,1);this.po_line_id_for_match.push(e),this.po_line_for_match.push(this.getTargetRow(e)),t["show_menu"]=!1}catch(l){logError(l)}},dragend(e){},dragstart(e){let t=e.target.dataset.id;if(t){if(this.po_line_id_for_match.includes(t)||(this.po_line_id_for_match=[]),0==this.po_line_id_for_match.length&&this.po_line_id_for_match.push(t),this.po_line_id_for_match.includes(t)){const t=document.createElement("tbody");this.po_line_id_for_match.forEach((e=>{const l=document.querySelector(`[data-id="${e}"]`);if(l){const e=l.cloneNode(!0);Array.from(e.children).forEach(((t,l)=>{t.classList.remove("float-right"),t.style.backgroundColor="#2388AE42",l>=10&&e.removeChild(t)})),t.appendChild(e)}})),t.id="ghost",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",document.body.appendChild(t),e.dataTransfer.setDragImage(t,0,0),setTimeout((()=>{var e;null===(e=document.getElementById("ghost"))||void 0===e||e.remove()}))}e.target&&!this.isNotEditable()&&!0===this.allowPOTableDrag&&I.A.set("DRAG_PO_NUMBER",String(this.po_number))}},getTargetRow(e){try{const t=this.PODataObj[e];let l={};for(let[a,o]of this.tableRows.entries())if(o.id==e){l=o;break}return l=Object.assign(l,t),l}catch(t){return logError(t),{}}},loadPurchaseOrderData(){try{if(this.loading_data)return;this.loading_data=!0,this.setConnectedPoRecords(),this.checkForAdditionalColumns(),this.prepareTableColumn(),this.prepareTableRows(),this.loading_data=!1}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}},prepareTableColumn(){this.tableColumns=[];let e={name:"connection_status",field:"connection_status",align:"left",label:"",order:0};this.tableColumns.push(e),Array.from(Object.keys(this.visible_columns)).forEach((e=>{let t=this.visible_columns[e],l={name:t.name,field:t.name,align:"left",label:this.$t(t.translation_key),sortable:!0,is_bold:this.isColumnBold(t.name),order:t.order};this.tableColumns.push(Object.assign({},l))})),this.tableColumns.sort(((e,t)=>e.order-t.order)),this.tableColumnsOriganl=JSON.parse(JSON.stringify(this.tableColumns))},isColumnBold(e){return!1},prepareTableRows(){this.tableRows=[],0!=this.po_lines.length&&this.po_lines.forEach(((e,t)=>{let l={connection_data:{},connected:!1};l["id"]=e.id,l["show_menu"]=!1,l["line_number"]=e.line_number;let a=this.doc_attributes["PO_DISABLED_STATUSES"];a&&a.includes(e.status.toLowerCase())?l["is_draggable"]=!1:l["is_draggable"]=!0,this.po_connected_line_items.hasOwnProperty(e.id)&&(l["connected"]=!0,l["connection_data"]=this.po_connected_line_items[e.id]);for(let[o,i]of Object.entries(this.tableColumns)){const t=i;l[t.name]=this.colValue(e,t.name);let a=t.name+"_value";e.hasOwnProperty(a)&&(l[a]=e[a])}this.charges[this.po_number]&&(l["charges"]=this.charges[e.line_number]),this.formateDateFields(l),this.tableRows.push(l)}))},formateDateFields(e){const t=["received_date_time","promised_delivery_date","requested_ship_date"];for(let l of t)e.hasOwnProperty(l)&&(e[l]=this.formatDateAccordingToPreference(e[l]))},checkForAdditionalColumns(){0!=this.po_lines.length&&this.po_lines.forEach(((e,t)=>{for(let[l,a]of Object.entries(this.additional_columns))if(e.hasOwnProperty(a)&&null!=e[a]&&""!=e[a]){this.add_additional_columns=!0;break}}))},lineItemConnected(e){let t=e.detail.data,l=[];if(t.hasOwnProperty("po_line_id"))l.push(t.po_line_id);else if(t.hasOwnProperty("sub_lines"))for(let[a,o]of t.sub_lines.entries())l.push(o.po_line_id);for(let[a,o]of this.tableRows.entries())for(let e of l)o.id==e&&(o.connected=!0,o.connection_data=t,this.po_connected_line_items[e]=t)},connectionRemoved(e){this.setConnectedPoRecords(),this.prepareTableRows()},removeConnectionEntryFromPoLine(e){for(let[t,l]of this.tableRows.entries())if(l.id==e){l.connected=!1,l.connection_data=null;break}},setConnectedPoRecords(){this.po_connected_line_items={};let e=this.getConnectedLineItems();if(0!=e.length)for(let[t,l]of e.entries())if(l.hasOwnProperty("po_line_id"))this.po_connected_line_items[l.po_line_id]=l;else if(l.hasOwnProperty("sub_lines"))for(let[e,a]of l.sub_lines.entries())this.po_connected_line_items[a.po_line_id]=l},getConnectedLineItems(){let e=[];return this.record?(this.record.hasOwnProperty("po_multi_matched")&&(e=this.record.po_multi_matched),e):e},clearDraggingData(){I.A.remove("Text")},showConnectedLines(e){for(let[t,l]of this.tableRows.entries())0==l.show&&(l.show=!0)},showLineHighlighted(e){if(!e.detail||!e.detail.hasOwnProperty("sub_lines")&&!e.detail.hasOwnProperty("po_line_id"))return;const t=this.getPoLineIds(e.detail);if(0==t.length)return;this.removeHighlights();let l=e.detail;for(let[a,o]of t.entries())this.highlightRow(o,l)},scrollToHighlightedLine(e){let t=e.detail.po_line_id;t||(this.lastScrollPoLineId!==e.detail.table_line_id?(this.scrollItemIndex=e.detail.sub_lines.length-1,this.lastScrollPoLineId=e.detail.table_line_id):0==this.scrollItemIndex?this.scrollItemIndex=e.detail.sub_lines.length-1:this.scrollItemIndex=this.scrollItemIndex-1,t=e.detail.sub_lines[this.scrollItemIndex].po_line_id);let l=document.querySelector('[data-id="'+t+'"]');l?l.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}):this.showErrorToast(this.$t("pages.messages.PO_LINES_ARE_HIDDEN"))},highlightRow(e,t){let l=document.querySelector('[data-id="'+e+'"]');l?("success"==t["connection_status"]&&l.classList.add("highlighted","line-success"),"mismatch"==t["connection_status"]&&l.classList.add("highlighted","line-mismatched")):this.showErrorToast(this.$t("pages.messages.PO_LINES_ARE_HIDDEN"))},getPoLineIds(e){try{const t=[];if(e.hasOwnProperty("sub_lines"))for(let[l,a]of e.sub_lines.entries())this.po_number===this.PODataObj[a.po_line_id].purchase_order_number&&t.push(a.po_line_id);else this.po_number==this.PODataObj[e.po_line_id].purchase_order_number&&t.push(e.po_line_id);return t}catch(t){return logError(t),[]}},removeHighlights(e){if(e&&e.detail&&e.detail.purchase_order_number&&this.po_number!==e.detail.purchase_order_number)return;let t=document.querySelectorAll(".highlighted");for(var l=0;l<t.length;l++)t[l].classList.remove("highlighted","line-mismatched","line-success")},keyDownEvent(e){if(!this.is_view_readonly)if("c"!==e.key&&"C"!==e.key||!e.ctrlKey){if(e.ctrlKey&&("p"===e.key||"P"===e.key)){e.preventDefault();let t=(0,O.$)("#po-table");if(!t)return;let l=t.querySelector(".q-virtual-scroll__content"),a=null;if(l&&(a=l.querySelector(".q-tr")),!a)return;a.contentEditable="true",a.focus(),a.contentEditable="false"}}else{e.preventDefault();let t=document.activeElement;if(!t||!t.classList.contains("draggable"))return;this.dragstart(e)}},statusColor(e){return(0,P.qY)(e.toLowerCase())||"primary"},customSort(e,t,l){const a=[...e];let o=t+"_value";return a[0].hasOwnProperty(o)||(o=t),t&&a.sort(((e,a)=>{const i=l?a:e,s=l?e:a;return this.checkIfColumnIsAmount(t,this.AMOUNT_COLUMNS)?parseFloat(i[o])-parseFloat(s[o]):i[t]>s[t]?1:i[t]<s[t]?-1:0})),a},startResize(e){this.startY=e.clientY,this.isResizing=!0,document.addEventListener("mousemove",this.resize),document.addEventListener("mouseup",this.stopResize)},resize(e){if(this.isResizing){const t=e.clientY-this.startY;this.tableHeight+=t}},stopResize(){this.isResizing=!1,document.removeEventListener("mousemove",this.resize),document.removeEventListener("mouseup",this.stopResize)},searchValueByKey(e,t){return(0,q.gP)().searchValueByKey(e,t)},formatAmount(e){return U(this,void 0,void 0,(function*(){const t=[];e?t.push({key:e,value:e}):t.push({key:0,value:0});const{user_settings:l}=(0,q.Bu)(),a=yield(0,q.gP)().formatMultiValues(t,"en_US",l.AMOUNTS_LOCALE);if(a){const t=this.searchValueByKey(e,a);return this.formattedAmount=t}}))},toggleExpand(e){return U(this,void 0,void 0,(function*(){const t=this.getPoLineCharges(e.line_number);if(t&&(e.po_charge_item=t,e.po_charge_item))for(const l of e.po_charge_item)l.formattedAmount=yield this.formatAmount(l.amount);e.expand=!e.expand}))},getPoLineCharges(e){const t=this.charges[this.po_number];return!(!t||!t[e])&&t[e]},prepareChargesForLines(e){(0,Q.Ns)(e)}},setup(){let e=[];const t=(0,T.KR)(),l=(0,q.wt)(),{model:a}=(0,E.bP)(l),{user_settings:o}=(0,E.bP)((0,q.Bu)());(0,B.wYm)(t,(0,$.A)((e=>{const t=e[0];if(o.value.PO_TABLE_SETTING){const e=JSON.parse(o.value.PO_TABLE_SETTING);if(Math.abs(e.height-t.contentRect.height)<10)return}t.contentRect.width<20||t.contentRect.height<20||((0,N.wd)("PO_TABLE_SETTING",JSON.stringify(t.contentRect)),(0,V._Y)("PO_TABLE_SETTING",JSON.stringify(t.contentRect),!0),o.value["PO_TABLE_SETTING"]=JSON.stringify(t.contentRect))}),1e3));const i=(0,q.R9)(),{lineDataObj:s,is_view_readonly:n,PODataObj:r,po_line_id_for_match:d,po_line_for_match:u,line_connected_items:c,po_quantity_column:p,isChargesModuleEnabled:h,charges:m,add_additional_columns:_}=(0,E.bP)(i),b=(0,q.q3)(),{record:v}=(0,E.bP)(b),g=(0,q.rD)(),{prepareCostingElementDictionary:f}=g,{costingElementDictionary:y}=(0,E.bP)(g);return{el:t,prepareCostingElementDictionary:f,costingElementDictionary:y,isChargesModuleEnabled:h,charges:m,user_settings:o,po_quantity_column:p,line_connected_items:c,po_line_id_for_match:d,po_line_for_match:u,PODataObj:r,record:v,is_view_readonly:n,lineDataObj:s,doc_attributes:a,tableRows:(0,T.KR)(e),tableColumns:(0,T.KR)(e),add_additional_columns:_,tableHeight:(0,T.KR)(300),startY:0,isResizing:!1}}});var z=l(12807),H=l(42315),G=l(44488),Y=l(57722),J=l(84436),Z=l(53999),ee=l(90124),te=l(25173),le=l(45262),ae=l(15046),oe=l(97410),ie=l(50492),se=l(23954),ne=l(857),re=l(48001),de=l(88672),ue=l(98582),ce=l.n(ue);const pe=(0,z.A)(j,[["render",F],["__scopeId","data-v-f2e4d9f0"]]),he=pe;ce()(j,"components",{QTable:H.A,QTr:G.A,QTh:Y.A,QMenu:J.A,QList:Z.A,QItem:ee.A,QItemSection:te.A,QTd:le.A,QImg:ae.A,QTooltip:oe.A,QIcon:ie.A,QBadge:se.A,QMarkupTable:ne.A,QVirtualScroll:re.A}),ce()(j,"directives",{ClosePopup:de.A})},93363:(e,t,l)=>{"use strict";l.d(t,{A:()=>oe});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-0feeb7e4"),e=e(),(0,a.jt)(),e),n={class:"text-white text-h6 text-weight-bold"},r={class:"full-width"},d={class:"full-width q-pb-sm q-pl-sm"},u={key:0},c=s((()=>(0,a.Lk)("tr",{class:"highlighted-back"},[(0,a.Lk)("th",null,"No Data Found")],-1))),p=[c],h={key:1},m={class:"highlighted-back"},_={style:{width:"100%"},class:"text-left"},b=["data-id","onClick"],v=["data-id"],g={key:0},f={key:1},y={key:0,class:"float-right"},k={key:1},w={class:"row"},C={class:"q-pa-lg center-inner"},x={key:0,class:"text-center"},L={class:"q-mt-lg q-mr-sm"};function F(e,t,l,s,c,F){const E=(0,a.g2)("q-toolbar-title"),A=(0,a.g2)("f-btn"),S=(0,a.g2)("q-toolbar"),D=(0,a.g2)("AdvanceFilter"),I=(0,a.g2)("PoTableColumnsSettings"),T=(0,a.g2)("q-skeleton"),O=(0,a.g2)("q-markup-table"),M=(0,a.g2)("ColumnOrderBy"),R=(0,a.g2)("q-badge"),P=(0,a.g2)("q-pagination"),q=(0,a.g2)("q-card-section"),V=(0,a.g2)("q-card"),N=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(V,null,{default:(0,a.k6)((()=>[(0,a.bF)(S,{class:"pr-0 secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(E,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",n,(0,o.v_)(e.$t("advance_po_search")),1)])),_:1}),(0,a.bo)((0,a.bF)(A,{class:"text-white q-mr-xs",flat:"",round:"",dense:"",appearance:"tertiary",icon:"close"},null,512),[[N]])])),_:1}),(0,a.bF)(q,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",r,[(0,a.bF)(D,{onDisplayAdvanceFilterResults:e.displayAdvanceFilterResults,onInitDashboard:e.initDashboard,classes:"col-2 q-pa-sm"},null,8,["onDisplayAdvanceFilterResults","onInitDashboard"])]),(0,a.Lk)("div",d,[(0,a.bF)(I,{po_columns_attr:e.po_columns,onColumnsDataUpdated:e.loadPurchaseOrderData},null,8,["po_columns_attr","onColumnsDataUpdated"])]),0==e.purchaseOrderData.length?((0,a.uX)(),(0,a.Wv)(O,{key:0,class:"full-width"},{default:(0,a.k6)((()=>[e.loading?((0,a.uX)(),(0,a.CE)("tbody",h,[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(10,(e=>(0,a.Lk)("tr",{key:e},[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(8,((e,t)=>(0,a.Lk)("td",{key:t},[(0,a.bF)(T,{animation:"wave"})]))),64))]))),64))])):((0,a.uX)(),(0,a.CE)("thead",u,p))])),_:1})):((0,a.uX)(),(0,a.Wv)(O,{key:1,class:"full-width text-uppercase po-search-table-height"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",m,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.purchaseOrderColumns,(t=>((0,a.uX)(),(0,a.CE)("th",{key:t.name,class:"text-left"},[(0,a.Lk)("div",_,[(0,a.eW)((0,o.v_)(e.$t(t.translation_key))+" ",1),(0,a.Lk)("template",null,[(0,a.bF)(M,{column_name:t.translation_key},null,8,["column_name"])])])])))),128))])]),(0,a.Lk)("tbody",null,[e.loading?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},(0,a.pI)(10,(t=>(0,a.Lk)("tr",{key:t},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.purchaseOrderColumns,((e,t)=>((0,a.uX)(),(0,a.CE)("td",{key:t},[(0,a.bF)(T,{animation:"wave"})])))),128))]))),64)):((0,a.uX)(!0),(0,a.CE)(a.FK,{key:0},(0,a.pI)(e.purchaseOrderData,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[t.show?((0,a.uX)(),(0,a.CE)("tr",{key:0,"data-id":t.id,class:(0,o.C4)("cursor-pointer"),onClick:(0,i.D$)((l=>e.poSelected(t.data.purchase_order_number)),["stop"])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.tr_data,((l,i)=>((0,a.uX)(),(0,a.CE)("td",{key:i,"data-id":t.id},["order_status"==l[0]?((0,a.uX)(),(0,a.CE)("span",g,[(0,a.bF)(R,{transparent:"",align:"middle",color:e.statusColor(l[1])},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l[1]),1)])),_:2},1032,["color"])])):((0,a.uX)(),(0,a.CE)("div",f,[e.checkIfColumnIsAmount(l[0])?((0,a.uX)(),(0,a.CE)("span",y,(0,o.v_)(l[1]),1)):((0,a.uX)(),(0,a.CE)("span",k,(0,o.v_)(l[1]),1))]))],8,v)))),128))],8,b)):(0,a.Q3)("",!0)],64)))),128))])])),_:1})),(0,a.Lk)("div",w,[(0,a.Lk)("div",C,[e.purchaseOrderData.length>0?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.bF)(P,{modelValue:e.paginationCount,"onUpdate:modelValue":t[0]||(t[0]=t=>e.paginationCount=t),color:"primary",max:e.pages,"max-pages":6,"boundary-links":"",onClick:t[1]||(t[1]=t=>e.loadData())},null,8,["modelValue","max"])])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",L,[(0,a.bo)((0,a.bF)(A,{appearance:"cancel",label:e.$t("cancel"),class:"float-right"},null,8,["label"]),[[N]])])])])),_:1})])),_:1})}var E=l(1659),A=l(24622),S=l(38734),D=l(76956),I=l(83319),T=l(43956),O=l(62488);const M={class:"orderByParentSpan arrow-color"},R=["data-name"],P=["data-name"];function q(e,t,l,i,s,n){return(0,a.uX)(),(0,a.CE)("span",M,[(0,a.Lk)("span",{class:(0,o.C4)(["up-arrow orderBy absolute",e.is_order_by_selected("asc")?"selected":""]),"data-name":e.column_name,"data-direction":"asc",onClick:t[0]||(t[0]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,R),(0,a.Lk)("span",{class:(0,o.C4)(["down-arrow orderBy absolute",e.is_order_by_selected("desc")?"selected":""]),"data-name":e.column_name,"data-direction":"desc",onClick:t[1]||(t[1]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,P)])}const V=(0,a.pM)({mixins:[],props:{column_name:{type:String,required:!0}},components:{},mounted:function(){document.addEventListener("reset_filters",this.resetFilters)},unmounted:function(){document.removeEventListener("reset_filters",this.resetFilters)},methods:{is_order_by_selected(e){return this.filterModel["sort_by"]==this.column_name&&this.filterModel["order"]==e},resetFilters(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},OrderBy(e){if(e.target.classList.contains("selected"))return;let t=e.target.dataset.direction,l=e.target.dataset.name;if(!t||!l)return void logError("ERROR: Orderby for field",l);e.target.classList.add("selected");const a=document.querySelectorAll(".orderBy");if(a.length){for(var o=0;o<a.length;o++){let e=a[o];(e.dataset.name!=l||e.dataset.name==l&&e.dataset.direction!=t)&&e.classList.remove("selected")}this.filterModel["sort_by"]=l,this.filterModel["order"]=t,this.triggerApplyFilters()}},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}},setup(){const e=(0,I.R9)(),{filterModel:t}=(0,E.bP)(e);return{filterModel:t}}});var N=l(12807);const B=(0,N.A)(V,[["render",q],["__scopeId","data-v-6601a504"]]),$=B;var Q=l(76944),X=l(11470),W=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const K=(0,a.pM)({el:"#app",mixins:[A.A],props:{po_lines:[],totalRecords:{type:Number,default:0},po_preview_columns:[]},components:{AdvanceFilter:T.A,ColumnOrderBy:$,PoTableColumnsSettings:Q.A},emits:["clearSearch","addToPoItemsList","proceedPoSelection","displayAdvanceFilterResults","searchPurchaseOrder"],data(){return{pages:(0,S.KR)(0),po_columns:D.o9,purchaseOrderData:[],purchaseOrderColumns:{}}},mounted:function(){return W(this,void 0,void 0,(function*(){this.loading=!0;const e=yield X.A0.purchaseOrdersSearch(this.prepareFilterRequestParams());this.displayAdvanceFilterResults(e),this.loadPurchaseOrderData(),document.addEventListener("po_columns_updated",this.poColumnsUpdated),this.loading=!1}))},unmounted:function(){document.removeEventListener("po_columns_updated",this.poColumnsUpdated)},methods:{checkIfColumnIsAmount(e){let t=!1,l=["position","price","unit_price","received quantity","quantity","amount","discount","total_amount","unit_price_per","received_quantity"];return l.includes(e.toLowerCase())&&(t=!0),t},loadPurchaseOrderData(){return W(this,void 0,void 0,(function*(){this.purchaseOrderColumns=yield this.getSavedColumns(D.o9);const e=Object.keys(this.purchaseOrderColumns).sort(((e,t)=>this.purchaseOrderColumns[e].order-this.purchaseOrderColumns[t].order)),t={};e.forEach((e=>{t[e]=this.purchaseOrderColumns[e]})),this.purchaseOrderColumns=t,this.setPoData();let l=this.totalRecords/+this.filterModel["limit"];this.pages=Math.ceil(l)}))},poColumnsUpdated(e){this.loadPurchaseOrderData()},initDashboard(){return W(this,void 0,void 0,(function*(){this.loading=!0;const e=yield X.A0.purchaseOrdersSearch(this.prepareFilterRequestParams());this.displayAdvanceFilterResults(e),this.loadPurchaseOrderData(),this.loading=!1}))},setPoData(){try{if(this.purchaseOrderData=[],!this.po_lines||0==this.po_lines.length)return;this.po_lines.forEach(((e,t)=>{let l=new Map;for(const[a,o]of Object.entries(this.purchaseOrderColumns))l.set(a,e[a]);this.purchaseOrderData.push({tr_data:l,data:e,id:e.id,show:!0,connection_data:{}})}))}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}},loadData(){this.filterModel["skip"]=this.filterModel["limit"]*(this.paginationCount-1);const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},closePreview(){this.$emit("clearSearch")},addToList(){this.$emit("addToPoItemsList")},poSelected(e){this.$emit("proceedPoSelection",e)},displayAdvanceFilterResults(e){this.$emit("displayAdvanceFilterResults",e)},searchPurchaseOrder(){return this.$emit("searchPurchaseOrder")},statusColor(e){return e=e.toLowerCase(),(0,O.qY)(e)||"primary"}},setup(){const e=(0,I.R9)(),{getSavedColumns:t,prepareFilterRequestParams:l}=e,{filterModel:a,loading:o}=(0,E.bP)(e);return{getSavedColumns:t,filterModel:a,prepareFilterRequestParams:l,paginationCount:(0,S.KR)(1),loading:o}}});var U=l(23316),j=l(36914),z=l(39150),H=l(44189),G=l(857),Y=l(43820),J=l(23954),Z=l(54700),ee=l(88672),te=l(98582),le=l.n(te);const ae=(0,N.A)(K,[["render",F],["__scopeId","data-v-0feeb7e4"]]),oe=ae;le()(K,"components",{QCard:U.A,QToolbar:j.A,QToolbarTitle:z.A,QCardSection:H.A,QMarkupTable:G.A,QSkeleton:Y.Ay,QBadge:J.A,QPagination:Z.A}),le()(K,"directives",{ClosePopup:ee.A})},7134:(e,t,l)=>{"use strict";l.d(t,{A:()=>U});var a=l(61758),o=l(58790);const i={class:"export-label"},s={class:"q-ml-sm"},n=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function r(e,t,l,r,d,u){const c=(0,a.g2)("q-icon"),p=(0,a.g2)("q-item-section"),h=(0,a.g2)("q-item-label"),m=(0,a.g2)("q-item"),_=(0,a.g2)("q-list"),b=(0,a.g2)("q-btn-dropdown"),v=(0,a.g2)("export-dialog"),g=(0,a.g2)("q-dialog"),f=(0,a.g2)("q-avatar"),y=(0,a.g2)("q-card-section"),k=(0,a.g2)("f-btn"),w=(0,a.g2)("autoAccountingBtn"),C=(0,a.g2)("q-card-actions"),x=(0,a.g2)("q-card"),L=(0,a.g2)("q-inner-loading"),F=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(b,{modelValue:e.export_dropdown,"onUpdate:modelValue":t[3]||(t[3]=t=>e.export_dropdown=t),split:"",unelevated:"",class:(0,o.C4)(["","export-btn"]),color:"primary","no-caps":"",onClick:t[4]||(t[4]=t=>e.dropdownClicked())},{label:(0,a.k6)((()=>[(0,a.bF)(c,{name:"ios_share",color:"white-8",style:{"font-size":"18px"}}),(0,a.Lk)("span",i,(0,o.v_)(e.$t("export")),1)])),default:(0,a.k6)((()=>[(0,a.bF)(_,{class:"text-center"},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(m,{id:"export_po_btn",clickable:"",onClick:t[0]||(t[0]=t=>e.confirmAndExport()),class:"border-bottom-bdbdbd min-height-38"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{name:"ios_share",color:"grey-8",style:{"font-size":"18px"}})])),_:1}),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("confirm_export")),1)])),_:1})])),_:1})])),_:1})),[[F]]),e.is_alternate_export_on?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(m,{key:0,clickable:"",onClick:t[1]||(t[1]=t=>e.validateAndAlternateExport()),class:"border-bottom-bdbdbd min-height-38"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{name:"ios_share",color:"grey-8",style:{"font-size":"18px"}})])),_:1}),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("doc_alternate_export")),1)])),_:1})])),_:1})])),_:1})),[[F]]):(0,a.Q3)("",!0),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(m,{id:"reject_btn",clickable:"",onClick:t[2]||(t[2]=t=>e.rejectDoc()),class:"border-bottom-bdbdbd min-height-38"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{name:"ios_share",color:"grey-8",style:{"font-size":"18px"}})])),_:1}),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("reject")),1)])),_:1})])),_:1})])),_:1})),[[F]])])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(g,{modelValue:e.display_config_dialog,"onUpdate:modelValue":t[5]||(t[5]=t=>e.display_config_dialog=t),position:"top",class:"export-dialog",persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(v)])),_:1},8,["modelValue"]),(0,a.bF)(g,{modelValue:e.confirm_amount_difference,"onUpdate:modelValue":t[7]||(t[7]=t=>e.confirm_amount_difference=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(x,null,{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(f,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(y,{class:"row items-center",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.Lk)("span",s,(0,o.v_)(e.$t("amount_pending_message")),1)])),_:1}),(0,a.bF)(C,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(k,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[F]]),(0,a.bF)(w,{show_icon_btn:!1}),(0,a.bo)((0,a.bF)(k,{label:e.$t("run_anyway"),onClick:t[6]||(t[6]=t=>e.validateConfigurationAndExport())},null,8,["label"]),[[F]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(L,{showing:e.export_config_processing},{default:(0,a.k6)((()=>[n])),_:1},8,["showing"])],64)}var d=l(82303),u=l(6044),c=l(1659),p=l(24622),h=l(38734),m=l(18505),_=l(76956),b=l(57366),v=l(46162),g=l(25891),f=l(41360),y=l(83319),k=l(32438),w=l(11470),C=l(64775),x=l(85487),L=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const F=(0,a.pM)({el:"#app",mixins:[m.A,p.A,b.A,g.A,u.A],emits:["setSavePendingStatus"],props:{enableExportButton:Boolean,isValidationView:{type:Boolean,default:!1},confirmOnPoLeave:{type:Boolean,default:!1}},components:{ExportDialog:f.A,autoAccountingBtn:k.A},watch:{config_saved:{handler:function(e,t){!0===t&&!1===e||(this.display_config_dialog=!1)}},loading_data:{handler:function(e,t){!1===e&&this.isAlternateExportOn()}}},data(){return{docId:"",allowedDoctypes:_.Gk}},mounted:function(){window.addEventListener("beforeunload",this.onTabClose),window.addEventListener("confirm_and_export",this.confirmAndExport),document.addEventListener("reject_document",this.rejectEventHandler),this.docId=this.$route.params.id,this.isAlternateExportOn()},unmounted:function(){window.removeEventListener("beforeunload",this.onTabClose),window.removeEventListener("confirm_and_export",this.confirmAndExport)},methods:{routeToDashboard(){window.removeEventListener("beforeunload",this.onTabClose),this.releaseDocLock({doc_id:this.record.doc_id}),this.$router.push("/dashboard")},validateConfigurationAndExport(){return L(this,void 0,void 0,(function*(){const e=yield this.hasActionAcquiredLock();if(!e)return;let t;try{let e=new FormData;e.append("doc_type",this.record.doc_type),e.append("org_id",(0,x.I)());let l=yield(0,v.L3)();const a=yield d.A.post(v.FH.export_configuration_existence,e,{headers:{Authorization:l}});t=a.data.valid}catch(l){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(l)}t?this.exportData().catch():this.display_config_dialog=!0}))},exportData(){return L(this,void 0,void 0,(function*(){let e,t=this.record;this.display_config_dialog=!1,this.showLoading(),t.hasOwnProperty("table_data_copy")&&delete t["table_data_copy"];try{this.$emit("setSavePendingStatus",!1),this.removeAllNotifications();let l=new FormData;if(l.append("data",JSON.stringify(t)),e=yield w.M8.validate_and_export(this.docId,l),!0===e.success)return yield this.dashboardFiltersAfterExport(),void this.routeToDashboard();if(!1===e.success)throw e}catch(l){const e=C.t.getErrorMessage(l);this.showErrorToast(e),logError(l)}finally{this.hideLoading()}}))},onTabClose(e){this.confirmOnPoLeave&&(e.preventDefault(),e.returnValue="")},dropdownClicked(){this.is_alternate_export_on?this.export_dropdown=!this.export_dropdown:this.confirmAndExport()},confirmAndExport(){try{this.amount_error=!1;let e=parseFloat(this.pending_amount.replace(/[^0-9]/g,""));if(this.pending_amount&&""!=this.pending_amount&&e>0)return this.confirm_amount_difference=!0,void(this.amount_error=!0);this.validateConfigurationAndExport()}catch(e){logError(e)}},isAlternateExportOn(){this.is_alternate_export_on=!1,this.doc_attributes&&this.doc_attributes.hasOwnProperty(_.yK)&&!0===this.doc_attributes[_.yK]&&(this.is_alternate_export_on=!0)},validateAndAlternateExport(){return L(this,void 0,void 0,(function*(){try{if(this.showLoading(),this.$emit("setSavePendingStatus",!1),!(yield this.saveAndValidateBeforeAlternateExport()))return;yield this.doAlternateExport()}catch(e){const t=C.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},saveAndValidateBeforeAlternateExport(){return L(this,void 0,void 0,(function*(){let e=this.showProcessMessage(this.$t("saving_data"));const t=yield this.saveAndValidate();if(e(),!1===t.success){const e=new CustomEvent("display_fields_errors",{});return document.dispatchEvent(e),this.showErrorToast(t.message),!1}return!0}))},doAlternateExport(){return L(this,void 0,void 0,(function*(){let e={};e["doc_id"]=this.docId,e["export_config_id"]=this.doc_attributes[_.tY],e["status_after_export"]=this.doc_attributes[_.go],e["check_pending_tasks"]=!0;const t=yield w.M8.do_alternate_export(e);if(!0===t.success&&this.routeToDashboard(),!1===t.success)throw t}))},rejectEventHandler(e){this.rejectDoc()},rejectDoc(){return L(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.$emit("setSavePendingStatus",!1);const e=yield this.rejectDocument(this.docId);if(!0===e.success)return void this.routeToDashboard()}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}}))}},setup(){const e=(0,y.q3)(),{record:t,doctype:l,language_origin:a,notifications:o}=(0,c.bP)(e),{saveAndValidate:i,rejectDocument:s}=e,n=(0,y.oI)(),{hasActionAcquiredLock:r,releaseDocLock:d}=n,u=(0,y.t8)(),{display_config_dialog:p,processing:m,config_saved:_}=(0,c.bP)(u),b=(0,y.fX)(),{dashboardFiltersAfterExport:v}=b,g=(0,y.wt)(),{model:f,loading_data:k}=(0,c.bP)(g),w=(0,y.R9)(),{pending_amount:C,amount_error:x}=(0,c.bP)(w);return{rejectDocument:s,amount_error:x,pending_amount:C,dashboardFiltersAfterExport:v,record:t,doctype:l,language_origin:a,notifications:o,releaseDocLock:d,exportButtonWidth:(0,h.KR)("61"),hasActionAcquiredLock:r,display_config_dialog:p,export_config_processing:m,config_saved:_,confirm_amount_difference:(0,h.KR)(!1),is_alternate_export_on:(0,h.KR)(!1),doc_attributes:f,loading_data:k,saveAndValidate:i,export_dropdown:(0,h.KR)(!1)}}});var E=l(12807),A=l(18301),S=l(50492),D=l(53999),I=l(90124),T=l(25173),O=l(13796),M=l(97410),R=l(82156),P=l(23316),q=l(44189),V=l(3952),N=l(62669),B=l(39035),$=l(56384),Q=l(88672),X=l(98582),W=l.n(X);const K=(0,E.A)(F,[["render",r]]),U=K;W()(F,"components",{QBtnDropdown:A.A,QIcon:S.A,QList:D.A,QItem:I.A,QItemSection:T.A,QItemLabel:O.A,QTooltip:M.A,QDialog:R.A,QCard:P.A,QCardSection:q.A,QAvatar:V.A,QCardActions:N.A,QInnerLoading:B.A,QBtn:$.A}),W()(F,"directives",{ClosePopup:Q.A})},76944:(e,t,l)=>{"use strict";l.d(t,{A:()=>Q});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-e5ada350"),e=e(),(0,a.jt)(),e),n={class:"text-weight-bold"},r={class:"row no-wrap justify-around q-pt-md"},d={class:"drop-target rounded-borders q-mr-md"},u={class:"box row justify-center items-center",style:{"border-bottom":"1px solid grey"}},c={class:"visible-columns-parent"},p=["id","data-column-name","data-order","data-index"],h={class:"rounded-borders overflow-hidden content-center"},m={class:"row justify-end items-start"},_={class:"row justify-end items-start"},b={class:"drop-target rounded-borders"},v={class:"box row justify-center items-center",style:{"border-bottom":"1px solid grey"}},g=["id","data-column-name","data-order"],f={class:"row justify-end items-start q-mt-md"},y=s((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function k(e,t,l,s,k,w){const C=(0,a.g2)("q-tooltip"),x=(0,a.g2)("f-btn"),L=(0,a.g2)("q-toolbar-title"),F=(0,a.g2)("q-btn"),E=(0,a.g2)("q-toolbar"),A=(0,a.g2)("q-checkbox"),S=(0,a.g2)("q-icon"),D=(0,a.g2)("q-card-section"),I=(0,a.g2)("q-inner-loading"),T=(0,a.g2)("q-card"),O=(0,a.g2)("q-dialog"),M=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(x,{square:"",class:"q-mr-sm",icon:"img:images/column_filter.svg",onClick:t[0]||(t[0]=t=>e.show_column_settings=!0)},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("column_settings_tooltip")),1)])),_:1})])),_:1}),(0,a.bF)(O,{modelValue:e.show_column_settings,"onUpdate:modelValue":t[3]||(t[3]=t=>e.show_column_settings=t),onShow:e.BeforePopupShow,onKeydown:t[4]||(t[4]=(0,i.jR)((t=>e.show_column_settings=!1),["esc"])),persistent:"",onHide:e.onDashboardColumnDialogHide},{default:(0,a.k6)((()=>[(0,a.bF)(T,{style:{width:"900px","max-width":"1060px"}},{default:(0,a.k6)((()=>[(0,a.bF)(E,{class:"text-white secondary-toolbar draggable-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",n,(0,o.v_)(e.$t("column_settings")),1)])),_:1}),(0,a.bo)((0,a.bF)(F,{flat:"",round:"",dense:"",icon:"close"},null,512),[[M]])])),_:1}),(0,a.bF)(D,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.Lk)("div",r,[(0,a.Lk)("div",d,[(0,a.Lk)("div",u,(0,o.v_)(e.$t("visible_columns")),1),(0,a.Lk)("div",c,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.visible_columns,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,draggable:"true",class:"draggable-box"},[(0,a.Lk)("div",{draggable:"true",id:t.name,"data-column-name":t.name,class:"box cursor-move","data-order":t.order,"data-index":l},[(0,a.bF)(A,{"data-order":t.order,"data-index":l,"data-column-name":t.name,modelValue:t.selected,"onUpdate:modelValue":e=>t.selected=e,class:"box-checkbox"},null,8,["data-order","data-index","data-column-name","modelValue","onUpdate:modelValue"]),t.hasOwnProperty("doc_type_key")?((0,a.uX)(),(0,a.Wv)(S,{key:0,flat:"",dense:"",name:"close",size:"24px",color:"red",onClick:l=>e.removeDocTypeColumn(t.name)},null,8,["onClick"])):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,o.v_)(t.label),1)],8,p)])))),128))])]),(0,a.Lk)("div",h,[(0,a.Lk)("div",m,[(0,a.bF)(F,{square:"",class:"q-mr-sm mt-20",color:"primary",icon:"arrow_forward",onClick:e.moveToHideColumnList},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("move_to_visibile_button_tooltip")),1)])),_:1})])),_:1},8,["onClick"])]),(0,a.Lk)("div",_,[(0,a.bF)(F,{square:"",class:"q-mr-sm mt-20",color:"primary",icon:"arrow_back",onClick:e.moveToShowColumnList},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("move_to_hidden_button_tooltip")),1)])),_:1})])),_:1},8,["onClick"])])]),(0,a.Lk)("div",b,[(0,a.Lk)("div",v,(0,o.v_)(e.$t("hidden_columns")),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.hidden_columns,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,id:e.name,"data-column-name":e.name,class:"box","data-order":e.order},[(0,a.bF)(A,{"data-column-name":e.name,modelValue:e.selected,"onUpdate:modelValue":t=>e.selected=t,"data-order":e.order},null,8,["data-column-name","modelValue","onUpdate:modelValue","data-order"]),(0,a.eW)(" "+(0,o.v_)(e.label),1)],8,g)))),128))])]),(0,a.Lk)("div",f,[(0,a.bF)(x,{appearance:"cancel",label:e.$t("cancel"),onClick:t[1]||(t[1]=t=>e.show_column_settings=!1)},null,8,["label"]),(0,a.bF)(x,{label:e.$t("done"),class:"q-ml-sm",onClick:t[2]||(t[2]=t=>e.saveSettings())},null,8,["label"])])])])),_:1}),(0,a.bF)(I,{showing:e.processing},{default:(0,a.k6)((()=>[y])),_:1},8,["showing"])])),_:1})])),_:1},8,["modelValue","onShow","onHide"])],64)}var w=l(1659),C=l(38734),x=l(83319),L=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const F=(0,a.pM)({emits:["columnsDataUpdated"],props:{po_columns_attr:{type:String,default:""}},components:{},mounted(){this.init()},data(){return{dragSrcEl:{},clearInterval:0,draggingColumnIndex:-1}},beforeRouteLeave:function(e,t,l){this.removeDragEvents(),l()},methods:{BeforePopupShow(){this.init(),this.show_column_settings=!0},init(){return L(this,void 0,void 0,(function*(){this.elements_loaded=!1,this.visible_columns=[],this.visible_columns_obj_list={},this.hidden_columns={},yield this.setColumns(),this.intervalManager()}))},setColumns(){return L(this,void 0,void 0,(function*(){yield this.setVisibleColumns(),this.setHiddenColumns()}))},setHiddenColumns(){for(const[e,t]of Object.entries(this.table_columns)){if(this.visible_columns_obj_list.hasOwnProperty(e))continue;const l=t;l.selected=!1,l.label=this.$t(l.translation_key),this.hidden_columns[l.name]=l}},setVisibleColumns(){return L(this,void 0,void 0,(function*(){const e=yield this.getSavedColumns(this.po_columns_attr);this.setVibileColumnsForView(e),this.visible_columns_obj_list=e}))},setVibileColumnsForView(e){this.visible_columns=[];for(const t in e)e[t].selected=!1,e[t].label=this.$t(e[t].translation_key),this.visible_columns.push(e[t]);this.sortVisibleColumns()},moveToHideColumnList(){this.visible_columns.forEach(((e,t)=>{if(!this.visible_columns_obj_list[e.name].selected)return;const l=e.name;this.visible_columns_obj_list[l].selected=!1;let a={};a[l]=this.visible_columns_obj_list[l],this.hidden_columns=Object.assign(Object.assign({},a),this.hidden_columns),delete this.visible_columns_obj_list[l]})),this.setVibileColumnsForView(this.visible_columns_obj_list)},moveToShowColumnList(){for(var e of Object.keys(this.hidden_columns))this.hidden_columns[e].selected&&(this.hidden_columns[e].selected=!1,this.visible_columns_obj_list[e]=this.hidden_columns[e],delete this.hidden_columns[e]);this.setVibileColumnsForView(this.visible_columns_obj_list)},saveSettings(){return L(this,void 0,void 0,(function*(){this.processing=!0,yield this.saveColumns(this.visible_columns_obj_list,this.po_columns_attr),this.$emit("columnsDataUpdated"),this.processing=!1,this.show_column_settings=!1}))},intervalManager(){if(!this.elements_loaded||0!==this.clearInterval){if(this.elements_loaded&&0!==this.clearInterval)return this.clearInterval=0,void clearInterval(this.clearInterval);this.isElementRendered(),this.elements_loaded&&this.addDragEvents(),!1===this.elements_loaded&&(this.clearInterval=setTimeout((()=>{this.intervalManager()}),1e3))}},isElementRendered(){let e=document.querySelectorAll(".visible-columns-parent .box");return e.length>0&&(this.elements_loaded=!0,!0)},removeDragEvents(){let e=document.querySelectorAll(".visible-columns-parent .box");e.forEach((e=>{e.removeEventListener("dragstart",this.handleDragStart),e.removeEventListener("dragend",this.handleDragEnd),e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragenter",this.handleDragEnter),e.removeEventListener("dragleave",this.handleDragLeave),e.removeEventListener("drop",this.handleDrop)}))},addDragEvents(){let e=document.querySelectorAll(".visible-columns-parent .box");e.forEach((e=>{e.removeEventListener("dragstart",this.handleDragStart),e.removeEventListener("dragend",this.handleDragEnd),e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragenter",this.handleDragEnter),e.removeEventListener("dragleave",this.handleDragLeave),e.removeEventListener("drop",this.handleDrop),e.addEventListener("dragstart",this.handleDragStart),e.addEventListener("dragend",this.handleDragEnd),e.addEventListener("dragover",this.handleDragOver),e.addEventListener("dragenter",this.handleDragEnter),e.addEventListener("dragleave",this.handleDragLeave),e.addEventListener("drop",this.handleDrop)}))},handleDragStart(e){e.target.style.opacity="0.4",e.dataTransfer.effectAllowed="move";const t=e.target.getAttribute("data-order"),l=e.target.getAttribute("data-column-name"),a=+e.target.getAttribute("data-index");this.draggingColumnIndex=a,e.dataTransfer.setData("column_order",t),e.dataTransfer.setData("column_name",l)},handleDragEnd(e){this.draggingColumnIndex=0,e.target.style.opacity="1";let t=document.querySelectorAll(".visible-columns-parent .box");t.forEach((function(e,t){e.classList.remove("over")}))},handleDragOver(e){return e.preventDefault(),!1},handleDragEnter(e){e.target.classList.add("over")},handleDragLeave(e){e.target.classList.remove("over")},handleDrop(e){e.stopPropagation(),e.preventDefault();const t=+e.target.getAttribute("data-index");if(null!==this.draggingColumnIndex){const e=this.visible_columns[this.draggingColumnIndex];this.visible_columns.splice(this.draggingColumnIndex,1),this.visible_columns.splice(t,0,e);const l={};this.visible_columns.forEach(((e,t)=>{l[e.name]=e,l[e.name]&&(l[e.name]["order"]=t)})),this.visible_columns_obj_list=l}return!1},sortVisibleColumns(){this.visible_columns.sort(((e,t)=>e.order-t.order))},onDashboardColumnDialogHide(){this.removeDragEvents(),this.show_column_settings=!1},removeDocTypeColumn(e){delete this.visible_columns_obj_list[e],this.setVibileColumnsForView(this.visible_columns_obj_list)}},setup(){const e=(0,x.R9)(),{table_columns:t}=(0,w.bP)(e),{getSavedColumns:l,saveColumns:a}=e,o=(0,x.q3)(),{record:i}=(0,w.bP)(o);return{elements_loaded:(0,C.KR)(!1),visible_columns:(0,C.KR)([]),visible_columns_obj_list:(0,C.KR)({}),hidden_columns:(0,C.KR)({}),processing:(0,C.KR)(!1),getSavedColumns:l,saveColumns:a,record:i,table_columns:t,show_column_settings:(0,C.KR)(!1)}}});var E=l(12807),A=l(97410),S=l(82156),D=l(23316),I=l(36914),T=l(39150),O=l(56384),M=l(44189),R=l(80460),P=l(50492),q=l(39035),V=l(88672),N=l(98582),B=l.n(N);const $=(0,E.A)(F,[["render",k],["__scopeId","data-v-e5ada350"]]),Q=$;B()(F,"components",{QTooltip:A.A,QDialog:S.A,QCard:D.A,QToolbar:I.A,QToolbarTitle:T.A,QBtn:O.A,QCardSection:M.A,QCheckbox:R.A,QIcon:P.A,QInnerLoading:q.A}),B()(F,"directives",{ClosePopup:V.A})},98931:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>it});var a=l(61758),o=l(38734),i=l(58790),s=l(60455),n=l(46736);const r=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",{class:"highlighted-back text-h4 text-uppercase"},[(0,a.Lk)("th",{class:"text-left"},"Item Number"),(0,a.Lk)("th",{class:"text-left"},"Item Id "),(0,a.Lk)("th",{class:"text-left"},"Item Description"),(0,a.Lk)("th",{class:"text-left"},"Status"),(0,a.Lk)("th",{class:"text-right"},"Order Quantity"),(0,a.Lk)("th",{class:"text-right"},"Shipped Quantity"),(0,a.Lk)("th",{class:"text-left"},"Promised Delivery Date")])],-1),d={class:"text-left"},u={class:"text-left"},c={class:"text-left"},p={class:"text-left"},h={class:"text-right"},m={class:"text-right"},_={class:"text-left"};function b(e,t,l,o,s,n){const b=(0,a.g2)("q-markup-table");return(0,a.uX)(),(0,a.Wv)(b,null,{default:(0,a.k6)((()=>[r,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.order_lines,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:l},[(0,a.Lk)("td",d,(0,i.v_)(t.line_number),1),(0,a.Lk)("td",u,(0,i.v_)(t.item_id),1),(0,a.Lk)("td",c,(0,i.v_)(t.item_description),1),(0,a.Lk)("td",p,(0,i.v_)(t.status),1),(0,a.Lk)("td",h,(0,i.v_)(t.ordered_quantity),1),(0,a.Lk)("td",m,(0,i.v_)(t.shipped_quantity),1),(0,a.Lk)("td",_,(0,i.v_)(e.formatDateWithPattern(t.promised_delivery_date,"YYYY-MM-DD HH:mm:ss")),1)])))),128))])])),_:1})}const v=(0,a.pM)({name:"orderLines",mixins:[n.A],props:{order_lines:{type:[{}],default:[]}},data(){return{}},setup(){return{}}});var g=l(12807),f=l(857),y=l(98582),k=l.n(y);const w=(0,g.A)(v,[["render",b]]),C=w;k()(v,"components",{QMarkupTable:f.A});var x=l(73414),L=l(1659),F=l(11470),E=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const A=(0,L.nY)("dashboard_asn_order_detail",{state:()=>({loading:!0,data:{customer_name:"",customer_number:"",customer_order_number:!1,customer_po:"",line_status:"",order_date:"",ordered_quantity:0,otr:"",cpu:"",promised_delivery_date:"",requested_delivery_date:"",ship_to_location:"",shipped_quantity:0,status:"",warehouse_name:"",sales_person_name:"",whs:"",preview_path:""},params:null}),actions:{getAsnOrderDataDetail(e){return E(this,void 0,void 0,(function*(){try{const t=yield F.wk.getAsnDashboardOrderDetail(e);if(!t)throw t;this.data=t.data}catch(t){throw t}}))},getAsnShareToken(e){return E(this,void 0,void 0,(function*(){try{const t=yield F.wk.getAsnShareTokenService(e);return t}catch(t){throw t}}))},getAsnPreview(e){return E(this,void 0,void 0,(function*(){try{const t=yield F.wk.getAsnOrderPreview(e);if(!t||0==t.success)throw t;this.data.preview_path=t.data.preview_path}catch(t){throw t}}))}}});var S=l(46162),D=l(83319),I=l(68450),T=l(82303),O=l(64775),M=l(78652),R=l(54899),P=l(23537),q=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const V={class:"px-12 sub-header flex items-center",style:{padding:"13px 12px"}},N={class:"px-10 row text-bold"},B={class:"px-12 font-size-large q-my-md"},$={class:"mx-12 row q-card"},Q={class:"col-8"},X={class:"break-word"},W={class:"col-4 text-wrap"},K={class:"break-word"},U={class:"px-12 row mt-15"},j={class:"flex column pl-10 col-6 justify-between",style:{height:"80px"}},z={class:"px-12 font-size-medium text-primary q-my-md"},H={class:"mx-12 q-card mt-15",style:{padding:"12px"}},G=["src"],Y="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d1330.4803938476741!2d11.822257!3d48.168837!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x479e755d99cb0e7f%3A0x1c5f7ea14247ec54!2sFELLOWPRO%20AG!5e0!3m2!1sde!2sde!4v1709785354741!5m2!1sde!2sde",J=(0,a.pM)({__name:"MainDetailsMobile",setup(e){const t=(0,o.KR)(1),l=A(),n=(0,o.KR)(!1),r=(0,s.lq)(),d=(0,o.KR)(r.params.id);let u=(0,o.KR)(""),c=(0,o.KR)(!0);const p=(0,o.KR)(""),h=(0,o.KR)(""),{showSuccessToast:m}=(0,R.A)(),{t:_}=(0,P.s9)(),b=(0,o.KR)([]);function v(){return q(this,void 0,void 0,(function*(){if(r.fullPath.includes("/share"))h.value=window.location,(0,M.A)(h.value).then((()=>{m(_("copy_to_clipboard"))}));else try{let e=yield l.getAsnShareToken(d.value);if(e.data.token){const t=window.location.origin;h.value=`${t}/sales_order_detail/${d.value}/share?token=${e.data.token}`,(0,M.A)(h.value).then((()=>{m(_("copy_to_clipboard"))}))}return}catch(e){logInfo(e)}}))}function g(e){return q(this,void 0,void 0,(function*(){try{if(n.value=!0,r.fullPath.includes("/share")&&r.query.token){p.value=r.query.token;try{const e=yield T.A.get(S.FH.get_asn_share_tokens+"?token="+p.value);l.data=e.data.data,w(),f(p.value)}catch(t){return void logError(t)}}else yield l.getAsnOrderDataDetail(e),w(),k(e)}catch(a){logInfo(a)}finally{n.value=!1}}))}function f(e){return q(this,void 0,void 0,(function*(){try{if((0,I.z)(l.data.preview_path)||(0,I.jw)(l.data.preview_path))return;try{c.value=!0;const t=yield T.A.get(`${S.VA}/resource/get_file/${l.data.customer_po}?path=${l.data.preview_path}&download=false&token=${e}`,{responseType:"blob"});if("application/json"==t.headers["content-type"])return setTimeout((function(){y()}),5e3);const a=t.config.url;u.value=a,c.value=!1}catch(t){logError(t)}}catch(a){logInfo(a)}}))}function y(){return q(this,void 0,void 0,(function*(){try{if((0,I.z)(l.data.preview_path)||(0,I.jw)(l.data.preview_path))return;const t=(0,D._6)();yield t.getTokenQueryParam();const{tokenQueryParam:a}=t;try{c.value=!0;const e=yield T.A.get(`${S.VA}/resource/get_file/${l.data.customer_po}?path=${l.data.preview_path}&download=false&${a}`,{responseType:"blob"});if("application/json"==e.headers["content-type"])return setTimeout((function(){y()}),5e3);const t=e.config.url;u.value=t,c.value=!1}catch(e){logError(e)}}catch(t){logInfo(t)}}))}function k(e){return q(this,void 0,void 0,(function*(){try{if(!(0,I.z)(l.data.preview_path)&&!(0,I.jw)(l.data.preview_path))return void y();yield l.getAsnPreview(e),y()}catch(t){const e=O.t.getErrorMessage(t),l=document.getElementById("preview_frame"),a=l.contentDocument;a&&(a.write("<h1>Error</h1><p>Oops!  "+e+".</p>"),a.close()),logInfo(t)}}))}function w(){b.value=[{label:"customer_name",value:l.data.customer_name},{label:"customer_number",value:l.data.customer_number},{label:"advance_ship_notice",value:l.data.customer_order_number},{label:"line_status",value:l.data.line_status},{label:"order_date",value:new Date(l.data.order_date).toLocaleDateString("en-US")},{label:"items_quantity",value:l.data.ordered_quantity},{label:"method_of_shipment",value:l.data.otr||l.data.cpu},{label:"promised_delivery_date",value:new Date(l.data.promised_delivery_date).toLocaleDateString("en-US")},{label:"requested_delivery_date",value:new Date(l.data.requested_delivery_date).toLocaleDateString("en-US")},{label:"shipped_quantity",value:l.data.shipped_quantity},{label:"warehouse_name",value:l.data.warehouse_name},{label:"sales_person_name",value:l.data.sales_person_name},{label:"warehouse_number",value:l.data.whs}]}return g(d.value),(e,s)=>{const n=(0,a.g2)("q-icon"),d=(0,a.g2)("q-step"),p=(0,a.g2)("q-stepper"),h=(0,a.g2)("q-separator"),m=(0,a.g2)("q-card"),_=(0,a.g2)("q-btn"),g=(0,a.g2)("q-skeleton");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",V,[(0,o.R1)(r).fullPath.includes("/share")?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(n,{key:0,color:"white",name:"arrow_back_ios",onClick:s[0]||(s[0]=t=>e.$router.push("/asn_shipment/dashboard"))})),(0,a.Lk)("span",null," "+(0,i.v_)(e.$t("advance_ship_notice")),1)]),(0,a.Lk)("div",N,[(0,a.bF)(p,{modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=e=>t.value=e),"header-nav":"","header-class":"no-wrap",class:"no-border shadow-0 full-width",ref:"stepper","alternative-labels":"","done-icon":"none",line:"","active-icon":"none","done-color":"primary","active-color":"primary",content:"none"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{name:1,title:e.$t("ordered"),done:"Reserved"==(0,o.R1)(l).data.status||"Allocated"==(0,o.R1)(l).data.status||"Picking list printed"==(0,o.R1)(l).data.status||"Delivered"==(0,o.R1)(l).data.status||"Invoiced"==(0,o.R1)(l).data.status,hidden:""},null,8,["title","done"]),(0,a.bF)(d,{name:3,title:e.$t("in_delivery"),done:"Delivered"==(0,o.R1)(l).data.status||"Invoiced"==(0,o.R1)(l).data.status,hidden:""},null,8,["title","done"]),(0,a.bF)(d,{name:4,title:e.$t("delivered"),done:"Invoiced"==(0,o.R1)(l).data.status,hidden:""},null,8,["title","done"])])),_:1},8,["modelValue"])]),(0,a.bF)(h),(0,a.Lk)("div",B,(0,i.v_)(e.$t("shipping_details")),1),(0,a.Lk)("div",$,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(b.value,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l+t.label,class:(0,i.C4)(["row px-12 ",l%2===0?"even":"odd"])},[(0,a.Lk)("div",Q,[(0,a.Lk)("div",X,(0,i.v_)(e.$t(t.label)),1)]),(0,a.Lk)("div",W,[(0,a.Lk)("div",K,(0,i.v_)(t.value),1)])],2)))),128))]),(0,a.Lk)("div",U,[(0,a.bF)(m,{class:"col-6"},{default:(0,a.k6)((()=>[(0,a.Lk)("iframe",{class:"col-6 no-border rounded-borders",src:Y,style:{"max-height":"80px"},width:"100%",height:"80px"})])),_:1}),(0,a.Lk)("div",j,[(0,a.bF)(_,{unelevated:"",rounded:"",color:"grey-4","text-color":"black",label:e.$t("share"),onClick:v},null,8,["label"])])]),(0,a.Lk)("div",z,(0,i.v_)(e.$t("send_me_email_with_login")),1),(0,a.bF)(h),(0,a.Lk)("div",H,[(0,o.R1)(c)?((0,a.uX)(),(0,a.Wv)(g,{key:1,style:{width:"100%"},animated:!1,width:"100%",height:"900px",class:"custom-skeleton"})):((0,a.uX)(),(0,a.CE)("iframe",{key:0,id:"preview_frame",src:(0,o.R1)(u),title:"file preview",width:"100%",height:"900px"},null,8,G))])],64)}}});var Z=l(50492),ee=l(37222),te=l(78577),le=l(10386),ae=l(23316),oe=l(56384),ie=l(43820);const se=(0,g.A)(J,[["__scopeId","data-v-22058eec"]]),ne=se;k()(J,"components",{QIcon:Z.A,QStepper:ee.A,QStep:te.A,QSeparator:le.A,QCard:ae.A,QBtn:oe.A,QSkeleton:ie.Ay});var re=l(77362),de=l(25773),ue=l(43437),ce=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const pe=e=>((0,a.Qi)("data-v-53a76eb0"),e=e(),(0,a.jt)(),e),he={key:0},me={class:"row back-white q-pa-lg"},_e={class:"col-sm-4 col-md-4 col-lg-3 q-pb-md q-gutter-sm"},be={class:"q-px-lg q-py-md"},ve={class:"text-h1 text-bold q-pb-sm"},ge={class:"border-bottom row items-center"},fe={class:"h4 __r_text_title text-primary text-bold q-ml-md q-mr-auto"},ye={class:"q-ml-xs q-mr-sm"},ke={class:"row mt-4 q-pt-lg q-pb-lg"},we={class:"col-3 text-bold q-pb-sm"},Ce={class:"col-3 q-pb-sm"},xe={class:"col-3 text-bold q-pb-sm"},Le={class:"col-3 q-pb-sm"},Fe={class:"col-3 text-bold q-pb-sm"},Ee={class:"col-3 q-pb-sm"},Ae={class:"col-3 text-bold q-pb-sm"},Se={class:"col-3 q-pb-sm"},De={class:"col-3 text-bold q-pb-sm"},Ie={class:"col-3 q-pb-sm"},Te={class:"col-3 text-bold q-pb-sm"},Oe={class:"col-3 q-pb-sm"},Me={class:"col-3 text-bold q-pb-sm"},Re={class:"col-3 q-pb-sm"},Pe={class:"col-3 text-bold q-pb-sm"},qe={class:"col-3 q-pb-sm"},Ve={class:"col-3 text-bold q-pb-sm"},Ne={class:"col-3 q-pb-sm"},Be={class:"col-3 text-bold q-pb-sm"},$e={class:"col-3 q-pb-sm"},Qe={class:"col-3 text-bold q-pb-sm"},Xe={class:"col-3 q-pb-sm"},We={class:"col-3 text-bold q-pb-sm"},Ke={class:"col-3 q-pb-sm"},Ue={class:"row q-mt-md"},je={class:"col-12 q-mb-md"},ze={class:"col-12",style:{"margin-bottom":"15px"}},He={class:"mx-12 q-card mt-10"},Ge=["src"],Ye=pe((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1))),Je=(0,a.pM)({__name:"main_details",setup(e){const t=(0,o.KR)(1),l=A(),r=(0,o.KR)(!1),d=(0,s.lq)(),u=(0,o.KR)(d.params.id),c=(0,o.KR)(""),p=(0,o.KR)("");let h=(0,o.KR)(""),m=(0,o.KR)(!0);const{showSuccessToast:_}=(0,R.A)(),{t:b}=(0,P.s9)();function v(e){return n.A.methods.formatDate(e)}function g(){return ce(this,void 0,void 0,(function*(){if(d.fullPath.includes("/share"))p.value=window.location,(0,M.A)(p.value).then((()=>{_(b("copy_to_clipboard"))}));else try{let e=yield l.getAsnShareToken(u.value);if(e.data.token){const t=window.location.origin;p.value=`${t}/sales_order_detail/${u.value}/share?token=${e.data.token}`,(0,M.A)(p.value).then((()=>{_(b("copy_to_clipboard"))}))}return}catch(e){logInfo(e)}}))}function f(e){return ce(this,void 0,void 0,(function*(){try{if(r.value=!0,d.fullPath.includes("/share")&&d.query.token){c.value=d.query.token;try{const e=yield T.A.get(S.FH.get_asn_share_tokens+"?token="+c.value);l.data=e.data.data,y(c.value)}catch(t){return void logError(t)}}else yield l.getAsnOrderDataDetail(e),k(e)}catch(a){logInfo(a)}finally{r.value=!1}}))}function y(e){return ce(this,void 0,void 0,(function*(){try{if((0,I.z)(l.data.preview_path)||(0,I.jw)(l.data.preview_path))return;try{m.value=!0;const t=yield T.A.get(`${S.VA}/resource/get_file/${l.data.customer_po}?path=${l.data.preview_path}&download=false&token=${e}`,{responseType:"blob"});if("application/json"==t.headers["content-type"])return setTimeout((function(){w()}),5e3);const a=t.config.url;h.value=a,m.value=!1}catch(t){logError(t)}}catch(a){logInfo(a)}}))}function k(e){return ce(this,void 0,void 0,(function*(){try{if(!(0,I.z)(l.data.preview_path)&&!(0,I.jw)(l.data.preview_path))return void w();yield l.getAsnPreview(e),w()}catch(t){const e=O.t.getErrorMessage(t),l=document.getElementById("preview_frame"),a=l.contentDocument;a&&(a.write("<h1>Error</h1><p>Oops!  "+e+".</p>"),a.close()),logInfo(t)}}))}function w(){return ce(this,void 0,void 0,(function*(){try{if((0,I.z)(l.data.preview_path)||(0,I.jw)(l.data.preview_path))return;const t=(0,D._6)();yield t.getTokenQueryParam();const{tokenQueryParam:a}=t;try{m.value=!0;const e=yield T.A.get(`${S.VA}/resource/get_file/${l.data.customer_po}?path=${l.data.preview_path}&download=false&${a}`,{responseType:"blob"});if("application/json"==e.headers["content-type"])return setTimeout((function(){w()}),5e3);const t=e.config.url;h.value=t,m.value=!1}catch(e){logError(e)}}catch(t){logInfo(t)}}))}function L(e){return n.A.methods.formatDateWithPattern(e,"YYYY-MM-DD HH:mm:ss")}return f(u.value),(e,s)=>{const n=(0,a.g2)("q-timeline-entry"),u=(0,a.g2)("q-timeline"),c=(0,a.g2)("q-step"),p=(0,a.g2)("q-stepper"),_=(0,a.g2)("q-icon"),b=(0,a.g2)("q-tooltip"),f=(0,a.g2)("f-btn"),y=(0,a.g2)("q-card-section"),k=(0,a.g2)("q-card"),w=(0,a.g2)("q-skeleton"),F=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,o.R1)(x.Fr)()?((0,a.uX)(),(0,a.Wv)(ne,{key:1})):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,o.R1)(d).fullPath.includes("/share")?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",he,[(0,a.bF)(re.A,{name:"sales_order_detail",label:e.$t("pages.screen2a.dashboard"),show_expiry_alert:!0},null,8,["label"]),(0,a.bF)(de.A,{label:e.$t("advance_ship_notice"),back_to_rotue:"/asn_shipment/dashboard"},null,8,["label"])])),(0,a.Lk)("div",me,[(0,a.Lk)("div",_e,[(0,a.Lk)("div",be,[(0,a.bF)(u,{color:"primary"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{color:"grey",title:e.$t("sales_order")+" "+(0,o.R1)(l).data.customer_order_number,subtitle:v((0,o.R1)(l).data.order_date),icon:"receipt_long"},null,8,["title","subtitle"]),(0,a.bF)(n,{color:"grey",title:e.$t("order_acKnowledgement"),subtitle:" ",icon:"fact_check"},null,8,["title"]),(0,a.bF)(n,{title:e.$t("advance_ship_notice"),subtitle:" ",icon:"local_shipping"},null,8,["title"]),(0,a.bF)(n,{color:"grey",title:e.$t("invoice"),subtitle:" ",icon:"newspaper"},null,8,["title"])])),_:1})])]),(0,a.Lk)("div",{class:(0,i.C4)(["col-sm-8 col-md-8 col-lg-9 q-pa-sm scrolle-y",(0,o.R1)(d).fullPath.includes("/share")?"right-content-share":"right-content"])},[(0,a.Lk)("div",ve,[(0,a.bF)(p,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=e=>t.value=e),"header-nav":"",class:"",ref:"stepper","alternative-labels":"","done-icon":"none",line:"","active-icon":"none","done-color":"primary","active-color":"primary",content:"none"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{name:1,title:e.$t("ordered"),done:"Reserved"===(0,o.R1)(l).data.status||"Allocated"===(0,o.R1)(l).data.status||"Picking list printed"===(0,o.R1)(l).data.status||"Delivered"===(0,o.R1)(l).data.status||"Invoiced"===(0,o.R1)(l).data.status,hidden:""},null,8,["title","done"]),(0,a.bF)(c,{name:3,title:e.$t("in_delivery"),done:"Delivered"===(0,o.R1)(l).data.status||"Invoiced"===(0,o.R1)(l).data.status,hidden:""},null,8,["title","done"]),(0,a.bF)(c,{name:4,title:e.$t("delivered"),done:"Invoiced"===(0,o.R1)(l).data.status,hidden:""},null,8,["title","done"])])),_:1},8,["modelValue"])]),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:""},{default:(0,a.k6)((()=>[(0,a.Lk)("div",ge,[(0,a.Lk)("div",null,[(0,a.bF)(_,{size:"45px",color:"primary",class:"cursor-pointer",name:"local_shipping"})]),(0,a.Lk)("div",fe,(0,i.v_)(e.$t("advance_ship_notice"))+" "+(0,i.v_)((0,o.R1)(l).data.customer_order_number),1),(0,a.bF)(f,{class:"float-right",onClick:g},{default:(0,a.k6)((()=>[(0,a.bF)(_,{name:(0,o.R1)(ue.YuT)},null,8,["name"]),(0,a.Lk)("span",ye,(0,i.v_)(e.$t("share")),1),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",null,(0,i.v_)(e.$t("copy_public_url")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",ke,[(0,a.Lk)("div",we,(0,i.v_)(e.$t("customer_name"))+" :",1),(0,a.Lk)("div",Ce,(0,i.v_)((0,o.R1)(l).data.customer_name),1),(0,a.Lk)("div",xe,(0,i.v_)(e.$t("customer_order_number"))+" :",1),(0,a.Lk)("div",Le,(0,i.v_)((0,o.R1)(l).data.customer_order_number),1),(0,a.Lk)("div",Fe,(0,i.v_)(e.$t("customer_number"))+" :",1),(0,a.Lk)("div",Ee,(0,i.v_)((0,o.R1)(l).data.customer_number),1),(0,a.Lk)("div",Ae,(0,i.v_)(e.$t("purchase_order"))+" :",1),(0,a.Lk)("div",Se,(0,i.v_)((0,o.R1)(l).data.customer_po),1),(0,a.Lk)("div",De,(0,i.v_)(e.$t("order_date"))+" :",1),(0,a.Lk)("div",Ie,(0,i.v_)(L((0,o.R1)(l).data.order_date)),1),(0,a.Lk)("div",Te,(0,i.v_)(e.$t("status"))+" :",1),(0,a.Lk)("div",Oe,(0,i.v_)((0,o.R1)(l).data.status),1),(0,a.Lk)("div",Me,(0,i.v_)(e.$t("ship_to_location"))+" :",1),(0,a.Lk)("div",Re,(0,i.v_)((0,o.R1)(l).data.ship_to_location.city)+" "+(0,i.v_)((0,o.R1)(l).data.ship_to_location.country),1),(0,a.Lk)("div",Pe,(0,i.v_)(e.$t("whs"))+" :",1),(0,a.Lk)("div",qe,(0,i.v_)((0,o.R1)(l).data.whs),1),(0,a.Lk)("div",Ve,(0,i.v_)(e.$t("ort_or_cpu"))+" :",1),(0,a.Lk)("div",Ne,(0,i.v_)((0,o.R1)(l).data.otr?(0,o.R1)(l).data.otr:(0,o.R1)(l).data.cpu),1),(0,a.Lk)("div",Be,(0,i.v_)(e.$t("warehouse_name"))+" :",1),(0,a.Lk)("div",$e,(0,i.v_)((0,o.R1)(l).data.warehouse_name),1),(0,a.Lk)("div",Qe,(0,i.v_)(e.$t("requested_delivery_date"))+" :",1),(0,a.Lk)("div",Xe,(0,i.v_)(L((0,o.R1)(l).data.requested_delivery_date)),1),(0,a.Lk)("div",We,(0,i.v_)(e.$t("sales_person_name"))+" :",1),(0,a.Lk)("div",Ke,(0,i.v_)((0,o.R1)(l).data.sales_person_name),1)])])),_:1})])),_:1}),(0,a.Lk)("div",Ue,[(0,a.Lk)("div",je,[(0,a.bF)(C,{order_lines:(0,o.R1)(l).data.order_lines},null,8,["order_lines"])]),(0,a.Lk)("div",ze,[(0,a.Lk)("div",He,[(0,o.R1)(m)?((0,a.uX)(),(0,a.Wv)(w,{key:1,style:{width:"100%"},animated:!1,width:"100%",height:"900px",class:"custom-skeleton"})):((0,a.uX)(),(0,a.CE)("iframe",{key:0,id:"preview_frame",src:(0,o.R1)(h),title:"file preview",width:"100%",height:"900px"},null,8,Ge))])])])],2)])],64)),(0,a.bF)(F,{showing:r.value,style:{"z-index":"2"}},{default:(0,a.k6)((()=>[Ye])),_:1},8,["showing"])],64)}}});var Ze=l(96364),et=l(28354),tt=l(44189),lt=l(97410),at=l(39035);const ot=(0,g.A)(Je,[["__scopeId","data-v-53a76eb0"]]),it=ot;k()(Je,"components",{QTimeline:Ze.A,QTimelineEntry:et.A,QStepper:ee.A,QStep:te.A,QCard:ae.A,QCardSection:tt.A,QIcon:Z.A,QTooltip:lt.A,QSkeleton:ie.Ay,QBtn:oe.A,QInnerLoading:at.A})},39660:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Ia});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-5c4d8bb7"),e=e(),(0,a.jt)(),e),n={class:"row"},r={class:"col-12 q-pl-sm q-mt-sm"},d={key:0,class:"row"},u={key:1,class:"full-width"},c={class:"h-m-r-10",id:"po-container-parrent",style:{"border-right":"1px solid #9f9d9d"}},p={class:"row"},h={class:"po-nav-width q-pr-md row"},m={class:"q-ml-auto q-mt-sm"},_=s((()=>(0,a.Lk)("img",{width:"20",height:"20",src:"images/accounting-white.svg"},null,-1))),b={key:0,class:"row ml-10"},v={class:"col-sm-12 col-md-12 col-lg-12 secondary-c-text"},g={class:"row ml-10 scroll-height-100vh-130px scrolle-y"},f={class:"col-6 q-mb-md",id:"search-po"},y=["innerHTML"],k={class:"col-6 q-mb-md center-inner"},w={class:"row inline no-wrap items-center float-right",style:{padding:"0.47em 0.3em"}},C={class:"col-sm-12"},x={class:"full-width scrolle-y po-container back-white"},L={class:"full-width row justify-between"},F={class:"row"},E={key:0,class:"row justify-center items-center"},A={key:1,class:"row q-pa-sm"},S={key:0,class:"full-width"},D=s((()=>(0,a.Lk)("div",{class:"q-mt-sm q-ma-sm"},null,-1))),I={class:"row q-pa-sm"},T={class:"col-sm-12 col-md-12 col-lg-12 pr-6 row"},O={key:0,class:"q-mr-auto"},M={key:1,class:"q-mr-auto"},R={class:"q-ml-auto"},P={key:1,class:"q-pr-sm text-red-14"},q={key:0,class:"full-width back-white"},V={key:1,class:"full-width back-white"},N={style:{"margin-left":"-13px",top:"10px"}},B={style:{"margin-left":"-5.5px",top:"40%"}},$={class:""},Q={class:"po-right-container q-pr-md q-mt-sm",id:"po-image-container"},X=s((()=>(0,a.Lk)("span",{class:"q-ml-sm"},"PO and AB are not same Please choose action.",-1))),W={class:"q-ml-sm"},K={class:"q-ml-sm"},U=s((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1))),j=s((()=>(0,a.Lk)("span",{class:"q-ml-sm"},"On resync, you may lose PO connections.",-1))),z={class:"q-ml-sm"};function H(e,t,l,s,H,G){const Y=(0,a.g2)("DocumentLock"),J=(0,a.g2)("MessageBanner"),Z=(0,a.g2)("SubHeader"),ee=(0,a.g2)("ErrorDocumentView"),te=(0,a.g2)("DocumentAutoSaveNotify"),le=(0,a.g2)("q-tooltip"),ae=(0,a.g2)("f-btn"),oe=(0,a.g2)("TaskBtn"),ie=(0,a.g2)("CreateTaskBtn"),se=(0,a.g2)("SyncPOData"),ne=(0,a.g2)("exportBtns"),re=(0,a.g2)("q-icon"),de=(0,a.g2)("q-item-label"),ue=(0,a.g2)("q-item-section"),ce=(0,a.g2)("q-item"),pe=(0,a.g2)("AdvanceFilter"),he=(0,a.g2)("q-menu"),me=(0,a.g2)("q-select"),_e=(0,a.g2)("q-toggle"),be=(0,a.g2)("q-list"),ve=(0,a.g2)("q-tab"),ge=(0,a.g2)("PoTableColumnsSettings"),fe=(0,a.g2)("q-tabs"),ye=(0,a.g2)("q-separator"),ke=(0,a.g2)("PurchaseOrder"),we=(0,a.g2)("q-tab-panel"),Ce=(0,a.g2)("q-tab-panels"),xe=(0,a.g2)("q-markup-table"),Le=(0,a.g2)("LineItems"),Fe=(0,a.g2)("RceiveDeliveryLines"),Ee=(0,a.g2)("draggable"),Ae=(0,a.g2)("q-btn"),Se=(0,a.g2)("ImageComponent"),De=(0,a.g2)("q-splitter"),Ie=(0,a.g2)("keyboardShortcutInfo"),Te=(0,a.g2)("q-card-actions"),Oe=(0,a.g2)("q-card"),Me=(0,a.g2)("q-dialog"),Re=(0,a.g2)("q-avatar"),Pe=(0,a.g2)("q-card-section"),qe=(0,a.g2)("q-inner-loading"),Ve=(0,a.g2)("PurchaseOrderPreview"),Ne=(0,a.g2)("q-toolbar-title"),Be=(0,a.g2)("q-toolbar"),$e=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(Y,{document_version:e.document_version,trigger_document_lock:e.trigger_document_lock,doc_id:e.docId},null,8,["document_version","trigger_document_lock","doc_id"]),e.is_view_readonly?((0,a.uX)(),(0,a.Wv)(J,{key:0,message:e.error_message,messageCategoryClass:"error-banner"},null,8,["message"])):(0,a.Q3)("",!0),(0,a.bF)(Z,{name:"po_matching",label:e.$t("po_matching"),show_expiry_alert:!0,onSearch:!1},null,8,["label"]),(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[e.doc_fetch_error?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(ee)])):((0,a.uX)(),(0,a.CE)("div",u,[(0,a.bF)(De,{limits:[30,100],modelValue:e.imageFieldSplitter,"onUpdate:modelValue":[t[14]||(t[14]=t=>e.imageFieldSplitter=t),t[15]||(t[15]=t=>e.splitterChanged())],class:"po-left-container"},{before:(0,a.k6)((()=>[(0,a.Lk)("div",c,[(0,a.Lk)("div",p,[(0,a.Lk)("div",h,[(0,a.Lk)("div",m,[(0,a.Lk)("span",null,[(0,a.bF)(te)]),(0,a.bF)(ae,{id:"help_po_btn",class:"q-mr-sm q-ml-sm",icon:"question_mark",onClick:e.goToHelp},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("help")),1)])),_:1})])),_:1},8,["onClick"]),e.is_view_readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(ae,{key:0,id:"keyboard_po_btn",class:"q-mr-sm",icon:"keyboard",onClick:t[0]||(t[0]=t=>e.showKeyboardShortcuts=!0)},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("keyboard_shortcut")),1)])),_:1})])),_:1})),e.is_view_readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(ae,{key:1,id:"po_training_mode_btn",class:"q-mr-sm",icon:"backup_table",onClick:t[1]||(t[1]=t=>e.allowPOTableDrag=!0!==e.allowPOTableDrag)},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[!0===e.allowPOTableDrag?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t("po_training_mode_off")),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.$t("po_training_mode_on")),1)],64))])),_:1})])),_:1})),e.is_view_readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.bF)(oe,{is_f_btn:!0,onBtnClicked:t[2]||(t[2]=t=>e.gotoTaskPendingList())}),(0,a.bF)(ie,{is_icon_button:!0})],64)),e.record.hasOwnProperty("accounting")?((0,a.uX)(),(0,a.Wv)(ae,{key:3,class:"q-pl-sm q-pr-sm q-mr-sm",to:"/accounting/"+e.docId},{default:(0,a.k6)((()=>[_,(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("auto_accounting")),1)])),_:1})])),_:1},8,["to"])):(0,a.Q3)("",!0),e.is_view_readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(ae,{key:4,id:"auto_po_match_btn",class:"q-mr-sm",icon:"img:images/magic_wand_white.svg",onClick:e.autoPoMatch},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("auto_po_match")),1)])),_:1})])),_:1},8,["onClick"])),!0===e.ext_table_train?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[e.is_view_readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(ae,{key:0,class:"q-mr-sm",onClick:t[3]||(t[3]=t=>e.saveExtAppData(!0)),icon:"save"},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("save")),1)])),_:1})])),_:1}))],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:6},[e.is_view_readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(ae,{key:0,id:"save_po_btn",class:"q-mr-sm",onClick:t[4]||(t[4]=t=>e.saveData()),icon:"save"},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("save")),1)])),_:1})])),_:1}))],64)),e.is_view_readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(se,{key:7,is_module_on:"invoice_open_quantity"==e.po_quantity_column,poNumber:e.tab,onRefreshAlreadyAddedItem:e.refreshAlreadyAddedItem},null,8,["is_module_on","poNumber","onRefreshAlreadyAddedItem"])),e.is_view_readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(ne,{key:8,ref:"exportBtns",confirmOnPoLeave:e.isSavePending,onSetSavePendingStatus:e.setSavePendingStatus},null,8,["confirmOnPoLeave","onSetSavePendingStatus"]))])])]),e.allowPOTableDrag&&!e.is_view_readonly?((0,a.uX)(),(0,a.CE)("div",b,[(0,a.Lk)("div",v,[(0,a.bF)(re,{name:"info",size:"sm"}),(0,a.Lk)("span",null,(0,o.v_)(e.$t("po_table_drag_drop")),1)])])):(0,a.Q3)("",!0),(0,a.Lk)("div",g,[(0,a.Lk)("div",f,[(0,a.bF)(me,{dense:"",outlined:"","use-input":"","emit-value":"","map-options":"",tabindex:"0",loading:e.poLoading,"input-debounce":"0","hide-dropdown-icon":"",disable:e.is_view_readonly,modelValue:e.po_search_keyword,"onUpdate:modelValue":[t[7]||(t[7]=t=>e.po_search_keyword=t),e.getSelectedPOitems],options:e.po_number_options,onFilter:e.searchPurchaseOrderList,onKeyup:(0,i.jR)(e.triggerPoSearch,["enter"]),label:e.$t("search_po_label"),class:"back-white po_iterateable_item max-width-500 q-mt-md"},{option:(0,a.k6)((t=>[(0,a.bF)(ce,(0,o._B)((0,a.Ng)(t.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(ue,null,{default:(0,a.k6)((()=>[(0,a.bF)(de,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",{innerHTML:e.displayPONumbersAsOption(t.opt.label)},null,8,y)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),append:(0,a.k6)((()=>[e.po_search&&""!=e.po_search?((0,a.uX)(),(0,a.Wv)(re,{key:0,name:"close",onClick:(0,i.D$)(e.clearSearch,["stop"]),class:"cursor-pointer"},null,8,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(ae,{icon:"tune",appearance:"flat",onClick:t[6]||(t[6]=t=>e.initFilterModel())},{default:(0,a.k6)((()=>[(0,a.bF)(he,{fit:"",modelValue:e.showAdanceFilter,"onUpdate:modelValue":t[5]||(t[5]=t=>e.showAdanceFilter=t),style:{"max-width":"500px"},anchor:"bottom start",self:"top left",offset:[453,10]},{default:(0,a.k6)((()=>[(0,a.bF)(pe,{onDisplayAdvanceFilterResults:e.displayAdvanceFilterResults,classes:"col-6 q-pa-sm"},null,8,["onDisplayAdvanceFilterResults"])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["loading","disable","modelValue","options","onFilter","onUpdate:modelValue","onKeyup","label"])]),(0,a.Lk)("div",k,[(0,a.bF)(_e,{disable:e.is_view_readonly,class:"float-right",modelValue:e.user_settings[e.po_auto_match_and_export],"onUpdate:modelValue":[t[8]||(t[8]=t=>e.user_settings[e.po_auto_match_and_export]=t),t[9]||(t[9]=t=>{e.updateSetting(e.po_auto_match_and_export,t)})]},null,8,["disable","modelValue"]),(0,a.Lk)("span",w,[1==e.auto_match_alert?((0,a.uX)(),(0,a.Wv)(re,{key:0,color:"warning",class:"help-sign cursor-pointer q-mr-sm",name:"warning"},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("auto_match_not_possible_connections_exists")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,o.v_)(e.$t("po_auto_match_and_export"))+" ",1),(0,a.bF)(re,{name:"info",class:"help-sign cursor-pointer",color:"primary"},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("auto_export_rules")),1)])),_:1})])),_:1})])]),(0,a.Lk)("div",C,[(0,a.Lk)("div",x,[e.hasPoItems?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(fe,{modelValue:e.tab,"onUpdate:modelValue":t[10]||(t[10]=t=>e.tab=t),class:"text-weight-bold align-tabs-left"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",L,[(0,a.Lk)("div",F,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.po_items,((t,l)=>((0,a.uX)(),(0,a.Wv)(ve,{draggable:"false",class:"text-left po-tab",key:l,name:l,"data-name":l,label:l,tabindex:"0"},{default:(0,a.k6)((()=>[(0,a.bF)(re,{class:"q-pl-sm",name:"refresh",onClick:t=>e.confirmRefreshData(l)},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("refresh")),1)])),_:1})])),_:2},1032,["onClick"]),e.isDeleteAble(l)?((0,a.uX)(),(0,a.Wv)(re,{key:0,class:"q-pl-sm",name:"fa fa-times",onClick:t=>e.proceedToCloseTab(l)},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(he,{"context-menu":""},{default:(0,a.k6)((()=>[(0,a.bF)(be,null,{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(ce,{clickable:"",onClick:t=>e.copyToClipboard(l)},{default:(0,a.k6)((()=>[(0,a.bF)(ue,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("copy_to_clipboard")),1)])),_:1})])),_:2},1032,["onClick"])),[[$e]])])),_:2},1024)])),_:2},1024)])),_:2},1032,["name","data-name","label"])))),128))]),e.is_view_readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",E,[(0,a.bF)(ge,{po_columns_attr:e.po_table_columns+"_"+e.record.doc_type,onColumnsDataUpdated:e.updatePoTabs},null,8,["po_columns_attr","onColumnsDataUpdated"])]))])])),_:1},8,["modelValue"]),(0,a.bF)(ye),e.visible_columns&&Object.keys(e.visible_columns).length>0?((0,a.uX)(),(0,a.Wv)(Ce,{modelValue:e.tab,"onUpdate:modelValue":t[11]||(t[11]=t=>e.tab=t),key:e.tabsKey},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.po_items,((t,l)=>((0,a.uX)(),(0,a.Wv)(we,{key:l,name:l},{default:(0,a.k6)((()=>[(0,a.bF)(ke,{po_lines:t,po_number:l,visible_columns:e.visible_columns,allowPOTableDrag:e.allowPOTableDrag},null,8,["po_lines","po_number","visible_columns","allowPOTableDrag"])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])):(0,a.Q3)("",!0)],64)):((0,a.uX)(),(0,a.CE)("div",A,[(0,a.bF)(xe,{class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,(0,o.v_)(e.$t("no_po_line_items_found")),1)])])])),_:1})]))]),e.dragableItems&&e.dragableItems.length>0?((0,a.uX)(),(0,a.CE)("div",S,[(0,a.bF)(Ee,{class:"draggable-list",itemKey:"componentName",handle:".drag-handle",list:e.dragableItems,group:{name:"po-tables",pull:!1,put:!1},sort:!0,"ghost-class":"sortable__ghost",onChange:e.itemSorted},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.dragableItems,(l=>((0,a.uX)(),(0,a.CE)("div",{key:l.componentName,class:"full-width scrolle-y"},[D,(0,a.Lk)("div",I,[(0,a.Lk)("div",T,["LineItems"==l.componentName?((0,a.uX)(),(0,a.CE)("div",O,(0,o.v_)(e.setDisplayDocType(e.doc_type_key)),1)):((0,a.uX)(),(0,a.CE)("div",M,(0,o.v_)(l.title),1)),(0,a.Lk)("div",R,[(0,a.bF)(re,{name:"drag_indicator",class:"float-right secondary-c-text-grey text-h6 cursor-move drag-handle"}),"PO_CONVERTED_TABLE"===e.table_name&&"LineItems"==l.componentName?((0,a.uX)(),(0,a.Wv)(re,{key:0,name:"delete",class:"float-right secondary-c-text-grey text-h6 cursor-pointer",onClick:t[12]||(t[12]=t=>e.delete_table_confirmation=!0)},{default:(0,a.k6)((()=>[(0,a.bF)(le,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete_table")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),"PO_CONVERTED_TABLE"===e.table_name&&"LineItems"==l.componentName?((0,a.uX)(),(0,a.CE)("span",P,(0,o.v_)(e.$t("pages.messages.TABLE_FORMED_BY_PO")),1)):(0,a.Q3)("",!0)])])]),(0,a.bF)(ye),"LineItems"==l.componentName?((0,a.uX)(),(0,a.CE)("div",q,[(0,a.bF)(Le,{ref_for:!0,ref:"lineItemsPoV3",allowPOTableDrag:e.allowPOTableDrag},null,8,["allowPOTableDrag"])])):"RceiveDeliveryLines"==l.componentName?((0,a.uX)(),(0,a.CE)("div",V,[(0,a.bF)(Fe,{purchaseOrderNumber:e.tab,poItems:e.po_items},null,8,["purchaseOrderNumber","poItems"])])):(0,a.Q3)("",!0)])))),128))])),_:1},8,["list","onChange"])])):(0,a.Q3)("",!0)])])])])),separator:(0,a.k6)((()=>[(0,a.Lk)("div",N,[(0,a.bF)(Ae,{round:"",unelevated:"",size:"xs",icon:e.imageFieldSplitter>=90?"chevron_left":"chevron_right",class:"panel-expand-button highlighted-back shadow-2",onClick:t[13]||(t[13]=t=>e.toggleImageArea())},null,8,["icon"])]),(0,a.Lk)("div",B,[(0,a.bF)(re,{name:"drag_handle",size:"md",class:"icon-grey rotate-90"})])])),after:(0,a.k6)((()=>[(0,a.Lk)("div",$,[(0,a.Lk)("div",Q,[(0,a.bF)(Se,{renderOpenWindoIcon:!0,dynamicWidth:e.dynamicWidth,docName:e.record.filename,docImages:e.record.images},null,8,["dynamicWidth","docName","docImages"])])])])),_:1},8,["modelValue"])]))])]),(0,a.bF)(Me,{modelValue:e.showKeyboardShortcuts,"onUpdate:modelValue":t[17]||(t[17]=t=>e.showKeyboardShortcuts=t)},{default:(0,a.k6)((()=>[(0,a.bF)(Oe,null,{default:(0,a.k6)((()=>[(0,a.bF)(Ie),(0,a.bF)(Te,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(Ae,{flat:"",color:"primary",label:e.$t("close"),class:"float-right",style:{"font-weight":"900"},onClick:t[16]||(t[16]=t=>e.showKeyboardShortcuts=!1)},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Me,{modelValue:e.confirmDecision,"onUpdate:modelValue":t[20]||(t[20]=t=>e.confirmDecision=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(Oe,null,{default:(0,a.k6)((()=>[(0,a.bF)(Pe,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.bF)(Re,{icon:"info",color:"primary","text-color":"white"}),X])),_:1}),(0,a.bF)(Te,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(Ae,{flat:"",label:"Cancel",color:"primary"},null,512),[[$e]]),(0,a.bo)((0,a.bF)(Ae,{flat:"",label:"Close PO",color:"primary",onClick:t[18]||(t[18]=t=>e.setPOStatus("close"))},null,512),[[$e]]),(0,a.bo)((0,a.bF)(Ae,{flat:"",label:"Accept",color:"primary",onClick:t[19]||(t[19]=t=>e.setPOStatus("accept"))},null,512),[[$e]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Me,{modelValue:e.delete_tab_confirmation,"onUpdate:modelValue":t[23]||(t[23]=t=>e.delete_tab_confirmation=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(Oe,null,{default:(0,a.k6)((()=>[(0,a.bF)(Pe,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(Re,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(Pe,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",W,(0,o.v_)(e.$t("delete_po_tab")),1)])),_:1}),(0,a.bF)(Te,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(ae,{appearance:"cancel",label:e.$t("cancel"),onClick:t[21]||(t[21]=t=>e.delete_tab_po_number="")},null,8,["label"]),[[$e]]),(0,a.bo)((0,a.bF)(ae,{"data-cy":"done",label:e.$t("proceed"),onClick:t[22]||(t[22]=t=>e.deletePoTab())},null,8,["label"]),[[$e]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Me,{modelValue:e.delete_table_confirmation,"onUpdate:modelValue":t[25]||(t[25]=t=>e.delete_table_confirmation=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(Oe,null,{default:(0,a.k6)((()=>[(0,a.bF)(Pe,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(Re,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(Pe,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",K,(0,o.v_)(e.$t("delete_po_tab")),1)])),_:1}),(0,a.bF)(Te,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(ae,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[$e]]),(0,a.bo)((0,a.bF)(ae,{"data-cy":"done",label:e.$t("proceed"),onClick:t[24]||(t[24]=t=>e.deleteLineTable())},null,8,["label"]),[[$e]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(qe,{class:"main-loader",showing:e.processing,style:{"z-index":"2"}},{default:(0,a.k6)((()=>[U])),_:1},8,["showing"]),(0,a.bF)(Me,{modelValue:e.po_preview,"onUpdate:modelValue":t[26]||(t[26]=t=>e.po_preview=t),persistent:"","full-width":""},{default:(0,a.k6)((()=>[(0,a.bF)(Ve,{po_preview_columns:e.po_preview_columns,totalRecords:e.totalRecords,po_lines:e.po_preview_items,onClearSearch:e.clearSearch,onAddToPoItemsList:e.addToPoItemsList,onProceedPoSelection:e.proceedPoSelection,onDisplayAdvanceFilterResults:e.displayAdvanceFilterResults,onSearchPurchaseOrder:e.searchPurchaseOrder},null,8,["po_preview_columns","totalRecords","po_lines","onClearSearch","onAddToPoItemsList","onProceedPoSelection","onDisplayAdvanceFilterResults","onSearchPurchaseOrder"])])),_:1},8,["modelValue"]),(0,a.bF)(Me,{modelValue:e.showConfirmSyncDlg,"onUpdate:modelValue":t[28]||(t[28]=t=>e.showConfirmSyncDlg=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(Oe,null,{default:(0,a.k6)((()=>[(0,a.bF)(Be,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(Ne,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("confirm")),1)])),_:1}),(0,a.bo)((0,a.bF)(Ae,{flat:"",round:"",dense:"",icon:"close"},null,512),[[$e]])])),_:1}),(0,a.bF)(Pe,{class:"row items-center"},{default:(0,a.k6)((()=>[j])),_:1}),(0,a.bF)(Te,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(ae,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[$e]]),(0,a.bo)((0,a.bF)(ae,{label:e.$t("done"),onClick:t[27]||(t[27]=t=>e.refreshAlreadyAddedItem(e.poToRefresh))},null,8,["label"]),[[$e]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Me,{modelValue:e.showRouteLeaveConfirmation,"onUpdate:modelValue":t[30]||(t[30]=t=>e.showRouteLeaveConfirmation=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(Oe,null,{default:(0,a.k6)((()=>[(0,a.bF)(Be,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(Ne,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("confirm")),1)])),_:1}),(0,a.bo)((0,a.bF)(Ae,{flat:"",round:"",dense:"",icon:"close"},null,512),[[$e]])])),_:1}),(0,a.bF)(Pe,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",z,(0,o.v_)(e.$t("unsave_changes_warning")),1)])),_:1}),(0,a.bF)(Te,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(ae,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[$e]]),(0,a.bo)((0,a.bF)(ae,{label:e.$t("proceed_anyway"),onClick:t[29]||(t[29]=t=>e.proceedToRouteLeave())},null,8,["label"]),[[$e]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var G=l(82303),Y=l(53500),J=l(1659),Z=l(24622),ee=l(92162),te=l(60521),le=l(45938),ae=l(38734),oe=l(46162),ie=l(41498),se=l(64775),ne=l(39231);const re=e=>((0,a.Qi)("data-v-d40fe3fa"),e=e(),(0,a.jt)(),e),de=["src","onPointerover","onClick","onPointerleave"],ue=["innerHTML"],ce={class:"row q-ma-md border-dotted-1px max-width-240"},pe={class:"col-7 q-pb-sm"},he={class:"col-5 q-pb-sm q-pl-sm"},me={class:"col-7 q-pb-sm"},_e={class:"col-5 q-pb-sm q-pl-sm"},be={class:"col-12"},ve={class:"float-right"},ge=re((()=>(0,a.Lk)("div",{class:"text-left sub-table"},"No multi-match Information",-1))),fe={class:"compact-table-tr",style:{"z-index":"0"}},ye=re((()=>(0,a.Lk)("th",{class:"text-left"},null,-1))),ke={class:"text-right data-td"},we={class:"text-right data-td"},Ce={class:"text-right data-td"},xe={class:"text-right data-td"},Le=re((()=>(0,a.Lk)("th",{colspan:"20"},null,-1))),Fe={class:"text-left data-td"},Ee={class:"text-right data-td"},Ae={class:"text-right data-td"},Se={class:"text-right data-td"},De={class:"text-right data-td"},Ie=re((()=>(0,a.Lk)("td",{colspan:"20"},null,-1))),Te={class:"compact-table-tr"},Oe={class:"text-left data-td"},Me={key:0,class:"text-left data-td"},Re={class:"text-left data-td"},Pe={key:0},qe={key:1},Ve={class:"row q-pa-sm pr-12"},Ne=re((()=>(0,a.Lk)("div",{style:{width:"74%"}},null,-1))),Be={style:{width:"26%"}},$e={style:{float:"right"}},Qe={class:"row q-pa-sm pr-12"},Xe=re((()=>(0,a.Lk)("div",{style:{width:"74%"}},null,-1))),We={style:{width:"26%"}},Ke={style:{float:"right"}},Ue={key:0,class:"row q-pa-sm pr-12"},je=re((()=>(0,a.Lk)("div",{style:{width:"74%"}},null,-1))),ze={style:{width:"26%"}},He={style:{float:"right"}},Ge={class:"row q-pa-sm pr-12"},Ye={style:{width:"74%"}},Je={style:{width:"26%"}},Ze={style:{float:"right"}},et={class:"q-ml-sm"},tt={class:"q-ml-sm"},lt={class:"text-h6"},at={class:"text-h6"};function ot(e,t,l,s,n,r){const d=(0,a.g2)("ColumnFilterBadges"),u=(0,a.g2)("ColumnFilter"),c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-icon"),h=(0,a.g2)("q-th"),m=(0,a.g2)("q-tr"),_=(0,a.g2)("q-item-section"),b=(0,a.g2)("q-item"),v=(0,a.g2)("q-list"),g=(0,a.g2)("q-menu"),f=(0,a.g2)("q-img"),y=(0,a.g2)("f-btn"),k=(0,a.g2)("q-spinner"),w=(0,a.g2)("q-btn"),C=(0,a.g2)("q-td"),x=(0,a.g2)("q-input"),L=(0,a.g2)("q-select"),F=(0,a.g2)("q-markup-table"),E=(0,a.g2)("q-table"),A=(0,a.g2)("q-card-section"),S=(0,a.g2)("q-card-actions"),D=(0,a.g2)("q-card"),I=(0,a.g2)("q-dialog"),T=(0,a.g2)("q-avatar"),O=(0,a.g2)("Loader"),M=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[((0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)(["row q-pa-sm",!0===e.allowPOTableDrag?"po_table_drop_target":""]),key:e.renderKey},[(0,a.bF)(d,{class:"q-mb-sm",name:"InvoiceColumnFilter",onOnUpdateValue:t[0]||(t[0]=t=>{e.filterValueByField=Object.assign({},t)})}),e.hasLineItems()?((0,a.uX)(),(0,a.Wv)(E,{key:0,rows:e.filteredTableRows,columns:e.tableColumns,flat:"","row-key":"id","no-data-label":e.$t("pages.messages.no_record_found"),"rows-per-page-options":[0],id:e.tableId,ref:"el",class:"text-uppercase sticky-header transparent-header table_height resizable",style:{"table-layout":"fixed !important",width:"100%"}},{header:(0,a.k6)((l=>[(0,a.bF)(m,{props:l},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.cols,((s,n)=>{var r;return(0,a.uX)(),(0,a.Wv)(h,{key:s.name,props:l,class:"max-width-160",draggable:null!==(r=e.allowColumSorting)&&void 0!==r?r:e.allowedColumnSorting(s),dropzone:e.allowedColumnSorting(s),"data-index":n,direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.tableColumns,n),onDrop:(0,i.D$)((t=>e.handleDrop(t,n)),["prevent"]),onDragover:(0,i.D$)((t=>e.onDragOverWrapper(t,n,s.name)),["prevent"]),onDragenter:(0,i.D$)(e.onDragEnter,["prevent"]),onDragleave:(0,i.D$)(e.onDragLeave,["prevent"]),style:(0,o.Tr)({cursor:e.getIsDragging&&e.allowedColumnSorting(s)?"pointer":"move"})},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(s.label)+" ",1),s.label&&"Actions"!==s.label?((0,a.uX)(),(0,a.Wv)(u,{key:0,name:"InvoiceColumnFilter",persist:!0,column:s.name,onOnUpdateValue:t[1]||(t[1]=t=>{e.filterValueByField=Object.assign({},t)})},null,8,["column"])):(0,a.Q3)("",!0),s.error?((0,a.uX)(),(0,a.Wv)(p,{key:1,title:e.$t("pages.screen2b.in_valid_column_error"),name:"priority_high",class:"headerError"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.screen2b.in_valid_column_error")),1)])),_:1})])),_:1},8,["title"])):(0,a.Q3)("",!0)])),_:2},1032,["props","draggable","dropzone","data-index","onDragstart","onDrop","onDragover","onDragenter","onDragleave","style"])})),128))])),_:2},1032,["props"])])),body:(0,a.k6)((l=>[(0,a.bF)(m,{props:l,"data-id":l.key,class:(0,o.C4)(["compact-table-tr droptarget line-item-tr po_iterateable_item cursor-pointer",l.rowIndex%2==0?"":"alternative-row"]),tabindex:"0",onDrop:e.drop},{default:(0,a.k6)((()=>[e.record.editable&&!e.is_view_readonly&&e.po_line_id_for_match.length>0?((0,a.uX)(),(0,a.Wv)(g,{key:0,"touch-position":"","context-menu":""},{default:(0,a.k6)((()=>[(0,a.bF)(v,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(b,{clickable:"",onClick:t=>e.connectWithSelectedPo(l.key)},{default:(0,a.k6)((()=>[(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("connect")),1)])),_:1})])),_:2},1032,["onClick"])),[[M]])])),_:2},1024)])),_:2},1024)):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.cols,(i=>((0,a.uX)(),(0,a.CE)(a.FK,{key:i.name},[""===i.label?((0,a.uX)(),(0,a.Wv)(C,{key:0,"data-id":l.key,class:"secondary-c-text"},{default:(0,a.k6)((()=>[e.isChargesModuleEnabled?((0,a.uX)(),(0,a.Wv)(f,{key:0,src:"images/charges/charges.svg",height:"21px",width:"19px",class:(0,o.C4)([l.row.costingElements&&0!=l.row.costingElements.length?"cursor-pointer":"item-disabled","icon-grey-svg"]),onClick:e=>l.row.show_charges=!l.row.show_charges},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("charges")),1)])),_:1})])),_:2},1032,["class","onClick"])):(0,a.Q3)("",!0),(0,a.bF)(y,{appearance:"tertiary",onClick:e=>l.expand=!l.expand,icon:l.expand?"remove":"add"},null,8,["onClick","icon"]),e.isPurchaseOrderConnected(l.key)?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.bF)(p,{size:"sm",tabindex:"0",class:"cursor-pointer",onFocus:t=>e.showlineHighlighted(l.key),onBlur:t=>e.removedLineHighlight(l.key)},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{width:"20",src:e.getConnectionSvg(l.key),onPointerover:t=>e.showlineHighlighted(l.key),onClick:t=>e.scrollToHightlightedLine(l.key),onPointerleave:t=>e.removedLineHighlight(l.key)},null,40,de),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getConnectionTitle(l.key))+" ",1),(0,a.Lk)("div",{innerHTML:e.getConnectionStatusDetails(l.key)},null,8,ue)])),_:2},1024)])),_:2},1032,["onFocus","onBlur"]),e.blockProcessing?((0,a.uX)(),(0,a.Wv)(k,{key:0,color:"primary",size:"2em",thickness:5})):(0,a.Q3)("",!0),e.is_view_readonly||!e.is_po_view||e.blockProcessing?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(w,{key:1,flat:"",tabindex:"0",color:"blue",onClick:t=>e.removePOConnection(l.key,!1),icon:"fa fa-times"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("remove_po_connection")),1)])),_:1})])),_:2},1032,["onClick"]))],64)):(0,a.Q3)("",!0)])),_:2},1032,["data-id"])):"Actions"===i.label?((0,a.uX)(),(0,a.Wv)(C,{key:1,"data-id":l.key,class:"secondary-c-text"},{default:(0,a.k6)((()=>[e.doc_attributes[e.custom_range_for_po_tolerance]?((0,a.uX)(),(0,a.Wv)(w,{key:0,flat:"",rounded:"",icon:"img:icons/load_balanacer.svg"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("tolerance")),1)])),_:1}),e.is_view_readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(g,{key:0,fit:"",anchor:"bottom middle",onBeforeShow:t=>e.initToleranceForm(e.lineDataObj[l.key]["columns"]),self:"top middle",style:{"border-radius":"10px","box-shadow":"0 10px 44px 0 rgba(0, 0, 0, 0.07),0 2px 12px 0 rgba(0, 0, 0, 0.1),0 2px 4px 0 rgba(0, 0, 0, 0.04) !important"}},{default:(0,a.k6)((()=>[(0,a.Lk)("div",ce,[(0,a.Lk)("div",pe,[(0,a.bF)(x,{outlined:"",disable:e.is_view_readonly,modelValue:e.toleranceModel["quantity_tolerance"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.toleranceModel["quantity_tolerance"]=t),dense:"",label:e.$t("quantity_tolerance"),type:"number",rules:[t=>t>=1&&t<=100||e.toleranceModel["quantity_tolerance_type"]!=e.percent||e.$t("percentage_1_to_100")]},null,8,["disable","modelValue","label","rules"])]),(0,a.Lk)("div",he,[(0,a.bF)(L,{outlined:"",dense:"",disable:e.is_view_readonly,"emit-value":"","map-options":"",class:"back-white",label:e.$t("unit"),modelValue:e.toleranceModel["quantity_tolerance_type"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.toleranceModel["quantity_tolerance_type"]=t),options:e.po_tolerance_type},null,8,["disable","label","modelValue","options"])]),(0,a.Lk)("div",me,[(0,a.bF)(x,{disable:e.is_view_readonly,outlined:"",modelValue:e.toleranceModel["unit_price_tolerance"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.toleranceModel["unit_price_tolerance"]=t),dense:"",label:e.$t("unit_price_tolerance"),type:"number",rules:[t=>t>=1&&t<=100||e.toleranceModel["unit_price_tolerance_type"]!=e.percent||e.$t("percentage_1_to_100")]},null,8,["disable","modelValue","label","rules"])]),(0,a.Lk)("div",_e,[(0,a.bF)(L,{disable:e.is_view_readonly,outlined:"",dense:"","emit-value":"","map-options":"",class:"back-white",label:e.$t("unit"),modelValue:e.toleranceModel["unit_price_tolerance_type"],"onUpdate:modelValue":t[5]||(t[5]=t=>e.toleranceModel["unit_price_tolerance_type"]=t),options:e.po_tolerance_type},null,8,["disable","label","modelValue","options"])]),(0,a.Lk)("div",be,[(0,a.Lk)("span",ve,[e.is_view_readonly?(0,a.Q3)("",!0):(0,a.bo)(((0,a.uX)(),(0,a.Wv)(p,{key:0,name:"check_circle",size:"md",color:"positive",class:"cursor-pointer",onClick:t[6]||(t[6]=t=>e.saveToleranceLevel())},null,512)),[[M]]),e.is_view_readonly?(0,a.Q3)("",!0):(0,a.bo)(((0,a.uX)(),(0,a.Wv)(p,{key:1,name:"cancel",size:"md",color:"negative",class:"cursor-pointer"},null,512)),[[M]])])])])])),_:2},1032,["onBeforeShow"]))])),_:2},1024)):(0,a.Q3)("",!0),"PO_CONVERTED_TABLE"===e.table_name?((0,a.uX)(),(0,a.Wv)(p,{key:1,name:"delete",class:"float-right secondary-c-text-grey text-h6 cursor-pointer",onClick:t=>e.deleteLine(l.key)},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0)])),_:2},1032,["data-id"])):((0,a.uX)(),(0,a.Wv)(C,{key:2,class:"max-width-160 ellipsify","data-id":l.key,id:"input_"+i.name+"_"+l.key},{default:(0,a.k6)((()=>["PO_CONVERTED_TABLE"===e.table_name?((0,a.uX)(),(0,a.Wv)(x,{key:0,tabindex:"-1","data-id":l.key,class:(0,o.C4)("input-field "),borderless:"",readonly:!!e.is_view_readonly||"PO_CONVERTED_TABLE"!==e.table_name,modelValue:e.lineDataObj[l.key]["columns"][i.name].formatted_value,"onUpdate:modelValue":t=>e.lineDataObj[l.key]["columns"][i.name].formatted_value=t,onChange:t=>e.inputValueChanges(i.name,l.key)},null,8,["data-id","readonly","modelValue","onUpdate:modelValue","onChange"])):((0,a.uX)(),(0,a.CE)("div",{key:1,class:(0,o.C4)(e.number_column_types.includes(i.dataType.toLowerCase())?"float-right pr-32":"")},(0,o.v_)(e.lineDataObj[l.key]["columns"][i.name].formatted_value),3))])),_:2},1032,["data-id","id"]))],64)))),128))])),_:2},1032,["props","data-id","class","onDrop"]),(0,a.bo)((0,a.bF)(m,{props:l},{default:(0,a.k6)((()=>[!e.po_connected_items[l.key]||e.po_connected_items[l.key].hasOwnProperty("po_line_id")?((0,a.uX)(),(0,a.Wv)(C,{key:0,colspan:"100%",class:"sub-table-main-td"},{default:(0,a.k6)((()=>[ge])),_:1})):((0,a.uX)(),(0,a.Wv)(C,{key:1,colspan:"5",class:"sub-table-main-td"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"sub-table",style:{"table-layout":"fixed",width:"100%"}},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",fe,[ye,(0,a.Lk)("th",ke,(0,o.v_)(e.$t("line_number")),1),(0,a.Lk)("th",we,(0,o.v_)(e.$t("purchase_order")),1),(0,a.Lk)("th",Ce,(0,o.v_)(e.$t("quantity")),1),(0,a.Lk)("th",xe,(0,o.v_)(e.$t("unit_price")),1),Le])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.po_connected_items[l.key].sub_lines,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:t.po_line_id,class:(0,o.C4)(["compact-table-tr",l%2==0?"":"alternative-row"])},[(0,a.Lk)("td",Fe,[!e.is_view_readonly&&e.is_po_view?((0,a.uX)(),(0,a.Wv)(w,{key:0,flat:"",tabindex:"0",color:"blue",onClick:l=>e.removePOConnection(t.po_line_id,!0),icon:"fa fa-times"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("remove_po_connection")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0)]),(0,a.Lk)("td",Ee,(0,o.v_)(t.line_number),1),(0,a.Lk)("td",Ae,(0,o.v_)(t.purchase_order_number),1),(0,a.Lk)("td",Se,(0,o.v_)(e.getPoQuantity(e.PODataObj[t.po_line_id])),1),(0,a.Lk)("td",De,(0,o.v_)(e.getPoUnitPrice(e.PODataObj[t.po_line_id])),1),Ie],2)))),128))])])),_:2},1024)])),_:2},1024))])),_:2},1032,["props"]),[[i.aG,l.expand]]),(0,a.bo)((0,a.bF)(m,{props:l},{default:(0,a.k6)((()=>[(0,a.bF)(C,{colspan:"100",class:"sub-table-main-td"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"sub-table gray-border"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",Te,[(0,a.Lk)("th",Oe,(0,o.v_)(e.$t("charge_id")),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tableColumns,((e,t)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t},[e.label?((0,a.uX)(),(0,a.CE)("th",Me,(0,o.v_)(e.label),1)):(0,a.Q3)("",!0)],64)))),128))])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.row.costingElements,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t.line_number},[t.costing_element?((0,a.uX)(),(0,a.CE)("tr",{key:0,class:(0,o.C4)(+l%2==0?"":"alternative-row")},[(0,a.Lk)("td",Re,[(0,a.bF)(p,{name:"img:images/charges/"+e.costingElementDictionary[t.costing_element].icon,size:"xs",class:"q-mr-sm icon-grey-svg"},null,8,["name"]),(0,a.Lk)("span",null,(0,o.v_)(t.costing_element),1)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tableColumns,((l,i)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:i},[l.label&&t[l.name]?((0,a.uX)(),(0,a.CE)("td",{key:0,class:(0,o.C4)(["data-td",e.getColumnAlignment(l)])},(0,o.v_)(t[l.name].formatted_value),3)):(0,a.Q3)("",!0)],64)))),128))],2)):(0,a.Q3)("",!0)],64)))),128))])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"]),[[i.aG,l.row.show_charges]])])),_:1},8,["rows","columns","no-data-label","id"])):((0,a.uX)(),(0,a.Wv)(F,{key:1,style:{height:"'200px'"},class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[!1===e.lineItemsloading?((0,a.uX)(),(0,a.CE)("tr",Pe,[(0,a.Lk)("th",null,(0,o.v_)(e.$t("no_line_items_found")),1)])):(0,a.Q3)("",!0),!0===e.lineItemsloading?((0,a.uX)(),(0,a.CE)("tr",qe,[(0,a.Lk)("th",null,[(0,a.bF)(k,{color:"primary",size:"3em",thickness:10})])])):(0,a.Q3)("",!0)])])),_:1}))],2)),e.hasLineItems()?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",Ve,[Ne,(0,a.Lk)("div",Be,[(0,a.Lk)("span",null,(0,o.v_)(e.$t("recorded_bookings"))+": ",1),(0,a.Lk)("span",$e,(0,o.v_)(e.total_net_amount),1)])]),(0,a.Lk)("div",Qe,[Xe,(0,a.Lk)("div",We,[(0,a.Lk)("span",null,(0,o.v_)(e.$t("matched_total"))+": ",1),(0,a.Lk)("span",Ke,(0,o.v_)(e.matched_total_amount),1)])]),e.isChargesModuleEnabled?((0,a.uX)(),(0,a.CE)("div",Ue,[je,(0,a.Lk)("div",ze,[(0,a.Lk)("span",null,(0,o.v_)(e.$t("charges"))+": ",1),(0,a.Lk)("span",He,(0,o.v_)(e.charges_amount),1)])])):(0,a.Q3)("",!0),(0,a.Lk)("div",Ge,[(0,a.Lk)("div",Ye,[e.amount_error?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"20px",color:"red",class:"q-ml-sm",style:{float:"right"}},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red",anchor:"bottom right",self:"top right"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("total_amount_not_equal_to_line_items")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Je,[(0,a.Lk)("span",null,(0,o.v_)(e.$t("unsettled_amount"))+": ",1),(0,a.Lk)("span",Ze,(0,o.v_)(e.pending_amount),1)])])],64)):(0,a.Q3)("",!0),(0,a.bF)(I,{modelValue:e.confirmDialog,"onUpdate:modelValue":t[7]||(t[7]=t=>e.confirmDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(D,null,{default:(0,a.k6)((()=>[(0,a.bF)(A,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",et,(0,o.v_)(e.$t("line_items_connection_overwrite")),1)])),_:1}),(0,a.bF)(S,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(w,{flat:"",label:"Cancel",color:"primary"},null,512),[[M]]),(0,a.bF)(w,{flat:"",label:"Connect anyway",color:"primary",onClick:e.removeExistingAndConnectNewPO},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(I,{modelValue:e.poEditRestrictDialog,"onUpdate:modelValue":t[10]||(t[10]=t=>e.poEditRestrictDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(D,null,{default:(0,a.k6)((()=>[(0,a.bF)(A,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(T,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(A,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",tt,(0,o.v_)(e.poEditRestrictMessage),1)])),_:1}),!0!==e.apiData.ext_table_train?((0,a.uX)(),(0,a.Wv)(S,{key:0,align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(w,{flat:"",label:e.$t("dashboard"),color:"primary",onClick:t[8]||(t[8]=t=>e.goToDashboard())},null,8,["label"]),(0,a.bF)(w,{flat:"",label:e.$t("table_extraction_view"),color:"primary",onClick:t[9]||(t[9]=t=>e.goTolineItemsPage())},null,8,["label"])])),_:1})):(0,a.Q3)("",!0)])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(I,{modelValue:e.connectConfirmation,"onUpdate:modelValue":t[13]||(t[13]=t=>e.connectConfirmation=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(D,null,{default:(0,a.k6)((()=>[(0,a.bF)(A,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",lt,(0,o.v_)(e.$t("confirm")),1)])),_:1}),(0,a.bF)(A,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.messages.CONNECTION_MISMATCHED",{properties:e.misMatchedProperties})),1)])),_:1}),(0,a.bF)(S,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{appearance:"cancel",label:e.$t("cancel"),onClick:t[11]||(t[11]=t=>{e.connectConfirmation=!1,e.setConnectedLineItems(!0)})},null,8,["label"]),(0,a.bF)(y,{label:e.$t("proceed"),onClick:t[12]||(t[12]=t=>{e.connectConfirmation=!1,e.saveChanges()})},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(I,{modelValue:e.showOverrideTableConfirm,"onUpdate:modelValue":t[16]||(t[16]=t=>e.showOverrideTableConfirm=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(D,null,{default:(0,a.k6)((()=>[(0,a.bF)(A,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",at,(0,o.v_)(e.$t("confirm")),1)])),_:1}),(0,a.bF)(A,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.messages.TABLE_OVERRIDE_CONFIRM")),1)])),_:1}),(0,a.bF)(S,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(y,{appearance:"cancel",label:e.$t("cancel"),onClick:t[14]||(t[14]=t=>e.cancelTableDrop())},null,8,["label"]),[[M]]),(0,a.bo)((0,a.bF)(y,{label:e.$t("proceed"),onClick:t[15]||(t[15]=t=>e.prepareTableFromDropedSource())},null,8,["label"]),[[M]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(O)],64)}var it=l(46736),st=l(96056),nt=l(89156),rt=l(18505),dt=l(41903),ut=l(11470),ct=l(57366),pt=l(86633),ht=l(51476),mt=l(10739),_t=l(36801),bt=l(64471),vt=l(25891),gt=l(68450),ft=l(82080),yt=l(83319),kt=l(76956),wt=l(91298),Ct=l(88952),xt=l(69323),Lt=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};let Ft=new Map;const Et=(0,a.pM)({el:"#app",mixins:[pt.A,rt.A,st.A,Z.A,ft.A,ct.A,vt.A,it.A,mt.A,bt.A],props:{allowPOTableDrag:{type:Boolean,default:!1}},updated(){let e=this.user_settings.LINE_ITEM_TABLE_SETTING,t=200;e&&(e=JSON.parse(e),t=e.height);const l=document.getElementById(this.tableId);l&&(t<200&&(t=200),l.style.height=t+"px")},components:{Loader:nt.A,ColumnFilter:Ct.A,ColumnFilterBadges:xt.A},data(){return{docId:"",renderKey:0,is_po_view:!1,po_dragging:!1,validation_done:!0,confirmDialog:(0,ae.KR)(!1),dragging_data:{},coveredLineItem:[],blockProcessing:(0,ae.KR)(!1),connected_line_item:"",misMatchedProperties:"",misMatchedList:[],percent:kt.aH.percent,po_tolerance_type:kt.d6,custom_range_for_po_tolerance:kt.aH.custom_range_for_po_tolerance,number_column_types:kt.F_,AI_table_extraction_setting:kt.N1,filterValueByField:(0,ae.KR)({}),indexToMove:(0,ae.KR)(),line_table_columns:kt.iS,tableId:"line_item_table"}},computed:{filteredTableRows(){return this.filterByObject(this.tableRows,this.filterValueByField)}},mounted:function(){return Lt(this,void 0,void 0,(function*(){document.addEventListener("init_line_items",this.lineItemDataLoaded),document.addEventListener("line_item_table-column-drop",this.savedSortedColumns),this.isViewPo(),window.lineItemsPoV3=this,yield this.init(),document.addEventListener("dragover",this.dragover),document.addEventListener("keydown",this.keyDownEvent),this.initailizeDragColumnsById(this.tableId),this.initTableColumnResize(this.tableId)}))},unmounted:function(){document.removeEventListener("init_line_items",this.lineItemDataLoaded),document.removeEventListener("line_item_table-column-drop",this.savedSortedColumns),document.removeEventListener("dragover",this.dragover),document.removeEventListener("keydown",this.keyDownEvent)},methods:{init(){return Lt(this,void 0,void 0,(function*(){this.checkAITableSetting(),this.user_settings[kt.lZ]&&(yield this.prepareCostingElementDictionary())}))},onDragOverWrapper(e,t,l){"id"!=l&&"action_column"!=l&&this.onDragOver(e,t)},allowedColumnSorting(e){return"id"!==e.name&&"action_column"!==e.name},getColumnAlignment(e){return e.dataType?kt.F_.includes(e.dataType.toLowerCase())?"text-right":void 0:""},dragover(e){e.preventDefault()},drop(e){if(e.preventDefault(),!e.target||this.is_view_readonly)return;let t=e.target;if(!0===this.allowPOTableDrag){let e=!1;return t.classList.contains("po_table_drop_target")&&(e=!0),!e&&t.closest(".po_table_drop_target")&&(e=!0),void(e&&(this.hasLineItems()?this.showOverrideTableConfirm=!0:this.prepareTableFromDropedSource()))}let l="",a=e.target.closest("td");l=a?a.dataset.id:e.target.dataset.id;var o=e.target.closest("tr");("tr"!=t.tagName||"droptarget"!=t.className)&&o&&o.className&&"droptarget"==o.className&&(l=o.dataset.id),l&&this.connectWithSelectedPo(l)},connectWithSelectedPo(e){if(0!=this.po_line_id_for_match.length&&this.po_line_for_match){for(let t of this.po_line_id_for_match){if(this.line_connected_items.hasOwnProperty(t)&&this.po_connected_items.hasOwnProperty(e))return void this.showErrorToast("One of selected Po Item and Line Item are already Mapped");let l=this.PODataObj[t],a=this.getPoQuantity(l);if(0==a)return void this.showErrorToast("Can not proceed as one of open quantity is zero");this.makeConnection(e,l)}"success"===this.poConnectionData.connection_status?this.saveChanges():this.connectConfirmation=!0,this.po_line_id_for_match=[],this.po_line_for_match=[]}},prepareTableFromDropedSource(){let e=dt.A.getItem("DRAG_PO_NUMBER");dt.A.remove("DRAG_PO_NUMBER"),this.tableConversionHandler(e)},cancelTableDrop(){dt.A.remove("DRAG_PO_NUMBER");const e=new CustomEvent("table_drag_mode_flag_update",{detail:!0});document.dispatchEvent(e)},makeConnectionAndsave(e,t){this.makeConnection(e,t),this.saveChanges()},makeConnection(e,t){if(!e)return void logError("id missing for line item, cannot connect with po");if(this.coveredLineItem=this.lineDataObj[e],this.dragging_data=t,this.targetItem={},!this.coveredLineItem)return;let l=["UNIT_PRICE","QUANTITY","TOTAL_AMOUNT","ITEM_NUMBER","SUPPLIER_ITEM_NUMBER","PURCHASE_ORDER","NET_AMOUNT","UNIT_PRICE_PER"];for(let[a,[o,i]]of Object.entries(Object.entries(this.coveredLineItem.columns)))l.includes(o)&&(this.targetItem[o]={formatted:Object(i).formatted_value,value:Object(i).value});this.targetItem["UUID"]={formatted:this.coveredLineItem.id,value:this.coveredLineItem.id},this.targetItem.UUID.value&&this.proceedMakingConnection(e)},proceedMakingConnection(e){this.is_view_readonly||(this.connected_line_item=e,this.connectNewPORecord(),this.renderKey++)},dragenter(e){var t=e.target.closest("tr");"tr"==e.target.tagName&&"droptarget"==e.target.className||t&&t.className&&t.className},lineItemDataLoaded(e){if(!e||!e.detail)return;this.lineItemsloading=!1;let t=e.detail;this.resetRows(),this.apiData=t,this.docId=this.apiData&&this.apiData.doc_id?this.apiData.doc_id:"",this.refactorApiData(),this.triggerLineItemDataLoadedEvent()},triggerLineItemDataLoadedEvent(){const e=new CustomEvent("line_items_loaded",{});document.dispatchEvent(e)},savedSortedColumns(){const e=[];this.tableColumns=JSON.parse(JSON.stringify(this.tableColumns)),this.tableColumns.forEach(((t,l)=>{e[t.name]=t,e[t.name]&&(e[t.name]["org_index"]=l)})),this.updatedLineColumns(this.tableColumns)},updatedLineColumns(e){return Lt(this,void 0,void 0,(function*(){try{this.showLoading();let t=this.line_table_columns+"_"+this.doctype;yield this.updateSetting(t,JSON.stringify(e))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.hideLoading()}}))},resetRows(){this.tableRows=[],this.lineDataObj={}},refactorApiData(){this.is_ai_table=this.isAI_TableExit(this.apiData),this.setFormatOptions(),this.table_name=this.apiData.tables&&this.apiData.tables.length>0&&this.apiData.tables[0].hasOwnProperty("name")?this.apiData.tables[0].name:"",this.prepareTableLayoutObj(),this.getTableColumns(),this.sortTableColumns(),this.prepareTableRowsAndRowObj(),this.validateLineItemColumns(),this.restrictPOEditIfNotValidated(),this.setConnectedLineItems(!1)},sortTableColumns(){return Lt(this,void 0,void 0,(function*(){if(yield this.sortTableColumn(),"PO_CONVERTED_TABLE"===this.table_name||this.doc_attributes[this.custom_range_for_po_tolerance]){const e={name:"action_column",field:"action_column",align:"left",label:"Actions",is_mapped:!1,org_index:""};this.tableColumns.push(e)}}))},callAutoMatch(){const e=new CustomEvent("trigger_auto_match",{});document.dispatchEvent(e)},prepareTableRowsAndRowObj(){this.tableRows=[],this.lineDataObj={};let e={},t={};this.apiData.tables&&0!=this.apiData.tables.length&&this.apiData.tables[0].hasOwnProperty("rows")&&0!=this.apiData.tables[0].rows.length&&(Array.from(this.apiData.tables[0].rows).forEach((l=>{if(!1===l.is_deleted)if(l.parent_id){let e={};Array.from(l.columns).forEach((t=>{e[t.name]={},e[t.name].formatted_value=t.formatted_value,e[t.name].value=t.value})),e["costing_element"]=l.costing_element,t.hasOwnProperty(l.parent_id)||(t[l.parent_id]=[]),t[l.parent_id].push(e)}else{let t={};e[l.id]=JSON.parse(JSON.stringify(l)),e[l.id].locations_list=[],l.locations_list&&Array.from(l.locations_list).forEach((t=>{e[l.id].locations_list["page_"+t.page]=t})),delete e[l.id].columns,e[l.id]["columns"]=[],Array.from(l.columns).forEach((a=>{e[l.id].columns[a.name]=JSON.parse(JSON.stringify(a)),e[l.id].columns[a.name].locations_list=[],a.locations_list&&Array.from(a.locations_list).forEach((t=>{e[l.id].columns[a.name].locations_list["page_"+t.page]=t})),(0,gt.z)(a.formatted_value)&&(a.formatted_value=""),t[a.name]=a.formatted_value,this.prepareMapOfColumnHavingData(a)})),this.addExtraColumnsInRow(e,t,l.id),t["id"]=l.id,t["show_charges"]=!1;const a=l.hasOwnProperty("is_additional_cost")&&!0===l.is_additional_cost;a||this.tableRows.push(t)}})),Object.assign(this.lineDataObj,e),this.setTotallineItem(),this.setCostingRows(t),this.calculateMatchedTotal())},setCostingRows(e){for(let t of this.tableRows)e.hasOwnProperty(t.id)&&(t.costingElements=e[t.id],this.lineDataObj[t.id]["costingElements"]=e[t.id])},prepareMapOfColumnHavingData(e){Ft.has(e.name)?!1===Ft.get(e.name)&&e.formatted_value&&null!=e.formatted_value&&""!=e.formatted_value&&Ft.set(e.name,!0):e.formatted_value&&null!=e.formatted_value&&""!=e.formatted_value?Ft.set(e.name,!0):Ft.set(e.name,!1)},addExtraColumnsInRow(e,t,l){for(let a of this.layoutExtraColumns){let o={name:a,value:"",content:"",locations:[],locations_list:[],formatted_value:"",is_extra_column:!0};e[l].columns[a]=o,Ft.set(a,!1),t[a]=""}},sortTableColumn(){return Lt(this,void 0,void 0,(function*(){let e=yield this.getColumns(this.line_table_columns+"_"+this.doctype);if(e){let t,l;const a=[],o=[];if(this.tableColumns.forEach(((i,s)=>{"id"===i.name&&(t=s),"action_column"===i.name&&(l=s);const n=e.find((e=>e.name===i.name));n?a.push(n):o.push(i)})),o&&o.length>0){const e=a.length;o.forEach(((t,l)=>{a.push(Object.assign(Object.assign({},t),{org_index:e+parseInt(t.org_index)}))}))}this.tableColumns=a.sort(((e,t)=>e.org_index-t.org_index));let i={name:"id",field:"id",align:"left",label:"",is_mapped:!1,org_index:""};return t?(this.tableColumns.splice(t,1),this.tableColumns.unshift(i)):this.tableColumns.unshift(i),void(l&&this.tableColumns.splice(l,1))}let t=JSON.parse(JSON.stringify(this.tableColumns)),l=[];this.tableColumns=[],Array.from(t).forEach(((e,t)=>{1!=this.hasOriginalIndex(e.org_index,e)&&Ft.has(e.name)&&!1===Ft.get(e.name)?l.push(Object.assign({},e)):this.tableColumns.push(Object.assign({},e))})),l.sort(((e,t)=>{let l=e.field.toLowerCase(),a=t.field.toLowerCase();return l<a?-1:l>a?1:0}));let a={name:"id",field:"id",align:"left",label:"",is_mapped:!1,org_index:""};this.tableColumns.unshift(a),Array.from(l).forEach(((e,t)=>{this.tableColumns.push(Object.assign({},e))}))}))},validateLineItemColumns(){let e=!1;if(void 0===this.tableColumns)return;for(const l of this.tableColumns){let t=this.isColumnNameValid(l);t||(l.error=!0,e=!0)}let t=!e;this.validation_done!==t&&(this.validation_done=t)},hasOriginalIndex(e,t){let l=!1;return""!==e&&(l=!0),l},restrictPOEditIfNotValidated(){this.is_po_view&&(this.validation_done&&this.hasLineItems()||(this.validation_done||(this.poEditRestrictMessage=this.prepareEditRestrictMessage()),this.hasLineItems()&&(this.poEditRestrictDialog=!0)))},prepareEditRestrictMessage(){let e=this.$t("po_restrict_message");const t=[];for(const l of this.tableColumns)l.error&&t.push(l.label);return 0===t.length?(e=this.$t("po_restrict_message_not_mapped"),e):e.replace(/%%column%%/g,t.join(", "))},isPurchaseOrderConnected(e){return!(!this.po_connected_items.hasOwnProperty(e)&&!this.line_connected_items.hasOwnProperty(e))},connectNewPORecord(){let e={},t=this.setPoConnectionStatus(this.targetItem,this.dragging_data);this.po_connected_items.hasOwnProperty(this.targetItem.UUID.value)?(e=JSON.parse(JSON.stringify(this.po_connected_items[this.targetItem.UUID.value])),e=this.MultiPoToOneLine(e,t),this.po_connected_items[this.targetItem.UUID.value]=e):this.line_connected_items.hasOwnProperty(this.dragging_data.id)?(e=JSON.parse(JSON.stringify(this.line_connected_items[this.dragging_data.id])),this.OnePoToMultiLine(e,t),this.line_connected_items[this.dragging_data.id]=e):(e=this.createNewPoMatchObj(t),this.po_connected_items[this.targetItem.UUID.value]=e),this.poConnectionData=e},createNewPoMatchObj(e){let t={table_line_id:this.targetItem.UUID.value,matching_info:e.matching_info,connection_status:e.connection_status,connection_details:e.connection_details,po_line_id:this.dragging_data.id};for(let[l,a]of Object.entries(this.dragging_data))kt.gb.includes(l)&&(t[l]=null===a?"":String(a));return t["unit_code_price"]=this.getUnitCodePrice(t.po_line_id),t["currency_format"]="en_US",t["quantity"]=this.getlineDataColumn(t.table_line_id,"QUANTITY"),this.isNumeric(t["quantity"])||(t["quantity"]=0),t["unit_price"]=this.getlineDataColumn(t.table_line_id,"UNIT_PRICE"),this.isNumeric(t["unit_price"])||(t["unit_price"]=0),e.matching_info.UNIT_PRICE.hasOwnProperty("unit_price_discounted")&&(t["unit_price_discounted"]=e.matching_info.UNIT_PRICE.unit_price_discounted),this.lineDataObj[t.table_line_id].columns.hasOwnProperty("UNIT_PRICE_PER")?(t["unit_price_per"]=this.lineDataObj[t.table_line_id].columns.UNIT_PRICE_PER.value,this.isNumeric(t["quantity"])||(t["unit_price_per"]=0)):t["unit_price_per"]="1.00",e.matching_info.hasOwnProperty("PACKET_MATCH")&&(t["packet_size"]=e.matching_info.PACKET_MATCH.packet_size),t},OnePoToMultiLine(e,t){e.hasOwnProperty("table_line_ids")||(e.table_line_ids=[],e.table_lines=[],e.table_line_ids.push(e.table_line_id),e.table_lines.push({table_line_id:e.table_line_id,quantity:Number(e.quantity),matching_info:null}),delete e.table_line_id,delete e.matching_info),e.table_line_ids.push(this.targetItem.UUID.value);let l=this.targetItem.QUANTITY?this.targetItem.QUANTITY.value:"";e.table_lines.push({table_line_id:this.targetItem.UUID.value,quantity:Number(l),matching_info:null});let a=0;for(let[o,i]of e.table_lines.entries()){const e=this.lineDataObj[i.table_line_id].columns.QUANTITY.value;a+=+e}e["unit_code_price"]=this.getUnitCodePrice(e.po_line_id),e.quantity=a,e.connection_details=t.connection_details,e.connection_status=t.connection_status},MultiPoToOneLine(e,t){let l="";if(!e.hasOwnProperty("sub_lines")){e.connection_details&&(l=e.connection_details);let t={table_line_id:e.table_line_id,currency_format:e.currency_format,connection_status:e.connection_status,sub_lines:[]};delete e.matching_info,delete e.table_line_id,delete e.currency_format,delete e.connection_status,delete e.connection_details,this.lineDataObj[t.table_line_id].columns.hasOwnProperty("UNIT_PRICE_PER")?e["unit_price_per"]=this.lineDataObj[t.table_line_id].columns.UNIT_PRICE_PER.value:e["unit_price_per"]="1.00",e["unit_code_price"]=this.getUnitCodePrice(e.po_line_id),t.sub_lines.push(JSON.parse(JSON.stringify(e))),e=t}let a=this.createNewPoMatchObj(t);return delete a.matching_info,delete a.table_line_id,delete a.currency_format,delete a.connection_status,delete a.connection_details,e.connection_status=t.connection_status,e.connection_details=t.connection_details,l&&l.includes("item_number")&&(e.connection_details+=","+this.$t("item_number")),e.sub_lines.push(a),this.calculateQuantityforSubLines(e),e},calculateQuantityforSubLines(e){let t=0,l=0;for(let[s,n]of e.sub_lines.entries()){const e=this.PODataObj[n.po_line_id];let l=this.getPoQuantity(e);t+=+l}const a=this.getlineDataColumn(e.table_line_id,"QUANTITY");let o=[];for(let[s,n]of e.sub_lines.entries()){const e=this.PODataObj[n.po_line_id];let i=this.getPoQuantity(e);const s=i/t*Number(a);if(s.toString().includes(".")){let[e,t]=s.toString().split(".");o.push(Number(e)),l+=Number("0."+t)}else o.push(s)}let i=l;for(let[s,n]of e.sub_lines.entries()){const e=this.PODataObj[n.po_line_id];let a=this.getPoQuantity(e);const r=a/t*l;i-=r,n.quantity=(o[s]+r).toFixed()}},isPOColumnAvailable(e,t){let l=!1;if(this.tableColumns.length>0)for(let a of this.tableColumns)a.name.toLowerCase()===t.toLowerCase()&&(l=!0);return!!l&&!!this.PODataObj[e].hasOwnProperty(t)},getUnitCodePrice(e){let t="";return this.PODataObj.hasOwnProperty(e)?(this.PODataObj[e].hasOwnProperty("unit_code_price")?t=this.PODataObj[e].unit_code_price:this.PODataObj[e].hasOwnProperty("unit_code")&&(t=this.PODataObj[e].unit_code),t):t},getLineItemQuantity(e){let t="quantity",l=this.apiData.doc_type+"_QUANTITY_COL";const a=(0,_t.PL)(l);return void 0!==a&&""!==a&&(t=a),String(e[t])},getLineItemQuantityColumn(){let e="quantity",t=this.apiData.doc_type+"_QUANTITY_COL";const l=(0,_t.PL)(t);return void 0!==l&&""!==l&&(e=l),e},matchPoNumber(e,t){let l=!0;if(this.isLineColumnAvailable(e,"PURCHASE_ORDER")&&t.hasOwnProperty("purchase_order_number")){const a=e.PURCHASE_ORDER.value,o=t.purchase_order_number;a&&o&&this.notEqual(a,o)&&(this.misMatchedList.push(this.$t("purchase_order_number")),l=!1)}else this.isLineColumnAvailable(e,"PURCHASE_ORDER")&&(this.misMatchedList.push(this.$t("purchase_order_number")),l=!1);return l},matchItemNumber(e,t){const l={is_matched:!0};let a=!1;const o=this.isLineColumnAvailable(e,"SUPPLIER_ITEM_NUMBER"),i=this.isLineColumnAvailable(e,"ITEM_NUMBER");if(!o&&!i)return l["is_matched"]=a,this.misMatchedList.push(this.$t("pages.screen2a.supplier_number")+" / "+this.$t("pages.screen2a.item_number")),l;const s=(0,gt.$U)(t.item_id||"").toLowerCase(),n=(0,gt.$U)(i&&e.ITEM_NUMBER.value||"").toLowerCase(),r=(0,gt.$U)(t.supplier_item_id||"").toLowerCase(),d=(0,gt.$U)(o?e.SUPPLIER_ITEM_NUMBER.value:"").toLowerCase();return l["actual"]=n,l["expected"]=s,n&&s&&!this.notEqual(n,s)?a=!0:d&&r&&!this.notEqual(d,r)?(l["actual"]=d,l["expected"]=r,a=!0):d&&s&&!this.notEqual(d,s)?(l["actual"]=d,l["expected"]=s,a=!0):n&&r&&!this.notEqual(n,r)?(l["actual"]=n,l["expected"]=r,a=!0):this.po_supplier_item_numbers[s]&&this.po_supplier_item_numbers[s][n]?a=!0:(a=!1,this.misMatchedList.push(this.$t("pages.screen2a.supplier_number")+" / "+this.$t("pages.screen2a.item_number"))),l["actual"]||(l["actual"]="N/A",a=!1),l["expected"]||(l["expected"]="N/A",a=!1),l["is_matched"]=a,l},setPoConnectionStatus(e,t){let l={QUANTITY:{},UNIT_PRICE:{},PACKET_MATCH:{},ITEM_NUMBER:{}};this.misMatchedList=[];let a="success";const o=e.ITEM_NUMBER?e.ITEM_NUMBER.value:"";let i=e.SUPPLIER_ITEM_NUMBER?e.SUPPLIER_ITEM_NUMBER.value:"",s=this.cleanItemNumber(o);i=this.cleanItemNumber(i),this.fillToleranceModel(s,i);const n=this.checkTableExtraColumnsStatus(e,t);if(Object.keys(n.matching_info).length>=0&&(n.match||(a="mismatch"),Object.assign(l,n.matching_info)),!this.po_connected_items.hasOwnProperty(this.targetItem.UUID.value)&&!this.line_connected_items.hasOwnProperty(t.id)){const o=this.matchItemNumber(e,t),i=o.is_matched;if(i||(a="mismatch",l.ITEM_NUMBER=o),i&&this.apiData.doc_type!=kt.aH.DELIVERY_NOTE){const o=this.matchByPacket(e,t);if(o.match){l.PACKET_MATCH=o.matching_info;const e={matching_info:l,connection_status:a,connection_details:this.misMatchedProperties};return e}}}const r=this.checkQuantityStatus(e,t);if(l.QUANTITY=r.match_obj,r.match||(a="mismatch"),this.apiData.doc_type!=kt.aH.DELIVERY_NOTE){const o=this.checkUnitPriceStatus(e,t);o.match||(a="mismatch"),l.UNIT_PRICE=o.match_obj}this.misMatchedProperties=this.misMatchedList.join(", ");const d={matching_info:l,connection_status:a,connection_details:this.misMatchedProperties};return d},isWholeNumber(e){return Number.isInteger(e)},matchByPacket(e,t){const l=this.getPoQuantity(t),a=this.getLineQuantity(e);let o=!1,i=!1,s=1,n={};if((0,gt.z)(l)||(0,gt.z)(a))return{match:o,matching_info:{}};if(s=l/a,s<1&&(i=!0,s=a/l),!1===this.isWholeNumber(s))return{match:o,matching_info:{}};i&&(s=1/s);const r=this.getPoUnitPrice(t),d=this.getLineUnitPrice(e),u=d/s,c=this.toleranceModel["unit_price_tolerance_type"]==this.percent,p=this.matchValues(u,r,this.toleranceModel.unit_price_tolerance,c);return p||(o=!0),n={expected:u,actual:d,packet_size:s},{match:o,matching_info:n}},checkUnitPriceStatus(e,t){try{let l=!0;const a={};let o=this.getPoUnitPrice(t),i=this.getLineUnitPrice(e),s=this.getDiscountedPrice({table_line_id:e.UUID.value},i);if(this.notEqualAmount(s,i)&&(a["unit_price_discounted"]=s,i=s),this.po_connected_items.hasOwnProperty(this.targetItem.UUID.value)){let e=this.getPoQuantity(t);o=this.getManyPoToOneLine_UnitPrice(this.targetItem.UUID.value,Number(o),e)}else if(this.line_connected_items.hasOwnProperty(t.id)){let l=this.getLineQuantity(e);i=this.getOnePoToManyTableLine_UnitPrice(t.id,Number(i),Number(l))}let n=this.toleranceModel["unit_price_tolerance_type"]==this.percent,r=this.matchValues(o,i,this.toleranceModel.unit_price_tolerance,n);r&&(l=!1,this.misMatchedList.push(this.$t("unit_price")));const d=this.getMatchingInfo(!r,o,i,this.toleranceModel.unit_price_tolerance,n,a);return{match:l,match_obj:d}}catch(l){this.showErrorToast(this.$t("check_unit_price_column")),logError("error",l)}},checkTableExtraColumnsStatus(e,t){let l={},a=!0;const o=kt.aH.TABLE_EXTRA_COLUMNS_+this.apiData.doc_type,i=this.user_settings[o];if(!i)return{match:a,matching_info:l};const s=JSON.parse(i);if(!s||0==s.length)return{match:a,matching_info:l};for(let n of s){const o=this.getlineDataColumn(e.UUID.value,n.line_column);if(n.line_column.toLowerCase().includes("date")){const e=this.formatDateWithPattern(o,kt.yt.date_only),i=this.formatDateWithPattern(t[n.po_column],kt.yt.date_only);0!=this.dateDifferenceInDays(e,i)&&(a=!1,this.misMatchedList.push(this.$t(n.line_column))),l[n.line_column]=this.getMatchingInfoForString(a,i,e)}else a=this.matchValues(t[n.po_column],o,0,!1),a=!a,l[n.line_column]=this.getMatchingInfo(a,t[n.po_column],o,0,!1)}return{match:a,matching_info:l}},getManyPoToOneLine_UnitPrice(e,t,l){let a=this.po_connected_items[e],o=0,i=0;if(a.hasOwnProperty("po_line_id")){const e=this.PODataObj[a.po_line_id],t=this.getPoQuantity(e),l=this.getPoUnitPrice(e);i=Number(l)*Number(t),o+=Number(t)}if(a.hasOwnProperty("sub_lines"))for(let[s,n]of a.sub_lines.entries())i+=Number(n.unit_price)*Number(n.quantity),o+=Number(n.quantity);return o+=Number(l),i+=l*t,i/=o,isNaN(i)&&(i=0),+Number(i).toFixed(2)},getOnePoToManyTableLine_UnitPrice(e,t,l){let a=this.line_connected_items[e],o=0,i=0;if(a.hasOwnProperty("table_line_id")){const e=this.lineDataObj[a.table_line_id]["columns"];i=Number(e.UNIT_PRICE.value)*Number(e.QUANTITY.value),o+=Number(e.QUANTITY.value)}if(a.hasOwnProperty("table_line_ids"))for(let[s,n]of a.table_lines.entries()){const e=this.getlineDataColumn(n.table_line_id,"QUANTITY"),t=Number(this.lineDataObj[n.table_line_id].columns.UNIT_PRICE.value);i+=e*t,o+=e}return o+=Number(l),i+=l*t,i/=o,+Number(i).toFixed(4)},checkQuantityStatus(e,t){try{let l=!0,a=this.getPoQuantity(t),o=this.getLineQuantity(e);this.po_connected_items.hasOwnProperty(this.targetItem.UUID.value)?a=this.getManyPoToOneLine_Quantity(this.targetItem.UUID.value,Number(a),Number(o)):this.line_connected_items.hasOwnProperty(t.id)&&(o=this.getOnePoToManyLine_Quantity(t.id,Number(o)));let i=this.toleranceModel["quantity_tolerance_type"]==this.percent,s=this.matchValues(a,o,this.toleranceModel.quantity_tolerance,i);s&&(l=!1,this.misMatchedList.push(this.$t("quantity")));const n=this.getMatchingInfo(!s,a,o,this.toleranceModel.quantity_tolerance,i);return{match:l,match_obj:n}}catch(l){this.showErrorToast(this.$t("check_quantity_column")),logError("error",l)}},getLineQuantity(e){let t=this.isLineColumnAvailable(e,"QUANTITY")&&e.QUANTITY?e.QUANTITY.value:0;return this.isNumeric(t)||(t=0),+t},getPoUnitPrice(e){const t=e.hasOwnProperty("unit_price_value")?e.unit_price_value:e.unit_price,l=e.unit_price_per?e.unit_price_per:1;let a=t/l;return+a},getLineUnitPrice(e){let t=this.isLineColumnAvailable(e,"UNIT_PRICE")&&e.UNIT_PRICE?e.UNIT_PRICE.value:0,l=1;this.isNumeric(t)||(t=0),this.isLineColumnAvailable(e,"UNIT_PRICE_PER")&&e.UNIT_PRICE_PER.value&&(l=e.UNIT_PRICE_PER.value);let a=t/l;return+a},getPoQuantity(e){let t="quantity";const l="_value";e.hasOwnProperty(this.po_quantity_column)&&(t=this.po_quantity_column);let a=e[t];return e.hasOwnProperty(t+l)&&(a=e[t+l]),!(0,gt.z)(a)&&this.isNumeric(a)||(a=0),+a},getManyPoToOneLine_Quantity(e,t,l){let a=this.po_connected_items[e],o=0;if(a.hasOwnProperty("po_line_id")){const e=this.PODataObj[a.po_line_id];let t=this.getPoQuantity(e);o=+t}if(a.hasOwnProperty("sub_lines"))for(let[i,s]of a.sub_lines.entries()){const e=this.PODataObj[s.po_line_id];let t=this.getPoQuantity(e);o+=+t}return o+t},getOnePoToManyLine_Quantity(e,t){let l=this.line_connected_items[e],a=0;if(l.hasOwnProperty("table_line_id")){const e=this.lineDataObj[l.table_line_id]["columns"];a=+e.QUANTITY.value}if(l.hasOwnProperty("table_line_ids"))for(let[o,i]of l.table_lines.entries()){const e=this.getlineDataColumn(i.table_line_id,"QUANTITY");a+=+e}return a+t},getlineDataColumn(e,t){try{return this.getlineColumnValue(e,t)}catch(l){this.showErrorToast("Column "+t+" for matching"),logError("Column "+t+" is missing in lineDataObj")}return""},getMatchingInfo(e,t,l,a,o,i={}){o&&(a=+a/100*l);const s={is_matched:e,expected:t,actual:l,tolerance:a};return Object.keys(i).length>0&&Object.assign(s,i),s},getMatchingInfoForString(e,t,l){const a={is_matched:e,expected:t,actual:l};return a},notEqual(e,t){return e=e.toString().replace(/\s/g,"").toLowerCase(),t=t.toString().replace(/\s/g,"").toLowerCase(),e!=t},notEqualAmount(e,t){return e=Number(e).toFixed(4),t=Number(t).toFixed(4),e!=t},useToleranceForMatch(e,t,l,a){let o=e-t;if(o=Number(Math.abs(o).toFixed(4)),l=Number(Number(l).toFixed(4)),0==o)return!1;if(a){if(l>100||l<0)return this.showErrorToast(this.$t("pages.messages.TOLERANCE_RANGE")),!0;l=l/100*e}return l<o},matchValues(e,t,l,a){return e=Number(e).toFixed(4),t=Number(t).toFixed(4),this.doc_attributes[this.custom_range_for_po_tolerance]?this.useToleranceForMatch(Number(e),Number(t),l,a):e!=t},saveChanges(){this.dispatchConnectionSuccessEvent(this.poConnectionData)},dispatchConnectionSuccessEvent(e){const t=new CustomEvent("po_connection_success",{detail:{data:e}});document.dispatchEvent(t)},removeExistingAndConnectNewPO(){this.confirmDialog=!1;let e=this.po_connected_items.hasOwnProperty(this.connected_line_item)?this.po_connected_items[this.connected_line_item]:{};this.dispatchConnectionRemoveEvent(e,!1),delete this.po_connected_items[this.connected_line_item],this.connectNewPORecord(),this.saveChanges()},dispatchConnectionRemoveEvent(e,t){const l=new CustomEvent("po_connection_remove",{detail:{data:e,isPoId:t}});document.dispatchEvent(l)},convertToUSValue(e){return e.replace(/,/g,".")},mouseMoveHandler(e){this.po_dragging&&this.validation_done&&this.wait},getConnectionInfo(e){let t={};return t=this.po_connected_items.hasOwnProperty(e)?this.po_connected_items[e]:{},t},getConnectedinfoAttribute(e,t){let l=this.getConnectionInfo(e);if(!l||0===Object.keys(l).length)return{};if("connection_details"==t&&l.hasOwnProperty("matching_info")){const e=Object.entries(l.matching_info).map((([e,t])=>{if(!1===t["is_matched"]){const l=`</b>\n              <div style='padding-left: 10px'>\n                ${this.$t(String(e))} </b>\n                <div style='padding-left: 10px'>\n                  <div> - PO: ${t["expected"]}</div> \n                  <div> - Line: ${t["actual"]}</div>  \n                </div>\n              </div>\n            `;return l}}));return e.join("")}{if(!l.connection_details)return"";let e=Object.entries(l.connection_details.split(",")).map((([e,t])=>{const l=`</b>\n            <div style='padding-left: 10px'>\n              ${String(t)} </b>\n            </div>\n            `;return l}));return e.join("")}},setConnectedLineItems(e){this.po_connected_items={},this.line_connected_items={};let t=this.getConnectedLineItems();if(0!=t.length){for(let[e,l]of t.entries()){if(l.hasOwnProperty("table_line_id"))this.po_connected_items[l.table_line_id]=l;else if(l.hasOwnProperty("table_lines"))for(let[e,t]of l.table_lines.entries())this.po_connected_items[t.table_line_id]=l;if(l.hasOwnProperty("po_line_id"))this.line_connected_items[l.po_line_id]=l;else if(l.hasOwnProperty("sub_lines"))for(let[e,t]of l.sub_lines.entries())this.line_connected_items[t.po_line_id]=l}e&&this.renderKey++}},getConnectedLineItems(){let e=[];return this.record?(this.record.hasOwnProperty("po_multi_matched")&&(e=this.record.po_multi_matched),e):e},removePOConnection(e,t){this.blockProcessing=!0,this.dispatchConnectionRemoveEvent(e,t),setTimeout((()=>{this.blockProcessing=!1}),1e3)},hasLineItems(){return!(!this.tableRows||0===Object.keys(this.tableRows).length)},isViewPo(){this.$route.fullPath.match(/po-matching/g)&&(this.is_po_view=!0)},showlineHighlighted(e){let t=this.getConnectionInfo(e);if(!t||0===Object.keys(t).length)return;const l=new CustomEvent("show_line_highlighted",{detail:t});document.dispatchEvent(l)},scrollToHightlightedLine(e){let t=this.getConnectionInfo(e);if(!t||0===Object.keys(t).length)return;const l=new CustomEvent("scroll_to_highlighted_line",{detail:t});document.dispatchEvent(l)},removedLineHighlight(e){let t=this.getConnectionInfo(e);if(!t||0===Object.keys(t).length)return;const l=new CustomEvent("removed_highlight",{detail:t});document.dispatchEvent(l)},keyDownEvent(e){if("v"!==e.key&&"V"!==e.key||!e.ctrlKey||!this.hasLineItems()){if(e.ctrlKey&&("l"===e.key||"L"===e.key)){e.preventDefault();const t=(0,ee.$)("#line_item_table").querySelectorAll(".line-item-tr");if(0==t.length)return;let l=t[0];l.contentEditable="true",l.focus(),l.contentEditable="false"}}else{e.preventDefault();let t=document.activeElement;if(!t||!t.classList.contains("droptarget"))return;this.drop(e)}},goTolineItemsPage(){this.removeCache(),this.is_ai_table?this.$router.push("/field_validation_v1/"+this.apiData.doc_id):this.$router.push("/tbl_ext_v3/"+this.apiData.doc_id)},goToDashboard(){this.$router.push("/dashboard")},tableConversionHandler(e){try{this.callApiForTableConversion(e)}catch(t){return this.showErrorToast("Error while displaying Page"),void logError(t)}},callApiForTableConversion(e){const t=new CustomEvent("convert_pline_to_ltable",{detail:e});document.dispatchEvent(t)},dispatchEventToSaveTableChanges(){const e=new CustomEvent("update_table_data",{detail:this.apiData.tables});document.dispatchEvent(e)},inputValueChanges(e,t){this.is_view_readonly||"PO_CONVERTED_TABLE"===this.table_name&&setTimeout((()=>{this.lineDataObj[t]["columns"][e].value=this.lineDataObj[t]["columns"][e].formatted_value,this.updateJsonForLineItems(e,t)}),0)},updateJsonForLineItems(e,t){Array.from(this.apiData.tables[0].rows).forEach(((l,a)=>{t===l.id&&Array.from(l.columns).forEach(((t,a)=>{t.name!==e||(this.apiData.tables[0].rows[a].columns[a]=this.lineDataObj[l.id].columns[e])}))})),this.dispatchEventToSaveTableChanges()},deleteLine(e){if(this.is_view_readonly)return;Array.from(this.apiData.tables[0].rows).forEach(((t,l)=>{e===t.id&&(t.is_deleted=!0)}));let t=this.po_connected_items.hasOwnProperty(e)?this.po_connected_items[e]:{};this.removePOConnection(e,!1);const l=new CustomEvent("delete_table_line",{detail:{tables:this.apiData.tables,connection_info:t}});document.dispatchEvent(l)},getConnectionStatus(e){let t=this.getConnectionInfo(e);return t["connection_status"]},getConnectionStatusDetails(e){return this.getConnectedinfoAttribute(e,"connection_details")},getConnectionSvg(e){const t=this.getConnectionStatus(e);return"success"==t?"images/link.svg":"mismatch"==t?"images/broken-link-self.svg":void 0},getConnectionTitle(e){const t=this.getConnectionStatus(e);return"success"==t?this.$t("po_connected_match"):"mismatch"==t?this.$t("po_connected_mismatch"):"line_item_only"==t?this.$t("po_connected_self"):void 0},initToleranceForm(e){let t=e["ITEM_NUMBER"]?e["ITEM_NUMBER"].formatted_value:"",l=e["SUPPLIER_ITEM_NUMBER"]?e["SUPPLIER_ITEM_NUMBER"].formatted_value:"";t||l?(t=this.cleanItemNumber(t),l=this.cleanItemNumber(l),this.fillToleranceModel(t),this.toleranceModel.item_number=t,this.toleranceModel.supplier_item_number=e["SUPPLIER_ITEM_NUMBER"]?e["SUPPLIER_ITEM_NUMBER"].formatted_value:""):this.showErrorToast(this.$t("pages.messages.CAN_NOT_SET_TOLERANCE"))},fillToleranceModel(e,t){e&&this.itemSpecificTolerancesMap.has(e)?this.toleranceModel=JSON.parse(JSON.stringify(this.itemSpecificTolerancesMap.get(e))):t&&this.itemSpecificTolerancesMap.has(t)?this.toleranceModel=JSON.parse(JSON.stringify(this.itemSpecificTolerancesMap.get(t))):this.initToleranceModel()},saveToleranceLevel(){return Lt(this,void 0,void 0,(function*(){try{if(this.is_view_readonly)return;if(!this.doc_attributes[this.custom_range_for_po_tolerance])return;if(!this.validateToleranceForm())return;let e;this.showLoading(),e=yield ut.A0.setItemTolerance(this.toleranceModel),this.itemSpecificTolerancesMap.set(this.toleranceModel.item_number,this.toleranceModel)}catch(e){const t=se.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},validateToleranceForm(){let e=!0;const t=this.itemSpecificTolerancesMap.get(this.toleranceModel.item_number);return this.toleranceModel["quantity_tolerance_type"]==this.percent&&(this.toleranceModel["quantity_tolerance"]<1||this.toleranceModel["quantity_tolerance"]>100)&&(this.toleranceModel["quantity_tolerance"]=t.quantity_tolerance,this.showErrorToast(this.$t("percentage_1_to_100")),e=!1),this.toleranceModel["unit_price_tolerance_type"]==this.percent&&(this.toleranceModel["unit_price_tolerance"]<1||this.toleranceModel["unit_price_tolerance"]>100)&&(this.toleranceModel["unit_price_tolerance"]=t.unit_price_tolerance,this.showErrorToast(this.$t("percentage_1_to_100")),e=!1),this.toleranceModel.item_number||(this.showErrorToast(this.$t("pages.messages.CAN_NOT_SET_TOLERANCE")),e=!1),e},checkAITableSetting(){this.ai_table_setting_flag=!1,this.user_settings[this.AI_table_extraction_setting]&&(this.ai_table_setting_flag=this.user_settings[this.AI_table_extraction_setting])}},setup(){const e=(0,ae.KR)(null);let t=[],l={};const a=(0,yt.q3)(),{record:o,doctype:i,remove_unmapped_columns:s,has_ai_table:n}=(0,J.bP)(a),{removeCache:r,isAI_TableExit:d}=a,u=(0,yt.Im)(),{tableColumns:c,layoutExtraColumns:p}=(0,J.bP)(u),{prepareTableLayoutObj:h,getTableColumns:m,setFormatOptions:_,isColumnNameValid:b,isLineColumnAvailable:v}=u,g=(0,yt.rD)(),{prepareCostingElementDictionary:f}=g,{costingElementDictionary:y}=(0,J.bP)(g);(0,wt.wYm)(e,(0,Y.A)((e=>{const t=e[0];if(H.value.LINE_ITEM_TABLE_SETTING){const e=JSON.parse(H.value.LINE_ITEM_TABLE_SETTING);if(Math.abs(e.height-t.contentRect.height)<10)return}t.contentRect.width<20||t.contentRect.height<20||((0,_t.wd)("LINE_ITEM_TABLE_SETTING",JSON.stringify(t.contentRect)),(0,ht._Y)("LINE_ITEM_TABLE_SETTING",JSON.stringify(t.contentRect),!0),H.value["LINE_ITEM_TABLE_SETTING"]=JSON.stringify(t.contentRect))}),1e3));const k=(0,yt.R9)(),{total_net_amount:w,is_view_readonly:C,po_connected_items:x,line_connected_items:L,PODataObj:F,pending_amount:E,charges_amount:A,matched_total_amount:S,amount_error:D,toleranceModel:I,itemSpecificTolerancesMap:T,lineDataObj:O,po_line_id_for_match:M,po_line_for_match:R,po_quantity_column:P,isChargesModuleEnabled:q,po_supplier_item_numbers:V}=(0,J.bP)(k),{getDiscountedPrice:N,initToleranceModel:B,calculateMatchedTotal:$,setTotallineItem:Q,getlineColumnValue:X,getSavedColumns:W,getColumns:K}=k,U=(0,yt.wt)(),{model:j}=(0,J.bP)(U),z=(0,yt.Bu)(),{user_settings:H,loading_settings:G}=(0,J.bP)(z),{updateSetting:Z}=z;return{prepareTableLayoutObj:h,getTableColumns:m,setFormatOptions:_,isColumnNameValid:b,isLineColumnAvailable:v,getDiscountedPrice:N,tableColumns:c,layoutExtraColumns:p,setTotallineItem:Q,getlineColumnValue:X,getSavedColumns:W,getColumns:K,prepareCostingElementDictionary:f,costingElementDictionary:y,po_supplier_item_numbers:V,isChargesModuleEnabled:q,po_quantity_column:P,user_settings:H,loading_settings:G,updateSetting:Z,remove_unmapped_columns:s,has_ai_table:n,ai_table_setting_flag:(0,ae.KR)(!1),po_line_id_for_match:M,po_line_for_match:R,is_view_readonly:C,po_connected_items:x,line_connected_items:L,PODataObj:F,record:o,doctype:i,amount_error:D,doc_attributes:j,toleranceModel:I,pending_amount:E,charges_amount:A,total_net_amount:w,matched_total_amount:S,itemSpecificTolerancesMap:T,el:e,removeCache:r,isAI_TableExit:d,initToleranceModel:B,is_ai_table:(0,ae.KR)(!1),poEditRestrictDialog:(0,ae.KR)(!1),poEditRestrictMessage:(0,ae.KR)(""),lineItemsloading:(0,ae.KR)(!0),tableRows:(0,ae.KR)(t),apiData:(0,ae.KR)(t),table_name:(0,ae.KR)(""),lineDataObj:O,targetItem:(0,ae.KR)(l),connectConfirmation:(0,ae.KR)(!1),showOverrideTableConfirm:(0,ae.KR)(!1),poConnectionData:(0,ae.KR)({}),tableObj:(0,ae.KR)({}),calculateMatchedTotal:$,startY:0,isResizing:!1}}});var At=l(12807),St=l(42315),Dt=l(44488),It=l(57722),Tt=l(50492),Ot=l(97410),Mt=l(84436),Rt=l(53999),Pt=l(90124),qt=l(25173),Vt=l(45262),Nt=l(15046),Bt=l(58210),$t=l(56384),Qt=l(67837),Xt=l(94940),Wt=l(857),Kt=l(82156),Ut=l(23316),jt=l(44189),zt=l(62669),Ht=l(3952),Gt=l(18301),Yt=l(67156),Jt=l(88672),Zt=l(98582),el=l.n(Zt);const tl=(0,At.A)(Et,[["render",ot],["__scopeId","data-v-d40fe3fa"]]),ll=tl;el()(Et,"components",{QTable:St.A,QTr:Dt.A,QTh:It.A,QIcon:Tt.A,QTooltip:Ot.A,QMenu:Mt.A,QList:Rt.A,QItem:Pt.A,QItemSection:qt.A,QTd:Vt.A,QImg:Nt.A,QSpinner:Bt.A,QBtn:$t.A,QInput:Qt.A,QSelect:Xt.A,QMarkupTable:Wt.A,QDialog:Kt.A,QCard:Ut.A,QCardSection:jt.A,QCardActions:zt.A,QAvatar:Ht.A,QBtnDropdown:Gt.A,QField:Yt.A}),el()(Et,"directives",{ClosePopup:Jt.A});var al=l(48520),ol=l(93970),il=l(18859),sl=l(51184),nl=l(65569),rl=l(12682),dl=l(7134),ul=l(77362),cl=l(43956),pl=l(12566);const hl={class:"full-width dashboard-list-area q-pt-md"},ml={key:0,class:"float-right"},_l={class:"display-flex"},bl={style:{width:"300px"}},vl={class:"q-pa-sm text-success"};function gl(e,t,l,i,s,n){const r=(0,a.g2)("ColumnFilterBadges"),d=(0,a.g2)("ColumnFilter"),u=(0,a.g2)("q-th"),c=(0,a.g2)("q-tr"),p=(0,a.g2)("q-td"),h=(0,a.g2)("q-slider"),m=(0,a.g2)("q-table"),_=(0,a.g2)("q-markup-table"),b=(0,a.g2)("Loader");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",hl,[(0,a.bF)(r,{class:"q-mb-sm",name:"ShipmentColumnFilter",onOnUpdateValue:t[0]||(t[0]=t=>{e.filterValue=Object.assign({},t)})}),e.rows&&e.rows.length>0?((0,a.uX)(),(0,a.Wv)(m,{key:0,class:"text-uppercase sticky-header transparent-header table_height resizable","no-data-label":e.$t("pages.messages.no_record_found"),rows:e.filteredTableRow,columns:e.columns,ref:"el","row-key":"name","rows-per-page-options":[0],id:"receive-delivery-lines-table"},{header:(0,a.k6)((l=>[(0,a.bF)(c,{props:l,class:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.cols,(i=>((0,a.uX)(),(0,a.Wv)(u,{key:i.name,props:l},{default:(0,a.k6)((()=>["position"==i.label?((0,a.uX)(),(0,a.CE)("span",ml,(0,o.v_)(i.label),1)):((0,a.uX)(),(0,a.CE)("span",{key:1,class:(0,o.C4)(i.is_bold||i.name===e.po_quantity_column?"text-weight-bolder font-size-14 secondary-c-text":"")},(0,o.v_)(i.label),3)),i.label?((0,a.uX)(),(0,a.Wv)(d,{key:2,name:"ShipmentColumnFilter",column:i.name,onOnUpdateValue:t[1]||(t[1]=t=>{e.filterValue=Object.assign({},t)})},null,8,["column"])):(0,a.Q3)("",!0)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),body:(0,a.k6)((t=>[(0,a.bF)(c,{props:t,"data-id":t.key,class:(0,o.C4)(t.rowIndex%2==0?"":"alternative-row")},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,(l=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l.name},[l.label?((0,a.uX)(),(0,a.Wv)(p,{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("span",{class:(0,o.C4)(e.checkIfColumnIsAmount(l.name,e.AMOUNT_COLUMNS)?"float-right":"")},(0,o.v_)(t.row[l.name]),3)])),_:2},1024)):((0,a.uX)(),(0,a.Wv)(p,{key:1},{default:(0,a.k6)((()=>[(0,a.Lk)("div",_l,[(0,a.Lk)("div",bl,[(0,a.bF)(h,{modelValue:t.row[l.name].already_delivered,"onUpdate:modelValue":e=>t.row[l.name].already_delivered=e,readonly:"",draggable:"false",max:100,"inner-max":t.row[l.name].bar_value,color:"success","inner-track-color":"primary","track-size":"8px","thumb-size":"0px"},null,8,["modelValue","onUpdate:modelValue","inner-max"])]),(0,a.Lk)("span",vl,(0,o.v_)(t.row[l.name].bar_value)+" % ",1),(0,a.Lk)("span",{class:(0,o.C4)(["q-pa-sm",t.row[l.name].delivered_on_time?"text-success":"text-error"])},(0,o.v_)(t.row[l.name].promised_delivery_date),3),t.row[l.name].delivered_on_time?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",{key:0,class:(0,o.C4)(["q-pa-sm",t.row[l.name].delivered_on_time?"text-success":"text-error"])},(0,o.v_)(t.row[l.name].no_of_days_late+" day(s) late"),3))])])),_:2},1024))],64)))),128))])),_:2},1032,["props","data-id","class"])])),_:1},8,["no-data-label","rows","columns"])):((0,a.uX)(),(0,a.Wv)(_,{key:1,class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,(0,o.v_)(e.$t("pages.messages.no_record_found")),1)])])])),_:1}))]),(0,a.bF)(b)],64)}var fl=l(62488);const yl=(0,a.pM)({el:"#app",props:{purchaseOrderNumber:{type:String,default:""},poItems:{type:Object,default:()=>({})}},watch:{purchaseOrderNumber:{handler:function(e,t){e&&e!=t&&this.prepareTableRows(e)}}},data(){return{rows:(0,ae.KR)([]),columns:(0,ae.KR)([]),startY:0,isResizing:!1,AMOUNT_COLUMNS:fl.Ng,filterValue:(0,ae.KR)({})}},mixins:[rt.A,Z.A,it.A,pt.A,st.A],components:{Loader:nt.A,ColumnFilter:Ct.A,ColumnFilterBadges:xt.A},updated(){let e=this.user_settings.RECEIVE_DELIVERY_LINES_TABLE_SETTING,t=200;e&&(e=JSON.parse(e),t=e.height);const l=document.getElementById("receive-delivery-lines-table");l&&(t<200&&(t=200),l.style.height=t+"px")},mounted(){this.init(),document.addEventListener("reload_received_delivery_lines",this.reloadData)},unmounted(){document.removeEventListener("reload_received_delivery_lines",this.reloadData)},computed:{filteredTableRow(){return this.filterByObject(this.rows,this.filterValue)}},methods:{init(){this.prepareTableColumns()},calculateTableHeight(){let e=this.user_settings.RECEIVE_DELIVERY_LINES_TABLE_SETTING;e&&(e=JSON.parse(e),e.hasOwnProperty("height")&&(this.tableHeight=e.height)),this.rows.length>0&&(this.rows.length<3||this.tableHeight<10)&&(this.tableHeight=200)},prepareTableColumns(){this.columns=[],this.columns.push({name:"item_id",label:this.$t("item_id"),field:"item_id",align:"left",sortable:!0,headerStyle:"width: 100px"},{name:"delivery_number",label:this.$t("delivery_number"),field:"delivery_number",align:"left",sortable:!0,headerStyle:"width: 150px"},{name:"shipped_quantity",label:this.$t("shipped_quantity"),field:"shipped_quantity",align:"left",sortable:!0,headerStyle:"width: 150px"},{name:"invoiced_quantity",label:this.$t("invoiced_quantity"),field:"invoiced_quantity",align:"left",sortable:!0,headerStyle:"width: 150px"},{name:"invoice_open_quantity",label:this.$t("invoice_open_quantity"),field:"invoice_open_quantity",align:"left",sortable:!0,headerStyle:"width: 150px"},{name:"chart_status",label:"",field:"chart_status",align:"left",sortable:!1})},reloadData(e){this.purchaseOrderNumber&&this.prepareTableRows(this.purchaseOrderNumber)},prepareTableRows(e){this.rows=[];for(let t of this.poItems[e]){let e=this.getQuantityPercent(t.shipped_quantity,t.invoiced_quantity),l=this.getPOMatchedQuentyPercentatge(t.id,t.shipped_quantity),a=e+l;const o=this.formatDateWithPattern(t.received_date_time,kt.yt.date_only),i=this.formatDateWithPattern(t.promised_delivery_date,kt.yt.date_only),s=this.compareDates(o,i),n={item_id:t.item_id,delivery_number:t.delivery_number,shipped_quantity:t.shipped_quantity,invoiced_quantity:t.invoiced_quantity,invoice_open_quantity:t.invoice_open_quantity,chart_status:{received_date_time:o,promised_delivery_date:i,bar_value:a,already_delivered:e,delivered_on_time:s,no_of_days_late:s?this.dateDifferenceInDays(o,i):0}};this.rows.push(n)}this.calculateTableHeight()},getQuantityPercent(e,t){if(!e||!t||0==Number(e)||0==Number(t))return 0;let l=Number(t)/Number(e)*100;return Number(l.toFixed())},getPOMatchedQuentyPercentatge(e,t){const{found:l,invoiceQuantity:a}=this.verifyIfPoIsMatched(e);return l?this.getQuantityPercent(t,a):0},verifyIfPoIsMatched(e){let t=!1,l=0;if(!this.record.po_multi_matched||0==this.record.po_multi_matched.entries().length)return{found:t,invoiceQuantity:l};e:for(let[a,o]of this.record.po_multi_matched.entries())if(o.hasOwnProperty("po_line_id")){if(o.po_line_id==e){t=!0,l=o.quantity;break e}}else if(o.hasOwnProperty("sub_lines"))for(let[i,s]of o.sub_lines.entries())if(s.po_line_id==e){t=!0,l=s.quantity;break e}return{found:t,invoiceQuantity:l}},startResize(e){this.startY=e.clientY,this.isResizing=!0,document.addEventListener("mousemove",this.resize),document.addEventListener("mouseup",this.stopResize)},resize(e){if(this.isResizing){const t=e.clientY-this.startY;this.tableHeight+=t}},stopResize(){this.isResizing=!1,document.removeEventListener("mousemove",this.resize),document.removeEventListener("mouseup",this.stopResize)}},setup(){const e=(0,yt.R9)(),{PODataObj:t,po_quantity_column:l}=(0,J.bP)(e),a=(0,ae.KR)(null),o=(0,yt.q3)(),{record:i}=(0,J.bP)(o);let s=200;(0,wt.wYm)(a,(0,Y.A)((e=>{const t=e[0];if(r.value.RECEIVE_DELIVERY_LINES_TABLE_SETTING){const e=JSON.parse(r.value.RECEIVE_DELIVERY_LINES_TABLE_SETTING);if(Math.abs(e.height-t.contentRect.height)<10)return}t.contentRect.width<20||t.contentRect.height<20||((0,_t.wd)("RECEIVE_DELIVERY_LINES_TABLE_SETTING",JSON.stringify(t.contentRect)),(0,ht._Y)("RECEIVE_DELIVERY_LINES_TABLE_SETTING",JSON.stringify(t.contentRect),!0),r.value["RECEIVE_DELIVERY_LINES_TABLE_SETTING"]=JSON.stringify(t.contentRect))}),1e3));const n=(0,yt.Bu)(),{user_settings:r}=(0,J.bP)(n);return{record:i,el:a,PODataObj:t,po_quantity_column:l,user_settings:r,tableHeight:s}}});var kl=l(1444);const wl=(0,At.A)(yl,[["render",gl],["__scopeId","data-v-c01e5dfe"]]),Cl=wl;el()(yl,"components",{QTable:St.A,QTr:Dt.A,QTh:It.A,QTd:Vt.A,QSlider:kl.A,QMarkupTable:Wt.A});const xl=(0,a.Lk)("img",{width:"20",height:"20",src:"icons/dataSyncButton.svg"},null,-1),Ll={class:"secondary-c-text text-h6 text-weight-bold"},Fl={class:"row"},El={class:"col-sm-12 col-md-12 col-lg-12"},Al={class:"col-sm-12 col-md-12 col-lg-12"},Sl={class:"col-sm-12 col-md-12 col-lg-12"},Dl={class:"col-sm-12 col-md-12 col-lg-12"},Il=(0,a.Lk)("span",{class:"q-ml-sm"},"On resync, you may lose PO connections.",-1);function Tl(e,t,l,i,s,n){const r=(0,a.g2)("q-tooltip"),d=(0,a.g2)("f-btn"),u=(0,a.g2)("q-toolbar-title"),c=(0,a.g2)("q-toolbar"),p=(0,a.g2)("q-linear-progress"),h=(0,a.g2)("q-separator"),m=(0,a.g2)("q-input"),_=(0,a.g2)("q-checkbox"),b=(0,a.g2)("q-card-section"),v=(0,a.g2)("q-card-actions"),g=(0,a.g2)("q-card"),f=(0,a.g2)("q-dialog"),y=(0,a.g2)("q-btn"),k=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.is_module_on?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(d,{onClick:t[0]||(t[0]=t=>{e.showSyncDataPopup=!0,e.initForm()}),class:"q-pl-sm q-pr-sm q-mr-sm"},{default:(0,a.k6)((()=>[xl,(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("sync_data")),1)])),_:1})])),_:1}),(0,a.bF)(f,{modelValue:e.showSyncDataPopup,"onUpdate:modelValue":t[8]||(t[8]=t=>e.showSyncDataPopup=t)},{default:(0,a.k6)((()=>[(0,a.bF)(g,{style:{width:"700px","max-width":"50vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(g,{flat:"",class:"popup-background"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"pr-0"},{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",Ll,(0,o.v_)(e.$t("sync_data")),1)])),_:1}),(0,a.bF)(d,{flat:"",round:"",dense:"",appearance:"tertiary",icon:"close",onClick:t[1]||(t[1]=t=>e.showSyncDataPopup=!1)})])),_:1}),e.showLoading?((0,a.uX)(),(0,a.Wv)(p,{key:0,indeterminate:""})):(0,a.Q3)("",!0),(0,a.bF)(h,{class:"separator-space"}),(0,a.bF)(b,{class:"q-pa-md"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Fl,[(0,a.Lk)("div",El,[(0,a.bF)(m,{outlined:"",dense:"",modelValue:e.showSyncDataModel.purchase_orders,"onUpdate:modelValue":t[2]||(t[2]=t=>e.showSyncDataModel.purchase_orders=t),label:e.$t("purchase_orders")},null,8,["modelValue","label"])]),(0,a.Lk)("div",Al,[(0,a.bF)(_,{modelValue:e.showSyncDataModel.sync_purchase_order_bod,"onUpdate:modelValue":t[3]||(t[3]=t=>e.showSyncDataModel.sync_purchase_order_bod=t),label:e.$t("sync_purchase_order")},null,8,["modelValue","label"])]),(0,a.Lk)("div",Sl,[(0,a.bF)(_,{modelValue:e.showSyncDataModel.sync_receive_delivery_bod,"onUpdate:modelValue":t[4]||(t[4]=t=>e.showSyncDataModel.sync_receive_delivery_bod=t),label:e.$t("sync_receive_delivery")},null,8,["modelValue","label"])]),(0,a.Lk)("div",Dl,[(0,a.bF)(_,{modelValue:e.showSyncDataModel.sync_receive_delivery_additional_info,"onUpdate:modelValue":t[5]||(t[5]=t=>e.showSyncDataModel.sync_receive_delivery_additional_info=t),label:e.$t("sync_receive_delivery_additional_info")},null,8,["modelValue","label"])])])])),_:1}),(0,a.bF)(v,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{appearance:"cancel",label:e.$t("cancel"),onClick:t[6]||(t[6]=t=>e.showSyncDataPopup=!1)},null,8,["label"]),(0,a.bF)(d,{label:e.$t("sync"),class:"q-mr-sm",onClick:t[7]||(t[7]=t=>e.confirmSyncData())},null,8,["label"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)):(0,a.Q3)("",!0),(0,a.bF)(f,{modelValue:e.showConfirmSyncDlg,"onUpdate:modelValue":t[10]||(t[10]=t=>e.showConfirmSyncDlg=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("confirm")),1)])),_:1}),(0,a.bo)((0,a.bF)(y,{flat:"",round:"",dense:"",icon:"close"},null,512),[[k]])])),_:1}),(0,a.bF)(b,{class:"row items-center"},{default:(0,a.k6)((()=>[Il])),_:1}),(0,a.bF)(v,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(d,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[k]]),(0,a.bo)((0,a.bF)(d,{label:e.$t("done"),onClick:t[9]||(t[9]=t=>e.syncData())},null,8,["label"]),[[k]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var Ol=l(28684),Ml=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Rl=(0,a.pM)({el:"#app",emits:["refreshAlreadyAddedItem"],mixins:[Z.A,st.A,Ol.A],props:{is_module_on:{type:Boolean,default:!1},poNumber:{type:String,default:""}},components:{},data(){return{showLoading:(0,ae.KR)(!1),showSyncDataPopup:(0,ae.KR)(!1),showConfirmSyncDlg:(0,ae.KR)(!1),showSyncDataModel:(0,ae.KR)({})}},mounted:function(){this.initForm()},methods:{initForm(){this.showSyncDataModel["purchase_orders"]=this.poNumber,this.showSyncDataModel["sync_purchase_order_bod"]=!1,this.showSyncDataModel["sync_receive_delivery_bod"]=!1,this.showSyncDataModel["sync_receive_delivery_additional_info"]=!1},confirmSyncData(){this.record.hasOwnProperty("po_multi_matched")&&this.record.po_multi_matched.length>0?this.showConfirmSyncDlg=!0:this.syncData()},syncData(){return Ml(this,void 0,void 0,(function*(){if(this.showSyncDataModel.purchase_orders)if(this.showSyncDataModel.sync_purchase_order_bod||this.showSyncDataModel.sync_receive_delivery_bod||this.showSyncDataModel.sync_receive_delivery_additional_info)try{this.showLoading=!0;yield ut.A0.syncData(this.showSyncDataModel);this.$emit("refreshAlreadyAddedItem",this.poNumber)}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.showLoading=!1,this.showSyncDataPopup=!1}else this.showErrorToast("pages.messages.SELECT_ONE_SYNC_OPTION");else this.showErrorToast("pages.messages.PURCHASE_ORDER_NUMBER_MANDATORY")}))}},setup(){const e=(0,yt.q3)(),{record:t}=(0,J.bP)(e);return{record:t}}});var Pl=l(36914),ql=l(39150),Vl=l(35859),Nl=l(10386),Bl=l(80460);const $l=(0,At.A)(Rl,[["render",Tl]]),Ql=$l;el()(Rl,"components",{QTooltip:Ot.A,QDialog:Kt.A,QCard:Ut.A,QToolbar:Pl.A,QToolbarTitle:ql.A,QLinearProgress:Vl.A,QSeparator:Nl.A,QCardSection:jt.A,QInput:Qt.A,QCheckbox:Bl.A,QCardActions:zt.A,QBtn:$t.A}),el()(Rl,"directives",{ClosePopup:Jt.A});var Xl=l(93363);const Wl={class:"text-weight-medium text-h6"},Kl={class:"highlighted-back"},Ul={class:"text-left",style:{"font-weight":"bold"}},jl={class:"text-left",style:{"font-weight":"900"}},zl=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"Move between items (Generic)"),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box"}," TAB ")])],-1),Hl=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"Move between items (specific to po Items)"),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," m ")])],-1),Gl=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"To Select or click a item"),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box"}," ENTER ")])],-1),Yl=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"Open Help"),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," h ")])],-1),Jl={class:"text-left",style:{"font-weight":"bold"}},Zl=(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," k ")],-1),ea=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"Enable/Disable PO traning mode"),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," d ")])],-1),ta=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"Auto PO match"),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," a ")])],-1),la=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"Save PO"),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," s ")])],-1),aa=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"Reject"),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," r ")])],-1),oa=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"Export PO"),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," e ")])],-1),ia=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"Search PO"),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," f ")])],-1),sa=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"Selecting first row of PO items "),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," p ")])],-1),na=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"Selecting first row of Line items "),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," l ")])],-1),ra=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"Selecting and remove selected rows of Line items "),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," Left Click ")])],-1),da=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"To connect a PO line with the line item."),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," C ")])],-1),ua=(0,a.Lk)("tr",null,[(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"bold"}},"To Connect PO Line with line item"),(0,a.Lk)("td",{class:"text-left",style:{"font-weight":"900"}},[(0,a.Lk)("span",{class:"shortcut-Key-box q-mr-sm"}," CTRL "),(0,a.eW)(" + "),(0,a.Lk)("span",{class:"shortcut-Key-box q-ml-sm"}," V ")])],-1);function ca(e,t,l,i,s,n){const r=(0,a.g2)("q-card-section"),d=(0,a.g2)("q-markup-table");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Wl,(0,o.v_)(e.$t("keyboard_shortcuts")),1)])),_:1}),(0,a.bF)(r,{class:"v-p-0"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"full-width",style:{overflow:"auto","max-height":"60vh"},"virtual-scroll":""},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",Kl,[(0,a.Lk)("th",Ul,(0,o.v_)(e.$t("action")),1),(0,a.Lk)("th",jl,(0,o.v_)(e.$t("keyboard_shortcut")),1)])]),(0,a.Lk)("tbody",null,[zl,Hl,Gl,Yl,(0,a.Lk)("tr",null,[(0,a.Lk)("td",Jl,(0,o.v_)(e.$t("doc2light.descriptions.check_keyboard_shortcut")),1),Zl]),ea,ta,la,aa,oa,ia,sa,na,ra,da,ua])])),_:1})])),_:1})],64)}const pa=(0,a.pM)({el:"#app",mixins:[],props:{},components:{},data(){return{}},setup(){return{}}}),ha=(0,At.A)(pa,[["render",ca]]),ma=ha;el()(pa,"components",{QCardSection:jt.A,QMarkupTable:Wt.A});var _a=l(76944),ba=l(81589),va=l(78652),ga=l(85487),fa=l(24481),ya=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};il.A.table.arrowUp="arrow_drop_down";const ka=(0,a.pM)({el:"#app",mixins:[Z.A,te.A,fa.A],components:{TaskBtn:rl.A,LineItems:ll,SubHeader:ul.A,exportBtns:dl.A,SyncPOData:Ql,DocumentLock:ba.A,AdvanceFilter:cl.A,PurchaseOrder:nl.A,MessageBanner:ol.A,CreateTaskBtn:al.A,ImageComponent:sl["default"],ErrorDocumentView:pl.A,RceiveDeliveryLines:Cl,PurchaseOrderPreview:Xl.A,keyboardShortcutInfo:ma,PoTableColumnsSettings:_a.A,draggable:ne.H},data(){return{docId:"",tabsKey:(0,ae.KR)(0),imageObjStr:"",error_message:"",totalRecords:(0,ae.KR)(0),poFieldValue:(0,ae.KR)(""),poElements:[],warning_alert:{},dragableItems:[],visible_columns:[],showAdanceFilter:(0,ae.KR)(!1),currentPoElementIndex:(0,ae.KR)(0),debounceAutoSaveFunc:{},allowedDoctypes:kt.Gk,po_table_columns:kt.lv,po_auto_match_and_export:kt.aH.po_auto_match_and_export,percent:kt.aH.percent,imageFieldSplitter:(0,ae.KR)(76),dynamicWidth:(0,ae.KR)(0),charges_table_extraction:kt.lZ,showConfirmSyncDlg:(0,ae.KR)(!1),poLoading:(0,ae.KR)(!1),poToRefresh:(0,ae.KR)(""),isSavePending:(0,ae.KR)(!1),showRouteLeaveConfirmation:(0,ae.KR)(!1),routeUrl:(0,ae.KR)("")}},mounted(){this.docId=this.$route.params.id,this.record=[],this.init(),this.initFilterModel(),document.addEventListener("po_connection_success",this.lineItemConnected),document.addEventListener("po_connection_remove",this.removeLineItemPO),document.addEventListener("table_drag_mode_flag_update",this.TableDragModeHandler),document.addEventListener("update_table_data",this.updateTableDataForSave),document.addEventListener("delete_table_line",this.deleteTableLine),document.addEventListener("convert_pline_to_ltable",this.triggerTableConversion),document.addEventListener("keydown",this.keyDownEvent),document.addEventListener("trigger_auto_match",this.triggerAutoMatch),document.addEventListener("line_items_loaded",this.lineItemsLoaded),document.addEventListener("po-table-column-drop",this.onDragColumn),this.debounceAutoSaveFunc=(0,Y.A)((()=>{this.saveDataOnChanges()}),1e3),this.poElements=document.getElementsByClassName("po_iterateable_item"),window.vpo=this},unmounted:function(){return ya(this,void 0,void 0,(function*(){document.removeEventListener("po_connection_success",this.lineItemConnected),document.removeEventListener("po_connection_remove",this.removeLineItemPO),document.removeEventListener("keydown",this.keyDownEvent),document.removeEventListener("table_drag_mode_flag_update",this.TableDragModeHandler),document.removeEventListener("update_table_data",this.updateTableDataForSave),document.removeEventListener("delete_table_line",this.deleteTableLine),document.removeEventListener("convert_pline_to_ltable",this.triggerTableConversion),document.removeEventListener("trigger_auto_match",this.triggerAutoMatch),document.removeEventListener("line_items_loaded",this.lineItemsLoaded),document.removeEventListener("po-table-column-drop",this.onDragColumn),this.resetPoMatchStore(),yield this.releaseDocLock({doc_id:this.record.doc_id})}))},computed:{hasPoItems:function(){return this.po_items&&0!==Object.keys(this.po_items).length}},methods:{init(){return ya(this,void 0,void 0,(function*(){try{if(this.first_time_view_render=!0,this.processing=!0,this.error=!1,yield this.initUserSettings(),this.isDocForExtTraining(),this.fetch_po_items=!1,!0===this.ext_table_train)yield this.getExtAppPODocumentByID(this.docId);else{if(yield this.getDocumentById(this.docId),!this.record||0===Object.keys(this.record).length||!1===this.record.success)return;this.handleReadOnly()}this.initDragableList(),this.handleReadOnlyAlert(),this.imageObjStr=JSON.stringify(this.record.images);try{yield this.getPOColumns()}catch(e){this.showErrorToast(this.$t("pages.messages.PO_COLUMNS_API_ERROR")),logError(e)}this.ShowStaticPO(),this.getFieldValues(),yield this.initPage(),this.verifyExport(),yield this.fetchAttributes(this.doctype),this.setPoQuantityColumn()}catch(e){if(logError(e),null!=e&&"object"==typeof e&&e.hasOwnProperty("message"))return void this.showErrorToast(e.message);this.showErrorToast("Error while displaying Page. Please reload again or contact admistrator")}finally{this.processing=!1}}))},onDragColumn(e){this.updatedDragColumns(e.detail)},updatedDragColumns(e){return ya(this,void 0,void 0,(function*(){this.processing=!0;const t={};e.forEach(((e,l)=>{t[e.name]=this.visible_columns[e.name],t[e.name]&&(t[e.name]["order"]=l)}));try{let e=this.po_table_columns+"_"+this.record.doc_type;yield this.updateSetting(e,JSON.stringify(t))}catch(l){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing=!1}}))},setDisplayDocType(e){const t=String(e),l=this.displayDocType(t);return String(l)},splitterChanged(){let e=window.innerWidth,t=e*(100-this.imageFieldSplitter)/100;this.dynamicWidth=t},toggleImageArea(){this.imageFieldSplitter>=90?this.imageFieldSplitter=70:this.imageFieldSplitter=100},initDragableList(){this.dragableItems.push({title:this.$t("invoice"),componentName:"LineItems"}),this.user_settings[kt.aH.po_shipment_order]&&this.dragableItems.push({title:this.$t("po_shipment_order"),componentName:"RceiveDeliveryLines"})},initUserSettings(){return ya(this,void 0,void 0,(function*(){yield this.startSettingsFetch(),this.user_settings[this.po_auto_match_and_export]||(this.user_settings[this.po_auto_match_and_export]=!1),this.user_settings[kt.aH.po_shipment_order]||(this.user_settings[kt.aH.po_shipment_order]=!1),this.user_settings[this.charges_table_extraction]&&(this.isChargesModuleEnabled=!0)}))},itemSorted(e){this.initLineItems()},handleTolerance(){return ya(this,void 0,void 0,(function*(){this.is_view_readonly||(yield this.getToleranceLevel(),this.initToleranceModel())}))},isDocForExtTraining(){return ya(this,void 0,void 0,(function*(){if(!this.$route.params.ext_table_train||"true"!==this.$route.params.ext_table_train)return;this.ext_table_train=!0,this.docId=String(this.$route.query.id);const e=String(this.$route.query.token);yield this.setAuthToken(e)}))},getToken(){return ya(this,void 0,void 0,(function*(){let e=this.token&&null!=this.token&&""!=this.token?this.token:yield(0,oe.L3)();return e}))},handleReadOnlyAlert(){if(0==this.record.editable){let e="po_readonly_doc_warning";kt.B2.includes(this.record.status)&&(e="po_finished_doc_warning"),"error"===this.record.status&&(e="po_error_doc_warning"),this.warning_alert=this.showWarningAlert(this.$t(e))}},handleReadOnly(){if(this.record.status!=kt.aH.ready_for_validation)return this.is_view_readonly=!0,this.allowPOTableDrag=!1,this.trigger_document_lock=!1,void(this.error_message=this.$t("pages.messages.READ_ONLY_MSG"));this.trigger_document_lock=!0;const e=le.tH.hasAccess("update");e||(this.is_view_readonly=!0)},initLineItems(){const e=new CustomEvent("init_line_items",{detail:this.record});document.dispatchEvent(e)},initPage(){return ya(this,void 0,void 0,(function*(){this.record&&this.record.fields&&(this.connect(),this.table_name=this.record.tables&&this.record.tables.length>0&&this.record.tables[0].hasOwnProperty("name")?this.record.tables[0].name:"",this.setViewEditable(),this.setDataToCache(),this.verifyIfPONumberChanged(),this.initLineItems(),yield this.renderMultiplePOItems(),this.setTotallineItem(),yield this.checkAutoExport(),this.setActiveTab(),this.getPoFieldValue(),this.visible_columns=yield this.getSavedColumns(this.po_table_columns+"_"+this.record.doc_type),this.handleTolerance())}))},verifyExport(){this.record.hasOwnProperty("po_multi_matched")&&this.record.po_multi_matched.length?this.isExportDisabled=!1:this.isExportDisabled=!0},verifyIfPONumberChanged(){this.record.hasOwnProperty("is_purchase_order_changed")&&this.record.is_purchase_order_changed&&(this.record.po_multi_matched=[],delete this.record.is_purchase_order_changed)},setViewEditable(){this.record.editable=!0,(kt.B2.includes(this.record.status)||"error"==this.record.status)&&(this.record.editable=!1)},saveExtAppData(e=!1){return ya(this,void 0,void 0,(function*(){try{e&&(this.processing=!0);const t=yield this.saveExtAppDocument(this.docId);if(!1===t.success)return void this.showErrorToast(t.message);e&&this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.processing=!1}}))},validationsForExportData(){"ORDER_CONFIRMATION"==this.record.doc_type?this.record.po_multi_matched.forEach((e=>{"success"!=e.connection_status&&(this.confirmDecision=!0)})):this.saveData()},setPOStatus(e){this.record["po_status"]=e,this.saveData()},saveData(e=!0){return ya(this,void 0,void 0,(function*(){try{if(this.is_view_readonly)return;e&&(this.processing=!0),this.isSavePending=!1;const t=yield this.saveDocument(this.docId);if(!1===t.success){if(t.message)throw{message:t.message};throw{}}this.refreshPOinfo(),e&&this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.processing=!1}}))},refreshPOinfo(){let e={};e=this.getPurchaseOrderData();for(let[t,l]of Object.entries(e))this.addToPoItems(t,l)},goToExtractionTableView(){this.$router.push("/tbl_ext_v3/"+this.$route.params.id)},ShowStaticPO(){this.$route.fullPath.match(/PO/g)&&(this.record.showStaticPo="4002513646")},removeAccountingData(){this.record.hasOwnProperty("accounting")&&delete this.record.accounting},lineItemConnected(e){if(!this.record||this.is_view_readonly)return;this.record.hasOwnProperty("po_multi_matched")?this.record.po_multi_matched.length>0&&this.removeOldPoConnection({detail:{data:e.detail.data}}):this.record.po_multi_matched=[],this.record.po_multi_matched.push(e.detail.data),this.getLineItemsPoV3Ref().setConnectedLineItems(!0),this.removeAccountingData(),this.isExportDisabled=!1;const t=new CustomEvent("po_connection_add",{detail:{data:e.detail.data}});document.dispatchEvent(t);const l=new CustomEvent("reload_received_delivery_lines",{});document.dispatchEvent(l),this.calculateMatchedTotal(),this.isSavePending=!0},getLineItemsPoV3Ref(){let e=this.$refs.lineItemsPoV3;return e&&Array.isArray(e)?e[0]:e},removeOldPoConnection(e){if(!this.record||!this.record.hasOwnProperty("po_multi_matched"))return;let t=e.detail.data,l=null,a=this.getLineIds(t);e:for(let[o,i]of this.record.po_multi_matched.entries()){let e=this.getLineIds(i);for(let t of a)if(e.includes(t)){l=o;break e}}null!=l&&(this.record.po_multi_matched.splice(l,1),this.removeAccountingData())},removeLineItemPO(e){if(!this.record||this.is_view_readonly||!this.record.hasOwnProperty("po_multi_matched"))return;this.blockSaveWhileRecalculating=!0;let t=!!e.detail.isPoId,l=e.detail.data,a=0;if(t?(a=this.removeConnectionUsingPoId(l),null!=a&&this.reCalculateForOneLineWithMultiPos(a)):(a=this.removeConnectionUsingLineId(l),null!=a&&this.reCalculateForOnePoWithMultiLines(a)),null==a){this.getLineItemsPoV3Ref().setConnectedLineItems(!0);const e=new CustomEvent("connection_remove",{detail:{data:l,isPoId:t}});document.dispatchEvent(e)}this.record.po_multi_matched.length>0?this.isExportDisabled=!1:this.isExportDisabled=!0,this.blockSaveWhileRecalculating=!1,this.removeAccountingData();const o=new CustomEvent("reload_received_delivery_lines",{});document.dispatchEvent(o),this.calculateMatchedTotal(),this.isSavePending=!0},removeConnectionUsingPoId(e){let t=null,l=null;e:for(let[a,o]of this.record.po_multi_matched.entries())if(o.hasOwnProperty("po_line_id")){if(o.po_line_id==e){t=a;break e}}else if(o.hasOwnProperty("sub_lines"))for(let[i,s]of o.sub_lines.entries())if(s.po_line_id==e){l=i,t=a;break e}return t||0==t?l||0==l?(this.record.po_multi_matched[t].sub_lines.splice(l,1),t):(this.record.po_multi_matched.splice(t,1),null):null},removeConnectionUsingLineId(e){let t=null,l=null,a=0;e:for(let[o,i]of this.record.po_multi_matched.entries())if(i.hasOwnProperty("table_line_id")){if(i.table_line_id==e){t=o;break e}}else if(i.hasOwnProperty("table_lines")){a=0;for(let[s,n]of i.table_lines.entries())n.table_line_id==e?(l=s,t=o):a=Number(n.quantity)+a;if(l)break e}return t||0==t?l||0==l?(this.record.po_multi_matched[t].table_lines.splice(l,1),this.record.po_multi_matched[t].table_line_ids.splice(l,1),t):(this.record.po_multi_matched.splice(t,1),null):null},getLineIds(e){let t=[];if(e.hasOwnProperty("table_line_id"))t.push(e.table_line_id);else if(e.hasOwnProperty("table_line_ids"))for(let[l,a]of e.table_line_ids.entries())t.push(a);return t},findPOByPoId(e,t){let l=null;const a=this.po_items[e];for(let o of a)if(o.id==t){l=o;break}return l},reCalculateForOneLineWithMultiPos(e){let t=this.record.po_multi_matched[e],l=t.table_line_id;this.record.po_multi_matched.splice(e,1),this.getLineItemsPoV3Ref().setConnectedLineItems(!0);const a=new CustomEvent("connection_remove",{detail:{data:null,isPoId:!0}});if(document.dispatchEvent(a),l)for(let[o,i]of t.sub_lines.entries()){let e=this.findPOByPoId(i.purchase_order_number,i.po_line_id);null!=e&&this.getLineItemsPoV3Ref().makeConnectionAndsave(l,e)}},reCalculateForOnePoWithMultiLines(e){let t=this.record.po_multi_matched[e],l=t.po_line_id,a=this.findPOByPoId(t.purchase_order_number,l);this.record.po_multi_matched.splice(e,1),this.getLineItemsPoV3Ref().setConnectedLineItems(!0);const o=new CustomEvent("connection_remove",{detail:{data:null,isPoId:!1}});if(document.dispatchEvent(o),l&&a)for(let[i,s]of t.table_lines.entries())this.getLineItemsPoV3Ref().makeConnectionAndsave(s.table_line_id,a)},getFieldValues(){for(let e of this.record.fields)this.get_fields.hasOwnProperty(e.name)&&(this.get_fields[e.name]=e.formatted_value);this.record.showStaticPo&&(this.get_fields["purchase_order"]=this.record.showStaticPo)},renderMultiplePOItems(){return ya(this,void 0,void 0,(function*(){try{let e={};e=this.getPurchaseOrderData();for(let[t,l]of Object.entries(e))this.addToPoItems(t,l);if(this.is_view_readonly)return;yield this.addPoItemsFromHeaderPO(),yield this.addPoItemsFromLineItemsPO()}catch(e){}}))},fetchAddPoItems(e){return ya(this,void 0,void 0,(function*(){if(this.po_items[e]||this.fetched_po_items.hasOwnProperty(e))return;let t=yield this.getPOitems(e);this.fetched_po_items[e]=t,this.addToPoItems(e,t,!0)}))},addPoItemsFromHeaderPO(){return ya(this,void 0,void 0,(function*(){this.get_fields["purchase_order"]&&(this.po_items[this.get_fields["purchase_order"]]||(yield this.fetchAddPoItems(this.get_fields["purchase_order"])))}))},addPoItemsFromLineItemsPO(){return ya(this,void 0,void 0,(function*(){if(!this.record.tables||0==this.record.tables.length||!this.record.tables[0].hasOwnProperty("rows")||0==this.record.tables[0].rows.length)return;const e=["purchase_order_number",,"purchase_order"];for(const[t,l]of this.record.tables[0].rows.entries())if(!0!==l.is_deleted)for(const[a,o]of l.columns.entries())e.includes(o.name.toLowerCase())&&""!==o.value&&(yield this.fetchAddPoItems(o.value))}))},addToPoItems(e,t,l=!1){(0,gt.z)(this.po_items)&&(this.po_items={}),0!=(0,gt.Ns)(t)&&(this.po_items[e]=t,l?this.setPoItemsforSave():this.handlePoItemsUpdate())},handlePoItemsUpdate(){this.buildPoLinesObj(this.record.po_items),this.setupSupplierItemNumbers(this.record.po_items),this.handleCharges(this.record.po_items)},removeFromPoItems(e,t=!0){(0,gt.z)(this.po_items)||0==(0,gt.Ns)(this.po_items)||(delete this.fetched_po_items[e],delete this.po_items[e],t&&this.setPoItemsforSave())},setPoItemsforSave(){this.record&&(this.record.hasOwnProperty("po_items")||(this.record.po_items={}),this.record.po_items=this.po_items,this.handlePoItemsUpdate())},getPurchaseOrderData(){let e={};return this.record&&this.record.po_items?(e=this.record.po_items,e):e},getPOitems(e){return ya(this,void 0,void 0,(function*(){let t=[];try{if(!this.record.editable||(0,gt.jw)(e))return;const l={};l.purchase_order_number=e,l.limit=-1;const a=yield ut.A0.getPOitems(l);if(!1===a.success)throw{message:"Api response error"};!1!==a.success&&(t=a)}catch(l){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(l)}return t}))},searchPurchaseOrder(){try{if(!this.record.editable)return;if((0,gt.jw)(this.po_search))return;this.po_preview=!0}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.processing=!1}},clearSearch(){this.po_search="",this.po_preview_items=[],this.po_preview=!1,this.po_search_keyword=""},addToPoItemsList(){this.po_preview_items&&this.record.editable&&(this.addToPoItems(this.po_search,this.po_preview_items,!0),this.setActiveTab(),this.clearSearch())},togglePoImage(){"chevron_left"===this.togglerIcon?this.togglerIcon="chevron_right":this.togglerIcon="chevron_left",(0,ee.$)("#po-image-container").classList.toggle("hidden"),(0,ee.$)("#po-container-parrent").classList.toggle("po-container-parrent"),(0,ee.$)("#po-container-parrent").classList.toggle("po-container-parrent-full-width")},keyDownEvent(e){if("Enter"===e.key){const t=e.target;null!==t&&t.hasAttribute("data-id")&&"po_search"===t.getAttribute("data-id")&&this.searchPurchaseOrder()}else if(!e.ctrlKey||"f"!==e.key&&"F"!==e.key)if(!e.ctrlKey||"a"!==e.key&&"A"!==e.key)if(!e.ctrlKey||"s"!==e.key&&"S"!==e.key)if(!e.ctrlKey||"e"!==e.key&&"E"!==e.key)if(!e.ctrlKey||"d"!==e.key&&"D"!==e.key)if(!e.ctrlKey||"h"!==e.key&&"H"!==e.key)if(!e.ctrlKey||"k"!==e.key&&"K"!==e.key)if(!e.ctrlKey||"r"!==e.key&&"R"!==e.key){if(e.ctrlKey&&("m"===e.key||"M"===e.key)){e.preventDefault();const t=this.poElements[this.currentPoElementIndex];t&&t.focus(),this.currentPoElementIndex<this.poElements.length-1?this.currentPoElementIndex++:this.currentPoElementIndex=0}}else{e.preventDefault();const t=new CustomEvent("reject_document",{});document.dispatchEvent(t)}else e.preventDefault(),setTimeout((()=>{(0,ee.$)("#keyboard_po_btn").click()}),10);else e.preventDefault(),setTimeout((()=>{(0,ee.$)("#help_po_btn").click()}),10);else e.preventDefault(),setTimeout((()=>{(0,ee.$)("#po_training_mode_btn").click()}),10);else{e.preventDefault();const t=new CustomEvent("confirm_and_export",{});window.dispatchEvent(t)}else e.preventDefault(),setTimeout((()=>{(0,ee.$)("#save_po_btn").click()}),10);else e.preventDefault(),setTimeout((()=>{(0,ee.$)("#auto_po_match_btn").click()}),10);else e.preventDefault(),setTimeout((()=>{(0,ee.$)("#search-po").querySelector("label").click()}),10)},goToHelp(){window.open(ie.v6N,"_blank")},TableDragModeHandler(e){e&&!this.is_view_readonly?this.allowPOTableDrag=!0===e.detail:this.allowPOTableDrag=!1},updateTableDataForSave(e){e&&e.detail&&this.record&&this.record.tables&&(this.updateTables(e),this.debounceAutoSaveFunc())},updateTables(e){this.record.tables=e.detail,this.setDataToCache()},saveDataOnChanges(){return ya(this,void 0,void 0,(function*(){this.is_view_readonly||this.blockSaveWhileRecalculating||this.auto_save_data&&(this.processing=!0,this.auto_saving=!0,this.auto_saved_done=!1,!0===this.ext_table_train?yield this.saveExtAppData():yield this.saveData(!1),this.getLineItemsPoV3Ref().setConnectedLineItems(!1),this.isSavePending=!1,this.auto_saving=!1,this.auto_saved_done=!0,this.calculateMatchedTotal(),setTimeout((()=>{this.auto_saved_done=!1}),1e4),this.processing=!1)}))},addToPoItemsForPoMatch(e,t,l=!1){(0,gt.z)(this.po_items)&&(this.po_items={}),0!=(0,gt.Ns)(t)&&(this.po_items[e]=t,l?this.setPoItemsforSave():(this.buildPoLinesObj(this.record.po_items),this.handleCharges(this.record.po_items)))},refreshPOinfoForPoMatch(){let e={};e=this.getPurchaseOrderData();for(let[t,l]of Object.entries(e))this.addToPoItemsForPoMatch(t,l)},saveDataForPoMatch(e=!0){return ya(this,void 0,void 0,(function*(){try{if(this.is_view_readonly)return;e&&(this.processing=!0);const t=yield this.saveDocument(this.docId);if(!1===t.success){if(t.message)throw{message:t.message};throw{}}this.refreshPOinfoForPoMatch(),e&&this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.processing=!1}}))},saveDataOnChangesForPoMatch(){return ya(this,void 0,void 0,(function*(){this.is_view_readonly||this.blockSaveWhileRecalculating||this.auto_save_data&&(this.processing=!0,this.auto_saving=!0,this.auto_saved_done=!1,!0===this.ext_table_train?yield this.saveExtAppData():yield this.saveDataForPoMatch(!1),this.auto_saving=!1,this.auto_saved_done=!0,this.calculateMatchedTotal(),setTimeout((()=>{this.auto_saved_done=!1}),1e4),this.processing=!1)}))},deleteTableLine(e){e&&e.detail&&e.detail.tables&&this.record&&this.record.tables&&(this.record.tables=e.detail.tables,this.removeOldPoConnection({detail:{data:e.detail.connection_info}}),this.setDataToCache(),this.debounceAutoSaveFunc(),this.initLineItems())},triggerTableConversion(e){this.convertPoLineToLineTable(e)},convertPoLineToLineTable(e){return ya(this,void 0,void 0,(function*(){if(e&&e.detail)try{if(this.is_view_readonly)return;let t;this.processing=!0;const l=this.getPoNumbers(e.detail);let a=yield this.getToken(),o=new FormData;if(o.append("data",JSON.stringify(this.record)),o.append("purchase_order_numbers",l),o.append("org_id",(0,ga.I)()),t=yield G.A.post(oe.FH.get_table_from_po_numbers,o,{headers:{Authorization:a}}),!1===t.data.success)throw"Api response error";this.record=t.data.data,this.initPage(),this.debounceAutoSaveFunc(),this.TableDragModeHandler({detail:!1})}catch(t){if(null!=t&&"object"==typeof t&&t.hasOwnProperty("message"))return void this.showErrorToast(t.message);this.showErrorToast(t),logError(t)}finally{this.processing=!1}}))},getPoNumbers(e){if(Array.isArray(e))return e.join();if(("string"===typeof e||e instanceof String)&&""!=e)return e;throw"No Purchase number found"},autoPoMatch(){return ya(this,void 0,void 0,(function*(){try{if(this.processing=!0,this.is_view_readonly)return;const e=this.getPurchaseOrderData();if(!e||0===Object.keys(e).length)throw{message:"No Po Lines Found"};if(!this.record.tables||0==this.record.tables.length||!this.record.tables[0].hasOwnProperty("rows")||0==this.record.tables[0].rows.length)throw{message:"No Line Table found"};const t={data:JSON.stringify(this.record)},l=yield ut.A0.autoMatch(t);if(!1===l.success)throw l;this.record=l.data,this.syncDataAfterAutoMatch()}catch(e){const t=se.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1}}))},syncDataAfterAutoMatch(){this.setDataToCache(),this.verifyExport(),this.calculateMatchedTotal(),this.syncPoMatched()},deleteLineTable(){"PO_CONVERTED_TABLE"===this.table_name&&(this.processing=!0,this.record&&(this.record.hasOwnProperty("po_multi_matched")&&(this.record.po_multi_matched=[]),this.updateTables({detail:[]}),this.debounceAutoSaveFunc(),this.initPage(),this.processing=!1))},deletePoTab(){if(!this.delete_tab_po_number||""===this.delete_tab_po_number)return;this.removeFromPoItems(this.delete_tab_po_number);this.removePoConnection(this.delete_tab_po_number);this.debounceAutoSaveFunc(),this.initPage()},triggerPoSearch(e){"Enter"===e.key&&this.triggerPoSearchOnKeyword(e.target.value)},triggerPoSearchOnKeyword(e){try{this.initFilterModel(),this.filterModel["q"]=e,this.po_preview=!0}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.poLoading=!1}},getSelectedPOitems(e){try{if(this.po_search=e,(0,gt.jw)(this.po_search)||!this.record.editable||"no_data_found"===this.po_search)return;this.triggerPoSearchOnKeyword(this.po_search)}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}},searchPurchaseOrderList(e,t,l){return ya(this,void 0,void 0,(function*(){if(!this.record.editable||(0,gt.jw)(e)||e.length<2)l();else try{this.processing=!0,e=this.removeSpaces(e);let l=[],a=yield this.getPONumberMatchlist(e);this.po_search=e,(0,gt.Ns)(a)>1&&a.forEach(((e,t)=>{const a=e.purchase_order_number;l.push(Object.assign({},{value:a,label:a}))})),0==(0,gt.Ns)(a)&&l.push(Object.assign({},{value:"no_data_found",label:this.$t("no_data_found")})),t((()=>{this.po_number_options=l})),1==(0,gt.Ns)(a)&&this.getSelectedPOitems(a[0].purchase_order_number)}catch(a){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(a)}finally{this.processing=!1}}))},displayPONumbersAsOption(e){let t="<strong>"+e.substr(0,this.po_search.length)+"</strong>";return t+=e.substr(this.po_search.length),t},getPONumberMatchlist(e){return ya(this,void 0,void 0,(function*(){let t,l=[];try{let a="?keyword="+e,o=yield this.getToken();t=yield G.A.get((0,ga.MV)(oe.FH.get_purchase_orders_list+a),{headers:{Authorization:o}}),!1!==t.data.success&&(l=t.data)}catch(a){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(a)}return l}))},getPoFieldValue(){this.record.fields.forEach(((e,t)=>{"purchase_order"===e.name&&(this.poFieldValue=e.formatted_value)}))},isDeleteAble(e){return!e||e!==this.poFieldValue},proceedToCloseTab(e){if(!this.is_view_readonly)return e?void(this.isDeleteAble(e)&&(this.delete_tab_po_number=e,this.delete_tab_confirmation=!0)):(this.removeFromPoItems(e),void this.initPage())},cleanupPoMatched(){if(!this.record||!this.record.hasOwnProperty("po_multi_matched"))return;const e=this.getCompactPoLines();if(0==e.length)return this.record.po_multi_matched=[],void this.syncPoMatched();const t=this.getCompactLineItems();if(0==t.length)return this.record.po_multi_matched=[],void this.syncPoMatched();const l=[];for(let[a,o]of this.record.po_multi_matched.entries()){let i=this.getLineIds(o),s=this.getPurchaseOrderNumbers(o);for(let e of i)0==t.includes(e)&&(l.includes(a)||l.push(a));for(let t of s)0==e.includes(t)&&(l.includes(a)||l.push(a))}0!=l.length&&(this.record.po_multi_matched=this.record.po_multi_matched.filter(((e,t)=>!l.includes(t))),this.syncPoMatched())},syncPoMatched(){this.initLineItems(),this.initPoLines(),this.debounceAutoSaveFunc()},initPoLines(){const e=new CustomEvent("init_po_lines",{});document.dispatchEvent(e)},getCompactLineItems(){const e=[],t=(0,ee.$)("#line_item_table").querySelectorAll(".line-item-tr");if(0==t.length)return e;for(var l=0;l<t.length;l++){let a=t[l];a.dataset.id&&e.push(a.dataset.id)}return e},getCompactPoLines(){const e=[];if(0==(0,gt.Ns)(this.po_items))return e;for(const[t,l]of Object.entries(this.po_items))for(const[a,o]of Object.entries(l)){const t=o;e.push(t.id)}return e},confirmRefreshData(e){if(this.record.hasOwnProperty("po_multi_matched")&&this.record.po_multi_matched.length>0)return this.showConfirmSyncDlg=!0,void(this.poToRefresh=e);this.refreshAlreadyAddedItem(e)},refreshAlreadyAddedItem(e){return ya(this,void 0,void 0,(function*(){try{if(this.is_view_readonly)return;this.processing=!0,this.po_preview_items=yield this.getPOitems(e),this.po_preview=!0,this.po_search=e,this.addToPoItemsList(),this.processing=!1,this.saveData(),this.addToPoItemsList(),this.processing=!1,this.record.po_multi_matched=[];const t=new CustomEvent("reload_received_delivery_lines",{});document.dispatchEvent(t),this.syncPoMatched()}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}this.poToRefresh=""}))},displayAdvanceFilterResults(e){this.showAdanceFilter=!1,this.po_search="",this.po_preview_items=[],this.po_search_keyword="",e.data&&0!=e.data.length||this.showErrorToast(this.$t("no_data_found")),this.totalRecords=e.metadata.total_results,this.po_preview_items=e.data},proceedPoSelection(e){return ya(this,void 0,void 0,(function*(){try{if((0,gt.jw)(e)||(0,gt.z)(e))return;this.processing=!0,this.po_search=e,this.po_preview_items=[];let t=yield this.getPOitems(this.po_search);if(this.po_preview_items=t,(0,gt.jw)(this.po_search)||(0,gt.z)(this.po_search))return void this.clearSearch();this.addToPoItemsList(),this.processing=!1}catch(t){logError(t)}}))},triggerAutoMatch(){this.execute_auto_export=!0,this.checkAutoExport(!1)},checkAutoExport(e=!0){return ya(this,void 0,void 0,(function*(){if(this.execute_auto_export&&!this.is_view_readonly&&(this.execute_auto_export=!1,this.auto_match_alert=!1,(0,gt.z)(this.record.po_multi_matched)||0==this.record.po_multi_matched.length?yield this.autoPoMatch():this.auto_match_alert=!0,this.record.hasOwnProperty("po_match_status")&&!(0,gt.z)(this.record.po_match_status)&&fl.A0.includes(this.record.po_match_status))){if(!(0,gt.z)(this.pending_amount)&&!(0,gt.jw)(this.pending_amount)){const e=parseFloat(this.pending_amount.replace(/[^0-9]/g,""));if(e>0)return}e&&this.$refs["exportBtns"].confirmAndExport()}}))},getToleranceLevel(){return ya(this,void 0,void 0,(function*(){let e;try{this.processing=!0;const t={doc_type:this.selected_doc_type};if(e=yield ut.A0.getToleranceList(t),!e.success||!e.data)throw e}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing=!1}this.unit_price_tolerance=e.data.unit_price_tolerance?e.data.unit_price_tolerance:.5,this.quantity_tolerance=e.data.quantity_tolerance?e.data.quantity_tolerance:.5,this.quantity_tolerance_type=e.data.quantity_tolerance_type?e.data.quantity_tolerance_type:this.percent,this.unit_price_tolerance_type=e.data.unit_price_tolerance_type?e.data.unit_price_tolerance_type:this.percent,e.data.hasOwnProperty("item_specific_tolerances")&&Object.keys(e.data.item_specific_tolerances).forEach(((t,l)=>{this.itemSpecificTolerancesMap.set(t,e.data.item_specific_tolerances[t])})),e.data.hasOwnProperty("supplier_item_specific_tolerances")&&Object.keys(e.data.supplier_item_specific_tolerances).forEach(((t,l)=>{this.itemSpecificTolerancesMap.set(t,e.data.supplier_item_specific_tolerances[t])}))}))},updatePoTabs(){return ya(this,void 0,void 0,(function*(){this.visible_columns=yield this.getSavedColumns(this.po_table_columns+"_"+this.record.doc_type),this.tabsKey++}))},gotoTaskPendingList(){const e=(0,yt.OP)();e.getSavedListSettings(),e.setItemInFiltersMap("keyword",this.docId);const t=[];t.push({value:"open",label:"open"}),t.push({value:"in_progress",label:"in_progress"}),e.setItemInFiltersMap("status",t),this.$router.push("/tasks")},lineItemsLoaded(){this.first_time_view_render&&(this.first_time_view_render=!1,this.verifyMatchedPoIds())},verifyMatchedPoIds(){for(const[e,t]of Object.entries(this.po_connected_items))if(!this.lineDataObj.hasOwnProperty(e)){this.triggerAutoMatch();break}},setActiveTab(){0!=(0,gt.Ns)(this.po_items)&&(""!=this.tab&&this.po_items.hasOwnProperty(this.tab)&&1!=(0,gt.Ns)(this.po_items)||(this.tab=Object.keys(this.po_items)[0]))},setupSupplierItemNumbers(e){return ya(this,void 0,void 0,(function*(){try{if(this.is_view_readonly)return;let t=this.getSupplierId();if((0,gt.jw)(t))return;let l=[];if(e&&(0,gt.Ns)(e)>0)for(const[e,o]of Object.entries(this.po_items))o.hasOwnProperty("supplier_item_id")&&!this.po_supplier_item_numbers.hasOwnProperty(o.supplier_item_id)&&l.push(o.supplier_item_id);const a=l.join(",");yield this.getItemNumberDictionary(t,a)}catch(t){logError(t)}}))},getSupplierId(){let e="";return this.record.fields&&Array.isArray(this.record.fields)&&this.record.fields.length>0&&this.record.fields.forEach(((t,l)=>{"supplier_id"===t.name&&(e=t.formatted_value)})),e},getItemNumberDictionary(e,t){return ya(this,void 0,void 0,(function*(){try{if((0,gt.jw)(e)||this.fetched_suppliers.hasOwnProperty(e))return;const l=yield ut.A0.getSupplierItemNumbers({supplier_id:e,item_numbers:t});if(!l.hasOwnProperty("success")||!1===l.success)throw l;this.fetched_suppliers[e]=!0;const a=l.data;for(const[e,t]of Object.entries(a)){const l={};for(const[e,a]of Object.entries(t))l[a]=a;this.po_supplier_item_numbers[e]=l}}catch(l){logError(l)}}))},routeToBack(){try{if(history.state.back)return void this.$router.back();this.$router.push("/field_validation_v1/"+this.docId)}catch(e){logError(e),this.$router.push("/field_validation_v1/"+this.docId)}},goToAccounting(){this.$router.push("/accounting/"+this.$route.params.id)},copyToClipboard(e){return ya(this,void 0,void 0,(function*(){try{if(!e)return;"number"===typeof e&&(e=e.toString()),yield(0,va.A)(e),this.showSuccessToast(this.$t("success_copy_to_clipboard"))}catch(t){this.showErrorToast(this.$t("error_copy_to_clipboard"))}}))},handleCharges(e){return ya(this,void 0,void 0,(function*(){const t=[];for(const[a,o]of Object.entries(e))this.charges.hasOwnProperty(a)||(this.charges[a]={},t.push(a));if(0!=t.length)try{const e=t.join(","),l=yield ut.nb.getPoCharges({purchase_order_numbers:e});if(!1===l.success)throw l;for(const[t,a]of Object.entries(l.data)){const e=a;this.charges.hasOwnProperty(e.purchase_order_number)||(this.charges[e.purchase_order_number]={}),this.charges[e.purchase_order_number].hasOwnProperty(e.line_number)||(this.charges[e.purchase_order_number][e.line_number]=[]),this.charges[e.purchase_order_number][e.line_number].push(e)}}catch(l){logError(l)}}))},proceedToRouteLeave(){this.isSavePending=!1,this.$router.push(this.routeUrl)},setSavePendingStatus(e){this.isSavePending=e}},beforeRouteLeave:function(e,t,l){if(this.isSavePending)return this.routeUrl=e.fullPath,void(this.showRouteLeaveConfirmation=!0);"function"===typeof this.warning_alert&&this.warning_alert(),this.removeCache(),this.record={},this.fetch_po_items=!0,l()},setup(){const e=(0,yt.q3)(),{record:t,processing:l,doctype:a,auto_saving:o,auto_saved_done:i,error:s,selected_doc_type:n,document_version:r,fetch_po_items:d}=(0,J.bP)(e),{getDocumentById:u,getExtAppPODocumentByID:c,saveExtAppDocument:p,saveDocument:h,removeCache:m,setDataToCache:_,removePoConnection:b,getPurchaseOrderNumbers:v}=e,g=(0,yt._6)(),{token:f}=(0,J.bP)(g),{setAuthToken:y}=g,k=(0,yt.R9)(),{table_columns:w,unit_price_tolerance:C,quantity_tolerance:x,itemSpecificTolerancesMap:L,quantity_tolerance_type:F,unit_price_tolerance_type:E,filterModel:A,po_connected_items:S,lineDataObj:D,is_view_readonly:I,po_supplier_item_numbers:T,pending_amount:O,po_preview_columns:M,po_quantity_column:R,isChargesModuleEnabled:P,charges:q,po_preview:V}=(0,J.bP)(k),{calculateMatchedTotal:N,buildPoLinesObj:B,setTotallineItem:$,initFilterModel:Q,initToleranceModel:X,getSavedColumns:W,prepareFilterRequestParams:K,resetPoMatchStore:U,setPoQuantityColumn:j,getPOColumns:z}=k,H=(0,yt.Bu)(),{user_settings:G,execute_auto_export:Y}=(0,J.bP)(H),{updateSetting:Z,startSettingsFetch:ee}=H,te=(0,yt.G6)(),{connect:le}=te,ie=(0,yt.wt)(),{fetchAttributes:se}=ie,{doc_type_key:ne}=(0,J.bP)(ie),re=(0,yt.oI)(),{releaseDocLock:de}=re;let ue=[];return{releaseDocLock:de,doc_type_key:ne,fetch_po_items:d,charges:q,isChargesModuleEnabled:P,execute_auto_export:Y,getPOColumns:z,startSettingsFetch:ee,pending_amount:O,po_supplier_item_numbers:T,quasarCopyToClipboard:va.A,doctype:a,fetchAttributes:se,setPoQuantityColumn:j,trigger_document_lock:(0,ae.KR)(!1),document_version:r,resetPoMatchStore:U,is_view_readonly:I,lineDataObj:D,po_connected_items:S,prepareFilterRequestParams:K,filterModel:A,selected_doc_type:n,buildPoLinesObj:B,connect:le,updateSetting:Z,initFilterModel:Q,getSavedColumns:W,setTotallineItem:$,initToleranceModel:X,calculateMatchedTotal:N,doc_fetch_error:(0,ae.KR)(s),auto_saving:o,auto_saved_done:i,user_settings:G,removeCache:m,saveDocument:h,setAuthToken:y,setDataToCache:_,getDocumentById:u,saveExtAppDocument:p,removePoConnection:b,getPurchaseOrderNumbers:v,getExtAppPODocumentByID:c,token:f,processing:l,table_columns:w,record:t,tab:(0,ae.KR)(""),profile:(0,ae.KR)(""),po_preview:V,confirmDecision:(0,ae.KR)(!1),isExportDisabled:(0,ae.KR)(!0),po_preview_items:(0,ae.KR)(ue),allowPODragButton:(0,ae.KR)(!0),allowPOTableDrag:(0,ae.KR)(!1),po_items:(0,ae.KR)({}),fetched_po_items:(0,ae.KR)({}),fetched_suppliers:(0,ae.KR)({}),showKeyboardShortcuts:(0,ae.KR)(!1),first_time_view_render:(0,ae.KR)(!0),togglerIcon:(0,ae.KR)("chevron_right"),baseUrl:oe.VA,get_fields:{purchase_order:"",invoice_id:""},po_preview_columns:M,po_quantity_column:R,table_name:(0,ae.KR)(""),auto_save_data:(0,ae.KR)(!0),blockSaveWhileRecalculating:(0,ae.KR)(!1),delete_tab_confirmation:(0,ae.KR)(!1),delete_table_confirmation:(0,ae.KR)(!1),delete_tab_po_number:(0,ae.KR)(""),ext_table_train:(0,ae.KR)(!1),po_number_options:(0,ae.KR)(ue),po_search:(0,ae.KR)(""),po_search_keyword:(0,ae.KR)(""),itemSpecificTolerancesMap:L,unit_price_tolerance:C,quantity_tolerance:x,quantity_tolerance_type:F,unit_price_tolerance_type:E,saveUserPrefToServer:_t.wd,setWithExpiry:ht._Y,error:s,auto_match_alert:(0,ae.KR)(!1)}}});var wa=l(98072),Ca=l(13796),xa=l(66908),La=l(42980),Fa=l(10327),Ea=l(39041),Aa=l(71746),Sa=l(39035);const Da=(0,At.A)(ka,[["render",H],["__scopeId","data-v-5c4d8bb7"]]),Ia=Da;el()(ka,"components",{QSplitter:wa.A,QBtn:$t.A,QIcon:Tt.A,QTooltip:Ot.A,QSelect:Xt.A,QItem:Pt.A,QItemSection:qt.A,QItemLabel:Ca.A,QMenu:Mt.A,QToggle:xa.A,QTabs:La.A,QTab:Fa.A,QList:Rt.A,QSeparator:Nl.A,QTabPanels:Ea.A,QTabPanel:Aa.A,QMarkupTable:Wt.A,QDialog:Kt.A,QCard:Ut.A,QCardActions:zt.A,QCardSection:jt.A,QAvatar:Ht.A,QInnerLoading:Sa.A,QToolbar:Pl.A,QToolbarTitle:ql.A,QField:Yt.A}),el()(ka,"directives",{ClosePopup:Jt.A})},61647:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>it});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-03c55df1"),e=e(),(0,a.jt)(),e),s={class:"full-width sub-header mobile-only"},n={class:"row",style:{padding:"10px 12px"}},r={class:"left-side q-mr-auto ml-24"},d={class:"q-mr-auto"},u={class:"cursor-pointer text-caption"},c={key:0,class:"row highlighted-back q-pl-md q-pr-md q-pb-md"},p={key:1,class:"row approval-conatiner"},h={key:0,class:"col-xs-12 col-sm-12 col-md-3 col-lg-3 q-pl-sm",id:"left_section",style:{"padding-left":"38px"},ref:"left_section"},m={class:"row"},_={style:{position:"relative"}},b={class:"full-width q-pl-sm q-pr-sm"},v={class:"invisible absolute position-absolute"},g={class:"row"},f={class:"q-mr-auto"},y={class:"page-numbers"},k={class:"panel-middle mobile-hide"},w={class:"panel-right mobile-hide"},C={class:"doc-name"},x={class:"full-width full-height",id:"image_container",style:{position:"relative"}},L={class:"col-sm-12 col-md-4 col-lg-3 q-pl-sm"},F={class:"full-width q-ma-sm approval-area-height-right scrolle-y"},E={class:"full-width white-inputs"},A={class:"full-width full-height"},S={class:"row"},D={class:"secondary-c-text text-h6 text-weight-bold"},I={key:1,style:{"margin-left":"8px"}},T={key:0,class:"full-width"},O=i((()=>(0,a.Lk)("div",null,"Comment",-1))),M={class:"q-pt-none"},R={class:"footer-filename"},P={class:"footer-status-message"},q={class:"cursor-pointer"},V={class:"footer-status-message"},N={key:1,class:"row"},B={class:"row q-ml-sm back-white custom-border",style:{width:"138px"}},$=["src"],Q=["src"],X={class:"footer-status-message q-px-sm"};function W(e,t,l,i,W,K){const U=(0,a.g2)("DocumentLock"),j=(0,a.g2)("SubHeader"),z=(0,a.g2)("q-icon"),H=(0,a.g2)("ErrorDocumentView"),G=(0,a.g2)("q-tab"),Y=(0,a.g2)("q-tabs"),J=(0,a.g2)("DocumentLogs"),Z=(0,a.g2)("q-tab-panel"),ee=(0,a.g2)("ApprovalHistory"),te=(0,a.g2)("q-tab-panels"),le=(0,a.g2)("q-btn"),ae=(0,a.g2)("q-tooltip"),oe=(0,a.g2)("AnnotationView"),ie=(0,a.g2)("q-splitter"),se=(0,a.g2)("q-page-sticky"),ne=(0,a.g2)("q-space"),re=(0,a.g2)("q-bar"),de=(0,a.g2)("q-card-section"),ue=(0,a.g2)("q-card"),ce=(0,a.g2)("q-dialog"),pe=(0,a.g2)("Loader"),he=(0,a.g2)("q-separator"),me=(0,a.g2)("q-item-section"),_e=(0,a.g2)("q-item"),be=(0,a.g2)("q-list"),ve=(0,a.g2)("q-menu"),ge=(0,a.g2)("q-toolbar"),fe=(0,a.g2)("q-footer"),ye=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(U,{document_version:e.document_version,trigger_document_lock:e.trigger_document_lock,doc_id:e.docId,onSetTriggerDocumentLock:e.setTriggerDocumentLock},null,8,["document_version","trigger_document_lock","doc_id","onSetTriggerDocumentLock"]),(0,a.bF)(j,{name:"pending_approval",label:e.$t("pending_approval"),display_help_link:!1},null,8,["label"]),(0,a.Lk)("div",s,[(0,a.Lk)("div",n,[(0,a.Lk)("span",r,[(0,a.Lk)("div",d,[(0,a.Lk)("span",{class:"cursor-pointer text-uppercase",onClick:t[0]||(t[0]=(...t)=>e.routeToListPendingApproval&&e.routeToListPendingApproval(...t))},[(0,a.bF)(z,{class:"cursor-pointer",onClick:e.nextImage,name:"chevron_left",size:"sm"},null,8,["onClick"]),(0,a.eW)(" "+(0,o.v_)(e.$t("pending_approval_list")),1)]),(0,a.Lk)("span",u," - "+(0,o.v_)(e.pending_approval_doc_count)+" "+(0,o.v_)(e.$t("invoices_for_release")),1)])])])]),e.error?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.bF)(H)])):((0,a.uX)(),(0,a.CE)("div",p,[e.showActivityPanel?((0,a.uX)(),(0,a.CE)("div",h,[(0,a.bF)(Y,{modelValue:e.activityTab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.activityTab=t),class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bF)(G,{name:"activity_stream",label:e.$t("activity_stream")},null,8,["label"]),e.doc_attributes[e.approval_history]?((0,a.uX)(),(0,a.Wv)(G,{key:0,name:"approval_history",label:e.$t("approval_history")},null,8,["label"])):(0,a.Q3)("",!0)])),_:1},8,["modelValue"]),(0,a.bF)(te,{modelValue:e.activityTab,"onUpdate:modelValue":t[2]||(t[2]=t=>e.activityTab=t),animated:"",class:"scroll-height-100vh-160px"},{default:(0,a.k6)((()=>[(0,a.bF)(Z,{name:"activity_stream"},{default:(0,a.k6)((()=>[(0,a.bF)(J,{docId:e.docId,list_data:e.doc_logs},null,8,["docId","list_data"])])),_:1}),(0,a.bF)(Z,{name:"approval_history"},{default:(0,a.k6)((()=>[(0,a.bF)(ee)])),_:1})])),_:1},8,["modelValue"])],512)):(0,a.Q3)("",!0),(0,a.Lk)("div",{class:(0,o.C4)(["q-pl-md",e.showActivityPanel?"col-xs-12 col-sm-12 col-md-9 col-lg-9":"full-width"]),style:{"padding-left":"48px"}},[(0,a.Lk)("div",m,[(0,a.Lk)("div",_,[(0,a.bF)(le,{size:"sm",dense:"",round:"",unelevated:"",color:"primary",icon:e.showActivityPanel?"chevron_left":"chevron_right",class:"text-white chevron-left-icon",onClick:t[3]||(t[3]=t=>{e.showActivityPanel=!e.showActivityPanel,e.windowResize()})},null,8,["icon"])])]),(0,a.bF)(ie,{modelValue:e.splitterModel,"onUpdate:modelValue":[t[5]||(t[5]=t=>e.splitterModel=t),t[6]||(t[6]=t=>e.windowResize())],class:"approval-content-area q-pl-sm"},{before:(0,a.k6)((()=>[(0,a.Lk)("div",b,[(0,a.Lk)("div",v,[(0,a.Lk)("div",g,[(0,a.Lk)("div",f,[(0,a.bF)(z,{class:"up-arrow cursor-pointer",onClick:e.prevImage,name:"expand_less",size:"sm"},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("previous")),1)])),_:1})])),_:1},8,["onClick"]),(0,a.bF)(z,{class:"down-arrow cursor-pointer",onClick:e.nextImage,name:"expand_more",size:"sm"},{default:(0,a.k6)((()=>[(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("next")),1)])),_:1})])),_:1},8,["onClick"]),(0,a.Lk)("span",y,(0,o.v_)(e.currentPage())+"/"+(0,o.v_)(e.lastPage)+" "+(0,o.v_)(e.$t("page_number_text")),1)]),(0,a.Lk)("div",k,[(0,a.Lk)("span",null,[e.record.status==e.in_review?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t("in_review")),1)],64)):e.second_approval?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.$t("second_approval")),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.eW)((0,o.v_)(e.$t("first_approval")),1)],64))])]),(0,a.Lk)("div",w,[(0,a.Lk)("span",{class:"cursor-pointer q-mr-md text-uppercase",onClick:t[4]||(t[4]=(...t)=>e.downloadFile&&e.downloadFile(...t))},(0,o.v_)(e.$t("download")),1),(0,a.Lk)("span",C,(0,o.v_)(e.record.filename),1)])])]),((0,a.uX)(),(0,a.CE)("div",{class:"full-width",key:e.refreshAnnotationView},[(0,a.Lk)("div",x,[(0,a.bF)(oe,{ref:"child_comp",enableEditing:e.enable_editing,cropUrl:e.image+"?"+e.tokenQueryParam,width:e.imageWidth,screenmode:e.screenmode,selectFont:e.selectFont,selectFontSize:e.selectFontSize,selectColor:e.selectColor},null,8,["enableEditing","cropUrl","width","screenmode","selectFont","selectFontSize","selectColor"])])]))])])),after:(0,a.k6)((()=>[(0,a.Lk)("div",L,[(0,a.Lk)("div",F,[(0,a.Lk)("div",E,[(0,a.Lk)("div",A,[(0,a.Lk)("div",S,[(0,a.Lk)("span",D,[e.record.status==e.in_review?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t("review_fields")),1)],64)):((0,a.uX)(),(0,a.CE)("div",I,(0,o.v_)(e.$t("auto_detect")),1))])]),e.isModelReady()?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[e.renderComponent?((0,a.uX)(),(0,a.CE)("div",T,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.formLayout,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:`div-${l}`},[t.is_hidden||void 0!=t.visibile&&!t.visibile?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",{key:0,class:"display-block field-padding",style:(0,o.Tr)("width:"+t.elementWidth+"%")},[((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.fieldType),{currentField:t,isReadOnly:e.isReadOnly,fieldName:t.name,groupIndex:l,onInputClicked:e.htmlElementClick,onInputValueChanges:e.onInputValueChanges,onUpdateModel:e.updateModel},null,40,["currentField","isReadOnly","fieldName","groupIndex","onInputClicked","onInputValueChanges","onUpdateModel"]))],4))],64)))),128))])):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)])])])])])),_:1},8,["modelValue"])],2),(0,a.bF)(se,{position:"bottom-right",offset:[8,8],class:"hidden small-only"},{default:(0,a.k6)((()=>[(0,a.bF)(le,{fab:"",icon:"chat",color:"primary",padding:"sm",onClick:t[7]||(t[7]=t=>e.chatWindow=!0)})])),_:1})])),(0,a.bF)(ce,{modelValue:e.chatWindow,"onUpdate:modelValue":t[8]||(t[8]=t=>e.chatWindow=t),position:"bottom"},{default:(0,a.k6)((()=>[(0,a.bF)(ue,{class:"full-width"},{default:(0,a.k6)((()=>[(0,a.bF)(re,{class:"bg-primary text-white"},{default:(0,a.k6)((()=>[O,(0,a.bF)(ne),(0,a.bo)((0,a.bF)(le,{dense:"",flat:"",icon:"close"},null,512),[[ye]])])),_:1}),(0,a.bF)(de,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",M,[(0,a.bF)(J,{docId:e.docId,list_data:e.doc_logs},null,8,["docId","list_data"])])])),_:1}),(0,a.bF)(de,{class:"q-pt-none"})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(pe),(0,a.bF)(fe,{class:"validation-status-bar back-white"},{default:(0,a.k6)((()=>[(0,a.bF)(ge,{class:"row justify-start opened-right-padding"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",R,(0,o.v_)(e.record.filename),1),(0,a.bF)(le,{size:"md",flat:"",dense:"",class:"q-ml-xs",onClick:e.downloadFile},{default:(0,a.k6)((()=>[(0,a.bF)(z,{name:"download",style:{color:"#8a8a8a"}})])),_:1},8,["onClick"]),(0,a.bF)(he,{vertical:"",class:"q-mx-md"}),(0,a.Lk)("span",P,[e.second_approval?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t("second_approval")),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.$t("first_approval")),1)],64))]),(0,a.bF)(he,{vertical:"",class:"q-mx-md"}),(0,a.Lk)("span",q,(0,o.v_)(e.pending_approval_doc_count)+" "+(0,o.v_)(e.$t("invoices_for_release")),1),(0,a.bF)(he,{vertical:"",class:"q-mx-md"}),(0,a.bF)(ne),e.record.table_blocked?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(he,{vertical:"",class:"q-mx-md"}),(0,a.bF)(z,{class:"text-blue",style:{"font-size":"22px"},name:"info"}),(0,a.Lk)("span",V,(0,o.v_)(e.$t("block_supplier_warning")),1)],64)):(0,a.Q3)("",!0),(0,a.bF)(le,{dense:"",class:"q-mr-sm custom-border back-white",flat:"",size:"12px",onClick:t[9]||(t[9]=t=>{e.showStampMenu=!0,e.showFontMenu=!1,e.screenmode="stamp"})},{default:(0,a.k6)((()=>[(0,a.bF)(z,{name:"img:annotation/stamp_icon.svg",class:"icon-grey-svg"}),(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("annotation.stamp_annotation")),1)])),_:1})])),_:1}),(0,a.bF)(le,{size:"12px",dense:"",flat:"",class:"q-mr-sm custom-border back-white",onClick:t[10]||(t[10]=t=>{e.showFontMenu=!0,e.showStampMenu=!1,e.screenmode="annotate"})},{default:(0,a.k6)((()=>[(0,a.bF)(z,{name:"text_format",class:"icon-grey"}),(0,a.bF)(ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("annotation.text_annotation")),1)])),_:1})])),_:1}),(0,a.Lk)("div",null,[(0,a.bF)(le,{size:"12px",flat:"",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[11]||(t[11]=t=>{e.selectColor="#000000",e.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,a.k6)((()=>[(0,a.bF)(z,{color:"black",name:"title"})])),_:1}),(0,a.bF)(le,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[12]||(t[12]=t=>{e.selectColor="#f44336",e.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,a.k6)((()=>[(0,a.bF)(z,{color:"red",name:"title"})])),_:1}),(0,a.bF)(le,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[13]||(t[13]=t=>{e.selectColor="#4caf50",e.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,a.k6)((()=>[(0,a.bF)(z,{color:"green",name:"title"})])),_:1}),(0,a.bF)(le,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[14]||(t[14]=t=>{e.selectColor="#2196f3",e.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,a.k6)((()=>[(0,a.bF)(z,{color:"blue",name:"title"})])),_:1}),(0,a.bF)(le,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[15]||(t[15]=t=>{e.selectColor="#ffeb3b",e.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,a.k6)((()=>[(0,a.bF)(z,{color:"yellow",name:"title"})])),_:1})]),e.showStampMenu?((0,a.uX)(),(0,a.CE)("div",N,[(0,a.Lk)("div",B,[(0,a.Lk)("img",{class:"q-px-sm",src:e.stamp_dir+e.selectedStamp+e.stamp_ext,style:{width:"100px"}},null,8,$),(0,a.bF)(le,{dense:"",flat:""},{default:(0,a.k6)((()=>[(0,a.bF)(z,{name:"expand_more",class:"icon-grey"}),(0,a.bF)(ve,null,{default:(0,a.k6)((()=>[(0,a.bF)(be,{style:{"min-width":"80px"}},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.sortedStamps,(t=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(_e,{key:t,clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(me,{onClick:l=>e.selectedStamp=t},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{width:"80",src:e.stamp_dir+t+e.stamp_ext},null,8,Q)])),_:2},1032,["onClick"])])),_:2},1024)),[[ye]]))),128))])),_:1})])),_:1})])),_:1})]),(0,a.bF)(le,{label:e.$t("doc2light.pages.add"),class:"q-ml-sm",color:"primary",unelevated:"",onClick:t[16]||(t[16]=t=>e.stampAddClicked())},null,8,["label"])])):(0,a.Q3)("",!0),(0,a.bF)(he,{vertical:"",class:"q-mx-xs"}),(0,a.bF)(le,{disable:1==e.page,icon:"keyboard_arrow_up",flat:"",class:"validation-view-page-button icon-grey",onClick:e.prevImage},null,8,["disable","onClick"]),(0,a.Lk)("span",X,(0,o.v_)(e.currentPage())+"/"+(0,o.v_)(e.lastPage),1),(0,a.bF)(le,{disable:e.page==e.images.length,icon:"keyboard_arrow_down",flat:"",class:"validation-view-page-button icon-grey",onClick:e.nextImage},null,8,["disable","onClick"])])),_:1})])),_:1})],64)}var K=l(82303),U=l(23537),j=l(1659),z=l(24622),H=l(38734),G=l(46162),Y=l(96056),J=l(89156),Z=l(14907),ee=l(45022),te=l(18505),le=l(64775),ae=l(68450),oe=l(49575),ie=l(81589),se=l(73937),ne=l(77362),re=l(12566),de=l(82600),ue=l(96075),ce=l(85487),pe=l(1133),he=l(19369),me=l(41162),_e=l(86366),be=l(96756),ve=l(36488),ge=l(32162),fe=l(86306),ye=l(11470),ke=l(96284),we=l(31986),Ce=l(8903),xe=l(68278),Le=l(76956),Fe=l(83319),Ee=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ae=document.querySelector.bind(document),Se=(0,a.pM)({el:"#app",mixins:[te.A,z.A,Y.A],components:{Notes:he.A,Label:pe.A,Loader:J.A,Button:me.A,CheckBox:ve.A,TextInput:ge.A,SubHeader:ne.A,DocumentLock:ie.A,DocumentLogs:oe.A,AnnotationView:be.A,SecondApprover:fe.A,ApprovalHistory:de.A,DocumentApprover:ke.A,ErrorDocumentView:re.A,HorizontalSeparator:we.A,ExtractedTableTabPanels:xe.A},watch:{doc_status:{deep:!0,handler:function(){this.checkValidStatus()}}},data(){return{default_stamp:Ce.EO,stamp_ext:Ce.K_,stamps:Ce.dA,stamp_dir:Ce.Ul,docId:"",imageHeight:0,imageWidth:0,loading:!1,showArticlePage:!1,renderComponent:!1,chatWindow:(0,H.KR)(!1),enableExportButton:!1,in_review:Le.aH.in_review,allowedDoctypes:Le.Gk,filter_status:"validated_pending_approval",showActivityPanel:(0,H.KR)(!1),enable_editing:(0,H.KR)(!0),splitterModel:(0,H.KR)(50),refreshAnnotationView:(0,H.KR)(0),sortedStamps:[],user_id:(0,se.sE)().id,is_admin:(0,se.N6)(),activityTab:(0,H.KR)("activity_stream")}},beforeRouteLeave:function(e,t,l){return Ee(this,void 0,void 0,(function*(){yield this.releaseDocLock({doc_id:this.record.doc_id}),this.resetDocStore(e.fullPath),this.restoreBeforeLeave(),l()}))},mounted:function(){let e=this.$route.params.id,t=ee.A.getItem("selected_language");t&&(this.locale=t),this.selectedStamp=this.default_stamp,this.sortStampsByLanguage(),this.getDocAnnotations(e),window.addEventListener("resize",this.windowResize),document.body.addEventListener("click",this.mouseClicked,!0),window.rda=this,this.acquireDocLock(),this.init(),document.addEventListener("new_log",this.addNewLog),document.addEventListener("keydown",this.keyDownEvent);for(let l=1;l<=80;l++)this.fontSizes.push(l.toString()+"pt")},unmounted:function(){window.removeEventListener("resize",this.windowResize),document.removeEventListener("new_log",this.addNewLog),document.removeEventListener("keydown",this.keyDownEvent)},methods:{init(){return Ee(this,void 0,void 0,(function*(){this.isSecondApproval(),this.$route.params.id||this.$router.push("/dashboard"),this.second_approval&&(this.filter_status=Le.aH.approved_pending_second_approval),this.docId=this.$route.params.id,yield this.getInvoiceDataByDocId(this.docId);let e=Le.L9.field_validation;this.record.status==Le.aH.validated_pending_approval?e=Le.L9.approval:this.record.status==Le.aH.in_review?(e=Le.L9.review,this.filter_status=Le.aH.in_review):this.record.status==Le.aH.approved_pending_second_approval&&(e=Le.L9.recond_approval,this.filter_status=Le.aH.approved_pending_second_approval),this.renderDocumentLog(),this.renderPendingRecordsCountView(),this.renderNextPrevLinkBtns(),yield this.getLayoutTemplateID(e),yield this.getFormBuilderLayout(),this.fetchAttributes(this.record.doc_type),this.renderComponent=!0,Le.B2.includes(this.record.status)&&(this.isReadOnly=!0),this.handleImageBaseURL(),this.image=this.baseUrl+"/"+(0,ue.v)(this.record.images[0].path),this.images=(0,ue.m)(this.record.images),this.lastPage=this.images.length,this.windowResize()}))},sortStampsByLanguage(){let e=this.$i18n.locale,t=[];"en-us"==e&&(e="en"),this.stamps.forEach((l=>{"de"!=e&&"en"!=e&&(e="en"),l.includes(e)&&t.push(l)})),this.selectedStamp=t[0],this.sortedStamps=t},isSecondApproval(){this.second_approval=!1,this.$route.params.second_approval&&"true"===this.$route.params.second_approval&&(this.second_approval=!0)},getInvoiceDataByDocId(e){return Ee(this,void 0,void 0,(function*(){try{if(this.showLoading(),yield this.getDocumentById(e),!this.record.doc_id)return void this.showErrorToast(this.$t("pages.messages.INVALID_DOCUMENT"))}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(t)}finally{this.hideLoading()}}))},fillFirstApprover(){let e={};return e=this.record.hasOwnProperty("first_approver")?this.createEmptyField("first_approver","",this.record.first_approver):this.createEmptyField("assigned_to","",this.record.assigned_to),e},createEmptyField(e,t="",l=""){return"checkbox"==t&&(l=!1),{confidence:0,name:e,value:l,formatted_value:l,content:l}},getAssignToUsers(){return Ee(this,void 0,void 0,(function*(){yield this.dropdownStore.prepareUsersDropdown(),this.usersList=this.dropdownStore.usersList,this.formBuilderModel["assigned_to"]=this.getUserFullName(this.record.assigned_to),this.setPreviousApprover()}))},setPreviousApprover(){this.second_approval&&this.record.first_approver&&(this.formBuilderModel["first_approver"]=this.getUserFullName(this.record.first_approver))},filterUserList(e,t,l){try{if(""===e)return void t((()=>{this.usersList=this.dropdownStore.usersList}));t((()=>{const t=e.toLowerCase();this.usersList=this.dropdownStore.usersList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}))}catch(a){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(a),l()}},getUserFullName(e){let t=this.dropdownStore.usersList.filter((t=>t.value==e));return t[0].label},isModelReady(){return 0!==(0,ae.Ns)(this.formBuilderConfigModel)},goHelp(){window.open("https://docs.cloudintegration.eu/")},keyDownEvent(e){"d"===e.key&&e.ctrlKey&&(this.showActivityPanel=!this.showActivityPanel)},htmlElementClick(e){this.formBuilderConfigModel[e].fieldType!==_e.VV.BUTTON||this.handleButtons(e)},handleButtons(e){this.formBuilderConfigModel[e].type!=Le.aH.reject?this.formBuilderConfigModel[e].type!=Le.aH.save?this.formBuilderConfigModel[e].type!=Le.aH.request_release?this.formBuilderConfigModel[e].type!=Le.aH.in_review?this.formBuilderConfigModel[e].type!=Le.aH.restart_workflow||this.goToFieldValidation():this.setInReview():this.acceptRequest():this.saveData():this.rejectRequest()},onInputValueChanges(e,t){t!=_e.VV.NOTES&&(this.updateLocalModel(e),this.updateImportJson(e))},updateLocalModel(e){this.formBuilderModel.hasOwnProperty(e)&&(this.formBuilderModel[e].value=this.formBuilderModel[e].formatted_value)},updateImportJson(e,t,l,a=""){try{const o=this.record.fields.find((t=>t.name===e));if(!o){this.record.fields.push({});const o=this.record.fields.length-1;return this.record.fields[o].name=e,this.record.fields[o].content=this.formBuilderModel[e].content,this.record.fields[o].formatted_value=this.formBuilderModel[e].formatted_value,this.record.fields[o].value=this.formBuilderModel[e].value,this.record.fields[o].original_value="",this.record.fields[o].validation_code="",this.record.fields[o].extraction_method=a,this.record.fields[o].is_validated=!0,this.record.fields[o].is_valid=!0,this.record.fields[o].color=Le.aH.success_border_left,!0===this.formBuilderModel[this.connectionId].multi_line?this.record.fields[o].multi_line=!0:this.record.fields[o].multi_line=!1,t&&(this.record.fields[o].coords=t),l&&(this.record.fields[o].page=l),void this.$emit("checkFieldInvalid",this.record.fields[o])}o.hasOwnProperty("original")||(o["original"]=Object.assign({},o)),o.hasOwnProperty("original_value")||(o["original_value"]=o.value),(t||null===t)&&(o.coords=t),l&&(o.page=l),a&&(o.extraction_method=a),o.is_valid=!0,o.is_validated=!0;let i=this.formBuilderModel[e];o.formatted_value=i.formatted_value,o.value=i.value?i.value:i.formatted_value,o.content=i.content,i.hasOwnProperty("api_save")&&i.api_save||(o.value=i.formatted_value),((0,ae.z)(o.formatted_value)||(0,ae.jw)(o.formatted_value))&&(o.content=o.formatted_value),this.formBuilderModel[this.connectionId]&&this.formBuilderModel[this.connectionId].hasOwnProperty("multi_line")&&!0===this.formBuilderModel[this.connectionId].multi_line?o.multi_line=!0:o.multi_line=!1,this.formBuilderModel[e].is_valid=o.is_valid,this.formBuilderModel[e].is_validated=o.is_validated,this.$emit("checkFieldInvalid",o)}catch(o){logError(o)}},setApiData(e){this.record=e,this.$forceUpdate()},windowResize(){setTimeout((()=>{let e=Ae("#image_container");this.imageWidth=e.offsetWidth,this.imageHeight=e.offsetHeight,this.refreshAnnotationView++}),20)},currentPage(){return this.page},prevImage(){let e=this.page-1,t=this.getImagePath(e);this.updateImage(e,t)},nextImage(){let e=this.page+1,t=this.getImagePath(e);this.updateImage(e,t)},getImagePath(e){let t="";for(const[l,a]of Object.entries(this.images)){let l=a;l.pageNumber===e&&(t=l.path)}return t},updateImage(e,t){t&&""!==t&&(this.image=this.baseUrl+"/"+(0,ue.v)(t),this.page=e)},handleImageBaseURL(){this.record.images[0]&&this.record.images[0].path.match(/doc2/g)&&(this.baseUrl=G.VA)},updateApiData(e){e.detail&&(this.record=e.detail)},saveData(){return Ee(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;if(!(yield this.validateData()))return;this.showLoading();const e=yield this.saveDocument(this.docId);if(!1===e.success)return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.showErrorToast(e.message);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.assign_user_error=!1}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}}))},validateData(){return Ee(this,void 0,void 0,(function*(){let e=!0;return(0,ae.z)(this.record.assigned_to)&&(0,ae.z)(this.record.assigned_to_group_id)?(this.showErrorToast(this.$t("pages.messages.ASSIGN_USER_TO_PROCEED")),this.assign_user_error=!0,!1):(0,ae.z)(this.record.assigned_to)?yield this.isUserPartOfGroup():this.record.assigned_to!=this.user_id||(yield this.isUserPartOfGroup())?"approved_pending_second_approval"==this.record.status?this.validateFieldPermission("assigned_to"):"validated_pending_approval"==this.record.status?this.validateFieldPermission("first_approver"):e:(this.showErrorToast(this.$t("pages.messages.NO_PERMISSION")),!1)}))},isUserPartOfGroup(){return Ee(this,void 0,void 0,(function*(){let e=!0;if(!this.record.assigned_to_group_id)return e;try{const t=yield ye.lr.getGroupUsers(this.record.assigned_to_group_id),l=t.map((e=>e.id));l.includes(this.user_id)||this.is_admin||(this.showErrorToast(this.$t("pages.messages.NO_PERMISSION")),e=!1)}catch(t){e=!1;const l=le.t.getErrorMessage(t);this.showErrorToast(l),logError(t)}return e}))},validateFieldPermission(e){let t=!0;return this.record.fields.forEach((l=>{l.name==e&&(l.formatted_value==this.user_id||this.is_admin||(this.showErrorToast(this.$t("pages.messages.NO_PERMISSION")),t=!1))})),t},setInReview(){return Ee(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.showLoading(),yield this.saveData(),yield this.setDocumnetStatus(Le.aH.in_review),this.$router.push("/dashboard")}catch(e){const t=le.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},setDocumnetStatus(e){return Ee(this,void 0,void 0,(function*(){try{const t=yield ye.M8.set_document_status(this.docId,{status:e});if(!1===t.success)throw{message:t.message};this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(t){const e=le.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}}))},goToFieldValidation(){return Ee(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.showLoading(),yield this.saveData(),yield this.setDocumnetStatus(Le.aH.ready_for_validation),this.$router.push("/field_validation_v1/"+this.docId)}catch(e){const t=le.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},acceptRequest(){let e=this.images.length,t=this.getImagePath(e);if(this.updateImage(e,t),this.page===this.images.length){let e="de"===this.locale?"approved_stamp_de":"approved_stamp_en";this.$refs.child_comp.addStampAnnotation(e)}this.record.first_approver=this.record.assigned_to,this.updateRequest("approve")},rejectRequest(){this.second_approval||delete this.record.first_approver,this.updateRequest("reject")},updateRequest(e){return Ee(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;if(!(yield this.validateData()))return;this.showLoading();let t={request_type:e};this.record.notes&&(t["notes"]=this.record.notes);const l=yield this.approveOrRejectDocument(this.docId,t);if(!1===l.success){const e=this.record.document_approval;if(e&&e.approval_requests&&e.approval_requests.length>0&&"RETURN_TO_DASHBOARD"==l.error_code)return void this.$router.push("/dashboard");throw{message:l.message}}this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),"approved_pending_second_approval"==this.doc_status&&this.dashboardFiltersAfterExport(),this.$router.push("/dashboard")}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.hideLoading()}}))},addNewLog(e){e&&e.detail&&this.renderDocumentLog()},renderDocumentLog(){return Ee(this,void 0,void 0,(function*(){try{yield this.getDocumentLogs()}catch(e){logInfo("something went wrong while loading document logs"),logError(e)}finally{this.hideLoading()}}))},getDocumentLogs(){return Ee(this,void 0,void 0,(function*(){let e;this.doc_logs={};let t=new FormData;t.append("action_type","message"),t.append("org_id",(0,ce.I)());let l=yield(0,G.L3)();if(e=yield K.A.post(G.FH.get_document_log+this.docId,t,{headers:{Authorization:l}}),!e.data)throw{message:"no logs from server"};e.data.forEach((e=>{this.doc_logs[e.id.toString()+"_ID"]=e}))}))},downloadFile(){try{let e=G.VA+"/resource/document/"+this.docId+"/"+this.docId+".pdf?"+this.tokenQueryParam;if(!e)return;fetch(e).then((e=>e.blob())).then((e=>{const t=URL.createObjectURL(e),l=document.createElement("a");l.href=t,l.download=this.record.filename,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(t)})).catch((e=>{logError("Error downloading file:",e)}))}catch(e){logError(e)}},routeToListPendingApproval(){this.removeDashboardFilters(),this.$router.push("/dashboard")},renderPendingRecordsCountView(){return Ee(this,void 0,void 0,(function*(){try{let e,t="?filter=current-year&skip=0&limit=100&status="+this.filter_status,l=yield(0,G.L3)();if(e=yield K.A.get((0,ce.MV)(G.FH.get_dashboard_data+t),{headers:{Authorization:l}}),!e.data.documents)throw{message:"no pending documents from server"};this.pending_approval_doc_count=e.data.documents.length,this.pending_approval_doc_count<0&&(this.pending_approval_doc_count=0)}catch(e){logInfo("something went wrong while loading document logs"),logError(e)}finally{this.hideLoading()}}))},renderNextPrevLinkBtns(){return Ee(this,void 0,void 0,(function*(){try{let e,t=yield(0,G.L3)();if(e=yield K.A.get((0,ce.MV)(G.FH.get_next_document+this.docId+"?doc_type="+this.record.doc_type+"&status="+this.filter_status+"&sort_attr=created_on"),{headers:{Authorization:t}}),!1===e.data.success)throw{message:"cannot get response related to next or prev record"};e.data.has_next&&e.data.next_id&&(this.next_record=e.data.next_id),e.data.has_previous&&e.data.previous_id&&(this.prev_record=e.data.previous_id)}catch(e){logInfo("something went wrong while loading document logs"),logError(e)}finally{this.hideLoading()}}))},checkValidStatus(){(0,ae.jw)(this.doc_status)||this.doc_status!==this.filter_status&&this.doc_status!==Le.aH.in_review&&this.doc_status!==Le.aH.approved_pending_second_approval&&(this.error=!0,this.error_message="invalid_status")},routeTo(e){let t="ready-for-approval";this.second_approval&&(t="ready-for-second-approval"),"prev"===e&&this.prev_record&&this.$router.push({path:"/"+t+"/"+this.prev_record,replace:!0}),"next"===e&&this.next_record&&this.$router.push("/"+t+"/"+this.next_record)},updateValue(e,t){"font"==e?this.selectFont=t:"color"==e?this.selectColor=t:"size"==e&&(this.selectFontSize=t)},stampAddClicked(){this.$refs.child_comp.addTemplateAnnotation(this.selectedStamp)},makeModel(){return new Promise(((e,t)=>{let l={};if(void 0!==this.record){this.record.fields.forEach(((e,t)=>{l[e.name]=e})),l["first_approver"]=this.fillFirstApprover(),l["assigned_to"]=this.createEmptyField("assigned_to","",this.record.assigned_to);let e=this.getUpdatedFieldSettings();for(let[t,a]of this.formLayout.entries()){let t=a.hasOwnProperty("field_name")?a.field_name:a.name;e.hasOwnProperty(t)&&(a=Object.assign(a,this.cleanLayoutSettings(e[t]))),this.prepareModel(a,l[t],t)}this.$forceUpdate()}e("done")}))},prepareModel(e,t,l){t||(t=this.createEmptyField(l,e.input_type));let a=e.input_type?e.input_type:e.fieldType;a&&(e.hasOwnProperty("tabIndex")&&!(0,ae.z)(e.tabIndex)||(e.tabIndex=0),this.formBuilderModel[l]={},this.formBuilderConfigModel[l]={},this.formBuilderModel[l]=Object.assign({},t),this.formBuilderConfigModel[l]=Object.assign({},e),t.hasOwnProperty("is_required")&&(this.formBuilderConfigModel[l].is_required=t.is_required),"first_approver"==l&&this.second_approval&&(this.formBuilderConfigModel[l].translation_key="first_approver"))},cleanLayoutSettings(e){return delete e.name,delete e.field,delete e.field_name,delete e.field_type,delete e.title,delete e.translation_key,delete e.is_readonly,e},getFormBuilderLayout(){return Ee(this,void 0,void 0,(function*(){let e;this.formLayout=[];try{if(!this.layout_template_id)return;e=yield ye.H7.getDocumentLayoutTemplateById(this.layout_template_id);let t=JSON.parse(e.layout_json);t&&(this.formLayout=t.hasOwnProperty("layout")?t.layout:[],this.formLayout&&(yield this.makeModel()))}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(t)}}))},getUpdatedFieldSettings(){let e={},t=JSON.parse(JSON.stringify(this.record.layout.groups));return t.forEach(((t,l)=>{t.rows.forEach(((t,l)=>{t.forEach(((t,l)=>{let a=t.field_name;e[a]=t}))}))})),e},updateModel(e){},restoreBeforeLeave(){this.record={},this.error=!1,this.error_message="",this.doc_status="",this.page=1},setTriggerDocumentLock(e){this.trigger_document_lock=e}},setup(){const e=(0,Z.A)();let t=[];const l=(0,Fe.cY)();let{locale:a}=(0,U.s9)({useScope:"global"});const o=(0,Fe.q3)(),{approveOrRejectDocument:i,getDocumentById:s,getDocAnnotations:n,saveDocument:r,getLayoutTemplateID:d,resetDocStore:u}=o,{record:c,doc_status:p,error:h,error_message:m,page:_,layout_template_id:b,document_version:v}=(0,j.bP)(o),g=(0,Fe.fX)(),{removeSavedFilters:f,saveFilters:y,dashboardFiltersAfterExport:k}=g,w=(0,Fe._6)(),{tokenQueryParam:C}=(0,j.bP)(w);w.getTokenQueryParam();const x=(0,Fe.uL)(),{second_approval:L,formBuilderModel:F,formLayout:E,formBuilderConfigModel:A}=(0,j.bP)(x),S=(0,Fe.wt)(),{model:D}=(0,j.bP)(S),{fetchAttributes:I}=S,T=(0,Fe.oI)(),{releaseDocLock:O,acquireDocLock:M}=T,{doc_lock:R}=(0,j.bP)(T);return{saveDocument:r,getDocumentById:s,fetchAttributes:I,getLayoutTemplateID:d,savedDashboardFilters:y,removeDashboardFilters:f,approveOrRejectDocument:i,dashboardFiltersAfterExport:k,page:_,error:h,record:c,doc_status:p,error_message:m,doc_attributes:D,approval_stamp:Le.Y_,tokenQueryParam:C,approval_history:Le.Nm,locale:(0,H.KR)(a),dropdownStore:l,image:"",images:t,lastPage:(0,H.KR)(0),baseUrl:G.VA,isReadOnly:!1,usersList:(0,H.KR)([]),assign_user_error:(0,H.KR)(!1),doc_logs:(0,H.KR)({}),pending_approval_doc_count:(0,H.KR)(0),next_record:(0,H.KR)(""),prev_record:(0,H.KR)(""),second_approval:L,showNotification(t){e.notify({message:t,color:"primary",position:"top"})},getDocAnnotations:n,showFontMenu:(0,H.KR)(!0),showStampMenu:(0,H.KR)(!1),selectColor:(0,H.KR)("#000000"),selectFont:(0,H.KR)("Helvetica"),fontlist:["Helvetica","Times New Roman","Arimo","Caladea","Carlito","Cousine","Liberation Serif","Arial"],selectFontSize:(0,H.KR)(20),fontSizes:[],showDoc:(0,H.KR)(!1),selectedStamp:(0,H.KR)(""),screenmode:(0,H.KR)("annotate"),formLayout:E,formBuilderModel:F,formBuilderConfigModel:A,layout_template_id:b,trigger_document_lock:(0,H.KR)(!1),document_version:v,releaseDocLock:O,acquireDocLock:M,doc_lock:R,resetDocStore:u}}});var De=l(12807),Ie=l(50492),Te=l(42980),Oe=l(10327),Me=l(39041),Re=l(71746),Pe=l(56384),qe=l(98072),Ve=l(97410),Ne=l(13718),Be=l(82156),$e=l(23316),Qe=l(18670),Xe=l(93676),We=l(44189),Ke=l(57092),Ue=l(36914),je=l(10386),ze=l(84436),He=l(53999),Ge=l(90124),Ye=l(25173),Je=l(1444),Ze=l(67156),et=l(42315),tt=l(88672),lt=l(98582),at=l.n(lt);const ot=(0,De.A)(Se,[["render",W],["__scopeId","data-v-03c55df1"]]),it=ot;at()(Se,"components",{QIcon:Ie.A,QTabs:Te.A,QTab:Oe.A,QTabPanels:Me.A,QTabPanel:Re.A,QBtn:Pe.A,QSplitter:qe.A,QTooltip:Ve.A,QPageSticky:Ne.A,QDialog:Be.A,QCard:$e.A,QBar:Qe.A,QSpace:Xe.A,QCardSection:We.A,QFooter:Ke.A,QToolbar:Ue.A,QSeparator:je.A,QMenu:ze.A,QList:He.A,QItem:Ge.A,QItemSection:Ye.A,QSlider:Je.A,QField:Ze.A,QTable:et.A}),at()(Se,"directives",{ClosePopup:tt.A})},92657:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Tt});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-3a6f01da"),e=e(),(0,a.jt)(),e),s={class:"full-width sub-header mobile-only"},n={class:"row",style:{padding:"10px 12px"}},r={class:"left-side q-mr-auto ml-24"},d={class:"q-mr-auto"},u={class:"cursor-pointer text-caption"},c={key:0,class:"row highlighted-back q-pl-md q-pr-md q-pb-md"},p={key:1,class:"row approval-conatiner"},h={class:"col-xs-12 col-sm-12 col-md-3 col-lg-3 q-pl-sm",id:"left_section",ref:"left_section"},m={class:"full-width scroll-area-height-approval"},_={key:0,class:"back-white q-pa-md gray-border",style:{"border-radius":"5px","margin-right":"8px"}},b={class:"row"},v={class:"q-mr-auto"},g={class:"text-h6 text-weight-bold"},f={class:"panel-right"},y={class:"text-h6 text-weight-bold"},k={class:"row"},w={class:"q-mr-auto ml-30"},C=i((()=>(0,a.Lk)("div",{class:"panel-right"},null,-1))),x={class:"q-pr-sm full-width small-hide"},L={class:"col-xs-12 col-sm-12 col-md-5 col-lg-6 q-pl-sm back-white gray-border",style:{"border-radius":"5px"}},F={class:"full-width q-ma-sm approval-area-height-right scrolle-y"},E={class:"invisible absolute position-absolute"},A={class:"row"},S={class:"q-mr-auto"},D={class:"page-numbers"},I=i((()=>(0,a.Lk)("div",{class:"panel-middle mobile-hide"},null,-1))),T={class:"panel-right mobile-hide"},O={class:"doc-name"},M={class:"full-width approval-area-height-middle"},R={class:"full-width full-height",id:"image_container",style:{position:"relative"}},P={class:"col-sm-12 col-md-4 col-lg-3 q-pl-sm"},q={class:"full-width q-ma-sm approval-area-height-right scrolle-y"},V={class:"full-width white-inputs"},N={class:"full-width full-height"},B={class:"row"},$={class:"secondary-c-text text-h6 text-weight-bold"},Q={class:"full-width"},X={class:"row"},W={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},K={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},U={class:"row full-width"},j={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},z={class:"row full-width"},H={class:"col-xs-6 col-sm-6 col-md-6 col-lg-6"},G={class:"col-xs-6 col-sm-6 col-md-6 col-lg-6 pl-20"},Y={class:"row full-width"},J={class:"col-xs-4 col-sm-4 col-md-4 col-lg-4"},Z={class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 pl-20"},ee={class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 pl-20"},te=i((()=>(0,a.Lk)("div",{class:"border-top-bdbdbd q-mt-md q-mb-md"},null,-1))),le={class:"row full-width"},ae={class:"row full-width"},oe={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},ie={class:"row full-width"},se={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},ne={class:"row full-width"},re={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},de=i((()=>(0,a.Lk)("div",{class:"border-top-bdbdbd q-mt-md q-mb-md"},null,-1))),ue={key:0,class:"row full-width"},ce={class:"row full-width"},pe={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},he={class:"row full-width"},me={class:"row full-width"},_e={class:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},be={key:0},ve={key:1},ge={class:"row q-pt-sm"},fe={class:"secondary-c-text text-h6 text-weight-bold"},ye=i((()=>(0,a.Lk)("div",{class:"border-top-bdbdbd q-mb-md"},null,-1))),ke={class:"row full-width"},we=i((()=>(0,a.Lk)("div",null,"Comment",-1))),Ce={class:"q-pt-none"},xe={class:"footer-filename"},Le={class:"footer-status-message"},Fe={class:"cursor-pointer"},Ee={class:"footer-status-message"},Ae={class:"footer-status-message"},Se={key:1,class:"row"},De={class:"row q-ml-sm back-white custom-border",style:{width:"138px"}},Ie=["src"],Te=["src"],Oe={class:"footer-status-message q-px-sm"};function Me(e,t,l,i,Me,Re){const Pe=(0,a.g2)("SubHeader"),qe=(0,a.g2)("q-icon"),Ve=(0,a.g2)("ErrorDocumentView"),Ne=(0,a.g2)("DocumentLogs"),Be=(0,a.g2)("q-tooltip"),$e=(0,a.g2)("AnnotationView"),Qe=(0,a.g2)("q-input"),Xe=(0,a.g2)("f-btn"),We=(0,a.g2)("q-btn"),Ke=(0,a.g2)("q-page-sticky"),Ue=(0,a.g2)("q-space"),je=(0,a.g2)("q-bar"),ze=(0,a.g2)("q-card-section"),He=(0,a.g2)("q-card"),Ge=(0,a.g2)("q-dialog"),Ye=(0,a.g2)("Loader"),Je=(0,a.g2)("q-separator"),Ze=(0,a.g2)("q-item-section"),et=(0,a.g2)("q-item"),tt=(0,a.g2)("q-list"),lt=(0,a.g2)("q-menu"),at=(0,a.g2)("q-toolbar"),ot=(0,a.g2)("q-footer"),it=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(Pe,{name:"approval",label:e.$t("approval"),show_expiry_alert:!0,onSearch:!1,display_help_link:!1},null,8,["label"]),(0,a.Lk)("div",s,[(0,a.Lk)("div",n,[(0,a.Lk)("span",r,[(0,a.Lk)("div",d,[(0,a.Lk)("span",{class:"cursor-pointer text-uppercase",onClick:t[0]||(t[0]=(...t)=>e.routeToListPendingApproval&&e.routeToListPendingApproval(...t))},[(0,a.bF)(qe,{class:"cursor-pointer",onClick:e.nextImage,name:"chevron_left",size:"sm"},null,8,["onClick"]),(0,a.eW)(" "+(0,o.v_)(e.$t("pending_approval_list")),1)]),(0,a.Lk)("span",u," - "+(0,o.v_)(e.pending_approval_doc_count)+" "+(0,o.v_)(e.$t("invoices_for_release")),1)])])])]),e.error?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.bF)(Ve)])):((0,a.uX)(),(0,a.CE)("div",p,[(0,a.Lk)("div",h,[(0,a.Lk)("div",m,[e.isModelReady()?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.Lk)("div",b,[(0,a.Lk)("div",v,[(0,a.Lk)("span",g,[e.prev_record?((0,a.uX)(),(0,a.Wv)(qe,{key:0,class:"cursor-pointer",name:"navigate_before",size:"sm",onClick:t[1]||(t[1]=t=>e.routeTo("prev"))})):(0,a.Q3)("",!0),e.readonlyModel["total_amount"]?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.readonlyModel["total_amount"].formatted_value),1)],64)):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",f,[(0,a.Lk)("span",y,[e.readonlyModel["invoice_date"]?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.readonlyModel["invoice_date"].formatted_value),1)],64)):(0,a.Q3)("",!0),e.next_record?((0,a.uX)(),(0,a.Wv)(qe,{key:1,class:"cursor-pointer",name:"navigate_next",size:"sm",onClick:t[2]||(t[2]=t=>e.routeTo("next"))})):(0,a.Q3)("",!0)])])]),(0,a.Lk)("div",k,[(0,a.Lk)("div",w,[e.readonlyModel["payment_terms"]?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.readonlyModel["payment_terms"].formatted_value),1)],64)):(0,a.Q3)("",!0)]),C])])):(0,a.Q3)("",!0),(0,a.Lk)("div",x,[(0,a.bF)(Ne,{docId:e.docId,list_data:e.doc_logs},null,8,["docId","list_data"])])])],512),(0,a.Lk)("div",L,[(0,a.Lk)("div",F,[(0,a.Lk)("div",E,[(0,a.Lk)("div",A,[(0,a.Lk)("div",S,[(0,a.bF)(qe,{class:"up-arrow cursor-pointer",onClick:e.prevImage,name:"expand_less",size:"sm"},{default:(0,a.k6)((()=>[(0,a.bF)(Be,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("previous")),1)])),_:1})])),_:1},8,["onClick"]),(0,a.bF)(qe,{class:"down-arrow cursor-pointer",onClick:e.nextImage,name:"expand_more",size:"sm"},{default:(0,a.k6)((()=>[(0,a.bF)(Be,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("next")),1)])),_:1})])),_:1},8,["onClick"]),(0,a.Lk)("span",D,(0,o.v_)(e.currentPage())+"/"+(0,o.v_)(e.images.length)+" "+(0,o.v_)(e.$t("page_number_text")),1)]),I,(0,a.Lk)("div",T,[(0,a.Lk)("span",{class:"cursor-pointer q-mr-md text-uppercase",onClick:t[3]||(t[3]=(...t)=>e.downloadFile&&e.downloadFile(...t))},(0,o.v_)(e.$t("download")),1),(0,a.Lk)("span",O,(0,o.v_)(e.record.filename),1)])])]),(0,a.Lk)("div",M,[(0,a.Lk)("div",R,[(0,a.bF)($e,{ref:"child_comp",enableEditing:e.enable_editing,cropUrl:e.image+"?"+this.tokenQueryParam,width:e.imageWidth,screenmode:e.screenmode,selectFont:e.selectFont,selectFontSize:e.selectFontSize,selectColor:e.selectColor,onLoad:e.getImageDetails},null,8,["enableEditing","cropUrl","width","screenmode","selectFont","selectFontSize","selectColor","onLoad"])])])])]),(0,a.Lk)("div",P,[(0,a.Lk)("div",q,[(0,a.Lk)("div",V,[(0,a.Lk)("div",N,[(0,a.Lk)("div",B,[(0,a.Lk)("span",$,(0,o.v_)(e.$t("auto_detect")),1)]),e.isModelReady()?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",Q,[(0,a.Lk)("div",X,[(0,a.Lk)("div",W,(0,o.v_)(e.$t("belegtyp")),1),(0,a.Lk)("div",K,[e.record.doc_type?((0,a.uX)(),(0,a.Wv)(Qe,{key:0,outlined:"","data-name":e.doc_type,disable:!0,class:(0,o.C4)("input-field full-width"),modelValue:e.record.doc_type,"onUpdate:modelValue":t[4]||(t[4]=t=>e.record.doc_type=t)},null,8,["data-name","modelValue"])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",U,[(0,a.Lk)("div",j,[(0,a.Lk)("div",null,(0,o.v_)(e.$t("payment_terms")),1),(0,a.Lk)("div",null,[(0,a.bF)(Qe,{outlined:"","data-name":e.payment_terms,disable:!0,class:(0,o.C4)("input-field full-width"),modelValue:e.readonlyModel["payment_terms"].formatted_value,"onUpdate:modelValue":t[5]||(t[5]=t=>e.readonlyModel["payment_terms"].formatted_value=t)},null,8,["data-name","modelValue"])])])]),(0,a.Lk)("div",z,[(0,a.Lk)("div",H,[(0,a.Lk)("div",null,(0,o.v_)(e.$t("invoice_date")),1),(0,a.Lk)("div",null,[(0,a.bF)(Qe,{outlined:"","data-name":e.invoice_date,disable:!0,class:(0,o.C4)("input-field full-width"),modelValue:e.readonlyModel["invoice_date"].formatted_value,"onUpdate:modelValue":t[6]||(t[6]=t=>e.readonlyModel["invoice_date"].formatted_value=t)},null,8,["data-name","modelValue"])])]),(0,a.Lk)("div",G,[(0,a.Lk)("div",null,(0,o.v_)(e.$t("order_date")),1),(0,a.Lk)("div",null,[(0,a.bF)(Qe,{outlined:"","data-name":e.order_date,disable:!0,class:(0,o.C4)("input-field full-width"),modelValue:e.readonlyModel["order_date"].formatted_value,"onUpdate:modelValue":t[7]||(t[7]=t=>e.readonlyModel["order_date"].formatted_value=t)},null,8,["data-name","modelValue"])])])]),(0,a.Lk)("div",Y,[(0,a.Lk)("div",J,[(0,a.Lk)("div",null,(0,o.v_)(e.$t("total_amount")),1),(0,a.Lk)("div",null,[(0,a.bF)(Qe,{outlined:"","data-name":e.total_amount,disable:!0,class:(0,o.C4)("input-field full-width"),modelValue:e.readonlyModel["total_amount"].formatted_value,"onUpdate:modelValue":t[8]||(t[8]=t=>e.readonlyModel["total_amount"].formatted_value=t)},null,8,["data-name","modelValue"])])]),(0,a.Lk)("div",Z,[(0,a.Lk)("div",null,(0,o.v_)(e.$t("currency")),1),(0,a.Lk)("div",null,[(0,a.bF)(Qe,{outlined:"","data-name":e.currency,disable:!0,class:(0,o.C4)("input-field full-width"),modelValue:e.readonlyModel["currency"].formatted_value,"onUpdate:modelValue":t[9]||(t[9]=t=>e.readonlyModel["currency"].formatted_value=t)},null,8,["data-name","modelValue"])])]),(0,a.Lk)("div",ee,[(0,a.Lk)("div",null,(0,o.v_)(e.$t("tax_amount")),1),(0,a.Lk)("div",null,[(0,a.bF)(Qe,{outlined:"","data-name":e.tax_amount,disable:!0,class:(0,o.C4)("input-field full-width"),modelValue:e.readonlyModel["tax_amount"].formatted_value,"onUpdate:modelValue":t[10]||(t[10]=t=>e.readonlyModel["tax_amount"].formatted_value=t)},null,8,["data-name","modelValue"])])])])]),te,(0,a.Lk)("div",le,[(0,a.Lk)("div",ae,[(0,a.Lk)("div",oe,[(0,a.Lk)("div",null,(0,o.v_)(e.$t("notes")),1),(0,a.Lk)("div",null,[(0,a.bF)(Qe,{outlined:"","data-name":e.notes,class:(0,o.C4)("full-width"),modelValue:e.model["notes"],"onUpdate:modelValue":[t[11]||(t[11]=t=>e.model["notes"]=t),t[12]||(t[12]=t=>{e.inputValueChanges("notes",t)})],type:"textarea",autogrow:""},null,8,["data-name","modelValue"])])])]),(0,a.Lk)("div",ie,[(0,a.Lk)("div",se,[(0,a.Lk)("div",null,(0,o.v_)(e.$t("kostenstelle")),1),(0,a.Lk)("div",null,[(0,a.bF)(Qe,{outlined:"","data-name":e.kostenstelle,class:(0,o.C4)("input-field full-width"),modelValue:e.model["kostenstelle"],"onUpdate:modelValue":[t[13]||(t[13]=t=>e.model["kostenstelle"]=t),t[14]||(t[14]=t=>{e.inputValueChanges("kostenstelle",t)})]},null,8,["data-name","modelValue"])])])]),(0,a.Lk)("div",ne,[(0,a.Lk)("div",re,[(0,a.Lk)("div",null,(0,o.v_)(e.$t("kostentrager")),1),(0,a.Lk)("div",null,[(0,a.bF)(Qe,{outlined:"","data-name":e.kostentrager,class:(0,o.C4)("input-field full-width"),modelValue:e.model["kostentrager"],"onUpdate:modelValue":[t[15]||(t[15]=t=>e.model["kostentrager"]=t),t[16]||(t[16]=t=>{e.inputValueChanges("kostentrager",t)})]},null,8,["data-name","modelValue"])])])])]),de,e.second_approval&&e.record.first_approver?((0,a.uX)(),(0,a.CE)("div",ue,[(0,a.Lk)("div",ce,[(0,a.Lk)("div",pe,[(0,a.Lk)("div",null,(0,o.v_)(e.$t("first_approver")),1),(0,a.Lk)("div",null,[e.record.doc_type?((0,a.uX)(),(0,a.Wv)(Qe,{key:0,outlined:"",disable:!0,class:(0,o.C4)("input-field full-width"),modelValue:e.model["first_approver"],"onUpdate:modelValue":t[17]||(t[17]=t=>e.model["first_approver"]=t)},null,8,["modelValue"])):(0,a.Q3)("",!0)])])])])):(0,a.Q3)("",!0),(0,a.Lk)("div",he,[(0,a.Lk)("div",me,[(0,a.Lk)("div",_e,[e.second_approval&&e.record.first_approver?((0,a.uX)(),(0,a.CE)("div",be,(0,o.v_)(e.$t("releases_person")),1)):((0,a.uX)(),(0,a.CE)("div",ve,(0,o.v_)(e.$t("first_approver")),1)),(0,a.Lk)("div",null,[e.record.doc_type?((0,a.uX)(),(0,a.Wv)(Qe,{key:0,outlined:"",disable:!0,class:(0,o.C4)("input-field full-width"),modelValue:e.model["assigned_to"],"onUpdate:modelValue":t[18]||(t[18]=t=>e.model["assigned_to"]=t)},null,8,["modelValue"])):(0,a.Q3)("",!0)])])])]),(0,a.Lk)("div",ge,[(0,a.Lk)("span",fe,(0,o.v_)(e.$t("actions")),1)]),ye,(0,a.Lk)("div",ke,[(0,a.bF)(Xe,{label:e.$t("save"),class:"full-width q-mb-sm",onClick:e.saveData},null,8,["label","onClick"]),(0,a.bF)(Xe,{appearance:"secondary",label:e.$t("request_release"),class:"full-width q-mb-sm",onClick:e.acceptRequest},null,8,["label","onClick"]),(0,a.bF)(Xe,{appearance:"negative-tertiary",label:e.$t("reject"),class:"full-width",onClick:e.rejectRequest},null,8,["label","onClick"])])],64)):(0,a.Q3)("",!0)])])])]),(0,a.bF)(Ke,{position:"bottom-right",offset:[8,8],class:"hidden small-only"},{default:(0,a.k6)((()=>[(0,a.bF)(We,{fab:"",icon:"chat",color:"primary",padding:"sm",onClick:t[19]||(t[19]=t=>e.chatWindow=!0)})])),_:1})])),(0,a.bF)(Ge,{modelValue:e.chatWindow,"onUpdate:modelValue":t[20]||(t[20]=t=>e.chatWindow=t),position:"bottom"},{default:(0,a.k6)((()=>[(0,a.bF)(He,{class:"full-width"},{default:(0,a.k6)((()=>[(0,a.bF)(je,{class:"bg-primary text-white"},{default:(0,a.k6)((()=>[we,(0,a.bF)(Ue),(0,a.bo)((0,a.bF)(We,{dense:"",flat:"",icon:"close"},null,512),[[it]])])),_:1}),(0,a.bF)(ze,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Ce,[(0,a.bF)(Ne,{docId:e.docId,list_data:e.doc_logs},null,8,["docId","list_data"])])])),_:1}),(0,a.bF)(ze,{class:"q-pt-none"})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Ye),(0,a.bF)(ot,{class:"validation-status-bar back-white"},{default:(0,a.k6)((()=>[(0,a.bF)(at,{class:(0,o.C4)(["row justify-start",""==e.current_sidebar?"":"opened-right-padding"])},{default:(0,a.k6)((()=>[(0,a.Lk)("span",xe,(0,o.v_)(e.record.filename),1),(0,a.bF)(We,{size:"md",flat:"",dense:"",class:"q-ml-xs",onClick:e.downloadFile},{default:(0,a.k6)((()=>[(0,a.bF)(qe,{name:"download",style:{color:"#8a8a8a"}})])),_:1},8,["onClick"]),(0,a.bF)(Je,{vertical:"",class:"q-mx-md"}),(0,a.Lk)("span",Le,[e.second_approval?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t("second_approval")),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.$t("first_approval")),1)],64))]),(0,a.bF)(Je,{vertical:"",class:"q-mx-md"}),(0,a.Lk)("span",Fe,(0,o.v_)(e.pending_approval_doc_count)+" "+(0,o.v_)(e.$t("invoices_for_release")),1),(0,a.bF)(Je,{vertical:"",class:"q-mx-md"}),(0,a.Lk)("span",Ee,(0,o.v_)(e.currentDisplayedMessage),1),(0,a.bF)(Ue),e.record.table_blocked?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(Je,{vertical:"",class:"q-mx-md"}),(0,a.bF)(qe,{class:"text-blue",style:{"font-size":"22px"},name:"info"}),(0,a.Lk)("span",Ae,(0,o.v_)(e.$t("block_supplier_warning")),1)],64)):(0,a.Q3)("",!0),(0,a.bF)(We,{dense:"",class:"q-mr-sm custom-border back-white",flat:"",size:"12px",onClick:t[21]||(t[21]=t=>{e.showStampMenu=!0,e.showFontMenu=!1,e.screenmode="stamp"})},{default:(0,a.k6)((()=>[(0,a.bF)(qe,{name:"img:annotation/stamp_icon.svg",class:"icon-grey-svg"}),(0,a.bF)(Be,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("annotation.stamp_annotation")),1)])),_:1})])),_:1}),(0,a.bF)(We,{size:"12px",dense:"",flat:"",class:"q-mr-sm custom-border back-white",onClick:t[22]||(t[22]=t=>{e.showFontMenu=!0,e.showStampMenu=!1,e.screenmode="annotate"})},{default:(0,a.k6)((()=>[(0,a.bF)(qe,{name:"text_format",class:"icon-grey"}),(0,a.bF)(Be,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("annotation.text_annotation")),1)])),_:1})])),_:1}),(0,a.Lk)("div",null,[(0,a.bF)(We,{size:"12px",flat:"",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[23]||(t[23]=t=>{e.selectColor="#000000",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,a.k6)((()=>[(0,a.bF)(qe,{color:"black",name:"title"})])),_:1}),(0,a.bF)(We,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[24]||(t[24]=t=>{e.selectColor="#f44336",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,a.k6)((()=>[(0,a.bF)(qe,{color:"red",name:"title"})])),_:1}),(0,a.bF)(We,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[25]||(t[25]=t=>{e.selectColor="#4caf50",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,a.k6)((()=>[(0,a.bF)(qe,{color:"green",name:"title"})])),_:1}),(0,a.bF)(We,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[26]||(t[26]=t=>{e.selectColor="#2196f3",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,a.k6)((()=>[(0,a.bF)(qe,{color:"blue",name:"title"})])),_:1}),(0,a.bF)(We,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[27]||(t[27]=t=>{e.selectColor="#ffeb3b",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,a.k6)((()=>[(0,a.bF)(qe,{color:"yellow",name:"title"})])),_:1})]),e.showStampMenu?((0,a.uX)(),(0,a.CE)("div",Se,[(0,a.Lk)("div",De,[(0,a.Lk)("img",{class:"q-px-sm",src:e.stamp_dir+e.selectedStamp+e.stamp_ext,style:{width:"100px"}},null,8,Ie),(0,a.bF)(We,{dense:"",flat:""},{default:(0,a.k6)((()=>[(0,a.bF)(qe,{name:"expand_more",class:"icon-grey"}),(0,a.bF)(lt,null,{default:(0,a.k6)((()=>[(0,a.bF)(tt,{style:{"min-width":"80px"}},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.sortedStamps,(t=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(et,{key:t,clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(Ze,{onClick:l=>e.selectedStamp=t},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{width:"80",src:e.stamp_dir+t+e.stamp_ext},null,8,Te)])),_:2},1032,["onClick"])])),_:2},1024)),[[it]]))),128))])),_:1})])),_:1})])),_:1})]),(0,a.bF)(We,{label:e.$t("doc2light.pages.add"),class:"q-ml-sm",color:"primary",unelevated:"",onClick:t[28]||(t[28]=t=>e.stampAddClicked())},null,8,["label"])])):(0,a.Q3)("",!0),(0,a.bF)(Je,{vertical:"",class:"q-mx-xs"}),(0,a.bF)(We,{disable:1==e.page,icon:"keyboard_arrow_up",flat:"",class:"validation-view-page-button icon-grey",onClick:t[29]||(t[29]=t=>e.prevImage())},null,8,["disable"]),(0,a.Lk)("span",Oe,(0,o.v_)(e.currentPage())+"/"+(0,o.v_)(e.images.length),1),(0,a.bF)(We,{disable:e.page==e.images.length,icon:"keyboard_arrow_down",flat:"",class:"validation-view-page-button icon-grey",onClick:t[30]||(t[30]=t=>e.nextImage())},null,8,["disable"])])),_:1},8,["class"])])),_:1})],64)}var Re=l(82303),Pe=l(1659),qe=l(24622),Ve=l(38734),Ne=l(68450),Be=l(46162),$e=l(96056),Qe=l(89156),Xe=l(14907),We=l(45022),Ke=l(18505),Ue=l(49575),je=l(77362),ze=l(76956),He=l(12566),Ge=l(96075),Ye=l(96756),Je=l(83319),Ze=l(8903),et=l(85487),tt=l(23537),lt=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const at=document.querySelector.bind(document);let ot;const it=(0,a.pM)({el:"#app",mixins:[Ke.A,qe.A,$e.A],components:{Loader:Qe.A,DocumentLogs:Ue.A,AnnotationView:Ye.A,SubHeader:je.A,ErrorDocumentView:He.A},watch:{doc_status:{deep:!0,handler:function(){this.checkValidStatus()}}},data(){return{default_stamp:Ze.EO,stamp_ext:Ze.K_,sortedStamps:[],stamps:Ze.dA,stamp_dir:Ze.Ul,docId:"",imageHeight:0,imageWidth:0,showArticlePage:!1,loading:!1,chatWindow:(0,Ve.KR)(!1),enableExportButton:!1,allowedDoctypes:ze.Gk,filter_status:"validated_pending_approval",readonly_model_required_fields:["currency","tax_amount","invoice_date","payment_terms","invoice_date","order_date","total_amount"],model_required_fields:["kostenstelle","kostentrager","notes","assigned_to"]}},beforeRouteLeave:function(e,t,l){this.record={},l()},mounted:function(){let e=this.$route.params.id,t=We.A.getItem("selected_language");t&&(this.locale=t),this.selectedStamp=this.default_stamp,this.sortStampsByLanguage(),this.getDocAnnotations(e),window.addEventListener("resize",this.windowResize),document.body.addEventListener("click",this.mouseClicked,!0),this.init(),document.addEventListener("new_log",this.addNewLog);for(let l=1;l<=80;l++)this.fontSizes.push(l.toString()+"pt")},unmounted:function(){window.removeEventListener("resize",this.windowResize),document.removeEventListener("new_log",this.addNewLog)},methods:{init(){return lt(this,void 0,void 0,(function*(){this.isSecondApproval(),this.$route.params.id||this.$router.push("/dashboard"),this.second_approval&&(this.filter_status="approved_pending_second_approval"),this.docId=this.$route.params.id,this.initRequiredFields(),yield this.getInvoiceDataByDocId(this.docId),this.renderDocumentLog(),this.renderPendingRecordsCountView(),this.renderNextPrevLinkBtns(),yield this.makeReadOnlyModel(),yield this.makeEditableModel(),this.getAssignToUsers(),ze.B2.includes(this.record.status)&&(this.isReadOnly=!0),this.handleImageBaseURL(),this.image=this.baseUrl+"/"+(0,Ge.v)(this.record.images[0].path),this.images=(0,Ge.m)(this.record.images),logInfo(this.images);let e=at("#image_container");this.imageWidth=e.offsetWidth,this.imageHeight=e.offsetHeight,this.getImageDetails()}))},sortStampsByLanguage(){let e=this.$i18n.locale,t=[];"en-us"==e&&(e="en"),this.stamps.forEach((l=>{"de"!=e&&"en"!=e&&(e="en"),l.includes(e)&&t.push(l)})),this.selectedStamp=t[0],this.sortedStamps=t},isSecondApproval(){this.$route.params.second_approval&&"true"===this.$route.params.second_approval&&(this.second_approval=!0)},getInvoiceDataByDocId(e){return lt(this,void 0,void 0,(function*(){try{if(yield this.getDocumentById(e),!this.record.doc_id)return void this.showErrorToast(this.$t("pages.messages.INVALID_DOCUMENT"))}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(t)}}))},initRequiredFields(){this.readonly_model_required_fields.forEach(((e,t)=>{let l=this.createEmptyField(e,"text");this.readonlyModel[e]=l})),this.model_required_fields.forEach(((e,t)=>{this.model[e]=""}))},makeReadOnlyModel(){return new Promise(((e,t)=>{let l={};if(void 0!==this.record){this.record.fields.forEach(((e,t)=>{l[e.name]=e}));let e=[];e=this.record.layout.groups,e.forEach(((e,t)=>{e.rows.forEach(((e,t)=>{e.forEach(((e,t)=>{let a=e.field_name,o=l[a];o||(o=this.createEmptyField(a,e.input_type)),this.readonlyModel[a]=o,this.readOnlyfieldsDef[a]=e}))}))}))}e("done")}))},makeEditableModel(){return new Promise(((e,t)=>{if(void 0!==this.record){for(const[e,t]of Object.entries(this.record))this.model[e]=t;this.setPrevAssignee()}e("done")}))},setPrevAssignee(){this.prev_assignee=this.record.assigned_to},createEmptyField(e,t){let l="checkbox"!=t&&"";return{confidence:0,name:e,value:l,formatted_value:l,content:l}},getAssignToUsers(){return lt(this,void 0,void 0,(function*(){yield this.dropdownStore.prepareUsersDropdown(),this.usersList=this.dropdownStore.usersList,this.model["assigned_to"]=this.getUserFullName(this.record.assigned_to),this.setPreviousApprover()}))},setPreviousApprover(){this.second_approval&&this.record.first_approver&&(this.model["first_approver"]=this.getUserFullName(this.record.first_approver))},filterUserList(e,t,l){try{if(""===e)return void t((()=>{this.usersList=this.dropdownStore.usersList}));t((()=>{const t=e.toLowerCase();this.usersList=this.dropdownStore.usersList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}))}catch(a){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(a),l()}},getUserFullName(e){let t=this.dropdownStore.usersList.filter((t=>t.value==e));return t[0].label},isModelReady(){return 0!==(0,Ne.Ns)(this.model)},goHelp(){window.open("https://docs.cloudintegration.eu/")},inputValueChanges(e,t){try{this.record[e]=t}catch(l){logError(l)}},setApiData(e){this.record=e,this.$forceUpdate()},windowResize(){let e=at("#image_container");this.imageWidth=e.offsetWidth,this.imageHeight=e.offsetHeight,this.$forceUpdate(),setTimeout((()=>{this.getImageDetails()}),20)},getImageDetails(){ot=at("#screenshot"),ot&&(this.imageWidth=ot.offsetWidth,this.imageHeight=ot.offsetHeight)},currentPage(){return this.page},prevImage(){let e=this.page-1,t=this.getImagePath(e);this.updateImage(e,t)},nextImage(){logInfo("next image");let e=this.page+1,t=this.getImagePath(e);this.updateImage(e,t)},getImagePath(e){let t="";for(const[l,a]of Object.entries(this.images)){let l=a;l.pageNumber===e&&(t=l.path)}return logInfo(t),t},updateImage(e,t){t&&""!==t&&(this.image=this.baseUrl+"/"+(0,Ge.v)(t),logInfo(this.image),this.page=e)},handleImageBaseURL(){this.record.images[0]&&this.record.images[0].path.match(/doc2/g)&&(this.baseUrl=Be.VA)},updateApiData(e){e.detail&&(this.record=e.detail)},saveData(){return lt(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;if(!this.validateData())return;this.showLoading();const e=yield this.saveDocument(this.docId);if(!1===e.success)return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.showErrorToast(e.message);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.setPrevAssignee(),this.assign_user_error=!1}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}}))},validateData(){let e=!0;return(0,Ne.z)(this.record.assigned_to)&&(this.assign_user_error=!0,e=!1),e},acceptRequest(){let e=this.images.length,t=this.getImagePath(e);if(this.updateImage(e,t),this.page===this.images.length){let e="de"===this.locale?"approved_stamp_de":"approved_stamp_en";this.$refs.child_comp.addStampAnnotation(e)}this.record.first_approver=this.record.assigned_to,this.updateRequest("approve")},rejectRequest(){this.second_approval||delete this.record.first_approver,this.updateRequest("reject")},updateRequest(e){return lt(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;yield this.saveData(),this.showLoading();let t=new FormData;const l=(0,et.I)();let a;t.append("request_type",e),t.append("org_id",l);let o=yield(0,Be.L3)();if(a=yield Re.A.post(Be.FH.approve_or_reject_document+this.docId,t,{headers:{Authorization:o}}),!1===a.data.success)return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.showErrorToast(a.data.message);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.$router.push("/dashboard")}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.hideLoading()}}))},verifyAssignee(){let e=!0;return this.prev_assignee!==this.record.assigned_to&&(e=!1),e},addNewLog(e){e&&e.detail&&this.renderDocumentLog()},renderDocumentLog(){return lt(this,void 0,void 0,(function*(){try{yield this.getDocumentLogs()}catch(e){logInfo("something went wrong while loading document logs"),logError(e)}finally{this.hideLoading()}}))},getDocumentLogs(){return lt(this,void 0,void 0,(function*(){let e;this.doc_logs={};let t=new FormData;t.append("action_type","message"),t.append("org_id",(0,et.I)());let l=yield(0,Be.L3)();if(e=yield Re.A.post(Be.FH.get_document_log+this.docId,t,{headers:{Authorization:l}}),!e.data)throw{message:"no logs from server"};e.data.forEach((e=>{this.doc_logs[e.id.toString()+"_ID"]=e}))}))},downloadFile(){let e=Be.VA+"/resource/document/"+this.docId+"/"+this.docId+".pdf?"+this.tokenQueryParam;if(e){var t=document.createElement("a");t.download=this.record.filename,t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)}},routeToListPendingApproval(){this.removeDashboardFilters(),this.$router.push("/dashboard")},renderPendingRecordsCountView(){return lt(this,void 0,void 0,(function*(){try{let e,t="?filter=current-year&skip=0&limit=100&status="+this.filter_status,l=yield(0,Be.L3)();if(e=yield Re.A.get((0,et.MV)(Be.FH.get_dashboard_data+t),{headers:{Authorization:l}}),!e.data.documents)throw{message:"no pending documents from server"};this.pending_approval_doc_count=e.data.documents.length,this.pending_approval_doc_count<0&&(this.pending_approval_doc_count=0)}catch(e){logInfo("something went wrong while loading document logs"),logError(e)}finally{this.hideLoading()}}))},renderNextPrevLinkBtns(){return lt(this,void 0,void 0,(function*(){try{let e,t=yield(0,Be.L3)();if(e=yield Re.A.get((0,et.MV)(Be.FH.get_next_document+this.docId+"?doc_type="+this.record.doc_type+"&status="+this.filter_status+"&sort_attr=created_on"),{headers:{Authorization:t}}),!1===e.data.success)throw{message:"cannot get response related to next or prev record"};e.data.has_next&&e.data.next_id&&(this.next_record=e.data.next_id),e.data.has_previous&&e.data.previous_id&&(this.prev_record=e.data.previous_id)}catch(e){logInfo("something went wrong while loading document logs"),logError(e)}finally{this.hideLoading()}}))},checkValidStatus(){this.doc_status!==this.filter_status&&(this.error=!0,this.error_message="invalid_status")},routeTo(e){let t="ready-for-approval";this.second_approval&&(t="ready-for-second-approval"),"prev"===e&&this.prev_record&&this.$router.push({path:"/"+t+"/"+this.prev_record,replace:!0}),"next"===e&&this.next_record&&this.$router.push("/"+t+"/"+this.next_record)},updateValue(e,t){"font"==e?this.selectFont=t:"color"==e?this.selectColor=t:"size"==e&&(this.selectFontSize=t)},stampAddClicked(){this.$refs.child_comp.addTemplateAnnotation(this.selectedStamp)}},setup(){const e=(0,Xe.A)();let t={},l=[];const a=(0,Je.cY)();let{locale:o}=(0,tt.s9)({useScope:"global"});const i=(0,Je.q3)(),{getDocumentById:s,getDocAnnotations:n,saveDocument:r}=i,{record:d,doc_status:u,error:c,error_message:p,page:h}=(0,Pe.bP)(i),m=(0,Je.fX)(),{removeSavedFilters:_,saveFilters:b}=m,v=(0,Je._6)(),{tokenQueryParam:g}=(0,Pe.bP)(v);return v.getTokenQueryParam(),{locale:(0,Ve.KR)(o),saveDocument:r,tokenQueryParam:g,removeDashboardFilters:_,savedDashboardFilters:b,doc_status:u,page:h,error:c,error_message:p,getDocumentById:s,record:d,dropdownStore:a,fields:t,image:"",images:l,baseUrl:Be.VA,isReadOnly:!1,model:(0,Ve.KR)({}),fieldsDef:(0,Ve.KR)({}),readOnlyfieldsDef:(0,Ve.KR)({}),readonlyModel:(0,Ve.KR)({}),usersList:(0,Ve.KR)([]),prev_assignee:(0,Ve.KR)(null),assign_user_error:(0,Ve.KR)(!1),doc_logs:(0,Ve.KR)({}),pending_approval_doc_count:(0,Ve.KR)(0),next_record:(0,Ve.KR)(""),prev_record:(0,Ve.KR)(""),second_approval:(0,Ve.KR)(!1),showNotification(t){e.notify({message:t,color:"primary",position:"top"})},getDocAnnotations:n,showFontMenu:(0,Ve.KR)(!0),showStampMenu:(0,Ve.KR)(!1),selectColor:(0,Ve.KR)("#000000"),selectFont:(0,Ve.KR)("Helvetica"),fontlist:["Helvetica","Times New Roman","Arimo","Caladea","Carlito","Cousine","Liberation Serif","Arial"],selectFontSize:(0,Ve.KR)(20),fontSizes:[],showDoc:(0,Ve.KR)(!1),selectedStamp:(0,Ve.KR)(""),screenmode:(0,Ve.KR)("annotate")}}});var st=l(12807),nt=l(50492),rt=l(56384),dt=l(97410),ut=l(67837),ct=l(94940),pt=l(13718),ht=l(82156),mt=l(23316),_t=l(18670),bt=l(93676),vt=l(44189),gt=l(57092),ft=l(36914),yt=l(10386),kt=l(84436),wt=l(53999),Ct=l(90124),xt=l(25173),Lt=l(1444),Ft=l(67156),Et=l(42315),At=l(88672),St=l(98582),Dt=l.n(St);const It=(0,st.A)(it,[["render",Me],["__scopeId","data-v-3a6f01da"]]),Tt=It;Dt()(it,"components",{QIcon:nt.A,QBtn:rt.A,QTooltip:dt.A,QInput:ut.A,QSelect:ct.A,QPageSticky:pt.A,QDialog:ht.A,QCard:mt.A,QBar:_t.A,QSpace:bt.A,QCardSection:vt.A,QFooter:gt.A,QToolbar:ft.A,QSeparator:yt.A,QMenu:kt.A,QList:wt.A,QItem:Ct.A,QItemSection:xt.A,QSlider:Lt.A,QField:Ft.A,QTable:Et.A}),Dt()(it,"directives",{ClosePopup:At.A})},95218:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Lo});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-182b6177"),e=e(),(0,a.jt)(),e),n={class:"row q-pl-md q-pr-md highlighted-back"},r={class:"width-100-percent"},d=s((()=>(0,a.Lk)("div",{class:"q-btn invisible",style:{"min-height":"1.9em"}},null,-1))),u={class:"align-right2"},c={class:"mode-banner"},p={key:0,class:"table-mode mode-on"},h={key:1,class:"column-mode mode-on"},m={key:2,class:"table-row-mode mode-on"},_={key:2,class:"row q-pl-md q-pr-md"},b={key:3,class:"text-center text-h3 q-pl-xl q-pr-md"},v={style:{"padding-left":"5px"}},g={key:4,class:"row q-pl-md q-pr-md"},f={class:"width-120 q-mt-sm",id:"left_section",ref:"left_section"},y={class:"full-width back-white full-height"},k={class:"row justify-center q-pl-md q-pr-md q-pt-md"},w={class:"secondary-c-text text-h6 text-weight-bold"},C={class:"full-width left-scroll-area-height scrolle-y q-pa-sm"},x=["data-id","src"],L={class:"right_section_2a q-pl-sm",id:"right_section",ref:"right_section"},F={class:"row"},E={class:"full-width"},A={class:"image_control_panel"},S={class:"row"},D={class:"panel-left col-sm-6 col-md-6 col-lg-6"},I={class:"row"},T={class:"panel-middle col-sm-1 col-md-1 col-lg-1 mt-8"},O={class:"page-numbers"},M={class:"panel-right col-sm-5 col-md-5 col-lg-5"},R=s((()=>(0,a.Lk)("img",{src:"images/edit.svg",width:"20"},null,-1))),P=s((()=>(0,a.Lk)("img",{src:"images/cancel.svg",width:"20"},null,-1))),q=s((()=>(0,a.Lk)("img",{src:"images/save.svg",width:"20"},null,-1))),V=s((()=>(0,a.Lk)("img",{src:"images/magic_wand.svg",width:"25",class:"icon-grey-svg"},null,-1))),N=s((()=>(0,a.Lk)("img",{src:"images/restore_ext_cols.svg",width:"26"},null,-1))),B=s((()=>(0,a.Lk)("img",{src:"images/all-columns.svg",width:"28"},null,-1))),$=s((()=>(0,a.Lk)("img",{src:"images/column.svg",width:"24"},null,-1))),Q=s((()=>(0,a.Lk)("img",{src:"images/blocked_column2.svg",width:"24"},null,-1))),X=s((()=>(0,a.Lk)("img",{src:"images/trash-bin-default.svg",width:"21"},null,-1))),W=s((()=>(0,a.Lk)("img",{width:"24",height:"24",src:"images/zoom_in.svg"},null,-1))),K=s((()=>(0,a.Lk)("img",{width:"24",height:"24",src:"images/zoom_out.svg"},null,-1))),U=s((()=>(0,a.Lk)("img",{width:"24",height:"24",src:"images/ocr_icon.svg"},null,-1))),j={class:"float-right"},z={class:"full-width table-extraction-view scroll-height-100vh-110px scrolle-y",id:"image_container"},H={class:"full-width"},G={class:"image_control_panel"},Y={class:"row"},J={class:"col-sm-12 col-md-12 col-lg-12"},Z={style:{display:"inline-table",position:"relative",top:"-1px"}},ee={class:"text-center"},te=s((()=>(0,a.Lk)("br",null,null,-1))),le={class:"ai-indicator"},ae={class:"text-center"},oe=s((()=>(0,a.Lk)("br",null,null,-1))),ie={class:"ai-indicator"},se={key:0,class:"text-center"},ne=s((()=>(0,a.Lk)("span",null," Training Mode ",-1))),re=s((()=>(0,a.Lk)("br",null,null,-1))),de={class:"switch-training-mode"},ue=s((()=>(0,a.Lk)("span",{class:"slider"},null,-1))),ce={class:"float-right p-t-0"},pe={class:"mode-toggle"},he=s((()=>(0,a.Lk)("img",{src:"images/refresh_dark.svg",width:"22"},null,-1))),me=s((()=>(0,a.Lk)("img",{src:"images/settings_dark.svg",width:"24"},null,-1))),_e=s((()=>(0,a.Lk)("img",{src:"images/column.svg",width:"24"},null,-1))),be=s((()=>(0,a.Lk)("img",{src:"images/blocked_column2.svg",width:"24"},null,-1))),ve=s((()=>(0,a.Lk)("img",{src:"images/plus_circle_black.svg",width:"24"},null,-1))),ge=s((()=>(0,a.Lk)("img",{src:"images/trash-bin-default.svg",width:"22"},null,-1))),fe={key:0},ye={class:"full-width",id:"change-locale"},ke=["innerHTML"],we={class:"full-width back-white",id:"table"},Ce={key:0,class:"row q-pt-xl full-width",style:{display:"flex"}},xe={class:"q-ml-sm",style:{width:"30%"}},Le={style:{width:"50%"},class:"q-ml-sm"},Fe={style:{width:"82%"},class:"q-ml-sm q-mt-sm"},Ee={class:"q-ml-sm"},Ae={class:"row q-mb-md"};function Se(e,t,l,s,Se,De){const Ie=(0,a.g2)("DocumentLock"),Te=(0,a.g2)("MessageBanner"),Oe=(0,a.g2)("SubHeader"),Me=(0,a.g2)("q-btn"),Re=(0,a.g2)("ErrorDocumentView"),Pe=(0,a.g2)("q-icon"),qe=(0,a.g2)("q-tooltip"),Ve=(0,a.g2)("autoTesting"),Ne=(0,a.g2)("MultiSelectAreasImageTblV3"),Be=(0,a.g2)("AIDialGauge"),$e=(0,a.g2)("q-toggle"),Qe=(0,a.g2)("IgnoreTableValidation"),Xe=(0,a.g2)("scriptBtn"),We=(0,a.g2)("Classification"),Ke=(0,a.g2)("q-item-label"),Ue=(0,a.g2)("q-item-section"),je=(0,a.g2)("q-item"),ze=(0,a.g2)("q-select"),He=(0,a.g2)("LineItemsTblExtV3"),Ge=(0,a.g2)("DeleteRulesBtn"),Ye=(0,a.g2)("invoice-save-export"),Je=(0,a.g2)("q-splitter"),Ze=(0,a.g2)("q-avatar"),et=(0,a.g2)("q-card-section"),tt=(0,a.g2)("f-btn"),lt=(0,a.g2)("q-card-actions"),at=(0,a.g2)("q-card"),ot=(0,a.g2)("q-dialog"),it=(0,a.g2)("q-space"),st=(0,a.g2)("Loader"),nt=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(Ie,{document_version:e.document_version,trigger_document_lock:e.trigger_document_lock},null,8,["document_version","trigger_document_lock"]),""!==e.error_message?((0,a.uX)(),(0,a.Wv)(Te,{key:0,back_route:!0,message:e.error_message,messageCategoryClass:e.error_class},null,8,["message","messageCategoryClass"])):(0,a.Q3)("",!0),e.$route.query.token?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(Oe,{key:1,name:"table_extraction",label:e.$t("table_extraction"),show_expiry_alert:!0,onSearch:!1},null,8,["label"])),(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[d,(0,a.Lk)("span",u,[(0,a.Lk)("span",c,[e.enableEditing?((0,a.uX)(),(0,a.CE)("span",p,(0,o.v_)(e.$t("table_mode")),1)):(0,a.Q3)("",!0),e.enableColumnEditing?((0,a.uX)(),(0,a.CE)("span",h,(0,o.v_)(e.$t("column_mode")),1)):(0,a.Q3)("",!0),e.isRowMode?((0,a.uX)(),(0,a.CE)("span",m,(0,o.v_)(e.$t("row_mode_on")),1)):(0,a.Q3)("",!0)]),(0,a.bF)(Me,{flat:"",rounded:"",class:"helpbtn",color:"primary",icon:"help",onClick:t[0]||(t[0]=t=>e.goHelp()),label:e.$t("help"),target:"_blank"},null,8,["label"])])])]),e.doc_fetch_error?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.bF)(Re)])):e.account_block?((0,a.uX)(),(0,a.CE)("div",b,[(0,a.bF)(Pe,{class:"text-blue",style:{"font-size":"32px"},name:"info"}),(0,a.Lk)("span",v,(0,o.v_)(e.$t("block_supplier_warning")),1)])):((0,a.uX)(),(0,a.CE)("div",g,[(0,a.Lk)("div",f,[(0,a.Lk)("div",y,[(0,a.Lk)("div",k,[(0,a.Lk)("span",w,(0,o.v_)(e.$t("form_builder.pages")),1)]),(0,a.Lk)("div",C,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.images,((l,i)=>((0,a.uX)(),(0,a.CE)("img",{"data-id":i,key:i,src:e.baseUrl+"/"+l.path+"?"+e.tokenQueryParam,class:(0,o.C4)(["q-pa-sm shadow-5 full-width q-ma-sm cursor-pointer",i===this.page-1?"active":""]),style:{height:"auto"},onClick:t[1]||(t[1]=(...t)=>e.imageClicked&&e.imageClicked(...t))},null,10,x)))),128))])])],512),(0,a.Lk)("div",L,[(0,a.Lk)("div",F,[(0,a.bF)(Je,{modelValue:e.splitterModel,"onUpdate:modelValue":[t[22]||(t[22]=t=>e.splitterModel=t),t[23]||(t[23]=t=>e.windowResize())],limits:[30,100],class:"scroll-area-height-table full-width"},{before:(0,a.k6)((()=>[(0,a.Lk)("div",E,[(0,a.Lk)("div",A,[(0,a.Lk)("div",S,[(0,a.Lk)("div",D,[(0,a.Lk)("div",I,(0,o.v_)(e.record.filename),1)]),(0,a.Lk)("div",T,[(0,a.Lk)("span",O,(0,o.v_)(e.currentPage())+"/"+(0,o.v_)(e.images.length),1)]),(0,a.Lk)("div",M,[e.training_mode?((0,a.uX)(),(0,a.Wv)(Me,{key:0,flat:"",class:"p-4 float-right",onClick:t[2]||(t[2]=t=>{t.stopPropagation(),e.enableDrawing()})},{default:(0,a.k6)((()=>[R,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("edit")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),e.enableEditing&&e.training_mode?((0,a.uX)(),(0,a.Wv)(Me,{key:1,flat:"",class:"p-4 float-right",onClick:t[3]||(t[3]=t=>{t.stopPropagation(),e.restrictDrawing()})},{default:(0,a.k6)((()=>[P,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("cancel_edit")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),(e.enableEditing||e.enableColumnEditing)&&e.training_mode?((0,a.uX)(),(0,a.Wv)(Me,{key:2,flat:"",class:"p-4 float-right",onClick:t[4]||(t[4]=t=>{t.stopPropagation(),e.saveTableCoordinates()})},{default:(0,a.k6)((()=>[q,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("save")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),e.training_mode?((0,a.uX)(),(0,a.Wv)(Me,{key:3,flat:"",class:"p-4 float-right",onClick:e.autoDetectTables},{default:(0,a.k6)((()=>[V,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("autodetect_tables")),1)])),_:1})])),_:1},8,["onClick"])):(0,a.Q3)("",!0),e.training_mode&&e.extracted_columns&&0!==Object.keys(e.extracted_columns).length?((0,a.uX)(),(0,a.Wv)(Me,{key:4,flat:"",class:"p-4 float-right",onClick:t[5]||(t[5]=t=>e.toggleExtractedColumnMode(!0))},{default:(0,a.k6)((()=>[N,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("restore_extracted_columns")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),e.enableColumnEditing&&e.training_mode?((0,a.uX)(),(0,a.Wv)(Me,{key:5,flat:"",class:"p-4 float-right",onClick:e.addColumnForAll},{default:(0,a.k6)((()=>[B,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("use_same_column_for_all")),1)])),_:1})])),_:1},8,["onClick"])):(0,a.Q3)("",!0),e.training_mode?((0,a.uX)(),(0,a.Wv)(Me,{key:6,flat:"",class:"p-4 float-right",onClick:e.addColumn},{default:(0,a.k6)((()=>[$,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("add_column")),1)])),_:1})])),_:1},8,["onClick"])):(0,a.Q3)("",!0),e.isColumnSelectedForDelete()&&e.training_mode?((0,a.uX)(),(0,a.Wv)(Me,{key:7,flat:"",class:"p-4 float-right",onClick:e.removeSelectedColumn},{default:(0,a.k6)((()=>[Q,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete_selected_column")),1)])),_:1})])),_:1},8,["onClick"])):(0,a.Q3)("",!0),e.enableColumnEditing&&e.training_mode?((0,a.uX)(),(0,a.Wv)(Me,{key:8,flat:"",class:"p-4 float-right highlight-text",onClick:t[6]||(t[6]=t=>{t.stopPropagation(),e.removeAllColumns()})},{default:(0,a.k6)((()=>[X,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("remove_all_columns")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(Me,{flat:"",class:"p-4 float-right",onClick:e.zoomIn},{default:(0,a.k6)((()=>[W,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("zoom_in")),1)])),_:1})])),_:1},8,["onClick"]),(0,a.bF)(Me,{flat:"",class:"p-4 float-right",onClick:e.zoomOut},{default:(0,a.k6)((()=>[K,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("zoom_out")),1)])),_:1})])),_:1},8,["onClick"]),!1!==e.table_train||e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(Me,{key:9,flat:"",class:"float-right pr-6 pl-6",onClick:e.viewOCRDocument},{default:(0,a.k6)((()=>[U,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("ocr_view")),1)])),_:1})])),_:1},8,["onClick"])),(0,a.Lk)("span",j,[(0,a.bF)(Ve,{onSetApiData:e.setApiData},null,8,["onSetApiData"])])])])])]),(0,a.Lk)("div",z,[(0,a.bF)(Me,{id:"menu_btn",round:"",icon:"chevron_left",size:"xs",class:"text-grey-6 toggler-right m-t-5",onClick:t[7]||(t[7]=t=>e.toggler())}),(0,a.bF)(Ne,{"pos-correction":!1,width:e.imageWidth,cropUrl:e.image+"?"+this.tokenQueryParam,enableEditing:e.enableEditing,tableAreas:e.tableAreasStr,isRowMode:e.isRowMode,onSaveColumnCoords:e.saveColumnCoords,onToggleExtractedColumnMode:e.toggleExtractedColumnMode},null,8,["width","cropUrl","enableEditing","tableAreas","isRowMode","onSaveColumnCoords","onToggleExtractedColumnMode"])])])),after:(0,a.k6)((()=>[(0,a.Lk)("div",H,[(0,a.Lk)("div",G,[(0,a.Lk)("div",Y,[(0,a.Lk)("div",J,[(0,a.bF)(Be),(0,a.Lk)("table",Z,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",ee,[(0,a.Lk)("span",null,(0,o.v_)(e.$t("ai_tables")),1),te,(0,a.Lk)("span",le,(0,o.v_)(e.ai_tables),1)]),(0,a.Lk)("td",ae,[(0,a.Lk)("span",null,(0,o.v_)(e.$t("ai_rules")),1),oe,(0,a.Lk)("span",ie,(0,o.v_)(e.ai_rules),1)]),e.isReadOnly||!1===e.extractable?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("td",se,[ne,re,(0,a.Lk)("label",de,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=t=>e.training_mode=t)},null,512),[[i.lH,e.training_mode]]),ue])]))])]),(0,a.Lk)("span",ce,[(0,a.Lk)("span",pe,[this.record.tables&&null!=this.record.tables&&e.training_mode?((0,a.uX)(),(0,a.Wv)($e,{key:0,modelValue:e.isRowMode,"onUpdate:modelValue":[t[9]||(t[9]=t=>e.isRowMode=t),t[10]||(t[10]=t=>e.setRowMode())],color:"primary"},{default:(0,a.k6)((()=>[(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("row_mode")),1)])),_:1})])),_:1},8,["modelValue"])):(0,a.Q3)("",!0)]),this.record.tables&&null!=this.record.tables&&e.training_mode?((0,a.uX)(),(0,a.Wv)(Me,{key:0,flat:"",class:"p-4",color:"grey-8",onClick:t[11]||(t[11]=t=>{t.stopPropagation(),e.revertChanges()})},{default:(0,a.k6)((()=>[he,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("revert_changes")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),this.record.tables&&null!=this.record.tables&&e.training_mode?((0,a.uX)(),(0,a.Wv)(Me,{key:1,flat:"",class:"p-4",onClick:t[12]||(t[12]=t=>{t.stopPropagation(),e.openLineItemAdvanceSettings()})},{default:(0,a.k6)((()=>[me,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("table_settings")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(Qe),e.training_mode||!this.record.tables||null==this.record.tables||e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(Me,{key:2,flat:"",dense:"",icon:"repartition",class:"icon-grey validation-footer-table-button",onClick:t[13]||(t[13]=t=>e.restoreDeleteColumn())},{default:(0,a.k6)((()=>[(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("restore_table_column")),1)])),_:1})])),_:1})),(0,a.bF)(Xe),this.record.tables&&null!=this.record.tables&&e.training_mode?((0,a.uX)(),(0,a.Wv)(Me,{key:3,flat:"",class:"p-4",color:"primary",onClick:t[14]||(t[14]=t=>{t.stopPropagation(),e.addColumnInLineItems()})},{default:(0,a.k6)((()=>[_e,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("add_new_table_column")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),this.record.tables&&null!=this.record.tables&&!e.isReadOnly?((0,a.uX)(),(0,a.Wv)(Me,{key:4,flat:"",class:"p-4",color:"grey-6",onClick:t[15]||(t[15]=t=>e.disabledCustomColumnsDialog())},{default:(0,a.k6)((()=>[be,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("diabled_custom_columns")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),e.training_mode||!this.record.tables||null==this.record.tables||e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(Me,{key:5,flat:"",class:"p-4",color:"grey-6",onClick:t[16]||(t[16]=t=>e.addNewLineItem())},{default:(0,a.k6)((()=>[ve,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("add_row")),1)])),_:1})])),_:1})),e.training_mode?((0,a.uX)(),(0,a.Wv)(Me,{key:6,flat:"",class:"p-4",color:"primary",onClick:t[17]||(t[17]=t=>{t.stopPropagation(),e.deleteAllExtractedData()})},{default:(0,a.k6)((()=>[ge,(0,a.bF)(qe,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete_all_data")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),!1===e.table_train&&e.isOcrButtonEnabled()?((0,a.uX)(),(0,a.Wv)(We,{key:7,show_btn:!e.isReadOnly,force_ocr:!0,language_origin:this.record.doc_origin,doctype:this.record.doc_type},null,8,["show_btn","language_origin","doctype"])):(0,a.Q3)("",!0)])]),!0===e.is_debug?((0,a.uX)(),(0,a.CE)("div",fe,(0,o.v_)(e.record.filter_values&&Array.isArray(e.record.filter_values)&&e.record.filter_values.length>0?"FILTER VALUES: "+e.record.filter_values.join():"FILTER VALUES:  NOT FOUND"),1)):(0,a.Q3)("",!0)])])]),(0,a.Lk)("div",ye,[!0===e.table_train?((0,a.uX)(),(0,a.Wv)(ze,{key:0,modelValue:e.languageOrigin,"onUpdate:modelValue":[t[18]||(t[18]=t=>e.languageOrigin=t),t[19]||(t[19]=t=>{e.changeOriginConfirmDialog=!0})],class:"q-pl-sm",options:e.language_origin_list,"emit-value":"","map-options":"",label:e.$t("update_amount_date_format"),disable:e.isReadOnly},{option:(0,a.k6)((e=>[(0,a.bF)(je,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(Ue,null,{default:(0,a.k6)((()=>[(0,a.bF)(Ke,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024),e.opt.description?((0,a.uX)(),(0,a.Wv)(qe,{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("span",{innerHTML:e.opt.description},null,8,ke)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","label","disable"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",we,[(0,a.bF)(He,{apiDataProp:e.record,extractedData:e.extractedData,currentPageNo:e.page,isRowMode:e.isRowMode,isReadOnly:e.isReadOnly,onUpdateExtractionDataForSave:e.updateExtractionDataForSave,onLoadNewPageImage:e.loadNewPageImage,onSetTableRowCorrdinates:e.setTableRowCorrdinates,training_mode:e.training_mode},null,8,["apiDataProp","extractedData","currentPageNo","isRowMode","isReadOnly","onUpdateExtractionDataForSave","onLoadNewPageImage","onSetTableRowCorrdinates","training_mode"]),!0===e.table_train?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",Ce,[(0,a.Lk)("div",xe,[(0,a.bF)(Me,{color:"primary",label:e.$t("save"),class:"full-width",onClick:t[20]||(t[20]=t=>e.saveDataForV3())},null,8,["label"])]),(0,a.Lk)("div",Le,[(0,a.bF)(Me,{color:"primary",label:e.$t("save_re_extract"),class:"full-width",onClick:t[21]||(t[21]=t=>e.saveDataForV3(!0))},null,8,["label"])]),(0,a.Lk)("div",Fe,[(0,a.bF)(Ge,{docId:e.record.doc_id,onAutoDetectTables:e.autoDetectTables,token:e.token},null,8,["docId","onAutoDetectTables","token"])])]))],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(Ye,{key:0,enableExportButton:e.enableExportButton,onSetApiData:e.setFieldsData,onAutoDetectTables:e.autoDetectTables},null,8,["enableExportButton","onSetApiData","onAutoDetectTables"]))],64))])])),_:1},8,["modelValue"])])],512)])),(0,a.bF)(ot,{modelValue:e.changeOriginConfirmDialog,"onUpdate:modelValue":t[26]||(t[26]=t=>e.changeOriginConfirmDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(at,null,{default:(0,a.k6)((()=>[(0,a.bF)(et,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(Ze,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(et,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",Ee,(0,o.v_)(e.$t("split_text_confirm")),1)])),_:1}),(0,a.bF)(lt,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(tt,{appearance:"cancel",label:e.$t("cancel"),onClick:t[24]||(t[24]=t=>e.setLanguage())},null,8,["label"]),[[nt]]),(0,a.bF)(tt,{label:e.$t("proceed"),class:"q-mr-sm",onClick:t[25]||(t[25]=t=>e.changeOrigin())},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(ot,{modelValue:e.ai_table_warning,"onUpdate:modelValue":t[29]||(t[29]=t=>e.ai_table_warning=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(at,null,{default:(0,a.k6)((()=>[(0,a.bF)(et,{class:"row items-center q-pb-none"},{default:(0,a.k6)((()=>[(0,a.bF)(Pe,{name:"warning",size:"md",color:"warning","text-color":"white"}),(0,a.bF)(it)])),_:1}),(0,a.bF)(et,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("ai_table_override_warning")),1)])),_:1}),(0,a.Lk)("div",Ae,[(0,a.bF)(it),(0,a.bF)(Me,{flat:"",color:"grey",label:e.$t("back"),onClick:t[27]||(t[27]=t=>e.back())},null,8,["label"]),(0,a.bF)(Me,{flat:"",color:"primary",label:e.$t("continue"),onClick:t[28]||(t[28]=t=>e.doManualTraining())},null,8,["label"])])])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(st)],64)}var De=l(82303),Ie=l(46162),Te=l(1659),Oe=l(6044),Me=l(24622),Re=l(45938),Pe=l(38734),qe=l(89156),Ve=l(64233),Ne=l(18505);const Be={key:1,class:"row q-pt-xl full-width",style:{display:"flex"}},$e={key:0,class:"col-sm-12 col-md-12 col-lg-12 q-pb-sm q-pl-sm"},Qe={class:"col-sm-12 col-md-4 col-lg-4 q-pb-sm q-pl-sm"},Xe={class:"col-sm-12 col-md-4 col-lg-4 q-pl-sm q-pb-sm"},We={class:"col-sm-12 col-md-4 col-lg-4 q-pl-sm q-pb-sm"},Ke={key:2,class:"col-sm-12 col-md-5 col-lg-5 q-pb-sm q-pl-sm"},Ue=(0,a.Lk)("br",null,null,-1),je=(0,a.Lk)("br",null,null,-1),ze={class:"q-ml-sm"},He={class:"q-ml-sm"},Ge={class:"q-ml-sm"},Ye=(0,a.Lk)("span",{class:"q-ml-sm"},"You have made some changes related to line Item/PO on saving you may lost PO connections",-1),Je=(0,a.Lk)("span",{class:"q-ml-sm"},"You have Some Unmapped PO. Do you still want to continue with export?",-1),Ze={class:"q-ml-sm"},et=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function tt(e,t,l,i,s,n){const r=(0,a.g2)("q-tooltip"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-item-label"),c=(0,a.g2)("q-item-section"),p=(0,a.g2)("q-item"),h=(0,a.g2)("q-list"),m=(0,a.g2)("q-btn-dropdown"),_=(0,a.g2)("f-btn"),b=(0,a.g2)("DeleteRulesBtn"),v=(0,a.g2)("export-dialog"),g=(0,a.g2)("q-dialog"),f=(0,a.g2)("q-avatar"),y=(0,a.g2)("q-card-section"),k=(0,a.g2)("q-card-actions"),w=(0,a.g2)("q-card"),C=(0,a.g2)("q-toolbar-title"),x=(0,a.g2)("q-toolbar"),L=(0,a.g2)("q-inner-loading"),F=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.isPOView?((0,a.uX)(),(0,a.Wv)(d,{key:0,round:"",color:"amber-9",padding:"xs",id:"export_po_btn",onClick:t[0]||(t[0]=t=>e.confirmAndExport()),icon:"import_export",class:"q-ma-sm po_iterateable_item"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("confirm_export")),1)])),_:1})])),_:1})):((0,a.uX)(),(0,a.CE)("div",Be,[e.isValidationView?((0,a.uX)(),(0,a.CE)("div",$e,[(0,a.bF)(m,{split:"",class:"glossy full-width",color:"primary",label:e.$t("save"),onClick:t[3]||(t[3]=t=>e.confirmationForSave(!1))},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"text-center"},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(p,{clickable:"",onClick:t[1]||(t[1]=t=>{e.confirmRuleSave=!0}),class:"border-bottom-bdbdbd min-height-38"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("form_builder.saveRules")),1)])),_:1})])),_:1})])),_:1})),[[F]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(p,{clickable:"",onClick:t[2]||(t[2]=t=>e.confirmationForSave(!0)),class:"border-bottom-bdbdbd min-height-38"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("save_and_close")),1)])),_:1})])),_:1})])),_:1})),[[F]])])),_:1})])),_:1},8,["label"])])):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("div",Qe,[(0,a.bF)(_,{label:e.$t("pages.import.save"),class:"full-width",onClick:t[4]||(t[4]=t=>e.confirmationForSave(!1))},null,8,["label"])]),(0,a.Lk)("div",Xe,[(0,a.bF)(_,{label:e.$t("form_builder.saveRules"),class:(0,o.C4)((e.is_line_item_validated?"":"btn-disabled")+" full-width"),onClick:t[5]||(t[5]=t=>e.confirmationRuleSave())},{default:(0,a.k6)((()=>[e.is_line_item_validated?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(r,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("missing_mapping_warning")),1)])),_:1}))])),_:1},8,["label","class"])]),(0,a.Lk)("div",We,[(0,a.bF)(b,{docId:e.docId,onAutoDetectTables:e.autoDetectTables},null,8,["docId","onAutoDetectTables"])])],64)),e.po_enable?((0,a.uX)(),(0,a.CE)("div",Ke,[(0,a.bF)(_,{label:e.$t("po_matching"),class:"full-width",onClick:t[6]||(t[6]=t=>{e.isPoView=!0,e.confirmationForSave()})},null,8,["label"])])):(0,a.Q3)("",!0),(0,a.Lk)("div",{class:(0,o.C4)([e.po_enable?"col-sm-12 col-md-7 col-lg-7":"col-sm-12 col-md-12 col-lg-12","q-pl-sm"])},[(0,a.bF)(m,{split:"",class:(0,o.C4)(["full-width",e.enableExportButton?"":"disabled"]),unelevated:"",color:"primary",onClick:t[8]||(t[8]=t=>e.confirmAndExport())},{label:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("confirm"))+" ",1),e.hasErrors?((0,a.uX)(),(0,a.Wv)(r,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)(" Following fields need to be validated before export:"),Ue,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.fieldErrors,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e},[(0,a.eW)((0,o.v_)(e),1),je])))),128))])),_:1})):(0,a.Q3)("",!0)])),default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"text-center"},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(p,{clickable:"",onClick:t[7]||(t[7]=t=>e.validateConfigurationAndExport(1)),class:"border-bottom-bdbdbd min-height-38"},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("confirm_export_next")),1)])),_:1})])),_:1})])),_:1})),[[F]])])),_:1})])),_:1},8,["class"])],2)])),(0,a.bF)(g,{modelValue:e.display_config_dialog,"onUpdate:modelValue":t[9]||(t[9]=t=>e.display_config_dialog=t),position:"top",class:"export-dialog",persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(v)])),_:1},8,["modelValue"]),(0,a.bF)(g,{modelValue:e.confirmRuleSave,"onUpdate:modelValue":t[11]||(t[11]=t=>e.confirmRuleSave=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(f,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(y,{class:"row items-center",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.Lk)("span",ze,(0,o.v_)(e.$t("pages.messages.SAVE_RULES_WARNING")),1),(0,a.Lk)("span",He,(0,o.v_)(e.$t("pages.messages.SAVE_RULES_WARNING_2")),1)])),_:1}),(0,a.bF)(k,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(_,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[F]]),(0,a.bo)((0,a.bF)(_,{label:e.$t("done"),onClick:t[10]||(t[10]=t=>e.saveRules())},null,8,["label"]),[[F]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(g,{modelValue:e.confirmRedirection,"onUpdate:modelValue":t[13]||(t[13]=t=>e.confirmRedirection=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.bF)(x,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("confirm")),1)])),_:1}),(0,a.bo)((0,a.bF)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[F]])])),_:1}),(0,a.bF)(y,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",Ge,(0,o.v_)(e.$t("pages.messages.NO_NEXT_DOCUMENT")),1)])),_:1}),(0,a.bF)(k,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(_,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[F]]),(0,a.bo)((0,a.bF)(d,{label:e.$t("done"),onClick:t[12]||(t[12]=t=>e.routeToDashboard())},null,8,["label"]),[[F]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(g,{modelValue:e.showConfirmation,"onUpdate:modelValue":t[15]||(t[15]=t=>e.showConfirmation=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.bF)(x,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("confirm")),1)])),_:1}),(0,a.bo)((0,a.bF)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[F]])])),_:1}),(0,a.bF)(y,{class:"row items-center"},{default:(0,a.k6)((()=>[Ye])),_:1}),(0,a.bF)(k,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(_,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[F]]),(0,a.bo)((0,a.bF)(_,{label:e.$t("done"),onClick:t[14]||(t[14]=t=>e.proceedToSave())},null,8,["label"]),[[F]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(g,{modelValue:e.showUnmatchedPoWarring,"onUpdate:modelValue":t[17]||(t[17]=t=>e.showUnmatchedPoWarring=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.bF)(x,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("confirm")),1)])),_:1}),(0,a.bo)((0,a.bF)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[F]])])),_:1}),(0,a.bF)(y,{class:"row items-center"},{default:(0,a.k6)((()=>[Je])),_:1}),(0,a.bF)(k,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(_,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[F]]),(0,a.bo)((0,a.bF)(_,{label:e.$t("done"),onClick:t[16]||(t[16]=t=>{e.validateConfigurationAndExport(e.routeType)})},null,8,["label"]),[[F]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(g,{modelValue:e.showPoMatchWarning,"onUpdate:modelValue":t[19]||(t[19]=t=>e.showPoMatchWarning=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(f,{icon:"warning",color:"primary"})])),_:1}),(0,a.bF)(y,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",Ze,(0,o.v_)(e.$t("pages.messages.WARNING_EXPORT_FROM_PO_MATCH")),1)])),_:1}),(0,a.bF)(k,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(_,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[F]]),(0,a.bo)((0,a.bF)(_,{label:e.$t("po_matching"),onClick:t[18]||(t[18]=t=>e.navigateToPOMatch())},null,8,["label"]),[[F]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(L,{showing:e.export_config_processing},{default:(0,a.k6)((()=>[et])),_:1},8,["showing"])],64)}var lt=l(41903),at=l(68450),ot=l(76956),it=l(57366),st=l(25891);const nt={class:"q-ml-sm"};function rt(e,t,l,i,s,n){const r=(0,a.g2)("f-btn"),d=(0,a.g2)("q-avatar"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-card-actions"),p=(0,a.g2)("q-card"),h=(0,a.g2)("q-dialog"),m=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(r,{label:e.$t("form_builder.deleteRule"),class:"full-width",onClick:t[0]||(t[0]=t=>{e.confirmDelete=!0})},null,8,["label"]),(0,a.bF)(h,{modelValue:e.confirmDelete,"onUpdate:modelValue":t[2]||(t[2]=t=>e.confirmDelete=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(d,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(u,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",nt,(0,o.v_)(e.$t("pages.messages.msg_delete")),1)])),_:1}),(0,a.bF)(c,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(r,{appearance:"cancel",label:e.$t("pages.user.cancel")},null,8,["label"]),[[m]]),(0,a.bo)((0,a.bF)(r,{label:e.$t("pages.user.done"),onClick:t[1]||(t[1]=t=>e.deleteRules())},null,8,["label"]),[[m]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var dt=l(83319),ut=l(85487),ct=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const pt=(0,a.pM)({el:"#app",mixins:[Ne.A,Me.A],props:{docId:{type:String,required:!0},token:{type:String,default:""}},components:{},data(){return{}},computed:{},methods:{deleteRules(){return ct(this,void 0,void 0,(function*(){const e=yield this.hasActionAcquiredLock();if(!e)return;this.confirmDelete=!1;let t,l=new FormData;l.append("doc_id",this.docId),this.showLoading();try{let e=yield this.getToken();l.append("org_id",(0,ut.I)()),t=yield De.A.post(Ie.FH.delete_table_rules,l,{headers:{Authorization:e}})}catch(a){return this.hideLoading(),this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(a)}if(this.hideLoading(),!1===t.data.success)this.showErrorToast(this.$t("pages.messages.error_internal_occur")),this.showErrorToast(t.data.message);else{this.showSuccessToast(this.$t("pages.messages.RULES_DELETED_SUCESSFULLY"));const e=new CustomEvent("rules_deleted",{});document.dispatchEvent(e),this.$emit("autoDetectTables")}}))},getToken(){return ct(this,void 0,void 0,(function*(){let e=this.token&&null!=this.token&&""!=this.token?this.token:yield(0,Ie.L3)();return e}))}},setup(){const e=(0,dt.oI)(),{hasActionAcquiredLock:t}=e;return{confirmDelete:(0,Pe.KR)(!1),hasActionAcquiredLock:t}}});var ht=l(12807),mt=l(82156),_t=l(23316),bt=l(44189),vt=l(3952),gt=l(62669),ft=l(88672),yt=l(98582),kt=l.n(yt);const wt=(0,ht.A)(pt,[["render",rt]]),Ct=wt;kt()(pt,"components",{QDialog:mt.A,QCard:_t.A,QCardSection:bt.A,QAvatar:vt.A,QCardActions:gt.A}),kt()(pt,"directives",{ClosePopup:ft.A});var xt=l(41360),Lt=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ft=(0,a.pM)({el:"#app",mixins:[Ne.A,Me.A,it.A,st.A,Oe.A],props:{enableExportButton:Boolean,isValidationView:{type:Boolean,default:!1},isPOView:{type:Boolean,default:!1}},components:{ExportDialog:xt.A,DeleteRulesBtn:Ct},watch:{config_saved:{handler:function(e,t){!0===t&&!1===e||(this.display_config_dialog=!1)}}},computed:{hasErrors:function(){return(0,at.Ns)(this.fieldErrors)>0}},data(){return{docId:"",routeType:(0,Pe.KR)(0),isPoView:(0,Pe.KR)(!1),moveToDashboard:(0,Pe.KR)(!1),showConfirmation:(0,Pe.KR)(!1),allowedDoctypes:ot.Gk,po_module_activate:(0,Pe.KR)(!1),showPoMatchWarning:(0,Pe.KR)(!1),showUnmatchedPoWarring:(0,Pe.KR)(!1)}},mounted:function(){window.addEventListener("beforeunload",this.onTabClose),document.addEventListener("save_data",this.triggerSaveData),this.docId=this.$route.params.id},unmounted:function(){window.removeEventListener("beforeunload",this.onTabClose),document.removeEventListener("save_data",this.triggerSaveData)},methods:{cleanupDataforApi(e){e&&e.hasOwnProperty("doc_type")&&-1===this.allowedDoctypes.indexOf(e.doc_type)&&e.hasOwnProperty("tables")},cleanupTableData(e){if(!(e.tables&&e.tables.length>0&&e.tables[0].hasOwnProperty("rows")&&e.tables[0].rows.length>0))return;let t=new Map;Array.from(e.tables[0].rows).forEach((e=>{Array.from(e.columns).forEach((e=>{e.isExtraColumn&&(t.has(e.name)?!1===t.get(e.name)&&e.formatted_value&&t.set(e.name,!0):e.formatted_value?t.set(e.name,!0):t.set(e.name,!1))}))})),Array.from(e.tables[0].rows).forEach((e=>{e.columns=e.columns.filter((e=>!(t.has(e.name)&&!1===t.get(e.name))))}))},triggerSaveData(e){this.confirmationForSave()},confirmationForSave(e=!1){this.confirmationForPoConnectionReset?(this.moveToDashboard=e,this.showConfirmation=!0):this.decideNextOperation()},proceedToSave(){this.record.po_multi_matched=[],this.decideNextOperation()},decideNextOperation(){this.confirmationForPoConnectionReset=!1,this.isPoView?this.viewPurchaseOrder():this.saveData(this.moveToDashboard)},saveData(e){return Lt(this,void 0,void 0,(function*(){const t=yield this.hasActionAcquiredLock();if(!t)return;let l=this.record;this.showLoading(),this.cleanupDataforApi(l),this.cleanupTableData(l),l.hasOwnProperty("table_data_copy")&&delete l["table_data_copy"];let a,o=new FormData;o.append("data",JSON.stringify(this.record)),o.append("org_id",(0,ut.I)());try{let e=yield(0,Ie.L3)();a=yield De.A.post(Ie.FH.save_document+this.docId,o,{headers:{Authorization:e}})}catch(i){return this.hideLoading(),this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(i)}if(this.hideLoading(),!1===a.data.success)this.showErrorToast(this.$t("pages.messages.error_internal_occur")),this.showErrorToast(a.data.message);else{this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),e&&this.routeToDashboard();const t=a.data.data;t.hasOwnProperty("layout")||(t.layout=this.record.layout),this.record=t,this.removeCache(),this.setDataToCache()}}))},routeToDashboard(){window.removeEventListener("beforeunload",this.onTabClose),this.releaseDocLock({doc_id:this.record.doc_id}),this.$router.push("/dashboard")},confirmationRuleSave(){this.is_line_item_validated&&(this.confirmRuleSave=!0)},saveRules(){return Lt(this,void 0,void 0,(function*(){const e=yield this.hasActionAcquiredLock();if(!e)return;let t=this.record;this.confirmRuleSave=!1,this.showLoading(),t.hasOwnProperty("table_data_copy")&&delete t["table_data_copy"];let l,a=yield(0,Ie.L3)(),o=new FormData;o.append("data",JSON.stringify(t)),o.append("org_id",(0,ut.I)());try{l=yield De.A.post(Ie.FH.save_rules,o,{headers:{Authorization:a}})}catch(i){return this.hideLoading(),this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(i)}this.hideLoading(),!1===l.data.success?(this.showErrorToast(this.$t("pages.messages.error_internal_occur")),this.showErrorToast(l.data.message)):(this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.$emit("autoDetectTables"))}))},validateConfigurationAndExport(e){return Lt(this,void 0,void 0,(function*(){const t=yield this.hasActionAcquiredLock();if(!t)return;let l;try{let e=new FormData;e.append("doc_type",this.record.doc_type),e.append("org_id",(0,ut.I)());let t=yield(0,Ie.L3)();const a=yield De.A.post(Ie.FH.export_configuration_existence,e,{headers:{Authorization:t}});l=a.data.valid}catch(a){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(a)}l?this.exportData(e).catch():this.display_config_dialog=!0}))},exportData(e){return Lt(this,void 0,void 0,(function*(){let t,l=this.record;if(this.cleanupDataforApi(l),this.cleanupTableData(l),this.display_config_dialog=!1,(yield this.isPoSettingActivate(this.doctype))&&!this.isPOView)return void(this.showPoMatchWarning=!0);this.showLoading(),l.hasOwnProperty("table_data_copy")&&delete l["table_data_copy"];try{this.removeAllNotifications();let e=new FormData;e.append("data",JSON.stringify(l)),e.append("org_id",(0,ut.I)());let a=yield(0,Ie.L3)();t=yield De.A.post(Ie.FH.validate_and_export+this.docId,e,{headers:{Authorization:a}})}catch(o){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(o)}finally{this.hideLoading()}if(!0===t.data.success)return void(0===e?(yield this.dashboardFiltersAfterExport(),this.routeToDashboard()):this.routeToNextInvoice(l.doc_type));let a=t.data.validation_error_codes;a?a.forEach((e=>{let t=e.split(":"),l=this.displayFieldLabelFor2a({translation_key:t[0]});this.showErrorToast(l+" "+this.$t("pages.api_user_messages."+t[1]),!0)})):this.showErrorToast(t.data.message),this.$emit("setApiData",t.data.data),this.$emit("handleExportError")}))},routeToNextInvoice(e){return Lt(this,void 0,void 0,(function*(){let t;this.showLoading();try{let l=yield(0,Ie.L3)();t=yield De.A.get((0,ut.MV)(Ie.FH.get_next_document+this.docId+"?doc_type="+e+"&sort_attr=created_on"),{headers:{Authorization:l}})}catch(l){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(l)}finally{this.hideLoading()}!0===t.data.success?!0===t.data.has_next?(this.showSuccessToast(this.$t("pages.messages.NEXT_DOC_LOADED")),window.removeEventListener("beforeunload",this.onTabClose),this.$router.push("/field_validation_v1/"+t.data.next_id)):this.confirmRedirection=!0:this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}))},viewPurchaseOrder(){this.isPoView=!1,null!==this.tb_version&&this.decidePORoute()},navigateToPOMatch(){this.validateLineItemTable(this.record.tables,this.record.doc_type)&&this.decidePORoute()},decidePORoute(){return Lt(this,void 0,void 0,(function*(){const e=yield this.saveAndValidate();if(!1===e.success){const t=new CustomEvent("display_fields_errors",{});return document.dispatchEvent(t),void this.showErrorToast(e.message)}this.$router.push("/po-matching-v3/"+this.record.doc_id)}))},onTabClose(e){this.releaseDocLock({doc_id:this.record.doc_id});let t=lt.A.has("event_name")?lt.A.getItem("event_name"):null;t&&"language_change"===t||(e.preventDefault(),e.returnValue="",this.clearSelectedSessionStorage())},autoDetectTables(){this.$emit("autoDetectTables")},confirmAndExport(){this.enableExportButton&&this.validateConfigurationAndExport(0)}},setup(){const e=(0,dt.q3)(),{record:t,tb_version:l,po_enable:a,doctype:o,language_origin:i,confirmationForPoConnectionReset:s,notifications:n,fieldErrors:r}=(0,Te.bP)(e),{saveAndValidate:d,setDataToCache:u,removeCache:c}=e,p=(0,dt.oI)(),{hasActionAcquiredLock:h,releaseDocLock:m}=p,_=(0,dt.t8)(),{clearStateForExportDialog:b}=_,{display_config_dialog:v,processing:g,config_saved:f}=(0,Te.bP)(_),y=(0,dt.ky)(),{validation_done:k}=(0,Te.bP)(y),w=(0,dt.fX)(),{dashboardFiltersAfterExport:C}=w;return{fieldErrors:r,removeCache:c,setDataToCache:u,saveAndValidate:d,dashboardFiltersAfterExport:C,is_line_item_validated:k,record:t,doctype:o,language_origin:i,confirmationForPoConnectionReset:s,notifications:n,releaseDocLock:m,exportButtonWidth:(0,Pe.KR)("61"),confirmRuleSave:(0,Pe.KR)(!1),po_enable:a,tb_version:l,hasActionAcquiredLock:h,clearStateForExportDialog:b,display_config_dialog:v,export_config_processing:g,config_saved:f,confirmRedirection:(0,Pe.KR)(!1)}}});var Et=l(56384),At=l(97410),St=l(18301),Dt=l(53999),It=l(90124),Tt=l(25173),Ot=l(13796),Mt=l(36914),Rt=l(39150),Pt=l(39035);const qt=(0,ht.A)(Ft,[["render",tt]]),Vt=qt;kt()(Ft,"components",{QBtn:Et.A,QTooltip:At.A,QBtnDropdown:St.A,QList:Dt.A,QItem:It.A,QItemSection:Tt.A,QItemLabel:Ot.A,QDialog:mt.A,QCard:_t.A,QCardSection:bt.A,QAvatar:vt.A,QCardActions:gt.A,QToolbar:Mt.A,QToolbarTitle:Rt.A,QInnerLoading:Pt.A}),kt()(Ft,"directives",{ClosePopup:ft.A});var Nt=l(93829),Bt=l(51476);const $t=e=>((0,a.Qi)("data-v-a255977a"),e=e(),(0,a.jt)(),e),Qt={class:"ai_indicator_header"},Xt={class:"text"},Wt=$t((()=>(0,a.Lk)("div",{id:"speedometer"},[(0,a.Lk)("span",{class:"barometer"}),(0,a.Lk)("span",{class:"needle"})],-1)));function Kt(e,t,l,i,s,n){return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("span",Qt,[(0,a.Lk)("span",Xt,(0,o.v_)(e.$t("ai_indicator")),1)]),Wt],64)}const Ut=(0,a.pM)({el:"#app",mixins:[],props:{},components:{},data(){return{gauge_data:{},needle:{},prop:null}},mounted:function(){document.addEventListener("TE_gauge_calculation",this.TEGaugeCalculation),document.addEventListener("FV_gauge_calculation",this.FVGaugeCalculation),this.initGauge()},unmounted:function(){document.removeEventListener("TE_gauge_calculation",this.TEGaugeCalculation),document.removeEventListener("FV_gauge_calculation",this.FVGaugeCalculation)},watch:{},methods:{initGauge(){this.value=0,this.renderGauge()},TEGaugeCalculation(e){e&&e.detail&&e.detail.hasOwnProperty("min_table_effective_weight")&&e.detail.min_table_effective_weight!==this.value&&(this.value=e.detail.min_table_effective_weight,this.renderGauge())},FVGaugeCalculation(e){e&&e.detail&&e.detail.hasOwnProperty("mean_effective_weight")&&e.detail.mean_effective_weight!==this.value&&(this.value=e.detail.mean_effective_weight,this.renderGauge())},renderGauge(){const e=this.makeWithInRange(this.value);this.needle=document.querySelector(".needle"),this.needle.style.transform="rotate("+e+"deg)"},makeWithInRange(e){let t=10,l=0,a=0,o=0;return 5==e?1:(e>5&&(a=89,o=1),e<5&&(a=357,o=272),(e-l)/(t-l)*(a-o)+o)},getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}},setup(){return{value:(0,Pe.KR)(0)}}}),jt=(0,ht.A)(Ut,[["render",Kt],["__scopeId","data-v-a255977a"]]),zt=jt;var Ht=l(53665),Gt=l(36801),Yt=l(81589),Jt=l(93970),Zt=l(53500);const el=e=>((0,a.Qi)("data-v-5592b085"),e=e(),(0,a.jt)(),e),tl=el((()=>(0,a.Lk)("img",{width:"18",height:"18",src:"images/trash-bin-default.svg"},null,-1))),ll=el((()=>(0,a.Lk)("img",{width:"18",height:"18",src:"images/trash-bin-default.svg"},null,-1))),al=el((()=>(0,a.Lk)("img",{width:"18",height:"18",src:"images/globe.svg"},null,-1))),ol={key:0,class:"back-white"},il={key:1},sl={key:2},nl={style:{"padding-left":"5px"}},rl={style:{"padding-left":"5px"}},dl={style:{"padding-left":"5px"}},ul={style:{"padding-left":"5px"}},cl={key:0,class:"q-pa-md q-gutter-sm"},pl={class:"text-weight-bold"},hl={class:"row items-center"},ml={style:{width:"40%",margin:"auto"}},_l={class:"input-text validation-icon",style:{width:"60%"}},bl={class:"row items-center q-mb-md"},vl={style:{width:"40%",margin:"auto"}},gl={style:{width:"60%"}},fl={class:"q-pa-md"},yl={class:"row items-center"},kl={style:{width:"40%",margin:"auto"}},wl={style:{width:"60%"}},Cl={class:"row items-center"},xl={style:{width:"40%",margin:"auto"}},Ll={style:{width:"60%"}},Fl={class:"row items-center"},El={style:{width:"40%",margin:"auto"}},Al={style:{width:"60%"}},Sl={class:"row items-center"},Dl={style:{width:"40%",margin:"auto"}},Il={style:{width:"60%"}},Tl={class:"row items-center"},Ol={style:{width:"40%",margin:"auto"}},Ml={style:{width:"60%"}},Rl={key:0,class:"row items-center"},Pl={style:{width:"1000%",margin:"auto"}},ql={class:"bg-grey-3"},Vl={class:"text-h4 text-uppercase text-left"},Nl={class:"text-h4 text-uppercase text-left"},Bl={class:"text-h4 text-uppercase text-left"},$l={class:"text-h4 text-uppercase text-left"},Ql=el((()=>(0,a.Lk)("img",{src:"images/trash-bin-default.svg",width:"20"},null,-1))),Xl={class:"text-weight-bold"},Wl={style:{"margin-bottom":"20px"},class:"row full-width mb-10 mt-8"},Kl={style:{width:"50%"}},Ul=el((()=>(0,a.Lk)("div",{style:{width:"50%"},class:"pl-20"},null,-1))),jl={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},zl={style:{width:"50%"}},Hl={style:{width:"50%"},class:"pl-20"},Gl={key:0,style:{"margin-bottom":"20px"},class:"row full-width mb-10"},Yl={style:{width:"100%"}},Jl={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},Zl={style:{width:"100%"}},ea={class:"q-ml-sm"},ta={class:"q-ml-sm"},la={class:"text-weight-bold"},aa={class:"q-ml-sm"},oa={class:"q-ml-sm"};function ia(e,t,l,s,n,r){const d=(0,a.g2)("q-th"),u=(0,a.g2)("q-item-section"),c=(0,a.g2)("q-item-label"),p=(0,a.g2)("q-item"),h=(0,a.g2)("q-icon"),m=(0,a.g2)("q-separator"),_=(0,a.g2)("ColumnOrigin"),b=(0,a.g2)("q-list"),v=(0,a.g2)("q-btn-dropdown"),g=(0,a.g2)("q-input"),f=(0,a.g2)("q-tooltip"),y=(0,a.g2)("q-tr"),k=(0,a.g2)("q-btn"),w=(0,a.g2)("q-td"),C=(0,a.g2)("q-table"),x=(0,a.g2)("q-spinner"),L=(0,a.g2)("q-markup-table"),F=(0,a.g2)("q-toolbar-title"),E=(0,a.g2)("q-toolbar"),A=(0,a.g2)("q-select"),S=(0,a.g2)("q-checkbox"),D=(0,a.g2)("q-expansion-item"),I=(0,a.g2)("q-card-section"),T=(0,a.g2)("f-btn"),O=(0,a.g2)("q-card-actions"),M=(0,a.g2)("q-card"),R=(0,a.g2)("q-dialog"),P=(0,a.g2)("q-avatar"),q=(0,a.g2)("CreateCustomColumn"),V=(0,a.g2)("BlockedColumns"),N=(0,a.g2)("ManageRuleRegexes"),B=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[((0,a.uX)(),(0,a.CE)("div",{class:"row q-pa-sm",key:e.renderKey},[e.hasLineItems()?((0,a.uX)(),(0,a.Wv)(C,{key:0,rows:e.tableRows,columns:e.tableColumns,"no-data-label":e.$t("pages.messages.no_record_found"),"row-key":"id","hide-bottom":"",style:{overflow:"scroll",height:"auto","min-height":"180px","max-height":"500px"},"rows-per-page-options":[0],id:e.tableId,class:"sticky-header"},{header:(0,a.k6)((l=>[(0,a.bF)(y,{props:l},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.cols,((l,i)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l.name},[""===l.label?((0,a.uX)(),(0,a.Wv)(d,{key:0})):((0,a.uX)(),(0,a.Wv)(d,{key:1},{default:(0,a.k6)((()=>[e.isReadOnly?((0,a.uX)(),(0,a.CE)("span",{key:1,class:(0,o.C4)("gridHeader "+(l.error?"column-error-border":"")+(!0===e.hasOriginalIndex(l.org_index,l)?"non-extractable-column-text ":" extractable-column-text")),style:{width:"100%","box-shadow":"none",padding:"8px 40px 8px 2px"}},(0,o.v_)(l.label),3)):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(v,{"fab-mini":"",color:e.hasOriginalIndex(l.org_index,l)&&e.formatting_options.group_column===l.org_index?"primary":"grey-6",rounded:"",outline:"",class:"column-action-dropdown","dropdown-icon":"more_horiz"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[e.hasOriginalIndex(l.org_index,l)?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(p,{key:0,onClick:t=>e.deleteLineItemColumn(l.org_index),clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(u,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[tl])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete_column")),1)])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[B]]):(0,a.Q3)("",!0),e.hasOriginalIndex(l.org_index,l)&&e.formatting_options.group_column!==l.org_index?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(p,{key:1,"text-color":l.is_mapped?"non-extractable-column-text":"black",onClick:t=>e.groupByColumn(l.org_index),clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(u,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{name:"lar la-object-group",size:"20px",class:"cursor-pointer"})])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("group_rows")),1)])),_:1})])),_:1})])),_:2},1032,["text-color","onClick"])),[[B]]):(0,a.Q3)("",!0),e.hasOriginalIndex(l.org_index,l)&&e.formatting_options.group_column===l.org_index?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(p,{key:2,onClick:t[0]||(t[0]=t=>e.resetFormating()),clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(u,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{name:"lar la-object-ungroup",size:"20px",class:"cursor-pointer"})])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("reset_group_rows")),1)])),_:1})])),_:1})])),_:1})),[[B]]):(0,a.Q3)("",!0),l.is_mapped?(0,a.Q3)("",!0):(0,a.bo)(((0,a.uX)(),(0,a.Wv)(p,{key:3,onClick:t=>{e.prepareRegexData(l.name)},clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(u,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{name:"las la-infinity",size:"20px",class:"cursor-pointer"})])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("regex")),1)])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[B]]),e.hasOriginalIndex(l.org_index,l)?(0,a.Q3)("",!0):(0,a.bo)(((0,a.uX)(),(0,a.Wv)(p,{key:4,onClick:t=>e.disableCustomColumn(l.name),clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(u,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[ll])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("disable_column")),1)])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[B]]),(0,a.bF)(m),e.lineItemLayout[l.name]&&e.lineItemLayout[l.name].hasOwnProperty("column_type")&&"AMOUNT"==e.lineItemLayout[l.name].column_type?((0,a.uX)(),(0,a.Wv)(p,{key:5},{default:(0,a.k6)((()=>[(0,a.bF)(u,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[al])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(_,{class:"f-doc-screens-input-field",onUpdateColumnOrigin:e.updateColumnOrigin,origin:l.col_origin,column_name:l.name},null,8,["onUpdateColumnOrigin","origin","column_name"])])),_:2},1024)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1032,["color"]),(0,a.bF)(v,{flat:"",disable:1!=e.hasOriginalIndex(l.org_index,l),id:"button_"+i,class:(0,o.C4)("gridHeader "+(l.error?"column-error-border":"")+(!0===e.hasOriginalIndex(l.org_index,l)?"non-extractable-column-text ":" extractable-column-text")),label:l.label},{default:(0,a.k6)((()=>[(0,a.bF)(g,{outlined:"",modelValue:e.searchColumn,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchColumn=t),dense:"",style:{"line-height":"normal"}},{append:(0,a.k6)((()=>[(0,a.bF)(h,{name:"search"})])),_:1},8,["modelValue"]),(0,a.bF)(b,{filter:e.filter},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.filteredColumns,(t=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(p,{key:t.techName,clickable:"",onClick:a=>e.swapColumn(t,l.org_index,l.name,"button_"+i)},{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.header),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[B]]))),128))])),_:2},1032,["filter"])])),_:2},1032,["disable","id","class","label"])],64)),l.error?((0,a.uX)(),(0,a.Wv)(h,{key:2,title:e.$t("pages.screen2b.in_valid_column_error"),name:"priority_high",class:"headerError"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.screen2b.in_valid_column_error")),1)])),_:1})])),_:1},8,["title"])):(0,a.Q3)("",!0)])),_:2},1024))],64)))),128))])),_:2},1032,["props"])])),body:(0,a.k6)((t=>[(0,a.bF)(y,{props:t,id:"tbl_row_"+t.key},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,(l=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l.name},[""===l.label?((0,a.uX)(),(0,a.Wv)(w,{key:0,class:"secondary-c-text"},{default:(0,a.k6)((()=>[e.isReadOnly||e.training_mode?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[e.rowHasErrors(t.key)?((0,a.uX)(),(0,a.Wv)(h,{key:0,title:e.$t("pages.screen2b.in_valid_column_error"),name:"priority_high",class:"headerError"},{default:(0,a.k6)((()=>[(0,a.bF)(f,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.lineItemsErrors[t.key],((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t},(0,o.v_)(e),1)))),128))])),_:2},1024)])),_:2},1032,["title"])):(0,a.Q3)("",!0),(0,a.bF)(k,{flat:"",color:"primary",onClick:l=>e.removeLineItem(t.key),icon:"fa fa-times"},null,8,["onClick"])],64))])),_:2},1024)):e.isColumnVisible(l.org_index,l)?((0,a.uX)(),(0,a.Wv)(w,{key:1,id:"input_"+l.name+"_"+t.key,onClick:a=>e.editColumnData(a,l.field,t.key),"data-score-description":e.getScoreDescription(e.lineDataObj[t.key]["columns"][l.name]),"data-column-value":e.lineDataObj[t.key]["columns"][l.name].formatted_value},{default:(0,a.k6)((()=>[(0,a.bF)(g,{disable:e.isReadOnly,class:(0,o.C4)("input-field "+e.addExtractionMethodClass(e.lineDataObj[t.key]["columns"][l.name])),style:(0,o.Tr)("background:"+e.getBackgroundColor(e.lineDataObj[t.key]["columns"][l.name])),borderless:"",onKeydown:e.inputKeyDown,onChange:a=>e.inputValueChanges(l.name,t.key),modelValue:e.lineDataObj[t.key]["columns"][l.name].formatted_value,"onUpdate:modelValue":a=>e.lineDataObj[t.key]["columns"][l.name].formatted_value=a},null,8,["disable","class","style","onKeydown","onChange","modelValue","onUpdate:modelValue"])])),_:2},1032,["id","onClick","data-score-description","data-column-value"])):(0,a.Q3)("",!0)],64)))),128))])),_:2},1032,["props","id"])])),_:1},8,["rows","columns","no-data-label","id"])):((0,a.uX)(),(0,a.Wv)(L,{key:1,class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[!1===e.lineItemsloading?((0,a.uX)(),(0,a.CE)("tr",ol,[(0,a.Lk)("th",null,(0,o.v_)(e.$t("no_line_items_found")),1)])):(0,a.Q3)("",!0),!0===e.lineItemsloading?((0,a.uX)(),(0,a.CE)("tr",il,[(0,a.Lk)("th",null,[(0,a.bF)(x,{color:"primary",size:"3em",thickness:10})])])):(0,a.Q3)("",!0)])])),_:1})),e.hasLineItems()?((0,a.uX)(),(0,a.CE)("div",sl,[(0,a.Lk)("div",null,[(0,a.bF)(h,{class:"non-extractable-column-text",style:{"font-size":"18px"},name:"rectangle"}),(0,a.Lk)("span",nl,(0,o.v_)(e.$t("non_extractable_column_text")),1)]),(0,a.Lk)("div",null,[(0,a.bF)(h,{class:"extractable-column-text",style:{"font-size":"18px"},name:"rectangle"}),(0,a.Lk)("span",rl,(0,o.v_)(e.$t("extractable_column_text")),1)]),(0,a.Lk)("div",null,[(0,a.bF)(h,{style:(0,o.Tr)({"font-size":"18px",color:e.is_auto_filled_color}),name:"rectangle"},null,8,["style"]),(0,a.Lk)("span",dl,(0,o.v_)(e.$t("values_auto_filled")),1)]),(0,a.Lk)("div",null,[(0,a.bF)(h,{style:(0,o.Tr)({"font-size":"18px",color:e.is_missing_color}),name:"rectangle"},null,8,["style"]),(0,a.Lk)("span",ul,(0,o.v_)(e.$t("doc_cannot_be_extracted")),1)])])):(0,a.Q3)("",!0)])),e.openAdvSettings?((0,a.uX)(),(0,a.CE)("div",cl,[(0,a.bF)(R,{modelValue:e.openAdvSettings,"onUpdate:modelValue":t[10]||(t[10]=t=>e.openAdvSettings=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(M,{style:{width:"700px","max-width":"50vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(E,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",pl,(0,o.v_)(e.$t("layout.settings")),1)])),_:1}),(0,a.bo)((0,a.bF)(k,{flat:"",round:"",dense:"",icon:"close"},null,512),[[B]])])),_:1}),(0,a.bF)(I,{class:""},{default:(0,a.k6)((()=>[(0,a.Lk)("div",hl,[(0,a.Lk)("div",ml,[(0,a.eW)((0,o.v_)(e.$t("pages.line_items.header_row_count_field"))+" ",1),(0,a.bF)(h,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("header_row_count")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",_l,[(0,a.bF)(g,{outlined:"",type:"number",rules:e.headerRowCountRules,modelValue:e.header_rows_count,"onUpdate:modelValue":t[2]||(t[2]=t=>e.header_rows_count=t)},null,8,["rules","modelValue"])])]),(0,a.Lk)("div",bl,[(0,a.Lk)("div",vl,[(0,a.eW)((0,o.v_)(e.$t("move_extra_rows_to"))+" ",1),(0,a.bF)(h,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("move_extra_rows_to_desc")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",gl,[(0,a.bF)(A,{outlined:"",modelValue:e.move_extra_rows_to,"onUpdate:modelValue":t[3]||(t[3]=t=>e.move_extra_rows_to=t),options:e.advance_settings_columns,"emit-value":"","map-options":""},{option:(0,a.k6)((e=>[(0,a.bF)(p,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:(0,o.C4)("__trash__"===e.opt.value?"text-red text-weight-bold":"")},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"])])]),(0,a.bF)(b,{bordered:"",class:"rounded-borders"},{default:(0,a.k6)((()=>[(0,a.bF)(D,{"expand-separator":"",icon:"description",label:e.$t("pages.line_items.adv_settings_header"),"header-class":"panel-header","default-closed":""},{default:(0,a.k6)((()=>[(0,a.bF)(m),(0,a.Lk)("div",fl,[(0,a.Lk)("div",yl,[(0,a.Lk)("div",kl,[(0,a.eW)((0,o.v_)(e.$t("pages.line_items.min_group_rows"))+" ",1),(0,a.bF)(h,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("minimum_grouped_rows")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",wl,[(0,a.bF)(g,{class:"input-text validation-icon",outlined:"",type:"number",rules:e.headerRowCountRules,modelValue:e.min_group_rows,"onUpdate:modelValue":t[4]||(t[4]=t=>e.min_group_rows=t)},null,8,["rules","modelValue"])])]),(0,a.Lk)("div",Cl,[(0,a.Lk)("div",xl,[(0,a.eW)((0,o.v_)(e.$t("pages.line_items.max_group_rows"))+" ",1),(0,a.bF)(h,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("maximum_grouped_rows")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",Ll,[(0,a.bF)(g,{class:"input-text validation-icon",outlined:"",type:"number",rules:e.headerRowCountRules,modelValue:e.max_group_rows,"onUpdate:modelValue":t[5]||(t[5]=t=>e.max_group_rows=t)},null,8,["rules","modelValue"])])]),(0,a.Lk)("div",Fl,[(0,a.Lk)("div",El,[(0,a.eW)((0,o.v_)(e.$t("pages.line_items.distinct_group_column"))+" ",1),(0,a.bF)(h,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("distinct_group_columns")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",Al,[(0,a.bF)(S,{modelValue:e.distinct_group_column,"onUpdate:modelValue":t[6]||(t[6]=t=>e.distinct_group_column=t)},null,8,["modelValue"])])]),(0,a.Lk)("div",Sl,[(0,a.Lk)("div",Dl,[(0,a.eW)((0,o.v_)(e.$t("pages.line_items.reverse_grouping"))+" ",1),(0,a.bF)(h,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("reverse_grouping")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",Il,[(0,a.bF)(S,{modelValue:e.reverse_grouping,"onUpdate:modelValue":t[7]||(t[7]=t=>e.reverse_grouping=t)},null,8,["modelValue"])])]),(0,a.Lk)("div",Tl,[(0,a.Lk)("div",Ol,[(0,a.eW)((0,o.v_)(e.$t("split_text"))+" ",1),(0,a.bF)(h,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("split_text_desc")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",Ml,[(0,a.bF)(S,{modelValue:e.split_text,"onUpdate:modelValue":t[8]||(t[8]=t=>e.split_text=t),onClick:t[9]||(t[9]=t=>e.split_text_confirm_dialog=!0)},null,8,["modelValue"])])]),e.extra_columns.length>0?((0,a.uX)(),(0,a.CE)("div",Rl,[(0,a.Lk)("div",Pl,[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",ql,[(0,a.Lk)("th",Vl,(0,o.v_)(e.$t("field_key")),1),(0,a.Lk)("th",Nl,(0,o.v_)(e.$t("source_field")),1),(0,a.Lk)("th",Bl,(0,o.v_)(e.$t("pattern")),1),(0,a.Lk)("th",$l,(0,o.v_)(e.$t("actions")),1)])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.extra_columns,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:t["key"]},[(0,a.Lk)("td",null,(0,o.v_)(t["field_key"]),1),(0,a.Lk)("td",null,(0,o.v_)(t["source_field"]),1),(0,a.Lk)("td",null,(0,o.v_)(t["pattern"]),1),(0,a.Lk)("td",null,[(0,a.bF)(k,{flat:"",onClick:t=>{t.stopPropagation(),e.removeFieldFromSettings(l)}},{default:(0,a.k6)((()=>[Ql,(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("remove")),1)])),_:1})])),_:2},1032,["onClick"])])])))),128))])])),_:1})])])):(0,a.Q3)("",!0)])])),_:1},8,["label"])])),_:1})])),_:1}),(0,a.bF)(O,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(T,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[B]]),(0,a.bF)(T,{class:"q-mr-sm","data-cy":"setvatfield",label:e.$t("pages.line_items.proceed"),onClick:e.formatWthAdvSettings},null,8,["label","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(R,{modelValue:e.addFieldsDialog,"onUpdate:modelValue":t[19]||(t[19]=t=>e.addFieldsDialog=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(M,{style:{width:"600px"}},{default:(0,a.k6)((()=>[(0,a.bF)(E,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",Xl,(0,o.v_)(e.$t("add_field_view_header")),1)])),_:1}),(0,a.bo)((0,a.bF)(k,{flat:"",round:"",dense:"",icon:"close"},null,512),[[B]])])),_:1}),(0,a.bF)(I,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Wl,[(0,a.Lk)("div",Kl,[(0,a.bF)(A,{modelValue:e.new_field_model["source"],"onUpdate:modelValue":t[12]||(t[12]=t=>e.new_field_model["source"]=t),class:"col-sm-6 col-md-6 col-lg-6",options:e.adv_column_options,label:"Field Source*","bottom-slots":"","error-message":"Field is required",error:e.new_field_model["source_invalid"],"emit-value":"","map-options":""},{append:(0,a.k6)((()=>[(0,a.bF)(h,{name:"close",onClick:t[11]||(t[11]=(0,i.D$)((t=>e.new_field_model["source"]=""),["stop"])),class:"cursor-pointer"})])),option:(0,a.k6)((e=>[(0,a.bF)(p,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","error"])]),Ul]),(0,a.Lk)("div",jl,[(0,a.Lk)("div",zl,[(0,a.bF)(g,{label:"Key*",modelValue:e.new_field_model["key"],"onUpdate:modelValue":t[13]||(t[13]=t=>e.new_field_model["key"]=t),outlined:"",class:"full-width","bottom-slots":"","error-message":"Field is required",error:e.new_field_model["key_invalid"]},null,8,["modelValue","error"])]),(0,a.Lk)("div",Hl,[(0,a.bF)(A,{modelValue:e.new_field_model["key_dropdown"],"onUpdate:modelValue":[t[15]||(t[15]=t=>e.new_field_model["key_dropdown"]=t),t[16]||(t[16]=t=>e.advSettingNewFieldColumnSelected("key","key_dropdown"))],class:"col-sm-6 col-md-6 col-lg-6",options:e.adv_column_options,label:e.$t("adv_column_options")},{append:(0,a.k6)((()=>[(0,a.bF)(h,{name:"close",onClick:t[14]||(t[14]=(0,i.D$)((t=>{e.new_field_model["key_dropdown"]="",e.advSettingNewFieldColumnSelected("key","key_dropdown")}),["stop"])),class:"cursor-pointer"})])),option:(0,a.k6)((e=>[(0,a.bF)(p,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","label"])])]),e.new_field_model["key_dropdown"]?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",Gl,[(0,a.Lk)("div",Yl,[(0,a.bF)(g,{label:"Label",modelValue:e.new_field_model["label"],"onUpdate:modelValue":t[17]||(t[17]=t=>e.new_field_model["label"]=t),outlined:"",class:"full-width"},null,8,["modelValue"])])])),(0,a.Lk)("div",Jl,[(0,a.Lk)("div",Zl,[(0,a.bF)(g,{label:"Pattern*",modelValue:e.new_field_model["pattern"],"onUpdate:modelValue":t[18]||(t[18]=t=>e.new_field_model["pattern"]=t),outlined:"",class:"full-width","bottom-slots":"","error-message":"Invalid Regex Pattern",error:e.new_field_model["pattern_invalid"]},null,8,["modelValue","error"])])])])),_:1}),(0,a.bF)(O,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{color:"primary",class:"q-mr-sm","data-cy":"setvatfield",label:e.$t("pages.line_items.proceed"),onClick:e.saveNewFieldForAdvSettings},null,8,["label","onClick"]),(0,a.bo)((0,a.bF)(T,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[B]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(R,{modelValue:e.split_text_confirm_dialog,"onUpdate:modelValue":t[21]||(t[21]=t=>e.split_text_confirm_dialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(M,null,{default:(0,a.k6)((()=>[(0,a.bF)(I,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(P,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(I,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",ea,(0,o.v_)(e.$t("split_text_confirm")),1)])),_:1}),(0,a.bF)(O,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(k,{label:e.$t("cancel"),class:"bg-grey-3"},null,8,["label"]),[[B]]),(0,a.bF)(k,{label:e.$t("proceed"),class:"q-mr-sm",color:"primary",onClick:t[20]||(t[20]=t=>e.TriggerSplitText())},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])):(0,a.Q3)("",!0),(0,a.bF)(R,{modelValue:e.addColumnDialog,"onUpdate:modelValue":t[22]||(t[22]=t=>e.addColumnDialog=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(q,{is_table_training_doc:!!this.docStore.record.hasOwnProperty("is_table_training_doc"),table_name:this.docStore.record.tables&&this.docStore.record.tables.length>0?this.docStore.record.tables[0].name:"",tables:this.docStore.record.tables&&this.docStore.record.tables.length>0?this.docStore.record.tables[0]:{},columns_list:this.lineItemLayout,addColumnDialog:e.addColumnDialog},null,8,["is_table_training_doc","table_name","tables","columns_list","addColumnDialog"])])),_:1},8,["modelValue"]),(0,a.bF)(R,{modelValue:e.poEditRestrictDialog,"onUpdate:modelValue":t[23]||(t[23]=t=>e.poEditRestrictDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(M,null,{default:(0,a.k6)((()=>[(0,a.bF)(I,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",ta,(0,o.v_)(e.poEditRestrictMessage),1)])),_:1}),(0,a.bF)(O,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{flat:"",label:e.$t("dashboard"),color:"primary",to:"/dashboard"},null,8,["label"]),(0,a.bF)(k,{flat:"",label:e.$t("table_extraction_view"),color:"primary",to:"/tbl_ext_v3/"+e.docStore.record.doc_id},null,8,["label","to"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(R,{modelValue:e.openDisableColumnListView,"onUpdate:modelValue":t[24]||(t[24]=t=>e.openDisableColumnListView=t)},{default:(0,a.k6)((()=>[(0,a.bF)(M,{style:{"min-width":"700px",width:"700px","max-width":"50vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(E,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",la,(0,o.v_)(e.$t("diabled_custom_columns")),1)])),_:1}),(0,a.bo)((0,a.bF)(k,{flat:"",round:"",dense:"",icon:"close"},null,512),[[B]])])),_:1}),(0,a.bF)(V,{rows:e.disableColumnList},null,8,["rows"])])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(R,{modelValue:e.revert_changes_confirm_dialog,"onUpdate:modelValue":t[27]||(t[27]=t=>e.revert_changes_confirm_dialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(M,null,{default:(0,a.k6)((()=>[(0,a.bF)(I,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(P,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(I,{tag:"span",class:"row items-center",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.Lk)("span",aa,(0,o.v_)(e.$t("revert_changes_confirm")),1),(0,a.Lk)("span",oa,(0,o.v_)(e.$t("revert_changes_confirm_2")),1)])),_:1}),(0,a.bF)(O,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(T,{appearance:"cancel",label:e.$t("cancel"),onClick:t[25]||(t[25]=t=>e.revert_changes_confirm_dialog=!1)},null,8,["label"]),[[B]]),(0,a.bF)(T,{label:e.$t("proceed"),class:"q-mr-sm",onClick:t[26]||(t[26]=t=>e.revertChanges(!0))},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(N,{showRegexDlg:e.showRegexDlg,onSetShowRegexDlg:e.setShowRegexDlg,onUpdateRegexByRule:e.updateRegexByRule},null,8,["showRegexDlg","onSetShowRegexDlg","onUpdateRegexByRule"])],64)}var sa=l(96056),na=l(92162),ra=l(14907),da=l(42300),ua=l(64471),ca=l(30739),pa=l(13503),ha=l(82080),ma=l(14763),_a=l(12537),ba=l(89518),va=l(86633),ga=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};let fa,ya=new Map;const ka=(0,a.pM)({el:"#app",mixins:[va.A,Ne.A,Me.A,da.A,ua.A,Ve.A,sa.A,ha.A],props:{apiDataProp:{},extractedData:{type:String,default:""},currentPageNo:{type:Number,default:1},isRowMode:{type:Boolean,default:!1},training_mode:{type:Boolean,default:!1},isReadOnly:{type:Boolean,default:!1}},emits:["updateExtractionDataForSave","setTableRowCorrdinates","loadNewPageImage"],components:{BlockedColumns:pa.A,ManageRuleRegexes:ma.A,CreateCustomColumn:_a.A,ColumnOrigin:ba.A},data(){return{docId:"",dropdownColumns:[],rows_to_delete:[],po_dragging:!1,dragging_data:{},coveredLineItem:[],validation_done:!0,connected_line_item:"",confirmDialog:(0,Pe.KR)(!1),renderKey:0,is_po_view:!1,selectedColumn:(0,Pe.KR)(""),showRegexDlg:(0,Pe.KR)(!1),openAdvSettings:(0,Pe.KR)(!1),oldSelectedColumnName:(0,Pe.KR)(""),po_connected_line_items:{},is_auto_filled_color:"#c2dba6",is_missing_color:"#eed69e",tableId:"line_item_table"}},mounted:function(){document.addEventListener("revert_changes",(()=>{this.revertChanges().then()})),document.addEventListener("add_new_row",this.createRowJson),document.addEventListener("add_new_column",this.addNewCustomColumn),document.addEventListener("reset_line_items",this.resetlintItems),document.addEventListener("init_line_items",this.lineItemDataLoaded),document.addEventListener("reload_line_items",this.reloadLineItemData),document.addEventListener("get_table_rows_areas",this.getTableRowsAreas),document.addEventListener("display_adv_settings_view",this.openAdvanceSettings),document.addEventListener("open_disabled_custom_columns_view",this.openDisabledCstmColumnsView),document.addEventListener("enable_custom_column",this.enableCustomColumn),document.addEventListener("custom_column_create",this.customColumnCreated),document.addEventListener("display_fields_errors",this.displayFieldErrors),document.addEventListener("restore_delete_column",this.restoreDeleteColumn),this.isViewPo(),window.lineItemsV3=this},unmounted:function(){document.removeEventListener("revert_changes",(()=>{this.revertChanges().then()})),document.removeEventListener("add_new_row",this.createRowJson),document.removeEventListener("add_new_column",this.addNewCustomColumn),document.removeEventListener("reset_line_items",this.resetlintItems),document.removeEventListener("init_line_items",this.lineItemDataLoaded),document.removeEventListener("reload_line_items",this.reloadLineItemData),document.removeEventListener("get_table_rows_areas",this.getTableRowsAreas),document.removeEventListener("display_adv_settings_view",this.openAdvanceSettings),document.removeEventListener("open_disabled_custom_columns_view",this.openDisabledCstmColumnsView),document.removeEventListener("enable_custom_column",this.enableCustomColumn),document.removeEventListener("custom_column_create",this.customColumnCreated),document.removeEventListener("display_fields_errors",this.displayFieldErrors),document.removeEventListener("restore_delete_column",this.restoreDeleteColumn)},watch:{extractedData(e){fa.value=e,fa.parentElement.classList.remove("active"),fa=null},currentPageNo(e){this.highliteFirstRowOfCurrentPage()}},methods:{addExtractionMethodClass(e){let t="";return e&&e.hasOwnProperty("extraction_method")&&""!==e.extraction_method&&(t="extraction_method"),t},reloadLineItemData(e){if(!e||!e.detail)return;this.lineItemsloading=!1;let t=e.detail.apiData;this.resetRows(),this.docStore.record=t,this.docId=this.docStore.record&&this.docStore.record.doc_id?this.docStore.record.doc_id:"",this.refactorApiData();let l={rowId:e.detail.currentRowId,columnName:e.detail.currentColumnName,onlySelectedRow:!0};this.getTableRowsAreas({detail:l}),setTimeout((()=>{const t=new CustomEvent("enable_column_selection",{detail:e.detail.currentRowId});document.dispatchEvent(t)}),10)},lineItemDataLoaded(e){if(!e||!e.detail)return;this.lineItemsloading=!1;let t=e.detail;this.resetRows(),this.docStore.record=t,this.docId=this.docStore.record&&this.docStore.record.doc_id?this.docStore.record.doc_id:"",this.refactorApiData()},isViewEditable(){return!this.is_po_view&&(!!this.training_mode||(this.showErrorToast("Please select training mode"),!1))},getToken(){return ga(this,void 0,void 0,(function*(){let e=this.docStore.record.token&&null!=this.docStore.record.token&&""!=this.docStore.record.token?this.docStore.record.token:yield(0,Ie.L3)();return e}))},groupByColumn(e){return ga(this,void 0,void 0,(function*(){""!==e&&void 0!=e&&null!=e&&(this.group_column=e,yield this.requestReformate())}))},getColumnMappingIndexes(){let e={};for(const t in this.column_mapping_indexes){let l=this.column_mapping_indexes[t];e[t]=l}return e},resetFormating(){return ga(this,void 0,void 0,(function*(){this.group_column="",yield this.requestReformate()}))},validateLineItemColumns(){let e=!1;if(this.docStore.record["table_has_error"]=!1,void 0===this.tableColumns)return;let t=[];for(const a of this.tableColumns){let l=this.isColumnNameValid(a);l||(this.docStore.record["table_has_error"]=!0,a.error=!0,e=!0,t.push(a.name))}let l=!e;this.is_line_item_validated=l,this.missing_mapping_column=t,this.validation_done!==l&&(this.validation_done,this.validation_done=l)},isColumnNameValid(e){let t=!(!this.column_mapping_indexes||null==this.column_mapping_indexes||!(0,at.dd)(this.column_mapping_indexes)),l=!1;if("id"==e.name)return!0;for(const a of this.dropdownColumns)if(e.name===a.techName){l=!0;break}return l&&t&&!0===this.hasOriginalIndex(e.org_index,e)&&this.addInMapping(e.org_index,e.name),l},addInMapping(e,t){this.column_mapping_indexes[t]=Number(e)},updateLineItemsForApi(){this.isReadOnly||this.$emit("updateExtractionDataForSave","mapping",this.getColumnMappingIndexes())},isColumnGroupBy(e){let t="";return this.group_column&&(t=this.group_column),null===t&&(t=""),t==e},getColumnGroupBy(){let e="";return this.group_column&&(e=this.group_column),null===e&&(e=""),e},isColumnVisible(e,t){let l=!0;return e&&this.columns_to_hide&&0!=this.columns_to_hide.length?((this.columns_to_hide.includes(e)||"UUID"==t.name)&&(l=!1),l):l},isCustomColumnHidden(e){let t=!1;if(!this.custom_columns_to_hide||0==this.custom_columns_to_hide.length)return t;for(const l of this.custom_columns_to_hide)if(l===e){t=!0;break}return t},isRowDeleted(e){let t=this.getLineUuid(e);return!this.rows_to_delete.includes(t)},getLineUuid(e){let t="";for(let[l,a]of e.entries())if("UUID"==a.techName){t=a.value;break}return t},getLineItemRowsToHide(){if(this.rows_to_delete=[],this.docStore.record&&this.docStore.record.tables&&this.docStore.record.tables[0]&&this.docStore.record.tables[0].hasOwnProperty("extraction_info")){for(let[e,t]of Object.entries(this.docStore.record.tables[0].extraction_info))this.docStore.record.tables[0].extraction_info[e].hasOwnProperty("rows_to_delete")&&(this.rows_to_delete=this.docStore.record.tables[0].extraction_info[e].rows_to_delete);Array.isArray(this.rows_to_delete)&&this.rows_to_delete.length>0?this.rows_to_delete=this.rows_to_delete[0].split(" "):this.rows_to_delete=[]}},addToRowToDelete(e){for(let[t,l]of e.entries())if("UUID"==l.techName){this.rows_to_delete.push(l.value);break}},setRowToDeleteForApi(){if(!this.docStore.record.tables[0]||!this.docStore.record.tables[0].hasOwnProperty("extraction_info"))return;let e=[this.rows_to_delete.join(" ")];this.$emit("updateExtractionDataForSave","rows_to_delete",e)},inputKeyDown(e){if(this.training_mode)return e.preventDefault(),e.target.blur(),void this.showErrorToast(this.$t("manual_change"))},inputValueChanges(e,t){return ga(this,void 0,void 0,(function*(){const l=this.lineDataObj[t]["columns"][e].formatted_value;this.lineDataObj[t]["columns"][e].value=l;const a=this.docStore.record.amount_format_locale.split(".");"en_US"!=a[0]&&this.lineItemLayout.hasOwnProperty(e)&&"AMOUNT"===this.lineItemLayout[e].column_type&&(this.lineDataObj[t]["columns"][e].value=yield this.convertValueAccordingToLocale(l,a[0],"en_US"),this.lineDataObj[t]["columns"][e].content=l),this.updateJsonForLineItems(e,t)}))},updateJsonForLineItems(e,t){Array.from(this.docStore.record.tables[0].rows).forEach(((l,a)=>{t===l.id&&Array.from(l.columns).forEach(((t,o)=>{t.name!==e||(this.docStore.record.tables[0].rows[a].columns[o]=this.lineDataObj[l.id].columns[e])}))})),this.dispatchEventToSaveTableChanges()},setJsonForLineItems(){Array.from(this.docStore.record.tables[0].rows).forEach(((e,t)=>{const l=e.id,a=this.lineDataObj[l];this.docStore.record.tables[0].rows[t]=a})),this.dispatchEventToSaveTableChanges()},dispatchEventToSaveTableChanges(e=!1){this.docStore.confirmationForPoConnectionReset=!0;const t=new CustomEvent("update_table_data",{detail:{tables:this.docStore.record.tables,save_to_server:e}});document.dispatchEvent(t)},hasLineItems(){return!(!this.tableRows||0===Object.keys(this.tableRows).length||!this.is_manual_training_allowed)},openAdvanceSettings(){this.adv_column_options=[];for(const e of this.dropdownColumns)this.adv_column_options.push(Object.assign({},{value:e.techName,label:e.header}));this.setAdvSettings(),this.openAdvSettings=!0},setAdvSettings(){this.move_extra_rows_to="",this.header_rows_count=1,this.extra_columns=[],this.formatting_options&&(this.formatting_options.hasOwnProperty("merge_extra_lines_to")&&null!==this.formatting_options.merge_extra_lines_to&&(this.move_extra_rows_to=this.formatting_options.merge_extra_lines_to),this.formatting_options.hasOwnProperty("header_rows_count")&&null!==this.formatting_options.header_rows_count&&(this.header_rows_count=this.formatting_options.header_rows_count),this.formatting_options.hasOwnProperty("extra_cols")&&null!==this.formatting_options.extra_cols&&(this.extra_columns=this.formatting_options.extra_cols),this.formatting_options.hasOwnProperty("group_column")&&null!==this.formatting_options.group_column&&(this.group_column=this.formatting_options.group_column),this.formatting_options.hasOwnProperty("min_group_rows")&&null!==this.formatting_options.min_group_rows&&(this.min_group_rows=this.formatting_options.min_group_rows),this.formatting_options.hasOwnProperty("max_group_rows")&&null!==this.formatting_options.max_group_rows&&(this.max_group_rows=this.formatting_options.max_group_rows),this.formatting_options.hasOwnProperty("distinct_group_column")&&null!==this.formatting_options.distinct_group_column&&(this.distinct_group_column=this.formatting_options.distinct_group_column),this.formatting_options.hasOwnProperty("reverse_grouping")&&null!==this.formatting_options.reverse_grouping&&(this.reverse_grouping=this.formatting_options.reverse_grouping),this.formatting_options.hasOwnProperty("split_text")&&null!==this.formatting_options.split_text&&(this.split_text=this.formatting_options.split_text))},formatWthAdvSettings(){return ga(this,void 0,void 0,(function*(){yield this.requestReformate(),this.openAdvSettings=!1}))},advSettingNewFieldColumnSelected(e,t){this.new_field_model[t]?this.new_field_model[e]=this.new_field_model[t].value:this.new_field_model[e]=""},saveNewFieldForAdvSettings(){this.new_field_model["pattern_invalid"]=!1,this.new_field_model["key_invalid"]=!1,this.new_field_model["source_invalid"]=!1;let e=!0;if(this.new_field_model["pattern"]&&!(0,ca.IN)(this.new_field_model["pattern"])&&(this.new_field_model["pattern_invalid"]=!0,e=!1),this.new_field_model["key"]&&""!=this.new_field_model["key"]||(this.new_field_model["key_invalid"]=!0,e=!1),this.new_field_model["source"]&&""!=this.new_field_model["source"]||(this.new_field_model["source_invalid"]=!0,e=!1),!e)return;let t=this.new_field_model["label"];t||(t=this.new_field_model["key"].toUpperCase()),this.extra_columns||(this.extra_columns=[]),this.extra_columns.push({field_key:this.new_field_model["key"].toUpperCase(),source_field:this.new_field_model["source"].toUpperCase(),label:t,pattern:this.new_field_model["pattern"].toUpperCase()}),this.addFieldsDialog=!1},addFieldForAdvSettings(){this.addFieldsDialog=!0,this.new_field_model={}},removeFieldFromSettings(e){e=Number(e),e>-1&&this.extra_columns.splice(e,1)},revertChanges(e=!1){return ga(this,void 0,void 0,(function*(){!1!==e?(this.revert_changes_confirm_dialog=!1,this.resetFormatSettings(),yield this.requestReformate()):this.revert_changes_confirm_dialog=!0}))},isViewPo(){this.$route.fullPath.match(/po-matching/g)&&(this.is_po_view=!0)},refactorApiData(){this.resetFormatSettings(),this.setFormatOptions(),this.setAdvSettings(),this.prepareTableLayoutObj(),this.prepareTableColumn(),this.prepareTableRowsAndRowObj(),this.sortTableColumn(),this.validateLineItemColumns(),this.prepareDisabledCstmColumnsList(),this.initTableColumnResize(this.tableId)},setFormatOptions(){this.formatting_options={},this.docStore.record.tables&&this.docStore.record.tables.length>0&&this.docStore.record.tables[0].hasOwnProperty("formatting_options")&&(this.formatting_options=this.docStore.record.tables[0].formatting_options),this.docStore.record.hasOwnProperty("tables")&&!(0,at.z)(this.docStore.record.tables)&&(this.docStore.record.tables[0].formatting_options=this.formatting_options),this.formatting_options.hasOwnProperty("mapping")&&null!==this.formatting_options.mapping&&(this.column_mapping_indexes=Object.assign({},this.formatting_options.mapping)),this.formatting_options.hasOwnProperty("columns_to_hide")&&null!==this.formatting_options.columns_to_hide&&(this.columns_to_hide=Object.assign([],this.formatting_options.columns_to_hide)),this.formatting_options.hasOwnProperty("custom_columns_to_hide")&&null!==this.formatting_options.custom_columns_to_hide&&(this.custom_columns_to_hide=Object.assign([],this.formatting_options.custom_columns_to_hide)),this.formatting_options.hasOwnProperty("column_origins")&&!(0,at.z)(this.formatting_options.column_origins)&&(0,at.Gv)(this.formatting_options.column_origins)||(this.docStore.record.hasOwnProperty("tables")&&!(0,at.z)(this.docStore.record.tables)&&(this.docStore.record.tables[0].formatting_options.column_origins={}),this.formatting_options.column_origins={})},resetRows(){this.tableRows=[],this.lineDataObj=[],this.lineItemsErrors={}},resetFormatSettings(){this.move_extra_rows_to="",this.header_rows_count=1,this.extra_columns=[],this.group_column="",this.min_group_rows=1,this.max_group_rows=null,this.distinct_group_column=!1,this.reverse_grouping=!1,this.column_mapping_indexes={},this.columns_to_hide=[],this.custom_columns_to_hide=[],this.split_text=!1},setTableData(e){this.docStore.record.tables[0]=e},prepareTableRowsAndRowObj(){this.docStore.confirmationForPoConnectionReset=!0,this.tableRows=[],this.lineDataObj=[];let e={};if(this.lineItemsErrors={},this.tableRowsLocationsMap.clear(),!this.docStore.record.tables||0==this.docStore.record.tables.length||!this.docStore.record.tables[0].hasOwnProperty("rows")||0==this.docStore.record.tables[0].rows.length)return;this.docStore.record.tables[0].rows[0].id;Array.from(this.docStore.record.tables[0].rows).forEach((t=>{if(!1===t.is_deleted){let l={};e[t.id]=JSON.parse(JSON.stringify(t)),e[t.id].locations_list=[],t.locations_list&&Array.from(t.locations_list).forEach((l=>{e[t.id].locations_list["page_"+l.page]=l,this.tableRowsLocationsMap.has("page_"+l.page)||this.tableRowsLocationsMap.set("page_"+l.page,t.id)})),delete e[t.id].columns,e[t.id]["columns"]=[],Array.from(t.columns).forEach((a=>{e[t.id].columns[a.name]=JSON.parse(JSON.stringify(a)),e[t.id].columns[a.name].locations_list=[],a.locations_list&&Array.from(a.locations_list).forEach((l=>{e[t.id].columns[a.name].locations_list["page_"+l.page]=l})),t.id,(0,at.z)(a.formatted_value)&&(a.formatted_value=""),l[a.name]=a.formatted_value,this.prepareMapOfColumnHavingData(a)})),this.addExtraColumnsInRow(e,l,t.id),l["id"]=t.id,t.id,this.tableRows.push(l),this.setRowErrors(t)}})),Object.assign(this.lineDataObj,e),this.addExtraColumnsInExportJson()},prepareMapOfColumnHavingData(e){ya.has(e.name)?!1===ya.get(e.name)&&e.formatted_value&&null!=e.formatted_value&&""!=e.formatted_value&&ya.set(e.name,!0):e.formatted_value&&null!=e.formatted_value&&""!=e.formatted_value?ya.set(e.name,!0):ya.set(e.name,!1)},addExtraColumnsInRow(e,t,l){for(let a of this.layoutExtraColumns){let o={name:a,value:"",content:"",locations:[],locations_list:[],formatted_value:"",isExtraColumn:!0};e[l].columns[a]=o,ya.set(a,!1),t[a]=""}},addExtraColumnsInExportJson(){let e=[];for(let t of this.layoutExtraColumns){let l={name:t,value:"",content:"",locations:[],locations_list:[],formatted_value:"",isExtraColumn:!0};e.push(l)}Array.from(this.docStore.record.tables[0].rows).forEach(((t,l)=>{for(let a of e)this.docStore.record.tables[0].rows[l].columns.push(a)}))},setRowErrors(e){if(this.lineItemsErrors[e.id]={},!e.messages||!Array.isArray(e.messages))return;let t={};for(const l in e.messages){let a=e.messages[l];"COLUMN_NOT_MAPPED"!=a.message_code&&(a.message&&""!=a.message&&(t[a.message_code]=a.message))}this.lineItemsErrors[e.id]=t},rowHasErrors(e){return!(!this.lineItemsErrors.hasOwnProperty(e)||null===this.lineItemsErrors[e]||(0,at.dd)(this.lineItemsErrors[e]))},prepareTableLayoutObj(){this.dropdownColumns=[];let e={};this.lineItemLayout={},this.initStandardColumns(),this.docStore.record.tables&&this.docStore.record.tables.length>0&&this.docStore.record.tables[0].hasOwnProperty("layout")&&(Array.from(this.docStore.record.tables[0].layout).forEach((t=>{e.hasOwnProperty(t.column_name)||0!=t.is_hidden||this.isCustomColumnHidden(t.column_name)||(e[t.column_name]=!0,t["lbl_to_display"]=this.getLabelToDisplay(t),this.lineItemLayout[t.column_name]=t,this.addStandardColumns(t),this.dropdownColumns.push({header:t.lbl_to_display,techName:t.column_name}))})),this.sortMappingColumns())},sortMappingColumns(){this.dropdownColumns.length>0&&this.dropdownColumns.sort((function(e,t){return e.header<t.header?-1:e.header>t.header?1:0}))},initStandardColumns(){this.advance_settings_columns=[],this.advance_settings_columns.push(Object.assign({},{value:"",label:this.$t("select")})),this.advance_settings_columns.push(Object.assign({},{value:"__trash__",label:this.$t("trash")}))},addStandardColumns(e){this.advance_settings_columns.push(Object.assign({},{value:e.column_name,label:e.column_name}))},prepareTableColumn(){this.tableColumns=[];let e={};if(this.layoutExtraColumns=[],!(this.docStore.record.tables&&this.docStore.record.tables.length>0&&this.docStore.record.tables[0].hasOwnProperty("rows")&&this.docStore.record.tables[0].rows.length>0))return;let t={name:"id",field:"id",align:"left",label:"",is_mapped:!0,org_index:""};this.tableColumns.push(t);const l=this.docStore.record.tables[0].rows[0];if(!l)return;let a=JSON.parse(JSON.stringify(this.lineItemLayout));Array.from(l.columns).forEach((t=>{let o=this.isColumnHidden(l,t);if(o){let l=t.name;this.lineItemLayout.hasOwnProperty(t.name)&&(l=this.lineItemLayout[t.name].lbl_to_display,delete a[t.name]);let o="";null!=t.org_index&&void 0!=t.org_index&&(o=String(t.org_index));let i={name:t.name,field:t.name,align:"left",label:l,is_mapped:!!t.is_mapped&&t.is_mapped,org_index:o,col_origin:"auto"};i.col_origin=this.getColumnOrigin(this.docStore.record.tables[0],t.name),t.hasOwnProperty("org_index")&&null!=t.org_index?this.tableColumns.push(i):e[t.name]=i}}));for(let[o,i]of Object.entries(e))this.tableColumns.push(Object.assign({},i));for(let o in a){const e=a[o];let t=!this.isCustomColumnHidden(e.name);if(!t){delete a[e.name];continue}let l={name:e.column_name,field:e.column_name,align:"left",label:e.lbl_to_display,is_mapped:!!e.is_mapped&&e.is_mapped,org_index:"",is_extra_column:!0,col_origin:"auto"};l.col_origin=this.getColumnOrigin(this.docStore.record.tables[0],e.column_name),this.tableColumns.push(Object.assign({},l)),this.layoutExtraColumns.push(e.column_name)}},sortTableColumn(){let e=JSON.parse(JSON.stringify(this.tableColumns)),t=[];this.tableColumns=[],Array.from(e).forEach(((e,l)=>{1!=this.hasOriginalIndex(e.org_index,e)&&ya.has(e.name)&&!1===ya.get(e.name)?t.push(Object.assign({},e)):this.tableColumns.push(Object.assign({},e))})),t.sort(((e,t)=>{let l=e.field.toLowerCase(),a=t.field.toLowerCase();return l<a?-1:l>a?1:0})),Array.from(t).forEach(((e,t)=>{this.tableColumns.push(Object.assign({},e))}))},isColumnHidden(e,t){let l="";null!=t.org_index&&void 0!=t.org_index&&(l=String(t.org_index));let a=!0;return""!==l&&(a=this.isColumnVisible(l,t)),""===l&&(a=!this.isCustomColumnHidden(t.name)),a},deleteLineItemColumn(e){return ga(this,void 0,void 0,(function*(){this.columns_to_hide.push(e),null!=this.group_column&&this.group_column===e&&(this.group_column=""),yield this.requestReformate()}))},getColumnToHide(){return Array.isArray(this.columns_to_hide)?this.columns_to_hide.join():""},removeLineItem(e){Array.from(this.docStore.record.tables[0].rows).forEach((t=>{if(t.id===e)return t.is_deleted=!0,this.$forceUpdate(),void this.prepareTableRowsAndRowObj()})),this.dispatchEventToSaveTableChanges()},swapColumn(e,t,l,a){return ga(this,void 0,void 0,(function*(){if(!this.isViewEditable())return;if(this.selectedColumnHasData(e.techName))return void this.showErrorToast(this.$t("column_has_value"));let o=!1,i=!1,s=t;if(this.column_mapping_indexes)for(const t in this.column_mapping_indexes){let a=this.column_mapping_indexes[t];if(t==e.techName&&a!=s){o=!0;break}if(t==l&&a==s){i=!0;break}}o?this.showErrorToast(this.$t("pages.messages.COLUMN_ALREADY_MAPPED")):(i&&delete this.column_mapping_indexes[l],this.addInMapping(s,e.techName),yield this.requestReformate(),setTimeout((()=>{this.scrollInToViewCenter(document.getElementById(a))}),10))}))},selectedColumnHasData(e){let t=!1;for(const l in this.tableRows){const a=this.tableRows[l];if(a.hasOwnProperty(e)&&null!=a[e]&&void 0!=a[e]&&""!=a[e]){t=!0;break}}return t},getTableData(){return this.docStore.record.tables&&this.docStore.record.tables.length>0?this.docStore.record.tables[0]:{}},restoreDeleteColumn(){this.columns_to_hide=[],this.requestReformate()},requestReformate(){return ga(this,void 0,void 0,(function*(){this.lineItemsloading=!0,this.resetRows();try{let e,t=new FormData;t.append("doc_id",this.docId),t.append("group_column",this.getColumnGroupBy()),t.append("min_group_rows",this.min_group_rows.toString()),t.append("max_group_rows",this.max_group_rows?this.max_group_rows.toString():""),t.append("header_rows_count",this.header_rows_count.toString()),t.append("distinct_group_column",this.distinct_group_column.toString()),t.append("reverse_grouping",this.reverse_grouping.toString()),t.append("column_mapping_indexes",JSON.stringify(this.getColumnMappingIndexes())),t.append("move_extra_rows_to",this.move_extra_rows_to),t.append("extra_columns",JSON.stringify(this.extra_columns)),t.append("columns_to_hide",this.getColumnToHide()),t.append("data",JSON.stringify(this.getTableData())),t.append("column_origins",JSON.stringify(this.getColumnOrigins())),this.docStore.record.hasOwnProperty("is_table_training_doc")&&t.append("is_table_training_doc",(!0).toString()),t.append("org_id",(0,ut.I)());let l=yield this.getToken();if(e=yield De.A.post(Ie.FH.reformat_table_table_v3,t,{headers:{Authorization:l}}),!1===e.data.success)throw e.data.message;this.setTableData(e.data),this.dispatchEventToSaveTableChanges(),this.refactorApiData(),this.lineItemsloading=!1}catch(e){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e),void(this.lineItemsloading=!1)}this.renderKey++}))},getColumnOrigins(){return this.docStore.record.tables[0].formatting_options.column_origins},addNewCustomColumn(e){this.addColumnDialog=!0},editColumnData(e,t,l){if(!this.lineDataObj[l].hasOwnProperty("custom_row"))if(!0===this.isRowMode){let a,o=10;this.clearOldSelection(),e.target.closest("label")&&e.target.closest("label").classList.add("active-border-2px"),a=this.lineDataObj[l].columns[t];let i=!0;if(a&&a.locations_list){let e=a.locations_list;if(e.hasOwnProperty("page_"+this.currentPageNo))i=!1;else if(0!=Object.entries(e).length){o=200;for(const t in e){i=!1;let l=+e[t].page-1;this.$emit("loadNewPageImage",l);break}}else this.loadAppropriatePage(l)}setTimeout((()=>{if(!1===i){let i={rowId:l,columnName:t};this.getTableRowsAreas({detail:i}),setTimeout((()=>{let l=(0,na.$)("#draw_"+t);if(l){l.querySelector(".select-areas--outline").style.opacity="0";let o=l.querySelector(".select-areas--background_area");o.style.border="2px",o.style.borderStyle="solid",o.style.borderColor="#8800ff",this.oldSelectedColumnName=t,this.scrollInToViewCenter(o),this.removeExistingConfirmationOverlays(),a&&""!==this.addExtractionMethodClass(a)&&setTimeout((()=>{let t=e.target.closest("td").dataset.columnValue,l=e.target.closest("td").dataset.scoreDescription,a={value:t,score:l,selection:o};const i=new CustomEvent("prepare_overlay",{detail:a});document.dispatchEvent(i)}),20)}}),o)}else{this.showNotification(this.$t("pages.messages.SELECT_AREA"));let e={rowId:l,columnName:t,onlySelectedRow:!0};this.getTableRowsAreas({detail:e}),setTimeout((()=>{const e=new CustomEvent("enable_column_selection",{detail:l});document.dispatchEvent(e)}),10)}}),10)}else this.loadAppropriatePage(l),setTimeout((()=>{let e={rowId:l,columnName:t,onlySelectedRow:!0};this.drawSelectedRow({detail:e}),setTimeout((()=>{let e=(0,na.$)("#draw_"+l);if(e){this.oldSelectedColumnName=t;let l=e.querySelector(".select-areas--background_area");this.scrollInToViewCenter(l)}}),40)}),100)},clearOldSelection(){if(""!=this.oldSelectedColumnName){let e=(0,na.$)("#draw_"+this.oldSelectedColumnName);if(e){let t=e.querySelector(".select-areas--background_area"),l=t.style.background.split("100%)");t.style.background=ot.I7+l[1]}}let e=document.querySelector("#"+this.tableId).querySelectorAll("label.active-border-2px");Array.from(e).forEach((e=>{e.classList.remove("active-border-2px")}));let t=document.querySelector("#screenshot_container"),l=t.querySelectorAll("div.select-areas--outline");Array.from(l).forEach((e=>{e.style.opacity="0.2",e.nextSibling&&(e.nextSibling.style.border="unset")}))},loadAppropriatePage(e){let t=this.lineDataObj[e],l="";for(const a in t.locations_list){if(t.locations_list[a].page===this.currentPageNo){l=a;break}l=a}if(""!=l){let e=+t.locations_list[l].page-1;this.$emit("loadNewPageImage",e)}},drawSelectedRow(e){let t="",l=null;void 0!=e.detail&&e.detail.columnName&&(t=e.detail.rowId,l=e.detail.columnName);let a=[];if(this.lineDataObj[t]){this.lineDataObj[t].locations_list&&this.lineDataObj[t].locations_list["page_"+this.currentPageNo]&&a.push({id:t,type:"row",row_id:"",background:ot.je,opacity:"1",coord:this.lineDataObj[t].locations_list["page_"+this.currentPageNo].coords[0]});let o=this.lineDataObj[t].columns[l];o&&o.locations_list&&o.locations_list["page_"+this.currentPageNo]&&a.push({id:l,row_id:e.detail.rowId,type:"column",background:ot.je,opacity:"1",coord:o.locations_list["page_"+this.currentPageNo].coords[0]})}let o={columns:[],table_areas:[]};o.table_areas=a,lt.A.set("table_rows_data",JSON.stringify(o));const i=new CustomEvent("prepare_customized_areas");document.dispatchEvent(i)},getTableRowsAreas(e){let t="all_rows",l=null;void 0!=e.detail&&e.detail.columnName&&(t=e.detail.rowId,l=e.detail.columnName);let a=[];for(const o in this.lineDataObj)this.lineDataObj[o]&&this.lineDataObj[o].locations_list["page_"+this.currentPageNo]&&a.push({id:o,type:"row",row_id:"",background:void 0!=e.detail&&e.detail.rowId===o?"":"linear-gradient( rgba(211, 211, 211, 0.5) 100%, rgba(0, 0, 0, 0.5)100%),",opacity:(void 0!=e.detail&&e.detail.rowId,"1"),coord:this.lineDataObj[o].locations_list["page_"+this.currentPageNo].coords[0]});if(e.detail&&!e.detail.onlySelectedRow&&this.lineDataObj.hasOwnProperty(e.detail.rowId)){let t=this.lineDataObj[e.detail.rowId].columns;for(const l in t)t[l].locations_list&&t[l].locations_list.hasOwnProperty("page_"+this.currentPageNo)&&a.push({id:l,row_id:e.detail.rowId,type:"column",background:this.columnDefaultBackground(),opacity:1,coord:t[l].locations_list["page_"+this.currentPageNo].coords[0]})}this.$emit("setTableRowCorrdinates",JSON.stringify(a),l,t)},columnDefaultBackground(){return ot.je},hasOriginalIndex(e,t){let l=!1;return""!==e&&(l=!0),l},getScoreDescription(e){let t="";return e&&e.hasOwnProperty("score_description")&&""!==e.score_description&&null!=e.score_description&&(t=e.score_description),String(t)},TriggerSplitText(){this.split_text_confirm_dialog=!1,this.openAdvSettings=!1;const e=new CustomEvent("perform_split_text",{detail:this.split_text});document.dispatchEvent(e)},disableCustomColumn(e){this.formatting_options.hasOwnProperty("custom_columns_to_hide")&&null!==this.formatting_options.custom_columns_to_hide||(this.formatting_options.custom_columns_to_hide=Object.assign([])),this.formatting_options.custom_columns_to_hide.push(e),this.refactorApiData(),this.$forceUpdate(),this.dispatchEventToSaveTableChanges(!0)},getLabelToDisplay(e){let t=e.title;return(0,at.z)(e.translation_key)||this.$t("pages.line_items_columns."+e.translation_key.toUpperCase())==="pages.line_items_columns."+e.translation_key.toUpperCase()||(t=this.$t("pages.line_items_columns."+e.translation_key.toUpperCase())),t},prepareDisabledCstmColumnsList(){this.disableColumnList=[],this.docStore.record.tables&&this.docStore.record.tables.length>0&&this.docStore.record.tables[0].hasOwnProperty("layout")&&Array.from(this.docStore.record.tables[0].layout).forEach((e=>{if(!0===this.isCustomColumnHidden(e.column_name)){let t={};t["name"]=e.column_name,t["label"]=this.getLabelToDisplay(e),this.disableColumnList.push(t)}}))},openDisabledCstmColumnsView(){this.docStore.record.tables&&this.docStore.record.tables.length>0&&this.docStore.record.tables[0].hasOwnProperty("layout")&&(this.openDisableColumnListView=!0)},enableCustomColumn(e){if(e&&e.detail){var t=this.formatting_options.custom_columns_to_hide.indexOf(e.detail);-1!==t&&this.formatting_options.custom_columns_to_hide.splice(t,1),this.refactorApiData(),this.dispatchEventToSaveTableChanges(!0)}},customColumnCreated(e){e&&e.detail&&e.detail.tables&&(this.addColumnDialog=!1,this.setTableData(e.detail.tables),this.dispatchEventToSaveTableChanges(),this.refactorApiData())},createRowJson(){let e=JSON.parse(JSON.stringify(this.docStore.record.tables[0].rows[0]));e.id=Date.now(),e.ids=[],e.content="",e.locations=[],e.locations_list=[],e.is_deleted=!1,e.messages=[],e.custom_row=!0,Array.from(e.columns).forEach(((e,t)=>{e.content="",e.locations=[],e.locations_list=[],e.value="",e.formatted_value=""})),this.docStore.record.tables[0].rows.push(e),this.$forceUpdate(),this.prepareTableRowsAndRowObj()},prepareRegexData(e){this.docStore.regex.clear(),this.selectedColumn=e,Array.from(this.docStore.record.tables[0].rows).forEach(((t,l)=>{Array.from(t.columns).forEach(((t,l)=>{t.name===e&&t.hasOwnProperty("rule")&&t.hasOwnProperty("valuePattern")&&this.docStore.regex.set(t.rule,t.valuePattern)}))})),this.showRegexDlg=!0},updateRegexByRule(){this.showRegexDlg=!1,Array.from(this.docStore.record.tables[0].rows).forEach(((e,t)=>{Array.from(e.columns).forEach(((e,l)=>{e.name===this.selectedColumn&&e.hasOwnProperty("rule")&&e.hasOwnProperty("valuePattern")&&(this.docStore.record.tables[0].rows[t].columns[l].valuePattern=this.docStore.regex.get(e.rule))}))})),this.refactorApiData()},setShowRegexDlg(e){this.showRegexDlg=e},highliteFirstRowOfCurrentPage(){if(this.tableRowsLocationsMap.has("page_"+this.currentPageNo)){const e=this.tableRowsLocationsMap.get("page_"+this.currentPageNo),t=(0,na.$)("#tbl_row_"+e);t&&(this.scrollInToViewStart(t),setTimeout((()=>{t.classList.add("light-grey-with-effect"),setTimeout((()=>{t.classList.remove("light-grey-with-effect")}),1400)}),500))}},getBackgroundColor(e){let t="";return e.hasOwnProperty("is_auto_filled")&&1==e.is_auto_filled?t=this.is_auto_filled_color:e.hasOwnProperty("is_missing")&&1==e.is_missing&&(t=this.is_missing_color),t},displayFieldErrors(){this.refactorApiData()},updateColumnOrigin(e){if(!e||!e.hasOwnProperty("column_name")||!e.hasOwnProperty("origin"))return;if(""==e.column_name)return;if(""==e.language_origin)return;let t=!1;Array.from(this.docStore.record.tables[0].rows).forEach(((l,a)=>{Array.from(l.columns).forEach(((l,a)=>{l.name===e.column_name&&(l.col_origin=e.origin,t=!0)}))})),this.docStore.record.tables[0].formatting_options.column_origins[e.column_name]=e.origin,t&&this.requestReformate()}},computed:{filteredColumns(){if(""===this.searchColumn)return this.dropdownColumns;let e=[];const t=this.searchColumn.toLowerCase();return e=this.dropdownColumns.filter((e=>e.header.toLowerCase().indexOf(t)>-1)),e}},setup(){const e=(0,ra.A)(),t=(0,dt.q3)(),{is_manual_training_allowed:l}=(0,Te.bP)(t),a=(0,dt.ky)(),{validation_done:o,missing_mapping_column:i}=(0,Te.bP)(a);let s=[],n={};const r=(0,Pe.KR)("");return{searchColumn:(0,Pe.KR)(""),is_manual_training_allowed:l,is_line_item_validated:o,missing_mapping_column:i,filter:r,docStore:t,headers:(0,Pe.KR)(),lineitems:(0,Pe.KR)(),move_extra_rows_to:(0,Pe.KR)(""),header_rows_count:(0,Pe.KR)(1),min_group_rows:(0,Pe.KR)(1),max_group_rows:(0,Pe.KR)(),distinct_group_column:(0,Pe.KR)(!1),reverse_grouping:(0,Pe.KR)(!1),group_column:(0,Pe.KR)(""),column_mapping_indexes:(0,Pe.KR)(n),columns_to_hide:(0,Pe.KR)(s),custom_columns_to_hide:(0,Pe.KR)(s),addFieldsDialog:(0,Pe.KR)(!1),extra_columns:(0,Pe.KR)(s),poEditRestrictDialog:(0,Pe.KR)(!1),poEditRestrictMessage:(0,Pe.KR)(""),new_field_model:(0,Pe.KR)(n),new_column_model:(0,Pe.KR)(n),revert_changes_confirm_dialog:(0,Pe.KR)(!1),adv_column_options:s,advance_settings_columns:(0,Pe.KR)([]),headerRowCountRules:[e=>null!==e||"Please type number",e=>e>0&&e<100||"Please type number"],showNotification(t){e.notify({message:t,color:"primary",position:"bottom"})},lineDataObj:(0,Pe.KR)(s),lineItemsErrors:(0,Pe.KR)(n),lineItemLayout:(0,Pe.KR)(s),tableColumns:(0,Pe.KR)(s),tableRows:(0,Pe.KR)(s),formatting_options:(0,Pe.KR)(n),addColumnDialog:(0,Pe.KR)(!1),headerKey:(0,Pe.KR)(""),headerLable:(0,Pe.KR)(""),lineItemsloading:(0,Pe.KR)(!0),openDisableColumnListView:(0,Pe.KR)(!1),disableColumnList:(0,Pe.KR)(s),split_text:(0,Pe.KR)(!1),split_text_confirm_dialog:(0,Pe.KR)(!1),tableRowsLocationsMap:(0,Pe.KR)(new Map),layoutExtraColumns:(0,Pe.KR)([])}}});var wa=l(42315),Ca=l(44488),xa=l(57722),La=l(50492),Fa=l(10386),Ea=l(67837),Aa=l(45262),Sa=l(857),Da=l(58210),Ia=l(94940),Ta=l(88841),Oa=l(80460),Ma=l(67156),Ra=l(84436);const Pa=(0,ht.A)(ka,[["render",ia],["__scopeId","data-v-5592b085"]]),qa=Pa;kt()(ka,"components",{QTable:wa.A,QTr:Ca.A,QTh:xa.A,QBtnDropdown:St.A,QList:Dt.A,QItem:It.A,QItemSection:Tt.A,QItemLabel:Ot.A,QIcon:La.A,QSeparator:Fa.A,QInput:Ea.A,QTooltip:At.A,QTd:Aa.A,QBtn:Et.A,QMarkupTable:Sa.A,QSpinner:Da.A,QDialog:mt.A,QCard:_t.A,QToolbar:Mt.A,QToolbarTitle:Rt.A,QCardSection:bt.A,QSelect:Ia.A,QExpansionItem:Ta.A,QCheckbox:Oa.A,QCardActions:gt.A,QAvatar:vt.A,QField:Ma.A,QMenu:Ra.A}),kt()(ka,"directives",{ClosePopup:ft.A});var Va=l(77362),Na=l(12566),Ba=l(96075),$a=l(86124);const Qa=e=>((0,a.Qi)("data-v-56a06494"),e=e(),(0,a.jt)(),e),Xa={class:"image-decorator",ref:"image-area",id:"image_area"},Wa={id:"screenshot_container"},Ka=["src","width"],Ua=["onMousedown","onMousemove","id"],ja=["onClick"],za=["onClick"],Ha=Qa((()=>(0,a.Lk)("div",{class:"select-areas--delete_area"},null,-1))),Ga=[Ha],Ya=["id"],Ja=["area-tag","area-type"],Za=["area-tag","area-type","onClick"],eo={class:"c-crop--hide_main"},to=["src","width"],lo={class:"text-h6"};function ao(e,t,l,s,n,r){const d=(0,a.g2)("Resizable"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-btn"),p=(0,a.g2)("q-card-actions"),h=(0,a.g2)("q-card"),m=(0,a.g2)("q-dialog"),_=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)("div",Xa,[(0,a.Lk)("div",Wa,[e.url?((0,a.uX)(),(0,a.CE)("img",{key:0,onLoad:t[0]||(t[0]=(...t)=>e.prepareImageData&&e.prepareImageData(...t)),id:"screenshot",class:"original-image",src:e.url,alt:"Original Image",width:e.width},null,40,Ka)):(0,a.Q3)("",!0),(0,a.Lk)("div",{class:"select-areas--overlay",style:(0,o.Tr)({opacity:e.opacityOverlay,position:"absolute",width:e.originImgSize.w+"px",height:e.originImgSize.h+"px",display:"block"})},null,4),!1===e.isRowMode?((0,a.uX)(),(0,a.CE)("div",{key:1,class:"pointer-events-none",id:"draw",style:(0,o.Tr)({"background-color":"rgb(0, 0, 0)",opacity:0,position:"absolute",width:e.originImgSize.w+"px",height:e.originImgSize.h+"px"}),onMousedown:t[1]||(t[1]=(...t)=>e.mouseDown&&e.mouseDown(...t)),onMousemove:t[2]||(t[2]=(...t)=>e.mouseMove&&e.mouseMove(...t))},null,36)):((0,a.uX)(),(0,a.CE)("div",{key:2,class:"pointer-events-none",id:"draw",style:(0,o.Tr)({"background-color":"rgb(0, 0, 0)",opacity:0,position:"absolute",width:e.originImgSize.w+"px",height:e.originImgSize.h+"px"})},null,4)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.areas,(t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id},[!1===e.isRowMode?((0,a.uX)(),(0,a.CE)("div",{key:0,onMousedown:(0,i.D$)((l=>e.startMove(t,l)),["stop","prevent"]),onMousemove:l=>e.doMove(t,l),id:"draw_"+t.areaTag},[(0,a.Lk)("div",{class:"select-areas--outline",style:(0,o.Tr)({opacity:"column"===t.areaType?"1":e.opacityOutline,position:"absolute",cursor:"default",width:t.width+4+"px",height:t.height+4+"px",left:e.areaDisplayPosX(t)-2+"px",top:e.areaDisplayPosY(t)-2+"px","z-index":"column"===t.areaType?"2":t.z})},null,4),(0,a.Lk)("div",{class:"select-areas--background_area",style:(0,o.Tr)({background:t.background+`#fff url('${e.url}') -${t.x}px -${t.y}px / ${e.originImgSize.w}px ${e.originImgSize.h}px no-repeat`,position:"absolute",cursor:!0===e.enableEditing?"move":"pointer",width:t.width+"px",height:t.height+"px",left:e.areaDisplayPosX(t)+"px",top:e.areaDisplayPosY(t)+"px","z-index":t.z+2}),onClick:l=>e.changeResizable(t.id)},null,12,ja),t.resizable&&!0===e.enableEditing?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"delete-area",style:(0,o.Tr)({display:"block",left:e.areaDisplayPosX(t)+t.width+"px",top:e.areaDisplayPosY(t)-25+"px","z-index":t.z+2}),onClick:l=>e.deleteSelected(t.id)},Ga,12,za)):(0,a.Q3)("",!0),!0===e.enableEditing?((0,a.uX)(),(0,a.Wv)(d,{key:1,item:t,posImg:e.posImg,"pos-correction":e.posCorrection,onStartDrag:e.startDrag,onDoDrag:e.doDrag},null,8,["item","posImg","pos-correction","onStartDrag","onDoDrag"])):(0,a.Q3)("",!0)],40,Ua)):((0,a.uX)(),(0,a.CE)("div",{key:1,id:"draw_"+t.areaTag},[(0,a.Lk)("div",{class:(0,o.C4)(["select-areas--outline","column"==t.areaType?"column_outline":"row_outline"]),"area-tag":t.areaTag+"_border","area-type":t.areaType+"_border",style:(0,o.Tr)({opacity:.2,position:"absolute",cursor:"default",width:t.width+("column"==t.areaType?2:4)+"px",height:t.height+4+"px",left:e.areaDisplayPosX(t)-2+"px",top:e.areaDisplayPosY(t)-2+"px","z-index":"unset"})},null,14,Ja),(0,a.Lk)("div",{class:(0,o.C4)(["select-areas--background_area","column"==t.areaType?"column_background_area":"row_background_area"]),"area-tag":t.areaTag+"_area","area-type":t.areaType+"_area",onClick:l=>e.decideAction(t),style:(0,o.Tr)({background:t.background+`#fff url('${e.url}') -${t.x}px -${t.y}px / ${e.originImgSize.w}px ${e.originImgSize.h}px no-repeat`,position:"absolute",cursor:"pointer",width:t.width-("column"==t.areaType?3:0)+"px",height:t.height+"px",left:e.areaDisplayPosX(t)+"px",top:e.areaDisplayPosY(t)+"px","z-index":"unset",opacity:t.opacity})},null,14,Za)],8,Ya))])))),128))]),(0,a.Lk)("div",eo,[(0,a.Lk)("img",{id:"c-crop--hide_img",src:e.url,alt:"",width:e.width},null,8,to)]),(0,a.bF)(m,{modelValue:e.correctionDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.correctionDialog=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"bg-teal text-white",style:{width:"300px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",lo,(0,o.v_)(e.$t("confirmation")),1)])),_:1}),(0,a.bF)(u,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("is_draw_correct")),1)])),_:1}),(0,a.bF)(p,{align:"right",class:"bg-white text-teal"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(c,{flat:"",label:e.$t("pages.screen2a.cancel"),onClick:t[3]||(t[3]=t=>e.cancelAreaSelection())},null,8,["label"]),[[_]]),(0,a.bo)((0,a.bF)(c,{flat:"","data-cy":"no",label:e.$t("pages.screen2a.no"),onClick:t[4]||(t[4]=t=>e.reSelectArea())},null,8,["label"]),[[_]]),(0,a.bo)((0,a.bF)(c,{flat:"","data-cy":"yes",label:e.$t("pages.screen2a.yes"),onClick:t[5]||(t[5]=t=>e.saveSelectionResult())},null,8,["label"]),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],512)}var oo=l(57034),io=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};let so,no,ro,uo={columns:[],table_areas:[]};const co=(0,a.pM)({mixins:[da.A,Ve.A],data(){return{mousedown:(0,Pe.KR)(!1),originImgSize:{w:0,h:0,r:0},url:this.cropUrl,posImg:{top:0,left:0},areas:[{id:1,x:10,y:10,startX:10,startY:10,width:10,height:10,z:0,resizable:!1,opacity:"1",background:ot.je,areaTag:"table",areaType:"table",rowId:""}],currentSelectedItem:(0,Pe.KR)(),latestAreaItem:{startX:0,startY:0,endX:0,endY:0},scrollLeft:0,scrollTop:0,moveTempX:0,moveTempY:0,moveCurrentX:0,moveCurrentY:0,temp:0,dragdown:!1,move:!1,imageHeight:0,imageWidth:0,correctionDialog:!1,numberOfAreas:0,oldArea:"",disableImageRowsClick:!1,delay:170,clicks:0,timer:(0,Pe.KR)(),delay2:(0,Pe.KR)(170),timer2:(0,Pe.KR)()}},props:{cropUrl:{type:String,default:"https://dev.doc2api.cloudintegration.eu/resource/image/1b90b6d5-63b5-446b-92a4-a60d57dc0edd/1.png"},width:{type:Number,default:1500},opacityOutline:{type:Number,default:.2},opacityOverlay:{type:Number,default:.2},posCorrection:{type:Boolean,default:!0},tableAreas:{type:String,default:""},isRowMode:{type:Boolean,default:!1},enableEditing:{type:Boolean,default:!1}},components:{Resizable:oo.A},emits:["saveColumnCoords","toggleExtractedColumnMode"],watch:{cropUrl(e){this.url=e,setTimeout((()=>{this.setSize()}),200)},tableAreas(e){this.prepareDataForAreas()},width(e){return io(this,void 0,void 0,(function*(){yield this.setSize(),this.prepareImageData()}))}},methods:{areaDisplayPosX(e){return e.x+(this.posCorrection?this.posImg.left:0)},areaDisplayPosY(e){return e.y+(this.posCorrection?this.posImg.top:0)},mousePosX(e){return e.pageX-this.posImg.left},mousePosY(e){return e.pageY-this.posImg.top},setSize(){return io(this,void 0,void 0,(function*(){if(!this.url)return;let e=yield this.getSize(this.url);this.originImgSize=e}))},getSize(e){let t=this.$el.querySelector("#c-crop--hide_img");return new Promise((l=>{e&&t?(t.onload=function(){const e=so.getSizeImg(t);l(e)},t.src=e):l({w:0,h:0,r:0})}))},getSizeImg(e){let t=e.width,l=e.height,a=0===t&&0===l?0:t/l;return{w:t,h:l,r:a}},calcPosOfBox(){let e=this.$refs["image-area"];this.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,this.scrollTop=window.pageYOffset||document.documentElement.scrollTop;let t=e.getBoundingClientRect().top,l=e.getBoundingClientRect().left;this.posImg.top=t+this.scrollTop,this.posImg.left=l+this.scrollLeft},manageEventsForColumns(e){this.clicks++,1===this.clicks?this.timer=setTimeout((()=>{this.clicks=0,this.mouseDown(e);let t=(0,na.$)("#draw_"+this.oldArea).querySelector(".select-areas--background_area");t.style.cursor="crosshair",t.addEventListener("mousemove",this.mouseMove)}),this.delay):(this.clicks=0,clearTimeout(this.timer),this.dblClickToSelect(e))},mouseDown(e){this.mousedown=!0;let t=null;if(t=this.areas.length>0?this.areas.slice(-1).pop().id+1:1,this.numberOfAreas=t,0!=this.latestAreaItem.startX&&0!=this.latestAreaItem.startY&&!1===this.isRowMode){let l=this.latestAreaItem.startX,a=this.latestAreaItem.startY,o=e.layerX,i=e.layerY,s=o-l,n=i-a;(s<0||n<0)&&(o=l,i=a,l=e.layerX,a=e.layerY,s=o-l,n=i-a);let r={id:t,x:l,y:a,startX:l,startY:a,width:s,height:n,z:0,resizable:!1,opacity:"1",background:this.isRowMode?ot.je:"",areaTag:this.isRowMode?"column":"table",areaType:this.isRowMode?"column":"table",rowId:""};return this.temp=r.id,this.areas.push(r),void(this.latestAreaItem={startX:0,startY:0,endX:0,endY:0})}if(t){let l={id:t,x:this.mousePosX(e),y:this.mousePosY(e),startX:this.mousePosX(e),startY:this.mousePosY(e),width:0,height:0,z:0,resizable:!1,opacity:"1",background:this.isRowMode?ot.je:"",areaTag:this.isRowMode?"column":"table",areaType:this.isRowMode?"column":"table",rowId:""};this.areas.push(l),this.temp=l.id,this.latestAreaItem.startX=this.mousePosX(e),this.latestAreaItem.startY=this.mousePosY(e),this.latestAreaItem.endX=0,this.latestAreaItem.endY=0}},mouseMove(e){this.mousedown&&(this.areas.filter((e=>e.id===this.temp)).map((t=>{let l=e.pageX-this.posImg.left,a=e.pageY-this.posImg.top,o=t.startX-l,i=t.startY-a;o<0&&(o*=-1,l-=o),i<0&&(i*=-1,a-=i),t.x=l,t.y=a,t.width=o,t.height=i})),this.latestAreaItem={startX:0,startY:0,endX:0,endY:0})},mouseUp(){!0===this.isRowMode&&!1===this.disableImageRowsClick||(this.timer2=setTimeout((()=>{this.mousedown=!1,this.areas=this.areas.filter((e=>e.width>=3&&e.height>=3)),this.endMove(),this.endDrag(),this.prepareTableArea(),!0===this.isRowMode&&!0===this.findAreaById(this.numberOfAreas)&&(this.correctionDialog=!0)}),this.delay2))},changeResizable(e){this.areas.filter((t=>t.id===e)).map((e=>{e.resizable=!0,e.z=100})),this.areas.filter((t=>t.id!==e)).map((e=>{e.resizable=!1,e.z=0}))},deleteSelected(e){this.areas=this.areas.filter((t=>t.id!==e)),this.prepareTableArea()},findAreaById(e){let t=!1;for(let l of this.areas)if(l.id===e){t=!0;break}return t},deleteSelectedColumn(e){logInfo("deleteSelectedColumn",e);const t=new CustomEvent("delete_select_area_column",{});document.dispatchEvent(t)},validateColumn(e){const t=new CustomEvent("validate_selected_column",{});document.dispatchEvent(t)},startDrag(){this.dragdown=!0},doDrag(e,t,l){if(this.dragdown)switch(t){case"w":l.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-l.pageX+this.posImg.left,e.x=l.pageX-this.posImg.left),e.width<10&&(e.x=e.x-10,e.width=e.width+10);break;case"sw":l.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-l.pageX+this.posImg.left,e.x=l.pageX-this.posImg.left),l.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=l.pageY-this.posImg.top-e.y),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"s":l.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=l.pageY-this.posImg.top-e.y),e.height<10&&(e.height=e.height+10);break;case"se":l.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=l.pageX-this.posImg.left-e.x),l.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=l.pageY-this.posImg.top-e.y),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"e":l.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=l.pageX-this.posImg.left-e.x),e.width<10&&(e.x=e.x-10,e.width=e.width+10);break;case"ne":l.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=l.pageX-this.posImg.left-e.x),l.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-l.pageY),e.y=l.pageY-this.posImg.top),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"n":l.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-l.pageY),e.y=l.pageY-this.posImg.top),e.height<10&&(e.height=e.height+10);break;case"nw":l.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-l.pageY),e.y=l.pageY-this.posImg.top),l.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-l.pageX+this.posImg.left,e.x=l.pageX-this.posImg.left),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;default:break}},endDrag(){this.dragdown=!1},startMove(e,t){!0===this.enableEditing?(this.move=!0,this.moveTempX=t.clientX,this.moveTempY=t.clientY,this.moveCurrentX=e.x,this.moveCurrentY=e.y):this.move=!0},doMove(e,t){if(!1!==this.enableEditing&&this.move){let l=this.moveCurrentX+(t.clientX-this.moveTempX),a=this.moveCurrentY+(t.clientY-this.moveTempY),o=this.originImgSize.w-e.width,i=this.originImgSize.h-e.height;l>0&&a>0&&l<o&&a<i&&(e.x=l,e.y=a)}},endMove(){this.move=!1},creatReactangle(e,t,l,a,o,i,s,n,r){let d=null;if(d=this.areas.length>0?this.areas.slice(-1).pop().id+1:1,d){let u={id:d,x:e,y:t,startX:e,startY:t,width:l,height:a,z:0,resizable:!1,opacity:i,background:s,areaTag:o,areaType:r,rowId:n};this.areas.push(u),this.temp=u.id}},prepareImageData(){ro=(0,na.$)("#screenshot"),ro&&(this.imageWidth=ro.offsetWidth,this.imageHeight=ro.offsetHeight,this.prepareDataForAreas())},prepareDataForAreas(){this.removeExistingConfirmationOverlays(),this.areas=[],this.isRowMode?(this.delay2=170,this.disableImageRowsClick=!1,this.disableSelectionForRow(this.oldArea),this.prepareRowAreas()):(this.delay2=1,this.prepareTableAreas())},prepareCustomizedAreas(){this.areas=[],this.prepareTableAreas(),this.prepareRowAreas()},prepareRowAreas(){if(lt.A.has("table_rows_data")&&null!=lt.A.getItem("table_rows_data")&&""!=lt.A.getItem("table_rows_data")){let e=lt.A.getItem("table_rows_data");uo=JSON.parse(e)}else uo={columns:[],table_areas:[]};let e=[];uo&&uo.table_areas.length>0&&Array.from(uo.table_areas).forEach((t=>{e=t.coord.split(",");let l=Math.round(this.imageWidth*e[0]),a=Math.round(this.imageHeight*e[1]),o=Math.round(this.imageWidth*e[2]),i=Math.round(this.imageHeight*e[3]),s=o-l,n=i-a,r=t.id,d=t.opacity,u=t.background,c=t.type,p=t.row_id;this.creatReactangle(l,a,s,n,r,d,u,p,c)}))},prepareTableAreas(){if(lt.A.has("table_data")&&null!=lt.A.getItem("table_data")&&""!=lt.A.getItem("table_data")){let e=lt.A.getItem("table_data");uo=JSON.parse(e)}else uo={columns:[],table_areas:[]};let e=[];uo&&uo.table_areas.length>0&&Array.from(uo.table_areas).forEach((t=>{e=t.split(",");let l=this.getCoordinate(e[0]),a=this.getCoordinate(e[1]),o=this.getCoordinate(e[2]),i=this.getCoordinate(e[3]);l=Math.round(this.imageWidth*l),a=Math.round(this.imageHeight*a),o=Math.round(this.imageWidth*o),i=Math.round(this.imageHeight*i);let s=o-l,n=i-a;s<0&&(s*=-1,l-=s),n<0&&(n*=-1,a-=n);let r="table_"+Math.floor(1e5*Math.random());this.creatReactangle(l,a,s,n,r,"1","","","table")}))},getCoordinate(e){return e<0?0:e>1?1:e},getTableAreaAsString(e,t,l,a){let o=e/this.imageWidth,i=t/this.imageHeight,s=l/this.imageWidth,n=a/this.imageHeight;return o.toString()+","+i.toString()+","+s.toString()+","+n.toString()},prepareTableArea(){uo.table_areas=[],Array.from(this.areas).forEach((e=>{let t=e.width+e.x,l=e.height+e.y;uo.table_areas.push(this.getTableAreaAsString(e.x,e.y,t,l))})),!1===this.isRowMode&&lt.A.set("table_data",JSON.stringify(uo))},calculateLeftPosition(e){let t=this.areaDisplayPosX(e)+e.width;return t+50>=this.imageWidth&&(t=this.areaDisplayPosX(e)-60),t+"px"},calculatePositionFromTop(e){let t=this.areaDisplayPosY(e)-25;return t<0&&(t=this.areaDisplayPosY(e)),t+"px"},cancelAreaSelection(){this.deleteSelected(this.numberOfAreas),this.correctionDialog=!1,this.numberOfAreas=0,this.disableSelectionForRow(this.oldArea)},reSelectArea(){this.deleteSelected(this.numberOfAreas),this.correctionDialog=!1,this.numberOfAreas=0,setTimeout((()=>{let e=(0,na.$)("#draw_"+this.oldArea).querySelector(".select-areas--background_area");e.style.cursor="crosshair"}),10)},saveSelectionResult(){if(uo.table_areas.length>0){this.correctionDialog=!1,this.disableImageRowsClick=!1;let e,t=uo.table_areas[uo.table_areas.length-1];e=t.hasOwnProperty("coord")?t.coord:t,this.disableSelectionForRow(this.oldArea),this.numberOfAreas=0,this.$emit("saveColumnCoords",e)}},decideAction(e){let t=e.areaTag,l=e.areaType,a=e.rowId;if(this.currentSelectedItem=e,this.removeExistingConfirmationOverlays(),!0!==this.disableImageRowsClick)if(this.disableSelectionForRow(this.oldArea),"column"===l){this.numberOfAreas=0;let e=(0,na.$)("#screenshot_container"),l=e.querySelectorAll("div.column_background_area");Array.from(l).forEach((e=>{let t=e.style.background.split("100%)");e.style.background=ot.I7+t[1]}));let o=e.querySelectorAll("div.column_outline");Array.from(o).forEach((e=>{e.style.opacity="0.2",e.nextSibling&&(e.nextSibling.style.border="unset")})),this.oldArea=a;let i=(0,na.$)("#input_"+t+"_"+a);if(i){let e=(0,na.$)("#draw_"+t),l=e.querySelector(".select-areas--outline");l.style.opacity="0";let a=document.querySelector("#line_item_table").querySelectorAll("label.active-border-2px");Array.from(a).forEach((e=>{e.classList.remove("active-border-2px")}));let o=e.querySelector(".select-areas--background_area");o.style.border="2px",o.style.borderStyle="solid",o.style.borderColor="#8800ff",i.scrollIntoView(),i.querySelector("label").classList.add("active-border-2px");let s=i.querySelector("label.extraction_method");if(null!=s){let e=i.dataset.columnValue,t=i.dataset.scoreDescription,l={value:e,score:t,selection:o};this.prepareOverlay({detail:l})}}else logError("not mapped")}else{this.numberOfAreas=0;let e=document.getElementById(t);if(e.classList.add("active-table-row"),""!=this.oldArea){let e=document.getElementById(this.oldArea);e.classList.remove("active-table-row")}let l={rowId:t,columnName:null};const a=new CustomEvent("get_table_rows_areas",{detail:l});document.dispatchEvent(a),this.oldArea=t}},enableSelectionForRow(e){this.disableImageRowsClick=!0,this.disableSelectionForRow(this.oldArea);let t=e.detail;this.oldArea=e.detail;let l=(0,na.$)("#draw_"+t).querySelector(".select-areas--background_area");l.style.cursor="crosshair",l.addEventListener("mousedown",this.manageEventsForColumns)},disableSelectionForRow(e){if(""!=e&&(0,na.$)("#draw_"+e)){let t=(0,na.$)("#draw_"+e).querySelector(".select-areas--background_area");t.style.cursor="pointer",t.removeEventListener("mousedown",this.manageEventsForColumns),t.removeEventListener("mousemove",this.mouseMove)}},dblClickToSelect(e){this.disableSelectionForRow(this.oldArea);let t=this.getTableAreaAsString(this.mousePosX(e),this.mousePosY(e),this.mousePosX(e),this.mousePosY(e));this.$emit("saveColumnCoords",t)},prepareOverlay(e){let t=e.detail.value,l=e.detail.score,a=e.detail.selection,o=null;null!=l&&""!==l&&(o={score:l,background:this.getColor(Number(l))}),this.drawOverlay(String(t),a,o)},drawOverlay(e,t,l){var a,o,i;this.removeExistingConfirmationOverlays();const s=this.getOffset(t),n=document.createElement("div");n.setAttribute("id","confirmation_overlay"),n.style.position="absolute",n.style.zIndex="99999",n.style.left=s.left+"px",n.style.top=(+s.top+ +s.height+6).toString()+"px",n.style.background="#ffffff",n.style.color="#898989",n.style.minHeight="65px",n.style.minWidth="100px",n.style.maxWidth=.75*this.imageWidth+"px",n.style.textAlign="center",n.style.padding="5px 10px 5px 10px",n.style.letterSpacing="1px",n.style.borderRadius="7px",n.style.boxShadow="0 1px 2px rgba(0,0,0,0.07),\n      0 2px 4px rgba(0,0,0,0.07),\n      0 4px 8px rgba(0,0,0,0.07),\n      0 8px 16px rgba(0,0,0,0.07),\n      0 16px 32px rgba(0,0,0,0.07),\n      0 32px 64px rgba(0,0,0,0.07);",n.innerHTML=`<div>\n                    <div><b>${e}</b></div>\n                    <div>\n                    <span id='divOverlayWrong'>\n                      <i style='display: inline-block;border-radius: 50px;box-shadow: 0px 0px 2px #888;padding: 0.5em 0.6em;cursor:pointer;' class='fa fa-times'></i>\n                    </span>\n                    <span id='divOverlayCorrect'>\n                      <i style='display: inline-block;border-radius: 50px;box-shadow: 0px 0px 2px #888;padding: 0.5em 0.5em;cursor:pointer;' class='fas fa-check'></i>\n                    </span></div>\n                  </div>`,document.body.appendChild(n),null===(a=(0,na.$)("#divOverlayCorrect"))||void 0===a||a.addEventListener("click",(e=>{this.removeExistingConfirmationOverlays(),this.validateColumn(this.currentSelectedItem)})),null===(o=(0,na.$)("#divOverlayWrong"))||void 0===o||o.addEventListener("click",(e=>{this.removeExistingConfirmationOverlays(),this.deleteSelectedColumn(this.currentSelectedItem)}));try{const e=(0,na.$)("#confirmation_overlay"),a=null===(i=(0,na.$)("#confirmation_overlay"))||void 0===i?void 0:i.clientWidth,o=s.width,r=(+a-+o)/2;e.style.left=+s.left-+r+"px";let d=+t.getAttribute("width")+ +t.getAttribute("y")+e.offsetHeight;d>=ro.offsetHeight&&(n.style.top=(+s.top-6-+e.offsetHeight).toString()+"px"),l&&setTimeout((()=>{this.overlayForScore(e,l)}),10)}catch(r){}},overlayForScore(e,t){let l=t.score,a=t.background;const o=this.getOffset(e),i=document.createElement("div");i.setAttribute("id","score_overlay"),i.style.position="absolute",i.style.zIndex="99999",i.style.left=(+o.left+o.width+6).toString()+"px",i.style.top=(+o.top-15).toString()+"px",i.style.background=a,i.style.color="#898989",i.style.fontSize="14px",i.style.fontWeight="bold",i.style.letterSpacing="2px",i.style.cursor="pointer",i.style.padding="0.1em 0.6em",i.style.border="1px solid #f5f5f5",i.style.borderRadius="50px",i.innerHTML=`<div> <span  class='column-score-test' > ${l} </span> </div>`,document.body.appendChild(i)},getOffset(e){const t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,right:t.right+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width||e.offsetWidth,height:t.height||e.offsetHeight}},handleScroll(){this.removeExistingConfirmationOverlays()}},mounted(){so=this,this.setSize(),no=(0,na.$)("#image_area"),no.addEventListener("mousemove",this.calcPosOfBox),no.addEventListener("scroll",this.calcPosOfBox),this.calcPosOfBox(),no.addEventListener("mouseup",this.mouseUp),document.addEventListener("prepare_overlay",this.prepareOverlay),document.addEventListener("reset_table_areas",this.prepareDataForAreas),document.addEventListener("enable_column_selection",this.enableSelectionForRow),document.addEventListener("prepare_customized_areas",this.prepareCustomizedAreas),(0,na.$)("#image_container").parentElement.addEventListener("scroll",this.handleScroll)},unmounted:function(){no.removeEventListener("mousemove",this.calcPosOfBox),no.removeEventListener("scroll",this.calcPosOfBox),no.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("prepare_overlay",this.prepareOverlay),document.removeEventListener("reset_table_areas",this.prepareDataForAreas),document.removeEventListener("prepare_customized_areas",this.prepareCustomizedAreas),document.removeEventListener("enable_column_selection",this.enableSelectionForRow);let e=(0,na.$)("#image_container");if(e){let t=e.parentElement;t&&t.removeEventListener("scroll",this.handleScroll)}},setup(){return{}}}),po=(0,ht.A)(co,[["render",ao],["__scopeId","data-v-56a06494"]]),ho=po;kt()(co,"components",{QDialog:mt.A,QCard:_t.A,QCardSection:bt.A,QCardActions:gt.A,QBtn:Et.A}),kt()(co,"directives",{ClosePopup:ft.A});var mo=l(92867),_o=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};let bo=new Map,vo={columns:[],table_areas:[]};const go=document.querySelector.bind(document);let fo;const yo=(0,a.pM)({el:"#app",mixins:[Ne.A,Me.A,it.A,Oe.A,Ve.A],components:{Loader:qe.A,invoiceSaveExport:Vt,LineItemsTblExtV3:qa,AIDialGauge:zt,autoTesting:Ht.A,DocumentLock:Yt.A,MessageBanner:Jt.A,Classification:Nt.A,DeleteRulesBtn:Ct,ErrorDocumentView:Na.A,MultiSelectAreasImageTblV3:ho,scriptBtn:$a.A,SubHeader:Va.A,IgnoreTableValidation:mo.A},data(){return{draggingColumnEl:{},deleteColumnInfo:{},enableEditing:!1,enableColumnEditing:!1,imageHeight:0,imageWidth:0,viewBox:"0 0 0 0",enableExportButton:!1,purchaseOrderColumns:[],purchaseOrderData:[],closeEnough:6,dragTL:!1,dragBL:!1,dragTR:!1,dragBR:!1,rect:{},current_zoom:1,account_block:"",extractedData:"",currentColumnName:"",currentRowId:"",debounceAutoSaveFunc:{}}},watch:{training_mode(e){!1===e&&(this.persistTableAreas(),this.restrictDrawing(),this.setTableMode())},$route(e,t){if(!e.hasOwnProperty("path")||!t.hasOwnProperty("path"))return;const l=e.path.split("/"),a=t.path.split("/");l.length>2&&a.length>2&&l[1]===a[1]&&this.get_cached_data_id!=this.docId&&window.location.reload()}},mounted(){this.init(),this.isDebugFlagHandler(),document.addEventListener("update_table_data",this.updateTableDataForSave),document.addEventListener("delete_select_area_column",this.deleteColumnDataForReSelection),document.addEventListener("validate_selected_column",this.validateSelectedColumn),document.addEventListener("disable_all_modes",this.diableAllModes),document.addEventListener("rules_deleted",this.rulesDeleted),document.addEventListener("perform_split_text",this.callSplitTextAction),window.tblExtV3=this,this.debounceAutoSaveFunc=(0,Zt.A)((()=>{this.saveDataOnChanges()}),1e3)},unmounted:function(){window.removeEventListener("resize",this.windowResize),document.removeEventListener("update_table_data",this.updateTableDataForSave),document.removeEventListener("delete_select_area_column",this.deleteColumnDataForReSelection),document.removeEventListener("validate_selected_column",this.validateSelectedColumn),document.removeEventListener("disable_all_modes",this.diableAllModes),document.removeEventListener("rules_deleted",this.rulesDeleted),document.removeEventListener("rules_deleted",this.rulesDeleted),document.removeEventListener("perform_split_text",this.callSplitTextAction),this.clearViewForUnmount()},methods:{goHelp(){window.open("https://docs.fellowpro.com/DocBits/table-extraction/training-of-table-extraction/")},init(){return _o(this,void 0,void 0,(function*(){if(this.isDocForTraining(),yield this.handleTokenForExternalUser(),!0===this.table_train){if(this.setDocLockStoreDisable(),this.docId=String(this.$route.query.id),yield this.getTrainingData(),!this.record||0===Object.keys(this.record).length||!1===this.record.success)return void this.handleException()}else{if(this.docId=String(this.$route.params.id),this.$route.params.id||this.$router.push("/dashboard"),yield this.getInvoiceDataByDocId(),!this.record||0===Object.keys(this.record).length||!1===this.record.success)return void this.handleException();this.setTableTrainingFlag();const e=new CustomEvent("init_line_items",{detail:this.record});document.dispatchEvent(e)}this.handleBlockedSupplier(),this.account_block||(window.addEventListener("resize",this.windowResize),this.handleAiTableWarning(),this.handleReadOnly(),this.handleDocLockSubscribe(),this.isReadOnly?(this.error_message=this.$t("pages.messages.READ_ONLY_MSG"),this.error_class="error-banner",this.trigger_document_lock=!1):this.trigger_document_lock=!0,this.imageWidth=go("#image_container").offsetWidth-15,lt.A.set("table_data",""),lt.A.set("table_rows_data",""),this.initPage())}))},handleTokenForExternalUser(){return _o(this,void 0,void 0,(function*(){const e=!0===this.table_train?String(this.$route.query.token):"";yield this.setAuthToken(e),this.table_train&&(this.ignore_token_validation=!0),this.getTokenQueryParam()}))},restoreDeleteColumn(){if(this.isReadOnly)return;const e=new CustomEvent("restore_delete_column",{});document.dispatchEvent(e)},handleAiTableWarning(){this.has_ai_table&&(this.ai_table_warning=!0)},handleException(){this.isReadOnly=!0,this.error_message=this.$t("pages.messages.INVALID_DOCUMENT"),this.error_class="error-banner"},doManualTraining(){this.ai_table_warning&&(this.ai_table_warning=!1,this.deleteAllExtractedData(),this.setManualTraining(!0))},handleDocLockSubscribe(){const e=(0,dt.oI)();e.$subscribe(((e,t)=>{this.isReadOnly=!this.doc_lock.success,this.handleReadOnly()}))},handleReadOnly(){if(ot.B2.includes(this.record.status))return void(this.isReadOnly=!0);const e=Re.tH.hasAccess("update");e||(this.isReadOnly=!0)},isDocForTraining(){this.$route.params.table_train&&"true"===this.$route.params.table_train&&(this.table_train=!0)},setTableTrainingFlag(){!0===this.table_train&&(this.record.is_table_training_doc=!0)},getToken(){return this.token},getTrainingData(){return _o(this,void 0,void 0,(function*(){try{let e;if(e=yield this.getTrainingDataByDocId(),!e||!e.data)throw e;if(!1===e.data.success&&this.api_tries<1&&(this.api_tries++,e=yield this.getTrainingDataByDocId()),!1===e.data.success||!e.data.data||!e.data.data.doc_id)throw e;this.record=e.data.data,this.record.token=this.token,this.is_manual_training_allowed=!0,this.setTableTrainingFlag();const t=new CustomEvent("init_line_items",{detail:this.record});document.dispatchEvent(t)}catch(e){logError(e)}finally{this.hideLoading()}}))},getTrainingDataByDocId(){return _o(this,void 0,void 0,(function*(){let e;this.showLoading();try{let t=this.getToken();e=yield De.A.get((0,ut.MV)(Ie.FH.get_table_train_data+this.docId+"&version=v3"),{headers:{Authorization:t}})}catch(t){logError(t)}return e}))},getInvoiceDataByDocId(){return _o(this,void 0,void 0,(function*(){try{if(this.record.doc_id==this.docId)return;this.showLoading(),this.record=[],this.clearSelectedSessionStorage();this.docId;yield this.getDocumentById(this.docId)}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}}))},initPage(){this.page=1,this.handleImageBaseURL(),this.image=this.baseUrl+"/"+(0,Ba.v)(this.record.images[0].path),this.images=(0,Ba.m)(this.record.images),lt.A.set("table_data",""),bo=new Map,this.record.tables&&this.record.tables[0]&&this.record.tables[0].locations_list&&this.record.tables[0].locations_list[0]&&this.prepareTableMap(this.record.tables[0].locations_list),this.document_version=this.record.document_version?this.record.document_version:1,window.addEventListener("keydown",(e=>{27===e.keyCode&&this.restrictDrawing()})),lt.A.has("enableExportButton")?this.enableExportButton=lt.A.getItem("enableExportButton"):this.enableExportButton=!1,this.$forceUpdate(),this.setTableVersion(),this.getAI_IndicatorData(),this.getExtractedColumns(),this.fetchLanguageOptions(),this.confirmationForPoConnectionReset=!1},setTableVersion(){let e=(0,Gt.PL)("TBL_EXT_VERSION");this.record.tables&&0!=this.record.tables.length?(this.record.tables[0].hasOwnProperty("version")&&"v3"==this.record.tables[0].version&&(this.tb_version="v3"),this.setPoMatchingData()):void 0!==e&&""!=e&&"Version3"==e&&(this.tb_version="v3")},getAI_IndicatorData(){return _o(this,void 0,void 0,(function*(){try{let e;if(this.setTableCountForAIIndicator(),!this.record.filter_values||!(this.record.filter_values.length>0)||!Array.isArray(this.record.filter_values))throw"getAI_IndicatorData () no filter_values or doc_type to proceed";let t="?doc_type="+this.record.doc_type+"&filter_values="+this.record.filter_values.join(),l=this.getToken(),a=new FormData;if(a.append("org_id",(0,ut.I)()),e=yield De.A.post(Ie.FH.get_ai_score+t,a,{headers:{Authorization:l}}),!1===e.data.success)throw e.data.message;if(!0===e.data.success){this.ai_rules=e.data.table_rules;const t=new CustomEvent("TE_gauge_calculation",{detail:e.data});document.dispatchEvent(t)}}catch(e){logError(e)}}))},setTableCountForAIIndicator(){let e=0;this.record&&this.record.tables&&Array.isArray(this.record.tables)&&this.record.tables.length>0&&this.record.tables[0].hasOwnProperty("rows")&&Array.isArray(this.record.tables[0].rows)&&this.record.tables[0].rows.length>0&&(e=1),this.ai_tables=e},setPoMatchingData(){const e=new CustomEvent("po_info",{detail:{tb_version:this.tb_version,po_enable:this.po_enable}});document.dispatchEvent(e)},handleBlockedSupplier(){this.account_block="",!this.record.hasOwnProperty("table_blocked")||1!=this.record.table_blocked&&"true"!=this.record.table_blocked||(this.account_block="table_blocked"),!this.record.hasOwnProperty("table_extraction_disabled")||1!=this.record.table_extraction_disabled&&"true"!=this.record.table_extraction_disabled||(this.account_block="table_extraction_disabled"),!this.record.hasOwnProperty("table_not_supported")||1!=this.record.table_not_supported&&"true"!=this.record.table_not_supported||(this.account_block="table_not_supported"),"ELECTRONIC_DOCUMENT"==this.record.extraction_method&&(this.account_block="table_extraction_disabled")},toggler(){this.toggleMenu(),this.windowResize()},back(){this.record.hasOwnProperty("has_layout")&&"true"===String(this.record.has_layout)&&this.$router.push("/field_validation_v1/"+this.$route.params.id)},imageClicked(e){this.loadNewPageImage(e.target.dataset.id)},loadNewPageImage(e){this.persistTableAreas(),this.image=this.baseUrl+"/"+(0,Ba.v)(this.record.images[e].path),this.page=parseInt(e)+1,!0===this.isRowMode?setTimeout((()=>{const e=new CustomEvent("get_table_rows_areas",{});document.dispatchEvent(e)}),10):(this.loadNewPageTableAreas(),this.isExtractedColumnMode),this.resizeSelectableColumns(),this.$forceUpdate()},persistTableAreas(){if(lt.A.has("table_data")&&null!=lt.A.getItem("table_data")&&""!=lt.A.getItem("table_data")){let e=lt.A.getItem("table_data");vo=JSON.parse(e),vo&&vo.table_areas&&vo.table_areas.length?bo.set(this.page.toString(),JSON.stringify(vo)):bo.delete(this.page.toString())}else bo.delete(this.page.toString())},loadNewPageTableAreas(){vo=bo.has(this.page.toString())?JSON.parse(bo.get(this.page.toString())):{columns:[],table_areas:[]},this.tableAreasStr=JSON.stringify(vo),lt.A.set("table_data",this.tableAreasStr)},prepareTableMap(e){bo=new Map,e&&Array.from(e).forEach((e=>{if(e){let t={columns:[],table_areas:e.coords};bo.set(e.page.toString(),JSON.stringify(t))}})),this.loadNewPageTableAreas()},selectAreaToExtratctText(e=!1){this.enableDrawing()},enableDrawing(){this.enableEditing=!0;const e=go("#draw");null===e||void 0===e||e.classList.add("cursor-crosshair"),null===e||void 0===e||e.classList.remove("pointer-events-none"),this.disableColumnEditing(),this.setTableMode()},restrictDrawing(){this.enableEditing=!1;const e=go("#draw");null===e||void 0===e||e.classList.add("pointer-events-none"),null===e||void 0===e||e.classList.remove("cursor-crosshair")},windowResize(){this.persistTableAreas();let e=go("#image_container");this.imageWidth=e.offsetWidth,setTimeout((()=>{fo=go("#screenshot"),fo&&(this.imageHeight=fo.offsetHeight),this.$forceUpdate(),this.resizeSelectableColumns()}),10)},resizeSelectableColumns(){let e=document.querySelectorAll(".draggable-column");for(var t=0;t<e.length;t++){let l=e[t],a=l.dataset.normalized_value,o=+a*this.imageWidth;this.page==Number(l.dataset.page_no)||"all"==l.dataset.page_no?(l.style.display="block",l.style.left=o.toString()+"px",l.style.height=String(this.imageHeight)+"px"):l.style.display="none"}},addColumnForAll(e){e.stopPropagation();const t=document.querySelectorAll(".draggable-column");if(0!=t.length)for(var l=0;l<t.length;l++){let e=t[l];if(e.dataset.page_no!==this.page.toString()&&"all"!==e.dataset.page_no){e.remove();continue}let a=e.dataset.normalized_value,o=+a*this.imageWidth;e.style.left=o.toString()+"px",e.dataset.page_no="all",e.style.display="block"}else this.showErrorToast("No column detected")},disableColumnEditing(){this.enableColumnEditing=!1,this.draggingColumnEl=null,this.deleteColumnInfo=null,document.removeEventListener("pointermove",this.repositionColumn),document.removeEventListener("pointerup",this.columnStopDrag)},reDrawColumns(e,t){if(!e||e.length<1)return;this.deleteColumnInfo=null,this.persistTableAreas(),this.restrictDrawing(),this.setTableMode();let l=go("#screenshot_container");fo=go("#screenshot"),this.imageWidth=fo.offsetWidth,this.imageHeight=fo.offsetHeight,Array.from(e).forEach((e=>{let a=+e*this.imageWidth;var o=document.createElement("div");o.className="draggable-column",o.style.height=String(this.imageHeight)+"px",o.style.left=a.toString()+"px",o.dataset.parent_class="screenshot",o.dataset.page_no=t.toString(),o.dataset.normalized_value=e,l.appendChild(o),o.addEventListener("pointerdown",this.pointerDownDraggableColumn,!1)}))},addColumn(e){this.enableColumnEditing=!0,this.deleteColumnInfo=null,this.persistTableAreas(),this.restrictDrawing(),this.setTableMode(),e.stopPropagation();let t=go("#screenshot_container");fo=go("#screenshot"),this.imageWidth=fo.offsetWidth,this.imageHeight=fo.offsetHeight;let l=this.getNewColPosOffset(this.page);var a=document.createElement("div");a.className="draggable-column",a.style.height=String(this.imageHeight)+"px",a.style.left=l.toString()+"px",a.dataset.parent_class="screenshot",a.dataset.page_no=void 0!==e.page?e.page:this.page.toString(),a.dataset.normalized_value=(l/this.imageWidth).toString(),t.appendChild(a),a.addEventListener("pointerdown",this.pointerDownDraggableColumn,!1)},getNewColPosOffset(e){let t=0,l=0;const a=go("#screenshot"),o=document.querySelectorAll(".draggable-column"),i=a.offsetWidth-a.offsetLeft;if(o.length){let l=null;for(var s=0;s<o.length;s++){let t=o[s];e!=Number(t.dataset.page_no)&&"all"!=t.dataset.page_no||(l=t)}l&&(t=parseInt(l.style.left))}return t+25>i&&(t=0),l=t+25,l},removeDraggableColumn(e){this.draggingColumnEl=null,this.deleteColumnInfo=null,e.target.remove()},pointerDownDraggableColumn(e){if(e.preventDefault(),e.target.clicks++,setTimeout((function(){e.target.clicks=0}),400),2===e.target.clicks)return this.removeDraggableColumn(e),void(e.target.clicks=0);this.columnDragStart(e)},columnDragStart(e){let t=e.target.offsetLeft,l=e.target.offsetTop,a=e.clientX,o=e.clientY;this.draggingColumnEl={el:e.target,initX:t,initY:l,mousePressX:a,mousePressY:o},this.deleteColumnInfo={event:e},document.addEventListener("pointermove",this.repositionColumn,!1),document.addEventListener("pointerup",this.columnStopDrag,!1)},columnStopDrag(e){this.draggingColumnEl=null;let t=go("#image_container");if(!t)return;let l=t.querySelectorAll(".draggable-column");for(var a=0;a<l.length;a++){l[a].removeEventListener("pointermove",this.repositionColumn,!1);let e=l[a].style.left.replace("px","");l[a].dataset.normalized_value=(+e/this.imageWidth).toString()}},repositionColumn(e){if(!(this.draggingColumnEl&&this.draggingColumnEl.initX&&this.draggingColumnEl.mousePressX))return;let t=this.draggingColumnEl.el.dataset.parent_class,l=go("#"+t);if(l){this.deleteColumnInfo=null;var a=l.getBoundingClientRect();e.clientX>=a.left?this.draggingColumnEl.el.style.left=this.draggingColumnEl.initX+e.clientX-this.draggingColumnEl.mousePressX+"px":this.draggingColumnEl.el.style.left=Math.floor(5*l.offsetWidth/100)+"px"}else logInfo("column parent id is missing")},removeAllColumns(){this.deleteColumnInfo=null,this.draggingColumnEl=null;const e=document.querySelectorAll(".draggable-column");if(0!=e.length)for(var t=0;t<e.length;t++)e[t].remove()},isColumnSelectedForDelete(){return!(!this.deleteColumnInfo||0===Object.keys(this.deleteColumnInfo).length||!this.deleteColumnInfo.event)},removeSelectedColumn(e){this.deleteColumnInfo&&0!==Object.keys(this.deleteColumnInfo).length&&this.deleteColumnInfo.event?(this.removeDraggableColumn(this.deleteColumnInfo.event),this.deleteColumnInfo=null):this.deleteColumnInfo=null},getExtractedColumns(){this.extracted_columns=[],this.record&&this.record.tables&&this.record.tables.length>0&&this.record.tables[0].hasOwnProperty("extraction_info")&&this.record.tables[0].extraction_info.length>0&&Array.from(this.record.tables[0].extraction_info).forEach((e=>{if(e.hasOwnProperty("columns")){let t=[];Array.from(e.columns).forEach((e=>{t=t.concat(e.toString().split(","))})),this.extracted_columns["page_"+e.page]=t}}))},toggleExtractedColumnMode(e){this.isExtractedColumnMode=!0,this.enableColumnEditing=!0,this.showExtractedColumns(e),this.resizeSelectableColumns(),this.isExtractedColumnMode=!1},showExtractedColumns(e){if(this.extracted_columns&&0!==Object.keys(this.extracted_columns).length||!e){this.removeAllColumns();for(let e=0;e<=this.images.length;e++)this.extracted_columns.hasOwnProperty("page_"+e)&&this.reDrawColumns(this.extracted_columns["page_"+e],e.toString())}else this.showErrorToast(this.$t("pages.messages.NO_COLUMNS_FOUND"))},saveTableCoordinates(e=""){return _o(this,void 0,void 0,(function*(){try{this.showLoading(),this.persistTableAreas(),this.setRulesForSelectableColumns();let t=[];bo.forEach(((e,l)=>{e&&l&&(vo=JSON.parse(e),t.push(Object.assign({},{page:l,table_areas:vo.table_areas,columns:vo.columns})))}));let l=new FormData;l.append("doc_id",this.record.doc_id),l.append("table_extraction_data",JSON.stringify(t)),l.append("header_rows_count","1");let a,o=this.addMappingFlag();""!==o&&l.append("get_mapping_rules",o.toString()),"add_split_text"===e&&l.append("split_text",this.split_text.toString()),"doc_locale"===e&&l.append("doc_locale",this.languageOrigin),this.record.hasOwnProperty("is_table_training_doc")&&l.append("is_table_training_doc",(!0).toString()),this.force_ocr_table_train&&l.append("force_ocr",(!0).toString()),this.force_ocr_table_train=!1,l.append("org_id",(0,ut.I)());let i=this.getToken();if(a=yield De.A.post(Ie.FH.get_table_v3,l,{headers:{Authorization:i}}),!a.data||!Array.isArray(a.data)||0==a.data.length)throw{message:this.$t("CANNOT_EXECUTE_REQUEST")};if(!1===a.data[0].success)throw{message:a.data[0].message};this.setApiResponse(a)}catch(t){if(null!=t&&"object"==typeof t&&t.hasOwnProperty("message"))return void this.showErrorToast(t.message);this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.hideLoading()}}))},setApiResponse(e){e.data&&e.data[0].hasOwnProperty("locations_list")&&(this.record.tables=e.data,this.setTableCountForAIIndicator(),this.prepareTableMap(this.record.tables[0].locations_list),this.getExtractedColumns(),this.restrictDrawing(),this.disableColumnEditing(),this.setTableMode(),this.resetLineItems())},setRulesForSelectableColumns(){let e=document.querySelectorAll(".draggable-column");if(!e)return;let t=go("#screenshot");if(!t)return;let l=t.offsetWidth;for(var a=0;a<this.images.length;a++){let t=(a+1).toString(),i=[];for(var o=0;o<e.length;o++){let a=e[o];if(t==a.dataset.page_no||"all"==a.dataset.page_no){let e=a.style.left.replace("px","");i.push(+e/l)}}i.length>0&&(i=this.sortNumbericArray(i),this.addColumnsToTableMap(i,t))}},addColumnsToTableMap(e,t){let l={table_areas:[]};bo.has(t)&&(l=JSON.parse(bo.get(t))),l.columns=[e.toString()],bo.set(t,JSON.stringify(l))},autoDetectTables(){return _o(this,void 0,void 0,(function*(){this.showLoading();let e,t=new FormData;t.append("doc_id",this.record.doc_id),this.record.hasOwnProperty("is_table_training_doc")&&t.append("is_table_training_doc",(!0).toString());try{t.append("org_id",(0,ut.I)());let l=this.getToken();e=yield De.A.post(Ie.FH.get_auto_table_v3,t,{headers:{Authorization:l}})}catch(l){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(l),void this.hideLoading()}if(!1===e.data.success)return this.showErrorToast(e.data.message),void this.hideLoading();this.setApiResponse(e),this.hideLoading(),this.toggleExtractedColumnMode(!1)}))},handleScroll(){logInfo("this.handleScroll")},deleteAllExtractedData(){this.isExtractedColumnMode=!1,this.extracted_columns=[],bo=new Map,vo={columns:[],table_areas:[]},this.record.tables=null,this.setTableCountForAIIndicator(),this.restrictDrawing(),this.removeAllColumns(),vo={columns:[],table_areas:[]},this.tableAreasStr=JSON.stringify(vo),lt.A.set("table_data",this.tableAreasStr);const e=new CustomEvent("reset_table_areas",{detail:this.record});document.dispatchEvent(e),this.resetLineItems(),this.$forceUpdate()},currentPage(){return this.page},diableAllModes(){this.persistTableAreas(),this.restrictDrawing(),this.setTableMode()},updateExtractionDataForSave(e,t){if(this.record&&this.record.tables&&this.record.tables[0]&&this.record.tables[0].hasOwnProperty("extraction_info"))for(let[l,a]of Object.entries(this.record.tables[0].locations_list))this.record.tables[0].locations_list[l][e]=t},updateTableDataForSave(e){e&&e.detail&&this.record&&this.record.tables&&(this.record.tables=e.detail.tables,this.setTableCountForAIIndicator(),e.detail.save_to_server&&!0===e.detail.save_to_server&&this.debounceAutoSaveFunc())},resetLineItems(){const e=new CustomEvent("init_line_items",{detail:this.record});document.dispatchEvent(e)},viewPurchaseOrder(){lt.A.set("view_mod","edit"),this.$router.push("/po-matching/"+this.$route.params.id)},openLineItemAdvanceSettings(){this.restrictDrawing();const e=new CustomEvent("display_adv_settings_view",{});document.dispatchEvent(e)},addColumnInLineItems(){this.diableAllModes();const e=new CustomEvent("add_new_column",{});document.dispatchEvent(e)},setApiData(e){this.record=e,this.$forceUpdate()},setFieldsData(e){this.record.document_version=e.document_version,this.record.fields=e.fields,this.record.tables=e.tables,this.$forceUpdate()},revertChanges(){const e=new CustomEvent("revert_changes",{});document.dispatchEvent(e)},handleImageBaseURL(){this.record.images[0]&&this.record.images[0].path.match(/doc2/g)&&(this.baseUrl=Ie.VA)},zoomOut(){this.imageWidth>200&&(this.imageWidth=this.imageWidth-100,fo=go("#screenshot"),setTimeout((()=>{this.imageHeight=fo.offsetHeight,this.resizeSelectableColumns()}),10))},zoomIn(){this.imageWidth=this.imageWidth+100,fo=go("#screenshot"),setTimeout((()=>{this.imageHeight=fo.offsetHeight,this.resizeSelectableColumns()}),10)},getExtractedDataFromCordinates(e){return _o(this,void 0,void 0,(function*(){const t=this.record;let l,a=new FormData,o=e.startX/this.imageWidth,i=e.startY/this.imageHeight,s=e.endX/this.imageWidth,n=e.endY/this.imageHeight;a.append("x0",o.toString()),a.append("y0",i.toString()),a.append("x1",s.toString()),a.append("y1",n.toString()),a.append("doc_id",t.doc_id),a.append("page",this.page.toString()),a.append("field_name",""),this.showLoading();try{this.record.hasOwnProperty("is_table_training_doc")&&a.append("is_table_training_doc",(!0).toString()),a.append("org_id",(0,ut.I)());let e=this.getToken();l=yield De.A.post(Ie.FH.get_field_value,a,{headers:{Authorization:e}})}catch(d){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(d),void this.hideLoading()}let r=l.data;this.hideLoading(),r&&r.value?this.hideLoading():this.showErrorToast(this.$t("No Data"))}))},addNewLineItem(){const e=new CustomEvent("add_new_row",{});document.dispatchEvent(e)},setTableRowCorrdinates(e,t,l){vo={columns:[],table_areas:[]},this.currentRowId=l,this.currentColumnName=t,vo.table_areas=JSON.parse(e),this.tableAreasStr=JSON.stringify(vo),lt.A.set("table_rows_data",this.tableAreasStr),this.$forceUpdate()},setRowMode(){if(!0===this.isRowMode){this.persistTableAreas(),this.restrictDrawing(),this.disableColumnEditing();const e=new CustomEvent("get_table_rows_areas",{});document.dispatchEvent(e)}else this.setTableMode(!1)},setTableMode(e=!0){!0===e&&(this.isRowMode=!1),this.loadNewPageTableAreas()},saveColumnCoords(e){return _o(this,void 0,void 0,(function*(){if(!this.currentColumnName||!e)return void this.showErrorToast(this.$t("Please Select Line Column and then try again"));this.showLoading();let t=[];t=e.split(",");let l,a=new FormData;a.append("x0",t[0].toString()),a.append("y0",t[1].toString()),a.append("x1",t[2].toString()),a.append("y1",t[3].toString()),a.append("doc_id",this.record.doc_id),a.append("page",this.page.toString()),a.append("column_name",this.currentColumnName),a.append("table_name",this.record.tables[0].name),this.record.hasOwnProperty("is_table_training_doc")&&a.append("is_table_training_doc",(!0).toString());try{a.append("org_id",(0,ut.I)());let e=this.getToken();l=yield De.A.post(Ie.FH.get_table_text,a,{headers:{Authorization:e}})}catch(s){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(s),void this.hideLoading()}const o=l.data.coords;if(!o||0===o[0].x&&0===o[0].y&&""===l.data.formatted_value)return this.showErrorToast(this.$t("pages.messages.EMPTY_MAPPING_NOT_ALLOWED")),void this.hideLoading();this.updateApiForTableColumn(l.data);const i=new CustomEvent("init_line_items",{detail:this.record});document.dispatchEvent(i),setTimeout((()=>{let e=go("#input_"+this.currentColumnName+"_"+this.currentRowId);e&&(e.scrollIntoView(),e.querySelector("label").classList.add("active-border-2px"))}),30),this.$forceUpdate(),this.hideLoading()}))},updateApiForTableColumn(e){Array.from(this.record.tables[0].rows).forEach(((t,l)=>{t.id===this.currentRowId&&Array.from(t.columns).forEach(((t,a)=>{if(t.name===this.currentColumnName){let o="";o=e.location[0].coords.toString();let i={name:t.name,content:e.text,locations:e.location,locations_list:[{page:this.page,coords:[o]}],is_validated:!1,value:e.value,formatted_value:e.formatted_value,extraction_method:"AI"};return t.isExtraColumn&&(i.isExtraColumn=!0),this.record.tables[0].rows[l].columns[a]=[],void(this.record.tables[0].rows[l].columns[a]=JSON.parse(JSON.stringify(i)))}}))})),this.$forceUpdate()},deleteColumnDataForReSelection(){Array.from(this.record.tables[0].rows).forEach(((e,t)=>{e.id===this.currentRowId&&Array.from(e.columns).forEach(((e,t)=>{if(e.name===this.currentColumnName)return e.locations=[],e.locations_list=[],e.formatted_value="",e.value="",void(e.content="")}))}));const e=new CustomEvent("reload_line_items",{detail:{apiData:this.record,currentRowId:this.currentRowId,currentColumnName:this.currentColumnName}});document.dispatchEvent(e)},validateSelectedColumn(){Array.from(this.record.tables[0].rows).forEach(((e,t)=>{e.id===this.currentRowId&&Array.from(e.columns).forEach(((e,t)=>{e.name!==this.currentColumnName||(e.is_validated=!0)}))}))},saveDataForV3(e=!1){return _o(this,void 0,void 0,(function*(){const t=yield this.hasActionAcquiredLock();if(!t)return;let l=this.record;this.showLoading(),l.hasOwnProperty("table_data_copy")&&delete l["table_data_copy"];let a,o=new FormData;o.append("data",JSON.stringify(l));try{if(o.append("org_id",(0,ut.I)()),a=yield De.A.post(Ie.FH.save_table_train_data+this.record.doc_id,o,{headers:{Authorization:"Bearer "+this.token}}),!1===a.data.success)throw{message:a.data.message};e&&this.autoDetectTables()}catch(i){if(logError(i),null!=i&&"object"==typeof i&&i.hasOwnProperty("message"))return void this.showErrorToast(this.$t("pages.messages.error_internal_occur"));this.showErrorToast(i)}finally{this.hideLoading()}}))},addMappingFlag(){let e="";return!this.$route.query||"true"!==this.$route.query.get_mapping_rules&&"false"!==this.$route.query.get_mapping_rules||(e=this.$route.query.get_mapping_rules),e},rulesDeleted(){this.ai_rules=0;const e=new CustomEvent("TE_gauge_calculation",{detail:{min_table_effective_weight:0}});document.dispatchEvent(e)},callSplitTextAction(e){this.performSplitText(e)},performSplitText(e){return _o(this,void 0,void 0,(function*(){e&&this.record&&this.record.tables&&(this.split_text=!0===e.detail,this.prepareTableMap(this.record.tables[0].locations_list),this.addExtractedColumns(),yield this.saveTableCoordinates("add_split_text"))}))},addExtractedColumns(){if(this.extracted_columns&&0!==Object.keys(this.extracted_columns).length)for(let[e,t]of Object.entries(this.extracted_columns))t=this.sortNumbericArray(t),e=e.substring(5),this.addColumnsToTableMap(t,e)},saveDataOnChanges(){if(!0!==this.table_train){if(!this.isReadOnly){const e=new CustomEvent("save_data",{});document.dispatchEvent(e)}}else this.saveDataForV3()},disabledCustomColumnsDialog(){const e=new CustomEvent("open_disabled_custom_columns_view",{});document.dispatchEvent(e)},isDebugFlagHandler(){this.is_debug=!1,this.$route.query&&"true"===this.$route.query.is_debug&&(this.is_debug=!0)},viewOCRDocument(){let e=this.$router.resolve({path:"/ocr-document/"+this.docId+"/"+this.page});window.open(e.href,"_blank","location=yes,toolbar=yes,scrollbars=yes,resizable=yes,left=500,width=1500,height=1000")},changeOrigin(){this.saveTableCoordinates("doc_locale"),this.changeOriginConfirmDialog=!1},fetchLanguageOptions(){return _o(this,void 0,void 0,(function*(){let e;try{let t=this.getToken();e=yield De.A.get((0,ut.MV)(Ie.FH.get_items_from_dictionary+"DOC_ORIGIN"),{headers:{Authorization:t}})}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(t)}if(e.data&&0!==Object.keys(e.data).length){this.language_origin_list=[];for(const t in e.data){let l=e.data[t],a=l.description?l.description:"";this.language_origin_list.push(Object.assign({},{value:l.value,label:l.label,description:a.replaceAll("\\n","<br />")}))}(0,Bt._Y)("language_origin_list",this.language_origin_list),this.setLanguage()}}))},setLanguage(){this.force_ocr_table_train=!1;const e=this.record.doc_origin;e&&(this.languageOrigin=e)},isOcrButtonEnabled(){let e=!0;if(this.record.time_logs){const t=this.record.time_logs.ocr,l=this.record.time_logs.ocr_document;(l||t)&&(e=!1)}return e},clearViewForUnmount(){this.ignore_token_validation=!1}},beforeRouteLeave:function(e,t,l){this.removeAllNotifications(),this.releaseDocLock({doc_id:this.record.doc_id}),this.page=1,this.resetDocStore(e.fullPath),l()},setup(){const e=(0,dt.q3)(),{record:t,notifications:l,error:a,confirmationForPoConnectionReset:o,get_cached_data_id:i,extractable:s,has_ai_table:n,is_manual_training_allowed:r,doctype:d,po_enable:u}=(0,Te.bP)(e),{getDocumentById:c,setRecordFromCache:p,setDataToCache:h,removeCache:m,resetDocStore:_,setManualTraining:b}=e,v=(0,dt.oI)(),{releaseDocLock:g,hasActionAcquiredLock:f,setDocLockStoreDisable:y}=v,{doc_lock:k}=(0,Te.bP)(v),w=(0,dt._6)(),{token:C,tokenQueryParam:x,ignore_token_validation:L}=(0,Te.bP)(w),{setAuthToken:F,getTokenQueryParam:E}=w;let A=[];return{po_enable:u,doctype:d,is_manual_training_allowed:r,setManualTraining:b,has_ai_table:n,confirmationForPoConnectionReset:o,doc_fetch_error:(0,Pe.KR)(a),notifications:l,record:t,get_cached_data_id:i,extractable:s,setDocLockStoreDisable:y,hasActionAcquiredLock:f,setRecordFromCache:p,getDocumentById:c,releaseDocLock:g,setDataToCache:h,resetDocStore:_,setAuthToken:F,removeCache:m,token:C,doc_lock:k,docId:(0,Pe.KR)(""),page:(0,Pe.KR)(1),image:(0,Pe.KR)(""),images:(0,Pe.KR)(A),splitterModel:(0,Pe.KR)(60),tableAreasStr:(0,Pe.KR)(""),isReadOnly:(0,Pe.KR)(!1),isRowMode:(0,Pe.KR)(!1),baseUrl:Ie.VA,table_train:(0,Pe.KR)(!1),tb_version:"default",training_mode:(0,Pe.KR)(!1),ai_rules:(0,Pe.KR)(0),ai_tables:(0,Pe.KR)(0),extracted_columns:(0,Pe.KR)({}),isExtractedColumnMode:(0,Pe.KR)(!1),openCodeEditor:(0,Pe.KR)(!1),split_text:(0,Pe.KR)(!1),is_debug:(0,Pe.KR)(!1),changeOriginConfirmDialog:(0,Pe.KR)(!1),language_origin_list:A,languageOrigin:(0,Pe.KR)(""),force_ocr_table_train:(0,Pe.KR)(!1),trigger_document_lock:(0,Pe.KR)(!1),document_version:(0,Pe.KR)(0),api_tries:(0,Pe.KR)(0),error_message:(0,Pe.KR)(""),error_class:(0,Pe.KR)("error-banner"),ai_table_warning:(0,Pe.KR)(!1),tokenQueryParam:x,getTokenQueryParam:E,ignore_token_validation:L}}});var ko=l(98072),wo=l(66908),Co=l(93676);const xo=(0,ht.A)(yo,[["render",Se],["__scopeId","data-v-182b6177"]]),Lo=xo;kt()(yo,"components",{QBtn:Et.A,QIcon:La.A,QSplitter:ko.A,QTooltip:At.A,QToggle:wo.A,QSelect:Ia.A,QItem:It.A,QItemSection:Tt.A,QItemLabel:Ot.A,QDialog:mt.A,QCard:_t.A,QCardSection:bt.A,QAvatar:vt.A,QCardActions:gt.A,QSpace:Co.A}),kt()(yo,"directives",{ClosePopup:ft.A})},59473:(e,t,l)=>{"use strict";l.d(t,{A:()=>v});var a=l(61758),o=l(58790);const i={class:"container no-padding"},s={class:"row full-width secondary-c-text q-pt-md q-pb-md"},n={class:"col-6 pl-20"},r={style:{"vertical-align":"middle","margin-left":"10px","font-size":"20px",cursor:"pointer"}},d={class:"col-6 pr-22"};function u(e,t,l,u,c,p){const h=(0,a.g2)("q-icon"),m=(0,a.g2)("f-btn");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",s,[(0,a.Lk)("div",n,[(0,a.bF)(m,{appearance:"tertiary",to:e.back_to_rotue},{default:(0,a.k6)((()=>[(0,a.bF)(h,{name:"fa-solid fa-circle-arrow-left",size:"sm"}),(0,a.Lk)("label",r,(0,o.v_)(e.$t("pages.settings.supplier_validation")),1)])),_:1},8,["to"])]),(0,a.Lk)("div",d,[(0,a.RG)(e.$slots,"default")])])])}const c=(0,a.pM)({props:{back_to_rotue:{type:String,default:"/settings/master-data"},create_new_btn:{type:String,default:""}}});var p=l(12807),h=l(50492),m=l(98582),_=l.n(m);const b=(0,p.A)(c,[["render",u]]),v=b;_()(c,"components",{QIcon:h.A})},25773:(e,t,l)=>{"use strict";l.d(t,{A:()=>g});var a=l(61758),o=l(58790);const i={class:"container no-padding"},s={class:"row full-width secondary-c-text q-pt-sm q-pb-sm"},n={key:0,class:"col-6 pl-20"},r={style:{"vertical-align":"middle","margin-left":"10px","font-size":"20px",cursor:"pointer"}};function d(e,t,l,d,u,c){const p=(0,a.g2)("q-icon"),h=(0,a.g2)("f-btn"),m=(0,a.g2)("q-btn");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",s,[e.is_visible?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(h,{appearance:"tertiary",to:e.back_to_rotue},{default:(0,a.k6)((()=>[(0,a.bF)(p,{name:"fa-solid fa-circle-arrow-left",size:"sm"}),(0,a.Lk)("label",r,(0,o.v_)(e.$t(e.label)),1)])),_:1},8,["to"])])):(0,a.Q3)("",!0),(0,a.Lk)("div",{class:(0,o.C4)(["pr-22",e.is_visible?"col-6":"col-12"])},[(0,a.RG)(e.$slots,"default"),e.create_new_btn?((0,a.uX)(),(0,a.Wv)(m,{key:0,color:"primary",class:"float-right q-ml-sm",icon:"add",to:e.create_new_btn,label:e.$t("new")},null,8,["to","label"])):(0,a.Q3)("",!0)],2)])])}var u=l(60455);const c=(0,a.pM)({setup(){const e=(0,u.lq)();let t=!0;return e.meta.primary_breadcrumbs&&(t=!1),{route:e,is_visible:t}},props:{back_to_rotue:{type:String,default:"/setting"},create_new_btn:{type:String,default:""},label:{type:String,default:"layout.settings"}}});var p=l(12807),h=l(50492),m=l(56384),_=l(98582),b=l.n(_);const v=(0,p.A)(c,[["render",d]]),g=v;b()(c,"components",{QIcon:h.A,QBtn:m.A})},38181:(e,t,l)=>{"use strict";l.d(t,{A:()=>_});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-item-section"),d=(0,a.g2)("q-item"),u=(0,a.g2)("q-list"),c=(0,a.g2)("q-btn-dropdown");return(0,a.uX)(),(0,a.Wv)(c,{dense:"","no-caps":"",ref:"tokenRef","no-wrap":"",unelevated:"",label:"Properties",size:"sm",icon:"list"},{default:(0,a.k6)((()=>[e.filteredDataKey.length?((0,a.uX)(),(0,a.Wv)(u,{key:0,dense:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.filteredDataKey,(t=>((0,a.uX)(),(0,a.Wv)(d,{key:t.index,tag:"label",clickable:"",onClick:l=>e.insertKey(t.key)},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):((0,a.uX)(),(0,a.Wv)(u,{key:1},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)(" No properties available ")])),_:1})])),_:1})])),_:1}))])),_:1},512)}const s=(0,a.pM)({el:"#app",components:{},props:{editorRef:{},filteredDataKey:{type:Array,default:()=>[]}},methods:{insertKey(e){var t;null===(t=this.editorRef)||void 0===t||t.runCmd("insertHTML",`{{${e}}}`)}}});var n=l(12807),r=l(18301),d=l(53999),u=l(90124),c=l(25173),p=l(98582),h=l.n(p);const m=(0,n.A)(s,[["render",i]]),_=m;h()(s,"components",{QBtnDropdown:r.A,QList:d.A,QItem:u.A,QItemSection:c.A})},29508:(e,t,l)=>{"use strict";l.d(t,{A:()=>Y});var a=l(61758),o=l(29104),i=l(58790);const s={class:"text-weight-bold text-white"},n={class:"q-pl-md q-pr-md q-pt-md"},r={class:"text-item"},d={key:0,class:"float-right q-pl-md"},u={key:0,style:{"text-wrap":"wrap"}},c={key:1,style:{"text-wrap":"wrap"},class:"max-width-100"},p={class:"q-mt-md row full-width"},h=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function m(e,t,l,m,_,b){const v=(0,a.g2)("q-toolbar-title"),g=(0,a.g2)("q-btn"),f=(0,a.g2)("q-toolbar"),y=(0,a.g2)("q-input"),k=(0,a.g2)("ColumnOrderBy"),w=(0,a.g2)("q-th"),C=(0,a.g2)("q-tr"),x=(0,a.g2)("q-td"),L=(0,a.g2)("q-icon"),F=(0,a.g2)("q-table"),E=(0,a.g2)("q-pagination"),A=(0,a.g2)("q-card-section"),S=(0,a.g2)("q-inner-loading"),D=(0,a.g2)("q-card"),I=(0,a.g2)("q-dialog");return(0,a.uX)(),(0,a.Wv)(I,{modelValue:e.show_popup,"onUpdate:modelValue":t[3]||(t[3]=t=>e.show_popup=t),onShow:e.BeforePopupShow,onKeydown:(0,o.jR)(e.cleanupOnhide,["esc"]),onHide:e.cleanupOnhide},{default:(0,a.k6)((()=>[(0,a.bF)(D,{style:{width:"75%","max-width":"75%","text-wrap":"wrap"}},{default:(0,a.k6)((()=>[(0,a.bF)(f,{class:"secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",s,(0,i.v_)(e.$t("pages.import.import_log")),1)])),_:1}),(0,a.bF)(g,{flat:"",round:"",dense:"",icon:"close",color:"white",onClick:e.cleanupOnhide},null,8,["onClick"])])),_:1}),(0,a.bF)(A,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.bF)(y,{outlined:"",dense:"",modelValue:e.filter,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.filter=t),e.applyFilter],placeholder:"Filter by Subject or Sender",debounce:"300",class:"q-mb-sm",style:{width:"25%"}},null,8,["modelValue","onUpdate:modelValue"]),(0,a.bF)(F,{class:"dashboard-table-style back-white","rows-per-page-options":[11],rows:e.rows,columns:e.columns,"row-key":"id","table-header-class":"table-header-text","hide-bottom":"","no-data-label":e.$t("no_data_found"),flat:"","no-results-label":"The filter didn't uncover any results",style:{overflow:"auto",height:"600px","text-wrap":"wrap"},"wrap-cells":"",id:"import_log_table"},{header:(0,a.k6)((t=>[(0,a.bF)(C,{props:t},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,((l,s)=>((0,a.uX)(),(0,a.Wv)(w,{key:l.name,props:t,"data-index":s,draggable:e.canDragDropColumn(l),dropzone:e.canDragDropColumn(l),direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.columns,s),onDrop:(0,o.D$)((t=>e.handleDrop(t,s)),["prevent"]),onDragover:(0,o.D$)((t=>e.onDragOver(t,s)),["prevent"]),onDragenter:(0,o.D$)(e.onDragEnter,["prevent"]),onDragleave:(0,o.D$)(e.onDragLeave,["prevent"]),style:(0,i.Tr)({cursor:e.getIsDragging?"pointer":"move"})},{default:(0,a.k6)((()=>[(0,a.Lk)("span",r,(0,i.v_)(e.$t(l.label)),1),"success"!==l.name?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(k,{column_name:l.name,order_by:e.default_order_by},null,8,["column_name","order_by"])])):(0,a.Q3)("",!0)])),_:2},1032,["props","data-index","draggable","dropzone","onDragstart","onDrop","onDragover","onDragenter","onDragleave","style"])))),128))])),_:2},1032,["props"]),0==e.rows.length?((0,a.uX)(),(0,a.Wv)(C,{key:0},{default:(0,a.k6)((()=>[(0,a.bF)(x,{colspan:"20",class:"text-center"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("no_data_found")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),body:(0,a.k6)((e=>[(0,a.bF)(C,{props:e,id:e.key},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.cols,(t=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t.name},["success"===t.name?((0,a.uX)(),(0,a.Wv)(x,{key:0},{default:(0,a.k6)((()=>[(0,a.bF)(L,{name:!0===e.row[t.name]?"check_circle":"cancel",color:!0===e.row[t.name]?"green":"red",size:"20px"},null,8,["name","color"])])),_:2},1024)):((0,a.uX)(),(0,a.Wv)(x,{key:1},{default:(0,a.k6)((()=>["message"===t.name?((0,a.uX)(),(0,a.CE)("span",u,(0,i.v_)(e.row[t.name]),1)):((0,a.uX)(),(0,a.CE)("span",c,(0,i.v_)(e.row[t.name]),1))])),_:2},1024))],64)))),128))])),_:2},1032,["props","id"])])),_:1},8,["rows","columns","no-data-label"]),(0,a.Lk)("div",p,[e.total_pages>1?((0,a.uX)(),(0,a.Wv)(E,{key:0,modelValue:e.current_page,"onUpdate:modelValue":t[1]||(t[1]=t=>e.current_page=t),max:e.total_pages,"max-pages":6,"direction-links":"",unelevated:"",color:"black","active-color":"black",class:"doc2-pagination q-mb-md q-ml-auto q-mr-auto",onClick:t[2]||(t[2]=t=>e.nexPageClicked())},null,8,["modelValue","max"])):(0,a.Q3)("",!0)])])])),_:1}),(0,a.bF)(S,{showing:e.loading,class:"z-index-1"},{default:(0,a.k6)((()=>[h])),_:1},8,["showing"])])),_:1})])),_:1},8,["modelValue","onShow","onKeydown","onHide"])}var _=l(38734),b=l(24622),v=l(11470),g=l(64775),f=l(18505),y=l(45022),k=l(10739);const w={class:"orderByParentSpan arrow-color"},C=["data-name"],x=["data-name"];function L(e,t,l,o,s,n){return(0,a.uX)(),(0,a.CE)("span",w,[(0,a.Lk)("span",{class:(0,i.C4)(["up-arrow orderBy-import-log absolute",e.is_order_by_selected("asc")?"selected":""]),"data-name":e.column_name,"data-direction":"asc",onClick:t[0]||(t[0]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,C),(0,a.Lk)("span",{class:(0,i.C4)(["down-arrow orderBy-import-log absolute",e.is_order_by_selected("desc")?"selected":""]),"data-name":e.column_name,"data-direction":"desc",onClick:t[1]||(t[1]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,x)])}var F=l(68450);const E=(0,a.pM)({mixins:[],props:{column_name:{type:String,required:!0},order_by:{type:Object,required:!1}},components:{},watch:{order_by:{deep:!0,handler:function(e,t){this.init()}}},mounted:function(){this.init()},unmounted:function(){},methods:{is_order_by_selected(e){return this.order_by_field==this.column_name&&this.order_by_direction==e},init(){0!==(0,F.Ns)(this.order_by)&&!(0,F.z)(this.order_by)&&this.order_by.hasOwnProperty("field_name")&&this.order_by.hasOwnProperty("direction")&&(this.order_by_field=this.order_by.field_name,this.order_by_direction=this.order_by.direction)},resetFilters(){let e=document.getElementsByClassName("orderBy-import-log selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},OrderBy(e){if(e.target.classList.contains("selected"))return;let t=e.target.dataset.direction,l=e.target.dataset.name;if(!t||!l)return void logError("ERROR: Orderby for field",l);e.target.classList.add("selected");const a=document.querySelectorAll(".orderBy-import-log");if(a.length){for(var o=0;o<a.length;o++){let e=a[o];(e.dataset.name!=l||e.dataset.name==l&&e.dataset.direction!=t)&&e.classList.remove("selected")}this.order_by_field=l,this.order_by_direction=t,this.triggerApplyFilters({field_name:this.order_by_field,direction:this.order_by_direction})}},triggerApplyFilters(e){const t=new CustomEvent("apply_import_filters",{detail:{orderBy:e}});document.dispatchEvent(t)}},setup(){return{order_by_field:(0,_.KR)(""),order_by_direction:(0,_.KR)("")}}});var A=l(12807);const S=(0,A.A)(E,[["render",L],["__scopeId","data-v-50e85204"]]),D=S;var I=l(46736),T=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const O=(0,a.pM)({mixins:[b.A,f.A,k.A,I.A],props:{setheight:{type:String,required:!0},connection_id:{type:Number,required:!1},show_import_logs:{type:Boolean,required:!1}},components:{ColumnOrderBy:D},watch:{show_import_logs(e,t){e!=t&&1==e&&(this.show_popup=e,this.checkConnectionLogs())}},computed:{},mounted:function(){this.init(),this.initDragDropColumns("import_log_table","label"),document.addEventListener("import_log_table-column-drop",this.onDropColumns),document.addEventListener("apply_import_filters",this.handleApplyFilters)},unmounted:function(){document.removeEventListener("import_log_table-column-drop",this.onDropColumns),document.removeEventListener("apply_import_filters",this.handleApplyFilters),this.cleanupOnhide()},methods:{init(){this.prepareColumns()},onDropColumns(){y.A.set("IMPORT_LOG_SETTING_COLUMNS",JSON.stringify(this.columns))},checkConnectionLogs(){try{this.selected_order_by_direction=this.default_order_by.direction,this.selected_order_by=this.default_order_by.field_name,this.resetPagination(),this.getDataFromServer()}catch(e){const t=g.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}},BeforePopupShow(){const e=new CustomEvent("advancedSettingsClose");document.dispatchEvent(e)},getDataFromServer(){return T(this,void 0,void 0,(function*(){try{this.loading=!0,this.request_params={},this.request_params["offset"]=this.offset,this.request_params["limit"]=this.page_size,0!=this.connection_id&&(this.request_params["connection_id"]=this.connection_id,this.request_params["connection_type"]="email_import"),((0,F.z)(this.selected_order_by)||(0,F.z)(this.selected_order_by_direction))&&(this.selected_order_by_direction=this.default_order_by.direction,this.selected_order_by=this.default_order_by.field_name),this.request_params["order_by_direction"]=this.selected_order_by_direction,this.request_params["order_by_field"]=this.selected_order_by,this.request_params["filter"]=this.filter;const e=yield v.D.fetchImportLogs(this.request_params);if(!1===e.success)throw{message:e.message};this.total_records=e.element_count,this.setTotalPages(),this.prepareRows(e.data)}catch(e){const t=g.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},prepareRows(e){this.rows=[],Array.from(e).forEach((e=>{let t=e;t["success_count"]>0?t["success"]=!0:t["success"]=!1,this.addNewRow(t)}))},addNewRow(e){let t=Object.assign({},e);return t["date"]=this.formatDateAccordingToPreference(e["date"]),this.rows.push(t),this.rows.length.toString()},resetPagination(){this.offset=0,this.total_pages=0,this.current_page=1,this.total_records=0},setTotalPages(){this.total_pages=Math.ceil(this.total_records/this.page_size)},nexPageClicked(){return T(this,void 0,void 0,(function*(){try{this.calculateOffset(),yield this.getDataFromServer()}catch(e){const t=g.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}}))},calculateOffset(){this.offset=this.page_size*(this.current_page-1)},prepareColumns(){this.columns=[],this.columns.push({name:"success",label:"status",field:"status",align:"left"}),this.columns.push({name:"subject",label:"pages.import.emaillog.subject",field:"subject",align:"left"}),this.columns.push({name:"sender",label:"pages.import.emaillog.sender",field:"sender",align:"left"}),this.columns.push({name:"date",label:"pages.import.emaillog.arrived_at",field:"date",align:"left"}),this.columns.push({name:"success_count",label:"pages.import.emaillog.doc_count",field:"success_count",align:"left"}),this.columns.push({name:"failed_count",label:"pages.import.emaillog.failed_count",field:"failed_count",align:"left"}),this.columns.push({name:"failed_filenames",label:"pages.import.emaillog.filename",field:"failed_filenames",align:"left"});const e=y.A.getItem("IMPORT_LOG_SETTING_COLUMNS");e&&(this.columns=JSON.parse(e))},cleanupOnhide(){this.show_popup=!1,this.resetPagination(),document.dispatchEvent(new CustomEvent("remove_advanced_settings_pop_up")),document.dispatchEvent(new CustomEvent("hide_import_logs"))},handleApplyFilters(e){const{orderBy:t}=e.detail;this.resetPagination(),this.selected_order_by=t.field_name,this.selected_order_by_direction=t.direction,this.getDataFromServer()},applyFilter(){this.resetPagination(),this.getDataFromServer()}},data(){return{default_order_by:{field_name:"date",direction:"desc"}}},setup(){return{loading:(0,_.KR)(!1),request_params:(0,_.KR)({}),selected_order_by:(0,_.KR)(),selected_order_by_direction:(0,_.KR)(),current_page:(0,_.KR)(1),total_pages:(0,_.KR)(0),offset:(0,_.KR)(0),page_size:(0,_.KR)(10),total_records:(0,_.KR)(0),show_popup:(0,_.KR)(!1),columns:(0,_.KR)([]),rows:(0,_.KR)([]),filter:(0,_.KR)("")}}});var M=l(82156),R=l(23316),P=l(36914),q=l(39150),V=l(56384),N=l(44189),B=l(67837),$=l(42315),Q=l(44488),X=l(57722),W=l(45262),K=l(50492),U=l(54700),j=l(39035),z=l(98582),H=l.n(z);const G=(0,A.A)(O,[["render",m]]),Y=G;H()(O,"components",{QDialog:M.A,QCard:R.A,QToolbar:P.A,QToolbarTitle:q.A,QBtn:V.A,QCardSection:N.A,QInput:B.A,QTable:$.A,QTr:Q.A,QTh:X.A,QTd:W.A,QIcon:K.A,QPagination:U.A,QInnerLoading:j.A})},90406:(e,t,l)=>{"use strict";l.d(t,{A:()=>q});var a=l(61758),o=l(58790);const i={class:"text-weight-bold"},s={class:"row"},n={class:"col-sm-6 col-md-6 col-lg-6 q-pa-sm"},r={class:"col-sm-6 col-md-6 col-lg-6 q-pa-sm"},d={class:"col-sm-6 col-md-6 col-lg-6 q-pa-sm"},u={class:"col-sm-6 col-md-6 col-lg-6 q-pa-sm"},c={class:"col-sm-6 col-md-6 col-lg-6 q-pa-sm"},p={class:"col-sm-6 col-md-6 col-lg-6 q-pa-sm"};function h(e,t,l,h,m,_){const b=(0,a.g2)("q-toolbar-title"),v=(0,a.g2)("q-btn"),g=(0,a.g2)("q-toolbar"),f=(0,a.g2)("q-input"),y=(0,a.g2)("q-icon"),k=(0,a.g2)("q-file"),w=(0,a.g2)("q-select"),C=(0,a.g2)("q-checkbox"),x=(0,a.g2)("q-card-section"),L=(0,a.g2)("f-btn"),F=(0,a.g2)("q-card-actions"),E=(0,a.g2)("q-card"),A=(0,a.g2)("Loader"),S=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(E,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",i,(0,o.v_)(e.$t("upload_csv")),1)])),_:1}),(0,a.bo)((0,a.bF)(v,{flat:"",round:"",dense:"",icon:"close"},null,512),[[S]])])),_:1}),(0,a.bF)(x,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",s,[(0,a.Lk)("div",n,[(0,a.bF)(f,{outlined:"",dense:"",modelValue:e.data_type,"onUpdate:modelValue":t[0]||(t[0]=t=>e.data_type=t),label:e.$t("data_type")},null,8,["modelValue","label"])]),(0,a.Lk)("div",r,[(0,a.bF)(k,{outlined:"",dense:"",modelValue:e.file,"onUpdate:modelValue":t[1]||(t[1]=t=>e.file=t),label:e.$t("file")},{prepend:(0,a.k6)((()=>[(0,a.bF)(y,{name:"cloud_upload"})])),_:1},8,["modelValue","label"])]),(0,a.Lk)("div",d,[(0,a.bF)(w,{dense:"","emit-value":"","map-options":"",outlined:"",modelValue:e.delimiter,"onUpdate:modelValue":t[2]||(t[2]=t=>e.delimiter=t),options:e.delimiterList,label:e.$t("delimiter")},null,8,["modelValue","options","label"])]),(0,a.Lk)("div",u,[(0,a.bF)(w,{dense:"","emit-value":"","map-options":"",outlined:"",modelValue:e.on_conflict,"onUpdate:modelValue":t[3]||(t[3]=t=>e.on_conflict=t),options:e.onConflictOptions,label:e.$t("on_conflict")},null,8,["modelValue","options","label"])]),(0,a.Lk)("div",c,[(0,a.bF)(C,{modelValue:e.replace_all,"onUpdate:modelValue":t[4]||(t[4]=t=>e.replace_all=t),label:e.$t("replace_all")},null,8,["modelValue","label"])]),(0,a.Lk)("div",p,[(0,a.bF)(C,{modelValue:e.auto_generate_id,"onUpdate:modelValue":t[5]||(t[5]=t=>e.auto_generate_id=t),label:e.$t("auto_generate_id")},null,8,["modelValue","label"])])])])),_:1}),(0,a.bF)(F,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(L,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[S]]),(0,a.bF)(L,{label:e.$t("upload"),onClick:t[6]||(t[6]=t=>e.uploadFile()),class:"q-mr-sm"},null,8,["label"])])),_:1})])),_:1}),(0,a.bF)(A)],64)}var m=l(24622),_=l(38734),b=l(89156),v=l(18505),g=l(11470),f=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const y=(0,a.pM)({mixins:[v.A,m.A],name:"upload-csv",components:{Loader:b.A},data(){return{file:(0,_.KR)(),data_type:(0,_.KR)(""),delimiter:(0,_.KR)(";"),on_conflict:(0,_.KR)("REPLACE"),replace_all:(0,_.KR)(!1),auto_generate_id:(0,_.KR)(!1)}},methods:{uploadFile(){return f(this,void 0,void 0,(function*(){if(this.data_type)if(this.file)try{this.showLoading();let e=new FormData;e.append("file",this.file),e.append("data_type",this.data_type),e.append("delimiter",this.delimiter),e.append("on_conflict",this.on_conflict),e.append("replace_all",String(this.replace_all)),e.append("auto_generate_id",String(this.auto_generate_id)),yield g.SY.importMasterData(e)}catch(e){logInfo(e,"error")}finally{this.hideLoading()}else this.showErrorToast("Please select a file");else this.showErrorToast("Data type is mandatory")}))}},setup(){return{delimiterList:(0,_.KR)([{label:";",value:";"},{label:",",value:","}]),onConflictOptions:(0,_.KR)([{label:"REPLACE",value:"REPLACE"},{label:"IGNORE",value:"IGNORE"}])}}});var k=l(12807),w=l(23316),C=l(36914),x=l(39150),L=l(56384),F=l(44189),E=l(67837),A=l(99980),S=l(50492),D=l(94940),I=l(80460),T=l(62669),O=l(88672),M=l(98582),R=l.n(M);const P=(0,k.A)(y,[["render",h],["__scopeId","data-v-23e51212"]]),q=P;R()(y,"components",{QCard:w.A,QToolbar:C.A,QToolbarTitle:x.A,QBtn:L.A,QCardSection:F.A,QInput:E.A,QFile:A.A,QIcon:S.A,QSelect:D.A,QCheckbox:I.A,QCardActions:T.A}),R()(y,"directives",{ClosePopup:O.A})},77973:(e,t,l)=>{"use strict";l.d(t,{A:()=>M});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-6b0d5edc"),e=e(),(0,a.jt)(),e),s={class:"text-weight-bold"},n={style:{"text-align":"left"}},r=i((()=>(0,a.Lk)("th",{style:{width:"5%"}},null,-1))),d={style:{width:"4%"}},u={key:0,class:"text-center"},c={colspan:"4"},p=i((()=>(0,a.Lk)("img",{class:"inner-loader",src:"images/loader.gif",alt:"Loading..."},null,-1)));function h(e,t,l,i,h,m){const _=(0,a.g2)("q-toolbar-title"),b=(0,a.g2)("q-btn"),v=(0,a.g2)("q-toolbar"),g=(0,a.g2)("f-btn"),f=(0,a.g2)("q-card-section"),y=(0,a.g2)("q-tooltip"),k=(0,a.g2)("q-inner-loading"),w=(0,a.g2)("q-markup-table"),C=(0,a.g2)("q-card"),x=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(C,{style:{"min-width":"55vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(v,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",s,(0,o.v_)(e.$t("pages.custom_master_data.custom_master_data")),1)])),_:1}),(0,a.bo)((0,a.bF)(b,{flat:"",round:"",dense:"",icon:"close"},null,512),[[x]])])),_:1}),(0,a.bF)(f,{class:"row"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{class:"float-right q-ml-auto q-mr-sm",icon:"add",to:"/settings/data-validation/create-preset",label:e.$t("pages.custom_master_data.create_template")},null,8,["label"]),(0,a.bF)(g,{label:e.$t("pages.custom_master_data.create_endpoint"),icon:"add",to:"/settings/data-validation/create"},null,8,["label"])])),_:1}),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(w,{class:"sticky-column-for-table q-table-seperator white-back",flat:"",bordered:"",dense:""},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",n,[(0,a.Lk)("th",null,(0,o.v_)(e.$t("name")),1),(0,a.Lk)("th",null,(0,o.v_)(e.$t("doc_type_classification_method")),1),(0,a.Lk)("th",null,(0,o.v_)(e.$t("pages.custom_master_data.application_type")),1),r])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.custom_records,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:t},[(0,a.Lk)("td",null,(0,o.v_)(t["data_key"]),1),(0,a.Lk)("td",null,(0,o.v_)(t["method"]),1),(0,a.Lk)("td",null,(0,o.v_)(t["body_type"]),1),(0,a.Lk)("td",d,[(0,a.bF)(b,{round:"",dense:"",flat:"",icon:"edit",onClick:e=>m.editRecord(t)},{default:(0,a.k6)((()=>[(0,a.bF)(y,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("edit")),1)])),_:1})])),_:2},1032,["onClick"]),(0,a.bF)(b,{round:"",dense:"",flat:"",icon:"refresh",onClick:e=>m.triggerRecord(t)},{default:(0,a.k6)((()=>[(0,a.bF)(y,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.custom_master_data.trigger_endpoint")),1)])),_:1})])),_:2},1032,["onClick"]),(0,a.bF)(b,{round:"",dense:"",flat:"",color:"red",icon:"delete",onClick:e=>m.deleteRecord(t,l)},{default:(0,a.k6)((()=>[(0,a.bF)(y,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete")),1)])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==i.custom_records.length?((0,a.uX)(),(0,a.CE)("tr",u,[(0,a.Lk)("th",c,(0,o.v_)(e.$t("pages.messages.no_record_found")),1)])):(0,a.Q3)("",!0)]),(0,a.bF)(k,{showing:i.loading},{default:(0,a.k6)((()=>[p])),_:1},8,["showing"])])),_:1})])),_:1})])),_:1})}l(10239);var m=l(1659),_=l(24622),b=l(64775),v=l(18505),g=l(83319);const f={mixins:[v.A,_.A],name:"MasterDataListPopUp",data(){return{}},methods:{editRecord(e){this.$router.push("data-validation/create/"+e.id)},async deleteRecord(e,t){await this.deleteCustomRecord(e.id,t).then((()=>{this.showSuccessToast(this.$t("pages.messages.DELETED_SUCCESSFULLY"))}))},async triggerRecord(e){try{await this.triggerCustomRecord(e.id),this.showSuccessToast(this.$t("pages.custom_master_data.triggered_successfully"))}catch(t){const e=b.t.getErrorMessage(t);this.loading=!1,this.showErrorToast(e)}finally{this.loading=!1}}},setup(){const e=(0,g.kH)(),{sub_org_id:t}=(0,m.bP)(e),l=(0,g.rD)(),{custom_records:a,endpoint_information:o,mode:i,loading:s}=(0,m.bP)(l),{deleteCustomRecord:n,triggerCustomRecord:r}=l;return{mode:i,sub_org_id:t,endpoint_information:o,loading:s,triggerCustomRecord:r,deleteCustomRecord:n,custom_records:a}}};var y=l(12807),k=l(23316),w=l(36914),C=l(39150),x=l(56384),L=l(44189),F=l(857),E=l(42315),A=l(97410),S=l(39035),D=l(88672),I=l(98582),T=l.n(I);const O=(0,y.A)(f,[["render",h],["__scopeId","data-v-6b0d5edc"]]),M=O;T()(f,"components",{QCard:k.A,QToolbar:w.A,QToolbarTitle:C.A,QBtn:x.A,QCardSection:L.A,QMarkupTable:F.A,QTable:E.A,QTooltip:A.A,QInnerLoading:S.A}),T()(f,"directives",{ClosePopup:D.A})},36207:(e,t,l)=>{"use strict";l.d(t,{A:()=>m});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(n,{modelValue:e.selectedSubOrg,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.selectedSubOrg=t),t[1]||(t[1]=t=>{e.selectSubOrg(t)})],options:e.subOrgOptions,outlined:"",dense:"",label:e.$t("pages.custom_master_data.select_sub_org")},null,8,["modelValue","options","label"])}var i=l(38734),s=l(68130),n=l(83319);const r=(0,a.pM)({mounted(){this.getDropDownData()},methods:{selectSubOrg(e){this.endpoint_information.sub_org_id=e.value},selectDefault(){const e=this.endpoint_information.sub_org_id;this.subOrgOptions.find((t=>t.value===e?(this.selectedSubOrg=t,!0):(this.selectedSubOrg=this.subOrgOptions[0],!1)))},getDropDownData(){const e=s.E.getSubOrgs();this.subOrgOptions.push({label:"All",value:""}),e.forEach((e=>{this.subOrgOptions.push({label:e.name,value:e.id})})),this.selectDefault()}},name:"subOrgSelect",setup(){const e=(0,n.rD)(),{endpoint_information:t}=e;return{subOrgOptions:(0,i.KR)([]),selectedSubOrg:(0,i.KR)(""),modelValue:"",endpoint_information:t}}});var d=l(12807),u=l(94940),c=l(98582),p=l.n(c);const h=(0,d.A)(r,[["render",o]]),m=h;p()(r,"components",{QSelect:u.A})},20394:(e,t,l)=>{"use strict";l.d(t,{A:()=>D});var a=l(61758),o=l(58790);const i={class:"masterdata-tab-subheader"},s={style:{"text-align":"left"}},n=(0,a.Lk)("th",{style:{width:"5%"}},null,-1),r={style:{width:"4%"}};function d(e,t,l,d,u,c){const p=(0,a.g2)("q-input"),h=(0,a.g2)("q-select"),m=(0,a.g2)("f-btn"),_=(0,a.g2)("q-spinner-hourglass"),b=(0,a.g2)("subOrgSelect"),v=(0,a.g2)("q-card-section"),g=(0,a.g2)("q-icon"),f=(0,a.g2)("q-btn"),y=(0,a.g2)("q-markup-table"),k=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("span",i,(0,o.v_)(e.$t("pages.custom_master_data.select_table_columns")),1),(0,a.bF)(k,{flat:"",bordered:"",class:"page-background"},{default:(0,a.k6)((()=>[(0,a.bF)(v,{class:"row"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{modelValue:e.endpoint_information["column_name"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.endpoint_information["column_name"]=t),outlined:"",class:"masterdata-column-input",label:e.$t("pages.custom_master_data.column_name"),dense:""},null,8,["modelValue","label"]),e.extracted_fields.length>0?((0,a.uX)(),(0,a.Wv)(h,{key:0,modelValue:e.endpoint_information["column_value_name"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.endpoint_information["column_value_name"]=t),outlined:"",multiple:"",options:e.extracted_fields,class:"masterdata-column-input",label:e.$t("pages.custom_master_data.column_value_name"),dense:""},null,8,["modelValue","options","label"])):((0,a.uX)(),(0,a.Wv)(p,{key:1,modelValue:e.endpoint_information["column_value_name"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.endpoint_information["column_value_name"]=t),outlined:"",class:"masterdata-column-input",label:e.$t("pages.custom_master_data.column_value_name"),dense:""},null,8,["modelValue","label"])),(0,a.bF)(m,{label:e.$t("doc2light.pages.add"),style:{height:"40px"},onClick:e.addColumnToTable,loading:e.loading,loadinglabel:e.$t("pages.custom_master_data.loading")},null,8,["label","onClick","loading","loadinglabel"]),(0,a.bF)(m,{label:e.$t("pages.custom_master_data.test_extraction"),style:{height:"40px"},appearance:"tertiary",class:"q-ml-sm",onClick:e.testExtraction,loading:e.loading,loadinglabel:e.$t("pages.custom_master_data.loading")},{loading:(0,a.k6)((()=>[(0,a.bF)(_)])),_:1},8,["label","onClick","loading","loadinglabel"]),(0,a.bF)(b,{class:"q-ml-sm min-width-140"})])),_:1}),(0,a.bF)(v,{class:"row"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{modelValue:e.formatted_response_textarea,"onUpdate:modelValue":t[3]||(t[3]=t=>e.formatted_response_textarea=t),borderless:"",class:"masterdata-create-table-original half-text-field-input",autogrow:"",readonly:""},null,8,["modelValue"]),(0,a.bF)(y,{class:"sticky-column-for-table q-table-seperator white-back",style:{"max-height":"25vh","overflow-y":"auto",width:"50%"},flat:"",bordered:"",dense:""},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",s,[(0,a.Lk)("th",null,(0,o.v_)(e.$t("Key")),1),(0,a.Lk)("th",null,(0,o.v_)(e.$t("value")),1),n])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.column_paths,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:t},[(0,a.Lk)("td",null,(0,o.v_)(t["key"]),1),(0,a.Lk)("td",null,(0,o.v_)(t["value"]),1),(0,a.Lk)("td",r,[(0,a.bF)(f,{round:"",dense:"",flat:"",color:"red",onClick:t=>e.removeColumnFromTable(l)},{default:(0,a.k6)((()=>[(0,a.bF)(g,{name:"delete"})])),_:2},1032,["onClick"])])])))),128))])])),_:1}),(0,a.bF)(p,{modelValue:this.endpoint_information["validated_response_textarea"],"onUpdate:modelValue":t[4]||(t[4]=e=>this.endpoint_information["validated_response_textarea"]=e),borderless:"",class:"masterdata-create-table-original q-mt-md half-text-field-input",autogrow:"",readonly:""},null,8,["modelValue"])])),_:1})])),_:1})],64)}l(10239);var u=l(1659),c=l(24622),p=l(38734),h=l(64775),m=l(36207),_=l(83319);const b=(0,a.pM)({name:"xmlTablePath",mixins:[c.A],components:{subOrgSelect:m.A},props:{type:{type:String,default:"record"}},mounted(){this.getFieldsFromXmlJson()},methods:{removeColumnFromTable(e){this.column_paths.splice(e,1)},async testExtraction(){try{this.loading=!0,await this.testDataExtraction(this.type)}catch(e){const t=h.t.getErrorMessage(e);this.loading=!1,this.showErrorToast(t)}finally{this.loading=!1}},addColumnToTable(){try{if(0===this.column_paths.length&&"id"!=this.endpoint_information["column_name"].toLowerCase())return void this.showErrorToast(this.$t("pages.custom_master_data.column_id_required"));let e="";this.endpoint_information["column_value_name"].forEach(((t,l)=>{this.endpoint_information["column_value_name"].length-1===l?e+=t:e+=t+", "})),this.column_paths.push({key:this.endpoint_information["column_name"],value:e}),this.endpoint_information["column_name"]="",this.endpoint_information["column_value_name"]=[]}catch(e){const t=h.t.getErrorMessage(e);this.loading=!1,this.showErrorToast(t)}finally{this.loading=!1}},getFieldsFromXmlJson(){const e=this.xml_json["miResult"]["Metadata"]["Field"];e&&e.forEach((e=>{this.extracted_fields.push(e["_attributes"].name)}))}},setup(){const e=(0,_.rD)(),{create_parameters:t,custom_records:l,create_headers:a,xml_json:o,data_mode:i,raw_json_response:s,create_body:n,column_paths:r,auth_options:d,endpoint_information:c,method_options:h,body_type_options:m,response_textarea:b,formatted_response_textarea:v,loading:g,custom_templates:f}=(0,u.bP)(e),{testEndpointResponse:y,formatJsonPath:k,createMasterData:w,resetAllFields:C,testDataExtraction:x,getMasterDataList:L}=e;return{testEndpointResponse:y,formatJsonPath:k,createMasterData:w,resetAllFields:C,testDataExtraction:x,getMasterDataList:L,data_mode:i,xml_json:o,custom_records:l,raw_json_response:s,custom_templates:f,loading:g,create_parameters:t,create_headers:a,create_body:n,column_paths:r,auth_options:d,endpoint_information:c,method_options:h,body_type_options:m,response_textarea:b,formatted_response_textarea:v,extracted_fields:(0,p.KR)([])}}});var v=l(12807),g=l(23316),f=l(44189),y=l(67837),k=l(94940),w=l(63194),C=l(857),x=l(42315),L=l(56384),F=l(50492),E=l(98582),A=l.n(E);const S=(0,v.A)(b,[["render",d]]),D=S;A()(b,"components",{QCard:g.A,QCardSection:f.A,QInput:y.A,QSelect:k.A,QSpinnerHourglass:w.A,QMarkupTable:C.A,QTable:x.A,QBtn:L.A,QIcon:F.A})},58188:(e,t,l)=>{"use strict";l.d(t,{A:()=>y});var a=l(61758),o=l(58790);const i={class:"masterdata-tab-subheader"};function s(e,t,l,s,n,r){const d=(0,a.g2)("q-input"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("span",i,(0,o.v_)(e.$t("pages.custom_master_data.response_from_endpoint")+" (XML)"),1),(0,a.bF)(c,{flat:"",bordered:"",class:"page-background"},{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.bF)(d,{modelValue:e.endpoint_information["json_path"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.endpoint_information["json_path"]=t),outlined:"",class:"masterdata-json-path-input q-mb-md",label:e.$t("pages.custom_master_data.json_path"),dense:""},null,8,["modelValue","label"]),(0,a.bF)(d,{modelValue:e.formatted_response_textarea,"onUpdate:modelValue":t[1]||(t[1]=t=>e.formatted_response_textarea=t),borderless:"",class:"text-field-input",autogrow:"",readonly:""},null,8,["modelValue"])])),_:1})])),_:1})],64)}var n=l(24622),r=l(49714),d=l.n(r),u=l(1659),c=l(83319);const p=(0,a.pM)({name:"xmlTablePath",mixins:[n.A],props:{type:{type:String,default:"record"}},mounted(){this.beautifyXML()},methods:{checkIfDataHasHarray(e){let t="";const l=this.xml_json[e];return Object.keys(l).forEach((e=>{const a=l[e],o=Array.isArray(a);o&&(t=e)})),t},getDataBasePath(){let e="";Object.keys(this.xml_json).forEach((t=>{this.xml_json[t];e=t}));const t=this.checkIfDataHasHarray(e),l=e+"/"+t;"record"==this.type?this.endpoint_information.json_path=l:"template"==this.type&&(this.preset_information.json_path=l)},beautifyXML(){let e=this.response_textarea.replaceAll(/\\\"/g,'"');e=e.replace(/\\\"/g,'"'),e=e.replace(/<\?xml.*\?>/g,""),e=e.replace(/^"/,""),e=e.replace(/"$/,"");var t=(new(d())).beautify(e,{indent:"     ",useSelfClosingElement:!0});this.formatted_response_textarea=t}},setup(){const e=(0,c.rD)(),{create_parameters:t,custom_records:l,create_headers:a,xml_json:o,data_mode:i,raw_json_response:s,create_body:n,column_paths:r,auth_options:d,endpoint_information:p,preset_information:h,method_options:m,body_type_options:_,response_textarea:b,formatted_response_textarea:v,loading:g,custom_templates:f}=(0,u.bP)(e),{testEndpointResponse:y,formatJsonPath:k,createMasterData:w,resetAllFields:C,testDataExtraction:x,getMasterDataList:L}=e;return{testEndpointResponse:y,formatJsonPath:k,createMasterData:w,resetAllFields:C,testDataExtraction:x,getMasterDataList:L,data_mode:i,xml_json:o,custom_records:l,raw_json_response:s,custom_templates:f,loading:g,create_parameters:t,create_headers:a,create_body:n,column_paths:r,auth_options:d,endpoint_information:p,preset_information:h,method_options:m,body_type_options:_,response_textarea:b,formatted_response_textarea:v}}});var h=l(12807),m=l(23316),_=l(44189),b=l(67837),v=l(98582),g=l.n(v);const f=(0,h.A)(p,[["render",s],["__scopeId","data-v-3e6bb0ef"]]),y=f;g()(p,"components",{QCard:m.A,QCardSection:_.A,QInput:b.A})},44499:(e,t,l)=>{"use strict";l.d(t,{A:()=>je});var a=l(61758),o=l(29104),i=l(58790);const s=e=>((0,a.Qi)("data-v-08357499"),e=e(),(0,a.jt)(),e),n={class:"row"},r={class:"col-sm-4 col-md-4 col-lg-4 q-mb-sm"},d={class:"col-sm-8 col-md-8 col-lg-8"},u={class:"text-item",style:{"text-transform":"capitalize"}},c={key:1,style:{"padding-left":"15px",cursor:"pointer"}},p={style:{padding:"10px"}},h={class:"ellipsis"},m={class:"row float-right"},_={class:"text-red"},b={key:1,class:"back-white flex justify-end"},v={class:"row",style:{"margin-right":"0"}},g={class:"text-center"},f=s((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function y(e,t,l,s,y,k){const w=(0,a.g2)("q-icon"),C=(0,a.g2)("q-input"),x=(0,a.g2)("q-fab-action"),L=(0,a.g2)("q-fab"),F=(0,a.g2)("savedSortByBadges"),E=(0,a.g2)("ColumnOrderBy"),A=(0,a.g2)("q-select"),S=(0,a.g2)("q-menu"),D=(0,a.g2)("q-th"),I=(0,a.g2)("q-tr"),T=(0,a.g2)("q-item-section"),O=(0,a.g2)("q-item"),M=(0,a.g2)("q-separator"),R=(0,a.g2)("q-list"),P=(0,a.g2)("q-btn"),q=(0,a.g2)("q-td"),V=(0,a.g2)("q-table"),N=(0,a.g2)("q-pagination"),B=(0,a.g2)("q-markup-table"),$=(0,a.g2)("EditCreate"),Q=(0,a.g2)("q-dialog"),X=(0,a.g2)("TableAlias"),W=(0,a.g2)("UploadCsv"),K=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.data[e.type_name]&&e.data[e.type_name].data?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.bF)(C,{class:"width-500",outlined:"",dense:"",debounce:"300",color:"primary",modelValue:e.filter_value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter_value=t),label:e.$t("search_by_column"),onKeyup:e.onKeyup},{append:(0,a.k6)((()=>[(0,a.bF)(w,{name:"search",class:"cursor-pointer",onClick:e.callSearchAll},null,8,["onClick"])])),_:1},8,["modelValue","label","onKeyup"])]),(0,a.Lk)("div",d,[(0,a.bF)(L,{square:"",modelValue:e.actionButton,"onUpdate:modelValue":t[5]||(t[5]=t=>e.actionButton=t),label:e.$t("actions"),color:"primary",direction:"left",padding:"8px",class:"float-right"},{default:(0,a.k6)((()=>[(0,a.bF)(x,{square:"",color:"primary",onClick:t[1]||(t[1]=t=>e.hideShowColumns()),label:e.is_hidden?e.$t("showEmptyColumn"):e.$t("hideEmptyColumn"),padding:"4px"},null,8,["label"]),e.data[e.type_name].readonly||"api_imported"==e.parent?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(x,{key:0,square:"",color:"primary",onClick:e.createRow,label:e.$t("add_row"),padding:"4px"},null,8,["onClick","label"])),(0,a.bF)(x,{square:"",color:"primary",onClick:t[2]||(t[2]=t=>e.display_table_alias_popup=!0),label:e.$t("update_alias"),padding:"4px"},null,8,["label"]),(0,a.bF)(x,{square:"",color:"primary",onClick:e.downloadAsCSV,label:e.$t("downlaod_as_csv"),padding:"4px"},null,8,["onClick","label"]),"imported"==e.parent||"locally_maintained"==e.parent?((0,a.uX)(),(0,a.Wv)(x,{key:1,square:"",color:"primary",onClick:t[3]||(t[3]=t=>e.show_upload_csv=!0),label:e.$t("upload_csv"),padding:"4px"},null,8,["label"])):(0,a.Q3)("",!0),"api_imported"==e.parent?((0,a.uX)(),(0,a.Wv)(x,{key:2,square:"",color:"primary",onClick:t[4]||(t[4]=t=>e.refreshRecord()),label:e.$t("refresh"),padding:"4px"},null,8,["label"])):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])])]),(0,a.bF)(F,{type_name:e.type_name},null,8,["type_name"]),e.data[e.type_name].data?((0,a.uX)(),(0,a.Wv)(V,{key:0,"rows-per-page-options":[0],rows:e.data[e.type_name].data,columns:e.columns,"row-key":"id",flat:"","hide-bottom":"","table-header-class":"table-header-text","no-data-label":e.$t("pages.messages.no_record_found"),"no-results-label":"The filter didn't uncover any results",class:"sticky-header table-height full-width dashboard-table-style back-white",id:e.type_name},{header:(0,a.k6)((l=>[(0,a.bF)(I,{props:l},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.cols,((s,n)=>((0,a.uX)(),(0,a.Wv)(D,{key:s.name,props:l,"data-index":n,draggable:"true",dropzone:"true",direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.columns,n),onDrop:(0,o.D$)((t=>e.handleDrop(t,n)),["prevent"]),onDragover:(0,o.D$)((t=>e.onDragOver(t,n)),["prevent"]),onDragenter:(0,o.D$)(e.onDragEnter,["prevent"]),onDragleave:(0,o.D$)(e.onDragLeave,["prevent"]),style:(0,i.Tr)({cursor:e.getIsDragging?"pointer":"move"})},{default:(0,a.k6)((()=>[(0,a.Lk)("span",u,(0,i.v_)(s.label),1),"action"!==s.name?((0,a.uX)(),(0,a.Wv)(E,{key:0,type_name:e.type_name,column_name:s.field},null,8,["type_name","column_name"])):(0,a.Q3)("",!0),"action"!==s.name?((0,a.uX)(),(0,a.CE)("span",c,[(0,a.bF)(w,{style:{"font-size":"18px"},name:"menu",onClick:t[6]||(t[6]=(0,o.D$)((()=>{}),["stop","prevent"]))},{default:(0,a.k6)((()=>[(0,a.bF)(S,{"transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",p,[(0,a.bF)(A,{outlined:"",class:"select-box",modelValue:e.searchOperatorByField[s.field],"onUpdate:modelValue":[t=>e.searchOperatorByField[s.field]=t,t=>e.operatorUpdatedOneField(t,s.field)],options:e.search_operators_list,label:"Search Operator",style:{width:"170px","margin-bottom":"10px"},"emit-value":"","map-options":""},{"selected-item":(0,a.k6)((e=>[(0,a.Lk)("div",h,(0,i.v_)(e.opt.label),1)])),_:2},1032,["modelValue","onUpdate:modelValue","options"]),(0,a.bF)(C,{class:"width-150",outlined:"",dense:"",debounce:"300",color:"primary",modelValue:e.filterValueByField[s.field],"onUpdate:modelValue":t=>e.filterValueByField[s.field]=t,label:"Filter...",onKeyup:e.onKeyupByOne},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])])),_:2},1024)])),_:2},1024)])):(0,a.Q3)("",!0)])),_:2},1032,["props","data-index","onDragstart","onDrop","onDragover","onDragenter","onDragleave","style"])))),128))])),_:2},1032,["props"])])),body:(0,a.k6)((l=>[(0,a.bF)(I,{props:l,id:l.key,class:(0,i.C4)((e.data[e.type_name].readonly,""))},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.cols,(s=>((0,a.uX)(),(0,a.CE)(a.FK,{key:s.name},["action"===s.name?((0,a.uX)(),(0,a.Wv)(q,{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("div",m,[(0,a.bF)(P,{flat:"",dense:"",round:"",onClick:t[7]||(t[7]=(0,o.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz"},{default:(0,a.k6)((()=>[(0,a.bF)(S,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,a.k6)((()=>[(0,a.bF)(R,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>["api_imported"!=e.parent?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(O,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(T,{onClick:t=>e.editRow(l.rowIndex)},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("edit")),1)])),_:2},1032,["onClick"])])),_:2},1024),(0,a.bF)(M,{inset:""})],64)):(0,a.Q3)("",!0),(0,a.bF)(O,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(T,{onClick:t=>e.deleteClicked(l.rowIndex,l.row.id)},{default:(0,a.k6)((()=>[(0,a.Lk)("span",_,(0,i.v_)(e.$t("delete")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])])),_:2},1024)):((0,a.uX)(),(0,a.Wv)(q,{key:1},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(l.row[s.name]),1)])),_:2},1024))],64)))),128))])),_:2},1032,["props","id","class"])])),_:1},8,["rows","columns","no-data-label","id"])):(0,a.Q3)("",!0),e.total_pages>1?((0,a.uX)(),(0,a.CE)("div",b,[(0,a.Lk)("div",v,[(0,a.bF)(N,{modelValue:e.current_page,"onUpdate:modelValue":[t[8]||(t[8]=t=>e.current_page=t),t[9]||(t[9]=t=>e.paginationItemClicked())],color:"primary",max:e.total_pages,class:"q-py-xs q-mx-md","max-pages":6,input:"","boundary-links":""},null,8,["modelValue","max"])])])):(0,a.Q3)("",!0),0==e.data[e.type_name].data.length?((0,a.uX)(),(0,a.Wv)(B,{key:2,class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",g,(0,i.v_)(e.$t("no_data_found")),1)])])])),_:1})):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0),(0,a.bF)(Q,{modelValue:e.show_edit_create,"onUpdate:modelValue":t[10]||(t[10]=t=>e.show_edit_create=t),persistent:"",onKeydown:t[11]||(t[11]=(0,o.jR)((t=>e.show_edit_create=!1),["esc"])),onHide:t[12]||(t[12]=t=>e.show_edit_create=!1)},{default:(0,a.k6)((()=>[(0,a.bF)($,{type_name:e.type_name,create_row:e.create_row,model:e.selected_row,selected_row_index:e.selected_row_index},null,8,["type_name","create_row","model","selected_row_index"])])),_:1},8,["modelValue"]),(0,a.bF)(Q,{modelValue:e.display_table_alias_popup,"onUpdate:modelValue":t[13]||(t[13]=t=>e.display_table_alias_popup=t),onKeydown:t[14]||(t[14]=(0,o.jR)((t=>e.display_table_alias_popup=!1),["esc"]))},{default:(0,a.k6)((()=>[(0,a.bF)(X,{alias_key_temp:e.type_name},null,8,["alias_key_temp"])])),_:1},8,["modelValue"]),(0,a.bF)(Q,{modelValue:e.show_upload_csv,"onUpdate:modelValue":t[15]||(t[15]=t=>e.show_upload_csv=t)},{default:(0,a.k6)((()=>[(0,a.bF)(W)])),_:1},8,["modelValue"]),(0,a.bF)(K,{showing:e.loading,style:{"z-index":"2"}},{default:(0,a.k6)((()=>[f])),_:1},8,["showing"])],64)}var k=l(1659),w=l(16332),C=l(24622),x=l(38734);const L={class:"orderByParentSpan arrow-color"},F=["data-name"],E=["data-name"];function A(e,t,l,o,s,n){return(0,a.uX)(),(0,a.CE)("span",L,[(0,a.Lk)("span",{class:(0,i.C4)(["up-arrow orderBy absolute cursor-pointer",e.is_order_by_selected("asc")?"selected":""]),"data-name":e.column_name,"data-direction":"asc",onClick:t[0]||(t[0]=t=>e.OrderBy("asc"))},null,10,F),(0,a.Lk)("span",{class:(0,i.C4)(["down-arrow orderBy absolute cursor-pointer",e.is_order_by_selected("desc")?"selected":""]),"data-name":e.column_name,"data-direction":"desc",onClick:t[1]||(t[1]=t=>e.OrderBy("desc"))},null,10,E)])}var S=l(83319),D=l(82204);const I=(0,a.pM)({mixins:[],props:{column_name:{type:String,required:!0},type_name:{type:String,required:!0}},components:{},methods:{is_order_by_selected(e){return Boolean(this.sortby_data_types[this.type_name]["orderByMap"].has(this.column_name)&&this.sortby_data_types[this.type_name]["orderByMap"].get(this.column_name)==e)},OrderBy(e){this.sortby_data_types[this.type_name]["orderByMap"].has(this.column_name)&&this.sortby_data_types[this.type_name]["orderByMap"].get(this.column_name)==e?this.sortby_data_types[this.type_name]["orderByMap"].delete(this.column_name):this.sortby_data_types[this.type_name]["orderByMap"].set(this.column_name,e),(0,D.eT)(this.type_name,this.sortby_data_types[this.type_name]["orderByMap"]),this.triggerApplyFilters()},triggerApplyFilters(){const e=new CustomEvent("ms_search",{detail:{data_type:this.type_name}});document.dispatchEvent(e)}},setup(){const e=(0,S.rD)(),{sortby_data_types:t}=(0,k.bP)(e);return{sortby_data_types:t}}});var T=l(12807);const O=(0,T.A)(I,[["render",A],["__scopeId","data-v-1e8e08c6"]]),M=O;var R=l(11470),P=l(18505),q=l(64775),V=l(10739);const N={class:"row"},B={key:0};function $(e,t,l,o,s,n){const r=(0,a.g2)("q-icon"),d=(0,a.g2)("q-badge");return(0,a.uX)(),(0,a.CE)("div",N,[e.sortby_data_types[e.type_name]["orderByMap"].size>0?((0,a.uX)(),(0,a.CE)("span",B,(0,i.v_)(e.$t("sort_by")),1)):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.sortby_data_types[e.type_name]["orderByMap"],(([t,l])=>((0,a.uX)(),(0,a.Wv)(d,{key:t,rounded:"",color:"primary",dense:"",class:"q-ml-md capitalize"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(t)+" : "+(0,i.v_)(l)+" ",1),(0,a.bF)(r,{name:"close",color:"white",class:"q-ml-xs cursor-pointer",onClick:l=>e.removeFilter(t)},null,8,["onClick"])])),_:2},1024)))),128))])}const Q=(0,a.pM)({props:{type_name:{type:String,required:!0}},methods:{removeFilter(e){this.sortby_data_types[this.type_name]["orderByMap"].delete(e),this.sortby_data_types[this.type_name]["orderByMap"].size>0?(0,D.eT)(this.type_name,this.sortby_data_types[this.type_name]["orderByMap"]):(0,D.oX)(this.type_name),this.triggerApplyFilters()},triggerApplyFilters(){const e=new CustomEvent("ms_search",{detail:{data_type:this.type_name}});document.dispatchEvent(e)}},setup(){const e=(0,S.rD)(),{sortby_data_types:t}=(0,k.bP)(e);return{sortby_data_types:t}}});var X=l(23954),W=l(50492),K=l(98582),U=l.n(K);const j=(0,T.A)(Q,[["render",$]]),z=j;U()(Q,"components",{QBadge:X.A,QIcon:W.A});var H=l(36801);const G={key:0,class:"text-weight-bold"},Y={key:1,class:"text-weight-bold"},J={class:"row full-width"},Z={class:"full-width"},ee={key:0},te=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function le(e,t,l,s,n,r){const d=(0,a.g2)("q-toolbar-title"),u=(0,a.g2)("q-btn"),c=(0,a.g2)("q-toolbar"),p=(0,a.g2)("q-input"),h=(0,a.g2)("q-card-section"),m=(0,a.g2)("f-btn"),_=(0,a.g2)("q-card-actions"),b=(0,a.g2)("q-inner-loading"),v=(0,a.g2)("q-card"),g=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(v,{class:"create-edit-card"},{default:(0,a.k6)((()=>[(0,a.Lk)("form",{onSubmit:t[0]||(t[0]=(0,o.D$)(((...t)=>e.submitFrom&&e.submitFrom(...t)),["prevent","stop"]))},[(0,a.bF)(c,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[e.create_row?((0,a.uX)(),(0,a.CE)("span",Y,(0,i.v_)(e.$t("pages.settings.master_data_lookup.create_row")),1)):((0,a.uX)(),(0,a.CE)("span",G,(0,i.v_)(e.$t("pages.settings.master_data_lookup.edit_row")),1))])),_:1}),(0,a.bo)((0,a.bF)(u,{flat:"",round:"",dense:"",icon:"close"},null,512),[[g]])])),_:1}),(0,a.bF)(h,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",J,[(0,a.Lk)("div",Z,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.data[e.type_name].fields,(t=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t.id},[e.exclue_fields.includes(t)?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",ee,[(0,a.bF)(p,{outlined:"",dense:"",modelValue:e.edit_model[t],"onUpdate:modelValue":l=>e.edit_model[t]=l,label:t.toUpperCase(),class:"q-my-md"},null,8,["modelValue","onUpdate:modelValue","label"])]))],64)))),128))])])])),_:1}),(0,a.bF)(_,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(m,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[g]]),(0,a.bF)(m,{type:"submit",class:"q-mr-sm",label:e.$t("save")},null,8,["label"])])),_:1})],32),(0,a.bF)(b,{showing:e.loading},{default:(0,a.k6)((()=>[te])),_:1},8,["showing"])])),_:1})}var ae=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const oe=(0,a.pM)({el:"#app",mixins:[P.A,C.A],props:{type_name:{type:String,reqired:!0,default:""},create_row:{type:Boolean,required:!0},model:{},selected_row_index:{type:Number,default:0}},components:{},data(){return{}},setup(){const e=(0,S.rD)(),{updateRow:t}=e,{data:l,exclue_fields:a}=(0,k.bP)(e);return{exclue_fields:a,data:l,loading:(0,x.KR)(!1),edit_model:(0,x.KR)({}),row_id:(0,x.KR)(""),updateRow:t}},mounted:function(){this.initView()},methods:{initView(){this.edit_model=this.model,this.row_id=this.model.id},submitFrom(){return ae(this,void 0,void 0,(function*(){try{if(this.loading=!0,!this.validateNewRow())return;const e=yield this.updateRow(this.type_name,this.edit_model,this.create_row,this.selected_row_index);if(!e||!0!==e.success)throw e;this.create_row?this.showSuccessToast("Created Record"):this.showSuccessToast("Updated Record");const t=new CustomEvent("record_saved",{detail:{}});document.dispatchEvent(t)}catch(e){const t=q.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},validateNewRow(){try{if(!this.edit_model.hasOwnProperty("id")||""==this.edit_model.id.replace(/\s+/g,""))throw this.$t("pages.settings.master_data_lookup.required_id");if(this.row_id!=this.edit_model.id&&this.data[this.type_name].ids.includes(this.edit_model.id))throw this.$t("pages.settings.master_data_lookup.not_unique_id");return!0}catch(e){if("string"==typeof e)return this.showErrorToast(e),!1;throw e}}}});var ie=l(23316),se=l(36914),ne=l(39150),re=l(56384),de=l(44189),ue=l(67837),ce=l(62669),pe=l(39035),he=l(88672);const me=(0,T.A)(oe,[["render",le]]),_e=me;U()(oe,"components",{QCard:ie.A,QToolbar:se.A,QToolbarTitle:ne.A,QBtn:re.A,QCardSection:de.A,QInput:ue.A,QCardActions:ce.A,QInnerLoading:pe.A}),U()(oe,"directives",{ClosePopup:he.A});const be={class:"text-weight-bold"},ve={class:"row"},ge={class:"col-12"},fe={class:"row q-mt-md"},ye={class:"col-12"},ke=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function we(e,t,l,o,s,n){const r=(0,a.g2)("q-toolbar-title"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-toolbar"),c=(0,a.g2)("q-input"),p=(0,a.g2)("q-card-section"),h=(0,a.g2)("q-card-actions"),m=(0,a.g2)("q-card"),_=(0,a.g2)("q-inner-loading"),b=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(m,{style:{width:"700px","max-width":"1060px","min-height":"260px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",be,(0,i.v_)(e.$t("update_alias")),1)])),_:1}),(0,a.bo)((0,a.bF)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[b]])])),_:1}),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",ve,[(0,a.Lk)("div",ge,[(0,a.bF)(c,{readonly:"",outlined:"",modelValue:e.table_alias_key,"onUpdate:modelValue":t[0]||(t[0]=t=>e.table_alias_key=t),filled:"",label:e.$t("pages.settings.master_data_lookup.manage.select_table")},null,8,["modelValue","label"])])]),(0,a.Lk)("div",fe,[(0,a.Lk)("div",ye,[(0,a.bF)(c,{outlined:"",modelValue:e.table_alias_value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.table_alias_value=t),filled:"",label:e.$t("pages.settings.master_data_lookup.manage.alias"),maxlength:"100",style:{height:"60px"}},null,8,["modelValue","label"])])])])),_:1}),(0,a.bF)(h,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(d,{class:"q-mr-sm highlighted-back",label:e.$t("cancel")},null,8,["label"]),[[b]]),(0,a.bF)(d,{class:"q-mr-sm",type:"submit",color:"primary",label:e.$t("save"),onClick:e.set_alias},null,8,["label","onClick"])])),_:1})])),_:1}),(0,a.bF)(_,{showing:e.loading},{default:(0,a.k6)((()=>[ke])),_:1},8,["showing"])],64)}var Ce=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const xe=(0,a.pM)({el:"#app",mixins:[P.A,C.A],components:{},data(){return{}},setup(){const e=(0,S.rD)(),{setAlias:t}=e,{aliases:l}=(0,k.bP)(e);return{aliases:l,setAlias:t,loading:(0,x.KR)(!1),table_alias_value:(0,x.KR)(""),table_alias_key:(0,x.KR)("")}},props:{alias_key_temp:{type:String,default:""}},mounted:function(){this.table_alias_key=this.alias_key_temp,this.populateAlias()},methods:{set_alias(){return Ce(this,void 0,void 0,(function*(){try{if(!this.validate())return;this.loading=!0,0==this.table_alias_value.length&&(this.table_alias_value=this.table_alias_key),yield this.setAlias(this.table_alias_key,this.table_alias_value),this.showSuccessToast("alias is Updated.");const e=new CustomEvent("alias_updated",{});document.dispatchEvent(e)}catch(e){const t=q.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},validate(){return null===this.table_alias_key?(this.showErrorToast("Please select a Table to create an alias for"),!1):null!==this.table_alias_value||(this.showErrorToast("Please set an alias to create for the table"),!1)},populateAlias(){if(null===this.table_alias_key)return;const e=this.aliases[this.table_alias_key];null!==e&&(this.table_alias_value=e)}}}),Le=(0,T.A)(xe,[["render",we]]),Fe=Le;U()(xe,"components",{QCard:ie.A,QToolbar:se.A,QToolbarTitle:ne.A,QBtn:re.A,QCardSection:de.A,QInput:ue.A,QCardActions:ce.A,QInnerLoading:pe.A}),U()(xe,"directives",{ClosePopup:he.A});var Ee=l(90406),Ae=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Se=(0,a.pM)({el:"#app",mixins:[P.A,C.A,V.A],props:{type_name:{type:String,reqired:!0,default:""},parent:{type:String,default:""}},components:{UploadCsv:Ee.A,EditCreate:_e,TableAlias:Fe,ColumnOrderBy:M,savedSortByBadges:z},data(){return{actionButton:(0,x.KR)(!1),selectedIndex:(0,x.KR)(0),show_upload_csv:(0,x.KR)(!1),columnListPreferenc:[],enableSaveColumnOrderBtn:(0,x.KR)(!1),searchOperatorByField:{},filterValueByField:{}}},setup(){const e=(0,S.rD)(),{deleteRow:t,getDataByType:l,getDataTypeFields:a,sortColumns:o,getColumnPreference:i,triggerCustomRecord:s}=e,{data:n,sortby_data_types:r,custom_records:d}=(0,k.bP)(e),u=(0,S.Ox)(),{search_operators:c,search_op_key_postfix:p,default_operator:h}=(0,k.bP)(u);let m=[];const _=(0,S.Bu)(),{updateSetting:b}=_;return{updateSetting:b,custom_records:d,sortby_data_types:r,search_op_key_postfix:p,search_operators_list:c,triggerCustomRecord:s,getColumnPreference:i,getDataTypeFields:a,getDataByType:l,sortColumns:o,data:n,loading:(0,x.KR)(!1),columns:(0,x.KR)(m),columnsCopy:(0,x.KR)(m),filter_value:(0,x.KR)(""),edit_model:(0,x.KR)({}),create_row:(0,x.KR)(!1),show_edit_create:(0,x.KR)(!1),selected_row:(0,x.KR)({}),selected_row_index:(0,x.KR)(0),request_params:(0,x.KR)({}),current_page:(0,x.KR)(1),total_pages:(0,x.KR)(0),offset:(0,x.KR)(0),page_size:(0,x.KR)(15),total_records:(0,x.KR)(0),filter_data_json_str:(0,x.KR)(""),display_table_alias_popup:(0,x.KR)(!1),search_operator:(0,x.KR)(""),default_operator:h,search_operator_pref_key:(0,x.KR)(""),deleteRow:t,is_hidden:(0,x.KR)(!1)}},mounted:function(){this.initView(),document.addEventListener("record_saved",this.recordSaved),document.addEventListener("alias_updated",this.aliasUpdated),document.addEventListener("ms_search",this.searchEvent),this.initailizeDragColumnsById(this.type_name),document.addEventListener(this.type_name+"-column-drop",this.onDropColumns)},unmounted:function(){document.removeEventListener("record_saved",this.recordSaved),document.removeEventListener("alias_updated",this.aliasUpdated),document.removeEventListener("ms_search",this.searchEvent),document.removeEventListener(this.type_name+"-column-drop",this.onDropColumns)},methods:{initView(){return Ae(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.getDataTypeFields(this.type_name),this.getOrderByColumns(),yield this.getDataServer(),this.prepareColumns(),this.setSearchOperator()}catch(e){const t=q.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},searchEvent(e){e.detail.data_type==this.type_name&&this.searchByAll()},setSearchOperator(){return Ae(this,void 0,void 0,(function*(){this.search_operator_pref_key=String(this.type_name+this.search_op_key_postfix).toUpperCase(),this.search_operator=yield(0,H.PL)(this.search_operator_pref_key),this.search_operator||(this.search_operator=this.default_operator)}))},getDataServer(){return Ae(this,void 0,void 0,(function*(){try{this.loading=!0,this.request_params={},this.request_params["skip"]=this.offset,this.request_params["limit"]=this.page_size,this.request_params["data_type"]=this.type_name,this.request_params["match_all"]=!1,this.makeOrderByForCall(),yield this.getDataByType(this.request_params,this.filter_data_json_str),this.data[this.type_name].data.length>0&&(this.total_records=this.data[this.type_name].total_records,this.setTotalPages())}catch(e){const t=q.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},makeOrderByForCall(){const e=(0,D.nM)(this.sortby_data_types[this.type_name]["orderByMap"]);e&&0!=e.length&&(this.request_params["sort_order_json"]=JSON.stringify(e))},onDropColumns(){let e=[];for(let t of this.columns)e.push(t.name);this.saveSortColumns(e)},saveSortColumns(e){return Ae(this,void 0,void 0,(function*(){try{this.loading=!0;let t="master_data"+this.type_name;yield this.updateSetting(t,JSON.stringify(e))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.loading=!1}}))},onKeyup(e){"Enter"==e.key&&this.searchByAll()},callSearchAll(){this.searchByAll()},onKeyupByOne(e){"Enter"==e.key&&this.searchOneField()},getSearchJsonByOne(){let e="",t={},l=[];const a=Object.keys(this.filterValueByField)[0];return a&&""!=a?(Object.keys(this.filterValueByField).forEach((e=>{const t=this.filterValueByField[e],a=this.searchOperatorByField[e];t&&a&&l.push({field:e,operator:a,value:t})})),l.length>0&&(t["filters"]=l,t["match_all"]=!1,e=JSON.stringify(t)),e):e},searchOneField(){return Ae(this,void 0,void 0,(function*(){try{this.loading=!0,this.resetPagination(),this.filter_data_json_str=this.getSearchJsonByOne(),yield this.getDataServer()}catch(e){logError(e)}finally{this.loading=!1}}))},operatorUpdatedOneField(e,t){return Ae(this,void 0,void 0,(function*(){try{if(!e)return;this.showLoading(),yield(0,H.qf)(`${this.search_operator_pref_key}_${t}`,e),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(l){const e=q.t.getErrorMessage(l);this.showErrorToast(e),logError(l)}finally{this.hideLoading()}}))},searchByAll(){return Ae(this,void 0,void 0,(function*(){try{this.loading=!0;const e=this.data[this.type_name]["fields"];this.data[this.type_name]={},this.data[this.type_name]["fields"]=e,this.resetPagination(),this.filter_data_json_str=this.getSearchJson(),yield this.getDataServer()}catch(e){logError(e)}finally{this.loading=!1}}))},getSearchJson(){let e="";if(!this.filter_value||""==this.filter_value)return e;const t=["action"];let l={},a=[];return Array.from(this.columns).forEach((e=>{t.includes(e.field)||a.push({field:e.field,operator:this.search_operator,value:this.filter_value.trim()})})),a.length>0&&(l["filters"]=a,l["match_all"]=!1,e=JSON.stringify(l)),e},paginationItemClicked(){return Ae(this,void 0,void 0,(function*(){try{this.calculateOffset(),yield this.getDataServer()}catch(e){const t=q.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}}))},prepareColumns(){try{if("function"!==typeof this.$t)return;const e=this.data[this.type_name].readonly;e||this.columns.push({name:"id",label:"id",field:"id",align:"left"});for(const[t,l]of Object.entries(this.data[this.type_name].fields)){if(""==l)return;const e=String(l);if("id"==l)continue;let t=e;t="last_modified_on"==e?this.$t(e):"custom_field_10"===e?this.$t("bank_id"):(0,D.C5)(t),this.is_hidden&&this.checkEmptyColumns().some((t=>t.name===e))||this.columns.push({name:e,label:t,field:e,align:"left"})}this.getColumnSortPreference(),this.applyColumnSort(),e||this.columns.push({name:"action",label:w.i18n.t("action"),field:"action",align:"right"}),this.restColumnsList()}catch(e){logError(e)}},restColumnsList(){this.columnsCopy=JSON.parse(JSON.stringify(this.columns))},editRow(e){this.create_row=!1;const t=JSON.parse(JSON.stringify(this.data[this.type_name].data[e]));this.selected_row=t,this.selected_row_index=e,this.show_edit_create=!0},createRow(){this.create_row=!0,this.columns.length<=2?this.showErrorToast("No Columns found Please upload a csv before adding a new row"):(this.selected_row={},this.selected_row_index=0,this.show_edit_create=!0)},deleteClicked(e,t){return Ae(this,void 0,void 0,(function*(){try{this.loading=!0;const l=yield this.deleteRow(this.type_name,t,e);if(!l||!0!==l.success)throw l;this.showSuccessToast("Record Deleted"),this.handleCurrentPage()}catch(l){const e=q.t.getErrorMessage(l);this.showErrorToast(e),logError(l)}finally{this.loading=!1}}))},handleCurrentPage(){0==this.data[this.type_name].data.length&&this.paginationItemClicked()},recordSaved(){this.show_edit_create=!1},resetPagination(){this.offset=0,this.total_pages=0,this.current_page=1,this.total_records=0},setTotalPages(){this.total_pages=Math.ceil(this.total_records/this.page_size)},calculateOffset(){this.offset=this.page_size*(this.current_page-1)},saveColumnOrder(){return Ae(this,void 0,void 0,(function*(){this.loading=!0;let e=[];this.columns=JSON.parse(JSON.stringify(this.columnsCopy));for(let l of this.columns)e.push(l.name);try{let t="master_data"+this.type_name;yield this.updateSetting(t,JSON.stringify(e)),this.showSuccessToast("Order of Columns has bean sucessfully updated")}catch(t){logError("something went wrong while saveFontSizeValue",t),this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.enableSaveColumnOrderBtn=!1,this.loading=!1}}))},itemDraggedComplete(e){e.moved&&(this.enableSaveColumnOrderBtn=!0)},getColumnSortPreference(){this.columnListPreferenc=JSON.parse(this.getColumnPreference(this.type_name))},applyColumnSort(){this.columns=this.sortColumns(this.columnListPreferenc,this.columns)},downloadAsCSV(){return Ae(this,void 0,void 0,(function*(){try{this.loading=!0;const e=yield R.SY.downloadAsCSV(this.type_name);if(e.error)throw e.error;const t=window.URL.createObjectURL(new Blob([e])),l=document.createElement("a");l.href=t,l.setAttribute("download",this.type_name+".csv"),document.body.appendChild(l),l.click(),l.remove()}catch(e){const t=q.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},aliasUpdated(){this.display_table_alias_popup=!1},operatorUpdated(e){return Ae(this,void 0,void 0,(function*(){try{if(!e)return;this.showLoading(),yield(0,H.qf)(this.search_operator_pref_key,e),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(t){const e=q.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.hideLoading()}}))},getOrderByColumns(){this.sortby_data_types[this.type_name]={},this.sortby_data_types[this.type_name]["orderByMap"]=(0,D.Q)(this.type_name)},checkEmptyColumns(){const e=new Set;return this.data[this.type_name].data.forEach((t=>{this.columns.forEach((l=>{t[l.name]&&e.add(l.name)}))})),this.columns.filter((t=>!e.has(t.name)))},hideShowColumns(){if(this.is_hidden=!this.is_hidden,this.is_hidden){const e=this.checkEmptyColumns().map((e=>e.name));this.columns=this.columns.filter((t=>!e.includes(t.name)));const t=this.data[this.type_name].readonly;t||this.columns.push({name:"action",label:w.i18n.t("action"),field:"action",align:"right"})}else this.columns=[],this.prepareColumns()},refreshRecord(){return Ae(this,void 0,void 0,(function*(){try{this.loading=!0;const e=this.custom_records.find((e=>e.data_key===this.type_name));yield this.triggerCustomRecord(e.id),this.showSuccessToast(this.$t("pages.custom_master_data.triggered_successfully"))}catch(e){const t=q.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.loading=!1}}))}}});var De=l(54782),Ie=l(20284),Te=l(42315),Oe=l(44488),Me=l(57722),Re=l(84436),Pe=l(94940),qe=l(45262),Ve=l(53999),Ne=l(90124),Be=l(25173),$e=l(10386),Qe=l(97410),Xe=l(54700),We=l(857),Ke=l(82156);const Ue=(0,T.A)(Se,[["render",y],["__scopeId","data-v-08357499"]]),je=Ue;U()(Se,"components",{QInput:ue.A,QIcon:W.A,QFab:De.A,QFabAction:Ie.A,QTable:Te.A,QTr:Oe.A,QTh:Me.A,QMenu:Re.A,QSelect:Pe.A,QTd:qe.A,QBtn:re.A,QList:Ve.A,QItem:Ne.A,QItemSection:Be.A,QSeparator:$e.A,QTooltip:Qe.A,QPagination:Xe.A,QMarkupTable:We.A,QDialog:Ke.A,QInnerLoading:pe.A})},78431:(e,t,l)=>{"use strict";l.d(t,{A:()=>Je});var a=l(61758),o=l(58790);const i={class:"table-container col-sm-12 col-md-12 col-lg-12 min-height-300"},s={class:"row q-mb-sm",style:{display:"flex"}},n=(0,a.Lk)("div",{class:"text-center q-my-sm"},[(0,a.Lk)("span",{class:"text-primary text-subtitle1 text-weight-bold"},"Import Sample Documents")],-1),r=["innerHTML"],d=(0,a.Lk)("div",{class:"text-center q-my-sm"},[(0,a.Lk)("span",{class:"text-subtitle1 text-weight-bold"},"Drag & Drop"),(0,a.Lk)("br"),(0,a.Lk)("span",{class:"text-body2"},"your files here")],-1),u=[d],c={key:3,class:"col-auto q-mr-auto"},p={class:"q-btn highlighted-back text-center count-card q-mr-sm"},h={key:0,class:"q-btn highlighted-back text-center count-card q-mr-sm"},m={key:1,class:"q-btn highlighted-back text-center count-card width-156 q-mr-sm"},_={key:2,class:"q-btn highlighted-back text-center count-card q-mr-sm"},b={class:"col-auto float-right q-ml-auto"},v={class:"row"},g={key:0,class:"col-auto"},f={class:"col-auto"},y=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function k(e,t,l,d,k,w){const C=(0,a.g2)("q-tooltip"),x=(0,a.g2)("q-circular-progress"),L=(0,a.g2)("q-card"),F=(0,a.g2)("q-item-label"),E=(0,a.g2)("q-item-section"),A=(0,a.g2)("q-item"),S=(0,a.g2)("q-select"),D=(0,a.g2)("UploadTrainingFile"),I=(0,a.g2)("TestTrainingFile"),T=(0,a.g2)("q-td"),O=(0,a.g2)("q-btn"),M=(0,a.g2)("q-table"),R=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",i,[(0,a.Lk)("div",s,[0!=e.max_value?((0,a.uX)(),(0,a.Wv)(L,{key:0,class:"q-pa-md q-mb-md"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.bF)(x,{"show-value":"",class:"text-grey-8 doc-create-file-progress",value:e.value,min:e.min_value,max:e.max_value,size:"60px",color:"green","track-color":"grey-4"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.value)+" ",1),(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)("Total Sample Documents")])),_:1})])),_:1},8,["value","min","max"])])])),_:1})):(0,a.Q3)("",!0),0!=e.max_value?((0,a.uX)(),(0,a.Wv)(L,{key:1,class:"col-5 q-px-md q-mb-md q-ml-lg",style:{width:"43.8%"}},{default:(0,a.k6)((()=>[n,(0,a.bF)(S,{modelValue:e.language_origin,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.language_origin=t),e.uploadFile],dense:"",outlined:"",options:e.language_origin_list,label:e.$t("amount_date_format"),"error-message":e.$t("field_required"),error:e.origin_error},{option:(0,a.k6)((e=>[(0,a.bF)(A,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(E,null,{default:(0,a.k6)((()=>[(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024),e.opt.description?((0,a.uX)(),(0,a.Wv)(C,{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("span",{innerHTML:e.opt.description},null,8,r)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","onUpdate:modelValue","label","error-message","error"])])),_:1})):(0,a.Q3)("",!0),0!=e.max_value?((0,a.uX)(),(0,a.Wv)(L,{key:2,flat:"",class:"col-5 q-pa-md q-mb-md q-ml-auto float-right"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{style:{border:"1px dashed"},class:"full-width",onDrop:t[1]||(t[1]=(...t)=>e.drop&&e.drop(...t)),onDragover:t[2]||(t[2]=(...t)=>e.allowDrop&&e.allowDrop(...t)),onDragleave:t[3]||(t[3]=(...t)=>e.dragLeave&&e.dragLeave(...t))},u,32)])),_:1})):(0,a.Q3)("",!0),0==e.max_value?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",p,[(0,a.Lk)("div",null,(0,o.v_)(e.value),1),(0,a.Lk)("div",null,(0,o.v_)(e.$t("trained_sample")),1)]),e.total_exported?((0,a.uX)(),(0,a.CE)("div",h,[(0,a.Lk)("div",null,(0,o.v_)(e.total_exported),1),(0,a.Lk)("div",null,(0,o.v_)(e.$t("trained_exported")),1)])):(0,a.Q3)("",!0),e.total_trained_by_org?((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("div",null,(0,o.v_)(e.total_trained_by_org),1),(0,a.Lk)("div",null,(0,o.v_)(e.$t("trained_company")),1)])):(0,a.Q3)("",!0),e.total_trained?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.Lk)("div",null,(0,o.v_)(e.total_trained),1),(0,a.Lk)("div",null,(0,o.v_)(e.$t("trained_overall")),1)])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),(0,a.Lk)("div",b,[(0,a.Lk)("div",v,[0==e.max_value?((0,a.uX)(),(0,a.CE)("div",g,[(0,a.bF)(D,{doc_type:e.doc_type,doc_type_key:e.doc_type_key,re_train:!1,language_origin_list:e.language_origin_list,training_doc_limit:e.max_value},null,8,["doc_type","doc_type_key","language_origin_list","training_doc_limit"])])):(0,a.Q3)("",!0),(0,a.Lk)("div",f,[(0,a.bF)(I,{doc_type:e.doc_type,doc_type_key:e.doc_type_key,re_train:!1,list_data:e.list_data,training_doc_limit:e.max_value},null,8,["doc_type","doc_type_key","list_data","training_doc_limit"])])])])]),(0,a.bF)(M,{flat:"",class:"dashboard-table-style back-white training-list","table-header-class":"table-header-text","no-data-label":e.$t("pages.messages.no_record_found"),"table-class":"white-back",rows:e.rows,columns:e.columns,"rows-per-page-options":[0],"row-key":"id",filter:e.filter},{"body-cell-name":(0,a.k6)((e=>[(0,a.bF)(T,{props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.name),1)])),_:2},1032,["props"])])),"body-cell-action":(0,a.k6)((t=>[(0,a.bF)(T,{props:t},{default:(0,a.k6)((()=>[(0,a.bF)(O,{color:"grey","icon-right":"delete","no-caps":"",flat:"",dense:"",onClick:l=>e.handleDelete(t.row,t.rowIndex)},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete")),1)])),_:1})])),_:2},1032,["onClick"])])),_:2},1032,["props"])])),_:1},8,["no-data-label","rows","columns","filter"])]),(0,a.bF)(R,{showing:e.loading},{default:(0,a.k6)((()=>[y])),_:1},8,["showing"])],64)}var w=l(38734),C=l(82303),x=l(24622),L=l(46162),F=l(68450);const E={class:"text-weight-bold"},A={class:"row q-ml-auto q-mr-auto",style:{width:"300px"}},S=["innerHTML"],D=["innerHTML"],I={key:1},T=(0,a.Lk)("img",{src:"settings/export.svg",width:"100","aria-hidden":"true"},null,-1),O={style:{padding:"20px"}},M={class:"text-white"};function R(e,t,l,i,s,n){const r=(0,a.g2)("f-btn"),d=(0,a.g2)("q-toolbar-title"),u=(0,a.g2)("q-btn"),c=(0,a.g2)("q-toolbar"),p=(0,a.g2)("q-item-label"),h=(0,a.g2)("q-tooltip"),m=(0,a.g2)("q-item-section"),_=(0,a.g2)("q-item"),b=(0,a.g2)("q-icon"),v=(0,a.g2)("q-select"),g=(0,a.g2)("q-file"),f=(0,a.g2)("q-card-section"),y=(0,a.g2)("q-card"),k=(0,a.g2)("q-dialog"),w=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(r,{icon:"file_upload",style:{"margin-right":"10px","margin-left":"10px"},onClick:t[0]||(t[0]=t=>{e.multiUploaderDialog=!0,e.uploadedFiles="",e.language_origin=null}),label:e.$t("pages.settings.import")},null,8,["label"]),(0,a.bF)(k,{modelValue:e.multiUploaderDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.multiUploaderDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(y,{style:{width:"800px","max-width":"80vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",E,(0,o.v_)(e.$t("pages.land.heading1")),1),(0,a.eW)(" "+(0,o.v_)(e.$t("pages.land.heading2")),1)])),_:1}),(0,a.bo)((0,a.bF)(u,{flat:"",round:"",dense:"",icon:"close"},null,512),[[w]])])),_:1}),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",A,[(0,a.bF)(v,{modelValue:e.language_origin,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.language_origin=t),e.uploadFile],outlined:"",style:{width:"380px"},options:e.language_origin_list,label:e.$t("amount_date_format"),"error-message":e.$t("field_required"),error:e.origin_error},{option:(0,a.k6)((e=>[(0,a.bF)(_,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024),e.opt.description?((0,a.uX)(),(0,a.Wv)(h,{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("span",{innerHTML:e.opt.description},null,8,S)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1040)])),after:(0,a.k6)((()=>[(0,a.bF)(b,{size:"md",name:"info",color:e.language_origin?"primary":"grey",class:"secondary-c-text cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[e.language_origin?((0,a.uX)(),(0,a.CE)("span",{key:0,innerHTML:e.language_origin.description},null,8,D)):((0,a.uX)(),(0,a.CE)("span",I,(0,o.v_)(e.$t("amounts_dates_format")),1))])),_:1})])),_:1},8,["color"])])),_:1},8,["modelValue","options","onUpdate:modelValue","label","error-message","error"])]),(0,a.Lk)("div",{class:"drag-area text-center full-width",style:{padding:"20px"},id:"box-droppable",onDrop:t[3]||(t[3]=(...t)=>e.drop&&e.drop(...t)),onDragover:t[4]||(t[4]=(...t)=>e.allowDrop&&e.allowDrop(...t)),onDragleave:t[5]||(t[5]=(...t)=>e.dragLeave&&e.dragLeave(...t))},[T,(0,a.Lk)("div",O,(0,o.v_)(e.$t("pages.land.dragndrop")),1),(0,a.bF)(g,{style:{width:"43% !important",margin:"auto","white-space":"nowrap"},class:"select-field",outlined:"",multiple:"","onUpdate:modelValue":[e.processUploadFiles,t[2]||(t[2]=t=>e.uploadedFiles=t)],modelValue:e.uploadedFiles,label:e.$t("pages.land.upload")},{prepend:(0,a.k6)((()=>[(0,a.bF)(b,{name:"attach_file"})])),file:(0,a.k6)((({index:e,file:t})=>[(0,a.Lk)("div",M,(0,o.v_)(t.name),1),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.name),1)])),_:2},1024),(0,a.Q3)("",!0)])),_:1},8,["onUpdate:modelValue","modelValue","label"])],32)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var P=l(18505),q=l(85487),V=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const N=(0,a.pM)({el:"#app",mixins:[x.A,P.A],props:{doc_type:{type:String,default:""},doc_type_key:{type:String,default:""},training_doc_limit:{type:Number,default:0},re_train:{type:Boolean},language_origin_list:{type:Array,default:()=>[]}},watch:{},components:{},data(){return{}},methods:{processUploadFiles(e){this.uploadedFiles=e,this.uploadFile()},uploadFile(){try{this.getOrigin();if(!this.uploadedFiles)return;this.uploadToServer(this.uploadedFiles)}catch(e){logInfo(e)}},allowDrop(e){e.preventDefault(),e.currentTarget.classList.add("bg-grey-5"),e.currentTarget.classList.add("bd-shadow")},drop(e){e.preventDefault(),e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow"),this.uploadedFiles=e.dataTransfer.files,this.uploadFile()},dragLeave(e){e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow")},uploadToServer(e){return V(this,void 0,void 0,(function*(){try{this.showLoading(),this.multiUploaderDialog=!1;const t=this.getOrigin();let l,a=new FormData,o=0;for(let s of e)"application/pdf"===s.type?a.append("files",s):o++;if(o>0)throw{message:this.$t("pages.messages.INVALID_FILES")};a.append("doc_locale",t),a.append("doc_type",this.doc_type_key),a.append("org_id",(0,q.I)());let i=yield(0,L.L3)();if(l=yield C.A.post(L.FH.add_sample_document_trainer,a,{headers:{"Content-Type":"multipart/form-data",Authorization:i}}),this.uploadedFiles="",!1===l.data.success)throw logError(l.data),{message:this.$t("pages.messages.DOC_UPLOAD_ERROR")};l.data.already_existing_documents&&l.data.already_existing_documents.length>0?this.showErrorToast(l.data.already_existing_documents.length+this.$t("pages.messages.ALREADY_UPLOADED")):!0===l.data.success&&this.showSuccessToast(this.$t("pages.messages.DOC_UPLOAD")),this.$forceUpdate(),this.triggerRefreshEvent()}catch(t){if(logError(t),null!=t&&"object"==typeof t&&t.hasOwnProperty("message"))return void this.showErrorToast(t.message);this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.hideLoading()}}))},getOrigin(){let e="";if(this.origin_error=!1,null===this.language_origin||0==(0,F.Ns)(this.language_origin))throw this.origin_error=!0,"Please Select Origin";if(this.language_origin["locale"]){let t=this.language_origin["locale"];e=t.substring(0,5)}if(0==e.length)throw this.origin_error=!0,"Please Select Origin";return e},triggerRefreshEvent(){const e=new CustomEvent("refresh_sample_data",{detail:{}});document.dispatchEvent(e)}},setup(){return{multiUploaderDialog:(0,w.KR)(!1),uploadedFiles:(0,w.KR)(""),language_origin:(0,w.KR)(null),origin_error:(0,w.KR)(!1)}}});var B=l(12807),$=l(82156),Q=l(23316),X=l(36914),W=l(39150),K=l(56384),U=l(44189),j=l(94940),z=l(90124),H=l(25173),G=l(13796),Y=l(97410),J=l(50492),Z=l(99980),ee=l(88672),te=l(98582),le=l.n(te);const ae=(0,B.A)(N,[["render",R]]),oe=ae;le()(N,"components",{QDialog:$.A,QCard:Q.A,QToolbar:X.A,QToolbarTitle:W.A,QBtn:K.A,QCardSection:U.A,QSelect:j.A,QItem:z.A,QItemSection:H.A,QItemLabel:G.A,QTooltip:Y.A,QIcon:J.A,QFile:Z.A}),le()(N,"directives",{ClosePopup:ee.A});const ie={align:"center"},se={class:"text-weight-bold"},ne={class:"row"},re={class:"col-12"},de=(0,a.Lk)("img",{src:"settings/export.svg",width:"100","aria-hidden":"true"},null,-1),ue={class:"q-mb-md"},ce={class:"text-white"},pe={class:"row"},he={class:"col-12"},me={class:"text-center full-width"},_e=(0,a.Lk)("span",{class:"text-weight-bold"},"Status: ",-1),be={class:"q-ml-md"},ve={class:"row"},ge={class:"col-12"},fe={class:"text-center full-width"},ye=(0,a.Lk)("span",{class:"text-weight-bold"},"Doc Type:",-1),ke={class:"q-ml-md"},we={class:"row"},Ce={class:"col-12"},xe={class:"full-width flex flex-center"},Le=(0,a.Lk)("span",{class:"text-weight-bold"},"Doc Type Score:",-1),Fe={class:"q-ml-md"},Ee={class:"row"},Ae={class:"col-12"},Se={class:"text-center full-width"},De=(0,a.Lk)("span",{class:"text-weight-bold"},"Doc Locale:",-1),Ie={class:"q-ml-md"},Te={class:"row"},Oe={class:"col-12"},Me={class:"text-center full-width"},Re=(0,a.Lk)("span",{class:"text-weight-bold"},"Doc Locale Score:",-1),Pe={class:"q-ml-md"};function qe(e,t,l,i,s,n){const r=(0,a.g2)("q-spinner-hourglass"),d=(0,a.g2)("f-btn"),u=(0,a.g2)("q-toolbar-title"),c=(0,a.g2)("q-btn"),p=(0,a.g2)("q-toolbar"),h=(0,a.g2)("q-icon"),m=(0,a.g2)("q-tooltip"),_=(0,a.g2)("q-file"),b=(0,a.g2)("q-badge"),v=(0,a.g2)("q-card-section"),g=(0,a.g2)("q-inner-loading"),f=(0,a.g2)("q-card"),y=(0,a.g2)("q-dialog"),k=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",ie,[(0,a.bF)(d,{class:"q-mb-md",blocked:e.list_data.length<10&&0!==e.training_doc_limit,onClick:e.trainModel,loading:e.loading,loadinglabel:"Loading...",label:e.$t("train_model")},{loading:(0,a.k6)((()=>[(0,a.bF)(r)])),_:1},8,["blocked","onClick","loading","label"]),(0,a.bF)(d,{class:"q-ml-sm q-mb-md",disable:e.list_data.length<10&&0!==e.training_doc_limit,onClick:t[0]||(t[0]=t=>{e.multiUploaderDialog=!0,e.uploadedFiles=null,e.resetTestResults()}),label:e.$t("test_classification")},null,8,["disable","label"])]),(0,a.bF)(y,{modelValue:e.multiUploaderDialog,"onUpdate:modelValue":t[5]||(t[5]=t=>e.multiUploaderDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(f,{style:{"min-width":"50%"}},{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",se,(0,o.v_)(e.$t("test_classification")),1)])),_:1}),(0,a.bo)((0,a.bF)(c,{flat:"",round:"",dense:"",icon:"close"},null,512),[[k]])])),_:1}),(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",ne,[(0,a.Lk)("div",re,[(0,a.Lk)("div",{class:"drag-area text-center full-width q-mb-md",id:"box-droppable",onDrop:t[2]||(t[2]=(...t)=>e.drop&&e.drop(...t)),onDragover:t[3]||(t[3]=(...t)=>e.allowDrop&&e.allowDrop(...t)),onDragleave:t[4]||(t[4]=(...t)=>e.dragLeave&&e.dragLeave(...t))},[de,(0,a.Lk)("div",ue,(0,o.v_)(e.$t("pages.land.dragndrop")),1),(0,a.bF)(_,{style:{width:"50%",margin:"auto","white-space":"nowrap"},outlined:"",class:"select-field",multiple:"","onUpdate:modelValue":[e.uploadFile,t[1]||(t[1]=t=>e.uploadedFiles=t)],modelValue:e.uploadedFiles,label:e.$t("pages.land.upload")},{prepend:(0,a.k6)((()=>[(0,a.bF)(h,{name:"attach_file"})])),file:(0,a.k6)((({index:e,file:t})=>[(0,a.Lk)("div",ce,(0,o.v_)(t.name),1),(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.name),1)])),_:2},1024),(0,a.Q3)("",!0)])),_:1},8,["onUpdate:modelValue","modelValue","label"])],32)])]),""!==e.test_results_doc_type?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",pe,[(0,a.Lk)("div",he,[(0,a.Lk)("div",me,[_e,(0,a.Lk)("span",be,[e.test_results_doc_type==this.doc_type?((0,a.uX)(),(0,a.Wv)(b,{key:0,color:"green","text-color":"white",label:"Success"})):((0,a.uX)(),(0,a.Wv)(b,{key:1,color:"red","text-color":"white",label:"Failed"}))])])])]),e.test_results_doc_type==this.doc_type?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",ve,[(0,a.Lk)("div",ge,[(0,a.Lk)("div",fe,[ye,(0,a.Lk)("span",ke,(0,o.v_)(this.test_results.doc_type),1)])])]),(0,a.Lk)("div",we,[(0,a.Lk)("div",Ce,[(0,a.Lk)("div",xe,[Le,(0,a.Lk)("span",Fe,(0,o.v_)(e.docTypeScoreLabel),1)])])]),(0,a.Lk)("div",Ee,[(0,a.Lk)("div",Ae,[(0,a.Lk)("div",Se,[De,(0,a.Lk)("span",Ie,(0,o.v_)(this.test_results.doc_locale),1)])])]),(0,a.Lk)("div",Te,[(0,a.Lk)("div",Oe,[(0,a.Lk)("div",Me,[Re,(0,a.Lk)("span",Pe,(0,o.v_)(e.docLocaleScoreLabel),1)])])])],64)):(0,a.Q3)("",!0)],64)):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(g,{showing:e.processing_classification,class:"z-index-1"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{color:"primary",size:"6em"})])),_:1},8,["showing"])])),_:1})])),_:1},8,["modelValue"])],64)}var Ve=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ne=(0,a.pM)({el:"#app",mixins:[x.A],props:{doc_type:{type:String,default:""},doc_type_key:{type:String,default:""},training_doc_limit:{type:Number,default:0},list_data:[]},watch:{},components:{},data(){return{}},mounted(){this.resetTestResults()},methods:{uploadFile(e){this.uploadedFiles=e;let t=this.uploadedFiles;t||this.showErrorToast(this.$t("pages.messages.NO_FILE_SELECTED")),this.uploadToServer(t)},allowDrop(e){e.preventDefault(),e.currentTarget.classList.add("bg-grey-5"),e.currentTarget.classList.add("bd-shadow")},drop(e){e.preventDefault(),e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow"),this.uploadToServer(e.dataTransfer.files)},dragLeave(e){e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow")},resetTestResults(){this.test_results_doc_type="INVOICE",this.test_results={doc_type:"INVOICE",doc_type_score:.9687122862,doc_type_classification_method:"tfidf",doc_locale:"de_DE",doc_locale_score:.9687122862},this.test_results_doc_type="",this.test_results={}},uploadToServer(e){return Ve(this,void 0,void 0,(function*(){try{this.processing_classification=!0,this.resetTestResults(),this.uploadedFiles=null;let t,l=new FormData;for(let o of e)l.append("file",o);l.append("org_id",(0,q.I)());let a=yield(0,L.L3)();if(t=yield C.A.post(L.FH.test_classification,l,{headers:{"Content-Type":"multipart/form-data",Authorization:a}}),!1===t.data.success)throw{message:this.$t("pages.messages.DOC_UPLOAD_ERROR")};this.test_results_doc_type=t.data.data.doc_type,this.test_results=t.data.data,this.doc_type_score=t.data.data.doc_type_score,this.doc_locale_score=t.data.data.doc_locale_score}catch(t){if(logError(t),null!=t&&"object"==typeof t&&t.hasOwnProperty("message"))return void this.showErrorToast(t.message);this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing_classification=!1}}))},trainModel(){return Ve(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.reTrainModel(),this.showSuccessToast("Model Trained successfully")}catch(e){return null!=e&&"object"==typeof e&&e.hasOwnProperty("message")?void this.showErrorToast(e.message):(this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e))}finally{this.loading=!1}}))},reTrainModel(){return Ve(this,void 0,void 0,(function*(){let e,t=new FormData;t.append("org_id",(0,q.I)());let l=yield(0,L.L3)();if(e=yield C.A.post(L.FH.retrain_model,t,{headers:{"Content-Type":"multipart/form-data",Authorization:l}}),!1===e.data.success)throw logError(e.data),{message:this.$t("pages.messages.DOC_UPLOAD_ERROR")}}))}},computed:{docTypeScoreLabel:function(){return(100*this.doc_type_score).toFixed(0)+"%"},docLocaleScoreLabel:function(){return(100*this.doc_locale_score).toFixed(0)+"%"}},setup(){return{multiUploaderDialog:(0,w.KR)(!1),uploadedFiles:(0,w.KR)(null),loading:(0,w.KR)(!1),processing_classification:(0,w.KR)(!1),test_results_doc_type:(0,w.KR)(""),test_results:(0,w.KR)({}),doc_type_score:(0,w.KR)(),doc_locale_score:(0,w.KR)()}}});var Be=l(63194),$e=l(23954),Qe=l(39035);const Xe=(0,B.A)(Ne,[["render",qe]]),We=Xe;le()(Ne,"components",{QSpinnerHourglass:Be.A,QDialog:$.A,QCard:Q.A,QToolbar:X.A,QToolbarTitle:W.A,QBtn:K.A,QCardSection:U.A,QFile:Z.A,QIcon:J.A,QTooltip:Y.A,QBadge:$e.A,QInnerLoading:Qe.A}),le()(Ne,"directives",{ClosePopup:ee.A});var Ke=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ue=(0,a.pM)({mixins:[x.A,P.A],components:{UploadTrainingFile:oe,TestTrainingFile:We},props:{total_exported:{type:String,default:""},total_trained_by_org:{type:String,default:""},total_trained:{type:String,default:""},doc_type:{type:String,default:""},doc_type_key:{type:String,default:""},max_value:{type:Number,default:0},language_origin_list:{type:Array,default:()=>[]},list_data:[]},watch:{list_data:{deep:!0,handler:function(e,t){setTimeout((()=>{this.prepareRows(e),this.fileProgress()}),0)}}},data(){return{}},mounted:function(){this.prepareRows(this.list_data),this.fileProgress(),this.prepareColumns()},methods:{uploadFile(){try{this.getOrigin();if(!this.uploadedFiles)return;this.uploadToServer(this.uploadedFiles)}catch(e){logInfo(e)}},uploadToServer(e){return Ke(this,void 0,void 0,(function*(){try{this.showLoading();const t=this.getOrigin();let l,a=new FormData,o=0;for(let s of e)"application/pdf"===s.type?a.append("files",s):o++;if(o>0)throw{message:this.$t("pages.messages.INVALID_FILES")};a.append("doc_locale",t),a.append("doc_type",this.doc_type_key),a.append("org_id",(0,q.I)());let i=yield(0,L.L3)();if(l=yield C.A.post(L.FH.add_sample_document_trainer,a,{headers:{"Content-Type":"multipart/form-data",Authorization:i}}),this.uploadedFiles="",!1===l.data.success)throw logError(l.data),{message:this.$t("pages.messages.DOC_UPLOAD_ERROR")};l.data.already_existing_documents&&l.data.already_existing_documents.length>0?this.showErrorToast(l.data.already_existing_documents.length+this.$t("pages.messages.ALREADY_UPLOADED")):!0===l.data.success&&this.showSuccessToast(this.$t("pages.messages.DOC_UPLOAD")),this.$forceUpdate(),this.triggerRefreshEvent()}catch(t){if(logError(t),null!=t&&"object"==typeof t&&t.hasOwnProperty("message"))return void this.showErrorToast(t.message);this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.hideLoading()}}))},triggerRefreshEvent(){const e=new CustomEvent("refresh_sample_data",{detail:{}});document.dispatchEvent(e)},getOrigin(){let e="";if(this.origin_error=!1,null===this.language_origin||0==(0,F.Ns)(this.language_origin))throw this.origin_error=!0,"Please Select Origin";if(this.language_origin["locale"]){let t=this.language_origin["locale"];e=t.substring(0,5)}if(0==e.length)throw this.origin_error=!0,"Please Select Origin";return e},allowDrop(e){e.preventDefault(),e.currentTarget.classList.add("bg-grey-5"),e.currentTarget.classList.add("bd-shadow")},drop(e){e.preventDefault(),e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow"),this.uploadedFiles=e.dataTransfer.files,this.uploadFile()},dragLeave(e){e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow")},prepareColumns(){this.columns=[],this.columns.push(Object.assign({},{name:"name",label:"Name",field:"name",align:"left"})),this.columns.push(Object.assign({},{name:"action",label:this.$t("pages.export.actions"),field:"action",align:"right"}))},prepareRows(e){this.rows=[],this.columns_list={};for(let[t,l]of Object.entries(e)){const e=l;this.addNewRow(e)}},addNewRow(e){let t=Object.assign({},e);return t["name"]=e.sample_file_name,this.rows.push(t),t},handleDelete(e,t){return Ke(this,void 0,void 0,(function*(){try{if(""===e.id)return;let t;this.loading=!0;let l=yield(0,L.L3)();if(t=yield C.A.delete((0,q.MV)(L.FH.delete_sample_document_trainer+"/"+e.id),{headers:{Authorization:l}}),t.data&&t.data.hasOwnProperty("success")&&!1===t.data.success)throw{message:t.data.message};const a=new CustomEvent("sample_file_delete",{detail:e.id});document.dispatchEvent(a)}catch(t){throw logError(t),{message:this.$t("pages.messages.error_internal_occur")}}finally{this.loading=!1}}))},fileProgress(){this.value=this.rows.length}},setup(){const e=(0,w.KR)("");let t=[],l={};const a=(0,w.KR)(t);return{columns:a,filter:e,rows:(0,w.KR)(t),uploadedFiles:(0,w.KR)(""),language_origin:(0,w.KR)(null),origin_error:(0,w.KR)(!1),loading:(0,w.KR)(!1),columns_list:(0,w.KR)(l),selected:(0,w.KR)(t),min_value:(0,w.KR)(0),value:(0,w.KR)(0)}}});var je=l(34222),ze=l(42315),He=l(45262),Ge=l(67156);const Ye=(0,B.A)(Ue,[["render",k]]),Je=Ye;le()(Ue,"components",{QCard:Q.A,QCircularProgress:je.A,QTooltip:Y.A,QSelect:j.A,QItem:z.A,QItemSection:H.A,QItemLabel:G.A,QBtn:K.A,QTable:ze.A,QTd:He.A,QInnerLoading:Qe.A,QField:Ge.A})},15081:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Re});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-29b6afa0"),e=e(),(0,a.jt)(),e),s={class:"container text-color-grey"},n={class:"text-weight-bolder text-h6"},r={class:"q-item__label q-item__label--caption text-caption"},d={class:"row model-info ml-50"},u={class:"col-4"},c={class:"text-weight-bolder"},p={class:"col-3"},h={class:"text-weight-bolder"},m={class:"text-lowercase q-ml-sm"},_={class:"col-2"},b={class:"text-weight-bolder"},v={class:"row label-list ml-50"},g={class:"col-12"},f={key:1,class:"row"},y={class:"col-12 text-center"},k={class:"q-ml-sm"},w=i((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function C(e,t,l,i,C,x){const L=(0,a.g2)("q-badge"),F=(0,a.g2)("q-icon"),E=(0,a.g2)("q-item-section"),A=(0,a.g2)("q-btn"),S=(0,a.g2)("q-separator"),D=(0,a.g2)("LabelsList"),I=(0,a.g2)("q-card-section"),T=(0,a.g2)("q-card"),O=(0,a.g2)("q-expansion-item"),M=(0,a.g2)("q-list"),R=(0,a.g2)("q-avatar"),P=(0,a.g2)("q-card-actions"),q=(0,a.g2)("q-dialog"),V=(0,a.g2)("q-inner-loading"),N=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",s,[0!==e.model_list.length?((0,a.uX)(),(0,a.Wv)(M,{key:0,bordered:"",class:"rounded-borders"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.model_list,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[(0,a.bF)(O,{"switch-toggle-side":"",modelValue:t["expanded"],"onUpdate:modelValue":e=>t["expanded"]=e,"data-expanded":e.setModelState(t)},{header:(0,a.k6)((()=>[(0,a.bF)(E,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",n,[(0,a.eW)((0,o.v_)(t["model_label"])+" ",1),!0===t.is_default?((0,a.uX)(),(0,a.Wv)(L,{key:0,transparent:"",align:"middle",color:"orange"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("default")),1)])),_:1})):(0,a.Q3)("",!0)]),(0,a.Lk)("div",r,[(0,a.bF)(F,{name:"sell",size:"18px",color:0==e.getLableCountForModel(t["model_name"])?"grey-7":"primary",class:"cursor-pointer"},null,8,["color"]),(0,a.eW)(" "+(0,o.v_)(e.getLableCountForModel(t["model_name"]))+" Label ",1)])])),_:2},1024),(0,a.Q3)("",!0)])),default:(0,a.k6)((()=>[(0,a.bF)(S),(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.bF)(I,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",d,[(0,a.Lk)("div",u,[(0,a.Lk)("span",c,(0,o.v_)(e.$t("type")+":"),1),(0,a.eW)(" "+(0,o.v_)(t["model_type"]),1)]),(0,a.Lk)("div",p,[(0,a.Lk)("span",h,(0,o.v_)(e.$t("first_page_only")+":"),1),(0,a.Lk)("span",m,(0,o.v_)(0==t["first_page_classification_only"]?e.$t("form_builder.no"):e.$t("form_builder.yes")),1)]),(0,a.Lk)("div",_,[(0,a.Lk)("span",b,(0,o.v_)(e.$t("version")+":"),1),(0,a.eW)(" "+(0,o.v_)(t["model_version"]),1)])]),(0,a.Lk)("div",v,[(0,a.Lk)("div",g,[(0,a.bF)(D,{model:t["model_name"]},null,8,["model"])])])])),_:2},1024)])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue","data-expanded"]),(0,a.bF)(S)],64)))),128))])),_:1})):(0,a.Q3)("",!0),e.loading||0!=e.model_list.length?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",f,[(0,a.Lk)("div",y,(0,o.v_)(e.$t("pages.messages.no_record_found")),1)]))]),(0,a.bF)(q,{modelValue:e.deleteConfirm,"onUpdate:modelValue":t[3]||(t[3]=t=>e.deleteConfirm=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.bF)(I,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(R,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(I,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",k,(0,o.v_)(e.$t("sure")),1)])),_:1}),(0,a.bF)(P,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(A,{flat:"",label:e.$t("cancel"),"data-cy":"cancel",color:"primary"},null,8,["label"]),[[N]]),(0,a.bo)((0,a.bF)(A,{flat:"",label:e.$t("delete"),"data-cy":"delete-popup",color:"primary",onClick:t[2]||(t[2]=t=>e.deleteLayout())},null,8,["label"]),[[N]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(V,{showing:e.loading},{default:(0,a.k6)((()=>[w])),_:1},8,["showing"])],64)}var x=l(24622),L=l(38734),F=l(18505),E=l(11470),A=l(64775),S=l(29104);const D={class:"full-width"},I={class:"row q-mt-md"},T={class:"col-lg-12"},O={key:0,class:"row q-mb-md"},M={class:"col-lg-12"},R={class:"table-header-text"},P=["data-id"],q={key:0},V=["colspan"],N={class:"q-ml-sm"},B=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function $(e,t,l,i,s,n){const r=(0,a.g2)("q-input"),d=(0,a.g2)("q-icon"),u=(0,a.g2)("q-badge"),c=(0,a.g2)("q-btn"),p=(0,a.g2)("q-tooltip"),h=(0,a.g2)("q-markup-table"),m=(0,a.g2)("q-avatar"),_=(0,a.g2)("q-card-section"),b=(0,a.g2)("q-card-actions"),v=(0,a.g2)("q-card"),g=(0,a.g2)("q-dialog"),f=(0,a.g2)("editCreateLabel"),y=(0,a.g2)("q-inner-loading"),k=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",D,[(0,a.Lk)("div",I,[(0,a.Lk)("div",T,[(0,a.bF)(r,{dense:"",modelValue:e.search_labels,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.search_labels=t),e.filterLabelsEvent],onKeyup:(0,S.jR)(e.filterLabelsEvent,["enter"]),label:e.$t("pages.settings.search_labels"),outlined:""},null,8,["modelValue","onKeyup","onUpdate:modelValue","label"])])]),e.search_labels?((0,a.uX)(),(0,a.CE)("div",O,[(0,a.Lk)("div",M,[(0,a.bF)(u,{rounded:"",color:"primary"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)("Search By: "+e.search_labels.toLowerCase())+" ",1),(0,a.bF)(d,{name:"close",color:"white",class:"q-ml-xs cursor-pointer",onClick:t[1]||(t[1]=t=>e.removeFilter())})])),_:1})])])):(0,a.Q3)("",!0),(0,a.bF)(h,{flat:"",class:"dashboard-table-style dashboard-table-height back-white labels-table"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",R,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.columns,(e=>((0,a.uX)(),(0,a.CE)("th",{key:e.name},(0,o.v_)(e.label),1)))),128)),(0,a.Lk)("th",null,(0,o.v_)(e.$t("actions")),1)])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.rows,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:l,"data-id":t.id},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.columns,(l=>((0,a.uX)(),(0,a.CE)("td",{key:l.name},["associated_doc_type"===l.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.docTypeLabel(t)),1)],64)):"associated_sub_doc_type"===l.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.subDocTypeLabel(t)),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.eW)((0,o.v_)(t[l.name]),1)],64))])))),128)),(0,a.Lk)("td",null,[(0,a.Q3)("",!0),(0,a.bF)(c,{class:"float-right",color:"grey","icon-right":"edit","no-caps":"",flat:"",dense:"",onClick:l=>e.editRow(t)},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("edit")),1)])),_:1})])),_:2},1032,["onClick"])])],8,P)))),128)),e.loading||0!=e.rows.length?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("tr",q,[(0,a.Lk)("th",{colspan:e.columns.length,class:"text-center"},(0,o.v_)(e.$t("pages.messages.no_record_found")),9,V)]))])])),_:1})]),(0,a.bF)(g,{modelValue:e.deleteConfirm,"onUpdate:modelValue":t[4]||(t[4]=t=>e.deleteConfirm=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(_,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(m,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(_,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",N,(0,o.v_)(e.$t("sure")),1)])),_:1}),(0,a.bF)(b,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(c,{flat:"",label:e.$t("cancel"),"data-cy":"cancel",color:"primary"},null,8,["label"]),[[k]]),(0,a.bo)((0,a.bF)(c,{flat:"",label:e.$t("delete"),"data-cy":"delete-popup",color:"primary",onClick:t[3]||(t[3]=t=>e.deleteLayout())},null,8,["label"]),[[k]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(g,{modelValue:e.display_create_edit_dialog,"onUpdate:modelValue":t[5]||(t[5]=t=>e.display_create_edit_dialog=t),persistent:"",onKeydown:t[6]||(t[6]=(0,S.jR)((t=>e.display_create_dialog=!1),["esc"]))},{default:(0,a.k6)((()=>[(0,a.bF)(f,{list_data:e.data,model:e.edit_model},null,8,["list_data","model"])])),_:1},8,["modelValue"]),(0,a.bF)(y,{showing:e.loading},{default:(0,a.k6)((()=>[B])),_:1},8,["showing"])],64)}var Q=l(16332),X=l(83319);const W={class:"text-weight-bold"},K=(0,a.Lk)("div",{class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},[(0,a.Lk)("div",{class:"full-width"})],-1),U={class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},j={class:"full-width"},z={class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},H={class:"full-width"},G=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function Y(e,t,l,i,s,n){const r=(0,a.g2)("q-toolbar-title"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-toolbar"),c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-icon"),h=(0,a.g2)("q-select"),m=(0,a.g2)("q-card-section"),_=(0,a.g2)("q-card-actions"),b=(0,a.g2)("q-inner-loading"),v=(0,a.g2)("q-card"),g=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(v,{style:{width:"600px"}},{default:(0,a.k6)((()=>[(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,S.D$)(((...t)=>e.submitNewColumFrom&&e.submitNewColumFrom(...t)),["prevent","stop"]))},[(0,a.bF)(u,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",W,(0,o.v_)(e.$t("Edit Label")),1)])),_:1}),(0,a.bo)((0,a.bF)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[g]])])),_:1}),(0,a.bF)(m,{class:"q-pt-none"},{default:(0,a.k6)((()=>[K,(0,a.Lk)("div",U,[(0,a.Lk)("div",j,[(0,a.bF)(h,{clearable:"",modelValue:e.new_model["further_classification_model"],"onUpdate:modelValue":[t[0]||(t[0]=t=>e.new_model["further_classification_model"]=t),t[1]||(t[1]=t=>e.new_model["associated_doc_type"]="")],"use-input":"",options:e.filteredModels,onFilter:e.filteredModelsEvent,"emit-value":"","map-options":"",label:e.$t("Next Model")},{append:(0,a.k6)((()=>[e.new_model["next_model_or_doc_type_required"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[e.new_model["next_model_or_doc_type_required"]?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t("next_model_or_doc_type_required")),1)],64)):(0,a.Q3)("",!0)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","options","onFilter","label"])])]),(0,a.Lk)("div",z,[(0,a.Lk)("div",H,[(0,a.bF)(h,{clearable:"",modelValue:e.new_model["associated_doc_type"],"onUpdate:modelValue":[t[2]||(t[2]=t=>e.new_model["associated_doc_type"]=t),t[3]||(t[3]=t=>e.new_model["further_classification_model"]="")],"use-input":"",options:e.filterDocTypeList,onFilter:e.filterDocTypeListEvent,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},{append:(0,a.k6)((()=>[e.new_model["next_model_or_doc_type_required"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[e.new_model["next_model_or_doc_type_required"]?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t("next_model_or_doc_type_required")),1)],64)):(0,a.Q3)("",!0)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","options","onFilter","label"])])])])),_:1}),(0,a.bF)(_,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(d,{class:"bg-grey-3",label:e.$t("cancel")},null,8,["label"]),[[g]]),(0,a.bF)(d,{type:"submit",color:"primary",class:"q-mr-sm",label:e.$t("save")},null,8,["label"])])),_:1})],32),(0,a.bF)(b,{showing:e.loading},{default:(0,a.k6)((()=>[G])),_:1},8,["showing"])])),_:1})}var J=l(1659),Z=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const ee=(0,a.pM)({el:"#app",mixins:[x.A,F.A],props:{model:{type:Object}},components:{},data(){return{message:this.$t("only_characters_spaces")}},setup(){let e={};const t=(0,X.cY)(),l=(0,L.KR)(t.doc_type_list),{doc_type_list:a}=(0,J.bP)(t),o=(0,X.yp)(),{model_list:i}=(0,J.bP)(o);return{model_list:i,models:(0,L.KR)([]),filteredModels:(0,L.KR)([]),filterDocTypeList:l,doc_type_list:a,new_model:(0,L.KR)(e),loading:(0,L.KR)(!1),form_error:(0,L.KR)("")}},watch:{},mounted(){this.setNewModel(),this.modelsDropdownList()},methods:{setNewModel(){this.model?this.new_model=this.model:(this.new_model["further_classification_model"]="",this.new_model["associated_doc_type"]=""),this.resetErrors()},resetErrors(){this.new_model["next_model_or_doc_type_required"]=!1},modelsDropdownList(){this.model_list.forEach((e=>{const t=Object.assign({},{value:e.model_name,label:e.model_name});this.models.push(t),this.filteredModels.push(t)}))},filteredModelsEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filteredModels=this.models.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filteredModels=this.models})},filterDocTypeListEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filterDocTypeList=this.doc_type_list.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filterDocTypeList=this.doc_type_list})},submitNewColumFrom(){return Z(this,void 0,void 0,(function*(){try{if(!this.validateRow(this.new_model))return;this.loading=!0,yield this.saveNewRow()}catch(e){const t=A.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},saveNewRow(){return Z(this,void 0,void 0,(function*(){try{const e=this.setDataForApiRequest();let t;e.hasOwnProperty("id")&&(t=yield E.yX.updateLabel(e)),this.setNewModel();const l=new CustomEvent("record_saved",{detail:{}});document.dispatchEvent(l),this.showSuccessToast(this.$t("operation_sucessfull"))}catch(e){const t=A.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},setDataForApiRequest(){let e={};for(const[t,l]of Object.entries(this.new_model))e[t]=l||"";return e},validateRow(e){let t=!0;return this.resetErrors(),e["further_classification_model"]||e["associated_doc_type"]||(this.new_model["next_model_or_doc_type_required"]=!0,this.showErrorToast(this.$t("next_model_or_doc_type_required")),t=!1),t}}});var te=l(12807),le=l(23316),ae=l(36914),oe=l(39150),ie=l(56384),se=l(44189),ne=l(94940),re=l(50492),de=l(97410),ue=l(62669),ce=l(39035),pe=l(88672),he=l(98582),me=l.n(he);const _e=(0,te.A)(ee,[["render",Y]]),be=_e;me()(ee,"components",{QCard:le.A,QToolbar:ae.A,QToolbarTitle:oe.A,QBtn:ie.A,QCardSection:se.A,QSelect:ne.A,QIcon:re.A,QTooltip:de.A,QCardActions:ue.A,QInnerLoading:ce.A}),me()(ee,"directives",{ClosePopup:pe.A});var ve=l(24481),ge=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const fe=(0,a.pM)({el:"#app",mixins:[F.A,x.A,ve.A],components:{editCreateLabel:be},props:{model:{type:String,default:""}},watch:{model:{handler:function(e,t){this.setModelName(),this.getLabels()}}},data(){return{selectedRowId:(0,L.KR)(""),deleteConfirm:(0,L.KR)(!1)}},mounted(){this.initView(),document.addEventListener("record_saved",this.recordSaved)},unmounted:function(){document.removeEventListener("record_saved",this.recordSaved)},methods:{initView(){return ge(this,void 0,void 0,(function*(){try{this.loading=!0,this.setDocType(),this.setModelName(),yield this.getLabels(),this.prepareColumns()}catch(e){const t=A.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},setDocType(){this.doc_type="",this.$route.query&&this.$route.query.doc_type&&(this.doc_type=String(this.$route.query.doc_type),this.search_labels=this.doc_type)},setModelName(){this.model_name=this.model,this.$route.query&&this.$route.query.model&&(this.model_name=String(this.$route.query.model))},getLabels(){return ge(this,void 0,void 0,(function*(){try{if(!this.model_name)throw{message:"Cannot load List.Model Name is missing"};this.resetData();const e=yield E.yX.getModelLabels(this.model_name);if(!1===e.success)throw this.showErrorToast(e.message),{message:e.message};this.label_list=e,this.prepareRows(e),this.setLabelCount()}catch(e){}}))},prepareRows(e,t=!1){this.rows=[],e.sort(((e,t)=>e.priority-t.priority)),this.rows=e,this.setLabelsForModels(this.model_name,this.rows.length),t||""==this.doc_type||this.filterLabelsEvent()},resetData(){this.labels_count=0,this.label_list=[]},setLabelCount(){Array.isArray(this.label_list)&&0!=this.label_list.length&&(this.labels_count=this.label_list.length,this.setLabelsForModels(this.model_name,this.labels_count))},prepareColumns(){this.columns=[],this.columns.push(Object.assign({},{name:"label_name",label:this.$t("name"),field:"label_name",align:"left"})),this.columns.push(Object.assign({},{name:"further_classification_model",label:Q.i18n.t("next_model"),field:"further_classification_model",align:"left"})),this.columns.push(Object.assign({},{name:"associated_doc_type",label:this.$t("belegtyp"),field:"associated_doc_type",align:"left"})),this.columns.push(Object.assign({},{name:"associated_sub_doc_type",label:this.$t("sub_doc_type"),field:"associated_sub_doc_type",align:"left"})),this.columns.push(Object.assign({},{name:"priority",label:Q.i18n.t("priority"),field:"priority",align:"left"}))},editRow(e){this.edit_model=e,this.display_create_edit_dialog=!0},recordSaved(){this.getLabels(),this.display_create_edit_dialog=!1},filterLabelsEvent(){const e=["model_name"],t=this.search_labels.toLowerCase();let l=this.rows;t&&""!==t?(l=this.label_list.filter(((l,a)=>{let o=!1;for(let[i,s]of Object.entries(l)){let l=s,a=l&&null!==l?l.toString():"";if(l=a.toLowerCase(),l.includes(t)&&!e.includes(i)){o=!0;break}}return o})),this.prepareRows(l,!0)):this.prepareRows(l,!0)},removeFilter(){this.search_labels=""},docTypeLabel(e){return this.getDocTypeLabel({type:e.associated_doc_type||"",title:e.associated_doc_type_title||"",translation_key:e.associated_doc_type_translation_key||""})},subDocTypeLabel(e){return this.getDocTypeLabel({type:e.associated_sub_doc_type||"",title:e.associated_sub_doc_type_title||"",translation_key:e.associated_sub_doc_type_translation_key||""})}},setup(){const e=(0,X.yp)(),{setLabelsForModels:t}=e;return{setLabelsForModels:t,loading:(0,L.KR)(!1),label_list:(0,L.KR)([]),columns:(0,L.KR)([]),rows:(0,L.KR)([]),filter:(0,L.KR)(""),model_name:(0,L.KR)(""),labels_count:(0,L.KR)(0),display_create_edit_dialog:(0,L.KR)(!1),edit_model:(0,L.KR)({}),search_labels:(0,L.KR)(""),doc_type:(0,L.KR)("")}}});var ye=l(67837),ke=l(23954),we=l(857),Ce=l(82156),xe=l(3952);const Le=(0,te.A)(fe,[["render",$]]),Fe=Le;me()(fe,"components",{QInput:ye.A,QBadge:ke.A,QIcon:re.A,QMarkupTable:we.A,QBtn:ie.A,QTooltip:de.A,QDialog:Ce.A,QCard:le.A,QCardSection:se.A,QAvatar:xe.A,QCardActions:ue.A,QInnerLoading:ce.A}),me()(fe,"directives",{ClosePopup:pe.A});var Ee=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ae=(0,a.pM)({el:"#app",mixins:[F.A,x.A],components:{LabelsList:Fe},data(){return{selectedRowId:(0,L.KR)(""),deleteConfirm:(0,L.KR)(!1),selectedRowIndex:(0,L.KR)(0)}},mounted(){this.initView()},methods:{initView(){return Ee(this,void 0,void 0,(function*(){try{this.loading=!0,this.setDocType(),yield this.getAllModels(),this.prepareColumns()}catch(e){const t=A.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},setDocType(){this.doc_type="",this.$route.query&&this.$route.query.doc_type&&(this.doc_type=String(this.$route.query.doc_type))},getAllModels(){return Ee(this,void 0,void 0,(function*(){yield this.getModels()}))},prepareColumns(){this.columns=[],this.columns.push(Object.assign({},{name:"model_name",label:"Name",field:"model_name",align:"left"})),this.columns.push(Object.assign({},{name:"model_type",label:"Type",field:"model_type",align:"left"})),this.columns.push(Object.assign({},{name:"model_version",label:"Version",field:"model_version",align:"left"})),this.columns.push(Object.assign({},{name:"first_page_classification_only",label:"Only First Page Classification",field:"first_page_classification_only",align:"left"}))},setModelState(e){const t=this.getLableCountForModel(e["model_name"]);"0"==t||""==this.doc_type||e["triggered"]||(e["triggered"]=!0,e["expanded"]=!0)},deleteRow(){logInfo("deleteRow")},handleActive(e,t){return Ee(this,void 0,void 0,(function*(){const l={id:t.id,is_active:String(e)};yield E.yX.updateModel(l)}))}},setup(){const e=(0,X.yp)(),{setLabelsForModels:t,getLableCountForModel:l,getModels:a}=e,{model_list:o}=(0,J.bP)(e);return{getModels:a,getLableCountForModel:l,setLabelsForModels:t,loading:(0,L.KR)(!1),model_list:o,columns:(0,L.KR)([]),doc_type:(0,L.KR)("")}}});var Se=l(53999),De=l(88841),Ie=l(25173),Te=l(90124),Oe=l(10386);const Me=(0,te.A)(Ae,[["render",C],["__scopeId","data-v-29b6afa0"]]),Re=Me;me()(Ae,"components",{QList:Se.A,QExpansionItem:De.A,QItemSection:Ie.A,QBadge:ke.A,QItem:Te.A,QIcon:re.A,QBtn:ie.A,QSeparator:Oe.A,QCard:le.A,QCardSection:se.A,QDialog:Ce.A,QAvatar:xe.A,QCardActions:ue.A,QInnerLoading:ce.A}),me()(Ae,"directives",{ClosePopup:pe.A})},77362:(e,t,l)=>{"use strict";l.d(t,{A:()=>me});var a=l(61758),o=l(29104),i=l(58790);const s={key:0,class:"full-width sub-header bg-primary text-white"},n={key:0,class:"row header-padding relative"},r={class:"col-auto left-side q-ml-md"},d={key:0,class:"col-3 search-card"},u={key:1,class:"q-ml-auto mobile-hide display-flex"},c={class:"q-pl-md"},p={key:1,class:"sub-org"},h={class:"text-capitalize"},m={key:0,class:""},_={key:1,class:"row header-padding"},b={class:"col-6 left-side q-mr-auto ml-24"},v={class:"text-capitalize q-ml-sm"};function g(e,t,l,g,f,y){const k=(0,a.g2)("q-btn"),w=(0,a.g2)("Breadcrumb"),C=(0,a.g2)("q-input"),x=(0,a.g2)("TaskCounters"),L=(0,a.g2)("q-icon"),F=(0,a.g2)("q-item-section"),E=(0,a.g2)("q-item-label"),A=(0,a.g2)("q-item"),S=(0,a.g2)("q-select"),D=(0,a.g2)("SubscriptionAlert");return(0,a.uX)(),(0,a.CE)(a.FK,null,[""!==e.name?((0,a.uX)(),(0,a.CE)("div",s,[e.isMobile()?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.Lk)("span",b,[(0,a.bF)(k,{class:"mb-2",flat:"",onClick:t[4]||(t[4]=t=>e.drawer=!e.drawer),round:"",dense:"",icon:"menu"}),(0,a.Lk)("span",v,(0,i.v_)(e.label.toLowerCase()),1)])])):((0,a.uX)(),(0,a.CE)("div",n,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.organizations,((l,s)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:s},[(0,a.Lk)("span",r,[e.display_back_button?((0,a.uX)(),(0,a.Wv)(k,{key:0,rounded:"",dense:"",size:"12px",color:"primary",class:"text-white q-mr-sm",onClick:t[0]||(t[0]=t=>e.goBack()),icon:"keyboard_backspace"})):(0,a.Q3)("",!0),(0,a.bF)(w)]),e.onSearch?((0,a.uX)(),(0,a.CE)("span",d,[(0,a.bF)(C,{class:"width-150 white-field",dense:"",autofocus:"",outlined:"",placeholder:e.$t("search_supplier"),color:"white","label-color":"white",modelValue:e.searchInput,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchInput=t),onKeyup:(0,o.jR)(e.onKeyup,["enter"])},null,8,["placeholder","modelValue","onKeyup"])])):(0,a.Q3)("",!0),(0,a.RG)(e.$slots,"default",{},void 0,!0),e.$route.fullPath.includes("settings/document")?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("span",u,[(0,a.bF)(x),(0,a.Lk)("span",c,[l.sub_organisations.length>0?((0,a.uX)(),(0,a.Wv)(S,{key:0,color:"white","label-color":"white",borderless:"",dense:"","use-input":"","fill-input":"","hide-selected":"",style:{"max-width":"200px",width:"auto"},class:"white-input",modelValue:e.selectedSubOrg.name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedSubOrg.name=t),options:e.filteredSubOrgs,onFilter:e.searchSubOrgs},{prepend:(0,a.k6)((()=>[l.id==e.sub_org_id?((0,a.uX)(),(0,a.Wv)(L,{key:0,color:"white",name:"mediation"})):((0,a.uX)(),(0,a.Wv)(L,{key:1,color:"white",name:"img:settings/firmeninformation_white.svg"}))])),option:(0,a.k6)((t=>[(0,a.bF)(A,(0,a.v6)({ref_for:!0},t.itemProps,{onClick:l=>e.setSubOrg(t.opt)}),{default:(0,a.k6)((()=>[(0,a.bF)(F,{side:""},{default:(0,a.k6)((()=>[(0,a.bF)(L,{size:"xs",class:"icon-grey-svg",name:t.opt.id==l.id?"mediation":"img:settings/firmeninformation_white.svg"},null,8,["name"])])),_:2},1024),(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.bF)(E,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(t.opt.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1040,["onClick"])])),_:2},1032,["modelValue","options","onFilter"])):((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(A,{class:"gt-sm",dense:"",clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(F,{side:""},{default:(0,a.k6)((()=>[(0,a.bF)(L,{color:"white",name:"img:settings/firmeninformation_white.svg"})])),_:1}),(0,a.bF)(F,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",h,(0,i.v_)(e.sub_org_name?e.sub_org_name:l.name),1)])),_:2},1024)])),_:2},1024)]))]),e.display_help_link?((0,a.uX)(),(0,a.CE)("span",m,[(0,a.bF)(k,{flat:"",class:"helpbtn",color:"white",icon:"help",onClick:t[3]||(t[3]=t=>e.goHelp()),target:"_blank"})])):(0,a.Q3)("",!0)]))],64)))),128))]))])):(0,a.Q3)("",!0),e.show_expiry_alert?((0,a.uX)(),(0,a.Wv)(D,{key:1})):(0,a.Q3)("",!0)],64)}var f=l(1659),y=l(6044),k=l(24622),w=l(45938),C=l(60521),x=l(38734),L=l(73414),F=l(41498),E=l(73937),A=l(18505),S=l(76956);function D(e,t,l,o,i,s){const n=(0,a.g2)("f-btn"),r=(0,a.g2)("q-breadcrumbs-el"),d=(0,a.g2)("q-breadcrumbs");return(0,a.uX)(),(0,a.Wv)(d,{separator:"/"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.breadcrumbs,((e,t)=>((0,a.uX)(),(0,a.Wv)(r,{key:t,to:e.to,exact:!0,class:"text-white breadcrumb-element","active-class":"font-weight-500"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{flat:"",dense:"",label:e.label.toLowerCase(),class:"text-white",style:{"font-size":"15px"}},null,8,["label"])])),_:2},1032,["to"])))),128))])),_:1})}var I=l(60455);const T={name:"Breadcrumb",data(){return{breadcrumbs:[]}},setup(){const e=(0,I.lq)();return{route:e}},watch:{$route(){this.generateBreadcrumbs()}},mounted(){this.generateBreadcrumbs()},methods:{generateBreadcrumbs(){const{params:e}=this.route;if(!this.route.meta.primary_breadcrumbs)return;let t=this.route.meta.primary_breadcrumbs,l="";this.$router.options.history.state.back&&(l=this.$router.options.history.state.back.replace("/",""),l=l.replaceAll("/","_"),Object.keys(e).forEach((t=>{l=l.replaceAll(e[t],"")})),l.endsWith("_")?l+="breadcrumbs":l+="_breadcrumbs"),this.route.meta[l]&&(t=this.route.meta[l]);const a=t.map((t=>{const l={...t};return Object.keys(e).forEach((t=>{l.path=l.path.replace(`:${t}`,e[t]),l.label=l.label.replace(`:${t}`,e[t])})),l.path=l.path.replace(/:([^\/]*)/g,""),{label:this.$t(l.label),to:l.path}}));this.breadcrumbs=a}}};var O=l(12807),M=l(70812),R=l(85841),P=l(98582),q=l.n(P);const V=(0,O.A)(T,[["render",D]]),N=V;q()(T,"components",{QBreadcrumbs:M.A,QBreadcrumbsEl:R.A});var B=l(36801),$=l(68130);const Q={class:"secondary-c-text float-right"},X={class:"flip-clock"},W={class:"count__piece gt-sm text-white text-uppercase title"},K={class:"count__piece"},U={class:"card"},j={class:"card__top doc_count"};function z(e,t,l,o,s,n){const r=(0,a.g2)("q-tooltip");return(0,a.uX)(),(0,a.CE)("div",Q,[(0,a.Lk)("div",X,[(0,a.Lk)("span",W,(0,i.v_)(e.$t("pending_documents"))+": ",1),(0,a.Lk)("span",K,[(0,a.Lk)("b",U,[(0,a.Lk)("b",j,(0,i.v_)(e.doc_queue),1)]),(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("document_count")),1)])),_:1})]),(0,a.Q3)("",!0)])])}var H=l(11470),G=l(46162),Y=l(83319),J=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Z=(0,a.pM)({el:"#app",mixins:[],watch:{isConnected:{handler:function(e,t){this.subscribeToTasksCountChannel()}},pending_docs:{deep:!0,handler:function(e,t){this.parseResponse(e)}}},mounted:function(){this.initView(),document.addEventListener("dashboard_refresh",this.refreshCount)},unmounted:function(){document.removeEventListener("dashboard_refresh",this.refreshCount),this.clearCounterInterval()},data(){return{CounterInterval:0}},methods:{initView(){return J(this,void 0,void 0,(function*(){try{if(yield this.getStats(),G.LR)return void this.subscribeToTasksCountChannel();this.intervalManager()}catch(e){this.clearCounterInterval()}finally{this.request_processing=!1}}))},parseResponse(e){if(e&&e.hasOwnProperty("api-tasks")&&e.hasOwnProperty("total")){const t=e["total"];this.doc_queue="00",isNaN(t)||"number"!==typeof t||(this.doc_queue=Number(t),this.doc_queue<10&&(this.doc_queue="0"+this.doc_queue))}},refreshCount(){this.request_processing||this.getStats()},getStats(){return J(this,void 0,void 0,(function*(){if(this.subscribed_channels.has("pending_docs"))return;this.request_processing=!0;const e=yield H.z6.getTasksState();try{if(!e)throw this.clearCounterInterval(),e;this.parseResponse(e)}catch(t){logError(t)}finally{this.request_processing=!1}}))},clearCounterInterval(){clearInterval(this.CounterInterval)},intervalManager(){this.CounterInterval=setInterval((()=>{this.getStats()}),6e4)},subscribeToTasksCountChannel(){"/dashboard"===this.$route.path&&this.subscribeToChannel("pending_docs")}},setup(){const e=(0,Y.G6)(),{isConnected:t,pending_docs:l,subscribed_channels:a}=(0,f.bP)(e),{subscribeToChannel:o,unsubscribeToChannel:i}=e;return{subscribed_channels:a,unsubscribeToChannel:i,pending_docs:l,subscribeToChannel:o,isConnected:t,doc_queue:(0,x.KR)("00"),trocr_queue:(0,x.KR)("00"),request_processing:(0,x.KR)(!1)}}});var ee=l(97410);const te=(0,O.A)(Z,[["render",z],["__scopeId","data-v-9e0c9092"]]),le=te;q()(Z,"components",{QTooltip:ee.A});var ae=l(17186),oe=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const ie=(0,a.pM)({components:{SubscriptionAlert:ae.A,TaskCounters:le,Breadcrumb:N},mixins:[y.A,A.A,k.A,C.A],props:{onSearch:{type:Boolean,default:!1},name:{type:String,default:""},label:{type:String,default:""},show_expiry_alert:{type:Boolean,default:!0},display_help_link:{type:Boolean,default:!0},display_back_button:{type:Boolean,default:!1},back_to_link:{type:String,default:""}},data(){return{searchInput:(0,x.KR)(""),orgSearch:(0,x.KR)(""),filteredSubOrgs:(0,x.KR)([]),is_sub_org:!1}},mounted:function(){this.init(),document.addEventListener("addAllSubOrg",this.addAllSubOrg),document.addEventListener("removeAllSubOrg",this.removeAllSubOrg)},unmounted:function(){document.removeEventListener("addAllSubOrg",this.addAllSubOrg),document.addEventListener("removeAllSubOrg",this.removeAllSubOrg)},methods:{searchSubOrgs(e,t){t(""!==e?()=>{const t=e.toLowerCase();this.filteredSubOrgs=this.subOrganisationsList.filter((e=>e.name.toLowerCase().indexOf(t)>-1))}:()=>{this.filteredSubOrgs=this.subOrganisationsList})},init(){return oe(this,void 0,void 0,(function*(){try{yield this.getUserOrganizations(),yield this.refreshSettings(),yield this.getSubOrgId(),this.getSubInfo(),this.selectedSubOrg=this.subOrganisationsList.find((e=>e.id===this.sub_org_id)),this.filteredSubOrgs=this.subOrganisationsList}catch(e){logError(e)}}))},refreshSettings(e=!1){return oe(this,void 0,void 0,(function*(){if(yield this.startSettingsFetch(),!e)return;this.clearStorageForRefresh(),yield w.tH.fetch(),yield this.refreshUserOrganizations();const t=(0,Y.q3)();t.resetDocStore(this.$route.fullPath),this.$router.go(0)}))},getSubInfo(){if(this.is_sub_org=!1,!this.organizations||0==this.organizations.length)return;if(0==this.organizations[0].sub_organisations.length)return;this.is_sub_org=!0,this.subOrganisationsList.push(...this.organizations[0].sub_organisations),this.sortRows();const e=(0,B.PL)(S.nA);(0,E.Wl)()&&e&&this.addAllSubOrg()},removeAllSubOrg(){this.subOrganisationsList.shift(),S.ir.id==this.sub_org_id&&this.setSubOrg(this.subOrganisationsList[0])},addAllSubOrg(){this.allSubOrgsMenu.id=this.organizations[0].id,this.allSubOrgsMenu.org_id=this.organizations[0].id,this.subOrganisationsList.unshift(this.allSubOrgsMenu)},sortRows(){const e=this.user_settings[S.C5];if(!e)return;const t=JSON.parse(e);this.customSort(this.subOrganisationsList,t.sort_by,t.sort_order)},setSubOrg(e){return oe(this,void 0,void 0,(function*(){try{this.showLoading();const t=String(e.id);if(!t)return void this.showErrorToast("no organization selected");this.selectedSubOrg=e,this.selectedSubOrg=e,yield $.E.setSubOrgId(t),yield this.refreshAndGetSubOrgId(),this.$router.go(0)}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.hideLoading()}}))},onKeyup(){const e=this.searchInput.toLowerCase();this.$emit("matched-settings",e)},goHelp(){let e=(0,F.TEc)(this.name);e&&("string"!=typeof e&&(e="https://docs.docbits.com/"),window.open(e))},goBack(){window.location.href=this.back_to_link}},setup(){const e=(0,Y.Bu)(),{startSettingsFetch:t}=e,{user_settings:l,drawer:a}=(0,f.bP)(e),o=(0,Y.kH)(),{getUserOrganizations:i,getSubOrgId:s,refreshAndGetSubOrgId:n,refreshUserOrganizations:r}=o,{userFullName:d,organizations:u,sub_org_id:c,sub_org_name:p,main_orgainzation:h,allSubOrgsMenu:m}=(0,f.bP)(o);return{user_settings:l,drawer:a,isMobile:L.Fr,getUserOrganizations:i,startSettingsFetch:t,getSubOrgId:s,refreshAndGetSubOrgId:n,refreshUserOrganizations:r,userFullName:d,organizations:u,sub_org_id:c,sub_org_name:p,main_orgainzation:h,allSubOrgsMenu:m,subOrganisationsList:(0,x.KR)([]),selectedSubOrg:(0,x.KR)({})}}});var se=l(56384),ne=l(67837),re=l(94940),de=l(50492),ue=l(90124),ce=l(25173),pe=l(13796);const he=(0,O.A)(ie,[["render",g],["__scopeId","data-v-712833ee"]]),me=he;q()(ie,"components",{QBtn:se.A,QInput:ne.A,QSelect:re.A,QIcon:de.A,QItem:ue.A,QItemSection:ce.A,QItemLabel:pe.A})},88694:(e,t,l)=>{"use strict";l.d(t,{A:()=>_});var a=l(61758);const o={id:"app"};function i(e,t,l,i,s,n){const r=(0,a.g2)("prism-editor");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(r,{class:"special-rules-editor",modelValue:this.current_model.xslt_data,"onUpdate:modelValue":t[0]||(t[0]=e=>this.current_model.xslt_data=e),highlight:e.highlighter,"line-numbers":"",tabSize:4,readonly:e.isReadOnly},null,8,["modelValue","highlight","readonly"])])}var s=l(83319),n=l(1659),r=l(57706),d=l(10828),u=(l(53749),l(75125),l(46843),l(81623)),c=l.n(u);const p=(0,a.pM)({el:"#app",mixins:[],props:{formatCode:{type:Boolean,required:!0}},components:{PrismEditor:r.N},data(){return{}},mounted:function(){window.pyCodeEditor=this,""===this.current_model["xslt_data"]&&this.addExampleCode()},unmounted:function(){},watch:{formatCode(e){e&&this.formatXmlCode()}},methods:{formatXmlCode(){try{this.current_model["xslt_data"]=c().html(this.current_model["xslt_data"],{...this.formatOptions}),this.$emit("formatComplete",!1)}catch(e){logError("Error formatting XML code:",e)}},highlighter(e){return(0,d.highlight)(e,d.languages.markup,"markup")},addExampleCode(){this.current_model["xslt_data"]='\n<?xml version="1.0" encoding="UTF-8"?>\n\n<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n\n    <xsl:output method="xml" />\n    <xsl:strip-space elements="*" />\n\n    <xsl:template match="/document">\n    <dokument>\n        <filename><xsl:value-of select="filename" /></filename>\n        <basic_info>\n            <invoice_number><xsl:value-of select="fields_compact/invoice_id" /></invoice_number>\n            <date><xsl:value-of select="fields_compact/invoice_date" /></date>\n        </basic_info>\n        <amounts>\n            <net_amount><xsl:value-of select="fields_compact/net_amount" /></net_amount>\n            <total_amount><xsl:value-of select="fields_compact/total_amount" /></total_amount>\n        </amounts>\n    </dokument>\n\n\n    </xsl:template>\n\n</xsl:stylesheet>'}},setup(){const e=(0,s.If)(),{current_model:t,isReadOnly:l}=(0,n.bP)(e);return{current_model:t,isReadOnly:l,formatOptions:{indent_size:4,indent_char:" ",eol:"\n",end_with_newline:!1,preserve_newlines:!0,max_preserve_newlines:2,indent_inner_html:!0,wrap_line_length:0,unformatted:[],extra_liners:[]}}}});var h=l(12807);const m=(0,h.A)(p,[["render",i],["__scopeId","data-v-e4e31fe2"]]),_=m},22769:(e,t,l)=>{"use strict";l.d(t,{A:()=>h});var a=l(61758);const o={id:"app"};function i(e,t,l,i,s,n){const r=(0,a.g2)("prism-editor");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(r,{class:"special-rules-editor",modelValue:e.value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),highlight:e.highlighter,"line-numbers":"",tabSize:4},null,8,["modelValue","highlight"])])}var s=l(57706),n=l(10828),r=(l(53749),l(75125),l(46843),l(81623)),d=l.n(r);const u=(0,a.pM)({el:"#app",mixins:[],props:{editorValue:{type:String,required:!0},formatCode:{type:Boolean,required:!0}},components:{PrismEditor:s.N},data(){return{value:this.editorValue}},setup(){return{formatOptions:{indent_size:4,indent_char:" ",eol:"\n",end_with_newline:!1,preserve_newlines:!0,max_preserve_newlines:2,indent_inner_html:!0,wrap_line_length:0,unformatted:[],extra_liners:[]}}},watch:{editorValue(e){this.value=e},value(e){this.$emit("updated-value",e)},formatCode(e){e&&this.formatHtmlCode()}},methods:{formatHtmlCode(){try{this.value=d().html(this.value,{...this.formatOptions}),this.$emit("formatComplete",!1)}catch(e){logError("Error formatting HTML code:",e)}},highlighter(e){return(0,n.highlight)(e,n.languages.markup,"markup")}}});var c=l(12807);const p=(0,c.A)(u,[["render",i],["__scopeId","data-v-73f3c449"]]),h=p},41360:(e,t,l)=>{"use strict";l.d(t,{A:()=>To});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-1eab2e99"),e=e(),(0,a.jt)(),e),s={"data-cy":"select-integration",class:"text-h6 text-white"},n={style:{"margin-top":"20px"}},r=i((()=>(0,a.Lk)("span",{style:{"letter-spacing":"1px"}},"Webhook",-1))),d={style:{"margin-top":"20px"}},u=i((()=>(0,a.Lk)("span",{style:{"letter-spacing":"1px"}},"SFTP",-1))),c={style:{"margin-top":"20px"}},p=i((()=>(0,a.Lk)("span",{style:{"letter-spacing":"1px"}},"Infor Export to SFTP",-1))),h={style:{"margin-top":"20px"}},m=i((()=>(0,a.Lk)("span",{style:{"letter-spacing":"1px"}},"SMB",-1))),_={style:{"margin-top":"20px"}},b=i((()=>(0,a.Lk)("img",{width:"30",src:"images/flow2.svg"},null,-1))),v=i((()=>(0,a.Lk)("span",{style:{"letter-spacing":"1px"}},"Flow",-1))),g={style:{"margin-top":"20px"}},f=i((()=>(0,a.Lk)("img",{width:"53",src:"images/zugferd-icon.svg"},null,-1))),y=i((()=>(0,a.Lk)("span",{style:{"letter-spacing":"1px"}},"ZUGFeRD",-1))),k={style:{"margin-top":"20px"}},w=i((()=>(0,a.Lk)("img",{src:"images/infor.jpg"},null,-1))),C=i((()=>(0,a.Lk)("span",{style:{"letter-spacing":"1px"}},"Infor IDM",-1))),x={style:{"margin-top":"20px"}},L=i((()=>(0,a.Lk)("img",{src:"images/infor.jpg"},null,-1))),F=i((()=>(0,a.Lk)("span",{style:{"letter-spacing":"1px"}},"Infor ION",-1))),E={style:{"margin-top":"20px"}},A=i((()=>(0,a.Lk)("img",{src:"images/infor.jpg"},null,-1))),S=i((()=>(0,a.Lk)("span",{style:{"letter-spacing":"1px"}},"Infor IDM + ION BOD",-1))),D={style:{"margin-top":"20px"}},I=i((()=>(0,a.Lk)("img",{src:"images/infor.jpg"},null,-1))),T=i((()=>(0,a.Lk)("span",{style:{"letter-spacing":"1px"}},"Infor IDM + LN",-1))),O={style:{"margin-top":"20px"}},M=i((()=>(0,a.Lk)("img",{src:"images/infor.jpg"},null,-1))),R=i((()=>(0,a.Lk)("span",{style:{"letter-spacing":"1px"}},"Infor IDM + M3",-1))),P={style:{"margin-top":"20px"}},q=i((()=>(0,a.Lk)("img",{src:"images/infor.jpg"},null,-1))),V=i((()=>(0,a.Lk)("span",{style:{"letter-spacing":"1px"}},"Infor IDM + M3 (toml)",-1)));function N(e,t,l,i,N,B){const $=(0,a.g2)("q-space"),Q=(0,a.g2)("q-btn"),X=(0,a.g2)("q-card-section"),W=(0,a.g2)("q-icon"),K=(0,a.g2)("q-avatar"),U=(0,a.g2)("q-badge"),j=(0,a.g2)("q-card"),z=(0,a.g2)("InforIdm"),H=(0,a.g2)("Webhook"),G=(0,a.g2)("Flow2"),Y=(0,a.g2)("InforIonBOD"),J=(0,a.g2)("InforIon"),Z=(0,a.g2)("Zugferd"),ee=(0,a.g2)("Peppol"),te=(0,a.g2)("InforLN"),le=(0,a.g2)("InforM3"),ae=(0,a.g2)("SFTP"),oe=(0,a.g2)("InforSFTP"),ie=(0,a.g2)("SMB"),se=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[""===e.selected_export?((0,a.uX)(),(0,a.Wv)(j,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{"min-height":"300px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(X,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",s,[(0,a.Lk)("b",null,(0,o.v_)(e.$t("pages.export.selectintegration")),1)]),(0,a.bF)($),(0,a.bo)((0,a.bF)(Q,{icon:"close",flat:"",round:"",color:"white",dense:"",onClick:e.clearStateForExportDialog},null,8,["onClick"]),[[se]])])),_:1}),(0,a.bF)(X,{style:{display:"flex","justify-content":"center","padding-bottom":"35px"}},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{class:"rectangle",onClick:t[0]||(t[0]=t=>e.selectedNewExport(e.export_types.WEBHOOK))},[(0,a.Lk)("div",n,[(0,a.bF)(Q,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px",round:"",class:"integration-icon","data-cy":"web-hook",icon:"upload"})]),r]),(0,a.Lk)("div",{class:"rectangle",onClick:t[1]||(t[1]=t=>e.selectedNewExport(e.export_types.SFTP))},[(0,a.Lk)("div",d,[(0,a.bF)(Q,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px",round:"",class:"integration-icon","data-cy":"web-hook",icon:"upload"})]),u]),(0,a.Lk)("div",{class:"rectangle",onClick:t[2]||(t[2]=t=>e.selectedNewExport(e.export_types.INFORSFTP))},[(0,a.Lk)("div",c,[(0,a.bF)(Q,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px",round:"",class:"integration-icon","data-cy":"web-hook",icon:"upload"})]),p]),(0,a.Lk)("div",{class:"rectangle",onClick:t[3]||(t[3]=t=>e.selectedNewExport(e.export_types.SMB_WITH_JPL))},[(0,a.Lk)("div",h,[(0,a.bF)(Q,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px",round:"",class:"integration-icon","data-cy":"web-hook",icon:"upload"})]),m]),(0,a.Lk)("div",{class:"rectangle",onClick:t[4]||(t[4]=t=>e.selectedNewExport(e.export_types.FLOW2))},[(0,a.Lk)("div",_,[(0,a.bF)(Q,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px",round:"",class:"integration-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(W,{class:"text-red-13",size:"md"},{default:(0,a.k6)((()=>[b])),_:1})])),_:1})]),v]),(0,a.Lk)("div",{class:"rectangle",onClick:t[5]||(t[5]=t=>e.selectedNewExport(e.export_types.ZUGFERD))},[(0,a.Lk)("div",g,[(0,a.bF)(Q,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px",round:"",class:"integration-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(W,{class:"text-red-13",size:"md"},{default:(0,a.k6)((()=>[f])),_:1})])),_:1})]),y]),(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(X,{style:{display:"flex","justify-content":"center","padding-bottom":"35px"}},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{class:"rectangle",onClick:t[7]||(t[7]=t=>e.selectedNewExport(e.export_types.INFOR_IDM_CLOUD))},[(0,a.Lk)("div",k,[(0,a.bF)(Q,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px","data-cy":"idm",round:"",class:"integration-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(K,{class:"avatar"},{default:(0,a.k6)((()=>[w])),_:1})])),_:1})]),C]),(0,a.Lk)("div",{class:"rectangle",onClick:t[8]||(t[8]=t=>e.selectedNewExport(e.export_types.INFOR_BOD_CLOUD))},[(0,a.Lk)("div",x,[(0,a.bF)(Q,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px","data-cy":"idm",round:"",class:"integration-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(K,{class:"avatar"},{default:(0,a.k6)((()=>[L])),_:1})])),_:1})]),F]),(0,a.Lk)("div",{class:"rectangle",onClick:t[9]||(t[9]=t=>e.selectedNewExport(e.export_types.INFOR_ION_CLOUD))},[(0,a.Lk)("div",E,[(0,a.bF)(Q,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px","data-cy":"ion",round:"",class:"integration-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(K,{class:"avatar"},{default:(0,a.k6)((()=>[A])),_:1})])),_:1})]),S]),(0,a.Lk)("div",{class:"rectangle",onClick:t[10]||(t[10]=t=>e.selectedNewExport(e.export_types.INFOR_LN_CLOUD))},[(0,a.Lk)("div",D,[(0,a.bF)(Q,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px","data-cy":"ion",round:"",class:"integration-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(K,{class:"avatar"},{default:(0,a.k6)((()=>[I,(0,a.bF)(U,{color:"orange",floating:""},{default:(0,a.k6)((()=>[(0,a.eW)("API")])),_:1})])),_:1})])),_:1})]),T]),(0,a.Lk)("div",{class:"rectangle",onClick:t[11]||(t[11]=t=>e.selectedNewExport(e.export_types.INFOR_M3_CLOUD))},[(0,a.Lk)("div",O,[(0,a.bF)(Q,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px","data-cy":"ion",round:"",class:"integration-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(K,{class:"avatar"},{default:(0,a.k6)((()=>[M,(0,a.bF)(U,{color:"orange",floating:""},{default:(0,a.k6)((()=>[(0,a.eW)("API")])),_:1})])),_:1})])),_:1})]),R])])),_:1}),(0,a.bF)(X,{style:{display:"flex","justify-content":"center","padding-bottom":"35px"}},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{class:"rectangle",onClick:t[12]||(t[12]=t=>e.selectedNewExport(e.export_types.INFOR_M3_TOML_CLOUD))},[(0,a.Lk)("div",P,[(0,a.bF)(Q,{style:{"margin-bottom":"25px","pointer-events":"none"},size:"25px","data-cy":"ion",round:"",class:"integration-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(K,{class:"avatar"},{default:(0,a.k6)((()=>[q,(0,a.bF)(U,{color:"orange",floating:""},{default:(0,a.k6)((()=>[(0,a.eW)("API")])),_:1})])),_:1})])),_:1})]),V])])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(z),(0,a.bF)(H),(0,a.bF)(G),(0,a.bF)(Y),(0,a.bF)(J),(0,a.bF)(Z),(0,a.bF)(ee),(0,a.bF)(te),(0,a.bF)(le),(0,a.bF)(ae),(0,a.bF)(oe),(0,a.bF)(ie)],64)}const B=(0,a.Lk)("div",{"data-cy":"select-integration",class:"text-h6 text-white"},[(0,a.Lk)("b",null,"SMB")],-1),$={class:"row full-width mb-10"},Q={class:"col-12"},X={class:"row full-width mb-10"},W={class:"col-6"},K={class:"col-6 pl-20"},U={class:"row full-width mb-10"},j={class:"col-6"},z={class:"col-6 pl-20"},H={class:"row full-width mb-10"},G={class:"col-12"},Y={class:"row full-width mb-10"},J={class:"col-6"},Z={class:"col-2 pl-20"},ee={class:"col-4 pl-20"},te={style:{"text-align":"center"}},le={class:"q-ml-xl"};function ae(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-input"),p=(0,a.g2)("SubOrgSelect"),h=(0,a.g2)("q-tooltip"),m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-select"),b=(0,a.g2)("q-file"),v=(0,a.g2)("f-btn"),g=(0,a.g2)("q-card"),f=(0,a.gN)("close-popup");return e.selected_export===e.export_types.SMB_WITH_JPL&&e.configuration?((0,a.uX)(),(0,a.Wv)(g,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{height:"500px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[B,(0,a.bF)(r),(0,a.bo)((0,a.bF)(d,{icon:"close",flat:"",color:"white",round:"",dense:"",onClick:e.clearConfiguration},null,8,["onClick"]),[[f]])])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",$,[(0,a.Lk)("div",Q,[(0,a.bF)(c,{modelValue:e.configuration["title"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.configuration["title"]=t),label:e.$t("title"),outlined:""},null,8,["modelValue","label"])])]),(0,a.Lk)("div",X,[(0,a.Lk)("div",W,[(0,a.bF)(p)]),(0,a.Lk)("div",K,[(0,a.bF)(_,{modelValue:e.configuration["doc_type"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.configuration["doc_type"]=t),outlined:"","data-cy":"doc-type",options:e.doc_type_list,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},{append:(0,a.k6)((()=>[e.errors["doc_type"]?((0,a.uX)(),(0,a.Wv)(m,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","options","label"])])]),(0,a.Lk)("div",U,[(0,a.Lk)("div",j,[(0,a.bF)(c,{modelValue:e.configuration["username"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.configuration["username"]=t),label:e.$t("username"),outlined:"",class:"full-width"},{append:(0,a.k6)((()=>[e.errors["username"]?((0,a.uX)(),(0,a.Wv)(m,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])]),(0,a.Lk)("div",z,[(0,a.bF)(c,{modelValue:e.configuration["password"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.configuration["password"]=t),label:e.$t("password"),type:"password",outlined:"",class:"full-width"},{append:(0,a.k6)((()=>[e.errors["password"]?((0,a.uX)(),(0,a.Wv)(m,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])])]),(0,a.Lk)("div",H,[(0,a.Lk)("div",G,[(0,a.bF)(c,{class:"export_url full-width",outlined:"",modelValue:e.configuration["export_url"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.configuration["export_url"]=t),label:e.$t("server_url")},{append:(0,a.k6)((()=>[e.errors["export_url"]?((0,a.uX)(),(0,a.Wv)(m,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])])]),(0,a.Lk)("div",Y,[(0,a.Lk)("div",J,[(0,a.bF)(b,{modelValue:e.configuration.jpl_mapping_file,"onUpdate:modelValue":t[5]||(t[5]=t=>e.configuration.jpl_mapping_file=t),label:e.$t("jpl_mapping"),"data-cy":"ion-file",outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.jpl_mapping?((0,a.uX)(),(0,a.Wv)(v,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[6]||(t[6]=t=>e.downloadMappingFile("JPL_MAPPING","JPL-Mapping.properties",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Z,[(0,a.bF)(c,{outlined:"",modelValue:e.configuration.export_port,"onUpdate:modelValue":t[7]||(t[7]=t=>e.configuration.export_port=t),label:e.$t("port"),class:"full-width"},{append:(0,a.k6)((()=>[e.errors["export_port"]?((0,a.uX)(),(0,a.Wv)(m,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])]),(0,a.Lk)("div",ee,[(0,a.bF)(c,{outlined:"",modelValue:e.configuration.export_folder,"onUpdate:modelValue":t[8]||(t[8]=t=>e.configuration.export_folder=t),label:e.$t("folder"),class:"full-width"},{append:(0,a.k6)((()=>[e.errors["export_folder"]?((0,a.uX)(),(0,a.Wv)(m,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])])])])),_:1}),(0,a.Lk)("div",te,[(0,a.Lk)("div",le,[(0,a.bF)(v,{appearance:"cancel","data-cy":"back",label:e.$t("pages.export.back"),onClick:t[9]||(t[9]=t=>{e.clearConfiguration()})},null,8,["label"]),0!==e.configuration.id?((0,a.uX)(),(0,a.Wv)(v,{key:0,style:{"margin-left":"10px"},label:e.$t("test_connection"),onClick:e.testConnection},null,8,["label","onClick"])):(0,a.Q3)("",!0),(0,a.bF)(v,{style:{"margin-left":"10px"},label:e.$t("pages.user.save"),onClick:e.saveConfig},null,8,["label","onClick"])])])])),_:1})):(0,a.Q3)("",!0)}var oe=l(24622),ie=l(38734),se=l(83319),ne=l(1659),re=l(11470),de=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const ue={methods:{downloadMappingFile(e,t,l){return de(this,void 0,void 0,(function*(){try{const a=yield re.Y1.getMappingFile(l,e);if(a.error)throw a.error;const o=window.URL.createObjectURL(new Blob([a])),i=document.createElement("a");i.href=o,i.setAttribute("download",t),document.body.appendChild(i),i.click(),i.remove()}catch(a){logError(a)}}))}}};function ce(e,t,l,o,i,s){const n=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(n,{outlined:"",clearable:"",modelValue:e.selected_configuration["sub_org_id"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected_configuration["sub_org_id"]=t),"use-input":"",options:e.filterSubOrgsList,onFilter:e.filterSubOrgslistEvent,label:e.$t("sub_organizations"),loading:e.sub_org_list_loading,"emit-value":"","map-options":""},null,8,["modelValue","options","onFilter","label","loading"])}const pe=(0,a.pM)({mixins:[],props:{},watch:{},methods:{filterSubOrgslistEvent(e,t,l){t(e?()=>{const t=e.toLowerCase();this.filterSubOrgsList=this.subOrgList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filterSubOrgsList=this.subOrgList})}},setup(){const e=(0,se.cY)(),t=(0,ie.KR)(e.subOrgList),{subOrgList:l,sub_org_list_loading:a}=(0,ne.bP)(e),o=(0,se.t8)(),{selected_configuration:i}=(0,ne.bP)(o);return{selected_configuration:i,filterSubOrgsList:t,subOrgList:l,sub_org_list_loading:a}}});var he=l(12807),me=l(94940),_e=l(98582),be=l.n(_e);const ve=(0,he.A)(pe,[["render",ce]]),ge=ve;be()(pe,"components",{QSelect:me.A});var fe=l(64775),ye=l(7813),ke=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const we=(0,a.pM)({mixins:[ue,oe.A],components:{SubOrgSelect:ge},data(){return{}},watch:{},mounted:function(){this.setErrors();const e="thi5i5@very5ecurehardc0d3denCrIp";if(void 0==e)throw"Missing EMAIL_ENCRYPTION_KEY env - unable to load";this.EMAIL_ENCRYPTION_KEY=e,this.configuration.password&&(this.configuration.password=this.decryptPassword(this.configuration.password).toString(ye.fk.Utf8))},methods:{setErrors(){for(let[e,t]of Object.entries(this.configuration))this.required_fields.includes(e)&&!t&&(this.errors[e]=!1)},validateAndDisplayErrors(){let e=!0;for(let[t,l]of Object.entries(this.configuration))this.required_fields.includes(t)&&!l?(this.errors[t]=!0,e=!1):this.errors[t]=!1;return e},encryptPassword(){var e=ye.fk.Utf8.parse(this.EMAIL_ENCRYPTION_KEY),t=ye.c5.encrypt(this.configuration.password,e,{mode:ye.Mq.ECB,padding:ye.eV.PKCS7});return t},decryptPassword(e){var t=ye.fk.Utf8.parse(this.EMAIL_ENCRYPTION_KEY),l=ye.c5.decrypt(e,t,{mode:ye.Mq.ECB});return l},saveConfig(){return ke(this,void 0,void 0,(function*(){try{if(!this.validateAndDisplayErrors())return;this.processing=!0;let e={};e.username=this.configuration.username,e.password=this.encryptPassword().toString(),e.server_url=this.configuration.export_url,e.doc_type=this.configuration.doc_type,e.title=this.configuration.title,e.export_folder=this.configuration.export_folder,e.port=this.configuration.export_port,0!==this.configuration.id&&(e.config_id=this.configuration.id),this.configuration.jpl_mapping_file&&(e.jpl_mapping=this.configuration.jpl_mapping_file),this.configuration.hasOwnProperty("sub_org_id")&&null!==this.configuration.sub_org_id&&(e.sub_org_id=this.configuration.sub_org_id),yield re.Y1.saveSMBConfig(e),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.config_saved=!0}catch(e){if(logError(e),e&&e.hasOwnProperty("message"))return void this.showErrorToast(e.message);this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing=!1}}))},testConnection(){return ke(this,void 0,void 0,(function*(){try{if(0==this.configuration.id)return;this.processing=!0;const e={config_id:this.configuration.id},t=yield re.Y1.testSMB(e);if(!1===t.success)throw{message:t.message};this.showSuccessToast(this.$t("test_connection_success"))}catch(e){const t=fe.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1}}))}},setup(){const e=(0,se.cY)(),{doc_type_list:t}=(0,ne.bP)(e),l=(0,se.t8)(),{clearConfiguration:a,selectedNewExport:o}=l,{selected_export:i,selected_configuration:s,config_saved:n,processing:r,export_types:d}=(0,ne.bP)(l);return{selected_export:i,configuration:s,doc_type_list:t,clearConfiguration:a,selectedNewExport:o,config_saved:n,processing:r,export_types:d,errors:(0,ie.KR)({}),required_fields:(0,ie.KR)(["title","doc_type","username","password","export_url","port","export_folder"]),EMAIL_ENCRYPTION_KEY:(0,ie.KR)("")}}});var Ce=l(23316),xe=l(44189),Le=l(93676),Fe=l(56384),Ee=l(67837),Ae=l(50492),Se=l(97410),De=l(99980),Ie=l(88672);const Te=(0,he.A)(we,[["render",ae]]),Oe=Te;be()(we,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QInput:Ee.A,QSelect:me.A,QIcon:Ae.A,QTooltip:Se.A,QFile:De.A}),be()(we,"directives",{ClosePopup:Ie.A});const Me=(0,a.Lk)("div",{"data-cy":"select-integration",class:"text-h6 text-white"},[(0,a.Lk)("b",null,"SFTP")],-1),Re={class:"row full-width mb-10"},Pe={class:"col-12"},qe={class:"row full-width mb-10"},Ve={class:"col-6"},Ne={class:"col-6 pl-20"},Be={class:"row full-width mb-10"},$e={class:"col-6"},Qe={class:"col-6 pl-20"},Xe={class:"row full-width mb-10"},We={class:"col-12"},Ke={class:"row full-width mb-10"},Ue={class:"col-6"},je={class:"col-2 pl-20"},ze={class:"col-4 pl-20"},He={style:{"text-align":"center"}},Ge={class:"q-ml-xl"};function Ye(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-icon"),h=(0,a.g2)("q-input"),m=(0,a.g2)("SubOrgSelect"),_=(0,a.g2)("q-select"),b=(0,a.g2)("q-file"),v=(0,a.g2)("f-btn"),g=(0,a.g2)("q-card"),f=(0,a.gN)("close-popup");return e.selected_export===e.export_types.SFTP&&e.configuration?((0,a.uX)(),(0,a.Wv)(g,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{height:"500px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[Me,(0,a.bF)(r),(0,a.bo)((0,a.bF)(d,{icon:"close",flat:"",color:"white",round:"",dense:"",onClick:e.clearConfiguration},null,8,["onClick"]),[[f]])])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Re,[(0,a.Lk)("div",Pe,[(0,a.bF)(h,{modelValue:e.configuration["title"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.configuration["title"]=t),label:e.$t("title"),outlined:""},{append:(0,a.k6)((()=>[e.errors["title"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])])]),(0,a.Lk)("div",qe,[(0,a.Lk)("div",Ve,[(0,a.bF)(m)]),(0,a.Lk)("div",Ne,[(0,a.bF)(_,{modelValue:e.configuration["doc_type"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.configuration["doc_type"]=t),outlined:"","data-cy":"doc-type",options:e.doc_type_list,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},{append:(0,a.k6)((()=>[e.errors["doc_type"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","options","label"])])]),(0,a.Lk)("div",Be,[(0,a.Lk)("div",$e,[(0,a.bF)(h,{modelValue:e.configuration["username"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.configuration["username"]=t),label:e.$t("username"),outlined:"",class:"full-width"},{append:(0,a.k6)((()=>[e.errors["username"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])]),(0,a.Lk)("div",Qe,[(0,a.bF)(h,{modelValue:e.configuration["password"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.configuration["password"]=t),label:e.$t("password"),type:"password",outlined:"",class:"full-width"},{append:(0,a.k6)((()=>[e.errors["password"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])])]),(0,a.Lk)("div",Xe,[(0,a.Lk)("div",We,[(0,a.bF)(h,{class:"export_url full-width",outlined:"",modelValue:e.configuration["export_url"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.configuration["export_url"]=t),label:e.$t("server_url")},{append:(0,a.k6)((()=>[e.errors["export_url"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])])]),(0,a.Lk)("div",Ke,[(0,a.Lk)("div",Ue,[(0,a.bF)(b,{modelValue:e.configuration.export_xslt_file,"onUpdate:modelValue":t[5]||(t[5]=t=>e.configuration.export_xslt_file=t),label:e.$t("xslt"),outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(p,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.export_xslt?((0,a.uX)(),(0,a.Wv)(v,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[6]||(t[6]=t=>e.downloadMappingFile("XSLT_MAPPING","XSLT-Mapping.xslt",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",je,[(0,a.bF)(h,{outlined:"",modelValue:e.configuration.export_port,"onUpdate:modelValue":t[7]||(t[7]=t=>e.configuration.export_port=t),label:e.$t("port"),class:"full-width"},{append:(0,a.k6)((()=>[e.errors["export_port"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])]),(0,a.Lk)("div",ze,[(0,a.bF)(h,{outlined:"",modelValue:e.configuration.export_folder,"onUpdate:modelValue":t[8]||(t[8]=t=>e.configuration.export_folder=t),label:e.$t("folder"),class:"full-width"},{append:(0,a.k6)((()=>[e.errors["export_folder"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])])])])),_:1}),(0,a.Lk)("div",He,[(0,a.Lk)("div",Ge,[(0,a.bF)(v,{appearance:"cancel","data-cy":"back",label:e.$t("pages.export.back"),onClick:t[9]||(t[9]=t=>{e.clearConfiguration()})},null,8,["label"]),0!==e.configuration.id?((0,a.uX)(),(0,a.Wv)(v,{key:0,style:{"margin-left":"10px"},label:e.$t("test_connection"),onClick:e.testConnection},null,8,["label","onClick"])):(0,a.Q3)("",!0),(0,a.bF)(v,{style:{"margin-left":"10px"},label:e.$t("pages.user.save"),onClick:e.saveConfig},null,8,["label","onClick"])])])])),_:1})):(0,a.Q3)("",!0)}var Je=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ze=(0,a.pM)({mixins:[ue,oe.A],components:{SubOrgSelect:ge},data(){return{}},watch:{},mounted:function(){this.setErrors();const e="thi5i5@very5ecurehardc0d3denCrIp";if(void 0==e)throw"Missing EMAIL_ENCRYPTION_KEY env - unable to load";this.EMAIL_ENCRYPTION_KEY=e,this.configuration.password&&(this.configuration.password=this.decryptPassword(this.configuration.password).toString(ye.fk.Utf8))},methods:{setErrors(){for(let[e,t]of Object.entries(this.configuration))this.required_fields.includes(e)&&!t&&(this.errors[e]=!1)},validateAndDisplayErrors(){let e=!0;for(let[t,l]of Object.entries(this.configuration))this.required_fields.includes(t)&&!l?(this.errors[t]=!0,e=!1):this.errors[t]=!1;return e},encryptPassword(){var e=ye.fk.Utf8.parse(this.EMAIL_ENCRYPTION_KEY),t=ye.c5.encrypt(this.configuration.password,e,{mode:ye.Mq.ECB,padding:ye.eV.PKCS7});return t},decryptPassword(e){var t=ye.fk.Utf8.parse(this.EMAIL_ENCRYPTION_KEY),l=ye.c5.decrypt(e,t,{mode:ye.Mq.ECB});return l},saveConfig(){return Je(this,void 0,void 0,(function*(){try{if(!this.validateAndDisplayErrors())return;this.processing=!0;let e={};e.username=this.configuration.username,e.password=this.encryptPassword().toString(),e.server_url=this.configuration.export_url,e.doc_type=this.configuration.doc_type,e.title=this.configuration.title,e.export_folder=this.configuration.export_folder,e.port=this.configuration.export_port,0!==this.configuration.id&&(e.config_id=this.configuration.id),this.configuration.export_xslt_file&&(e.export_xslt=this.configuration.export_xslt_file),this.configuration.hasOwnProperty("sub_org_id")&&null!==this.configuration.sub_org_id&&(e.sub_org_id=this.configuration.sub_org_id),yield re.Y1.saveSFTPConfig(e),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.config_saved=!0}catch(e){if(logError(e),e&&e.hasOwnProperty("message"))return void this.showErrorToast(e.message);this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing=!1}}))},testConnection(){return Je(this,void 0,void 0,(function*(){try{if(0==this.configuration.id)return;this.processing=!0;const e={config_id:this.configuration.id},t=yield re.Y1.testSFTP(e);if(!1===t.success)throw{message:t.message};this.showSuccessToast(this.$t("test_connection_success"))}catch(e){const t=fe.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1}}))}},setup(){const e=(0,se.cY)(),{doc_type_list:t}=(0,ne.bP)(e),l=(0,se.t8)(),{clearConfiguration:a,selectedNewExport:o}=l,{selected_export:i,selected_configuration:s,config_saved:n,processing:r,export_types:d}=(0,ne.bP)(l);return{selected_export:i,configuration:s,doc_type_list:t,clearConfiguration:a,selectedNewExport:o,config_saved:n,processing:r,export_types:d,errors:(0,ie.KR)({}),required_fields:(0,ie.KR)(["title","doc_type","username","password","export_url","port","export_folder"]),EMAIL_ENCRYPTION_KEY:(0,ie.KR)("")}}}),et=(0,he.A)(Ze,[["render",Ye]]),tt=et;be()(Ze,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QInput:Ee.A,QIcon:Ae.A,QTooltip:Se.A,QSelect:me.A,QFile:De.A}),be()(Ze,"directives",{ClosePopup:Ie.A});const lt=(0,a.Lk)("div",{"data-cy":"select-integration",class:"text-h6 text-white"},[(0,a.Lk)("b",null,"Flow")],-1),at={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},ot={class:"col-12"},it={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},st={class:"col-6"},nt={class:"col-6 pl-20"},rt={class:"row full-width"},dt={class:"col-12"},ut={class:"row full-width"},ct={class:"col-6"},pt={class:"col-6 pl-20"},ht={key:0,style:{"margin-bottom":"20px"},class:"row full-width mb-10"},mt={style:{width:"30%"}},_t={style:{width:"30%"},class:"pl-20"},bt={style:{width:"40%"},class:"pl-20"},vt={style:{"text-align":"center"}},gt={class:"q-ml-xl"};function ft(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-input"),p=(0,a.g2)("SubOrgSelect"),h=(0,a.g2)("q-select"),m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-file"),b=(0,a.g2)("f-btn"),v=(0,a.g2)("q-card"),g=(0,a.gN)("close-popup");return"flow2"===e.selected_export&&e.configuration?((0,a.uX)(),(0,a.Wv)(v,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{height:e.configuration.user_confirmed?"500px":"400px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[lt,(0,a.bF)(r),(0,a.bo)((0,a.bF)(d,{icon:"close",flat:"",color:"white",round:"",dense:"",onClick:e.clearConfiguration},null,8,["onClick"]),[[g]])])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",at,[(0,a.Lk)("div",ot,[(0,a.bF)(c,{modelValue:e.configuration["title"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.configuration["title"]=t),label:e.$t("title"),outlined:""},null,8,["modelValue","label"])])]),(0,a.Lk)("div",it,[(0,a.Lk)("div",st,[(0,a.bF)(c,{modelValue:e.configuration["username"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.configuration["username"]=t),readonly:e.configuration["user_confirmed"]&&0==e.configuration["id"],label:e.$t("pages.export.flow_user"),outlined:"",class:"full-width"},null,8,["modelValue","readonly","label"])]),(0,a.Lk)("div",nt,[(0,a.bF)(c,{modelValue:e.configuration["password"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.configuration["password"]=t),readonly:e.configuration["user_confirmed"]&&0==e.configuration["id"],label:e.$t("pages.export.flow_password"),type:"password",outlined:"",class:"full-width"},null,8,["modelValue","readonly","label"])])]),(0,a.Lk)("div",rt,[(0,a.Lk)("div",dt,[(0,a.bF)(c,{class:"export_url full-width",outlined:"",readonly:e.configuration["user_confirmed"]&&0==e.configuration["id"],modelValue:e.configuration["export_url"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.configuration["export_url"]=t),label:e.$t("pages.export.flow_url"),"error-message":"Please provide valid URL",rules:[e=>e&&e.length>0]},null,8,["readonly","modelValue","label","rules"])])]),(0,a.Lk)("div",ut,[(0,a.Lk)("div",ct,[(0,a.bF)(p)]),(0,a.Lk)("div",pt,[(0,a.bF)(h,{modelValue:e.configuration["doc_type"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.configuration["doc_type"]=t),outlined:"","data-cy":"doc-type",options:e.doc_type_list,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype"),readonly:e.configuration["user_confirmed"]&&0==e.configuration["id"]},null,8,["modelValue","options","label","readonly"])])]),e.configuration["user_confirmed"]?((0,a.uX)(),(0,a.CE)("div",ht,[(0,a.Lk)("div",mt,[(0,a.bF)(h,{modelValue:e.configuration.cabinet_id,"onUpdate:modelValue":t[5]||(t[5]=t=>e.configuration.cabinet_id=t),outlined:"",options:e.flow_cabinets,"emit-value":"","map-options":"",label:e.$t("pages.export.flow_cabinet")},null,8,["modelValue","options","label"])]),(0,a.Lk)("div",_t,[(0,a.bF)(h,{modelValue:e.configuration.doc_type_id,"onUpdate:modelValue":t[6]||(t[6]=t=>e.configuration.doc_type_id=t),outlined:"",options:e.flow_doc_types,"emit-value":"","map-options":"",label:e.$t("pages.export.flow_doctype")},null,8,["modelValue","options","label"])]),(0,a.Lk)("div",bt,[(0,a.bF)(_,{modelValue:e.configuration.flow2_mapping_file,"onUpdate:modelValue":t[7]||(t[7]=t=>e.configuration.flow2_mapping_file=t),label:e.$t("pages.export.flow_mapping"),filled:"","max-files":"1",accept:".txt, .properties",style:{"max-width":"300px"}},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.flow2_mapping?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[8]||(t[8]=t=>e.downloadMappingFile("FLOW_MAPPING","Flow2-Mapping.properties",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)])])):(0,a.Q3)("",!0)])),_:1}),(0,a.Lk)("div",vt,[(0,a.Lk)("div",gt,[(0,a.bF)(b,{appearance:"cancel","data-cy":"back",label:e.$t("pages.export.back"),onClick:t[9]||(t[9]=t=>{e.clearConfiguration()})},null,8,["label"]),e.configuration["user_confirmed"]?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(b,{key:0,style:{"margin-left":"10px"},label:e.$t("pages.export.confirm"),onClick:e.fetchCabinetsAndDocTypes,disable:e.isConfirmBtnDisabled()},null,8,["label","onClick","disable"])),e.configuration["user_confirmed"]?((0,a.uX)(),(0,a.Wv)(b,{key:1,style:{"margin-left":"10px"},label:e.$t("pages.flow_settings.reset"),onClick:t[10]||(t[10]=t=>e.selectedNewExport("flow2"))},null,8,["label"])):(0,a.Q3)("",!0),e.configuration["user_confirmed"]?((0,a.uX)(),(0,a.Wv)(b,{key:2,style:{"margin-left":"10px"},label:e.$t("pages.user.save"),disable:e.isSaveDisable(),onClick:e.saveConfig},null,8,["label","disable","onClick"])):(0,a.Q3)("",!0)])])])),_:1},8,["style"])):(0,a.Q3)("",!0)}var yt=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const kt=(0,a.pM)({mixins:[ue,oe.A],components:{SubOrgSelect:ge},data(){return{}},watch:{configuration:{deep:!0,handler:function(e,t){this.isSaveDisable()}},"configuration.export_url":{deep:!0,handler:function(e,t){e!==t&&this.clearFlowInfo()}},"configuration.username":{deep:!0,handler:function(e,t){e!==t&&this.clearFlowInfo()}},"configuration.password":{deep:!0,handler:function(e,t){e!==t&&this.clearFlowInfo()}}},mounted:function(){"flow2"===this.selected_export&&0!==this.configuration.id&&this.fetchCabinetsAndDocTypes()},methods:{isConfirmBtnDisabled(){return!(this.configuration.export_url&&this.configuration.doc_type&&this.configuration.username&&this.configuration.password)},clearFlowInfo(){this.configuration.user_confirmed=!1,this.configuration.cabinet_id=null,this.configuration.doc_type_id=null},isSaveDisable(){return!(this.configuration.export_url&&this.configuration.doc_type&&this.configuration.title&&this.configuration.cabinet_id&&this.configuration.username&&this.configuration.password&&this.configuration.doc_type_id)||!this.configuration.flow2_mapping_file&&!this.configuration.flow2_mapping},fetchCabinetsAndDocTypes(){return yt(this,void 0,void 0,(function*(){try{this.processing=!0,this.flow_cabinets=[],this.flow_doc_types=[];let e=yield re.Y1.getFlowToken(this.configuration);const t=e.token?e.token:"";if(!t)throw{message:"Flow Connection failed. Please check settings"};yield this.getFlowCabinets(t),yield this.getFlowDocumentTypes(t),this.configuration.user_confirmed=!0}catch(e){if(logError(e),null!=e&&"object"==typeof e&&e.hasOwnProperty("message"))return void this.showErrorToast(e.message);this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing=!1}}))},getFlowCabinets(e){return yt(this,void 0,void 0,(function*(){try{this.processing=!0;const t=yield re.Y1.getFlowCabinets(this.configuration.export_url,e);if(!t||!t.results)throw"Something went wrong while getting data for cabinets";Array.from(t.results).forEach((e=>{this.flow_cabinets.push(Object.assign({},{value:e.id,label:e.label}))})),this.processing=!1}catch(t){throw"Something went wrong while getting data for cabinets"}}))},getFlowDocumentTypes(e){return yt(this,void 0,void 0,(function*(){try{this.processing=!0;const t=yield re.Y1.getFlowDocumentTypes(this.configuration.export_url,e);if(!t||!t.results)throw"Something went wrong while getting data for flow document types";Array.from(t.results).forEach((e=>{this.flow_doc_types.push(Object.assign({},{value:e.id,label:e.label}))}))}catch(t){throw"Something went wrong while getting data for flow document types"}finally{this.processing=!1}}))},saveConfig(){return yt(this,void 0,void 0,(function*(){try{this.processing=!0;let e=(this.configuration.id,{});e.username=this.configuration.username,e.password=this.configuration.password,e.doc_type_id=String(this.configuration.doc_type_id),e.cabinet_id=String(this.configuration.cabinet_id),e.flow2_url=this.configuration.export_url,e.doc_type=this.configuration.doc_type,e.title=this.configuration.title,0!==this.configuration.id&&(e.config_id=this.configuration.id),this.configuration.flow2_mapping_file&&(e.flow2_mapping=this.configuration.flow2_mapping_file),this.configuration.hasOwnProperty("sub_org_id")&&null!==this.configuration.sub_org_id&&(e.sub_org_id=this.configuration.sub_org_id),yield re.Y1.saveFlow2Config(e),this.config_saved=!0}catch(e){if(logError(e),e&&e.hasOwnProperty("message"))return void this.showErrorToast(e.message);this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing=!1}}))}},setup(){const e=(0,se.cY)(),{doc_type_list:t}=(0,ne.bP)(e),l=(0,se.t8)(),{clearConfiguration:a,selectedNewExport:o}=l,{selected_export:i,selected_configuration:s,config_saved:n,processing:r}=(0,ne.bP)(l);return{selected_export:i,configuration:s,doc_type_list:t,clearConfiguration:a,selectedNewExport:o,config_saved:n,processing:r,flow_cabinets:[],flow_doc_types:[]}}}),wt=(0,he.A)(kt,[["render",ft]]),Ct=wt;be()(kt,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QInput:Ee.A,QSelect:me.A,QFile:De.A,QIcon:Ae.A}),be()(kt,"directives",{ClosePopup:Ie.A});const xt=(0,a.Lk)("div",{"data-cy":"select-integration",class:"text-h6"},[(0,a.Lk)("b",null,"Peppol")],-1),Lt={class:"row q-pt-lg"},Ft={class:"col-sm-12"},Et={class:"row"},At={class:"col-4"},St={class:"col-4 q-pl-sm"},Dt={class:"col-4 q-pl-sm"},It={key:0,class:"row q-pt-lg"},Tt={class:"col-sm-12"},Ot={style:{"text-align":"center"}};function Mt(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-input"),p=(0,a.g2)("q-select"),h=(0,a.g2)("SubOrgSelect"),m=(0,a.g2)("q-card"),_=(0,a.gN)("close-popup");return"peppol"===e.selected_export&&e.configuration?((0,a.uX)(),(0,a.Wv)(m,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{height:"E-Mail"==e.configuration.fileaccess?"460px":"380px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-none"},{default:(0,a.k6)((()=>[xt,(0,a.bF)(r),(0,a.bo)((0,a.bF)(d,{icon:"close",flat:"",round:"",dense:"",onClick:e.clearConfiguration},null,8,["onClick"]),[[_]])])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Lt,[(0,a.Lk)("div",Ft,[(0,a.bF)(c,{class:"export_url","data-cy":"title",outlined:"",modelValue:e.configuration.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.configuration.title=t),label:e.$t("pages.export.title"),"error-message":"Please provide Title",rules:[e=>e&&e.length>0]},null,8,["modelValue","label","rules"])])]),(0,a.Lk)("div",Et,[(0,a.Lk)("div",At,[(0,a.bF)(p,{modelValue:e.configuration.doc_type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.configuration.doc_type=t),outlined:"","data-cy":"doc-type",options:e.doc_type_list,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},null,8,["modelValue","options","label"])]),(0,a.Lk)("div",St,[(0,a.bF)(p,{modelValue:e.configuration.fileaccess,"onUpdate:modelValue":t[2]||(t[2]=t=>e.configuration.fileaccess=t),outlined:"","data-cy":"doc-type",options:e.fileaccess_list,"emit-value":"","map-options":"",label:e.$t("pages.export.export")},null,8,["modelValue","options","label"])]),(0,a.Lk)("div",Dt,[(0,a.bF)(h)])]),"E-Mail"==e.configuration.fileaccess?((0,a.uX)(),(0,a.CE)("div",It,[(0,a.Lk)("div",Tt,[(0,a.bF)(c,{class:"export_url",outlined:"",modelValue:e.configuration.email,"onUpdate:modelValue":t[3]||(t[3]=t=>e.configuration.email=t),label:e.$t("E-Mail to send doc to"),"error-message":"Please provide Email",rules:[e=>e&&e.length>0]},null,8,["modelValue","label","rules"])])])):(0,a.Q3)("",!0)])),_:1}),(0,a.Lk)("div",Ot,[(0,a.Lk)("div",null,[""==e.configuration.id?((0,a.uX)(),(0,a.Wv)(d,{key:0,style:{"letter-spacing":"2px",width:"150px"},color:"primary","data-cy":"back",label:e.$t("back"),onClick:e.clearConfiguration},null,8,["label","onClick"])):(0,a.Q3)("",!0),(0,a.bF)(d,{style:{"letter-spacing":"2px",width:"150px","margin-left":"10px"},color:"primary",label:e.$t("pages.user.save"),"data-cy":"save",disable:e.isSaveDisable(),onClick:e.saveConfig},null,8,["label","disable","onClick"])])])])),_:1},8,["style"])):(0,a.Q3)("",!0)}var Rt=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Pt=(0,a.pM)({mixins:[oe.A],components:{SubOrgSelect:ge},data(){return{}},watch:{configuration:{deep:!0,handler:function(e,t){this.isSaveDisable()}}},methods:{isSaveDisable:function(){return!(this.configuration.title&&this.configuration.doc_type&&this.configuration.fileaccess)||"E-Mail"==this.configuration.fileaccess&&!this.configuration.email},saveConfig(){return Rt(this,void 0,void 0,(function*(){try{let e=(this.configuration.id,{});e.fileaccess=this.configuration.fileaccess,e.email=this.configuration.email,e.doc_type=this.configuration.doc_type,e.title=this.configuration.title,0!==this.configuration.id&&(e.config_id=this.configuration.id),this.configuration.hasOwnProperty("sub_org_id")&&null!==this.configuration.sub_org_id&&(e.sub_org_id=this.configuration.sub_org_id),this.processing=!0;const t=yield re.Y1.savePeppolConfig(e);if(t&&!t.success&&t.exception.detail)throw{response:{data:t.exception.detail}};this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.config_saved=!0}catch(e){if(logError(e),e&&e.hasOwnProperty("message"))return void this.showErrorToast(e.message);this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing=!1}}))}},setup(){const e=(0,se.t8)(),{clearConfiguration:t}=e,{selected_export:l,selected_configuration:a,processing:o,config_saved:i}=(0,ne.bP)(e);return{processing:o,selected_export:l,configuration:a,doc_type_list:(0,ie.KR)(["INVOICE"]),fileaccess_list:(0,ie.KR)(["E-Mail","Watchdog","Download"]),clearConfiguration:t,config_saved:i}}}),qt=(0,he.A)(Pt,[["render",Mt]]),Vt=qt;be()(Pt,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QInput:Ee.A,QSelect:me.A}),be()(Pt,"directives",{ClosePopup:Ie.A});const Nt=(0,a.Lk)("div",{"data-cy":"select-integration",class:"text-h6 text-white"},[(0,a.Lk)("b",null,"Webhook")],-1),Bt={class:"row"},$t={class:"col-12"},Qt={class:"row q-mb-sm"},Xt={class:"col-6 q-pr-sm"},Wt={class:"col-6 q-pl-sm"},Kt={class:"row"},Ut={style:{"text-align":"center"}};function jt(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-input"),p=(0,a.g2)("SubOrgSelect"),h=(0,a.g2)("q-select"),m=(0,a.g2)("f-btn"),_=(0,a.g2)("q-card"),b=(0,a.gN)("close-popup");return e.allowed_types.includes(e.selected_export)&&e.configuration?((0,a.uX)(),(0,a.Wv)(_,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{"min-height":"380px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[Nt,(0,a.bF)(r),(0,a.bo)((0,a.bF)(d,{icon:"close",color:"white",flat:"",round:"",dense:"",onClick:e.clearConfiguration},null,8,["onClick"]),[[b]])])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Bt,[(0,a.Lk)("div",$t,[(0,a.bF)(c,{class:"export_url","data-cy":"title",outlined:"",modelValue:e.configuration.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.configuration.title=t),label:e.$t("pages.export.title"),"error-message":"Please provide Title",rules:[e=>e&&e.length>0]},null,8,["modelValue","label","rules"])])]),(0,a.Lk)("div",Qt,[(0,a.Lk)("div",Xt,[(0,a.bF)(p)]),(0,a.Lk)("div",Wt,[(0,a.bF)(h,{modelValue:e.configuration.doc_type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.configuration.doc_type=t),outlined:"","data-cy":"doc-type",options:e.doc_type_list,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},null,8,["modelValue","options","label"])])]),(0,a.Lk)("div",null,[(0,a.Lk)("div",Kt,[(0,a.bF)(c,{class:"export_url full-width q-pt-sm","data-cy":"webhook",outlined:"",modelValue:e.configuration.export_url,"onUpdate:modelValue":t[2]||(t[2]=t=>e.configuration.export_url=t),label:"Export URL","error-message":"Please provide valid export URL",rules:[e=>e&&e.length>0]},null,8,["modelValue","rules"])])])])),_:1}),(0,a.Lk)("div",Ut,[(0,a.Lk)("div",null,[""==e.configuration.id?((0,a.uX)(),(0,a.Wv)(m,{key:0,appearance:"cancel","data-cy":"back",label:e.$t("back"),onClick:e.clearConfiguration},null,8,["label","onClick"])):(0,a.Q3)("",!0),(0,a.bF)(m,{style:{"margin-left":"10px"},label:e.$t("pages.user.save"),"data-cy":"save",disable:e.isSaveDisable(),onClick:e.saveConfig},null,8,["label","disable","onClick"])])])])),_:1})):(0,a.Q3)("",!0)}var zt=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ht=(0,a.pM)({mixins:[oe.A],components:{SubOrgSelect:ge},data(){return{}},watch:{configuration:{deep:!0,handler:function(e,t){this.isSaveDisable()}}},methods:{isSaveDisable:function(){return!(this.configuration.export_url&&""!==this.configuration.export_url.trim()&&this.configuration.title&&this.configuration.doc_type)},saveConfig(){return zt(this,void 0,void 0,(function*(){try{let e=(this.configuration.id,{});e.export_url=this.configuration.export_url,e.doc_type=this.configuration.doc_type,e.title=this.configuration.title,0!==this.configuration.id&&(e.config_id=this.configuration.id),this.configuration.hasOwnProperty("sub_org_id")&&null!==this.configuration.sub_org_id&&(e.sub_org_id=this.configuration.sub_org_id),this.processing=!0;const t=yield re.Y1.saveWebhookConfig(e);if(t&&!t.success&&t.exception.detail)throw{message:t.exception.detail};this.config_saved=!0}catch(e){if(logError(e),e&&e.hasOwnProperty("message"))return void this.showErrorToast(e.message);this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing=!1}}))}},setup(){const e=(0,se.cY)(),{doc_type_list:t}=(0,ne.bP)(e),l=(0,se.t8)(),{clearConfiguration:a}=l,{selected_export:o,selected_configuration:i,processing:s,config_saved:n,export_types:r}=(0,ne.bP)(l),d=[l.export_types.WEBHOOK];return{export_types:r,processing:s,selected_export:o,configuration:i,doc_type_list:t,clearConfiguration:a,config_saved:n,allowed_types:d}}}),Gt=(0,he.A)(Ht,[["render",jt]]),Yt=Gt;be()(Ht,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QInput:Ee.A,QSelect:me.A}),be()(Ht,"directives",{ClosePopup:Ie.A});const Jt=(0,a.Lk)("div",{"data-cy":"select-integration",class:"text-h6 text-white"},[(0,a.Lk)("b",null,"Zugferd")],-1),Zt={class:"row q-pt-lg"},el={class:"col-sm-12"},tl={class:"row q-mb-sm"},ll={class:"col-6 q-pr-sm"},al={class:"col-6"},ol={class:"row"},il={class:"col-6 q-pr-sm"},sl={class:"col-6"},nl={key:0,class:"row q-mt-sm"},rl={class:"col-sm-12"},dl={style:{"text-align":"center"}};function ul(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-input"),p=(0,a.g2)("SubOrgSelect"),h=(0,a.g2)("q-select"),m=(0,a.g2)("f-btn"),_=(0,a.g2)("q-card"),b=(0,a.gN)("close-popup");return"zugferd"===e.selected_export&&e.configuration?((0,a.uX)(),(0,a.Wv)(_,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{"min-height":"E-Mail"==e.configuration.fileaccess?"450px":"360px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[Jt,(0,a.bF)(r),(0,a.bo)((0,a.bF)(d,{icon:"close",color:"white",flat:"",round:"",dense:"",onClick:e.clearConfiguration},null,8,["onClick"]),[[b]])])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Zt,[(0,a.Lk)("div",el,[(0,a.bF)(c,{class:"export_url","data-cy":"title",outlined:"",modelValue:e.configuration.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.configuration.title=t),label:e.$t("pages.export.title"),"error-message":"Please provide Title",rules:[e=>e&&e.length>0]},null,8,["modelValue","label","rules"])])]),(0,a.Lk)("div",tl,[(0,a.Lk)("div",ll,[(0,a.bF)(p)]),(0,a.Lk)("div",al,[(0,a.bF)(h,{modelValue:e.configuration.doc_type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.configuration.doc_type=t),outlined:"","data-cy":"doc-type",options:e.doc_type_list,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},null,8,["modelValue","options","label"])])]),(0,a.Lk)("div",ol,[(0,a.Lk)("div",il,[(0,a.bF)(h,{modelValue:e.configuration.format,"onUpdate:modelValue":t[2]||(t[2]=t=>e.configuration.format=t),outlined:"","data-cy":"doc-type",options:e.format_list,"emit-value":"","map-options":"",label:e.$t("pages.export.format")},null,8,["modelValue","options","label"])]),(0,a.Lk)("div",sl,[(0,a.bF)(h,{modelValue:e.configuration["fileaccess"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.configuration["fileaccess"]=t),outlined:"","data-cy":"doc-type",options:e.fileaccess_list,"emit-value":"","map-options":"",label:e.$t("pages.export.export")},null,8,["modelValue","options","label"])])]),"E-Mail"==e.configuration.fileaccess?((0,a.uX)(),(0,a.CE)("div",nl,[(0,a.Lk)("div",rl,[(0,a.bF)(c,{class:"export_url","data-cy":"title",outlined:"",modelValue:e.configuration.email,"onUpdate:modelValue":t[4]||(t[4]=t=>e.configuration.email=t),label:e.$t("E-Mail to send doc to"),"error-message":"Please provide Email",rules:[e=>e&&e.length>0]},null,8,["modelValue","label","rules"])])])):(0,a.Q3)("",!0)])),_:1}),(0,a.Lk)("div",dl,[(0,a.Lk)("div",null,[""==e.configuration.id?((0,a.uX)(),(0,a.Wv)(m,{key:0,appearance:"cancel","data-cy":"back",label:e.$t("back"),onClick:e.clearConfiguration},null,8,["label","onClick"])):(0,a.Q3)("",!0),(0,a.bF)(m,{style:{"margin-left":"10px"},label:e.$t("pages.user.save"),"data-cy":"save",disable:e.isSaveDisable(),onClick:e.saveConfig},null,8,["label","disable","onClick"])])])])),_:1},8,["style"])):(0,a.Q3)("",!0)}var cl=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const pl=(0,a.pM)({mixins:[oe.A],components:{SubOrgSelect:ge},data(){return{}},watch:{configuration:{deep:!0,handler:function(e,t){this.isSaveDisable()}}},methods:{isSaveDisable:function(){return!(this.configuration.title&&this.configuration.doc_type&&this.configuration.fileaccess&&this.configuration.format)||"E-Mail"==this.configuration.fileaccess&&!this.configuration.email},saveConfig(){return cl(this,void 0,void 0,(function*(){try{let e=(this.configuration.id,{});e.fileaccess=this.configuration.fileaccess,e.format=this.configuration.format,e.email=this.configuration.email,e.doc_type=this.configuration.doc_type,e.title=this.configuration.title,0!==this.configuration.id&&(e.config_id=this.configuration.id),this.configuration.hasOwnProperty("sub_org_id")&&null!==this.configuration.sub_org_id&&(e.sub_org_id=this.configuration.sub_org_id),this.processing=!0;const t=yield re.Y1.saveZugferdConfig(e);if(t&&!t.success&&t.exception.detail)throw{response:{data:t.exception.detail}};this.config_saved=!0}catch(e){if(logError(e),e&&e.hasOwnProperty("message"))return void this.showErrorToast(e.message);this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing=!1}}))}},setup(){const e=(0,se.t8)(),{clearConfiguration:t}=e,{selected_export:l,selected_configuration:a,processing:o,config_saved:i}=(0,ne.bP)(e);return{processing:o,selected_export:l,configuration:a,doc_type_list:(0,ie.KR)(["INVOICE"]),format_list:(0,ie.KR)(["Minimum","Basic","Extended"]),fileaccess_list:(0,ie.KR)(["E-Mail","Watchdog","Download"]),clearConfiguration:t,config_saved:i}}}),hl=(0,he.A)(pl,[["render",ul]]),ml=hl;be()(pl,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QInput:Ee.A,QSelect:me.A}),be()(pl,"directives",{ClosePopup:Ie.A});var _l=l(29104);const bl=e=>((0,a.Qi)("data-v-4827e56b"),e=e(),(0,a.jt)(),e),vl=bl((()=>(0,a.Lk)("div",{"data-cy":"select-integration",class:"text-h6 text-white"},[(0,a.Lk)("b",null,"Infor LN")],-1))),gl={class:"row"},fl={class:"col-12"},yl={class:"row q-pb-md"},kl={class:"col-6 q-pr-sm"},wl={class:"col-6"},Cl={class:"row"},xl={class:"col-sm-4 q-pr-sm"},Ll={class:"col-sm-4 q-pr-sm"},Fl={class:"col-sm-4"},El={class:"q-mt-md row justify-center"};function Al(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-input"),p=(0,a.g2)("SubOrgSelect"),h=(0,a.g2)("q-select"),m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-file"),b=(0,a.g2)("f-btn"),v=(0,a.g2)("q-card"),g=(0,a.gN)("close-popup");return e.allowed_types.includes(e.selected_export)&&e.configuration?((0,a.uX)(),(0,a.Wv)(v,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{"min-height":"390px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[vl,(0,a.bF)(r),(0,a.bo)((0,a.bF)(d,{color:"white",icon:"close",flat:"",round:"",dense:"",onClick:e.clearConfiguration},null,8,["onClick"]),[[g]])])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",gl,[(0,a.Lk)("div",fl,[(0,a.bF)(c,{"data-cy":"title",outlined:"",modelValue:e.configuration.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.configuration.title=t),label:e.$t("pages.export.title"),"error-message":"Please provide Title",rules:[e=>e&&e.length>0]},null,8,["modelValue","label","rules"])])]),(0,a.Lk)("div",yl,[(0,a.Lk)("div",kl,[(0,a.bF)(p)]),(0,a.Lk)("div",wl,[(0,a.bF)(h,{modelValue:e.configuration.doc_type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.configuration.doc_type=t),outlined:"","data-cy":"doc-type",options:e.doc_type_list,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},null,8,["modelValue","options","label"])])]),(0,a.Lk)("div",Cl,[(0,a.Lk)("div",xl,[(0,a.bF)(_,{modelValue:e.configuration.ion_file,"onUpdate:modelValue":t[2]||(t[2]=t=>e.configuration.ion_file=t),label:e.$t("pages.export.ion_mapping"),"data-cy":"ion-file",outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_ion_api?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[3]||(t[3]=t=>e.downloadMappingFile("ION_API","INFOR-DOC2.ionapi",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Ll,[(0,a.bF)(_,{modelValue:e.configuration.idm_file,"onUpdate:modelValue":t[4]||(t[4]=t=>e.configuration.idm_file=t),label:e.$t("pages.export.idm_mapping"),outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_idm_mapping?((0,a.uX)(),(0,a.Wv)(d,{key:0,flat:"",color:"primary",label:e.$t("download"),class:"float-right",onClick:t[5]||(t[5]=t=>e.downloadMappingFile("IDM_MAPPING","IDM-Mapping.properties",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Fl,[(0,a.bF)(_,{modelValue:e.configuration.ln_file,"onUpdate:modelValue":t[6]||(t[6]=t=>e.configuration.ln_file=t),label:e.$t("pages.export.ln_mapping"),outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_ln_mapping?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[7]||(t[7]=t=>e.downloadMappingFile("LN_MAPPING","LN-Mapping.properties",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",El,[(0,a.Lk)("div",null,[(0,a.bo)((0,a.bF)(b,{"data-cy":"back",class:"q-mr-sm q-mt-md",appearance:"cancel",label:e.$t("back"),onClick:e.clearConfiguration},null,8,["label","onClick"]),[[_l.aG,0==e.configuration.id]]),(0,a.bF)(b,{class:"q-mt-md",label:e.$t("pages.user.save"),"data-cy":"save",onClick:e.saveConfig},null,8,["label","onClick"])])])])),_:1})])),_:1})):(0,a.Q3)("",!0)}var Sl=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Dl=(0,a.pM)({mixins:[oe.A,ue],components:{SubOrgSelect:ge},data(){return{}},watch:{configuration:{deep:!0,handler:function(e,t){this.isSaveDisable()}}},methods:{isSaveDisable:function(){return!this.configuration.infor_idm_mapping&&!this.configuration.idm_file||(!this.configuration.infor_ion_api&&!this.configuration.ion_file||!this.configuration.infor_ln_mapping&&!this.configuration.ln_file)},saveConfig(){return Sl(this,void 0,void 0,(function*(){try{let e=(this.configuration.id,{});e.export_method=this.export_types.INFOR_LN_CLOUD,e.doc_type=this.configuration.doc_type,e.title=this.configuration.title,0!==this.configuration.id&&(e.config_id=this.configuration.id),this.configuration.ion_file&&(e.ion_api=this.configuration.ion_file),this.configuration.idm_file&&(e.idm_mapping=this.configuration.idm_file),this.configuration.ln_file&&(e.ln_mapping=this.configuration.ln_file),this.configuration.hasOwnProperty("sub_org_id")&&null!==this.configuration.sub_org_id&&(e.sub_org_id=this.configuration.sub_org_id),this.processing=!0;const t=yield re.Y1.saveLNConfig(e);if(t&&!t.success&&t.exception.detail)throw{message:t.exception.detail};this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.config_saved=!0}catch(e){logError(e);const t=fe.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.processing=!1}}))}},setup(){const e=(0,se.cY)(),{doc_type_list:t}=(0,ne.bP)(e),l=(0,se.t8)(),{clearConfiguration:a}=l,{selected_export:o,selected_configuration:i,processing:s,config_saved:n,export_types:r}=(0,ne.bP)(l),d=[l.export_types.INFOR_LN_CLOUD];return{export_types:r,processing:s,selected_export:o,configuration:i,doc_type_list:t,config_saved:n,clearConfiguration:a,allowed_types:d}}}),Il=(0,he.A)(Dl,[["render",Al],["__scopeId","data-v-4827e56b"]]),Tl=Il;be()(Dl,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QInput:Ee.A,QSelect:me.A,QFile:De.A,QIcon:Ae.A}),be()(Dl,"directives",{ClosePopup:Ie.A});const Ol=e=>((0,a.Qi)("data-v-75ddcb7a"),e=e(),(0,a.jt)(),e),Ml=Ol((()=>(0,a.Lk)("div",{"data-cy":"select-integration",class:"text-h6 text-white"},[(0,a.Lk)("b",null,"Infor M3")],-1))),Rl={class:"row"},Pl={class:"col-12"},ql={class:"row q-pb-md"},Vl={class:"col-6 q-pr-sm"},Nl={class:"col-6"},Bl={class:"row"},$l={class:"col-sm-4 q-pr-sm"},Ql={class:"col-sm-4 q-pr-sm"},Xl={key:0,class:"col-sm-4 q-pr-sm"},Wl={key:1,class:"col-sm-4"},Kl={class:"col-sm-4 q-pt-md"},Ul={class:"col-sm-4 q-pt-md"},jl={class:"q-mt-md row justify-center"},zl={"data-cy":"select-integration",class:"text-h6 text-white"},Hl={class:"row justify-center q-gutter-lg"},Gl={class:"full-width text-center"},Yl={class:"full-width text-center q-mt-md text-capitalize"};function Jl(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-input"),p=(0,a.g2)("SubOrgSelect"),h=(0,a.g2)("q-select"),m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-file"),b=(0,a.g2)("f-btn"),v=(0,a.g2)("q-toggle"),g=(0,a.g2)("q-card"),f=(0,a.g2)("q-dialog"),y=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.allowed_types.includes(e.selected_export)&&e.configuration?((0,a.uX)(),(0,a.Wv)(g,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{"min-height":"390px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[Ml,(0,a.bF)(r),(0,a.bo)((0,a.bF)(d,{color:"white",icon:"close",flat:"",round:"",dense:"",onClick:e.clearConfiguration},null,8,["onClick"]),[[y]])])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Rl,[(0,a.Lk)("div",Pl,[(0,a.bF)(c,{"data-cy":"title",outlined:"",modelValue:e.configuration.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.configuration.title=t),label:e.$t("pages.export.title"),"error-message":"Please provide Title",rules:[e=>e&&e.length>0]},null,8,["modelValue","label","rules"])])]),(0,a.Lk)("div",ql,[(0,a.Lk)("div",Vl,[(0,a.bF)(p)]),(0,a.Lk)("div",Nl,[(0,a.bF)(h,{modelValue:e.configuration.doc_type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.configuration.doc_type=t),outlined:"","data-cy":"doc-type",options:e.doc_type_list,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},null,8,["modelValue","options","label"])])]),(0,a.Lk)("div",Bl,[(0,a.Lk)("div",$l,[(0,a.bF)(_,{modelValue:e.configuration.ion_file,"onUpdate:modelValue":t[2]||(t[2]=t=>e.configuration.ion_file=t),label:e.$t("pages.export.ion_mapping"),"data-cy":"ion-file",outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_ion_api?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[3]||(t[3]=t=>e.downloadMappingFile("ION_API","INFOR-DOC2.ionapi",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Ql,[(0,a.bF)(_,{modelValue:e.configuration.idm_file,"onUpdate:modelValue":t[4]||(t[4]=t=>e.configuration.idm_file=t),label:e.$t("pages.export.idm_mapping"),outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_idm_mapping?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[5]||(t[5]=t=>e.downloadMappingFile("IDM_MAPPING","IDM-Mapping.properties",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)]),e.export_types.INFOR_M3_TOML_CLOUD==e.selected_export?((0,a.uX)(),(0,a.CE)("div",Xl,[(0,a.bF)(_,{modelValue:e.configuration.toml_file,"onUpdate:modelValue":[t[6]||(t[6]=t=>e.configuration.toml_file=t),t[7]||(t[7]=t=>e.onTomlUpdate())],label:this.sampleMappingName?this.sampleMappingName:e.$t("pages.export.m3_toml_mapping"),outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_m3_toml_mapping?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("edit"),onClick:t[8]||(t[8]=t=>e.editTomlFile(e.configuration.infor_m3_toml_mapping_id))},null,8,["label"])):(0,a.Q3)("",!0),(0,a.bF)(b,{appearance:"tertiary",label:"Select Toml",onClick:t[9]||(t[9]=t=>e.openSampleDlg())}),e.configuration&&e.configuration.infor_m3_toml_mapping?((0,a.uX)(),(0,a.Wv)(b,{key:1,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[10]||(t[10]=t=>e.downloadMappingFile("M3_TOML_MAPPING","M3-TOML-Mapping.toml",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)])):((0,a.uX)(),(0,a.CE)("div",Wl,[(0,a.bF)(_,{modelValue:e.configuration.m3_file,"onUpdate:modelValue":t[11]||(t[11]=t=>e.configuration.m3_file=t),label:e.$t("pages.export.m3_mapping"),outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_m3_mapping?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[12]||(t[12]=t=>e.downloadMappingFile("M3_MAPPING","M3-Mapping.properties",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)])),e.isInvoice(e.configuration.doc_type)?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.Lk)("div",Kl,[(0,a.bF)(v,{modelValue:e.configuration.auto_validate_after_export,"onUpdate:modelValue":t[13]||(t[13]=t=>e.configuration.auto_validate_after_export=t),label:e.$t("auto_validate")},null,8,["modelValue","label"])]),(0,a.Lk)("div",Ul,[(0,a.bF)(v,{modelValue:e.configuration.auto_approve_after_export,"onUpdate:modelValue":t[14]||(t[14]=t=>e.configuration.auto_approve_after_export=t),label:e.$t("auto_approval")},null,8,["modelValue","label"])])],64)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",jl,[(0,a.Lk)("div",null,[(0,a.bo)((0,a.bF)(b,{"data-cy":"back",class:"q-mr-sm q-mt-md",appearance:"cancel",label:e.$t("back"),onClick:e.clearConfiguration},null,8,["label","onClick"]),[[_l.aG,0==e.configuration.id]]),(0,a.bF)(b,{class:"q-mt-md",label:e.$t("pages.user.save"),"data-cy":"save",onClick:e.saveConfig},null,8,["label","onClick"])])])])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(f,{modelValue:e.showTomlSamples,"onUpdate:modelValue":t[16]||(t[16]=t=>e.showTomlSamples=t),persistent:"",onKeydown:t[17]||(t[17]=(0,_l.jR)((t=>e.showTomlSamples=!1),["esc"]))},{default:(0,a.k6)((()=>[e.allowed_types.includes(e.selected_export)&&e.configuration?((0,a.uX)(),(0,a.Wv)(g,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{"min-height":"390px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",zl,[(0,a.Lk)("b",null,(0,o.v_)(e.$t("select_toml_sample")),1)]),(0,a.bF)(r),(0,a.bF)(d,{color:"white",icon:"close",flat:"",round:"",dense:"",onClick:t[15]||(t[15]=t=>e.showTomlSamples=!1)})])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Hl,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tomlSamples,(t=>((0,a.uX)(),(0,a.Wv)(g,{key:t.id,class:"q-pa-lg",flat:"",bordered:""},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Gl,[(0,a.bF)(m,{name:"img:settings/toml_icon.svg",onClick:l=>e.selectSample(t.id,t.mapping_name),size:"90px",class:"cursor-pointer"},null,8,["onClick"])]),(0,a.Lk)("div",Yl,(0,o.v_)(t.mapping_name),1)])),_:2},1024)))),128))])])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue"])],64)}var Zl=l(76956),ea=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const ta=(0,a.pM)({mixins:[oe.A,ue],components:{SubOrgSelect:ge},data(){return{sampleMappingName:(0,ie.KR)(""),showTomlSamples:(0,ie.KR)(!1),tomlSamples:(0,ie.KR)([]),isInvoice:Zl.UJ}},watch:{configuration:{deep:!0,handler:function(e,t){this.isSaveDisable()}}},methods:{isSaveDisable:function(){return!this.configuration.infor_idm_mapping&&!this.configuration.idm_file||(!this.configuration.infor_ion_api&&!this.configuration.ion_file||!this.configuration.infor_m3_mapping&&!this.configuration.m3_file)},saveConfig(){return ea(this,void 0,void 0,(function*(){try{let e=(this.configuration.id,{});e.export_method=this.selected_export,e.doc_type=this.configuration.doc_type,e.title=this.configuration.title,e.auto_approve_after_export=!1,e.auto_validate_after_export=!1,0!==this.configuration.id&&(e.config_id=this.configuration.id),this.configuration.ion_file&&(e.ion_api=this.configuration.ion_file),this.configuration.idm_file&&(e.idm_mapping=this.configuration.idm_file),this.configuration.m3_file&&(e.m3_mapping=this.configuration.m3_file),this.configuration.toml_file&&(e.m3_toml_mapping=this.configuration.toml_file),this.configuration.m3_toml_mapping_id&&(e.m3_toml_mapping_id=this.configuration.m3_toml_mapping_id),this.isInvoice(this.configuration.doc_type)&&(e.auto_approve_after_export=this.configuration.auto_approve_after_export,e.auto_validate_after_export=this.configuration.auto_validate_after_export),this.configuration.hasOwnProperty("sub_org_id")&&null!==this.configuration.sub_org_id&&(e.sub_org_id=this.configuration.sub_org_id),this.processing=!0;const t=yield re.Y1.saveM3Config(e);if(t&&!t.success&&t.exception.detail)throw{message:t.exception.detail};this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.config_saved=!0}catch(e){logError(e);const t=fe.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.processing=!1}}))},editTomlFile(e){this.$router.push("/settings/rule-management/"+e)},onTomlUpdate(){this.sampleMappingName="",this.configuration.m3_toml_mapping_id=null},openSampleDlg(){return ea(this,void 0,void 0,(function*(){this.showTomlSamples=!0,this.tomlSamples.length>0||(yield this.loadTomlSamples())}))},loadTomlSamples(){return ea(this,void 0,void 0,(function*(){try{this.processing=!0;const e=yield re.Y1.getExportConfigurationMappingSamples(Zl.FP);if(e&&!e.success&&e.exception.detail)throw{message:e.exception.detail};this.tomlSamples=e.data}catch(e){logError(e);const t=fe.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.processing=!1}}))},selectSample(e,t){this.showTomlSamples=!1,this.configuration.toml_file=null,this.configuration.infor_m3_toml_mapping=null,this.configuration.m3_toml_mapping_id=e,this.sampleMappingName=t}},setup(){const e=(0,se.cY)(),{doc_type_list:t}=(0,ne.bP)(e),l=(0,se.t8)(),{clearConfiguration:a}=l,{selected_export:o,selected_configuration:i,processing:s,config_saved:n,export_types:r}=(0,ne.bP)(l),d=[l.export_types.INFOR_M3_CLOUD,l.export_types.INFOR_M3_TOML_CLOUD];return{export_types:r,processing:s,selected_export:o,configuration:i,doc_type_list:t,config_saved:n,clearConfiguration:a,allowed_types:d}}});var la=l(66908),aa=l(82156);const oa=(0,he.A)(ta,[["render",Jl],["__scopeId","data-v-75ddcb7a"]]),ia=oa;be()(ta,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QInput:Ee.A,QSelect:me.A,QFile:De.A,QIcon:Ae.A,QToggle:la.A,QDialog:aa.A}),be()(ta,"directives",{ClosePopup:Ie.A});const sa=e=>((0,a.Qi)("data-v-c37d8e86"),e=e(),(0,a.jt)(),e),na=sa((()=>(0,a.Lk)("div",{"data-cy":"select-integration",class:"text-h6 text-white"},[(0,a.Lk)("b",null,"Infor IDM")],-1))),ra={class:"row"},da={class:"col-12"},ua={class:"row q-pb-md"},ca={class:"col-6 q-pr-sm"},pa={class:"col-6"},ha={class:"row"},ma={class:"col-sm-6 q-pr-sm"},_a={class:"col-sm-6"},ba={class:"q-mt-md row justify-center"},va={class:"switch q-mr-sm"},ga=["disabled"],fa=sa((()=>(0,a.Lk)("div",{class:"slider","data-after":"ONPREM","data-before":"CLOUD"},null,-1))),ya=sa((()=>(0,a.Lk)("br",null,null,-1)));function ka(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-input"),p=(0,a.g2)("SubOrgSelect"),h=(0,a.g2)("q-select"),m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-file"),b=(0,a.g2)("f-btn"),v=(0,a.g2)("q-card"),g=(0,a.gN)("close-popup");return e.allowed_types.includes(e.selected_export)&&e.configuration?((0,a.uX)(),(0,a.Wv)(v,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{"min-height":"390px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[na,(0,a.bF)(r),(0,a.bo)((0,a.bF)(d,{icon:"close",color:"white",flat:"",round:"",dense:"",onClick:e.clearConfiguration},null,8,["onClick"]),[[g]])])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",ra,[(0,a.Lk)("div",da,[(0,a.bF)(c,{"data-cy":"title",outlined:"",modelValue:e.configuration.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.configuration.title=t),label:e.$t("pages.export.title"),"error-message":"Please provide Title",rules:[e=>e&&e.length>0]},null,8,["modelValue","label","rules"])])]),(0,a.Lk)("div",ua,[(0,a.Lk)("div",ca,[(0,a.bF)(p)]),(0,a.Lk)("div",pa,[(0,a.bF)(h,{modelValue:e.configuration.doc_type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.configuration.doc_type=t),outlined:"","data-cy":"doc-type",options:e.doc_type_list,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},null,8,["modelValue","options","label"])])]),(0,a.Lk)("div",ha,[(0,a.Lk)("div",ma,[(0,a.bF)(_,{modelValue:e.configuration.ion_file,"onUpdate:modelValue":t[2]||(t[2]=t=>e.configuration.ion_file=t),label:e.$t("pages.export.ion_mapping"),"data-cy":"ion-file",outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_ion_api?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[3]||(t[3]=t=>e.downloadMappingFile("ION_API","INFOR-DOC2.ionapi",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",_a,[(0,a.bF)(_,{modelValue:e.configuration.idm_file,"onUpdate:modelValue":t[4]||(t[4]=t=>e.configuration.idm_file=t),label:e.$t("pages.export.idm_mapping"),outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_idm_mapping?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[5]||(t[5]=t=>e.downloadMappingFile("IDM_MAPPING","IDM-Mapping.properties",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",ba,[(0,a.Lk)("div",null,[(0,a.Lk)("label",va,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=t=>e.configuration.cloud=t),disabled:0!==e.configuration.id},null,8,ga),[[_l.lH,e.configuration.cloud]]),fa]),ya,(0,a.bo)((0,a.bF)(b,{"data-cy":"back",appearance:"cancel",class:"q-mr-sm q-mt-md",label:e.$t("back"),onClick:e.clearConfiguration},null,8,["label","onClick"]),[[_l.aG,0==e.configuration.id]]),(0,a.bF)(b,{class:"q-mt-md",label:e.$t("pages.user.save"),"data-cy":"save",onClick:e.saveConfig},null,8,["label","onClick"])])])])),_:1})])),_:1})):(0,a.Q3)("",!0)}var wa=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ca=(0,a.pM)({mixins:[oe.A,ue],components:{SubOrgSelect:ge},data(){return{}},watch:{configuration:{deep:!0,handler:function(e,t){this.isSaveDisable()}}},methods:{isSaveDisable:function(){return!this.configuration.infor_idm_mapping&&!this.configuration.idm_file||!this.configuration.infor_ion_api&&!this.configuration.ion_file},saveConfig(){return wa(this,void 0,void 0,(function*(){try{let e=(this.configuration.id,{});e.export_method=this.export_types.INFOR_IDM_CLOUD,this.configuration.cloud||(e.export_method=this.export_types.INFOR_IDM_ON_PREMISE),e.doc_type=this.configuration.doc_type,e.title=this.configuration.title,0!==this.configuration.id&&(e.config_id=this.configuration.id),this.configuration.ion_file&&(e.ion_api=this.configuration.ion_file),this.configuration.idm_file&&(e.idm_mapping=this.configuration.idm_file),this.configuration.hasOwnProperty("sub_org_id")&&null!==this.configuration.sub_org_id&&(e.sub_org_id=this.configuration.sub_org_id),this.processing=!0;const t=yield re.Y1.saveIdmConfig(e);if(t&&!t.success&&t.exception.detail)throw{message:t.exception.detail};this.config_saved=!0}catch(e){logError(e);const t=fe.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.processing=!1}}))}},setup(){const e=(0,se.cY)(),{doc_type_list:t}=(0,ne.bP)(e),l=(0,se.t8)(),{clearConfiguration:a}=l,{selected_export:o,selected_configuration:i,processing:s,config_saved:n,export_types:r}=(0,ne.bP)(l),d=[l.export_types.INFOR_IDM_CLOUD,l.export_types.INFOR_IDM_ON_PREMISE];return{export_types:r,processing:s,selected_export:o,configuration:i,doc_type_list:t,config_saved:n,clearConfiguration:a,allowed_types:d}}}),xa=(0,he.A)(Ca,[["render",ka],["__scopeId","data-v-c37d8e86"]]),La=xa;be()(Ca,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QInput:Ee.A,QSelect:me.A,QFile:De.A,QIcon:Ae.A}),be()(Ca,"directives",{ClosePopup:Ie.A});const Fa=e=>((0,a.Qi)("data-v-1bfdaf34"),e=e(),(0,a.jt)(),e),Ea=Fa((()=>(0,a.Lk)("div",{"data-cy":"select-integration",class:"text-h6 text-white"},[(0,a.Lk)("b",null,"Infor ION")],-1))),Aa={class:"row"},Sa={class:"col-12"},Da={class:"row q-pb-md"},Ia={class:"col-6 q-pr-sm"},Ta={class:"col-6"},Oa={class:"row"},Ma={class:"col-sm-4 q-pr-sm"},Ra={class:"col-sm-4 q-pr-sm"},Pa={class:"col-sm-4"},qa={class:"q-mt-md row justify-center"},Va={class:"switch q-mr-sm"},Na=["disabled"],Ba=Fa((()=>(0,a.Lk)("div",{class:"slider","data-after":"ONPREM","data-before":"CLOUD"},null,-1))),$a=Fa((()=>(0,a.Lk)("br",null,null,-1)));function Qa(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-input"),p=(0,a.g2)("SubOrgSelect"),h=(0,a.g2)("q-select"),m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-file"),b=(0,a.g2)("f-btn"),v=(0,a.g2)("q-card"),g=(0,a.gN)("close-popup");return e.allowed_types.includes(e.selected_export)&&e.configuration?((0,a.uX)(),(0,a.Wv)(v,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{"min-height":"390px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[Ea,(0,a.bF)(r),(0,a.bo)((0,a.bF)(d,{color:"white",icon:"close",flat:"",round:"",dense:"",onClick:e.clearConfiguration},null,8,["onClick"]),[[g]])])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Aa,[(0,a.Lk)("div",Sa,[(0,a.bF)(c,{"data-cy":"title",outlined:"",modelValue:e.configuration.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.configuration.title=t),label:e.$t("pages.export.title"),"error-message":"Please provide Title",rules:[e=>e&&e.length>0]},null,8,["modelValue","label","rules"])])]),(0,a.Lk)("div",Da,[(0,a.Lk)("div",Ia,[(0,a.bF)(p)]),(0,a.Lk)("div",Ta,[(0,a.bF)(h,{modelValue:e.configuration.doc_type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.configuration.doc_type=t),outlined:"","data-cy":"doc-type",options:e.doc_type_list,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},null,8,["modelValue","options","label"])])]),(0,a.Lk)("div",Oa,[(0,a.Lk)("div",Ma,[(0,a.bF)(_,{modelValue:e.configuration.ion_file,"onUpdate:modelValue":t[2]||(t[2]=t=>e.configuration.ion_file=t),label:e.$t("pages.export.ion_mapping"),"data-cy":"ion-file",outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_ion_api?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[3]||(t[3]=t=>e.downloadMappingFile("ION_API","INFOR-DOC2.ionapi",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Ra,[(0,a.bF)(_,{modelValue:e.configuration.idm_file,"onUpdate:modelValue":t[4]||(t[4]=t=>e.configuration.idm_file=t),label:e.$t("pages.export.idm_mapping"),outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_idm_mapping?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[5]||(t[5]=t=>e.downloadMappingFile("IDM_MAPPING","IDM-Mapping.properties",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Pa,[(0,a.bF)(_,{modelValue:e.configuration.bod_file,"onUpdate:modelValue":t[6]||(t[6]=t=>e.configuration.bod_file=t),label:e.$t("pages.export.bod_mapping"),outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_bod_mapping?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[7]||(t[7]=t=>e.downloadMappingFile("BOD_MAPPING","BOD-Mapping.properties",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",qa,[(0,a.Lk)("div",null,[(0,a.Lk)("label",Va,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=t=>e.configuration.cloud=t),disabled:0!==e.configuration.id},null,8,Na),[[_l.lH,e.configuration.cloud]]),Ba]),$a,(0,a.bF)(b,{appearance:"cancel","data-cy":"back",class:"q-mr-sm q-mt-md",label:e.$t("back"),onClick:e.clearConfiguration},null,8,["label","onClick"]),0!==e.configuration.id&&e.selected_export==e.export_types.INFOR_ION_CLOUD?((0,a.uX)(),(0,a.Wv)(b,{key:0,class:"q-mr-sm q-mt-md",label:e.$t("test_connection"),onClick:e.testConnection},null,8,["label","onClick"])):(0,a.Q3)("",!0),(0,a.bF)(b,{class:"q-mt-md",label:e.$t("pages.user.save"),"data-cy":"save",onClick:e.saveConfig},null,8,["label","onClick"])])])])),_:1})])),_:1})):(0,a.Q3)("",!0)}var Xa=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Wa=(0,a.pM)({mixins:[oe.A,ue],components:{SubOrgSelect:ge},data(){return{}},watch:{configuration:{deep:!0,handler:function(e,t){this.isSaveDisable()}}},methods:{isSaveDisable:function(){return!this.configuration.infor_idm_mapping&&!this.configuration.idm_file||(!this.configuration.infor_ion_api&&!this.configuration.ion_file||!this.configuration.infor_bod_mapping&&!this.configuration.bod_file)},saveConfig(){return Xa(this,void 0,void 0,(function*(){try{let e=(this.configuration.id,{});e.export_method=this.export_types.INFOR_ION_CLOUD,this.configuration.cloud||(e.export_method=this.export_types.INFOR_ION_ON_PREMISE),e.doc_type=this.configuration.doc_type,e.title=this.configuration.title,0!==this.configuration.id&&(e.config_id=this.configuration.id),this.configuration.ion_file&&(e.ion_api=this.configuration.ion_file),this.configuration.idm_file&&(e.idm_mapping=this.configuration.idm_file),this.configuration.bod_file&&(e.bod_mapping=this.configuration.bod_file),this.configuration.hasOwnProperty("sub_org_id")&&null!==this.configuration.sub_org_id&&(e.sub_org_id=this.configuration.sub_org_id),this.processing=!0;const t=yield re.Y1.saveIonConfig(e);if(t&&!t.success&&t.exception.detail)throw{message:t.exception.detail};this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.config_saved=!0}catch(e){logError(e);const t=fe.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.processing=!1}}))},testConnection(){return Xa(this,void 0,void 0,(function*(){try{if(0==this.configuration.id)return;this.processing=!0;const e={config_id:this.configuration.id},t=yield re.Y1.testINFOR(e);if(!1===t.success)throw{message:t.message};this.showSuccessToast(this.$t("test_connection_success"))}catch(e){const t=fe.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1}}))}},setup(){const e=(0,se.cY)(),{doc_type_list:t}=(0,ne.bP)(e),l=(0,se.t8)(),{clearConfiguration:a}=l,{selected_export:o,selected_configuration:i,processing:s,config_saved:n,export_types:r}=(0,ne.bP)(l),d=[l.export_types.INFOR_ION_CLOUD,l.export_types.INFOR_ION_ON_PREMISE];return{export_types:r,processing:s,selected_export:o,configuration:i,doc_type_list:t,config_saved:n,clearConfiguration:a,allowed_types:d}}}),Ka=(0,he.A)(Wa,[["render",Qa],["__scopeId","data-v-1bfdaf34"]]),Ua=Ka;be()(Wa,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QInput:Ee.A,QSelect:me.A,QFile:De.A,QIcon:Ae.A}),be()(Wa,"directives",{ClosePopup:Ie.A});const ja=(0,a.Lk)("div",{"data-cy":"select-integration",class:"text-h6 text-white"},[(0,a.Lk)("b",null,"SFTP")],-1),za={class:"row full-width mb-10"},Ha={class:"col-12"},Ga={class:"row full-width mb-10"},Ya={class:"col-6"},Ja={class:"col-6 pl-20"},Za={class:"row full-width mb-10"},eo={class:"col-sm-4"},to={class:"col-sm-4"},lo={class:"col-4 pl-20"},ao={style:{"text-align":"center"}},oo={class:"q-ml-xl"};function io(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("q-icon"),h=(0,a.g2)("q-input"),m=(0,a.g2)("SubOrgSelect"),_=(0,a.g2)("q-select"),b=(0,a.g2)("q-file"),v=(0,a.g2)("f-btn"),g=(0,a.g2)("q-card"),f=(0,a.gN)("close-popup");return e.selected_export===e.export_types.INFORSFTP&&e.configuration?((0,a.uX)(),(0,a.Wv)(g,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{height:"500px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[ja,(0,a.bF)(r),(0,a.bo)((0,a.bF)(d,{icon:"close",flat:"",color:"white",round:"",dense:"",onClick:e.clearConfiguration},null,8,["onClick"]),[[f]])])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",za,[(0,a.Lk)("div",Ha,[(0,a.bF)(h,{modelValue:e.configuration["title"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.configuration["title"]=t),label:e.$t("title"),outlined:""},{append:(0,a.k6)((()=>[e.errors["title"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])])]),(0,a.Lk)("div",Ga,[(0,a.Lk)("div",Ya,[(0,a.bF)(m)]),(0,a.Lk)("div",Ja,[(0,a.bF)(_,{modelValue:e.configuration["doc_type"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.configuration["doc_type"]=t),outlined:"","data-cy":"doc-type",options:e.doc_type_list,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},{append:(0,a.k6)((()=>[e.errors["doc_type"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","options","label"])])]),(0,a.Lk)("div",Za,[(0,a.Lk)("div",eo,[(0,a.bF)(b,{modelValue:e.configuration.infor_bod_mapping,"onUpdate:modelValue":t[2]||(t[2]=t=>e.configuration.infor_bod_mapping=t),label:e.$t("pages.export.bod_mapping"),outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(p,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_bod_mapping?((0,a.uX)(),(0,a.Wv)(v,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[3]||(t[3]=t=>e.downloadMappingFile("BOD_MAPPING","BOD-Mapping.properties",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",to,[(0,a.bF)(b,{modelValue:e.configuration.infor_idm_mapping,"onUpdate:modelValue":t[4]||(t[4]=t=>e.configuration.infor_idm_mapping=t),label:e.$t("pages.export.idm_mapping"),outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(p,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_idm_mapping?((0,a.uX)(),(0,a.Wv)(v,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[5]||(t[5]=t=>e.downloadMappingFile("IDM_MAPPING","IDM-MAPPING.properties",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",lo,[(0,a.bF)(h,{outlined:"",modelValue:e.configuration.export_folder,"onUpdate:modelValue":t[6]||(t[6]=t=>e.configuration.export_folder=t),label:e.$t("folder"),class:"full-width"},{append:(0,a.k6)((()=>[e.errors["export_folder"]?((0,a.uX)(),(0,a.Wv)(p,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1},8,["modelValue","label"])])])])),_:1}),(0,a.Lk)("div",ao,[(0,a.Lk)("div",oo,[(0,a.bF)(v,{appearance:"cancel","data-cy":"back",label:e.$t("pages.export.back"),onClick:t[7]||(t[7]=t=>{e.clearConfiguration()})},null,8,["label"]),0!==e.configuration.id?((0,a.uX)(),(0,a.Wv)(v,{key:0,style:{"margin-left":"10px"},label:e.$t("test_connection"),onClick:e.testConnection},null,8,["label","onClick"])):(0,a.Q3)("",!0),(0,a.bF)(v,{style:{"margin-left":"10px"},label:e.$t("pages.user.save"),onClick:e.saveConfig},null,8,["label","onClick"])])])])),_:1})):(0,a.Q3)("",!0)}var so=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const no=(0,a.pM)({mixins:[ue,oe.A],components:{SubOrgSelect:ge},data(){return{}},watch:{},mounted:function(){this.setErrors()},methods:{setErrors(){for(let[e,t]of Object.entries(this.configuration))this.required_fields.includes(e)&&!t&&(this.errors[e]=!1)},validateAndDisplayErrors(){let e=!0;for(let[t,l]of Object.entries(this.configuration))this.required_fields.includes(t)&&!l?(this.errors[t]=!0,e=!1):this.errors[t]=!1;return e},saveConfig(){return so(this,void 0,void 0,(function*(){try{if(!this.validateAndDisplayErrors())return;this.processing=!0;let e={};e.doc_type=this.configuration.doc_type,e.title=this.configuration.title,e.export_folder=this.configuration.export_folder,"string"!=typeof this.configuration.infor_bod_mapping&&(e.bod_mapping=this.configuration.infor_bod_mapping),"string"!=typeof this.configuration.infor_idm_mapping&&(e.idm_mapping=this.configuration.infor_idm_mapping),0!==this.configuration.id&&(e.config_id=this.configuration.id),this.configuration.hasOwnProperty("sub_org_id")&&null!==this.configuration.sub_org_id&&(e.sub_org_id=this.configuration.sub_org_id);yield re.Y1.saveInforSFTPConfig(e);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.config_saved=!0}catch(e){if(logError(e),e&&e.hasOwnProperty("message"))return void this.showErrorToast(e.message);this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.processing=!1}}))},testConnection(){return so(this,void 0,void 0,(function*(){try{if(0==this.configuration.id)return;this.processing=!0;const e={config_id:this.configuration.id},t=yield re.Y1.testSFTP(e);if(!1===t.success)throw{message:t.message};this.showSuccessToast(this.$t("test_connection_success"))}catch(e){const t=fe.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1}}))}},setup(){const e=(0,se.cY)(),{doc_type_list:t}=(0,ne.bP)(e),l=(0,se.t8)(),{clearConfiguration:a,selectedNewExport:o}=l,{selected_export:i,selected_configuration:s,config_saved:n,processing:r,export_types:d}=(0,ne.bP)(l);return{selected_export:i,configuration:s,doc_type_list:t,clearConfiguration:a,selectedNewExport:o,config_saved:n,processing:r,export_types:d,errors:(0,ie.KR)({}),required_fields:(0,ie.KR)(["title","doc_type","export_folder"])}}}),ro=(0,he.A)(no,[["render",io]]),uo=ro;be()(no,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QInput:Ee.A,QIcon:Ae.A,QTooltip:Se.A,QSelect:me.A,QFile:De.A}),be()(no,"directives",{ClosePopup:Ie.A});const co=e=>((0,a.Qi)("data-v-40dd6897"),e=e(),(0,a.jt)(),e),po=co((()=>(0,a.Lk)("div",{"data-cy":"select-integration",class:"text-h6 text-white"},[(0,a.Lk)("b",null,"Infor ION BOD")],-1))),ho={class:"row"},mo={class:"col-12"},_o={class:"row q-pb-md"},bo={class:"col-6 q-pr-sm"},vo={class:"col-6"},go={class:"row"},fo={class:"col-sm-6 q-pr-sm"},yo={class:"col-sm-6"},ko={class:"q-mt-md row justify-center"};function wo(e,t,l,i,s,n){const r=(0,a.g2)("q-space"),d=(0,a.g2)("q-btn"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-input"),p=(0,a.g2)("SubOrgSelect"),h=(0,a.g2)("q-select"),m=(0,a.g2)("q-icon"),_=(0,a.g2)("q-file"),b=(0,a.g2)("f-btn"),v=(0,a.g2)("q-card"),g=(0,a.gN)("close-popup");return e.allowed_types.includes(e.selected_export)&&e.configuration?((0,a.uX)(),(0,a.Wv)(v,{key:0,style:(0,o.Tr)([{width:"1060px","max-width":"1060px"},{"min-height":"390px"}])},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row items-center q-pb-sm bg-primary"},{default:(0,a.k6)((()=>[po,(0,a.bF)(r),(0,a.bo)((0,a.bF)(d,{icon:"close",color:"white",flat:"",round:"",dense:"",onClick:e.clearConfiguration},null,8,["onClick"]),[[g]])])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",ho,[(0,a.Lk)("div",mo,[(0,a.bF)(c,{"data-cy":"title",outlined:"",modelValue:e.configuration.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.configuration.title=t),label:e.$t("pages.export.title"),"error-message":"Please provide Title",rules:[e=>e&&e.length>0]},null,8,["modelValue","label","rules"])])]),(0,a.Lk)("div",_o,[(0,a.Lk)("div",bo,[(0,a.bF)(p)]),(0,a.Lk)("div",vo,[(0,a.bF)(h,{modelValue:e.configuration.doc_type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.configuration.doc_type=t),outlined:"","data-cy":"doc-type",options:e.doc_type_list,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},null,8,["modelValue","options","label"])])]),(0,a.Lk)("div",go,[(0,a.Lk)("div",fo,[(0,a.bF)(_,{modelValue:e.configuration.ion_file,"onUpdate:modelValue":t[2]||(t[2]=t=>e.configuration.ion_file=t),label:e.$t("pages.export.ion_mapping"),"data-cy":"ion-file",outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_ion_api?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[3]||(t[3]=t=>e.downloadMappingFile("ION_API","INFOR-DOC2.ionapi",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",yo,[(0,a.bF)(_,{modelValue:e.configuration.bod_file,"onUpdate:modelValue":t[4]||(t[4]=t=>e.configuration.bod_file=t),label:e.$t("pages.export.bod_mapping"),outlined:"","max-files":"1"},{prepend:(0,a.k6)((()=>[(0,a.bF)(m,{name:"attach_file"})])),_:1},8,["modelValue","label"]),e.configuration&&e.configuration.infor_bod_mapping?((0,a.uX)(),(0,a.Wv)(b,{key:0,appearance:"tertiary",label:e.$t("download"),class:"float-right",onClick:t[5]||(t[5]=t=>e.downloadMappingFile("BOD_MAPPING","BOD-Mapping.properties",e.configuration.id))},null,8,["label"])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",ko,[(0,a.Lk)("div",null,[(0,a.bo)((0,a.bF)(b,{"data-cy":"back",appearance:"cancel",class:"q-mr-sm q-mt-md",label:e.$t("back"),onClick:e.clearConfiguration},null,8,["label","onClick"]),[[_l.aG,0==e.configuration.id]]),(0,a.bF)(b,{class:"q-mt-md",label:e.$t("pages.user.save"),"data-cy":"save",onClick:e.saveConfig},null,8,["label","onClick"])])])])),_:1})])),_:1})):(0,a.Q3)("",!0)}var Co=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const xo=(0,a.pM)({mixins:[oe.A,ue],components:{SubOrgSelect:ge},data(){return{}},watch:{configuration:{deep:!0,handler:function(e,t){this.isSaveDisable()}}},methods:{isSaveDisable:function(){return!this.configuration.infor_bod_mapping&&!this.configuration.bod_file||!this.configuration.infor_ion_api&&!this.configuration.ion_file},saveConfig(){return Co(this,void 0,void 0,(function*(){try{let e={};e.export_method=this.export_types.INFOR_BOD_CLOUD,e.doc_type=this.configuration.doc_type,e.title=this.configuration.title,0!==this.configuration.id&&(e.config_id=this.configuration.id),this.configuration.ion_file&&(e.ion_api=this.configuration.ion_file),this.configuration.bod_file&&(e.bod_mapping=this.configuration.bod_file),this.configuration.hasOwnProperty("sub_org_id")&&null!==this.configuration.sub_org_id&&(e.sub_org_id=this.configuration.sub_org_id),this.processing=!0;const t=yield re.Y1.saveIonBODConfig(e);if(t&&!t.success&&t.exception.detail)throw{message:t.exception.detail};this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.config_saved=!0}catch(e){logError(e);const t=fe.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.processing=!1}}))}},setup(){const e=(0,se.cY)(),{doc_type_list:t}=(0,ne.bP)(e),l=(0,se.t8)(),{clearConfiguration:a}=l,{selected_export:o,selected_configuration:i,processing:s,config_saved:n,export_types:r}=(0,ne.bP)(l),d=[l.export_types.INFOR_BOD_CLOUD];return{export_types:r,processing:s,selected_export:o,configuration:i,doc_type_list:t,config_saved:n,clearConfiguration:a,allowed_types:d}}}),Lo=(0,he.A)(xo,[["render",wo],["__scopeId","data-v-40dd6897"]]),Fo=Lo;be()(xo,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QInput:Ee.A,QSelect:me.A,QFile:De.A,QIcon:Ae.A}),be()(xo,"directives",{ClosePopup:Ie.A});var Eo=l(18505);const Ao=(0,a.pM)({name:"export-dialog",mixins:[Eo.A,oe.A],props:{},components:{Webhook:Yt,InforIdm:La,Flow2:Ct,InforIonBOD:Fo,InforIon:Ua,Zugferd:ml,Peppol:Vt,InforLN:Tl,InforM3:ia,SFTP:tt,InforSFTP:uo,SMB:Oe},data(){return{}},methods:{},setup(){const e=(0,se.t8)(),{selectedNewExport:t,clearStateForExportDialog:l}=e,{selected_export:a,export_types:o}=(0,ne.bP)(e);return{export_types:o,selected_export:a,selectedNewExport:t,clearStateForExportDialog:l}}});var So=l(3952),Do=l(23954);const Io=(0,he.A)(Ao,[["render",N],["__scopeId","data-v-1eab2e99"]]),To=Io;be()(Ao,"components",{QCard:Ce.A,QCardSection:xe.A,QSpace:Le.A,QBtn:Fe.A,QIcon:Ae.A,QAvatar:So.A,QBadge:Do.A,QDialog:aa.A}),be()(Ao,"directives",{ClosePopup:Ie.A})},47414:(e,t,l)=>{"use strict";l.d(t,{A:()=>b});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-spinner-ios");return(0,a.uX)(),(0,a.CE)("span",{class:"action-link no-border",onClick:t[0]||(t[0]=(...t)=>e.navigateToFormBuilder&&e.navigateToFormBuilder(...t))},[e.loading_templates?((0,a.uX)(),(0,a.Wv)(r,{key:0,color:"primary",size:"2em"})):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,o.v_)(e.$t("edit_layout")),1)])}var s=l(1659),n=l(38734),r=l(83319),d=l(72608);const u=(0,a.pM)({el:"#app",mixins:[],components:{},props:{doc_type_key:{type:String,default:""},sub_doc_type_key:{type:String,default:""},extraction_type:{type:String,default:""}},watch:{loading_templates:{handler:function(e,t){this.setTemplateId()}}},data(){return{layout_template_id:(0,n.KR)("")}},mounted:function(){this.setTemplateId()},methods:{setTemplateId(){try{if("function"!==typeof this.document_type_templates.filter)return;let e=this.document_type_templates.filter((e=>{const t=e.doc_type_key==this.doc_type_key;return this.sub_doc_type_key?t&&e.sub_doc_type_key==this.sub_doc_type_key:t&&!e.sub_doc_type_key}));e=e[0]||null,this.layout_template_id=e?e.id:""}catch(e){logError(e)}},navigateToFormBuilder(){if(this.loading_templates)return;const e=d.Z.getDetailViewRoute({doc_type_key:this.doc_type_key||"",layout_template_id:this.layout_template_id||"",sub_doc_type_key:this.sub_doc_type_key||""});e||logInfo("missing params for url"),this.$router.push(e)}},setup(){const e=(0,r.uL)(),{loading_templates:t,document_type_templates:l}=(0,s.bP)(e);return{loading_templates:t,document_type_templates:l}}});var c=l(12807),p=l(82157),h=l(98582),m=l.n(h);const _=(0,c.A)(u,[["render",i]]),b=_;m()(u,"components",{QSpinnerIos:p.A})},26064:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>st});var a=l(61758),o=l(58790);const i={class:"container page-height-limit"},s={style:{width:"100%"}},n={style:{"margin-top":"3px"}},r={style:{"margin-top":"3px"}},d={key:0},u={style:{"margin-top":"3px"}},c={style:{"margin-top":"3px"}};function p(e,t,l,p,h,m){const _=(0,a.g2)("SubHeader"),b=(0,a.g2)("BackToSettings"),v=(0,a.g2)("q-icon"),g=(0,a.g2)("q-space"),f=(0,a.g2)("q-separator"),y=(0,a.g2)("API"),k=(0,a.g2)("q-card-section"),w=(0,a.g2)("q-card"),C=(0,a.g2)("q-expansion-item"),x=(0,a.g2)("SubOrganisationID"),L=(0,a.g2)("SSOProvider"),F=(0,a.g2)("IdentityProvider"),E=(0,a.g2)("q-list");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(_,{name:"integration",label:e.$t("pages.settings.integration")},null,8,["label"]),(0,a.bF)(b),(0,a.Lk)("div",i,[(0,a.Lk)("div",s,[(0,a.Lk)("div",null,[(0,a.bF)(E,{bordered:"",class:"rounded-borders"},{default:(0,a.k6)((()=>[(0,a.bF)(C,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,a.k6)((()=>[(0,a.bF)(v,{size:"25px",style:{"margin-top":"3px"},class:"q-mr-lg icon-grey",name:"api"}),(0,a.Lk)("span",n,(0,o.v_)(e.$t("pages.settings.api_key")),1),(0,a.bF)(g)])),default:(0,a.k6)((()=>[(0,a.bF)(f),(0,a.bF)(w,{class:"page-background"},{default:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(y)])),_:1})])),_:1})])),_:1}),(0,a.bF)(C,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,a.k6)((()=>[(0,a.bF)(v,{size:"25px",style:{"margin-top":"3px"},class:"q-mr-lg icon-grey",name:"api"}),(0,a.Lk)("span",r,(0,o.v_)(e.$t("id")),1),(0,a.bF)(g)])),default:(0,a.k6)((()=>[(0,a.bF)(f),(0,a.bF)(w,{class:"page-background"},{default:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(x)])),_:1})])),_:1})])),_:1}),e.isAdmin?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(C,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,a.k6)((()=>[(0,a.bF)(v,{size:"25px",class:"q-mr-lg icon-grey-svg",name:"img:settings/key.svg"}),(0,a.Lk)("span",u,(0,o.v_)(e.$t("pages.integration_settings.general")),1),(0,a.bF)(g)])),default:(0,a.k6)((()=>[(0,a.bF)(f),(0,a.bF)(w,{class:"page-background"},{default:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(L)])),_:1})])),_:1})])),_:1}),(0,a.bF)(C,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,a.k6)((()=>[(0,a.bF)(v,{size:"25px",class:"q-mr-lg icon-grey",name:"fingerprint"}),(0,a.Lk)("span",c,(0,o.v_)(e.$t("pages.integration_settings.saml_metadata")),1),(0,a.bF)(g)])),default:(0,a.k6)((()=>[(0,a.bF)(f),(0,a.bF)(w,{class:"page-background"},{default:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(F)])),_:1})])),_:1})])),_:1})])):(0,a.Q3)("",!0)])),_:1})])])])],64)}var h=l(38734),m=l(77362),_=l(25773);const b={class:"container q-pa-xl"},v={style:{width:"100%"}},g={class:"row mt-30"},f=(0,a.Lk)("div",{class:"col-2"},null,-1),y={class:"col-9"},k={class:"col-1"};function w(e,t,l,i,s,n){const r=(0,a.g2)("q-input"),d=(0,a.g2)("q-tooltip"),u=(0,a.g2)("f-btn"),c=(0,a.g2)("q-form");return(0,a.uX)(),(0,a.CE)("div",b,[(0,a.Lk)("div",v,[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",g,[f,(0,a.Lk)("div",y,[(0,a.bF)(r,{class:"api",id:"apiKey",outlined:"",modelValue:e.api_key,"onUpdate:modelValue":t[0]||(t[0]=t=>e.api_key=t),readonly:"",label:"Key","error-message":e.$t("pages.api_settings.invalid_key"),rules:[e=>e&&e.length>0]},null,8,["modelValue","error-message","rules"])]),(0,a.Lk)("div",k,[(0,a.bF)(u,{class:"q-ml-sm q-mt-sm",icon:"fas fa-copy",onClick:t[1]||(t[1]=t=>e.copyText(e.api_key))},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.api_settings.api_key_tooltip")),1)])),_:1})])),_:1})])])])),_:1})])])}var C=l(18505),x=l(24622),L=l(11470),F=l(72281),E=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const A=(0,a.pM)({el:"#app",mixins:[C.A,x.A,F.A],props:["showSpinner"],data(){return{api_key:""}},mounted:function(){this.getAppKey()},methods:{getAppKey(){return E(this,void 0,void 0,(function*(){try{this.showLoading();const e={app_key:"FELLOW_DOC2"},t=yield L.jD.getAppSubscription(e);this.api_key=t[0].token}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}}))}}});var S=l(12807),D=l(49200),I=l(67837),T=l(97410),O=l(67156),M=l(98582),R=l.n(M);const P=(0,S.A)(A,[["render",w]]),q=P;R()(A,"components",{QForm:D.A,QInput:I.A,QTooltip:T.A,QField:O.A});const V={class:"container q-pa-xl"},N={style:{width:"100%"}},B={class:"row"},$={class:"col-2"},Q={class:"col-9"},X={class:"col-1"},W={class:"row mt-30"},K={class:"col-2"},U={class:"col-9"},j={class:"col-1"},z={class:"row mt-30"},H={class:"col-2"},G={class:"col-9"},Y={class:"col-1"},J={class:"row mt-30"},Z=(0,a.Lk)("div",{class:"col-2"},null,-1),ee={class:"col-9"};function te(e,t,l,i,s,n){const r=(0,a.g2)("q-input"),d=(0,a.g2)("q-tooltip"),u=(0,a.g2)("f-btn");return(0,a.uX)(),(0,a.CE)("div",V,[(0,a.Lk)("div",N,[(0,a.Lk)("div",B,[(0,a.Lk)("div",$,(0,o.v_)(e.$t("pages.integration_settings.entity_id")),1),(0,a.Lk)("div",Q,[(0,a.bF)(r,{class:"api",id:"entity_id",outlined:"",modelValue:e.entity_id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.entity_id=t),readonly:""},null,8,["modelValue"])]),(0,a.Lk)("div",X,[(0,a.bF)(u,{class:"q-ml-sm q-mt-sm",icon:"fas fa-copy",onClick:t[1]||(t[1]=t=>e.copyText(e.entity_id))},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("copy")),1)])),_:1})])),_:1})])]),(0,a.Lk)("div",W,[(0,a.Lk)("div",K,(0,o.v_)(e.$t("pages.integration_settings.slo_url")),1),(0,a.Lk)("div",U,[(0,a.bF)(r,{class:"api",id:"slo_url",outlined:"",modelValue:e.slo_url,"onUpdate:modelValue":t[2]||(t[2]=t=>e.slo_url=t),readonly:""},null,8,["modelValue"])]),(0,a.Lk)("div",j,[(0,a.bF)(u,{class:"q-ml-sm q-mt-sm",icon:"fas fa-copy",onClick:t[3]||(t[3]=t=>e.copyText(e.slo_url))},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("copy")),1)])),_:1})])),_:1})])]),(0,a.Lk)("div",z,[(0,a.Lk)("div",H,(0,o.v_)(e.$t("pages.integration_settings.sso_url")),1),(0,a.Lk)("div",G,[(0,a.bF)(r,{class:"api",id:"sso_url",outlined:"",modelValue:e.sso_url,"onUpdate:modelValue":t[4]||(t[4]=t=>e.sso_url=t),readonly:""},null,8,["modelValue"])]),(0,a.Lk)("div",Y,[(0,a.bF)(u,{class:"q-ml-sm q-mt-sm",icon:"fas fa-copy",onClick:t[5]||(t[5]=t=>e.copyText(e.sso_url))},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("copy")),1)])),_:1})])),_:1})])])]),(0,a.Lk)("div",J,[Z,(0,a.Lk)("div",ee,[(0,a.bF)(u,{onClick:t[6]||(t[6]=t=>e.downloadInstaller(e.certificate_url)),label:e.$t("pages.integration_settings.download_certificate")},null,8,["label"]),(0,a.bF)(u,{style:{"margin-left":"10px"},onClick:t[7]||(t[7]=t=>e.downloadInstaller(e.metadata_url)),label:e.$t("pages.integration_settings.metadata_url")},null,8,["label"])])])])}var le=l(82303),ae=l(46162),oe=l(85487),ie=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const se=(0,a.pM)({el:"#app",mixins:[C.A,x.A,F.A],props:["showSpinner"],data(){return{api_key:"",entity_id:"",slo_url:"",sso_url:"",certificate_url:"",metadata_url:"",file:null}},mounted:function(){this.getSAMLInfo()},setup(){return{}},methods:{downloadInstaller(e){window.open(e,"_self")},getSAMLInfo(){return ie(this,void 0,void 0,(function*(){this.showLoading();try{let e=yield(0,ae.L3)();this.fetchConfiguration(e),this.hideLoading()}catch(e){return this.hideLoading(),this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e)}}))},fetchConfiguration(e){return ie(this,void 0,void 0,(function*(){let t=yield le.A.get((0,oe.MV)(ae.FH.fetch_saml_configurations),{headers:{Authorization:e}});this.entity_id=t.data.ENTITY_ID,this.sso_url=t.data.SSO,this.slo_url=t.data.SLO,this.certificate_url=t.data.CERTIFICATE,this.metadata_url=t.data.METADATA_URL}))}}});var ne=l(56384);const re=(0,S.A)(se,[["render",te]]),de=re;R()(se,"components",{QInput:I.A,QTooltip:T.A,QBtn:ne.A});const ue={class:"container q-pa-xl"},ce={style:{width:"100%"}},pe={class:"row"},he={class:"col-2"},me={class:"col-9"},_e={class:"row mt-30"},be={class:"col-2"},ve={class:"col-9"},ge={key:0,class:"row mt-30",style:{position:"relative"}},fe={class:"col-2"},ye={class:"col-9"},ke={class:"col-1"},we={class:"row mt-30"},Ce=(0,a.Lk)("div",{class:"col-2"},null,-1),xe={class:"col-9"},Le=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function Fe(e,t,l,i,s,n){const r=(0,a.g2)("q-input"),d=(0,a.g2)("q-icon"),u=(0,a.g2)("q-file"),c=(0,a.g2)("q-tooltip"),p=(0,a.g2)("f-btn"),h=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",ue,[(0,a.Lk)("div",ce,[(0,a.Lk)("div",pe,[(0,a.Lk)("div",he,(0,o.v_)(e.$t("pages.integration_settings.infor_tenant_id")),1),(0,a.Lk)("div",me,[(0,a.bF)(r,{class:"api",id:"infor_tenant_id",outlined:"",modelValue:e.infor_tenant_id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.infor_tenant_id=t)},null,8,["modelValue"])])]),(0,a.Lk)("div",_e,[(0,a.Lk)("div",be,(0,o.v_)(e.$t("pages.integration_settings.upload_file")),1),(0,a.Lk)("div",ve,[(0,a.bF)(u,{style:{width:"20% !important","white-space":"nowrap"},class:"select-field",outlined:"",counter:"",multiple:"",modelValue:e.file,"onUpdate:modelValue":t[1]||(t[1]=t=>e.file=t),label:e.$t("pages.integration_settings.upload_button")},{prepend:(0,a.k6)((()=>[(0,a.bF)(d,{name:"attach_file"})])),_:1},8,["modelValue","label"])])]),e.exiting_metadate_url?((0,a.uX)(),(0,a.CE)("div",ge,[(0,a.Lk)("div",fe,(0,o.v_)(e.$t("pages.integration_settings.existing_upload_file")),1),(0,a.Lk)("div",ye,[(0,a.bF)(r,{class:"api",outlined:"",modelValue:e.existing_tenant_id,"onUpdate:modelValue":t[2]||(t[2]=t=>e.existing_tenant_id=t),readonly:""},null,8,["modelValue"])]),(0,a.Lk)("div",ke,[(0,a.bF)(p,{color:"primary",class:"q-ml-sm q-mt-sm",icon:"fas fa-download",onClick:e.downloadMetadata},{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.integration_settings.export")),1)])),_:1})])),_:1},8,["onClick"])])])):(0,a.Q3)("",!0),(0,a.Lk)("div",we,[Ce,(0,a.Lk)("div",xe,[(0,a.bF)(p,{label:e.$t("pages.integration_settings.configure_save_button"),class:"q-mr-lg",onClick:e.saveConfiguration},null,8,["label","onClick"]),e.exiting_metadate_url?((0,a.uX)(),(0,a.Wv)(p,{key:0,label:e.$t("delete"),onClick:e.deleteConfig},null,8,["label","onClick"])):(0,a.Q3)("",!0)])])])]),(0,a.bF)(h,{showing:e.loading},{default:(0,a.k6)((()=>[Le])),_:1},8,["showing"])],64)}var Ee=l(64775),Ae=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Se=(0,a.pM)({el:"#app",mixins:[C.A,x.A],data(){return{}},mounted:function(){this.init()},methods:{init(){return Ae(this,void 0,void 0,(function*(){try{this.loading=!0;let e=yield(0,ae.L3)();this.fetchMetaDataInfo(e)}catch(e){const t=Ee.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},fetchMetaDataInfo(e){return Ae(this,void 0,void 0,(function*(){let t=yield le.A.get((0,oe.MV)(ae.FH.fetch_saml_meta),{headers:{Authorization:e}});const l=t.data.tennant_id;l&&"undefined"!==l&&(this.existing_tenant_id=l);const a=t.data.saml_download_path;a&&"undefined"!==a&&(this.exiting_metadate_url=a||"")}))},openFileExplorer(){const e=document.getElementById("uploadfile");e&&e.click()},saveConfiguration(){this.file?this.uploadFile(this.file[0]):this.showErrorToast(this.$t("pages.messages.NO_FILE_SELECTED"))},downloadMetadata(){return Ae(this,void 0,void 0,(function*(){try{this.loading=!0;let e=yield(0,ae.L3)(),t=yield le.A.get((0,oe.MV)(this.exiting_metadate_url),{headers:{Authorization:e}});this.decodeRequest(t.data)}catch(e){const t=Ee.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},uploadFile(e){return Ae(this,void 0,void 0,(function*(){try{if("text/xml"!==e.type)return void this.showErrorToast(this.$t("pages.messages.ONLY_XML_ALLOWED"));this.loading=!0;let t=new FormData;t.append("file",e),t.append("tenant_id",this.infor_tenant_id),t.append("org_id",(0,oe.I)());let l=yield(0,ae.L3)();yield le.A.post(ae.FH.save_saml_configurations,t,{headers:{"Content-Type":"multipart/form-data",Authorization:l}}),yield this.init(),this.file=null,this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(t){const e=Ee.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.loading=!1}}))},decodeRequest(e){var t="configured_metadata.xml",l=document.createElement("a"),a=new Blob([e],{type:"text/xml"});l.setAttribute("href",window.URL.createObjectURL(a)),l.setAttribute("download",t),l.dataset.downloadurl=["text/xml",l.download,l.href].join(":"),l.draggable=!0,l.classList.add("dragout"),l.click()},deleteConfig(){return Ae(this,void 0,void 0,(function*(){try{this.loading=!0,yield L.tq.delete(),this.resetViewData(),this.showSuccessToast(this.$t("pages.messages.DELETED_SUCCESSFULLY"))}catch(e){const t=Ee.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},resetViewData(){this.infor_tenant_id="",this.exiting_metadate_url="",this.existing_tenant_id="",this.file=null}},setup(){return{loading:(0,h.KR)(!1),infor_tenant_id:(0,h.KR)(""),existing_tenant_id:(0,h.KR)(""),exiting_metadate_url:(0,h.KR)(""),file:(0,h.KR)(null)}}});var De=l(99980),Ie=l(50492),Te=l(39035);const Oe=(0,S.A)(Se,[["render",Fe]]),Me=Oe;R()(Se,"components",{QInput:I.A,QFile:De.A,QIcon:Ie.A,QTooltip:T.A,QInnerLoading:Te.A});var Re=l(73937);const Pe={class:"container q-pa-xl"},qe={style:{width:"100%"}},Ve={class:"row"},Ne={class:"col-2"},Be={class:"col-9"},$e={class:"col-1"},Qe={class:"row mt-30"},Xe={class:"col-2"},We={class:"col-9"},Ke={class:"col-1"};function Ue(e,t,l,i,s,n){const r=(0,a.g2)("q-input"),d=(0,a.g2)("q-tooltip"),u=(0,a.g2)("f-btn"),c=(0,a.g2)("q-form");return(0,a.uX)(),(0,a.CE)("div",Pe,[(0,a.Lk)("div",qe,[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Ve,[(0,a.Lk)("div",Ne,(0,o.v_)(e.$t("org_id")),1),(0,a.Lk)("div",Be,[(0,a.bF)(r,{class:"api",id:"org_id",outlined:"",modelValue:e.org_id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.org_id=t),readonly:""},null,8,["modelValue"])]),(0,a.Lk)("div",$e,[(0,a.bF)(u,{class:"q-ml-sm q-mt-sm",icon:"fas fa-copy",onClick:t[1]||(t[1]=t=>e.copyText(e.org_id))},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("copy")),1)])),_:1})])),_:1})])]),(0,a.Lk)("div",Qe,[(0,a.Lk)("div",Xe,(0,o.v_)(e.$t("sub_organisation_id")),1),(0,a.Lk)("div",We,[(0,a.bF)(r,{class:"api",id:"sub_org_id",outlined:"",modelValue:e.sub_org_id,"onUpdate:modelValue":t[2]||(t[2]=t=>e.sub_org_id=t),readonly:""},null,8,["modelValue"])]),(0,a.Lk)("div",Ke,[(0,a.bF)(u,{disabled:!e.sub_org_id,class:"q-ml-sm q-mt-sm",icon:"fas fa-copy",onClick:t[3]||(t[3]=t=>e.copyText(e.sub_org_id))},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("copy")),1)])),_:1})])),_:1},8,["disabled"])])])])),_:1})])])}var je=l(83319),ze=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const He=(0,a.pM)({el:"#app",mixins:[C.A,x.A,F.A],props:["showSpinner"],data(){return{org_id:(0,oe.I)(),sub_org_id:""}},mounted:function(){return ze(this,void 0,void 0,(function*(){yield this.fetchSubOrgId()}))},setup(){const e=(0,je.kH)(),{getSubOrgId:t}=e;return{getSubOrgId:t}},methods:{fetchSubOrgId(){return ze(this,void 0,void 0,(function*(){const e=yield this.getSubOrgId();e&&(this.sub_org_id=e)}))}}}),Ge=(0,S.A)(He,[["render",Ue],["__scopeId","data-v-643e239a"]]),Ye=Ge;R()(He,"components",{QForm:D.A,QInput:I.A,QTooltip:T.A,QField:O.A});const Je=(0,a.pM)({el:"#app",components:{SubHeader:m.A,BackToSettings:_.A,API:q,SSOProvider:de,IdentityProvider:Me,SubOrganisationID:Ye},data(){return{isAdmin:(0,h.KR)(!1)}},mounted(){this.isAdmin=Boolean(JSON.parse((0,Re.Ky)("is_organisation_admin")))}});var Ze=l(53999),et=l(88841),tt=l(93676),lt=l(10386),at=l(23316),ot=l(44189);const it=(0,S.A)(Je,[["render",p]]),st=it;R()(Je,"components",{QList:Ze.A,QExpansionItem:et.A,QIcon:Ie.A,QSpace:tt.A,QSeparator:lt.A,QCard:at.A,QCardSection:ot.A})},31670:(e,t,l)=>{"use strict";l.d(t,{A:()=>h});var a=l(61758);const o=e=>((0,a.Qi)("data-v-b2922d76"),e=e(),(0,a.jt)(),e),i=o((()=>(0,a.Lk)("svg",{id:"Ebene_1","data-name":"Ebene 1",xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 321.35 322.92"},[(0,a.Lk)("polygon",{class:"cls-1",points:"48.82 208.17 48.82 118.43 115.52 118.43 115.52 136.23 69.01 136.23 69.01 153.91 110.28 153.91 110.28 171.38 69.01 171.38 69.01 190.37 117.15 190.37 117.15 208.17 48.82 208.17"}),(0,a.Lk)("path",{class:"cls-1",d:"M130.58,208.27v-89.84h39.63c9.44,0,17.92,1.88,25.22,5.59,7.45,3.72,13.26,9.04,17.26,15.79,4.17,6.83,6.2,14.56,6.2,23.6s-2.03,16.77-6.22,23.63l-4.05,6.63v-1.18c-3.55,4.11-7.91,7.48-13.19,10.2-7.43,3.71-15.91,5.59-25.23,5.59h-39.63ZM169.23,190.26c6.14,0,11.37-1.16,15.54-3.44,4.26-2.18,7.58-5.28,10.22-9.5,2.38-3.97,3.6-8.77,3.6-14.24s-1.22-10.38-3.62-14.38c-1.89-3.08-4.46-5.71-7.65-7.83l-2.5-1.28c-4.5-2.3-9.75-3.47-15.6-3.47h-18.45v54.15h18.45Z"}),(0,a.Lk)("rect",{class:"cls-1",x:"231.34",y:"118.43",width:"20.2",height:"89.73"}),(0,a.Lk)("path",{class:"cls-1",d:"M57.81,250.02c0-3.97-.06-7,.01-10.02.15-6.57,5.01-11.47,11.29-11.42,6.11.04,11.05,4.88,11.11,11.24.11,11.25.11,22.5,0,33.75-.07,6.52-4.86,11.19-11.46,11.24-10.99.08-21.98.07-32.97,0-6.62-.04-11.57-4.83-11.66-11.06-.09-6.29,4.69-11.12,11.31-11.42.77-.03,1.53-.07,2.58-.12-3.67-5.11-7.31-9.8-10.55-14.76C8.01,217.61-.99,184.82,2.34,149.35,8.18,86.97,40.38,42.76,96.86,16.43c19.19-8.95,39.75-12.7,60.93-12.89,7.11-.06,12.24,4.61,12.29,11.13.05,6.52-4.93,11.13-12.09,11.38-51.57,1.75-90.8,24.81-116.72,69.41-27.57,47.44-21.51,109.6,13.85,151.57.66.79,1.38,1.53,2.7,3Z"}),(0,a.Lk)("path",{class:"cls-1",d:"M259.91,72.1c0,3.92.06,6.94-.01,9.97-.15,6.57-5.02,11.49-11.27,11.46-6.23-.03-11.1-4.99-11.15-11.58-.07-11.01-.07-22.03,0-33.04.05-6.96,4.76-11.58,11.79-11.61,10.76-.06,21.51-.04,32.27,0,6.92.02,11.94,4.66,12.05,11.03.11,6.4-4.73,11.17-11.63,11.46-.66.03-1.31.08-2.27.13,3.55,4.91,7.07,9.4,10.19,14.15,19.69,29.98,28.48,62.92,25.59,98.7-5.5,68.05-51.29,122.97-117.06,140.75-12.57,3.4-25.44,4.96-38.47,5.04-7.09.04-12.23-4.64-12.28-11.14-.05-6.54,4.91-11.12,12.09-11.36,51.58-1.72,90.79-24.8,116.72-69.4,27.74-47.74,21.4-110.51-14.5-152.38-.45-.52-.94-1-2.04-2.16Z"})],-1)));function s(e,t,l,o,s,n){const r=(0,a.g2)("q-icon");return(0,a.uX)(),(0,a.Wv)(r,{class:"q-ml-xs",color:e.color},{default:(0,a.k6)((()=>[i])),_:1},8,["color"])}const n=(0,a.pM)({name:"Editor",mixins:[],props:{color:{type:String,required:!1,default:"primary"}}});var r=l(12807),d=l(50492),u=l(98582),c=l.n(u);const p=(0,r.A)(n,[["render",s],["__scopeId","data-v-b2922d76"]]),h=p;c()(n,"components",{QIcon:d.A})},12537:(e,t,l)=>{"use strict";l.d(t,{A:()=>X});var a=l(61758),o=l(29104),i=l(58790);const s={class:"text-weight-bold"},n={style:{"margin-bottom":"20px"},class:"row full-width mb-10 mt-8"},r={class:"full-width"},d={class:"row full-width"},u={class:"full-width"},c={class:"row full-width"},p={class:"full-width"},h={key:0,class:"row full-width"},m={class:"full-width"};function _(e,t,l,_,b,v){const g=(0,a.g2)("q-toolbar-title"),f=(0,a.g2)("q-btn"),y=(0,a.g2)("q-toolbar"),k=(0,a.g2)("q-input"),w=(0,a.g2)("q-checkbox"),C=(0,a.g2)("q-icon"),x=(0,a.g2)("q-item-label"),L=(0,a.g2)("q-item-section"),F=(0,a.g2)("q-item"),E=(0,a.g2)("q-select"),A=(0,a.g2)("q-card-section"),S=(0,a.g2)("q-card-actions"),D=(0,a.g2)("q-card"),I=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(D,{style:{width:"600px"}},{default:(0,a.k6)((()=>[(0,a.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)(((...t)=>e.submitNewColumFrom&&e.submitNewColumFrom(...t)),["prevent","stop"]))},[(0,a.bF)(y,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",s,(0,i.v_)(e.$t("add_new_table_column")),1)])),_:1}),(0,a.bo)((0,a.bF)(f,{flat:"",round:"",dense:"",icon:"close"},null,512),[[I]])])),_:1}),(0,a.bF)(A,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.bF)(k,{label:e.$t("title")+"*",modelValue:e.new_column_model["label"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.new_column_model["label"]=t),hint:e.$t("custom_column_hint"),outlined:"",class:"full-width"},null,8,["label","modelValue","hint"])])]),(0,a.Lk)("div",d,[(0,a.Lk)("div",u,[(0,a.bF)(w,{class:"q-mb-sm",label:e.$t("is_it_required"),modelValue:e.new_column_model["column_required"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.new_column_model["column_required"]=t)},null,8,["label","modelValue"])])]),(0,a.Lk)("div",c,[(0,a.Lk)("div",p,[(0,a.bF)(E,{outlined:"",modelValue:e.new_column_model["type"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.new_column_model["type"]=t),class:"col-sm-6 col-md-6 col-lg-6",options:e.column_type,label:e.$t("select_column_type")+"*","emit-value":"","map-options":"","error-message":e.$t("field_required"),error:e.new_column_model["type_error"]},{append:(0,a.k6)((()=>[(0,a.bF)(C,{name:"close",onClick:t[2]||(t[2]=(0,o.D$)((t=>e.new_column_model["type"]=""),["stop"])),class:"cursor-pointer"})])),option:(0,a.k6)((e=>[(0,a.bF)(F,(0,i._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.bF)(x,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","label","error-message","error"])])]),e.isViewColumnListView()?((0,a.uX)(),(0,a.CE)("div",h,[(0,a.Lk)("div",m,[(0,a.bF)(E,{outlined:"",tabindex:"0",modelValue:e.new_column_model["table_name"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.new_column_model["table_name"]=t),"error-message":"Field is required",error:e.new_column_model["table_name_error"],options:e.tables_list,loading:e.table_list_loading,"emit-value":"","map-options":"",label:e.$t("select_table")},null,8,["modelValue","error","options","loading","label"])])])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(S,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(f,{class:"highlighted-back",label:e.$t("cancel")},null,8,["label"]),[[I]]),(0,a.bF)(f,{type:"submit",color:"primary",class:"q-mr-sm",label:e.$t("pages.line_items.proceed")},null,8,["label"])])),_:1})],32)])),_:1})}var b=l(16332),v=l(82303),g=l(38734),f=l(24622),y=l(18505),k=l(46162),w=l(85487),C=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const x=(0,a.pM)({el:"#app",mixins:[y.A,f.A],props:{is_table_training_doc:{type:Boolean,default:!1},is_table_extraction_view:{type:Boolean,default:!0},table_name:{type:String,default:""},parent_view:{type:String,default:"table_extraction"},tables:[],columns_list:{},tables_list:[],table_list_loading:{type:Boolean,default:!1}},components:{},data(){return{}},setup(){let e={};return{new_column_model:(0,g.KR)(e),table_train:(0,g.KR)(!1),token:(0,g.KR)(""),docId:"",column_type:[{label:b.i18n.t("select_column_type"),value:""},{label:b.i18n.t("amount"),value:"AMOUNT"},{label:"STRING",value:"STRING"},{label:b.i18n.t("invoice_date"),value:"DATE"},{label:b.i18n.t("number"),value:"NUMBER"},{label:"BOOLEAN",value:"BOOLEAN"},{label:b.i18n.t("currency"),value:"CURRENCY"}]}},watch:{},mounted(){this.isDocForTraining(),this.setNewModel(),this.SelectDefaultTable()},methods:{setNewModel(){this.new_column_model["column_required"]=!1,this.new_column_model["table_name"]=this.$t("select_table"),this.new_column_model["label"]="",this.new_column_model["type"]="",this.new_column_model["type_error"]=!1},submitNewColumFrom(){return C(this,void 0,void 0,(function*(){try{if(!this.new_column_model["type"]||""==this.new_column_model["type"])return void(this.new_column_model["type_error"]=!0);this.vaildateColumnLabel(),yield this.saveNewColumn()}catch(e){return null!=e&&"object"==typeof e&&e.hasOwnProperty("message")?void this.showErrorToast(e.message):(this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e))}}))},SelectDefaultTable(){this.tables_list.length<=3&&(this.new_column_model["table_name"]=this.tables_list[1].value)},vaildateColumnLabel(){this.new_column_model["column_name"]="";let e=this.new_column_model["label"];if(e=e.replace(/\ /g,"_"),!e||""==e)throw{message:"Title required"};const t=/^[a-zA-Z0-9\_]+$/;if(!t.test(e))throw{message:"Only use Words and Numbers for title"};if(this.new_column_model["column_name"]=e.replace(/[^0-9a-zA-Z_ ]/g,"").toUpperCase(),this.columns_list.hasOwnProperty(this.new_column_model["column_name"]))throw{message:this.$t("title_already_exists")};if(!this.new_column_model["column_name"]||""==this.new_column_model["column_name"])throw{message:"Title required"};if(this.isViewColumnListView()&&(!this.new_column_model["table_name"]||0==this.new_column_model["table_name"].length))throw{message:"Table required"}},saveNewColumn(){return C(this,void 0,void 0,(function*(){let e;try{let t=new FormData;t.append("column_name",this.new_column_model["column_name"]),t.append("column_type",this.new_column_model["type"]),t.append("title",this.new_column_model["label"]),t.append("is_required",this.new_column_model["column_required"]),t.append("doc_id",this.docId),t.append("table_data",JSON.stringify(this.tables));let l=this.isViewColumnListView()?this.new_column_model["table_name"]:this.table_name;t.append("table_name",l),!0===this.is_table_training_doc&&t.append("is_table_training_doc",(!0).toString()),t.append("org_id",(0,w.I)());let a=yield this.getToken(),o=k.FH.create_document_table_column;if(!1===this.is_table_extraction_view&&(o=k.FH.create_table_column),e=yield v.A.post(o,t,{headers:{Authorization:a}}),!1===e.data.success){if(!e.data.message)throw{message:"Response dont have table_data index/success is set to false"};this.showErrorToast(e.data.message)}this.dispatchSuccessEvent(e.data.table_data)}catch(t){throw logError(t),{message:this.$t("title_already_exists_switcher")}}this.hideLoading()}))},dispatchSuccessEvent(e){const t=new CustomEvent("custom_column_create",{detail:{tables:e}});document.dispatchEvent(t)},getToken(){return C(this,void 0,void 0,(function*(){let e=this.token&&null!=this.token&&""!=this.token?this.token:yield(0,k.L3)();return e}))},isDocForTraining(){this.$route.params.table_train&&"true"===this.$route.params.table_train?(this.table_train=!0,this.token=String(this.$route.query.token),this.docId=String(this.$route.query.id)):this.docId=String(this.$route.params.id)},isViewColumnListView(){return"columns_list"===this.parent_view}}});var L=l(12807),F=l(23316),E=l(36914),A=l(39150),S=l(56384),D=l(44189),I=l(67837),T=l(80460),O=l(94940),M=l(50492),R=l(90124),P=l(25173),q=l(13796),V=l(62669),N=l(88672),B=l(98582),$=l.n(B);const Q=(0,L.A)(x,[["render",_]]),X=Q;$()(x,"components",{QCard:F.A,QToolbar:E.A,QToolbarTitle:A.A,QBtn:S.A,QCardSection:D.A,QInput:I.A,QCheckbox:T.A,QSelect:O.A,QIcon:M.A,QItem:R.A,QItemSection:P.A,QItemLabel:q.A,QCardActions:V.A}),$()(x,"directives",{ClosePopup:N.A})},68220:(e,t,l)=>{"use strict";l.d(t,{A:()=>Et});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-53210b8a"),e=e(),(0,a.jt)(),e),n={key:0,class:"row bg-grey-2 q-pl-md q-pr-md q-pb-md"},r={key:1,class:"text-center text-h3 q-pl-xl q-pr-md"},d={style:{"padding-left":"5px"}},u={class:"row items-center no-wrap"},c=s((()=>(0,a.Lk)("img",{width:"18",height:"18",src:"images/trash-bin-default.svg"},null,-1))),p=s((()=>(0,a.Lk)("img",{width:"18",height:"18",src:"images/trash-bin-default.svg"},null,-1))),h=s((()=>(0,a.Lk)("img",{width:"18",height:"18",src:"images/globe.svg"},null,-1))),m={class:"highlighted-back"},_={key:2,class:"q-mt-md"},b={style:{"padding-left":"5px"}},v={style:{"padding-left":"5px"}},g=s((()=>(0,a.Lk)("span",{style:{"padding-left":"5px"}}," Values are set to auto filled ",-1))),f=s((()=>(0,a.Lk)("span",{style:{"padding-left":"5px"}}," Document has text but cannot be extracted ",-1))),y={key:3,class:"q-pa-md q-gutter-sm"},k={class:"text-weight-bold"},w={class:"row items-center"},C={style:{width:"40%",margin:"auto"}},x={class:"input-text validation-icon",style:{width:"60%"}},L={class:"row items-center q-mb-md"},F={style:{width:"40%",margin:"auto"}},E={style:{width:"60%"}},A={class:"q-pa-md"},S={class:"row items-center"},D={style:{width:"40%",margin:"auto"}},I={style:{width:"60%"}},T={class:"row items-center"},O={style:{width:"40%",margin:"auto"}},M={style:{width:"60%"}},R={class:"row items-center"},P={style:{width:"40%",margin:"auto"}},q={style:{width:"60%"}},V={class:"row items-center"},N={style:{width:"40%",margin:"auto"}},B={style:{width:"60%"}},$={class:"row items-center"},Q={style:{width:"40%",margin:"auto"}},X={style:{width:"60%"}},W={key:0,class:"row items-center"},K={style:{width:"1000%",margin:"auto"}},U={class:"highlighted-back"},j={class:"text-h4 text-uppercase text-left"},z={class:"text-h4 text-uppercase text-left"},H={class:"text-h4 text-uppercase text-left"},G={class:"text-h4 text-uppercase text-left"},Y=s((()=>(0,a.Lk)("img",{src:"images/trash-bin-default.svg",width:"20"},null,-1))),J={class:"text-weight-bold"},Z={style:{"margin-bottom":"20px"},class:"row full-width mb-10 mt-8"},ee={style:{width:"50%"}},te=s((()=>(0,a.Lk)("div",{style:{width:"50%"},class:"pl-20"},null,-1))),le={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},ae={style:{width:"50%"}},oe={style:{width:"50%"},class:"pl-20"},ie={key:0,style:{"margin-bottom":"20px"},class:"row full-width mb-10"},se={style:{width:"100%"}},ne={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},re={style:{width:"100%"}},de={class:"q-ml-sm"},ue={class:"q-ml-sm"},ce={class:"text-weight-bold"},pe={class:"q-ml-sm"},he={class:"q-ml-sm"},me={class:"q-ml-sm"};function _e(e,t,l,s,_e,be){const ve=(0,a.g2)("ErrorDocumentView"),ge=(0,a.g2)("q-icon"),fe=(0,a.g2)("q-th"),ye=(0,a.g2)("q-item-section"),ke=(0,a.g2)("q-item-label"),we=(0,a.g2)("q-item"),Ce=(0,a.g2)("q-separator"),xe=(0,a.g2)("ColumnOrigin"),Le=(0,a.g2)("q-list"),Fe=(0,a.g2)("q-btn-dropdown"),Ee=(0,a.g2)("q-input"),Ae=(0,a.g2)("q-tooltip"),Se=(0,a.g2)("q-tr"),De=(0,a.g2)("q-menu"),Ie=(0,a.g2)("Charges"),Te=(0,a.g2)("q-td"),Oe=(0,a.g2)("q-skeleton"),Me=(0,a.g2)("q-table"),Re=(0,a.g2)("q-markup-table"),Pe=(0,a.g2)("q-toolbar-title"),qe=(0,a.g2)("q-btn"),Ve=(0,a.g2)("q-toolbar"),Ne=(0,a.g2)("q-select"),Be=(0,a.g2)("q-checkbox"),$e=(0,a.g2)("q-expansion-item"),Qe=(0,a.g2)("q-card-section"),Xe=(0,a.g2)("q-card-actions"),We=(0,a.g2)("q-card"),Ke=(0,a.g2)("q-dialog"),Ue=(0,a.g2)("q-avatar"),je=(0,a.g2)("CreateCustomColumn"),ze=(0,a.g2)("BlockedColumns"),He=(0,a.g2)("f-btn"),Ge=(0,a.g2)("ManageRuleRegexes"),Ye=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.doc_fetch_error?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(ve)])):e.account_block?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(ge,{class:"text-blue",style:{"font-size":"32px"},name:"info"}),(0,a.Lk)("span",d,(0,o.v_)(e.$t("block_supplier_warning")),1)])):((0,a.uX)(),(0,a.CE)("div",{class:"row q-pa-sm full-width",key:e.renderKey},[e.hasLineItems()?((0,a.uX)(),(0,a.Wv)(Me,{key:0,"no-data-label":e.$t("pages.messages.no_record_found"),rows:e.tableRows,columns:e.tableColumns,flat:"","row-key":"id","table-header-style":{backgroundColor:"#d4d4d4"},"hide-bottom":"",style:{overflow:"auto",height:"auto","min-height":"128px","max-height":"500px"},"rows-per-page-options":[0],id:"line_item_table",class:"sticky-header"},(0,a.eX)({header:(0,a.k6)((l=>[(0,a.bF)(Se,{props:l,class:"highlighted-back"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.cols,((l,i)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l.name},[""===l.label?((0,a.uX)(),(0,a.Wv)(fe,{key:0})):((0,a.uX)(),(0,a.Wv)(fe,{key:1},{default:(0,a.k6)((()=>[(0,a.Lk)("div",u,[e.isReadOnly?((0,a.uX)(),(0,a.CE)("span",{key:1,class:(0,o.C4)("gridHeader "+(l.error?"column-error-border":"")+(!0===e.hasOriginalIndex(l.org_index,l)?"non-extractable-column-text ":" extractable-column-text")),style:{width:"100%","box-shadow":"none",padding:"8px 40px 8px 2px"}},(0,o.v_)(l.label),3)):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(Fe,{"fab-mini":"",color:e.hasOriginalIndex(l.org_index,l)&&e.formatting_options.group_column===l.org_index?"primary":"grey-6",rounded:"",outline:"",class:"column-action-dropdown","dropdown-icon":"more_horiz"},{default:(0,a.k6)((()=>[(0,a.bF)(Le,null,{default:(0,a.k6)((()=>[e.hasOriginalIndex(l.org_index,l)?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(we,{key:0,onClick:t=>e.confirmDeleteColumn(l.org_index),clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(ye,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[c])),_:1}),(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ke,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete_column")),1)])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[Ye]]):(0,a.Q3)("",!0),e.hasOriginalIndex(l.org_index,l)&&e.formatting_options.group_column!==l.org_index?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(we,{key:1,"text-color":l.is_mapped?"non-extractable-column-text":"black",onClick:t=>e.groupByColumn(l.org_index),clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(ye,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(ge,{name:"lar la-object-group",size:"20px",class:"cursor-pointer"})])),_:1}),(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ke,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("group_rows")),1)])),_:1})])),_:1})])),_:2},1032,["text-color","onClick"])),[[Ye]]):(0,a.Q3)("",!0),e.hasOriginalIndex(l.org_index,l)&&e.formatting_options.group_column===l.org_index?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(we,{key:2,onClick:t[0]||(t[0]=t=>e.resetFormating()),clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(ye,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(ge,{name:"lar la-object-ungroup",size:"20px",class:"cursor-pointer"})])),_:1}),(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ke,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("reset_group_rows")),1)])),_:1})])),_:1})])),_:1})),[[Ye]]):(0,a.Q3)("",!0),l.is_mapped?(0,a.Q3)("",!0):(0,a.bo)(((0,a.uX)(),(0,a.Wv)(we,{key:3,onClick:t=>{e.prepareRegexData(l.name)},clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(ye,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[(0,a.bF)(ge,{name:"las la-infinity",size:"20px",class:"cursor-pointer"})])),_:1}),(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ke,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("regex")),1)])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[Ye]]),e.hasOriginalIndex(l.org_index,l)?(0,a.Q3)("",!0):(0,a.bo)(((0,a.uX)(),(0,a.Wv)(we,{key:4,onClick:t=>e.disableCustomColumn(l.name),clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(ye,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[p])),_:1}),(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ke,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("disable_column")),1)])),_:1})])),_:1})])),_:2},1032,["onClick"])),[[Ye]]),(0,a.bF)(Ce),e.lineItemLayout[l.name]&&e.lineItemLayout[l.name].hasOwnProperty("column_type")&&"AMOUNT"==e.lineItemLayout[l.name].column_type?((0,a.uX)(),(0,a.Wv)(we,{key:5},{default:(0,a.k6)((()=>[(0,a.bF)(ye,{avatar:"",class:"f-item-icon"},{default:(0,a.k6)((()=>[h])),_:1}),(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(xe,{class:"f-doc-screens-input-field",onUpdateColumnOrigin:e.updateColumnOrigin,origin:l.col_origin,column_name:l.name},null,8,["onUpdateColumnOrigin","origin","column_name"])])),_:2},1024)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1032,["color"]),(0,a.bF)(Fe,{flat:"",disable:1!=e.hasOriginalIndex(l.org_index,l),id:"button_"+i,class:(0,o.C4)("gridHeader "+(l.error?"column-error-border":"")+(!0===e.hasOriginalIndex(l.org_index,l)?"non-extractable-column-text ":" extractable-column-text")),label:l.label},{default:(0,a.k6)((()=>[(0,a.bF)(Ee,{outlined:"",modelValue:e.searchColumn,"onUpdate:modelValue":t[1]||(t[1]=t=>e.searchColumn=t),dense:"",style:{"line-height":"normal"}},{append:(0,a.k6)((()=>[(0,a.bF)(ge,{name:"search"})])),_:1},8,["modelValue"]),(0,a.bF)(Le,{filter:e.filter},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.filteredColumns,(t=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(we,{key:t.techName,clickable:"",onClick:a=>e.swapColumn(t,l.org_index,l.name,"button_"+i)},{default:(0,a.k6)((()=>[(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ke,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.header),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[Ye]]))),128))])),_:2},1032,["filter"])])),_:2},1032,["disable","id","class","label"])],64)),l.error?((0,a.uX)(),(0,a.Wv)(ge,{key:2,title:e.$t("pages.screen2b.in_valid_column_error"),name:"priority_high",class:"headerError"},{default:(0,a.k6)((()=>[(0,a.bF)(Ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.screen2b.in_valid_column_error")),1)])),_:1})])),_:1},8,["title"])):(0,a.Q3)("",!0)])])),_:2},1024))],64)))),128))])),_:2},1032,["props"])])),_:2},[e.hasLineItems()&&Object.keys(e.lineDataObj).length>0?{name:"body",fn:(0,a.k6)((t=>[(0,a.bF)(Se,{props:t,id:e.tableRowIdPreFix+t.key,onDrop:l=>e.handleDrop(l,t),onDragover:e.handleDragOver,class:(0,o.C4)(e.lineDataObj[t.key].hasOwnProperty("is_additional_cost")&&!0===e.lineDataObj[t.key].is_additional_cost?"additional-cost-row":"")},{default:(0,a.k6)((()=>[e.isChargesModule?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(De,{key:0,"touch-position":"","context-menu":"",modelValue:e.lineDataObj[t.key]["show_menu"],"onUpdate:modelValue":l=>e.lineDataObj[t.key]["show_menu"]=l},{default:(0,a.k6)((()=>[(0,a.bF)(Le,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[e.lineDataObj[t.key].hasOwnProperty("is_additional_cost")&&!0===e.lineDataObj[t.key].is_additional_cost?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(we,{key:0,clickable:"",onClick:l=>e.additionalCostFlag(t.key,!1)},{default:(0,a.k6)((()=>[(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("remove_as_additional_cost")),1)])),_:1})])),_:2},1032,["onClick"])),[[Ye]]):(0,a.bo)(((0,a.uX)(),(0,a.Wv)(we,{key:1,clickable:"",onClick:l=>e.additionalCostFlag(t.key,!0)},{default:(0,a.k6)((()=>[(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("select_as_additional_cost")),1)])),_:1})])),_:2},1032,["onClick"])),[[Ye]]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(we,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("close")),1)])),_:1})])),_:1})),[[Ye]])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"])),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.cols,(l=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l.name},[""===l.label?((0,a.uX)(),(0,a.Wv)(Te,{key:0,class:"secondary-c-text"},{default:(0,a.k6)((()=>[e.isReadOnly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,o.C4)(["display-flex q-pr-sm q-pl-xs",e.isChargesModule&&e.lineDataObj[t.key].parent_id?"pl-27":""])},[e.rowHasErrors(t.key)?((0,a.uX)(),(0,a.Wv)(ge,{key:0,title:e.$t("pages.screen2b.in_valid_column_error"),name:"priority_high",class:"headerError"},{default:(0,a.k6)((()=>[(0,a.bF)(Ae,{class:"bg-red line-error-tooltip"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.lineItemsErrors[t.key],((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t},(0,o.v_)(e),1)))),128))])),_:2},1024)])),_:2},1032,["title"])):(0,a.Q3)("",!0),e.isChargesModule?((0,a.uX)(),(0,a.Wv)(Ie,{key:1,ref_for:!0,ref:"charges_"+t.key,props:t},null,8,["props"])):(0,a.Q3)("",!0),(0,a.bF)(ge,{color:"primary",name:"fa fa-times",size:"xs",class:"cursor-pointer",onClick:l=>e.removeLineItem(t.key)},null,8,["onClick"])],2))])),_:2},1024)):e.isColumnVisible(l.org_index,l)?((0,a.uX)(),(0,a.Wv)(Te,{key:1,id:"input_"+l.name+"_"+t.key,onClick:a=>e.editColumnData(a,l.field,t.key),"data-score-description":e.getScoreDescription(e.lineDataObj[t.key]["columns"][l.name]),"data-column-value":e.lineDataObj[t.key]["columns"][l.name].formatted_value},{default:(0,a.k6)((()=>[(0,a.bF)(Ee,{disable:e.isReadOnly,class:(0,o.C4)(["input-field "+e.addExtractionMethodClass(e.lineDataObj[t.key]["columns"][l.name]),e.fieldAlignment.includes(l.name)?"amount-position":""]),style:(0,o.Tr)("background:"+e.getBackgroundColor(e.lineDataObj[t.key]["columns"][l.name])),borderless:"",onChange:a=>e.inputValueChanges(l.name,t.key),onKeydown:(0,i.jR)((0,i.D$)((a=>e.handleTabKey(a,l.name,t.key)),["prevent"]),["tab"]),modelValue:e.lineDataObj[t.key]["columns"][l.name].formatted_value,"onUpdate:modelValue":a=>e.lineDataObj[t.key]["columns"][l.name].formatted_value=a},null,8,["disable","class","style","onChange","onKeydown","modelValue","onUpdate:modelValue"])])),_:2},1032,["id","onClick","data-score-description","data-column-value"])):(0,a.Q3)("",!0)],64)))),128))])),_:2},1032,["props","id","onDrop","onDragover","class"])])),key:"0"}:{name:"body",fn:(0,a.k6)((()=>[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(5,(e=>(0,a.bF)(Se,{key:e},{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(8,(e=>(0,a.bF)(Te,{key:e},{default:(0,a.k6)((()=>[(0,a.bF)(Oe,{animation:"wave"})])),_:2},1024))),64))])),_:2},1024))),64))])),key:"1"}]),1032,["no-data-label","rows","columns"])):((0,a.uX)(),(0,a.Wv)(Re,{key:1,class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",m,[(0,a.Lk)("th",null,[e.isFormBuilderMode?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t("no_columns_found"))+" "+(0,o.v_)(e.$t("please_contact_system_administrator")),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.$t("no_columns_found"))+" "+(0,o.v_)(e.$t("please_go_to"))+" ",1),(0,a.Lk)("span",{class:"cursor-pointer link",onClick:t[2]||(t[2]=t=>e.routeToTableTraining())},(0,o.v_)(e.$t("table_training_view")),1)],64))])])])])),_:1})),e.hasLineItems()?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.Lk)("div",null,[(0,a.bF)(ge,{class:"non-extractable-column-text",style:{"font-size":"18px"},name:"rectangle"}),(0,a.Lk)("span",b,(0,o.v_)(e.$t("non_extractable_column_text")),1)]),(0,a.Lk)("div",null,[(0,a.bF)(ge,{class:"extractable-column-text",style:{"font-size":"18px"},name:"rectangle"}),(0,a.Lk)("span",v,(0,o.v_)(e.$t("extractable_column_text")),1)]),(0,a.Lk)("div",null,[(0,a.bF)(ge,{style:(0,o.Tr)({"font-size":"18px",color:e.is_auto_filled_color}),name:"rectangle"},null,8,["style"]),g]),(0,a.Lk)("div",null,[(0,a.bF)(ge,{style:(0,o.Tr)({"font-size":"18px",color:e.is_missing_color}),name:"rectangle"},null,8,["style"]),f])])):(0,a.Q3)("",!0)])),e.openAdvSettings?((0,a.uX)(),(0,a.CE)("div",y,[(0,a.bF)(Ke,{modelValue:e.openAdvSettings,"onUpdate:modelValue":t[11]||(t[11]=t=>e.openAdvSettings=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(We,{style:{width:"700px","max-width":"50vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(Ve,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(Pe,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",k,(0,o.v_)(e.$t("layout.settings")),1)])),_:1}),(0,a.bo)((0,a.bF)(qe,{flat:"",round:"",dense:"",icon:"close"},null,512),[[Ye]])])),_:1}),(0,a.bF)(Qe,{class:""},{default:(0,a.k6)((()=>[(0,a.Lk)("div",w,[(0,a.Lk)("div",C,[(0,a.eW)((0,o.v_)(e.$t("pages.line_items.header_row_count_field"))+" ",1),(0,a.bF)(ge,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(Ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("header_row_count")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",x,[(0,a.bF)(Ee,{outlined:"",type:"number",rules:e.headerRowCountRules,modelValue:e.header_rows_count,"onUpdate:modelValue":t[3]||(t[3]=t=>e.header_rows_count=t)},null,8,["rules","modelValue"])])]),(0,a.Lk)("div",L,[(0,a.Lk)("div",F,[(0,a.eW)((0,o.v_)(e.$t("move_extra_rows_to"))+" ",1),(0,a.bF)(ge,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(Ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("move_extra_rows_to_desc")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",E,[(0,a.bF)(Ne,{outlined:"",modelValue:e.move_extra_rows_to,"onUpdate:modelValue":t[4]||(t[4]=t=>e.move_extra_rows_to=t),options:e.advance_settings_columns,"emit-value":"","map-options":""},{option:(0,a.k6)((e=>[(0,a.bF)(we,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ke,{class:(0,o.C4)("__trash__"===e.opt.value?"text-red text-weight-bold":"")},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1032,["class"])])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options"])])]),(0,a.bF)(Le,{bordered:"",class:"rounded-borders"},{default:(0,a.k6)((()=>[(0,a.bF)($e,{"expand-separator":"",icon:"description",label:e.$t("pages.line_items.adv_settings_header"),"header-class":"panel-header","default-closed":""},{default:(0,a.k6)((()=>[(0,a.bF)(Ce),(0,a.Lk)("div",A,[(0,a.Lk)("div",S,[(0,a.Lk)("div",D,[(0,a.eW)((0,o.v_)(e.$t("pages.line_items.min_group_rows"))+" ",1),(0,a.bF)(ge,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(Ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("minimum_grouped_rows")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",I,[(0,a.bF)(Ee,{class:"input-text validation-icon",outlined:"",type:"number",rules:e.headerRowCountRules,modelValue:e.min_group_rows,"onUpdate:modelValue":t[5]||(t[5]=t=>e.min_group_rows=t)},null,8,["rules","modelValue"])])]),(0,a.Lk)("div",T,[(0,a.Lk)("div",O,[(0,a.eW)((0,o.v_)(e.$t("pages.line_items.max_group_rows"))+" ",1),(0,a.bF)(ge,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(Ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("maximum_grouped_rows")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",M,[(0,a.bF)(Ee,{class:"input-text validation-icon",outlined:"",type:"number",rules:e.headerRowCountRules,modelValue:e.max_group_rows,"onUpdate:modelValue":t[6]||(t[6]=t=>e.max_group_rows=t)},null,8,["rules","modelValue"])])]),(0,a.Lk)("div",R,[(0,a.Lk)("div",P,[(0,a.eW)((0,o.v_)(e.$t("pages.line_items.distinct_group_column"))+" ",1),(0,a.bF)(ge,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(Ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("distinct_group_columns")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",q,[(0,a.bF)(Be,{modelValue:e.distinct_group_column,"onUpdate:modelValue":t[7]||(t[7]=t=>e.distinct_group_column=t)},null,8,["modelValue"])])]),(0,a.Lk)("div",V,[(0,a.Lk)("div",N,[(0,a.eW)((0,o.v_)(e.$t("pages.line_items.reverse_grouping"))+" ",1),(0,a.bF)(ge,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(Ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("reverse_grouping")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",B,[(0,a.bF)(Be,{modelValue:e.reverse_grouping,"onUpdate:modelValue":t[8]||(t[8]=t=>e.reverse_grouping=t)},null,8,["modelValue"])])]),(0,a.Lk)("div",$,[(0,a.Lk)("div",Q,[(0,a.eW)((0,o.v_)(e.$t("split_text"))+" ",1),(0,a.bF)(ge,{name:"help_outline",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(Ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("split_text_desc")),1)])),_:1})])),_:1})]),(0,a.Lk)("div",X,[(0,a.bF)(Be,{modelValue:e.split_text,"onUpdate:modelValue":t[9]||(t[9]=t=>e.split_text=t),onClick:t[10]||(t[10]=t=>e.split_text_confirm_dialog=!0)},null,8,["modelValue"])])]),e.extra_columns.length>0?((0,a.uX)(),(0,a.CE)("div",W,[(0,a.Lk)("div",K,[(0,a.bF)(Re,null,{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",U,[(0,a.Lk)("th",j,(0,o.v_)(e.$t("field_key")),1),(0,a.Lk)("th",z,(0,o.v_)(e.$t("source_field")),1),(0,a.Lk)("th",H,(0,o.v_)(e.$t("pattern")),1),(0,a.Lk)("th",G,(0,o.v_)(e.$t("actions")),1)])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.extra_columns,((t,l)=>((0,a.uX)(),(0,a.CE)("tr",{key:t["key"]},[(0,a.Lk)("td",null,(0,o.v_)(t["field_key"]),1),(0,a.Lk)("td",null,(0,o.v_)(t["source_field"]),1),(0,a.Lk)("td",null,(0,o.v_)(t["pattern"]),1),(0,a.Lk)("td",null,[(0,a.bF)(qe,{flat:"",onClick:t=>{t.stopPropagation(),e.removeFieldFromSettings(l)}},{default:(0,a.k6)((()=>[Y,(0,a.bF)(Ae,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("remove")),1)])),_:1})])),_:2},1032,["onClick"])])])))),128))])])),_:1})])])):(0,a.Q3)("",!0)])])),_:1},8,["label"])])),_:1})])),_:1}),(0,a.bF)(Xe,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(qe,{class:"highlighted-back",label:e.$t("cancel")},null,8,["label"]),[[Ye]]),(0,a.bF)(qe,{color:"primary",class:"q-mr-sm","data-cy":"setvatfield",label:e.$t("pages.line_items.proceed"),onClick:e.formatWthAdvSettings},null,8,["label","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Ke,{modelValue:e.addFieldsDialog,"onUpdate:modelValue":t[20]||(t[20]=t=>e.addFieldsDialog=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(We,{style:{width:"600px"}},{default:(0,a.k6)((()=>[(0,a.bF)(Ve,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(Pe,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",J,(0,o.v_)(e.$t("add_field_view_header")),1)])),_:1}),(0,a.bo)((0,a.bF)(qe,{flat:"",round:"",dense:"",icon:"close"},null,512),[[Ye]])])),_:1}),(0,a.bF)(Qe,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Z,[(0,a.Lk)("div",ee,[(0,a.bF)(Ne,{modelValue:e.new_field_model["source"],"onUpdate:modelValue":t[13]||(t[13]=t=>e.new_field_model["source"]=t),class:"col-sm-6 col-md-6 col-lg-6",options:e.adv_column_options,label:"Field Source*","bottom-slots":"","error-message":"Field is required",error:e.new_field_model["source_invalid"],"emit-value":"","map-options":""},{append:(0,a.k6)((()=>[(0,a.bF)(ge,{name:"close",onClick:t[12]||(t[12]=(0,i.D$)((t=>e.new_field_model["source"]=""),["stop"])),class:"cursor-pointer"})])),option:(0,a.k6)((e=>[(0,a.bF)(we,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ke,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","error"])]),te]),(0,a.Lk)("div",le,[(0,a.Lk)("div",ae,[(0,a.bF)(Ee,{label:"Key*",modelValue:e.new_field_model["key"],"onUpdate:modelValue":t[14]||(t[14]=t=>e.new_field_model["key"]=t),outlined:"",class:"full-width","bottom-slots":"","error-message":"Field is required",error:e.new_field_model["key_invalid"]},null,8,["modelValue","error"])]),(0,a.Lk)("div",oe,[(0,a.bF)(Ne,{modelValue:e.new_field_model["key_dropdown"],"onUpdate:modelValue":[t[16]||(t[16]=t=>e.new_field_model["key_dropdown"]=t),t[17]||(t[17]=t=>e.advSettingNewFieldColumnSelected("key","key_dropdown"))],class:"col-sm-6 col-md-6 col-lg-6",options:e.adv_column_options,label:e.$t("adv_column_options")},{append:(0,a.k6)((()=>[(0,a.bF)(ge,{name:"close",onClick:t[15]||(t[15]=(0,i.D$)((t=>{e.new_field_model["key_dropdown"]="",e.advSettingNewFieldColumnSelected("key","key_dropdown")}),["stop"])),class:"cursor-pointer"})])),option:(0,a.k6)((e=>[(0,a.bF)(we,(0,o._B)((0,a.Ng)(e.itemProps)),{default:(0,a.k6)((()=>[(0,a.bF)(ye,null,{default:(0,a.k6)((()=>[(0,a.bF)(ke,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.opt.label),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),_:1},8,["modelValue","options","label"])])]),e.new_field_model["key_dropdown"]?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",ie,[(0,a.Lk)("div",se,[(0,a.bF)(Ee,{label:"Label",modelValue:e.new_field_model["label"],"onUpdate:modelValue":t[18]||(t[18]=t=>e.new_field_model["label"]=t),outlined:"",class:"full-width"},null,8,["modelValue"])])])),(0,a.Lk)("div",ne,[(0,a.Lk)("div",re,[(0,a.bF)(Ee,{label:"Pattern*",modelValue:e.new_field_model["pattern"],"onUpdate:modelValue":t[19]||(t[19]=t=>e.new_field_model["pattern"]=t),outlined:"",class:"full-width","bottom-slots":"","error-message":"Invalid Regex Pattern",error:e.new_field_model["pattern_invalid"]},null,8,["modelValue","error"])])])])),_:1}),(0,a.bF)(Xe,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(qe,{color:"primary",class:"q-mr-sm","data-cy":"setvatfield",label:e.$t("pages.line_items.proceed"),onClick:e.saveNewFieldForAdvSettings},null,8,["label","onClick"]),(0,a.bo)((0,a.bF)(qe,{class:"highlighted-back",label:e.$t("cancel")},null,8,["label"]),[[Ye]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Ke,{modelValue:e.split_text_confirm_dialog,"onUpdate:modelValue":t[22]||(t[22]=t=>e.split_text_confirm_dialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(We,null,{default:(0,a.k6)((()=>[(0,a.bF)(Qe,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(Ue,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(Qe,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",de,(0,o.v_)(e.$t("split_text_confirm")),1)])),_:1}),(0,a.bF)(Xe,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(qe,{label:e.$t("cancel"),class:"highlighted-back"},null,8,["label"]),[[Ye]]),(0,a.bF)(qe,{label:e.$t("proceed"),class:"q-mr-sm",color:"primary",onClick:t[21]||(t[21]=t=>e.TriggerSplitText())},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])):(0,a.Q3)("",!0),(0,a.bF)(Ke,{modelValue:e.addColumnDialog,"onUpdate:modelValue":t[23]||(t[23]=t=>e.addColumnDialog=t),persistent:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(je,{is_table_training_doc:!!e.docStore.record.hasOwnProperty("is_table_training_doc"),table_name:e.tableObj?e.tableObj.name:"",tables:e.tableObj?e.tableObj:{},columns_list:e.lineItemLayout,addColumnDialog:e.addColumnDialog},null,8,["is_table_training_doc","table_name","tables","columns_list","addColumnDialog"])])),_:1},8,["modelValue"]),(0,a.bF)(Ke,{modelValue:e.poEditRestrictDialog,"onUpdate:modelValue":t[24]||(t[24]=t=>e.poEditRestrictDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(We,null,{default:(0,a.k6)((()=>[(0,a.bF)(Qe,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",ue,(0,o.v_)(e.poEditRestrictMessage),1)])),_:1}),(0,a.bF)(Xe,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(qe,{flat:"",label:e.$t("dashboard"),color:"primary",to:"/dashboard"},null,8,["label"]),(0,a.bF)(qe,{flat:"",label:e.$t("table_extraction_view"),color:"primary",to:"/tbl_ext_v3/"+e.docStore.record.doc_id},null,8,["label","to"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Ke,{modelValue:e.openDisableColumnListView,"onUpdate:modelValue":t[25]||(t[25]=t=>e.openDisableColumnListView=t)},{default:(0,a.k6)((()=>[(0,a.bF)(We,{style:{"min-width":"700px",width:"700px","max-width":"50vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(Ve,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(Pe,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",ce,(0,o.v_)(e.$t("diabled_custom_columns")),1)])),_:1}),(0,a.bo)((0,a.bF)(qe,{flat:"",round:"",dense:"",icon:"close"},null,512),[[Ye]])])),_:1}),(0,a.bF)(ze,{rows:e.disableColumnList},null,8,["rows"])])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Ke,{modelValue:e.revert_changes_confirm_dialog,"onUpdate:modelValue":t[28]||(t[28]=t=>e.revert_changes_confirm_dialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(We,null,{default:(0,a.k6)((()=>[(0,a.bF)(Qe,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(Ue,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(Qe,{tag:"span",class:"row items-center",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.Lk)("span",pe,(0,o.v_)(e.$t("revert_changes_confirm")),1),(0,a.Lk)("span",he,(0,o.v_)(e.$t("revert_changes_confirm_2")),1)])),_:1}),(0,a.bF)(Xe,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(qe,{label:e.$t("cancel"),class:"highlighted-back",onClick:t[26]||(t[26]=t=>e.revert_changes_confirm_dialog=!1)},null,8,["label"]),[[Ye]]),(0,a.bF)(qe,{label:e.$t("proceed"),class:"q-mr-sm",color:"primary",onClick:t[27]||(t[27]=t=>e.revertChanges(!0))},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Ke,{modelValue:e.showConfirmDeleteColumn,"onUpdate:modelValue":t[30]||(t[30]=t=>e.showConfirmDeleteColumn=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(We,null,{default:(0,a.k6)((()=>[(0,a.bF)(Qe,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(Ue,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(Qe,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",me,(0,o.v_)(e.$t("delete_column_warning")),1)])),_:1}),(0,a.bF)(Xe,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(He,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[Ye]]),(0,a.bo)((0,a.bF)(He,{label:e.$t("done"),onClick:t[29]||(t[29]=t=>e.deleteLineItemColumn())},null,8,["label"]),[[Ye]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Ge,{showRegexDlg:e.showRegexDlg,onSetShowRegexDlg:e.setShowRegexDlg,onUpdateRegexByRule:e.updateRegexByRule},null,8,["showRegexDlg","onSetShowRegexDlg","onUpdateRegexByRule"])],64)}var be=l(82303),ve=l(1659),ge=l(24622),fe=l(38734),ye=l(96056),ke=l(92162),we=l(18505),Ce=l(82836),xe=l(64233),Le=l(14907),Fe=l(41903),Ee=l(86633),Ae=l(42300),Se=l(46162),De=l(64471),Ie=l(25891),Te=l(30739),Oe=l(13503),Me=l(85487),Re=l(14763),Pe=l(82080),qe=l(12566),Ve=l(68450),Ne=l(12537),Be=l(89518),$e=l(76956),Qe=l(83319),Xe=l(11470),We=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};let Ke,Ue=new Map;const je=(0,a.pM)({el:"#app",mixins:[Ee.A,we.A,ge.A,Ae.A,De.A,xe.A,ye.A,Pe.A,Ie.A],props:{apiDataProp:{},extractedData:{type:String,default:""},currentPageNo:{type:Number,default:1},isRowMode:{type:Boolean,default:!1},isReadOnly:{type:Boolean,default:!1},currentField:{type:Object,default:new Object},fieldName:{type:String,default:""}},emits:["updateExtractionDataForSave","setTableRowCorrdinates","loadNewPageImage","updateModel"],components:{Charges:Ce.A,ColumnOrigin:Be.A,BlockedColumns:Oe.A,ManageRuleRegexes:Re.A,ErrorDocumentView:qe.A,CreateCustomColumn:Ne.A},data(){return{docId:"",dropdownColumns:[],rows_to_delete:[],po_dragging:!1,dragging_data:{},coveredLineItem:[],validation_done:!0,connected_line_item:"",confirmDialog:(0,fe.KR)(!1),renderKey:0,is_po_view:!1,selectedColumn:(0,fe.KR)(""),showRegexDlg:(0,fe.KR)(!1),openAdvSettings:(0,fe.KR)(!1),oldSelectedColumnName:(0,fe.KR)(""),po_connected_line_items:{},is_auto_filled_color:"#c2dba6",is_missing_color:"#eed69e",tableObj:{},account_block:"",tableRowIdPreFix:$e.Al,costingElementIdPreFix:$e.aH.costingElementIdPreFix,isChargesModule:(0,fe.KR)(!1),fieldAlignment:["UNIT_PRICE","TOTAL_AMOUNT","NET_AMOUNT","DISCOUNT","UNIT_PRICE_PER"]}},mounted:function(){document.addEventListener("revert_changes",(()=>{this.revertChanges().then()})),document.addEventListener("add_new_row",this.createNewRow),document.addEventListener("reset_line_items",this.resetlintItems),document.addEventListener("add_new_column",this.addNewCustomColumn),document.addEventListener("reload_line_items",this.reloadLineItemData),document.addEventListener("get_table_rows_areas",this.getTableRowsAreas),document.addEventListener("enable_custom_column",this.enableCustomColumn),document.addEventListener("display_adv_settings_view",this.openAdvanceSettings),document.addEventListener("open_disabled_custom_columns_view",this.openDisabledCstmColumnsView),document.addEventListener("delete_table",this.deleteTable),document.addEventListener("display_fields_errors",this.displayFieldErrors),document.addEventListener("prepare_rows",this.reRenderTable),this.init(),this.isViewPo(),window.lineItemsV3=this},unmounted:function(){document.removeEventListener("revert_changes",(()=>{this.revertChanges().then()})),document.removeEventListener("add_new_row",this.createNewRow),document.removeEventListener("reset_line_items",this.resetlintItems),document.removeEventListener("add_new_column",this.addNewCustomColumn),document.removeEventListener("reload_line_items",this.reloadLineItemData),document.removeEventListener("get_table_rows_areas",this.getTableRowsAreas),document.removeEventListener("enable_custom_column",this.enableCustomColumn),document.removeEventListener("display_adv_settings_view",this.openAdvanceSettings),document.removeEventListener("open_disabled_custom_columns_view",this.openDisabledCstmColumnsView),document.removeEventListener("delete_table",this.deleteTable),document.removeEventListener("display_fields_errors",this.displayFieldErrors),document.removeEventListener("prepare_rows",this.reRenderTable)},watch:{extractedData(e){Ke.value=e,Ke.parentElement.classList.remove("active"),Ke=null},currentPageNo(e){this.highliteFirstRowOfCurrentPage()}},methods:{init(){return We(this,void 0,void 0,(function*(){this.isAI_TableExit(this.record)||(this.docStore.record.tables&&this.docStore.record.tables[0]&&(this.tableObj=this.docStore.record.tables[0]),yield this.getOrgSettings(),this.lineItemDataLoaded(),this.handleLineItemsVisibilty(),this.user_settings[$e.lZ]&&(this.isChargesModule=!0))}))},addExtractionMethodClass(e){let t="";return e&&e.hasOwnProperty("extraction_method")&&""!==e.extraction_method&&(t="extraction_method"),t},reloadLineItemData(e){if(!e||!e.detail)return;this.lineItemsloading=!1;let t=e.detail.apiData;this.resetRows(),this.docStore.record=t,this.docId=this.docStore.record&&this.docStore.record.doc_id?this.docStore.record.doc_id:"",this.refactorApiData();let l={rowId:e.detail.currentRowId,columnName:e.detail.currentColumnName,onlySelectedRow:!0};this.getTableRowsAreas({detail:l}),setTimeout((()=>{const t=new CustomEvent("enable_column_selection",{detail:e.detail.currentRowId});document.dispatchEvent(t)}),10)},deleteTable(){this.tableObj={},this.lineItemDataLoaded()},handleTabKey(e,t,l){const a=Array.from(document.querySelectorAll("input")),o=a.indexOf(e.target);if(-1!==o&&o<a.length-1){const e=a[o+1];e.focus()}},lineItemDataLoaded(){this.lineItemsloading=!1,this.resetRows(),this.docId=this.docStore.record&&this.docStore.record.doc_id?this.docStore.record.doc_id:"",this.refactorApiData()},isViewEditable(){return!this.is_po_view},getToken(){return We(this,void 0,void 0,(function*(){let e=this.docStore.record.token&&null!=this.docStore.record.token&&""!=this.docStore.record.token?this.docStore.record.token:yield(0,Se.L3)();return e}))},groupByColumn(e){return We(this,void 0,void 0,(function*(){""!==e&&void 0!=e&&null!=e&&(this.group_column=e,yield this.requestReformate())}))},getColumnMappingIndexes(){let e={};for(const t in this.column_mapping_indexes){let l=this.column_mapping_indexes[t];e[t]=l}return e},resetFormating(){return We(this,void 0,void 0,(function*(){this.group_column="",yield this.requestReformate()}))},validateLineItemColumns(){let e=!1;if(this.docStore.record["table_has_error"]=!1,void 0===this.tableColumns)return;let t=[];for(const a of this.tableColumns){let l=this.isColumnNameValid(a);l||(this.docStore.record["table_has_error"]=!0,a.error=!0,e=!0,t.push(a.name))}let l=!e;this.is_line_item_validated=l,this.missing_mapping_column=t,this.validation_done!==l&&(this.validation_done,this.validation_done=l)},isColumnNameValid(e){let t=!(!this.column_mapping_indexes||null==this.column_mapping_indexes||!(0,Ve.dd)(this.column_mapping_indexes)),l=!1;if("id"==e.name)return!0;for(const a of this.dropdownColumns)if(e.name===a.techName){l=!0;break}return l&&t&&!0===this.hasOriginalIndex(e.org_index,e)&&this.addInMapping(e.org_index,e.name),l},addInMapping(e,t){this.column_mapping_indexes[t]=Number(e)},updateLineItemsForApi(){this.isReadOnly||this.$emit("updateExtractionDataForSave","mapping",this.getColumnMappingIndexes())},isColumnGroupBy(e){let t="";return this.group_column&&(t=this.group_column),null===t&&(t=""),t==e},getColumnGroupBy(){let e="";return this.group_column&&(e=this.group_column),null===e&&(e=""),e},isColumnVisible(e,t){let l=!0;return e&&this.columns_to_hide&&0!=this.columns_to_hide.length?((this.columns_to_hide.includes(e)||"UUID"==t.name)&&(l=!1),l):l},isCustomColumnHidden(e){let t=!1;if(!this.custom_columns_to_hide||0==this.custom_columns_to_hide.length)return t;for(const l of this.custom_columns_to_hide)if(l===e){t=!0;break}return t},isRowDeleted(e){let t=this.getLineUuid(e);return!this.rows_to_delete.includes(t)},getLineUuid(e){let t="";for(let[l,a]of e.entries())if("UUID"==a.techName){t=a.value;break}return t},getLineItemRowsToHide(){if(this.rows_to_delete=[],this.tableObj&&this.tableObj.hasOwnProperty("extraction_info")){for(let[e,t]of Object.entries(this.tableObj.extraction_info))this.tableObj.extraction_info[e].hasOwnProperty("rows_to_delete")&&(this.rows_to_delete=this.tableObj.extraction_info[e].rows_to_delete);Array.isArray(this.rows_to_delete)&&this.rows_to_delete.length>0?this.rows_to_delete=this.rows_to_delete[0].split(" "):this.rows_to_delete=[]}},addToRowToDelete(e){for(let[t,l]of e.entries())if("UUID"==l.techName){this.rows_to_delete.push(l.value);break}},setRowToDeleteForApi(){if(!this.tableObj||!this.tableObj.hasOwnProperty("extraction_info"))return;let e=[this.rows_to_delete.join(" ")];this.$emit("updateExtractionDataForSave","rows_to_delete",e)},inputValueChanges(e,t){return We(this,void 0,void 0,(function*(){const l=this.lineDataObj[t]["columns"][e].formatted_value;this.lineDataObj[t]["columns"][e].value=l,this.lineDataObj[t]["columns"][e].content=l;const a=this.docStore.record.amount_format_locale.split(".");"en_US"!=a[0]&&this.lineItemLayout.hasOwnProperty(e)&&"AMOUNT"===this.lineItemLayout[e].column_type&&(this.lineDataObj[t]["columns"][e].value=yield this.convertValueAccordingToLocale(l,a[0],"en_US")),this.updateJsonForLineItems(e,t)}))},updateJsonForLineItems(e,t){Array.from(this.tableObj.rows).forEach(((l,a)=>{t===l.id&&Array.from(l.columns).forEach(((t,o)=>{t.name!==e||(this.tableObj.rows[a].columns[o]=this.lineDataObj[l.id].columns[e])}))})),this.dispatchEventToSaveTableChanges()},setJsonForLineItems(){Array.from(this.tableObj.rows).forEach(((e,t)=>{const l=e.id,a=this.lineDataObj[l];this.tableObj.rows[t]=a})),this.dispatchEventToSaveTableChanges()},dispatchEventToSaveTableChanges(e=!1){this.docStore.confirmationForPoConnectionReset=!0,this.record.tables&&this.record.tables[0]||(this.record.tables=[]),this.record.tables[0]=this.tableObj},hasLineItems(){return!(!this.tableRows||0===Object.keys(this.tableRows).length)},openAdvanceSettings(){this.adv_column_options=[];for(const e of this.dropdownColumns)this.adv_column_options.push(Object.assign({},{value:e.techName,label:e.header}));this.setAdvSettings(),this.openAdvSettings=!0},setAdvSettings(){this.move_extra_rows_to="",this.header_rows_count=1,this.extra_columns=[],this.formatting_options&&(this.formatting_options.hasOwnProperty("merge_extra_lines_to")&&null!==this.formatting_options.merge_extra_lines_to&&(this.move_extra_rows_to=this.formatting_options.merge_extra_lines_to),this.formatting_options.hasOwnProperty("header_rows_count")&&null!==this.formatting_options.header_rows_count&&(this.header_rows_count=this.formatting_options.header_rows_count),this.formatting_options.hasOwnProperty("extra_cols")&&null!==this.formatting_options.extra_cols&&(this.extra_columns=this.formatting_options.extra_cols),this.formatting_options.hasOwnProperty("group_column")&&null!==this.formatting_options.group_column&&(this.group_column=this.formatting_options.group_column),this.formatting_options.hasOwnProperty("min_group_rows")&&null!==this.formatting_options.min_group_rows&&(this.min_group_rows=this.formatting_options.min_group_rows),this.formatting_options.hasOwnProperty("max_group_rows")&&null!==this.formatting_options.max_group_rows&&(this.max_group_rows=this.formatting_options.max_group_rows),this.formatting_options.hasOwnProperty("distinct_group_column")&&null!==this.formatting_options.distinct_group_column&&(this.distinct_group_column=this.formatting_options.distinct_group_column),this.formatting_options.hasOwnProperty("reverse_grouping")&&null!==this.formatting_options.reverse_grouping&&(this.reverse_grouping=this.formatting_options.reverse_grouping),this.formatting_options.hasOwnProperty("split_text")&&null!==this.formatting_options.split_text&&(this.split_text=this.formatting_options.split_text))},formatWthAdvSettings(){return We(this,void 0,void 0,(function*(){yield this.requestReformate(),this.openAdvSettings=!1}))},advSettingNewFieldColumnSelected(e,t){this.new_field_model[t]?this.new_field_model[e]=this.new_field_model[t].value:this.new_field_model[e]=""},saveNewFieldForAdvSettings(){this.new_field_model["pattern_invalid"]=!1,this.new_field_model["key_invalid"]=!1,this.new_field_model["source_invalid"]=!1;let e=!0;if(this.new_field_model["pattern"]&&!(0,Te.IN)(this.new_field_model["pattern"])&&(this.new_field_model["pattern_invalid"]=!0,e=!1),this.new_field_model["key"]&&""!=this.new_field_model["key"]||(this.new_field_model["key_invalid"]=!0,e=!1),this.new_field_model["source"]&&""!=this.new_field_model["source"]||(this.new_field_model["source_invalid"]=!0,e=!1),!e)return;let t=this.new_field_model["label"];t||(t=this.new_field_model["key"].toUpperCase()),this.extra_columns||(this.extra_columns=[]),this.extra_columns.push({field_key:this.new_field_model["key"].toUpperCase(),source_field:this.new_field_model["source"].toUpperCase(),label:t,pattern:this.new_field_model["pattern"].toUpperCase()}),this.addFieldsDialog=!1},addFieldForAdvSettings(){this.addFieldsDialog=!0,this.new_field_model={}},removeFieldFromSettings(e){e=Number(e),e>-1&&this.extra_columns.splice(e,1)},revertChanges(e=!1){return We(this,void 0,void 0,(function*(){!1!==e?(this.revert_changes_confirm_dialog=!1,this.resetFormatSettings(),yield this.requestReformate()):this.revert_changes_confirm_dialog=!0}))},isViewPo(){this.$route.fullPath.match(/po-matching/g)&&(this.is_po_view=!0)},refactorApiData(){this.docStore.has_ai_table||(this.resetFormatSettings(),this.setFormatOptions(),this.setAdvSettings(),this.prepareTableLayoutObj(),this.prepareTableColumn(),this.prepareTableRowsAndRowObj(),this.sortTableColumn(),this.validateLineItemColumns(),this.prepareDisabledCstmColumnsList(),setTimeout((()=>{let e=document.querySelector("#line_item_table");if(e){let t=e.querySelector("table");t&&this.resizableGrid(t)}}),1e3))},setFormatOptions(){this.formatting_options={},this.tableObj&&this.tableObj.hasOwnProperty("formatting_options")&&(this.formatting_options=this.tableObj.formatting_options),this.tableObj.formatting_options=this.formatting_options,this.formatting_options.hasOwnProperty("mapping")&&null!==this.formatting_options.mapping&&(this.column_mapping_indexes=Object.assign({},this.formatting_options.mapping)),this.formatting_options.hasOwnProperty("columns_to_hide")&&null!==this.formatting_options.columns_to_hide&&(this.columns_to_hide=Object.assign([],this.formatting_options.columns_to_hide)),this.formatting_options.hasOwnProperty("custom_columns_to_hide")&&null!==this.formatting_options.custom_columns_to_hide&&(this.custom_columns_to_hide=Object.assign([],this.formatting_options.custom_columns_to_hide)),this.formatting_options.hasOwnProperty("column_origins")&&!(0,Ve.z)(this.formatting_options.column_origins)&&(0,Ve.Gv)(this.formatting_options.column_origins)||(this.tableObj.formatting_options.column_origins={},this.formatting_options.column_origins={})},resetRows(){this.tableRows=[],this.lineDataObj=[],this.lineItemsErrors={}},resetFormatSettings(){this.move_extra_rows_to="",this.header_rows_count=1,this.extra_columns=[],this.group_column="",this.min_group_rows=1,this.max_group_rows=null,this.distinct_group_column=!1,this.reverse_grouping=!1,this.column_mapping_indexes={},this.columns_to_hide=[],this.custom_columns_to_hide=[],this.split_text=!1},setTableData(e){this.tableObj=e},prepareTableRowsAndRowObj(){return We(this,void 0,void 0,(function*(){this.docStore.confirmationForPoConnectionReset=!0,this.tableRows=[],this.lineDataObj=[];let e={};if(this.lineItemsErrors={},this.tableRowsLocationsMap.clear(),!this.tableObj||!this.tableObj.hasOwnProperty("rows")||0==this.tableObj.rows.length)return;this.tableObj.rows[0].id;for(const t of this.tableObj.rows)if(!1===t.is_deleted){let l={};if(e[t.id]=JSON.parse(JSON.stringify(t)),e[t.id].show_menu=!1,e[t.id].locations_list=[],t.locations_list)for(const a of t.locations_list)e[t.id].locations_list["page_"+a.page]=a,this.tableRowsLocationsMap.has("page_"+a.page)||this.tableRowsLocationsMap.set("page_"+a.page,t.id);delete e[t.id].columns,e[t.id]["columns"]=[];for(const a of t.columns){if(e[t.id].columns[a.name]=JSON.parse(JSON.stringify(a)),e[t.id].columns[a.name].locations_list=[],a.locations_list)for(const l of a.locations_list)e[t.id].columns[a.name].locations_list["page_"+l.page]=l;if(t.id,(0,Ve.z)(a.formatted_value)&&(a.formatted_value=""),"UNIT_PRICE"===a.name||"TOTAL_AMOUNT"===a.name||"NET_AMOUNT"===a.name){l[a.name]=a.value;const e=[];l[a.name]?e.push({key:l[a.name],value:l[a.name]}):e.push({key:0,value:0});const t=yield this.callAmountFormat(e);let o=this.searchValueByKey(l[a.name],t);l[a.name]=o}else l[a.name]=a.formatted_value;this.prepareMapOfColumnHavingData(a)}this.addExtraColumnsInRow(e,l,t.id),l["id"]=t.id,t.id,this.tableRows.push(l),this.setRowErrors(t)}Object.assign(this.lineDataObj,e),this.addExtraColumnsInExportJson()}))},callAmountFormat(e){return We(this,void 0,void 0,(function*(){const{user_settings:t}=(0,Qe.Bu)();let l=t.AMOUNTS_LOCALE;t&&t.AMOUNTS_LOCALE||(l=yield Xe.jD.getUserPreference({key:"AMOUNTS_LOCALE"}));const a=yield(0,Qe.gP)().formatMultiValues(e,"en_US",l);return a}))},searchValueByKey(e,t){return(0,Qe.gP)().searchValueByKey(e,t)},prepareMapOfColumnHavingData(e){Ue.has(e.name)?!1===Ue.get(e.name)&&e.formatted_value&&null!=e.formatted_value&&""!=e.formatted_value&&Ue.set(e.name,!0):e.formatted_value&&null!=e.formatted_value&&""!=e.formatted_value?Ue.set(e.name,!0):Ue.set(e.name,!1)},addExtraColumnsInRow(e,t,l){for(let a of this.layoutExtraColumns){let o={name:a,value:"",content:"",locations:[],locations_list:[],formatted_value:"",isExtraColumn:!0};e[l].columns[a]=o,Ue.set(a,!1),t[a]=""}},addExtraColumnsInExportJson(){let e=[];for(let t of this.layoutExtraColumns){let l={name:t,value:"",content:"",locations:[],locations_list:[],formatted_value:"",isExtraColumn:!0};e.push(l)}Array.from(this.docStore.record.tables[0].rows).forEach(((t,l)=>{for(let a of e)this.docStore.record.tables[0].rows[l].columns.push(a)})),this.tableObj=this.docStore.record.tables[0]},setRowErrors(e){if(this.lineItemsErrors[e.id]={},!e.messages||!Array.isArray(e.messages))return;let t={};for(const l in e.messages){let a=e.messages[l];if("COLUMN_NOT_MAPPED"==a.message_code)continue;if(!a.message||""==a.message)continue;let o=a.message;if(a.hasOwnProperty("col_name")){let e=this.tableColumns.find((e=>e.name===a.col_name));o=(null===e||void 0===e?void 0:e.label)+" "+o}t[l]=o}this.lineItemsErrors[e.id]=t},rowHasErrors(e){return logInfo("rowHasErrors",e),!this.lineItemsErrors.hasOwnProperty(e)||null===this.lineItemsErrors[e]||(0,Ve.dd)(this.lineItemsErrors[e])?(logInfo("rowHasErrors",e),!1):(logInfo("rowHasErrors 2 true",e),!0)},prepareTableLayoutObj(){this.dropdownColumns=[];let e={};this.lineItemLayout={},this.initStandardColumns(),this.tableObj&&this.tableObj.hasOwnProperty("layout")&&(Array.from(this.tableObj.layout).forEach((t=>{e.hasOwnProperty(t.column_name)||0!=t.is_hidden||this.isCustomColumnHidden(t.column_name)||(e[t.column_name]=!0,t["lbl_to_display"]=this.getLabelToDisplay(t),this.lineItemLayout[t.column_name]=t,this.addStandardColumns(t),this.dropdownColumns.push({header:t.lbl_to_display,techName:t.column_name}))})),this.sortMappingColumns())},sortMappingColumns(){this.dropdownColumns.length>0&&this.dropdownColumns.sort((function(e,t){return e.header<t.header?-1:e.header>t.header?1:0}))},initStandardColumns(){this.advance_settings_columns=[],this.advance_settings_columns.push(Object.assign({},{value:"",label:this.$t("select")})),this.advance_settings_columns.push(Object.assign({},{value:"__trash__",label:this.$t("trash")}))},addStandardColumns(e){this.advance_settings_columns.push(Object.assign({},{value:e.column_name,label:e.column_name}))},prepareTableColumn(){this.tableColumns=[];let e={};if(this.layoutExtraColumns=[],!(this.tableObj&&this.tableObj.hasOwnProperty("rows")&&this.tableObj.rows.length>0))return;let t={name:"id",field:"id",align:"left",label:"",is_mapped:!0,org_index:""};this.tableColumns.push(t);const l=this.docStore.record.tables[0].rows[0];if(!l)return;let a=JSON.parse(JSON.stringify(this.lineItemLayout));Array.from(l.columns).forEach((t=>{let o=this.isColumnHidden(l,t);if(o){let l=t.name;this.lineItemLayout.hasOwnProperty(t.name)&&(l=this.lineItemLayout[t.name].lbl_to_display,delete a[t.name]);let o="";null!=t.org_index&&void 0!=t.org_index&&(o=String(t.org_index));let i={name:t.name,field:t.name,align:"left",label:l,is_mapped:!!t.is_mapped&&t.is_mapped,org_index:o,col_origin:"auto"};i.col_origin=this.getColumnOrigin(this.tableObj,t.name),t.hasOwnProperty("org_index")&&null!=t.org_index?this.tableColumns.push(i):e[t.name]=i}}));for(let[o,i]of Object.entries(e))this.tableColumns.push(Object.assign({},i));for(let o in a){const e=a[o];let t=!this.isCustomColumnHidden(e.name);if(!t){delete a[e.name];continue}let l={name:e.column_name,field:e.column_name,align:"left",label:e.lbl_to_display,is_mapped:!!e.is_mapped&&e.is_mapped,org_index:"",is_extra_column:!0,col_origin:"auto"};l.col_origin=this.getColumnOrigin(this.tableObj,e.name),this.tableColumns.push(Object.assign({},l)),this.layoutExtraColumns.push(e.column_name)}},sortTableColumn(){let e=JSON.parse(JSON.stringify(this.tableColumns)),t=[];this.tableColumns=[],Array.from(e).forEach(((e,l)=>{1!=this.hasOriginalIndex(e.org_index,e)&&Ue.has(e.name)&&!1===Ue.get(e.name)?t.push(Object.assign({},e)):this.tableColumns.push(Object.assign({},e))})),t.sort(((e,t)=>{let l=e.field.toLowerCase(),a=t.field.toLowerCase();return l<a?-1:l>a?1:0})),Array.from(t).forEach(((e,t)=>{this.tableColumns.push(Object.assign({},e))}))},isColumnHidden(e,t){let l="";null!=t.org_index&&void 0!=t.org_index&&(l=String(t.org_index));let a=!0;return""!==l&&(a=this.isColumnVisible(l,t)),""===l&&(a=!this.isCustomColumnHidden(t.name)),a},confirmDeleteColumn(e){this.showConfirmDeleteColumn=!0,this.selectedColumn=e},deleteLineItemColumn(){return We(this,void 0,void 0,(function*(){this.columns_to_hide.push(this.selectedColumn),null!=this.group_column&&this.group_column===this.selectedColumn&&(this.group_column=""),yield this.requestReformate(),this.selectedColumn=""}))},getColumnToHide(){return Array.isArray(this.columns_to_hide)?this.columns_to_hide.join():""},removeLineItem(e){Array.from(this.tableObj.rows).forEach((t=>{if(t.id===e)return t.is_deleted=!0,this.$forceUpdate(),void this.prepareTableRowsAndRowObj()})),this.dispatchEventToSaveTableChanges()},swapColumn(e,t,l,a){return We(this,void 0,void 0,(function*(){if(!this.isViewEditable())return;if(this.selectedColumnHasData(e.techName))return void this.showErrorToast(this.$t("column_has_value"));let o=!1,i=!1,s=t;if(this.column_mapping_indexes)for(const t in this.column_mapping_indexes){let a=this.column_mapping_indexes[t];if(t==e.techName&&a!=s){o=!0;break}if(t==l&&a==s){i=!0;break}}o?this.showErrorToast(this.$t("pages.messages.COLUMN_ALREADY_MAPPED")):(i&&delete this.column_mapping_indexes[l],this.addInMapping(s,e.techName),yield this.requestReformate(),setTimeout((()=>{this.scrollInToViewCenter(document.getElementById(a))}),10))}))},selectedColumnHasData(e){let t=!1;for(const l in this.tableRows){const a=this.tableRows[l];if(a.hasOwnProperty(e)&&null!=a[e]&&void 0!=a[e]&&""!=a[e]){t=!0;break}}return t},getTableData(){return this.tableObj?this.tableObj:{}},requestReformate(){return We(this,void 0,void 0,(function*(){this.lineItemsloading=!0,this.resetRows();try{let e,t=new FormData;t.append("doc_id",this.docId),t.append("group_column",this.getColumnGroupBy()),t.append("min_group_rows",this.min_group_rows.toString()),t.append("max_group_rows",this.max_group_rows?this.max_group_rows.toString():""),t.append("header_rows_count",this.header_rows_count.toString()),t.append("distinct_group_column",this.distinct_group_column.toString()),t.append("reverse_grouping",this.reverse_grouping.toString()),t.append("column_mapping_indexes",JSON.stringify(this.getColumnMappingIndexes())),t.append("move_extra_rows_to",this.move_extra_rows_to),t.append("extra_columns",JSON.stringify(this.extra_columns)),t.append("columns_to_hide",this.getColumnToHide()),t.append("data",JSON.stringify(this.getTableData())),t.append("column_origins",JSON.stringify(this.getColumnOrigins())),this.docStore.record.hasOwnProperty("is_table_training_doc")&&t.append("is_table_training_doc",(!0).toString()),t.append("org_id",(0,Me.I)());let l=yield this.getToken();if(e=yield be.A.post(Se.FH.reformat_table_table_v3,t,{headers:{Authorization:l}}),!1===e.data.success)throw e.data.message;this.setTableData(e.data),this.dispatchEventToSaveTableChanges(),this.refactorApiData(),this.lineItemsloading=!1}catch(e){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e),void(this.lineItemsloading=!1)}this.renderKey++}))},addNewCustomColumn(e){this.addColumnDialog=!0},getColumnOrigins(){return this.tableObj.formatting_options.column_origins},editColumnData(e,t,l){if(!this.lineDataObj[l].hasOwnProperty("custom_row"))if(!0===this.isRowMode){let a,o=10;this.clearOldSelection(),e.target.closest("label")&&e.target.closest("label").classList.add("active-border-2px"),a=this.lineDataObj[l].columns[t];let i=!0;if(a&&a.locations_list){let e=a.locations_list;if(e.hasOwnProperty("page_"+this.currentPageNo))i=!1;else if(0!=Object.entries(e).length){o=200;for(const t in e){i=!1;let l=+e[t].page-1;this.$emit("loadNewPageImage",l);break}}else this.loadAppropriatePage(l)}setTimeout((()=>{if(!1===i){let i={rowId:l,columnName:t};this.getTableRowsAreas({detail:i}),setTimeout((()=>{let l=(0,ke.$)("#draw_"+t);if(l){l.querySelector(".select-areas--outline").style.opacity="0";let o=l.querySelector(".select-areas--background_area");o.style.border="2px",o.style.borderStyle="solid",o.style.borderColor="#8800ff",this.oldSelectedColumnName=t,this.scrollInToViewCenter(o),this.removeExistingConfirmationOverlays(),a&&""!==this.addExtractionMethodClass(a)&&setTimeout((()=>{let t=e.target.closest("td").dataset.columnValue,l=e.target.closest("td").dataset.scoreDescription,a={value:t,score:l,selection:o};const i=new CustomEvent("prepare_overlay",{detail:a});document.dispatchEvent(i)}),20)}}),o)}else{this.showNotification(this.$t("pages.messages.SELECT_AREA"));let e={rowId:l,columnName:t,onlySelectedRow:!0};this.getTableRowsAreas({detail:e}),setTimeout((()=>{const e=new CustomEvent("enable_column_selection",{detail:l});document.dispatchEvent(e)}),10)}}),10)}else this.loadAppropriatePage(l),setTimeout((()=>{let e={rowId:l,columnName:t,onlySelectedRow:!0};this.drawSelectedRow({detail:e}),setTimeout((()=>{let e=(0,ke.$)("#draw_"+l);if(e){this.oldSelectedColumnName=t;let l=e.querySelector(".select-areas--background_area");this.scrollInToViewCenter(l)}}),40)}),100)},clearOldSelection(){if(""!=this.oldSelectedColumnName){let e=(0,ke.$)("#draw_"+this.oldSelectedColumnName);if(e){let t=e.querySelector(".select-areas--background_area"),l=t.style.background.split("100%)");t.style.background=$e.I7+l[1]}}let e=document.querySelector("#line_item_table").querySelectorAll("label.active-border-2px");Array.from(e).forEach((e=>{e.classList.remove("active-border-2px")}));let t=document.querySelector("#screenshot_container"),l=t.querySelectorAll("div.select-areas--outline");Array.from(l).forEach((e=>{e.style.opacity="0.2",e.nextSibling&&(e.nextSibling.style.border="unset")}))},loadAppropriatePage(e){let t=this.lineDataObj[e],l="";for(const a in t.locations_list){if(t.locations_list[a].page===this.currentPageNo){l=a;break}l=a}if(""!=l){let e=+t.locations_list[l].page-1;this.$emit("loadNewPageImage",e)}},drawSelectedRow(e){let t="",l=null;void 0!=e.detail&&e.detail.columnName&&(t=e.detail.rowId,l=e.detail.columnName);let a=[];if(this.lineDataObj[t]){this.lineDataObj[t].locations_list&&this.lineDataObj[t].locations_list["page_"+this.currentPageNo]&&a.push({id:t,type:"row",row_id:"",background:$e.je,opacity:"1",coord:this.lineDataObj[t].locations_list["page_"+this.currentPageNo].coords[0]});let o=this.lineDataObj[t].columns[l];o&&o.locations_list&&o.locations_list["page_"+this.currentPageNo]&&a.push({id:l,row_id:e.detail.rowId,type:"column",background:$e.je,opacity:"1",coord:o.locations_list["page_"+this.currentPageNo].coords[0]})}let o={columns:[],table_areas:[]};o.table_areas=a,Fe.A.set("table_rows_data",JSON.stringify(o));const i=new CustomEvent("prepare_customized_areas");document.dispatchEvent(i)},getTableRowsAreas(e){let t="all_rows",l=null;void 0!=e.detail&&e.detail.columnName&&(t=e.detail.rowId,l=e.detail.columnName);let a=[];for(const o in this.lineDataObj)this.lineDataObj[o]&&this.lineDataObj[o].locations_list["page_"+this.currentPageNo]&&a.push({id:o,type:"row",row_id:"",background:void 0!=e.detail&&e.detail.rowId===o?"":"linear-gradient( rgba(211, 211, 211, 0.5) 100%, rgba(0, 0, 0, 0.5)100%),",opacity:(void 0!=e.detail&&e.detail.rowId,"1"),coord:this.lineDataObj[o].locations_list["page_"+this.currentPageNo].coords[0]});if(e.detail&&!e.detail.onlySelectedRow&&this.lineDataObj.hasOwnProperty(e.detail.rowId)){let t=this.lineDataObj[e.detail.rowId].columns;for(const l in t)t[l].locations_list&&t[l].locations_list.hasOwnProperty("page_"+this.currentPageNo)&&a.push({id:l,row_id:e.detail.rowId,type:"column",background:this.columnDefaultBackground(),opacity:1,coord:t[l].locations_list["page_"+this.currentPageNo].coords[0]})}this.$emit("setTableRowCorrdinates",JSON.stringify(a),l,t)},columnDefaultBackground(){return $e.je},hasOriginalIndex(e,t){let l=!1;return""!==e&&(l=!0),l},getScoreDescription(e){let t="";return e&&e.hasOwnProperty("score_description")&&""!==e.score_description&&null!=e.score_description&&(t=e.score_description),String(t)},TriggerSplitText(){this.split_text_confirm_dialog=!1,this.openAdvSettings=!1;const e=new CustomEvent("perform_split_text",{detail:this.split_text});document.dispatchEvent(e)},disableCustomColumn(e){this.formatting_options.hasOwnProperty("custom_columns_to_hide")&&null!==this.formatting_options.custom_columns_to_hide||(this.formatting_options.custom_columns_to_hide=Object.assign([])),this.formatting_options.custom_columns_to_hide.push(e),this.refactorApiData(),this.$forceUpdate(),this.dispatchEventToSaveTableChanges(!0)},prepareDisabledCstmColumnsList(){this.disableColumnList=[],this.tableObj&&this.tableObj.hasOwnProperty("layout")&&Array.from(this.tableObj.layout).forEach((e=>{if(!0===this.isCustomColumnHidden(e.column_name)){let t={};t["name"]=e.column_name,t["label"]=this.getLabelToDisplay(e),this.disableColumnList.push(t)}}))},openDisabledCstmColumnsView(){this.tableObj&&this.tableObj.hasOwnProperty("layout")&&(this.openDisableColumnListView=!0)},enableCustomColumn(e){if(e&&e.detail){var t=this.formatting_options.custom_columns_to_hide.indexOf(e.detail);-1!==t&&this.formatting_options.custom_columns_to_hide.splice(t,1),this.refactorApiData(),this.dispatchEventToSaveTableChanges(!0)}},customColumnCreated(e){e&&e.detail&&e.detail.tables&&(this.addColumnDialog=!1,this.setTableData(e.detail.tables),this.dispatchEventToSaveTableChanges(),this.refactorApiData())},createNewRow(e){if(!e||!e.detail)return;let t=e.detail.field,l=e.detail.addLineModel,a=this.createRowJson();Array.from(a.columns).forEach(((e,a)=>{"TOTAL_AMOUNT"==e.name?(e.formatted_value=t.formatted_value,e.value=t.value):"DESCRIPTION"==e.name&&(e.formatted_value=l.description,e.value=l.description)}));const o=Number(l.position);let i=this.tableObj.rows[o].id;a.parent_id=i,a.costing_element=l.costing_element,this.tableObj.rows.splice(o+1,0,a),this.prepareTableRowsAndRowObj()},createRowJson(){let e=JSON.parse(JSON.stringify(this.tableObj.rows[0]));return e.id=Date.now(),e.coords=[],e.messages=[],e.is_valid=!0,e.custom_row=!0,e.is_deleted=!1,e.is_header_row=!1,Array.from(e.columns).forEach(((e,t)=>{e.content="",e.locations=[],e.locations_list=[],e.value="",e.formatted_value=[]})),e},prepareRegexData(e){this.docStore.regex.clear(),this.selectedColumn=e,Array.from(this.tableObj.rows).forEach(((t,l)=>{Array.from(t.columns).forEach(((t,l)=>{t.name===e&&t.hasOwnProperty("rule")&&t.hasOwnProperty("valuePattern")&&this.docStore.regex.set(t.rule,t.valuePattern)}))})),this.showRegexDlg=!0},updateRegexByRule(){this.showRegexDlg=!1,Array.from(this.tableObj.rows).forEach(((e,t)=>{Array.from(e.columns).forEach(((e,l)=>{e.name===this.selectedColumn&&e.hasOwnProperty("rule")&&e.hasOwnProperty("valuePattern")&&(this.tableObj.rows[t].columns[l].valuePattern=this.docStore.regex.get(e.rule))}))})),this.refactorApiData()},setShowRegexDlg(e){this.showRegexDlg=e},highliteFirstRowOfCurrentPage(){if(this.tableRowsLocationsMap.has("page_"+this.currentPageNo)){const e=this.tableRowsLocationsMap.get("page_"+this.currentPageNo),t=(0,ke.$)("#"+this.tableRowIdPreFix+e);t&&(this.scrollInToViewStart(t),setTimeout((()=>{t.classList.add("light-grey-with-effect"),setTimeout((()=>{t.classList.remove("light-grey-with-effect")}),1400)}),500))}},getBackgroundColor(e){let t="";return e.hasOwnProperty("is_auto_filled")&&1==e.is_auto_filled?t=this.is_auto_filled_color:e.hasOwnProperty("is_missing")&&1==e.is_missing&&(t=this.is_missing_color),t},routeToTableTraining(){this.$router.push("/tbl_ext_v3/"+this.$route.params.id)},handleLineItemsVisibilty(){this.account_block="",!this.docStore.record.hasOwnProperty("table_blocked")||1!=this.docStore.record.table_blocked&&"true"!=this.docStore.record.table_blocked||(this.account_block="table_blocked"),!this.docStore.record.hasOwnProperty("table_extraction_disabled")||1!=this.docStore.record.table_extraction_disabled&&"true"!=this.docStore.record.table_extraction_disabled||(this.account_block="table_extraction_disabled"),!this.docStore.record.hasOwnProperty("table_not_supported")||1!=this.docStore.record.table_not_supported&&"true"!=this.docStore.record.table_not_supported||(this.account_block="table_not_supported")},displayFieldErrors(){this.init()},reRenderTable(){this.tableRows.length>0&&(!this.record.hasOwnProperty("tables")||(0,Ve.z)(this.record.tables)||0==this.record.tables.length)?this.deleteTable():this.init()},updateColumnOrigin(e){if(!e||!e.hasOwnProperty("column_name")||!e.hasOwnProperty("origin"))return;if(""==e.column_name)return;if(""==e.language_origin)return;let t=!1;Array.from(this.tableObj.rows).forEach(((l,a)=>{Array.from(l.columns).forEach(((l,a)=>{l.name===e.column_name&&(l.col_origin=e.origin,t=!0)}))})),this.tableObj.formatting_options.column_origins[e.column_name]=e.origin,t&&this.requestReformate()},additionalCostFlag(e,t=!0){try{this.lineDataObj[e].is_additional_cost=t;for(let[l,a]of Object.entries(this.tableObj.rows)){const l=a;l.id!=e?l.is_additional_cost=!1:l.is_additional_cost=t}for(let[t,l]of Object.entries(this.lineDataObj))t!=e&&(this.lineDataObj[t].is_additional_cost=!1);this.lineDataObj[e].show_menu=!1,this.updateViewFields(e,t),this.dispatchEventToSaveTableChanges(),this.reRenderTable()}catch(l){logError(l)}},updateViewFields(e,t){try{this.updateField("shipping_charges","TOTAL_AMOUNT",e,t),this.updateField("charges_description","DESCRIPTION",e,t)}catch(l){logError(l)}},updateField(e,t,l,a){try{a?(this.formBuilderModel[e].value=this.lineDataObj[l].columns[t].value,this.formBuilderModel[e].formatted_value=this.lineDataObj[l].columns[t].formatted_value,this.formBuilderModel[e].content=this.lineDataObj[l].columns[t].content):(this.formBuilderModel[e].value="",this.formBuilderModel[e].formatted_value="",this.formBuilderModel[e].content="");const o=new CustomEvent("model_updated",{detail:{field_name:e}});document.dispatchEvent(o)}catch(o){logError(o,e,t,l,a)}},handleDragOver(e){e.preventDefault()},handleDrop(e,t){const l="charges_"+t.key,a=this.$refs[l];a&&a[0].handleDrop(e,t)}},computed:{filteredColumns(){if(""===this.searchColumn)return this.dropdownColumns;let e=[];const t=this.searchColumn.toLowerCase();return e=this.dropdownColumns.filter((e=>e.header.toLowerCase().indexOf(t)>-1)),e}},setup(){const e=(0,Le.A)(),t=(0,Qe.q3)(),l=(0,Qe.uL)(),{isFormBuilderMode:a,formBuilderModel:o}=(0,ve.bP)(l),i=(0,Qe.ky)(),{validation_done:s,missing_mapping_column:n,lineDataObj:r,tableRows:d}=(0,ve.bP)(i),u=(0,Qe.q3)(),{record:c}=(0,ve.bP)(u),{isAI_TableExit:p}=u,h=(0,Qe.Bu)(),{user_settings:m}=(0,ve.bP)(h),{getOrgSettings:_}=h;let b=[],v={};const g=(0,fe.KR)("");return{getOrgSettings:_,isAI_TableExit:p,searchColumn:(0,fe.KR)(""),formBuilderModel:o,record:c,user_settings:m,doc_fetch_error:(0,fe.KR)(t.error),is_line_item_validated:s,missing_mapping_column:n,filter:g,docStore:t,headers:(0,fe.KR)(),lineitems:(0,fe.KR)(),move_extra_rows_to:(0,fe.KR)(""),header_rows_count:(0,fe.KR)(1),min_group_rows:(0,fe.KR)(1),max_group_rows:(0,fe.KR)(),distinct_group_column:(0,fe.KR)(!1),reverse_grouping:(0,fe.KR)(!1),group_column:(0,fe.KR)(""),column_mapping_indexes:(0,fe.KR)(v),columns_to_hide:(0,fe.KR)(b),custom_columns_to_hide:(0,fe.KR)(b),addFieldsDialog:(0,fe.KR)(!1),extra_columns:(0,fe.KR)(b),poEditRestrictDialog:(0,fe.KR)(!1),poEditRestrictMessage:(0,fe.KR)(""),new_field_model:(0,fe.KR)(v),new_column_model:(0,fe.KR)(v),revert_changes_confirm_dialog:(0,fe.KR)(!1),adv_column_options:b,showConfirmDeleteColumn:(0,fe.KR)(!1),advance_settings_columns:(0,fe.KR)([]),headerRowCountRules:[e=>null!==e||"Please type number",e=>e>0&&e<100||"Please type number"],showNotification(t){e.notify({message:t,color:"primary",position:"bottom"})},lineDataObj:r,lineItemsErrors:(0,fe.KR)(v),lineItemLayout:(0,fe.KR)(b),tableColumns:(0,fe.KR)(b),tableRows:d,formatting_options:(0,fe.KR)(v),addColumnDialog:(0,fe.KR)(!1),headerKey:(0,fe.KR)(""),headerLable:(0,fe.KR)(""),lineItemsloading:(0,fe.KR)(!0),openDisableColumnListView:(0,fe.KR)(!1),disableColumnList:(0,fe.KR)(b),split_text:(0,fe.KR)(!1),split_text_confirm_dialog:(0,fe.KR)(!1),tableRowsLocationsMap:(0,fe.KR)(new Map),layoutExtraColumns:(0,fe.KR)([]),isFormBuilderMode:a}}});var ze=l(12807),He=l(50492),Ge=l(42315),Ye=l(44488),Je=l(57722),Ze=l(18301),et=l(53999),tt=l(90124),lt=l(25173),at=l(13796),ot=l(10386),it=l(67837),st=l(97410),nt=l(84436),rt=l(45262),dt=l(43820),ut=l(857),ct=l(82156),pt=l(23316),ht=l(36914),mt=l(39150),_t=l(56384),bt=l(44189),vt=l(94940),gt=l(88841),ft=l(80460),yt=l(62669),kt=l(3952),wt=l(67156),Ct=l(88672),xt=l(98582),Lt=l.n(xt);const Ft=(0,ze.A)(je,[["render",_e],["__scopeId","data-v-53210b8a"]]),Et=Ft;Lt()(je,"components",{QIcon:He.A,QTable:Ge.A,QTr:Ye.A,QTh:Je.A,QBtnDropdown:Ze.A,QList:et.A,QItem:tt.A,QItemSection:lt.A,QItemLabel:at.A,QSeparator:ot.A,QInput:it.A,QTooltip:st.A,QMenu:nt.A,QTd:rt.A,QSkeleton:dt.Ay,QMarkupTable:ut.A,QDialog:ct.A,QCard:pt.A,QToolbar:ht.A,QToolbarTitle:mt.A,QBtn:_t.A,QCardSection:bt.A,QSelect:vt.A,QExpansionItem:gt.A,QCheckbox:ft.A,QCardActions:yt.A,QAvatar:kt.A,QField:wt.A}),Lt()(je,"directives",{ClosePopup:Ct.A})},48520:(e,t,l)=>{"use strict";l.d(t,{A:()=>C});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-tooltip"),d=(0,a.g2)("f-btn"),u=(0,a.g2)("Create"),c=(0,a.g2)("q-card"),p=(0,a.g2)("q-dialog"),h=(0,a.g2)("Loader");return e.is_module_on?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[e.is_icon_button?((0,a.uX)(),(0,a.Wv)(d,{key:0,icon:"add_task",onClick:t[0]||(t[0]=t=>e.createTaskPopup=!0),class:"q-mr-sm"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("create_task")),1)])),_:1})])),_:1})):((0,a.uX)(),(0,a.Wv)(d,{key:1,class:"q-ml-sm",appearance:"secondary",onClick:t[1]||(t[1]=t=>e.createTaskPopup=!0),label:e.$t("create_task")},null,8,["label"])),(0,a.bF)(p,{modelValue:e.createTaskPopup,"onUpdate:modelValue":t[3]||(t[3]=t=>e.createTaskPopup=t),onHide:t[4]||(t[4]=t=>e.createTaskPopup=!1)},{default:(0,a.k6)((()=>[(0,a.bF)(c,{style:{width:"700px","max-width":"50vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{onCloseCreatePopup:t[2]||(t[2]=t=>e.createTaskPopup=!1),onRefreshTasks:e.refreshTasks},null,8,["onRefreshTasks"])])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(h)],64)):(0,a.Q3)("",!0)}var s=l(1659),n=l(24622),r=l(38734),d=l(96056),u=l(89156),c=l(18505),p=l(28684),h=l(86743),m=l(83319);const _=(0,a.pM)({el:"#app",mixins:[n.A,d.A,c.A,p.A],props:{is_icon_button:{type:Boolean,default:!1}},components:{Loader:u.A,Create:h.A},watch:{processing:function(e){e?this.showLoading():this.hideLoading()}},data(){return{docId:"",currentDisplayedMessage:(0,r.KR)("")}},mounted:function(){this.init(),window.addEventListener("resize",this.windowResize),document.body.addEventListener("click",this.mouseClicked,!0)},unmounted:function(){window.removeEventListener("resize",this.windowResize)},methods:{init(){this.isModuleOn(),this.prepareUsersDropdown(),this.getGroups()},refreshTasks(){this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"));let e="";this.record&&this.record.doc_id&&(e=this.record.doc_id),this.getOpenTasks(e)}},setup(){const e=(0,m.OP)(),{task:t,data_fetched:l,is_module_on:a}=(0,s.bP)(e),{getTask:o,resetTaskStore:i,isModuleOn:n,getOpenTasks:d}=e,u=(0,m.cY)(),{prepareUsersDropdown:c}=u,p=(0,m.$i)(),{getGroups:h}=p,_=(0,m.q3)(),{record:b}=(0,s.bP)(_);return{getOpenTasks:d,record:b,isModuleOn:n,is_module_on:a,data_fetched:l,prepareUsersDropdown:c,getGroups:h,resetTaskStore:i,task:t,getTask:o,createTaskPopup:(0,r.KR)(!1)}}});var b=l(12807),v=l(97410),g=l(82156),f=l(23316),y=l(98582),k=l.n(y);const w=(0,b.A)(_,[["render",i]]),C=w;k()(_,"components",{QTooltip:v.A,QDialog:g.A,QCard:f.A})},50637:(e,t,l)=>{"use strict";l.d(t,{A:()=>Z});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-9157c56c"),e=e(),(0,a.jt)(),e),s={autocomplete:"off"},n={class:"row no-wrap"},r={class:"column"},d={class:"row"},u={style:{width:"50%"}},c={style:{width:"50%"},class:"q-pl-sm"},p={class:"text-weight-medium"},h={key:0,class:"row text-red-5",style:{"flex-direction":"column",width:"100%","font-size":"1.2rem","font-weight":"bold"}},m={class:"column items-center"},_={class:"cursor-pointer"},b=i((()=>(0,a.Lk)("img",{class:"loader",src:"images/loader.gif",alt:"Loading..."},null,-1)));function v(e,t,l,i,v,g){const f=(0,a.g2)("q-space"),y=(0,a.g2)("q-tooltip"),k=(0,a.g2)("q-btn"),w=(0,a.g2)("q-bar"),C=(0,a.g2)("DateFormat"),x=(0,a.g2)("AmountFormat"),L=(0,a.g2)("fontSizeOption"),F=(0,a.g2)("DualMonitor"),E=(0,a.g2)("q-separator"),A=(0,a.g2)("q-input"),S=(0,a.g2)("q-icon"),D=(0,a.g2)("q-card-section"),I=(0,a.g2)("f-btn"),T=(0,a.g2)("q-card-actions"),O=(0,a.g2)("q-card"),M=(0,a.g2)("q-inner-loading"),R=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(O,{style:{"max-width":"60vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(w,{class:"bg-primary q-pa-lg text-white"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.user.edit_user"))+" ",1),(0,a.bF)(f),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(k,{dense:"",flat:"",icon:"close"},{default:(0,a.k6)((()=>[(0,a.bF)(y,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.select_app.close")),1)])),_:1})])),_:1})),[[R]])])),_:1}),(0,a.Lk)("form",s,[(0,a.bF)(D,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.Lk)("div",d,[(0,a.Lk)("div",u,[(0,a.bF)(C)]),(0,a.Lk)("div",c,[(0,a.bF)(x)])]),(0,a.Lk)("div",null,[(0,a.bF)(L)]),(0,a.bF)(F),(0,a.Lk)("div",p,[(0,a.bF)(k,{style:{padding:"4px 6px"},flat:"",color:"primary",onClick:t[0]||(t[0]=t=>e.$emit("refreshClicked")),icon:"refresh",class:"no-padding-left-right"}),(0,a.eW)(" "+(0,o.v_)(e.$t("refresh_user_settings")),1)])]),(0,a.bF)(E,{vertical:"",inset:"",class:"q-mx-md"}),""!==e.api_errors?((0,a.uX)(),(0,a.CE)("div",h," Error: "+(0,o.v_)(e.api_errors),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",m,[(0,a.bF)(A,{dense:"",outlined:"",class:(0,o.C4)("full-width cursor-pointer first_name"),modelValue:e.model["first_name"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.model["first_name"]=t),label:e.$t("first_name"),"error-message":e.model_error["first_name"],error:""!=e.model_error["first_name"]},null,8,["modelValue","label","error-message","error"]),(0,a.bF)(A,{dense:"",outlined:"",label:e.$t("last_name"),class:(0,o.C4)("full-width cursor-pointer last_name"),modelValue:e.model["last_name"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.model["last_name"]=t),"error-message":e.model_error["last_name"],error:""!=e.model_error["last_name"]},null,8,["label","modelValue","error-message","error"]),(0,a.bF)(A,{dense:"",outlined:"",class:(0,o.C4)("full-width cursor-pointer password"),modelValue:e.model["password"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.model["password"]=t),label:e.$t("password"),"error-message":e.model_error["password"],error:""!=e.model_error["password"],type:!1===e.show_password?"password":"text"},{append:(0,a.k6)((()=>[(0,a.bF)(S,{name:!1===e.show_password?"visibility":"visibility_off",onClick:t[3]||(t[3]=t=>e.show_password=!e.show_password)},null,8,["name"])])),after:(0,a.k6)((()=>[(0,a.Lk)("div",_,[(0,a.bF)(S,{name:"img:images/info_primary.svg"}),(0,a.bF)(y,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("password_hint")),1)])),_:1})])])),_:1},8,["modelValue","label","error-message","error","type"]),(0,a.bF)(A,{dense:"",outlined:"",class:(0,o.C4)("full-width cursor-pointer confirm_password"),modelValue:e.model["confirm_password"],"onUpdate:modelValue":t[6]||(t[6]=t=>e.model["confirm_password"]=t),"error-message":e.model_error["confirm_password"],label:e.$t("confirm_password"),error:""!=e.model_error["confirm_password"],type:!1===e.show_confirm_password?"password":"text"},{append:(0,a.k6)((()=>[(0,a.bF)(S,{name:!1===e.show_confirm_password?"visibility":"visibility_off",onClick:t[5]||(t[5]=t=>e.show_confirm_password=!e.show_confirm_password)},null,8,["name"])])),_:1},8,["modelValue","error-message","label","error","type"])])])])),_:1}),(0,a.bF)(T,{align:"left",class:"float-right q-ml-auto q-mr-sm"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(I,{appearance:"cancel",label:e.$t("pages.user.cancel"),type:"reset"},null,8,["label"]),[[R]]),(0,a.bo)((0,a.bF)(I,{label:e.$t("pages.user.save"),class:"q-ml-sm",onClick:e.updateUserInfo},null,8,["label","onClick"]),[[R]])])),_:1})])])),_:1}),(0,a.bF)(M,{showing:e.processing,class:"max-full-width full-height full-height-max"},{default:(0,a.k6)((()=>[b])),_:1},8,["showing"])],64)}var g=l(82303),f=l(1659),y=l(24622),k=l(46162),w=l(68450),C=l(83319),x=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const L={methods:{getWorkflowSettings(){return x(this,void 0,void 0,(function*(){try{const e=(0,C.SX)();if(!e.hasAppsSubscription)return{success:!1,message:"no_subscribed"};const t=yield this.getSettingsFromWorkflowServer();return!0===t.active&&!0===t.ready&&(t.message="ready"),!0===t.active&&!1===t.ready&&(t.message="in_progress"),!1===t.active&&!1===t.ready&&(t.message="new"),t}catch(e){this.handleN8NErrors(e)}return{success:!1,message:"new"}}))},handleN8NErrors(e){let t="";throw null!=e&&"object"==typeof e&&e.hasOwnProperty("message")&&(t=e.message),e&&e.response&&e.response.data&&(e.response.data.hasOwnProperty("message")&&(t=e.response.data.message),e.response.data.hasOwnProperty("error_description")&&(t=e.response.data.error_description),403===e.response.status&&(t=e.response.data+". Please contact administrator")),{success:!1,message:t}},subscriptionError(){return"no_subscribed"},getSettingsFromWorkflowServer(){return x(this,void 0,void 0,(function*(){const e=yield(0,k.L3)(),t={app:"workflow"},l=(0,w.HP)(t),a=yield g.A.get(k.FH.workflow_get_settings+"?"+l,{headers:{Authorization:e}}),o=a.data;if(!o||!o.hasOwnProperty("success")||!o.hasOwnProperty("url")||!o.hasOwnProperty("active")||!o.hasOwnProperty("ready")||!o.hasOwnProperty("subdomain")||!o.hasOwnProperty("password"))throw{error_code:"settings_api_fail"};const i={success:a.data.success,url:a.data.url,active:a.data.active,ready:a.data.ready,subdomain:a.data.subdomain,password:a.data.password};return i}))},triggerNewWorkflowForUser(e){return x(this,void 0,void 0,(function*(){const t=yield(0,k.L3)(),l=yield g.A.post(k.FH.workflow_actions,{create:e.create.toString(),subdomain_prefix:e.domain_name.toLowerCase()},{headers:{"X-API-KEY":t.replace("Bearer ",""),"Content-Type":"application/json",accept:"application/json"}});if(!0!==l.data.success)throw{message:l.data.message};return!0}))},getN8NerrorMessagesList(){const e={no_subscribed:"You need to have a doc2app subscription to access workflows",workflow_url_not_found:"Url for the workflow is missing. Please contact administrator",workflow_in_progress:"Workflow creation is in-progress. This might take a while"};return e}}};var F=l(38734),E=l(45022),A=l(50598),S=l(95318),D=l(40916),I=l(18505),T=l(66297),O=l(73937),M=l(85487),R=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const P=(0,a.pM)({el:"#app",mixins:[y.A,L,I.A],data(){return{fields:["first_name","last_name","password","confirm_password"],empty_validation_fields:["first_name","last_name"]}},emits:["refreshClicked"],components:{DualMonitor:A.A,fontSizeOption:S.A,DateFormat:D.A,AmountFormat:T.A},setup(){const e=(0,C.kH)(),{updateUserName:t}=e,{sub_org_id:l,main_orgainzation:a}=(0,f.bP)(e);return{user_store:e,sub_org_id:l,updateUserName:t,main_orgainzation:a,model:(0,F.KR)({}),model_error:(0,F.KR)({}),processing:(0,F.KR)(!1),api_errors:(0,F.KR)(""),api_success:(0,F.KR)(""),show_password:(0,F.KR)(!1),show_confirm_password:(0,F.KR)(!1)}},watch:{},mounted(){this.initModel(),this.updateModelFromSettings()},methods:{initModel(){for(const e of this.fields)this.model[e]="",this.model_error[e]="";this.resetErrors()},updateModelFromSettings(){for(const e of this.fields){const t=(0,O.Ky)(e);this.model[e]=t}},resetErrors(){for(const e of this.fields)this.model_error[e]="";this.api_errors="",this.api_success=""},validateRow(){let e=!1;this.resetErrors();for(const t of this.empty_validation_fields)this.model[t]&&0!=this.model[t].length||(e=!0,this.model_error[t]=this.$t(t)+"is required");return!1===e&&this.model["password"]!==this.model["confirm_password"]&&(this.model_error["confirm_password"]="Passwords do not match",e=!0),e},updateUserInfo(){return R(this,void 0,void 0,(function*(){if(!this.validateRow())try{let e=(0,O.Ky)("id");if(!e)throw{message:"User ID is missing"};this.processing=!0,yield this.editUser(e),this.initModel()}catch(e){this.handleErrors(e)}finally{this.processing=!1}}))},editUser(e){return R(this,void 0,void 0,(function*(){let t=this.$t("pages.messages.user_updated"),l=new FormData;l.append("first_name",this.model["first_name"]),l.append("last_name",this.model["last_name"]),this.model["password"]&&0!==this.model["password"].length&&l.append("password",this.model["password"]),l.append("org_id",(0,M.I)());let a,o=yield(0,k.L3)();if(a=yield g.A.put(k.FH.update_user+e,l,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:o}}),!1===a.data.success&&a.data.message)throw t="",t=a.data.error_code&&this.$t(a.data.error_code)!==a.data.error_code?this.$t(a.data.error_code):this.$t(a.data.message),{message:t};const i=E.A.getItem("user_details");i&&(i.first_name=this.model["first_name"],i.last_name=this.model["last_name"],E.A.set("user_details",i),this.updateUserName()),this.showSuccessToast(t)}))},handleErrors(e){let t="";if(null!=e&&"object"==typeof e&&e.hasOwnProperty("message")&&(t=e.message),e&&e.response&&e.response.data&&e.response.data.hasOwnProperty("message")&&(t=e.response.data.message),t&&""!==t)throw this.api_errors=t,{message:t}}}});var q=l(12807),V=l(23316),N=l(18670),B=l(93676),$=l(56384),Q=l(97410),X=l(44189),W=l(10386),K=l(67837),U=l(50492),j=l(62669),z=l(39035),H=l(88672),G=l(98582),Y=l.n(G);const J=(0,q.A)(P,[["render",v],["__scopeId","data-v-9157c56c"]]),Z=J;Y()(P,"components",{QCard:V.A,QBar:N.A,QSpace:B.A,QBtn:$.A,QTooltip:Q.A,QCardSection:X.A,QSeparator:W.A,QInput:K.A,QIcon:U.A,QCardActions:j.A,QInnerLoading:z.A}),Y()(P,"directives",{ClosePopup:H.A})},14010:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Ce});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-11b7981f"),e=e(),(0,a.jt)(),e),n={class:"page-holder"},r={class:"login-container"},d={class:"header-text text-primary"},u=s((()=>(0,a.Lk)("br",null,null,-1))),c={style:{"margin-top":"25px","font-size":"medium"}},p={class:"full-width text-center text-red"},h={class:"input-wrapper",id:"email"},m={class:"input-wrapper",id:"password"},_={class:"text-center"},b={key:0,class:"resend-verify-email"},v={class:"login-divider"},g=s((()=>(0,a.Lk)("div",{class:"line"},null,-1))),f={class:"line-text"},y=s((()=>(0,a.Lk)("div",{class:"line"},null,-1))),k={class:"social-buttons"},w={style:{color:"#6c757d !important"}},C={class:"info-section"},x={class:"info-content"},L=s((()=>(0,a.Lk)("img",{src:"images/fellowpro_white.png",alt:"Logo",class:"info-logo"},null,-1))),F={class:"info-header"},E=s((()=>(0,a.Lk)("br",null,null,-1))),A=s((()=>(0,a.Lk)("img",{class:"loader",src:"images/loader.gif",alt:"Loading..."},null,-1)));function S(e,t,l,s,S,D){const I=(0,a.g2)("q-img"),T=(0,a.g2)("q-select"),O=(0,a.g2)("q-card-section"),M=(0,a.g2)("q-input"),R=(0,a.g2)("q-icon"),P=(0,a.g2)("q-btn"),q=(0,a.g2)("PasswordDisableCounter"),V=(0,a.g2)("ResendVerifyEmail"),N=(0,a.g2)("GoogleLogin"),B=(0,a.g2)("MicrosoftLogin"),$=(0,a.g2)("q-card"),Q=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.bF)($,{class:"login-card no-border full-width-card"},{default:(0,a.k6)((()=>[(0,a.bF)(O,{class:"top-section"},{default:(0,a.k6)((()=>[(0,a.bF)(I,{src:"images/docbits.svg",style:{"max-width":"120px"}}),(0,a.bF)(T,{modelValue:e.locale,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.locale=t),e.languageChanged],options:e.localeOptions,dense:"",borderless:"","emit-value":"","map-options":"","options-dense":"",class:"float-right q-ml-auto text-grey-7 text-uppercase q-mr-md"},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1}),(0,a.bF)(O,{class:"text-center header-section"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",d,(0,o.v_)(e.$t("pages.login.welcome_to")),1),u,(0,a.bF)(I,{src:"images/docbits.svg",class:"form-logo"}),(0,a.Lk)("p",c,[(0,a.eW)((0,o.v_)(e.$t("pages.login.login_sub_header"))+" ",1),(0,a.Lk)("a",{class:"text-primary cursor-pointer",style:{"text-decoration":"underline"},onClick:t[1]||(t[1]=t=>e.contactPage())},(0,o.v_)(e.$t("pages.login.here")),1)])])),_:1}),(0,a.bF)(O,{class:"login-content"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",p,(0,o.v_)(e.error_message),1),(0,a.Lk)("div",h,[(0,a.bF)(M,{dense:"",label:e.$t("pages.login.email"),onKeyup:(0,i.jR)(e.enterS,["enter"]),modelValue:e.email,"onUpdate:modelValue":t[2]||(t[2]=t=>e.email=t),"data-cy":"email",outlined:"",class:"full-width"},null,8,["label","onKeyup","modelValue"])]),(0,a.Lk)("div",m,[(0,a.bF)(M,{dense:"",label:e.$t("pages.login.password"),onKeyup:(0,i.jR)(e.enterS,["enter"]),type:e.showPassword?"text":"password",modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),"data-cy":"password",outlined:"",class:"full-width"},{append:(0,a.k6)((()=>[(0,a.bF)(R,{onClick:e.toggleShow,flat:"",dense:"",name:e.showPassword?"visibility_off":"visibility",size:"24px",class:"cursor-pointer"},null,8,["onClick","name"])])),_:1},8,["label","onKeyup","type","modelValue"])]),(0,a.Lk)("div",_,[(0,a.Lk)("a",{class:"text-primary cursor-pointer",style:{"text-decoration":"underline","font-size":"medium"},onClick:t[4]||(t[4]=t=>e.onResetPW())},(0,o.v_)(e.$t("pages.login.forgot_password")),1)])])),_:1}),(0,a.bF)(O,{class:"submit-section"},{default:(0,a.k6)((()=>[(0,a.bF)(P,{unelevated:"",color:"primary","text-color":"white",disable:e.processing||e.start_disable_submit_timer,label:e.$t("pages.login.login_button"),onClick:t[5]||(t[5]=t=>e.onSubmit())},null,8,["disable","label"]),(0,a.bF)(q,{start_timer:e.start_disable_submit_timer,counter_end_time:e.disable_submit_time,onDisableTimerDone:e.disableTimerDone},null,8,["start_timer","counter_end_time","onDisableTimerDone"]),e.show_verif_email_btn?((0,a.uX)(),(0,a.CE)("div",b,[(0,a.bF)(V,{email:e.email},null,8,["email"])])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(O,{class:"social-login"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",v,[g,(0,a.Lk)("div",f,(0,o.v_)(e.$t("pages.login.social_media")),1),y]),(0,a.Lk)("div",k,[(0,a.bF)(N),(0,a.bF)(B)])])),_:1}),(0,a.bF)(O,{class:"login-redirect"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",w,[(0,a.eW)((0,o.v_)(e.$t("pages.login.no_account"))+" ",1),(0,a.Lk)("a",{class:"redirect-link cursor-pointer",onClick:t[6]||(t[6]=(...t)=>e.user_register&&e.user_register(...t))},(0,o.v_)(e.$t("pages.login.register")),1)])])),_:1})])),_:1})]),(0,a.Lk)("div",C,[(0,a.Lk)("div",x,[L,(0,a.Lk)("h1",F,[(0,a.eW)((0,o.v_)(e.$t("pages.login.learn_polydocs")),1),E,(0,a.eW)((0,o.v_)(e.$t("pages.login.visit_site")),1)]),(0,a.bF)(P,{unelevated:"",color:"primary","text-color":"white",onClick:t[7]||(t[7]=t=>e.goCloud()),label:e.$t("pages.login.visit_site_btn")},null,8,["label"])])])]),(0,a.bF)(Q,{showing:e.processing},{default:(0,a.k6)((()=>[A])),_:1},8,["showing"])],64)}var D=l(82303),I=l(23537),T=l(92162),O=l(24622),M=l(38734),R=l(34863),P=l(96056),q=l(59020),V=l(11470),N=l(41498),B=l(14907),$=l(45022),Q=l(41903),X=l(771),W=l(69280),K=l(87470),U=l(83319);const j=e=>((0,a.Qi)("data-v-7bad036c"),e=e(),(0,a.jt)(),e),z={key:0,class:"login_time_out_message"},H=j((()=>(0,a.Lk)("div",{class:"col-4 secondary-c-text login_timout_time",style:{width:"150px"}},null,-1)));function G(e,t,l,i,s,n){return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.start_timer?((0,a.uX)(),(0,a.CE)("div",z,(0,o.v_)(e.$t("failed_login_attempts_warning")),1)):(0,a.Q3)("",!0),H],64)}function Y(e,t){var l=document.createElement("span");l.className="flip-clock__piece",l.innerHTML='<b class="flip-clock__card card"><b class="card__top"></b><b class="card__bottom"></b><b class="card__back"><b class="card__bottom"></b></b></b>',this.el=l;var a=l.querySelector(".card__top"),o=l.querySelector(".card__bottom"),i=l.querySelector(".card__back"),s=l.querySelector(".card__back .card__bottom");this.update=function(e){e=("0"+e).slice(-2),e!==this.currentValue&&(this.currentValue>=0&&(i.setAttribute("data-value",this.currentValue),o.setAttribute("data-value",this.currentValue)),this.currentValue=e,a.innerText=this.currentValue,s.setAttribute("data-value",this.currentValue),this.el.classList.remove("flip"),this.el.offsetWidth,this.el.classList.add("flip"))},this.update(t)}function J(e){var t=Date.parse(e)-Date.parse(new Date);return{Total:t,Hours:Math.floor(t/36e5%24),Minutes:Math.floor(t/1e3/60%60),Seconds:Math.floor(t/1e3%60)}}function Z(){var e=new Date;return{Total:e,Hours:e.getHours()%12,Minutes:e.getMinutes(),Seconds:e.getSeconds()}}function ee(e,t){e=!!e&&new Date(Date.parse(e)),t=t||function(){};var l=e?J:Z;this.el=document.createElement("div"),this.el.className="flip-clock";var a,o,i={},s=l(e);for(a in s)s[a]<0&&(s[a]=0),"Total"!==a&&(i[a]=new Y(a,s[a]),this.el.appendChild(i[a].el));var n=0;function r(){if(o=requestAnimationFrame(r),!(n++%10)){var s=l(e);if(s.Total<0){for(a in cancelAnimationFrame(o),i)i[a].update(0);t()}else for(a in i)i[a].update(s[a])}}setTimeout(r,500)}const te=(0,a.pM)({el:"#app",props:{start_timer:{type:Boolean,default:!1},counter_end_time:{type:String,default:""}},watch:{start_timer:{handler:function(e,t){e?this.setCounter():this.hideCounter()}}},emits:["disableTimerDone"],mounted(){this.initView()},methods:{initView(){this.setCounter()},makeCounter(){let e=document.querySelector(".login_timout_time");e.innerHTML="";var t=new Date(this.counter_dateTime),l=new ee(t,this.timeCompleted);e.appendChild(l.el)},timeCompleted(){this.$emit("disableTimerDone")},hideCounter(){let e=document.querySelector(".login_timout_time");e.innerHTML=""},getDistance(){const e=(new Date).getTime(),t=this.counter_time-e;return t},setCounter(){try{if(!1===this.start_timer)return;this.counter_dateTime=new Date(this.counter_end_time),this.counter_time=this.counter_dateTime.getTime();const e=this.getDistance();e<0&&this.expired_tries++,this.makeCounter()}catch(e){}}},setup(){return{counter_value:(0,M.KR)(""),counter_time:(0,M.KR)(0),counter_dateTime:(0,M.KR)({}),counter_interval:(0,M.KR)(0),expired_tries:(0,M.KR)(0)}}});var le=l(12807);const ae=(0,le.A)(te,[["render",G],["__scopeId","data-v-7bad036c"]]),oe=ae;var ie=l(46162),se=l(60521),ne=l(6044),re=l(55930),de=l(68450),ue=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const ce=(0,a.pM)({el:"#app",mixins:[O.A,q.A,P.A,R.A,se.A,ne.A],components:{GoogleLogin:W.A,MicrosoftLogin:K.A,ResendVerifyEmail:X.A,PasswordDisableCounter:oe},data(){return{email:"",password:"",emailError:"",passwordError:"",forgotPW:ie.FH.forgot_password_url,userlogin:!0,userregister:!1,disable_submit_difference:60,lang:navigator.language}},watch:{},mounted(){this.init(),this.isUserAlreadyLoggedIn(),document.addEventListener("social_media_login_after",this.socialMediaLoginAfter)},unmounted:function(){document.removeEventListener("social_media_login_after",this.socialMediaLoginAfter)},methods:{init(){$.A.has("selected_language")?this.locale=$.A.getItem("selected_language"):this.locale=this.lang},isUserAlreadyLoggedIn(){return ue(this,void 0,void 0,(function*(){const e=(0,U._6)(),t=yield e.isLoggedIn();t?this.afterLoginRedirect(this):this.clearStorageForLogout()}))},enterS(){this.start_disable_submit_timer||this.onSubmit()},socialMediaLoginAfter(e){this.handleSocialMediaRedirect(e.detail)},toggleShow(){this.showPassword=!this.showPassword},goCloud(){N.gFA&&window.open(N.gFA)},goHelp(){N.JzX&&window.open(N.JzX)},contactPage(){window.open("https://fellowpro.com/de/kontakt/")},user_register(){this.$router.push("/register")},onResetPW(){this.$router.push("/forget-password")},onSubmit(){this.email=this.removeSpaces(this.email);let e=this.validateEmail(this.email);e?(this.removeClass((0,T.$)("#email").querySelector("label"),"error-border-left"),this.addClass((0,T.$)("#email").querySelector("label"),"success-border-left"),this.emailError=""):(this.removeClass((0,T.$)("#email").querySelector("label"),"success-border-left"),this.addClass((0,T.$)("#email").querySelector("label"),"error-border-left"),this.emailError=this.$t("pages.messages.invalid_email")),this.password&&""!=this.password?(this.removeClass((0,T.$)("#password").querySelector("label"),"error-border-left"),this.addClass((0,T.$)("#password").querySelector("label"),"success-border-left"),this.passwordError=""):(this.removeClass((0,T.$)("#password").querySelector("label"),"success-border-left"),this.addClass((0,T.$)("#password").querySelector("label"),"error-border-left"),this.passwordError=this.$t("pages.messages.password_mandatory")),this.emailError||this.passwordError||this.authenticateUser()},authenticateUser(){return ue(this,void 0,void 0,(function*(){try{this.processing=!0;let e={username:this.email,password:this.removeSpaces(this.password)};const t=yield V.jD.login(e);t&&this.afterLoginEvent(t)}catch(e){this.handleLoginFailed(),this.handleErrorFromApi(e),this.processing=!1}}))},handleLoginFailed(){this.start_disable_submit_timer=!1;let e=$.A.getItem("login_attempts")||0;if($.A.set("login_attempts",++e),e>3){const t=(e-3)*this.disable_submit_difference;this.disableSubmit(t)}},disableSubmit(e=60){e<0&&(e=this.disable_submit_difference),this.start_disable_submit_timer=!0,this.disable_submit_time=new Date,this.disable_submit_time.setSeconds(this.disable_submit_time.getSeconds()+e)},disableTimerDone(){this.start_disable_submit_timer=!1,this.disable_submit_time=null},handleSpecificErrors(e){e.hasOwnProperty("error")&&"email_not_verified"===e.error&&(this.show_verif_email_btn=!0)},afterLoginEvent(e){return ue(this,void 0,void 0,(function*(){try{this.processing=!0,this.setTokenInLocalStorage(e),yield this.setAuthToken("Bearer "+e.access_token),yield V.E9.setUserSession(),yield this.fetchUserSettings(),this.getUniqueLockId();const t=yield this.verifySubscription();if(!t)return;re.U.updateVersion(),this.afterLoginRedirect(this)}catch(t){logInfo("Error in afterLoginEvent",t),this.handleErrorFromApi(t)}finally{this.processing=!1}}))},verifySubscription(){return ue(this,void 0,void 0,(function*(){try{const e=(0,U.SX)();yield e.getSubscriptionFromServer();const t=e.getSubscription();if((0,de.z)(t))throw{message:"Subscription Error"};return!0}catch(e){return logError("Subscription Error",e),this.clearStorageForLogout(),this.displayError("Subscription Error. Please contact support."),!1}}))},onReset(){this.email="",this.password="",this.emailError="",this.passwordError="",this.removeClass((0,T.$)("#email").querySelector("label"),"error-border-left"),this.removeClass((0,T.$)("#password").querySelector("label"),"error-border-left")},handleSocialMediaRedirect(e){return ue(this,void 0,void 0,(function*(){try{if(!e.access_type||!e.access_token)return;this.processing=!0;let t=new FormData;t.append("type",e.access_type),t.append("access_token",e.access_token);let l=yield this.getSocialToken(t);this.afterLoginEvent(l)}catch(t){this.handleErrorFromApi(t),this.processing=!1}}))},getSocialToken(e){return ue(this,void 0,void 0,(function*(){let t;t=yield D.A.post(ie.FH.social_token,e,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,ie.ti)()},timeout:1e4,timeoutErrorMessage:"Request timed out"});const l=!(!t.data||!t.data.hasOwnProperty("success")||!0!==t.data.success);if(!l&&t.data.hasOwnProperty("message_code")&&"INVALID_AUTHORIZATION_CODE"==t.data.message_code)throw{message:this.$t("errors.INVALID_AUTHORIZATION_CODE")};if(!l&&t.data.hasOwnProperty("message"))throw{message:t.data.message};if(l){let e=t.data.token;return e}return""}))},displayError(e){this.display_error=!0;let t="";t='Invalid "username" or "password" in request.'==e?this.$t("invalid_user_password"):e,t||(t=this.$t("general_login_error")),this.error_message=t},handleErrorFromApi(e){let t="";e.response&&400===e.response.status&&(t=this.$t("pages.messages.INVALID_EMAIL_PASSWORD")),null!=e&&"object"==typeof e&&e.hasOwnProperty("message")&&(t=e.message),e&&e.response&&e.response.data&&(e.response.data.hasOwnProperty("message")&&(t=e.response.data.message),e.response.data.hasOwnProperty("error_description")&&(t=e.response.data.error_description,this.handleSpecificErrors(e.response.data))),t&&""!==t&&this.displayError(t)},languageChanged(){$.A.set("selected_language",this.locale),Q.A.set("event_name","language_change"),$.A.remove("doc_types")}},setup(){(0,B.A)();let{locale:e}=(0,I.s9)({useScope:"global"});const t=(0,U.oI)(),{getUniqueLockId:l}=t,a=(0,U._6)(),{setAuthToken:o}=a,i=(0,U.kH)(),{fetchUserSettings:s}=i;return{fetchUserSettings:s,setAuthToken:o,locale:(0,M.KR)(e),access_token:(0,M.KR)(""),access_type:(0,M.KR)("google"),display_error:(0,M.KR)(!1),error_message:(0,M.KR)(""),show_verif_email_btn:(0,M.KR)(!1),processing:(0,M.KR)(!1),showPassword:(0,M.KR)(!1),start_disable_submit_timer:(0,M.KR)(!1),disable_submit_time:(0,M.KR)(null),getUniqueLockId:l,localeOptions:[{value:"en-us",label:"English"},{value:"de",label:"Deutsch"},{value:"es-es",label:"Espaol"},{value:"fr",label:"Franais"},{value:"nl",label:"Dutch"},{value:"it",label:"Italiano"}]}}});var pe=l(23316),he=l(44189),me=l(15046),_e=l(94940),be=l(67837),ve=l(50492),ge=l(56384),fe=l(39035),ye=l(98582),ke=l.n(ye);const we=(0,le.A)(ce,[["render",S],["__scopeId","data-v-11b7981f"]]),Ce=we;ke()(ce,"components",{QCard:pe.A,QCardSection:he.A,QImg:me.A,QSelect:_e.A,QInput:be.A,QIcon:ve.A,QBtn:ge.A,QInnerLoading:fe.A})},771:(e,t,l)=>{"use strict";l.d(t,{A:()=>w});var a=l(61758),o=l(58790);const i={style:{"align-self":"center"}},s={key:0,class:"text-red-5"},n={key:1,style:{"align-self":"center"},class:"text-green-8"};function r(e,t,l,r,d,u){const c=(0,a.g2)("q-spinner-hourglass"),p=(0,a.g2)("q-btn"),h=(0,a.g2)("q-icon");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(p,{flat:"",loading:e.loading,label:e.$t("pages.register_success.resend_email"),class:"q-mr-sm verify-email-btn",onClick:e.resendVerifyEmail,disable:e.btn_disable||""==e.email,style:{"align-self":"center"}},{loading:(0,a.k6)((()=>[(0,a.bF)(c,{class:"on-left"}),(0,a.eW)(" "+(0,o.v_)(e.$t("pages.register_success.resend_email")),1)])),_:1},8,["loading","label","onClick","disable"]),(0,a.Lk)("div",i,[""!=e.error_message?((0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(h,{name:"error",size:"md"}),(0,a.eW)(" "+(0,o.v_)(e.error_message),1)])):(0,a.Q3)("",!0),""!=e.success_message?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(h,{size:"md",name:"check_circle"}),(0,a.eW)(" "+(0,o.v_)(e.success_message),1)])):(0,a.Q3)("",!0)])],64)}var d=l(82303),u=l(38734),c=l(46162),p=l(68450),h=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const m=(0,a.pM)({el:"#app",mixins:[],props:{email:{type:String,default:""}},components:{},data(){return{}},computed:{},mounted:function(){},methods:{resendVerifyEmail(){return h(this,void 0,void 0,(function*(){try{if(!this.email||!this.email)return;this.loading=!0,this.btn_disable=!0,this.error_message="",this.success_message="";const e={email:this.email},t=(0,p.HP)(e);yield this.sendEmail(t)}catch(e){e&&e.hasOwnProperty("message")?this.displayError(e.message):(this.displayError(this.$t("pages.messages.error_internal_occur")),logError(e)),this.btn_disable=!1}finally{this.loading=!1}}))},displayError(e){let t=e;t||(t=this.$t("general_login_error")),this.error_message=t},sendEmail(e){return h(this,void 0,void 0,(function*(){let t;if(t=yield d.A.get(c.FH.resend_confirmation_email+"?"+e,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,c.ti)()}}),t.data&&t.data.hasOwnProperty("success")&&!1===t.data.success)throw{message:t.data.message};t.data&&t.data.hasOwnProperty("success")&&!0===t.data.success&&(this.success_message=t.data.message),setTimeout((()=>{this.btn_disable=!1}),6e4)}))}},setup(){return{error_message:(0,u.KR)(""),success_message:(0,u.KR)(""),loading:(0,u.KR)(!1),btn_disable:(0,u.KR)(!1)}}});var _=l(12807),b=l(56384),v=l(63194),g=l(50492),f=l(98582),y=l.n(f);const k=(0,_.A)(m,[["render",r],["__scopeId","data-v-3386b3d8"]]),w=k;y()(m,"components",{QBtn:b.A,QSpinnerHourglass:v.A,QIcon:g.A})},69280:(e,t,l)=>{"use strict";l.d(t,{A:()=>b});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-btn");return(0,a.uX)(),(0,a.Wv)(r,{rounded:"",class:"google-btn",flat:"",onClick:t[0]||(t[0]=t=>e.oauthSignIn())},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/google.svg",style:(0,o.Tr)({height:e.height+"px",width:e.width+"px"}),alt:""},null,4)])),_:1})}var s=l(38734),n=l(46162),r=l(24622),d=l(59020);const u=(0,a.pM)({el:"#app",mixins:[r.A,d.A],props:{height:{type:Number,default:42},width:{type:Number,required:!0,default:40}},components:{},data(){return{current_page_url:"",social_status:(0,s.KR)("")}},mounted:function(){this.setPageRoute(),this.current_page_url=window.location.origin,setTimeout((()=>{this.handleSocialMediaRedirect()}),0)},watch:{},methods:{handleSocialMediaRedirect(){try{let e=this.getAccessTokenCode();if(!e)return;const t=new CustomEvent("social_media_login_after",{detail:{access_type:"google",access_token:e}});document.dispatchEvent(t)}catch(e){return null!=e&&"object"==typeof e&&e.hasOwnProperty("message")?void this.showErrorToast(e.message):(this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e))}},getAccessTokenCode(){let e=this.$route.query.state||"";if(!this.$route.query||!0!==e.includes("google")||!this.$route.query.code)return;let t=this.$route.query.code;return"string"===typeof t?t:""},parseRouteParams(){let e=this.$route.hash,t={},l=e.split("&");for(const[a,o]of Object.entries(l)){let e=o.split("=");if(Array.isArray(e)&&2==e.length){let l=e[0].replace("#","");t[l]=e[1]}}return t},oauthSignIn(){var e=n.FH.google_oauth2_endpoint,t=document.createElement("form");t.setAttribute("method","GET"),t.setAttribute("action",e);var l={client_id:"342434080717-6s9dav2lf660p5cdscbjgomen9mdu9hv.apps.googleusercontent.com",redirect_uri:this.current_page_url,response_type:"code",scope:"email profile openid https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",include_granted_scopes:"true",state:this.social_status};for(const[o,i]of Object.entries(l)){let e=i;var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",o),a.setAttribute("value",e),t.appendChild(a)}document.body.appendChild(t),t.submit()},setPageRoute(){this.social_status=this.getStatusByRoute(this.$route.path),this.social_status+="google"}},setup(){return{}}});var c=l(12807),p=l(56384),h=l(98582),m=l.n(h);const _=(0,c.A)(u,[["render",i],["__scopeId","data-v-25d474a6"]]),b=_;m()(u,"components",{QBtn:p.A})},87470:(e,t,l)=>{"use strict";l.d(t,{A:()=>b});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-btn");return(0,a.uX)(),(0,a.Wv)(r,{class:"social-btn",flat:"",onClick:t[0]||(t[0]=t=>e.oauthSignIn())},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/microsoft.svg",style:(0,o.Tr)({height:e.height+"px",width:e.width+"px"}),alt:""},null,4)])),_:1})}var s=l(38734),n=l(46162),r=l(24622),d=l(59020);const u=(0,a.pM)({el:"#app",mixins:[r.A,d.A],props:{height:{type:Number,default:42},width:{type:Number,required:!0,default:40}},components:{},data(){return{current_page_url:"",social_status:(0,s.KR)("")}},mounted:function(){this.setPageRoute(),this.current_page_url=window.location.origin,setTimeout((()=>{this.handleSocialMediaRedirect()}),0)},watch:{},methods:{handleSocialMediaRedirect(){try{let e=this.getAccessTokenCode();if(!e)return;const t=new CustomEvent("social_media_login_after",{detail:{access_type:"microsoft",access_token:e}});document.dispatchEvent(t)}catch(e){return null!=e&&"object"==typeof e&&e.hasOwnProperty("message")?void this.showErrorToast(e.message):(this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e))}},getAccessTokenCode(){let e=this.$route.query.state||"";if(!this.$route.query||!0!==e.includes("microsoft")||!this.$route.query.code)return;let t=this.$route.query.code;return"string"===typeof t?t:""},parseRouteParams(){let e=this.$route.hash,t={},l=e.split("&");for(const[a,o]of Object.entries(l)){let e=o.split("=");if(Array.isArray(e)&&2==e.length){let l=e[0].replace("#","");t[l]=e[1]}}return t},oauthSignIn(){var e=document.createElement("form");e.setAttribute("method","GET"),e.setAttribute("action",n.FH.micorsoft_oauth2_endpoint);var t={client_id:"fde82a54-0120-43ad-b317-0b182cf77ab2",response_type:"code",scope:"User.Read offline_access",redirect_uri:this.current_page_url,state:this.social_status};for(const[a,o]of Object.entries(t)){let t=o;var l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name",a),l.setAttribute("value",t),e.appendChild(l)}document.body.appendChild(e),e.submit()},setPageRoute(){this.social_status=this.getStatusByRoute(this.$route.path),this.social_status+="microsoft"}},setup(){return{access_token:(0,s.KR)("")}}});var c=l(12807),p=l(56384),h=l(98582),m=l.n(h);const _=(0,c.A)(u,[["render",i],["__scopeId","data-v-2449d812"]]),b=_;m()(u,"components",{QBtn:p.A})},17186:(e,t,l)=>{"use strict";l.d(t,{A:()=>E});var a=l(61758),o=l(58790);const i=e=>((0,a.Qi)("data-v-c904fed4"),e=e(),(0,a.jt)(),e),s={key:0,class:"q-dialog fullscreen q-dialog--modal banner-parent"},n=i((()=>(0,a.Lk)("div",{class:"q-dialog__backdrop fixed-full","aria-hidden":"true",style:{"--q-transition-duration":"300ms"}},null,-1))),r={class:"alert-banner row q-dialog__inner all-pointer-events"},d={class:"message left-side"},u={class:"close"};function c(e,t,l,i,c,p){const h=(0,a.g2)("q-btn"),m=(0,a.g2)("q-tooltip");return""!==e.message?((0,a.uX)(),(0,a.CE)("div",s,[n,(0,a.Lk)("div",r,[(0,a.Lk)("span",d,(0,o.v_)(e.message),1),(0,a.Lk)("span",u,[(0,a.bF)(h,{class:"schedule-meeting text-weight-bold",unelevated:"",onClick:e.openCalendly},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("schedule_meeting_alert")),1)])),_:1},8,["onClick"]),(0,a.bF)(h,{dense:"",flat:"",icon:"close",onClick:t[0]||(t[0]=t=>e.message="")},{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("pages.select_app.close")),1)])),_:1})])),_:1})])])])):(0,a.Q3)("",!0)}var p=l(1659),h=l(38734),m=l(83319),_=l(6044),b=l(73937),v=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const g=(0,a.pM)({el:"#app",mixins:[_.A],props:{},components:{},data(){return{}},watch:{subscription_remaining_days:{handler:function(e,t){this.handleAlert()}},ready_to_expire_subscriptions:{handler:function(e,t){this.handleAlert()}}},mounted:function(){this.handleAlert()},methods:{handleAlert(){return v(this,void 0,void 0,(function*(){if(this.processing_request)return;this.processing_request=!0;const e=(0,m.SX)();yield e.setSubscriptionInfo();this.message="";let t=[];for(const l of this.ready_to_expire_subscriptions){const e=this.prepareMessageForAlert(l.days,l.detail.name);""!=e&&t.push(e)}0!=t.length&&(this.message=t.join(", "),this.processing_request=!1)}))},prepareMessageForAlert(e,t){return 0==e?this.$t("subscription_end_today"):-1==e?t+" "+this.$t("subscription_not_found"):e<0?t+" "+this.$t("subscription_ended"):1==e?t+" "+this.$t("subscription_end_days")+e+this.$t("day"):e>0&&e<this.whenToShowAlertDays?t+" "+this.$t("subscription_end_days")+e+this.$t("days"):""},openCalendly(){(0,b.bd)()}},setup(){const e=(0,m.SX)(),{ready_to_expire_subscriptions:t,whenToShowAlertDays:l}=(0,p.bP)(e);return{ready_to_expire_subscriptions:t,whenToShowAlertDays:l,message:(0,h.KR)(""),processing_request:(0,h.KR)(!1)}}});var f=l(12807),y=l(82156),k=l(44488),w=l(56384),C=l(97410),x=l(98582),L=l.n(x);const F=(0,f.A)(g,[["render",c],["__scopeId","data-v-c904fed4"]]),E=F;L()(g,"components",{QDialog:y.A,QTr:k.A,QBtn:w.A,QTooltip:C.A})},96756:(e,t,l)=>{"use strict";l.d(t,{A:()=>re});var a=l(61758),o=l(58790),i=l(29104);const s={class:"image-decorator",ref:"image-area",id:"image_area"},n={id:"screenshot_container"},r=["src","width"],d=["onMousedown","onMousemove"],u=["id","onDblclick","onClick"],c={class:"c-crop--hide_main"},p=["src","width"],h={class:"text-weight-bold"},m={class:"row q-pa-sm full-width"},_={style:{"margin-left":"7px","margin-top":"7px"}},b={class:"text-right"},v={class:"row style-items",style:{width:"15%","font-size":"17px","margin-left":"5px"}},g={style:{"margin-left":"7px","margin-top":"7px"}},f={style:{"margin-left":"5px"},class:"style-items"},y={style:{"margin-left":"5px"}},k={class:"q-pa-md q-gutter-sm"};function w(e,t,l,w,C,x){const L=(0,a.g2)("q-btn"),F=(0,a.g2)("q-separator"),E=(0,a.g2)("Resizable"),A=(0,a.g2)("q-toolbar-title"),S=(0,a.g2)("q-toolbar"),D=(0,a.g2)("q-item-section"),I=(0,a.g2)("q-item"),T=(0,a.g2)("q-list"),O=(0,a.g2)("q-menu"),M=(0,a.g2)("q-icon"),R=(0,a.g2)("q-color"),P=(0,a.g2)("q-popup-proxy"),q=(0,a.g2)("q-input"),V=(0,a.g2)("q-card-actions"),N=(0,a.g2)("q-card"),B=(0,a.g2)("q-dialog"),$=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",s,[(0,a.Lk)("div",n,[e.url?((0,a.uX)(),(0,a.CE)("img",{key:0,onLoad:t[0]||(t[0]=(...t)=>e.prepareImageData&&e.prepareImageData(...t)),id:"screenshot2",ref:"screenshot2",class:"original-image",src:e.url,alt:"Original Image",width:e.width},null,40,r)):(0,a.Q3)("",!0),(0,a.Lk)("div",{class:"select-areas--overlay",style:(0,o.Tr)({opacity:e.opacityOverlay,position:"absolute",width:e.originImgSize.w+"px",height:e.originImgSize.h+"px",display:"block"})},null,4),(0,a.Lk)("div",{id:"draw",style:(0,o.Tr)({"background-color":"rgb(0, 0, 0)",opacity:0,position:"absolute",width:e.originImgSize.w+"px",height:e.originImgSize.h+"px"}),onMousedown:t[1]||(t[1]=(...t)=>e.mouseDown&&e.mouseDown(...t)),onMousemove:t[2]||(t[2]=(...t)=>e.mouseMove&&e.mouseMove(...t))},null,36),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.areas,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:t.id},[(0,a.Lk)("div",{onMousedown:(0,i.D$)((l=>e.startMove(t,l)),["stop","prevent"]),onMousemove:l=>e.doMove(t,l)},[(0,a.Lk)("div",{class:"select-areas--outline",style:(0,o.Tr)({opacity:e.opacityOutline,position:"absolute",cursor:"cross",width:e.geStamptDimension(t.width)+4+"px",height:e.geStamptDimension(t.height)+4+"px",left:e.areaDisplayPosX(t)-2+"px",top:e.areaDisplayPosY(t)-2+"px","z-index":t.z})},null,4),(0,a.Lk)("div",{id:"annotation_item_"+t.id,class:(0,o.C4)(["select-areas--background_area",(t.italic?" text-italic ":"")+(t.bold?" text-bold ":"")]),onDblclick:a=>e.itemClicked(l,t),style:(0,o.Tr)({background:`#fff url('${e.url}') -${e.areaDisplayPosX(t)}px -${t.y}px / ${e.originImgSize.w}px ${e.originImgSize.h}px no-repeat`,position:"absolute",cursor:"grab",width:e.geStamptDimension(t.width)+"px",height:e.geStamptDimension(t.height)+"px",left:e.areaDisplayPosX(t)+"px",top:e.areaDisplayPosY(t)+"px",color:t.font_color,fontSize:t.font_size+"pt",fontFamily:t.font_style,zIndex:t.z+2}),onClick:l=>e.changeResizable(t.id)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.textLines(t.text),((e,t)=>((0,a.uX)(),(0,a.CE)("p",{class:"q-ma-none",key:t},(0,o.v_)(e),1)))),128))],46,u),e.enableEditing?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"edit-area row back-white",style:(0,o.Tr)({display:"edit",left:e.calculateLeftForEditArea(t)+"px",top:e.areaDisplayLowerPosY(t)+10+"px","z-index":t.z+2})},[t.editable?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(L,{flat:"",icon:"img:images/edit.svg",onClick:a=>e.itemClicked(l,t),disable:t.processing},null,8,["onClick","disable"]),(0,a.bF)(F,{vertical:"",class:"q-mx-sm"})],64)):(0,a.Q3)("",!0),"normal"===t.type||null==t.annot_id?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.bF)(L,{flat:"",icon:"img:images/save.svg",onClick:a=>e.saveAnnotation(l,t),disable:t.processing},null,8,["onClick","disable"]),(0,a.bF)(F,{vertical:"",class:"q-mx-sm"})],64)):(0,a.Q3)("",!0),(0,a.bF)(L,{icon:"img:images/trash-bin-default.svg",flat:"",onClick:a=>e.deleteAnnotation(l,t),disable:t.processing},null,8,["onClick","disable"])],4)):(0,a.Q3)("",!0),t.resizable&&e.enableEditing?((0,a.uX)(),(0,a.Wv)(E,{key:1,item:t,posImg:e.posImg,"pos-correction":e.posCorrection,onStartDrag:e.startDrag,onDoDrag:e.doDrag},null,8,["item","posImg","pos-correction","onStartDrag","onDoDrag"])):(0,a.Q3)("",!0)],40,d)])))),128))]),(0,a.Lk)("div",c,[(0,a.Lk)("img",{id:"c-crop--hide_img",src:e.url,alt:"",width:e.width},null,8,p)])],512),(0,a.bF)(B,{modelValue:e.show_annotation_popup,"onUpdate:modelValue":t[10]||(t[10]=t=>e.show_annotation_popup=t),onKeydown:t[11]||(t[11]=(0,i.jR)((t=>e.show_annotation_popup=!1),["esc"]))},{default:(0,a.k6)((()=>[(0,a.bF)(N,{style:{width:"720px"}},{default:(0,a.k6)((()=>[(0,a.bF)(S,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(A,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",h,(0,o.v_)(e.$t("annotation.new_annotation")),1)])),_:1}),(0,a.bF)(L,{flat:"",round:"",dense:"",icon:"close",onClick:t[3]||(t[3]=t=>e.cancelEditorChange())})])),_:1}),(0,a.Lk)("div",m,[(0,a.Lk)("div",{class:"style-items",style:(0,o.Tr)({width:"40%","font-size":"18px","font-family":e.selectedItem.font_style,"margin-left":"8px"})},[(0,a.Lk)("div",_,(0,o.v_)(e.selectedItem.font_style),1),(0,a.Lk)("div",b,[(0,a.bF)(L,{dense:"",flat:"",icon:"expand_more",style:{height:"39px",bottom:"34px"}},{default:(0,a.k6)((()=>[(0,a.bF)(O,null,{default:(0,a.k6)((()=>[(0,a.bF)(T,{style:{"min-width":"80px"}},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.fontlist,(t=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(I,{key:t,clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(D,{onClick:l=>{e.selectedItem.font_style=t},style:(0,o.Tr)({"font-family":t})},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t),1)])),_:2},1032,["onClick","style"])])),_:2},1024)),[[$]]))),128))])),_:1})])),_:1})])),_:1})])],4),(0,a.Lk)("div",v,[(0,a.Lk)("div",g,(0,o.v_)(e.selectedItem.font_size+"pt"),1),(0,a.bF)(L,{dense:"",flat:"",icon:"expand_more",style:{left:"8px",height:"39px"}},{default:(0,a.k6)((()=>[(0,a.bF)(O,null,{default:(0,a.k6)((()=>[(0,a.bF)(T,{class:"q-pr-sm",dense:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.fontSizes,(t=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(I,{key:t,clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(D,{onClick:l=>{e.selectedItem.font_size=t.value}},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.label),1)])),_:2},1032,["onClick"])])),_:2},1024)),[[$]]))),128))])),_:1})])),_:1})])),_:1})]),(0,a.Lk)("div",f,[(0,a.bF)(L,{flat:"",dense:"",style:{height:"38px"},onClick:t[4]||(t[4]=t=>{e.selectedItem.bold=!e.selectedItem.bold})},{default:(0,a.k6)((()=>[(0,a.bF)(M,{style:{"margin-top":"2px"},size:"32px",class:(0,o.C4)(1==e.selectedItem.bold?"text-primary":"icon-grey"),name:"format_bold"},null,8,["class"])])),_:1}),(0,a.bF)(L,{flat:"",dense:"",style:{height:"38px"},onClick:t[5]||(t[5]=t=>{e.selectedItem.italic=!e.selectedItem.italic})},{default:(0,a.k6)((()=>[(0,a.bF)(M,{style:{"margin-top":"2px"},size:"32px",class:(0,o.C4)(1==e.selectedItem.italic?"text-primary":"icon-grey"),name:"format_italic"},null,8,["class"])])),_:1})]),(0,a.Lk)("div",y,[(0,a.bF)(q,{style:{width:"130px"},outlined:"",dense:"",standout:"",modelValue:e.selectedItem.font_color,"onUpdate:modelValue":t[7]||(t[7]=t=>e.selectedItem.font_color=t),rules:["hexColor"],label:e.$t("annotation.color")},{append:(0,a.k6)((()=>[(0,a.bF)(M,{name:"colorize",class:"cursor-pointer",color:{"background-color":e.selectedItem.font_color}},{default:(0,a.k6)((()=>[(0,a.bF)(P,{"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(R,{modelValue:e.selectedItem.font_color,"onUpdate:modelValue":t[6]||(t[6]=t=>e.selectedItem.font_color=t),"default-view":"palette","no-header-tabs":""},null,8,["modelValue"])])),_:1})])),_:1},8,["color"])])),_:1},8,["modelValue","label"])])]),(0,a.bF)(F,{style:{"margin-top":"-14px"},inset:""}),(0,a.Lk)("div",k,[(0,a.bF)(q,{outlined:"",type:"textarea",autofocus:"",modelValue:e.selectedItem.text,"onUpdate:modelValue":t[8]||(t[8]=t=>e.selectedItem.text=t),label:e.$t("annotation.input"),"input-class":(e.selectedItem.italic?" text-italic ":"")+(e.selectedItem.bold?" text-bold ":""),"input-style":{color:e.selectedItem.font_color,fontSize:e.selectedItem.font_size+"pt",fontFamily:e.selectedItem.font_style,lineHeight:e.selectedItem.font_size+"pt"}},null,8,["modelValue","label","input-class","input-style"])]),(0,a.bF)(V,{align:"right",style:{"margin-right":"10px"}},{default:(0,a.k6)((()=>[(0,a.bF)(L,{unelevated:"",label:e.$t("cancel"),class:"highlighted-back",onClick:t[9]||(t[9]=t=>e.cancelEditorChange())},null,8,["label"]),(0,a.bF)(L,{unelevated:"",label:e.$t("save"),color:"primary",onClick:e.saveEditorChanges},null,8,["label","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var C=l(1659),x=l(24622),L=l(41903),F=l(96056),E=l(92162),A=l(57034),S=l(38734),D=l(64775),I=l(11470),T=l(76956),O=l(68450),M=l(83319),R=l(8903),P=l(73937),q=l(46736),V=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};let N,B;const $=(0,a.pM)({setup(){const e=(0,M.q3)(),{page:t,doc_annotations:l}=(0,C.bP)(e),{getDocAnnotations:a}=e,o=(0,S.KR)(-1),i=(0,M.wt)(),{model:s}=(0,C.bP)(i);return{model:s,approval_stamp:T.Y_,getDocAnnotations:a,doc_annotations:l,page:t,fontlist:["Helvetica","Times New Roman"],fontSizes:(0,S.KR)([]),selectedItem:(0,S.KR)({}),ItemSelectedIndex:o,areas:(0,S.KR)([]),ItemFormat:(0,S.KR)([]),approved_stamp_:"approved_stamp_"}},data(){const e=(0,S.KR)({}),t=(0,S.KR)({x:0,y:0}),l=(0,a.EW)((()=>`transform: translate(${t.value.x}px, ${t.value.y}px); width:${e.value.width}px; height:${e.value.height}px;`));return{stamp_dir:R.Ul,stamp_ext:R.K_,mousedown:!1,originImgSize:{w:0,h:0,r:0},url:this.cropUrl,posImg:{top:0,left:0},latestAreaItem:{startX:0,startY:0,endX:0,endY:0},scrollLeft:0,scrollTop:0,moveTempX:0,moveTempY:0,moveCurrentX:0,moveCurrentY:0,temp:0,dragdown:!1,move:!1,imageHeight:0,imageWidth:0,show_annotation_popup:!1,annotation_confirmation:!1,dialogArea:e,dialogPos:t,dialogStyle:l,fontSize:"12",fontStyle:"Helvetica",backgroundColor:"ffffff"}},mixins:[x.A,F.A,q.A],props:{cropUrl:{type:String,default:"https://dev.doc2api.cloudintegration.eu/resource/image/1b90b6d5-63b5-446b-92a4-a60d57dc0edd/1.png"},width:{type:Number,default:1500},opacityOutline:{type:Number,default:.2},opacityOverlay:{type:Number,default:.2},posCorrection:{type:Boolean,default:!1},selectFont:{type:String,default:"Helvetica"},selectFontSize:{type:Number,default:12},selectColor:{type:String,default:"#000000"},screenmode:{type:String,default:"annotate"},enableEditing:{type:Boolean,default:!0}},components:{Resizable:A.A},watch:{cropUrl(e){this.url=e,setTimeout((()=>{this.setSize()}),200)},width(e,t){this.setSize(),setTimeout((()=>{this.prepareImageData()}),0)},page(e,t){logInfo("page",e,t),this.initKnownAnnotations()}},methods:{calculateLeftForEditArea(e){let t=this.areaDisplayPosX(e)+e.width-120-e.width/2;return"stamp"===e.type&&(t=this.areaDisplayPosX(e)+e.width-50-e.width/2),t},areaDisplayPosX(e){let t=e.x+(this.posCorrection?this.posImg.left:0);return t<=0&&(t=10),t},areaDisplayPosY(e){return e.y+(this.posCorrection?this.posImg.top:0)},areaDisplayLowerPosY(e){return e.y+e.height},mousePosX(e){return e.pageX-this.posImg.left},mousePosY(e){return e.pageY-this.posImg.top},setSize(){this.url&&(N=(0,E.$)("#image_area"),this.originImgSize={w:N.offsetWidth,h:N.offsetHeight,r:N.offsetWidth/N.offsetHeight})},calcPosOfBox(){let e=this.$refs["image-area"];this.scrollLeft=window.pageXOffset||document.documentElement.scrollLeft,this.scrollTop=window.pageYOffset||document.documentElement.scrollTop;let t=e.getBoundingClientRect().top,l=e.getBoundingClientRect().left;this.posImg.top=t+this.scrollTop,this.posImg.left=l+this.scrollLeft},getNewAreaid(){let e=1;return this.areas.length>0&&(e=this.areas.length+1),e},mouseDown(e){if(!this.enableEditing)return;this.mousedown=!0;let t=this.getNewAreaid(),l=0,a=0,o=0,i=0;if(0!=this.latestAreaItem.startX&&0!=this.latestAreaItem.startY){let t=this.latestAreaItem.startX,o=this.latestAreaItem.startY,i=e.pageX,s=e.pageY,n=i-t,r=s-o;(n<0||r<0)&&(i=t,s=o,t=e.pageX,o=e.pageY,n=i-t,r=s-o),l=t,a=o;const d=this.creatReactangle(l,a,n,r,{});return d.hasOwnProperty("id")&&(this.temp=d.id),void(this.latestAreaItem={startX:0,startY:0,endX:0,endY:0})}if(t){l=this.mousePosX(e),a=this.mousePosY(e);const t=this.creatReactangle(l,a,o,i,{});t.hasOwnProperty("id")&&(this.temp=t.id),this.latestAreaItem.startX=l,this.latestAreaItem.startY=a,this.latestAreaItem.endX=o,this.latestAreaItem.endY=i}},mouseMove(e){this.mousedown&&(this.areas.filter((e=>e.id===this.temp)).map((t=>{t.width=e.pageX-t.x-this.posImg.left-8,t.height=e.pageY-t.y-this.posImg.top-8})),this.latestAreaItem={startX:0,startY:0,endX:0,endY:0})},mouseUp(){this.mousedown=!1,this.areas=this.areas.filter((e=>e.width>=3&&e.height>=3)),this.saveEditorChangesToArea(),this.endMove(),this.endDrag(),this.prepareTableArea()},changeResizable(e){this.areas.filter((t=>t.id===e)).map((e=>{e.resizable=!0,e.z=100})),this.areas.filter((t=>t.id!==e)).map((e=>{e.resizable=!1,e.z=0}))},deleteAnnotation(e,t){return V(this,void 0,void 0,(function*(){try{if((0,O.z)(t.annot_id))return void(this.areas=this.areas.filter((e=>e.id!==t.id)));const e=yield I.M8.deleteAnnotation(t.annot_id);if(0==e.success)throw e;this.areas=this.areas.filter((e=>e.id!==t.id)),this.doc_annotations=this.doc_annotations.filter((e=>e.id!==t.annot_id)),this.showSuccessToast(this.$t("annotation.delete_success"))}catch(e){this.showErrorToast(this.$t("annotation.delete_error"))}}))},startDrag(){this.dragdown=!0},doDrag(e,t,l){if(this.dragdown)switch(t){case"w":l.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-l.pageX+this.posImg.left,e.x=l.pageX-this.posImg.left),e.width<10&&(e.x=e.x-10,e.width=e.width+10);break;case"sw":l.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-l.pageX+this.posImg.left,e.x=l.pageX-this.posImg.left),l.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=l.pageY-this.posImg.top-e.y),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"s":l.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=l.pageY-this.posImg.top-e.y),e.height<10&&(e.height=e.height+10);break;case"se":l.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=l.pageX-this.posImg.left-e.x),l.pageY-this.posImg.top<=this.originImgSize.h&&(e.height=l.pageY-this.posImg.top-e.y),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"e":l.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=l.pageX-this.posImg.left-e.x),e.width<10&&(e.x=e.x-10,e.width=e.width+10);break;case"ne":l.pageX-this.posImg.left<=this.originImgSize.w&&(e.width=l.pageX-this.posImg.left-e.x),l.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-l.pageY),e.y=l.pageY-this.posImg.top),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;case"n":l.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-l.pageY),e.y=l.pageY-this.posImg.top),e.height<10&&(e.height=e.height+10);break;case"nw":l.pageY-this.posImg.top>=0&&(e.height=e.height+(e.y+this.posImg.top-l.pageY),e.y=l.pageY-this.posImg.top),l.pageX-this.posImg.left>=0&&(e.width=e.width+e.x-l.pageX+this.posImg.left,e.x=l.pageX-this.posImg.left),e.width<10&&(e.x=e.x-10,e.width=e.width+10),e.height<10&&(e.height=e.height+10);break;default:break}},endDrag(){this.dragdown=!1},startMove(e,t){this.enableEditing&&(this.move=!0,this.moveTempX=t.clientX,this.moveTempY=t.clientY,this.moveCurrentX=e.x,this.moveCurrentY=e.y)},doMove(e,t){if(this.move){let l=this.moveCurrentX+(t.clientX-this.moveTempX),a=this.moveCurrentY+(t.clientY-this.moveTempY),o=this.originImgSize.w-e.width,i=this.originImgSize.h-e.height;l>0&&a>0&&l<o&&a<i&&(e.x=l,e.y=a)}},getTableAreaAsString(e,t,l,a){let o=e/this.imageWidth,i=l/this.imageWidth,s=t/this.imageHeight,n=a/this.imageHeight;return{x1:o,y1:s,x2:i,y2:n}},prepareTableArea(){const e=[];this.areas.forEach((t=>{let l=t.width+t.x,a=t.height+t.y;t.coordinates=this.getTableAreaAsString(t.x,t.y,l,a),e.push(t)})),L.A.set("annotation_data",JSON.stringify(e))},endMove(){this.move=!1},creatReactangle(e,t,l,a,o){const i=this.getNewAreaid();if(!i)return{};let s=!0,n="normal",r=!1,d=!1,u=this.fontSize,c=this.fontStyle,p=null;o["text"]||(o["text"]=""),o["text"].includes("_stamp")&&(n="stamp",s=!1),o["font_color"]||(o["font_color"]=this.$q.dark.isActive?"#FFFFFF":"#000000"),o["italic"]&&(r=o["italic"]),o["bold"]&&(d=o["bold"]),o["font_size"]&&(u=o["font_size"]),o["font_style"]&&(c=o["font_style"]),o["annot_id"]&&(p=o["annot_id"]);let h=o["font_color"].charAt(0);"#"!=h&&(o["font_color"]="#"+o["font_color"]);let m={id:i,annot_id:p,x:e,y:t,width:l,height:a,z:0,text:o["text"],resizable:!1,annoDef:o,type:n,processing:!1,editable:s,font_style:c,font_size:u,font_color:o["font_color"],italic:r,bold:d};return this.areas.push(m),m},initKnownAnnotations(){if(this.areas=[],0!=this.doc_annotations.length)for(let[e,t]of Object.entries(this.doc_annotations)){if(t.page!=this.page-1)continue;let e=Math.round(this.imageWidth*t["x1"]),l=Math.round(this.imageHeight*t["y1"]),a=Math.round(this.imageWidth*t["x2"]),o=Math.round(this.imageHeight*t["y2"]),i=a-e,s=o-l;t["annot_id"]=t["id"];const n=this.creatReactangle(e,l,i,s,t);n.hasOwnProperty("id")&&this.addAnnotationInfo(t,n.id)}},addAnnotationInfo(e,t){return V(this,void 0,void 0,(function*(){if(!e["text"].includes("_stamp_"))return;let l=e["text"];if(!l||""==l)return;const a=yield fetch(this.stamp_dir+l+this.stamp_ext),o=yield a.text(),i=(0,E.$)("#annotation_item_"+t);i&&(i.innerHTML=o)}))},hexToRGB(e){e=e.replace("#","");let t=parseInt(e.slice(0,2),16),l=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4),16);return"rgb("+t+","+l+","+a+")"},prepareImageData(){B=(0,E.$)("#screenshot2"),B&&(this.imageWidth=B.offsetWidth,this.imageHeight=B.offsetHeight),this.setSize(),setTimeout((()=>this.initKnownAnnotations()),100)},calculateLeftPosition(e){let t=this.areaDisplayPosX(e)+e.width;return t+50>=this.imageWidth&&(t=this.areaDisplayPosX(e)-60),t+"px"},calculatePositionFromTop(e){let t=this.areaDisplayPosY(e)-25;return t<0&&(t=this.areaDisplayPosY(e)),t+"px"},setAsSelectedItem(e){this.selectedItem=JSON.parse(JSON.stringify(e))},itemClicked(e,t){0!=t.editable&&(this.ItemSelectedIndex=e,this.setAsSelectedItem(t),this.show_annotation_popup=!0)},saveEditorChangesToArea(){if((0,O.dd)(this.selectedItem)||(0,O.z)(this.selectedItem))return;let e=this.areas.findIndex((e=>e.id===this.selectedItem.id));this.areas[e]=this.selectedItem},saveEditorChanges(){this.show_annotation_popup=!1,this.saveEditorChangesToArea(),this.saveAnnotation(this.ItemSelectedIndex,this.selectedItem)},cancelEditorChange(){this.selectedItem={},this.show_annotation_popup=!1},saveAnnotation(e,t){this.areas[e].processing=!0,"normal"===t.type?this.saveTextAnnotation(e,t):this.saveStampAnnotation(e,t)},getCoordinatesFromArea(e){let t=e.width+e.x,l=e.height+e.y;return this.getTableAreaAsString(e.x,e.y,t,l)},saveTextAnnotation(e,t){return V(this,void 0,void 0,(function*(){this.saveEditorChangesToArea(),null!=t.annot_id?yield this.editTextAnnotation(e,t):yield this.addTextToDocument(e,t)}))},addTextToDocument(e,t){return V(this,void 0,void 0,(function*(){try{const l=this.hexToRGB(t.font_color).replace("rgb",""),{x1:a,y1:o,x2:i,y2:s}=this.getCoordinatesFromArea(t);let n={text:t.text,x1:a,y1:o,x2:i,y2:s,rgb:l,font_style:t.font_style,italic:t.italic,bold:t.bold,font_size:parseInt(t.font_size).toString(),page:this.page-1,background_color:this.backgroundColor},r=this.$route.params.id,d=yield I.M8.addAnnotateToDocument(r,n);if(!0!==d.success)throw d;const u=d.data;this.areas[e].annot_id=u.id,this.doc_annotations.push(u),this.showSuccessToast(this.$t("annotation.save_success"))}catch(l){const e=D.t.getErrorMessage(l);this.showErrorToast(e),logError(l)}finally{this.areas[e].processing=!1}}))},editTextAnnotation(e,t){return V(this,void 0,void 0,(function*(){try{const l=this.hexToRGB(t.font_color).replace("rgb",""),{x1:a,y1:o,x2:i,y2:s}=this.getCoordinatesFromArea(t),n=t.annot_id;let r={text:t.text,x1:a,y1:o,x2:i,y2:s,rgb:l,font_style:t.font_style,italic:t.italic,bold:t.bold,font_size:parseInt(t.font_size).toString(),page:this.page-1,background_color:this.backgroundColor},d=yield I.M8.editAnnotation(t.annot_id,r);if(!0!==d.success)throw d;const u=d.data;if(u.hasOwnProperty("id")&&void 0!=u.id){this.areas[e].annot_id=u.id;let t=this.getIndexFromSavedAnnotations(n);-1!=t&&(this.doc_annotations[t]=u)}this.showSuccessToast(this.$t("annotation.save_success"))}catch(l){const e=D.t.getErrorMessage(l);this.showErrorToast(e),logError(l)}finally{this.areas[e].processing=!1}}))},getIndexFromSavedAnnotations(e){let t=this.doc_annotations.findIndex((t=>t.id==e));return t},saveStampAnnotation(e,t){return V(this,void 0,void 0,(function*(){null!=t.annot_id?yield this.editStampAnnotation(e,t):yield this.addStampToDocument(e,t)}))},editStampAnnotation(e,t){return V(this,void 0,void 0,(function*(){try{const{x1:l,y1:a,x2:o,y2:i}=this.getCoordinatesFromArea(t);let s={id:this.areas[e].annot_id,name:t.text,x1:l,y1:a,x2:o,y2:i,page:this.page-1},n=this.$route.params.id,r=yield I.M8.editStampOnDocument(n,s);if(0==r.success)throw r;const d=r.data;this.areas[e].annot_id=d.id;let u=this.getIndexFromSavedAnnotations(this.areas[e].annot_id);-1!=u&&(this.doc_annotations[u]=d),this.showSuccessToast(this.$t("annotation.save_success"))}catch(l){const e=D.t.getErrorMessage(l);this.showErrorToast(e),logError(l)}finally{this.areas[e].processing=!1}}))},addStampToDocument(e,t){return V(this,void 0,void 0,(function*(){const{x1:l,y1:a,x2:o,y2:i}=this.getCoordinatesFromArea(t);let s={name:t.text,x1:l,y1:a,x2:o,y2:i,page:this.page-1};try{let t=this.$route.params.id,l=yield I.M8.addStampToDocument(t,s);!0!==l.success&&this.showErrorToast(this.$t("annotation.save_error"));const a=l.data;this.areas[e].annot_id=a.id,this.doc_annotations.push(a),this.showSuccessToast(this.$t("annotation.save_success"))}catch(n){const e=D.t.getErrorMessage(n);this.showErrorToast(e),logError(n)}finally{setTimeout((()=>{this.areas[e].processing=!1}),750)}}))},addStampDescription(e,t,l,a,o){return V(this,void 0,void 0,(function*(){let o={font_color:l};const i=this.creatReactangle(e,t,300,60,o),s=i.id-1;this.areas[s]["text"]=a,this.areas[s]["bold"]=!0;const n=JSON.parse(JSON.stringify(this.areas[s]));yield this.saveTextAnnotation(s,n)}))},addStampAnnotation(e){return V(this,void 0,void 0,(function*(){const t=(0,P.Ky)("first_name")+" "+(0,P.Ky)("last_name"),l=(new Date).toString(),a=this.formatDateAccordingToPreference(l),o=`${t}\n${a}`;if(this.model[T.Y_]){let t={text:e},l=this.$refs.screenshot2;if(l){const e=l.offsetWidth,a=l.offsetHeight;this.initKnownAnnotations();const i=this.areas.filter((e=>e.text.startsWith(this.approved_stamp_)));if(i.length>0)return;{const l=this.creatReactangle(e-350,a-150,300,40,t);this.addAnnotationInfo(l,l.id);const i=this.areas.filter((e=>e.text.startsWith(this.approved_stamp_)));yield this.saveStampAnnotation(0,i[0]),yield this.addStampDescription(e-350,a-100,"#000000",o,t)}}}}))},addTemplateAnnotation(e){let t={text:e};const l=this.creatReactangle(100,100,450,110,t);this.addAnnotationInfo(l,l.id)},createAnnotationFromColorShortcut(e){let t={font_color:e};const l=this.isMobile()?50:100,a=this.isMobile()?200:450,o=this.creatReactangle(l,100,a,110,t),i=o.id-1;this.itemClicked(i,this.areas[i])},onPan(e){this.dialogPos.x=this.dialogPos.x+e.delta.x,this.dialogPos.y=this.dialogPos.y+e.delta.y},colorConverter(e){let t="#";e=e.replace("rgb(","").replace(")","");let l=e.split(",");return l.forEach((e=>{let l=parseInt(e).toString(16);t+=l})),t},windowResize(){this.setSize()},textLines(e){return e.split("\n")},geStamptDimension(e){return e+50>this.width?Math.round(e/2):e}},mounted(){this.areas=[],this.setSize(),N=(0,E.$)("#image_area"),N.addEventListener("mousemove",this.calcPosOfBox),N.addEventListener("scroll",this.calcPosOfBox),this.calcPosOfBox(),N.addEventListener("mouseup",this.mouseUp),window.addEventListener("resize",this.windowResize);for(let e=1;e<=80;e++)this.fontSizes.push({label:e.toString()+"pt",value:e.toString()})},unmounted:function(){N.removeEventListener("mousemove",this.calcPosOfBox),N.removeEventListener("scroll",this.calcPosOfBox),N.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("resize",this.windowResize)}});var Q=l(12807),X=l(56384),W=l(10386),K=l(82156),U=l(23316),j=l(36914),z=l(39150),H=l(84436),G=l(53999),Y=l(90124),J=l(25173),Z=l(50492),ee=l(67837),te=l(48975),le=l(80483),ae=l(62669),oe=l(88672),ie=l(98582),se=l.n(ie);const ne=(0,Q.A)($,[["render",w],["__scopeId","data-v-329e9121"]]),re=ne;se()($,"components",{QBtn:X.A,QSeparator:W.A,QDialog:K.A,QCard:U.A,QToolbar:j.A,QToolbarTitle:z.A,QMenu:H.A,QList:G.A,QItem:Y.A,QItemSection:J.A,QIcon:Z.A,QInput:ee.A,QPopupProxy:te.A,QColor:le.A,QCardActions:ae.A}),se()($,"directives",{ClosePopup:oe.A})},15369:(e,t,l)=>{"use strict";l.d(t,{A:()=>Y});var a=l(61758),o=l(29104),i=l(58790);const s={class:"row full-width"},n={class:"col-sm-12 col-md-12 col-lg-12"},r={class:"table-header-text"},d=["data-index","draggable","dropzone","onDragstart","onDrop","onDragover"],u={key:0,class:"cursor-default"},c={key:1,class:"q-pr-md"},p=["onClick"],h={key:0,class:"text-left"},m={key:1,class:"text-left"},_={key:2,class:"text-left"},b={key:3,class:"text-left"},v={key:4,class:"text-left"},g={key:5,class:"text-center"},f={class:"text-center no-padding-left-right",colspan:"6"},y={key:1},k={colspan:"5",class:"text-h4 text-center"};function w(e,t,l,w,C,x){const L=(0,a.g2)("q-tooltip"),F=(0,a.g2)("q-icon"),E=(0,a.g2)("q-item-section"),A=(0,a.g2)("q-item"),S=(0,a.g2)("q-list"),D=(0,a.g2)("q-menu"),I=(0,a.g2)("q-btn"),T=(0,a.g2)("q-input"),O=(0,a.g2)("ConfirmDialog"),M=(0,a.g2)("q-markup-table");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",n,[(0,a.bF)(M,{flat:"",class:"dashboard-table-style back-white",id:"script_log_validation_table"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",r,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns,((l,s)=>((0,a.uX)(),(0,a.CE)("th",{key:l.name,"data-index":s,draggable:e.canDragDropColumn(l),dropzone:e.canDragDropColumn(l),direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.table_columns,s),onDrop:(0,o.D$)((t=>e.handleDrop(t,s)),["prevent"]),onDragover:(0,o.D$)((t=>e.onDragOver(t,s)),["prevent"]),onDragenter:t[0]||(t[0]=(0,o.D$)(((...t)=>e.onDragEnter&&e.onDragEnter(...t)),["prevent"])),onDragleave:t[1]||(t[1]=(0,o.D$)(((...t)=>e.onDragLeave&&e.onDragLeave(...t)),["prevent"])),style:(0,i.Tr)({cursor:e.getIsDragging?"pointer":"move"}),class:(0,i.C4)((null===l||void 0===l?void 0:l.class)||"")},["actions"==l.name?((0,a.uX)(),(0,a.CE)("span",u,(0,i.v_)(e.$t(l.label)),1)):((0,a.uX)(),(0,a.CE)("span",c,(0,i.v_)(e.$t(l.label)),1))],46,d)))),128))])]),(0,a.Lk)("tbody",null,[e.record.hasOwnProperty("script_execution")?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:0},(0,a.pI)(e.record.script_execution,((l,s)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:s},[(0,a.Lk)("tr",{onClick:t=>e.clickForDetail(l),class:"cursor-pointer"},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns,(n=>((0,a.uX)(),(0,a.CE)(a.FK,{key:n.name},["name"===n.name?((0,a.uX)(),(0,a.CE)("td",h,(0,i.v_)(l.label),1)):"trigger_on"===n.name?((0,a.uX)(),(0,a.CE)("td",m,(0,i.v_)(l.trigger),1)):"status"===n.name?((0,a.uX)(),(0,a.CE)("td",_,[l.success?((0,a.uX)(),(0,a.Wv)(F,{key:0,name:"check",color:"green",size:"20px"},{default:(0,a.k6)((()=>[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("execution_successfull")),1)])),_:1})])),_:1})):((0,a.uX)(),(0,a.Wv)(F,{key:1,name:"close",color:"red",size:"20px"},{default:(0,a.k6)((()=>[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("execution_failed")),1)])),_:1})])),_:1}))])):"last_executed_on"===n.name?((0,a.uX)(),(0,a.CE)("td",b,(0,i.v_)(l.last_executed_on),1)):"time_spent"===n.name?((0,a.uX)(),(0,a.CE)("td",v,(0,i.v_)(l.time_spent)+" sec",1)):((0,a.uX)(),(0,a.CE)("td",g,[(0,a.bF)(I,{flat:"",dense:"",round:"",onClick:t[2]||(t[2]=(0,o.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz"},{default:(0,a.k6)((()=>[(0,a.bF)(D,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,a.k6)((()=>[(0,a.bF)(S,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[(0,a.bF)(A,{class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(E,{onClick:t=>e.handleOpenDialog(s),class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)(e.$t("deactivate")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)]))],64)))),128))],8,p),(0,a.bo)((0,a.Lk)("tr",null,[(0,a.Lk)("td",f,[(0,a.bF)(T,{modelValue:l.exception,"onUpdate:modelValue":e=>l.exception=e,class:"exceptption-text-area",type:"textarea"},null,8,["modelValue","onUpdate:modelValue"])])],512),[[o.aG,l.expand&&!l.success]]),(0,a.bF)(O,{modelValue:e.confirm_de_active_dialog,"onUpdate:modelValue":t[3]||(t[3]=t=>e.confirm_de_active_dialog=t),message:e.$t("confirm_switch_active"),"confirm-label":e.$t("pages.screen2a.yes"),"cancel-label":e.$t("cancel"),onConfirm:e.handleDisability},null,8,["modelValue","message","confirm-label","cancel-label","onConfirm"])],64)))),128)):((0,a.uX)(),(0,a.CE)("tr",y,[(0,a.Lk)("td",k,(0,i.v_)(e.$t("no_data_found")),1)]))])])),_:1})])])}var C=l(38734),x=l(1659),L=l(83319),F=l(11470),E=l(24622),A=l(18505),S=l(64775),D=l(58229),I=l(82303),T=l(85487),O=l(46162),M=l(10739),R=l(45022),P=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const q=(0,a.pM)({el:"#app",mixins:[E.A,A.A,M.A],props:{},components:{ConfirmDialog:D.A},watch:{doc_loaded:{handler:function(e,t){this.initView()}},processing:{handler:function(e,t){!1===e?this.hideLoading():this.showLoading()}}},mounted:function(){this.initView(),this.prepareColumns(),this.initDragDropColumns("script_log_validation_table","label",["actions"]),document.addEventListener("script_log_validation_table-column-drop",this.onDropColumns)},unmounted(){document.removeEventListener("script_log_validation_table-column-drop",this.onDropColumns)},methods:{initView(){},clickForDetail(e){e.hasOwnProperty("expand")?e.expand=!e.expand:e.expand=!0,logInfo(e)},prepareColumns(){const e=R.A.getItem("SCRIPT_LOG_VALIDATION_COLUMNS");e&&(this.table_columns=JSON.parse(e))},onDropColumns(){R.A.set("SCRIPT_LOG_VALIDATION_COLUMNS",JSON.stringify(this.table_columns))},handleOpenDialog(e){this.confirm_de_active_dialog=!0,this.record_id=e},handleDisability(){return P(this,void 0,void 0,(function*(){try{this.processing=!0;const e=this.record.script_execution[this.record_id];yield F.LN.updateActive(e.script_id,!1).then((e=>{if(!e.success)throw new Error(e.message)})),yield F.z6.restartExport(this.record.doc_id).then((e=>{if(!e.success)throw new Error(e.message)}));let t=yield(0,O.L3)();const l=yield I.A.get((0,T.MV)(O.FH.restart_document+this.record.doc_id),{headers:{Authorization:t}});l.data.success&&this.$router.push("/dashboard")}catch(e){const t=S.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.processing=!1}}))}},data(){return{record_id:(0,C.KR)(""),table_columns:[{label:"name",name:"name"},{label:"trigger_on",name:"trigger_on"},{label:"status",name:"status"},{label:"last_executed_on",name:"last_executed_on"},{label:"time_spent",name:"time_spent"},{label:"pages.export.actions",name:"actions",class:"text-center"}]}},setup(){const e=(0,L.q3)(),{record:t,doc_loaded:l,processing:a,confirm_de_active_dialog:o}=(0,x.bP)(e);return{record:t,doc_loaded:l,processing:a,confirm_de_active_dialog:o}}});var V=l(12807),N=l(857),B=l(50492),$=l(97410),Q=l(56384),X=l(84436),W=l(53999),K=l(90124),U=l(25173),j=l(67837),z=l(98582),H=l.n(z);const G=(0,V.A)(q,[["render",w],["__scopeId","data-v-156eb171"]]),Y=G;H()(q,"components",{QMarkupTable:N.A,QIcon:B.A,QTooltip:$.A,QBtn:Q.A,QMenu:X.A,QList:W.A,QItem:K.A,QItemSection:U.A,QInput:j.A})},32438:(e,t,l)=>{"use strict";l.d(t,{A:()=>k});var a=l(61758),o=l(58790);const i=(0,a.Lk)("img",{width:"24",height:"24",src:"images/accounting1.svg"},null,-1);function s(e,t,l,s,n,r){const d=(0,a.g2)("q-tooltip"),u=(0,a.g2)("q-btn");return e.show_button?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[e.show_icon_btn?((0,a.uX)(),(0,a.Wv)(u,{key:0,flat:"",class:"validation-view-button",onClick:e.routeToAutoAccounting},{default:(0,a.k6)((()=>[i,(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("auto_accounting")),1)])),_:1})])),_:1},8,["onClick"])):((0,a.uX)(),(0,a.Wv)(u,{key:1,flat:"",label:e.$t("auto_accounting"),color:"primary",onClick:e.routeToAutoAccounting},null,8,["label","onClick"]))],64)):(0,a.Q3)("",!0)}var n=l(38734),r=l(1659),d=l(83319),u=l(24622),c=l(18505),p=l(76956),h=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const m=(0,a.pM)({el:"#app",mixins:[c.A,u.A],props:{isReadOnly:{type:Boolean,default:!1},show_icon_btn:{type:Boolean,default:!0}},components:{},watch:{loading_settings:{handler:function(e,t){1==e&&0==t||this.initView()}},doc_loaded:{handler:function(e,t){this.initView()}}},mounted:function(){this.initView()},methods:{initView(){this.user_settings[this.auto_accounting_setting]||(this.user_settings[this.auto_accounting_setting]=!1),!0===Boolean(this.user_settings[this.auto_accounting_setting])&&(this.show_button=!0)},routeToAutoAccounting(){return h(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return void this.$router.push("/accounting/"+this.$route.params.id);this.showLoading();const e=yield this.saveAndValidate();if(!1===e.success){const t=new CustomEvent("display_fields_errors",{});return document.dispatchEvent(t),void this.showErrorToast(e.message)}this.$router.push("/accounting/"+this.$route.params.id)}catch(e){logError(e)}finally{this.hideLoading()}}))}},data(){return{auto_accounting_setting:p.P1}},setup(){const e=(0,d.q3)(),{show_all_menu_btns:t,record:l,doc_loaded:a}=(0,r.bP)(e),{saveAndValidate:o}=e,i=(0,d.Bu)(),{user_settings:s,loading_settings:u}=(0,r.bP)(i);return{saveAndValidate:o,record:l,doc_loaded:a,user_settings:s,loading_settings:u,show_all_menu_btns:t,show_button:(0,n.KR)(!1),show_icon:(0,n.KR)(!0)}}});var _=l(12807),b=l(56384),v=l(97410),g=l(98582),f=l.n(g);const y=(0,_.A)(m,[["render",s]]),k=y;f()(m,"components",{QBtn:b.A,QTooltip:v.A})},42517:(e,t,l)=>{"use strict";l.d(t,{A:()=>v});var a=l(61758),o=l(58790);function i(e,t,l,i,s,n){const r=(0,a.g2)("q-tooltip"),d=(0,a.g2)("q-btn");return e.has_ai_table?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[e.remove_unmapped_columns&&!e.hasNonMappedColumns?((0,a.uX)(),(0,a.Wv)(d,{key:0,flat:"",dense:"",icon:"img:images/show_non_mapped_columns.svg",class:"icon-grey validation-footer-table-button",onClick:t[0]||(t[0]=t=>e.handleClick("show"))},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("show_non_mapped_columns")),1)])),_:1})])),_:1})):e.remove_unmapped_columns&&e.hasNonMappedColumns?((0,a.uX)(),(0,a.Wv)(d,{key:1,flat:"",dense:"",icon:"img:images/show_non_mapped_columns_green.svg",class:"icon-grey validation-footer-table-button",onClick:t[1]||(t[1]=t=>e.handleClick("show"))},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("show_non_mapped_columns")),1)])),_:1})])),_:1})):!e.remove_unmapped_columns&&e.hasNonMappedColumns?((0,a.uX)(),(0,a.Wv)(d,{key:2,flat:"",dense:"",icon:"img:images/hide_non_mapped_columns_green.svg",class:"icon-grey validation-footer-table-button",onClick:t[2]||(t[2]=t=>e.handleClick("hide"))},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("hide_non_mapped_columns")),1)])),_:1})])),_:1})):((0,a.uX)(),(0,a.Wv)(d,{key:3,flat:"",dense:"",icon:"img:images/hide_non_mapped_columns.svg",class:"icon-grey validation-footer-table-button",onClick:t[3]||(t[3]=t=>e.handleClick("hide"))},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("hide_non_mapped_columns")),1)])),_:1})])),_:1}))],64)):(0,a.Q3)("",!0)}var s=l(24622),n=l(83319),r=l(18505),d=l(1659);const u=(0,a.pM)({el:"#app",mixins:[r.A,s.A],components:{},props:{isReadOnly:{type:Boolean,default:!1}},data(){return{}},methods:{handleClick(){if(this.isReadOnly)return;if(!this.record.hasOwnProperty("tables")||!Array.isArray(this.record.tables)||0==this.record.tables.length)return;this.remove_unmapped_columns=!this.remove_unmapped_columns,this.record.tables[0].remove_unmapped_columns=this.remove_unmapped_columns;const e=new CustomEvent("render_map_coulums",{});document.dispatchEvent(e)}},computed:{hasNonMappedColumns(){try{let e=!1;if(!this.record.hasOwnProperty("tables")||0==this.record.tables.length||!this.record.tables[0].hasOwnProperty("rows"))return!1;if(this.record.tables[0].rows.length>0){const t=this.record.tables[0].rows[0];return t.columns.forEach((t=>{t.hasOwnProperty("is_mapped")&&!t.is_mapped&&(e=!0)})),e}return!1}catch(e){return logError(e),!1}}},setup(){const e=(0,n.q3)(),{record:t,remove_unmapped_columns:l,has_ai_table:a}=(0,d.bP)(e);return{has_ai_table:a,remove_unmapped_columns:l,record:t}}});var c=l(12807),p=l(56384),h=l(97410),m=l(98582),_=l.n(m);const b=(0,c.A)(u,[["render",i]]),v=b;_()(u,"components",{QBtn:p.A,QTooltip:h.A})},76445:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>at});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-2b9a1dfd"),e=e(),(0,a.jt)(),e),n={class:"mb-4 image_control_panel"},r={class:"row panel-right justify-start"},d={class:"medi-classification col-9 q-mr-auto"},u=s((()=>(0,a.Lk)("img",{width:"24",height:"24",src:"images/save.svg"},null,-1))),c=["src"],p={key:2,class:"col-auto"},h={class:"col-auto"},m={key:0,class:"full-width"},_=["data-group-id"],b={class:"row q-pr-sm"},v={class:"col-12 secondary-c-text text-h6 text-weight-bold"},g=["data-fields-group-name"],f={key:0,class:"full-width v-m-10 height-7"},y=["onClick"],k={class:"q-ml-sm"};function w(e,t,l,s,w,C){const x=(0,a.g2)("DocumentClassification"),L=(0,a.g2)("q-tooltip"),F=(0,a.g2)("q-btn"),E=(0,a.g2)("q-icon"),A=(0,a.g2)("scriptBtn"),S=(0,a.g2)("autoTesting"),D=(0,a.g2)("q-separator"),I=(0,a.g2)("masterDataLookup"),T=(0,a.g2)("dialog-draggable"),O=(0,a.g2)("export-dialog"),M=(0,a.g2)("q-dialog"),R=(0,a.g2)("selection-popup"),P=(0,a.g2)("q-avatar"),q=(0,a.g2)("q-card-section"),V=(0,a.g2)("q-card-actions"),N=(0,a.g2)("q-card"),B=(0,a.g2)("Loader"),$=(0,a.g2)("q-spinner-hourglass"),Q=(0,a.g2)("q-inner-loading"),X=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.isModelReady()?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.Lk)("div",d,[(0,a.bF)(x,{isReadOnly:e.isReadOnly,hide_reclassify_btn:!0},null,8,["isReadOnly"])]),(0,a.bF)(F,{flat:"",class:"pr-6 pl-6 float-right q-ml-auto",onClick:e.saveData},{default:(0,a.k6)((()=>[u,(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("save")),1)])),_:1})])),_:1},8,["onClick"]),"model"!=e.record.classification.method&&"ELECTRONIC_DOCUMENT"==e.record.extraction_method?((0,a.uX)(),(0,a.Wv)(F,{key:0,flat:"",class:"pr-6 pl-6 float-right",onClick:e.downloadFile},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{width:"24",height:"24",src:"images/eDocIcons/"+e.eDocIcon},null,8,c),(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("download_e_document")),1)])),_:1})])),_:1},8,["onClick"])):(0,a.Q3)("",!0),(0,a.Q3)("",!0),!0===e.is_admin&&!e.isReadOnly&&e.DOC_SCRIPT_MODULE?((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(A)])):(0,a.Q3)("",!0),(0,a.Lk)("div",h,[(0,a.bF)(S)])])]),(0,a.bF)(D),(0,a.Lk)("div",{class:(0,o.C4)(["scrolle-y white-inputs",e.renderOpenWindoIcon?"full-height":"right-content-height"]),"data-section":"fields",id:"field_scrolle"},[e.renderComponent?((0,a.uX)(),(0,a.CE)("div",m,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.formLayout,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:`div-${l}`},[t.is_panel_section_group===e.isPanelSection&&t.rows.length>0?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,o.C4)(["full-width q-mb-lg",t.is_stcky_group?" validation-sticky-area":"not-sticky-area"]),"data-group-id":l},[(0,a.Lk)("div",b,[(0,a.Lk)("div",v,[t.title?((0,a.uX)(),(0,a.Wv)(E,{key:0,name:"img:images/card-checklist.svg",class:"cursor-pointer",size:"sm",onClick:t=>e.validateAllSectionFields(l)},{default:(0,a.k6)((()=>[(0,a.bF)(L,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("validate_all_fields")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),(0,a.eW)(" "+(0,o.v_)(e.getLabelForFormBuilder(t,"form_builder.")),1)])]),(0,a.Lk)("div",{class:"full-width","data-fields-group-name":t.name},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.rows,((t,i)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t.name},[t.is_hidden||e.formBuilderConfigModel[t.name].is_hidden||void 0!=t.visibile&&!t.visibile?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",{key:0,class:"display-block field-padding",style:(0,o.Tr)("width:"+t.elementWidth+"%")},[((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.fieldType),{currentField:t,isReadOnly:e.isReadOnly,fieldName:t.name,groupIndex:l,itemIndex:i,onInputClicked:e.htmlElementClick,onInputValueChanges:e.onInputValueChanges,onApplyFuzzySearch:e.masterDataSearchByField,onUpdateModel:e.updateModel},null,40,["currentField","isReadOnly","fieldName","groupIndex","itemIndex","onInputClicked","onInputValueChanges","onApplyFuzzySearch","onUpdateModel"]))],4))],64)))),128))],8,g),t.is_stcky_group?((0,a.uX)(),(0,a.CE)("div",f)):(0,a.Q3)("",!0),t.name==e.charges?((0,a.uX)(),(0,a.CE)("div",{key:1,class:"row link cursor-pointer font-size-14",onClick:l=>e.toggleChargesFieldsVisibility(t,!e.showAllChargesFields)},(0,o.v_)(e.showAllChargesFields?e.$t("show_less"):e.$t("show_more")),9,y)):(0,a.Q3)("",!0)],10,_)):(0,a.Q3)("",!0)],64)))),128))])):(0,a.Q3)("",!0),(0,a.bF)(D,{size:"2px",class:"q-mt-lg q-ma-sm"})],2)],64)):(0,a.Q3)("",!0),(0,a.bF)(T,{modelValue:e.fuzzyDialog,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fuzzyDialog=t),seamless:"","full-width":"",position:"left",persistent:"",onKeydown:(0,i.jR)(e.closeMsDialog,["esc"]),title:e.$t("pages.screen2a.validation"),onOnHide:e.closeMsDialog,isResizeAble:!0,draggable:e.isDraggle},{default:(0,a.k6)((()=>[(0,a.bF)(I)])),_:1},8,["modelValue","onKeydown","title","onOnHide","draggable"]),(0,a.bF)(M,{modelValue:e.display_config_dialog,"onUpdate:modelValue":t[1]||(t[1]=t=>e.display_config_dialog=t),position:"top",class:"export-dialog",persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(O)])),_:1},8,["modelValue"]),(0,a.bF)(M,{modelValue:e.showSelectionPopupDialog,"onUpdate:modelValue":t[2]||(t[2]=t=>e.showSelectionPopupDialog=t),position:"top",persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(R,{data:e.selection_popup_data},null,8,["data"])])),_:1},8,["modelValue"]),(0,a.bF)(M,{modelValue:e.showPoMatchWarning,"onUpdate:modelValue":t[4]||(t[4]=t=>e.showPoMatchWarning=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(N,null,{default:(0,a.k6)((()=>[(0,a.bF)(q,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(P,{icon:"warning",color:"primary"})])),_:1}),(0,a.bF)(q,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",k,(0,o.v_)(e.$t("pages.messages.WARNING_EXPORT_FROM_PO_MATCH")),1)])),_:1}),(0,a.bF)(V,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(F,{flat:"",label:e.$t("cancel"),color:"primary"},null,8,["label"]),[[X]]),(0,a.bo)((0,a.bF)(F,{flat:"",label:e.$t("po_matching"),color:"primary",onClick:t[3]||(t[3]=t=>e.navigateToPOMatch())},null,8,["label"]),[[X]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),e.is_sep_view?((0,a.uX)(),(0,a.Wv)(B,{key:1})):(0,a.Q3)("",!0),(0,a.bF)(Q,{showing:e.script_loading},{default:(0,a.k6)((()=>[(0,a.bF)($,{color:"primary",size:"6em"})])),_:1},8,["showing"])],64)}var C=l(82303),x=l(1659);const L={class:"sub-group-area"},F={class:"row text-primary"},E={class:"col-sm-9 col-md-9 col-lg-9 text-weight-medium"},A={class:"col-sm-3 col-md-3 col-lg-3"},S={class:"full-width"};function D(e,t,l,i,s,n){const r=(0,a.g2)("q-icon");return(0,a.uX)(),(0,a.CE)("div",L,[(0,a.Lk)("div",F,[(0,a.Lk)("div",E," # "+(0,o.v_)(e.currentField.subGroupCount)+" "+(0,o.v_)(e.currentField.label)+" "+(0,o.v_)(e.currentField.indexByType),1),(0,a.Lk)("div",A,[e.currentField.isParent?((0,a.uX)(),(0,a.Wv)(r,{key:0,name:"add_box",class:"float-right cursor-pointer",size:"xs",onClick:t[0]||(t[0]=t=>e.duplicateGroup(e.groupIndex,e.itemIndex))})):((0,a.uX)(),(0,a.Wv)(r,{key:1,name:"remove",class:"float-right cursor-pointer",size:"xs",onClick:t[1]||(t[1]=t=>e.removeSubGroup(e.itemIndex))}))])]),(0,a.Lk)("div",S,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.formLayout[e.groupIndex].rows[e.itemIndex].rows,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:`div-${l}`},[t.is_hidden||e.formBuilderConfigModel[t.name].is_hidden||void 0!=t.visibile&&!t.visibile?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",{key:0,class:"display-block field-padding",style:(0,o.Tr)("width:"+t.elementWidth+"%")},[((0,a.uX)(),(0,a.Wv)((0,a.$y)(t.fieldType),{currentField:t,isReadOnly:e.isReadOnly,fieldName:t.name,groupIndex:e.groupIndex,onInputClicked:e.htmlElementClick,onInputValueChanges:e.onInputValueChanges,onApplyFuzzySearch:e.masterDataSearchByField,onUpdateModel:e.updateModel},null,40,["currentField","isReadOnly","fieldName","groupIndex","onInputClicked","onInputValueChanges","onApplyFuzzySearch","onUpdateModel"]))],4))],64)))),128))])])}var I=l(24622),T=l(18505),O=l(83319),M=l(39231),R=l(18783),P=l(68220),q=l(13912),V=l(37673),N=l(46032),B=l(16028),$=l(42963),Q=l(21529),X=l(52544),W=l(85203),K=l(80747),U=l(76093),j=l(35519),z=l(18509),H=l(34835),G=l(46186),Y=l(55184),J=l(34631),Z=l(12397);const ee=(0,a.pM)({el:"fields_designer",mixins:[T.A,I.A,$.A],emits:["inputClicked","inputValueChanges","updateModel","applyFuzzySearch"],props:{isPanelSection:{type:Boolean,default:!1},fieldName:{type:String,default:""},isReadOnly:{type:Boolean,default:!1},groupIndex:{type:Number,default:0},itemIndex:{type:Number,default:0},currentField:{type:Object,default:new Object}},data(){return{}},components:{Label:R.A,CheckBox:q.A,TextInput:N.A,EnumInput:B.A,ExportButton:V.A,MultiCheckBox:Q.A,LineItemTable:P.A,PoMatchButton:X.A,InvoiceButtons:W.A,RejectDocument:z.A,SaveRulesButton:U.A,TableOfCheckboxes:j.A,AmountButtonsPanel:K.A,HorizontalSeparator:H.A,AutoAccountingButton:Y.A,QRCodeExtractedFields:G.A,ExportWithoutValidation:Z.A,AditionalAmountButtonsPanel:J.A,draggable:M.H},methods:{htmlElementClick(e){this.$emit("inputClicked",e)},onInputValueChanges(e,t){this.$emit("inputValueChanges",e,t)},updateModel(e,t=!1){this.$emit("updateModel",e,t)},masterDataSearchByField(e){this.$emit("applyFuzzySearch",e)},removeSubGroup(e){const t=this.formLayout[this.groupIndex].rows[e],l=new CustomEvent("remove_sub_group_items",{detail:{items:t.rows}});document.dispatchEvent(l),this.formLayout[this.groupIndex].rows.splice(e,1),this.prepareIndexesForSubGroups(this.groupIndex)},duplicateGroup(e,t){this.duplicateSubGroup(e,t),this.prepareLayoutForTemplate()}},setup(){const e=(0,O.uL)(),{formLayout:t,activeFieldName:l,renderComponent:a,formBuilderConfigModel:o}=(0,x.bP)(e),{getElementWidth:i,duplicateSubGroup:s,prepareIndexesForSubGroups:n}=e;return{formLayout:t,activeFieldName:l,renderComponent:a,formBuilderConfigModel:o,getElementWidth:i,duplicateSubGroup:s,prepareIndexesForSubGroups:n}}});var te=l(12807),le=l(50492),ae=l(98582),oe=l.n(ae);const ie=(0,te.A)(ee,[["render",D],["__scopeId","data-v-8b75c7ac"]]),se=ie;oe()(ee,"components",{QIcon:le.A});var ne=l(38734),re=l(46162),de=l(96056),ue=l(89156),ce=l(68450),pe=l(57366),he=l(53500),me=l(41903),_e=l(85192),be=l(36801),ve=l(153),ge=l(11470),fe=l(53665),ye=l(25891),ke=l(39281),we=l(82080),Ce=l(41360),xe=l(3398),Le=l(76956),Fe=l(86124),Ee=l(54126),Ae=l(51145),Se=l(12167),De=l(4225),Ie=l(74368),Te=l(86224),Oe=l(96587),Me=l(85487),Re=l(64775),Pe=l(73937),qe=l(40057),Ve=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ne=document.querySelector.bind(document),Be=(0,a.pM)({el:"#app",mixins:[T.A,de.A,pe.A,Te.A,I.A,ve.A,we.A,ye.A,$.A],props:{renderOpenWindoIcon:{type:Boolean,default:!1},isPanelSection:{type:Boolean,default:!1},page:{type:Number,default:1}},emits:["removeOldMapiingsAndDrawNew","showConnectionFromField","refreshCanvasAfterSelection","setSplitterModel","handleScroll","setApiData","setDocVersion","getImageDetails","enableOrDisableExportButton","checkFieldInvalid"],components:{ExportDialog:Ce.A,autoTesting:fe.A,scriptBtn:Fe.A,Loader:ue.A,Label:R.A,SubGroup:se,CheckBox:q.A,TextInput:N.A,EnumInput:B.A,ExportButton:V.A,UserDropdown:Ee.A,MultiCheckBox:Q.A,LineItemTable:P.A,GroupDropdown:Ae.A,ExtractedTable:Se.A,TableOfCheckboxes:j.A,AmountButtonsPanel:K.A,HorizontalSeparator:H.A,DocumentClassification:Ie.A,AditionalAmountButtonsPanel:J.A,masterDataLookup:xe.A,dialogDraggable:Oe.A,PoMatchButton:X.A,SelectionPopup:ke.A,InvoiceButtons:W.A,RejectDocument:z.A,SaveRulesButton:U.A,AutoAccountingButton:Y.A,QRCodeExtractedFields:G.A,ExportWithoutValidation:Z.A},watch:{config_saved:{handler:function(e,t){!0===t&&!1===e||(this.display_config_dialog=!1)}},populate_row_to_view:{handler:function(e,t){0!=e&&this.populateMSDataFromPopup()}}},data(){return{docId:"",imageWidth:0,imageHeight:0,connectionId:"",charges:Le.P.charges,itemsData:{},conversionFields:[],showPoMatchWarning:(0,ne.KR)(!1),highlightFieldsMode:(0,ne.KR)(!1),origin_warning_alert:{},showAllChargesFields:(0,ne.KR)(!1),showSelectionPopupDialog:!1,selection_popup_data:{},format_warning_dismiss:{},classification_method_icons:{EDI:"images/EDI.svg",FACTURX:"images/FACTURX.svg",XRECHNUNG:"images/XRECHNUNG.svg",PEPPOL:"images/PEPPOL.svg"},amount_fields_confidence_count:0,debounceScriptCalculateFunc:{},doc_script_module_setting:Le.$B,excluded_field_types:["Label","ExportButton","HorizontalSeparator"]}},mounted:function(){this.initDefaultValues(),this.docId=this.$route.params.id,this.is_admin=(0,Pe.N6)(),this.isViewSeparateComponent(),this.init(),window.FieldsView=this;const e=Ne("#validation_view");e&&e.addEventListener("keydown",this.keydownEventWrapper),document.addEventListener("script_calculate_func",this.scriptCalculateFuncWrapper),document.addEventListener("model_updated",this.updateModelAttribute),document.addEventListener("reload_tables",this.reloadTable),document.addEventListener("move_to_next_field",this.moveToNextFieldEvent),window.addEventListener("resize",this.windowResize),document.body.addEventListener("click",this.mouseClicked,!0),document.addEventListener("selection_popup_closed",this.selectionPopupClosed),document.addEventListener("selection_popup_selected",this.selectionPopupSelected),document.addEventListener("display_fields_errors",this.displayFieldErrors),document.addEventListener("element_click",this.elementClick),document.addEventListener("splitter_changed",this.windowResize),document.addEventListener("trigger_export",this.triggerExportEvent),document.addEventListener("prepare_model",this.prepareModelListner),document.addEventListener("remove_sub_group_items",this.removeSubGroupItems)},unmounted:function(){const e=Ne("#validation_view");e&&e.removeEventListener("keydown",this.keydownEventWrapper),document.removeEventListener("script_calculate_func",this.scriptCalculateFuncWrapper),document.removeEventListener("selection_popup_selected",this.selectionPopupSelected),document.removeEventListener("selection_popup_closed",this.selectionPopupClosed),document.removeEventListener("model_updated",this.updateModelAttribute),document.removeEventListener("reload_tables",this.reloadTable),document.body.removeEventListener("click",this.mouseClicked,!0),document.removeEventListener("display_fields_errors",this.displayFieldErrors),document.removeEventListener("element_click",this.elementClick),document.removeEventListener("splitter_changed",this.windowResize),document.removeEventListener("trigger_export",this.triggerExportEvent),document.removeEventListener("prepare_model",this.prepareModelListner),document.removeEventListener("remove_sub_group_items",this.removeSubGroupItems)},methods:{assignColorToFields(){let e=0;this.fieldColors.forEach(((t,l)=>{const a=e%this.info_panel_chip_colors.length;this.fieldColors.set(l,this.info_panel_chip_colors[a]),e++}))},downloadFile(){logInfo("downloadFile",this.record);try{let e=re.VA+"/"+this.record["doc_path"]+"?"+this.tokenQueryParam;if(!e)return;fetch(e).then((e=>e.blob())).then((e=>{const t=URL.createObjectURL(e),l=document.createElement("a");l.href=t,l.download=this.record["filename"],document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(t)})).catch((e=>{logError("Error downloading file:",e)}))}catch(e){logError(e)}},initDefaultValues(){this.isFormBuilderMode=!1,this.formBuilderModel={},this.formBuilderConfigModel={},this.lookup_loading_fields={},this.freeze_fields_change_event=!1},reloadTable(){this.renderKey++},init(){return Ve(this,void 0,void 0,(function*(){if(this.is_sep_view&&this.get_cached_data_id===this.docId&&(yield this.setRecordFromCache()),Le.B2.includes(this.record.status)&&(this.isReadOnly=!0),yield this.getLayoutTemplateID(),yield this.getFormBuilderLayout(),yield this.populateListsAndValues(),!this.isModelReady())return this.showErrorToast("Document does not have layout. Please contact administrator"),void this.hideLoading();"INVOICE"==this.record.doc_type&&(this.setConversionFields(),this.fieldCaluclations()),this.record.apply_script_triggered_on_field="",this.createAutoTriggerDebounceFunc(),this.renderComponent=!0,this.$emit("getImageDetails"),this.setLineItemDetails(),this.createScriptCalculateDebounceFunc(),this.$nextTick((function(){this.viewLoadCompleted()})),this.assignColorToFields(),this.DOC_SCRIPT_MODULE=(0,be.PL)(this.doc_script_module_setting),"model"!=this.record.classification.method&&"ELECTRONIC_DOCUMENT"==this.record.extraction_method&&this.selectEDocIcon()}))},createScriptCalculateDebounceFunc(){this.debounceScriptCalculateFunc=(0,he.A)((()=>{logInfo("debounceScriptCalculateFunc called"),this.applyScript()}),3e3)},updateScriptRequest(){this.debounceScriptCalculateFunc&&"function"==typeof this.debounceScriptCalculateFunc.cancel&&(this.updateRequestId(),this.debounceScriptCalculateFunc.cancel())},createNewScriptRequest(){this.updateScriptRequest(),this.createScriptCalculateDebounceFunc(),logInfo("debounceScriptCalculateFunc canceled and created new one"),this.debounceScriptCalculateFunc()},viewLoadCompleted(){const e=Ne(".validation-sticky-area"),t=Ne(".not-sticky-area");e&&t&&(t.style.paddingTop=e.clientHeight+20+"px"),this.focusFirstFieldOnGroup();const l=Ne("#field_scrolle");l&&l.addEventListener("scroll",this.handleScroll)},prepareMediTable(e){if(this.formBuilderConfigModel[e.name]=Object.assign({},e),!this.record.tables||!this.record.tables[0]){this.record.tables=[];let t={name:e.name,rows:[]};return void(this.formBuilderModel[e.name]=Object.assign({},t))}let t={};this.record.tables.forEach((l=>{(l.name=e.name)&&(t=Object.assign({},l))})),this.formBuilderModel[e.name]=Object.assign({},t)},prepareMultiCheckBox(e,t,l){if(this.formBuilderConfigModel[e.name]=Object.assign({},e),!t)return this.formBuilderModel[l]=[],this.formBuilderModel[l].page="",this.formBuilderModel[l].color="",this.formBuilderModel[l].score="",this.formBuilderModel[l].value="",this.formBuilderModel[l].coords=[],this.formBuilderModel[l].groupList=[],this.formBuilderModel[l].confidence="",void(this.formBuilderModel[l].formatted_value="");t.highlight_field&&(t.highlight_field=!1,this.addFieldToHighlight(l)),this.formBuilderModel[l]=Object.assign({},t)},prepareCheckboxesTable(e,t,l){e.tableBodyRows.forEach(((e,a)=>{e.forEach(((e,a)=>{let o=e.name;l.hasOwnProperty(o)&&Object.assign(e,this.cleanLayoutSettings(l[o])),this.prepareModel(e,t[o],o)}))}))},prepareSubGroup(e,t,l){if(0==e.rows.length)return;const a=e.rows;for(let o of a){let e=o.name?o.name:o.field_name;l.hasOwnProperty(e)&&Object.assign(o,this.cleanLayoutSettings(l[e])),this.prepareModel(o,t[e],e)}},makeModel(){let e=null;return this.fieldListToHighlight=[],this.formLayout=JSON.parse(JSON.stringify(this.formLayoutOrignal)),new Promise(((t,l)=>{let a={};if(void 0!==this.record){this.record.fields.forEach(((e,t)=>{a[e.name]=e,this.fieldsNotDisplayed[e.name]=e}));let t=this.getUpdatedFieldSettings(),l="";for(const[o,i]of this.formLayout.entries()){i.short_cut_key_2&&(l=i.short_cut_key_1+i.short_cut_key_2,this.groupShortCutMap.set(l,o));for(let[l,s]of i.rows.entries()){let i=s.name?s.name:s.field_name;if(s.fieldType!==De.VV.TABLE_OF_CHECKBOXES)if(s.fieldType!==De.VV.EXTRACTED_TABLE)if(s.fieldType!==De.VV.MULTI_CHECK_BOX){if(s.fieldType!==De.VV.SUB_GROUP)t.hasOwnProperty(i)&&(s=Object.assign(s,this.cleanLayoutSettings(t[i]))),this.prepareModel(s,a[i],i);else if(e=o,this.prepareSubGroup(s,a,i),s.isParent){if(!s.rows||0==s.rows.length)continue;let e=s.rows[0].name?s.rows[0].name:s.rows[0].field_name;this.prepareChildSubGroups(o,l,e)}}else this.prepareMultiCheckBox(s,a[i],i);else this.prepareMediTable(s);else this.prepareCheckboxesTable(s,a,t)}i.name===Le.P.charges&&this.handleChargesFieldsVisibility(i)}Object.keys(this.fieldsNotDisplayed).length>=0&&this.record.fields.forEach(((e,t)=>{this.fieldsNotDisplayed.hasOwnProperty(e.name)&&(this.record.fields[t].is_valid=!0,delete this.fieldsNotDisplayed[e.name])})),this.prepareLayoutForTemplate(),this.setCalculatorFieldsColor(),this.handleConfidenceAlert(),this.setupLookup(),e&&this.prepareIndexesForSubGroups(e),this.$forceUpdate()}this.prepareLayoutData(),t("done"),this.highlightFieldsMode&&setTimeout((()=>{this.highlightFields()}),500)}))},addColorsToMap(e){if(e.calculation_formula||e.calculator_formula){const t=e.calculation_formula?e.calculation_formula:e.calculator_formula,l=t.split(" ");let a="";for(let e=0;e<l.length;e+=1)a=l[e].trim(),l[e].startsWith("[")&&(a=a.replace("[",""),a=a.replace("]",""),this.fieldColors.set(a,""))}},setCalculatorFieldsColor(){Object.keys(this.formBuilderModel).forEach((e=>{this.addColorsToMap(this.formBuilderConfigModel[e])}))},prepareModel(e,t,l){t?this.setColor(t,e):t=this.createEmptyField(l,e.input_type);let a=e.input_type?e.input_type:e.fieldType;a&&("INVOICE"==this.record.doc_type&&this.countAmountFieldsConfidence(t),this.cleanCheckboxValue(t,a.toLowerCase()),e.hasOwnProperty("tabIndex")&&!(0,ce.z)(e.tabIndex)||(e.tabIndex=0),t.highlight_field&&(t.highlight_field=!1,this.addFieldToHighlight(l)),this.formBuilderModel[l]=[],this.formBuilderConfigModel[l]=[],this.formBuilderModel[l]=Object.assign({},t),this.formBuilderConfigModel[l]=Object.assign({},e),this.addColorsToMap(e),t.hasOwnProperty("is_required")&&(this.formBuilderConfigModel[l].is_required=t.is_required),t.hasOwnProperty("is_hidden")&&(this.formBuilderConfigModel[l].is_hidden=t.is_hidden),t.hasOwnProperty("force_validation")&&(this.formBuilderConfigModel[l].force_validation=t.force_validation,1==t.force_validation&&(this.formBuilderModel[l].validation_code="FORCED_VALIDATION",this.formBuilderModel[l].validation_message="Validation required")),this.setTabIndexInList(e),this.handleListofValues(l),this.broadcastFieldChange(l),this.setFieldError(l),!1===e.is_hidden&&this.fieldsNotDisplayed.hasOwnProperty(l)&&delete this.fieldsNotDisplayed[l])},prepareModelListner(e){this.prepareModel(e.detail.fieldDef,null,e.detail.field_name)},removeSubGroupItems(e){if(!e.detail.items)return;const t=e.detail.items;this.record.fields=this.record.fields.filter((e=>!t.some((t=>e.name===t.field_name))))},prepareChildSubGroups(e,t,l){let a=this.findSubGroupChildFields(l);if(!a||0!=Object.keys(a).length)for(let o of a)this.duplicateSubGroup(e,t,o.name)},setupLookup(){try{if(this.lookup_configurations=new Map,!this.record.hasOwnProperty("layout")||!this.record.layout.hasOwnProperty("lookup_configurations"))return;if(!this.record.layout.lookup_configurations)return;for(const[e,t]of this.record.layout.lookup_configurations.entries())if(t.hasOwnProperty("fields")&&Array.isArray(t.fields))for(const[l,a]of t.fields.entries())a.is_searchable&&this.lookup_configurations.set(a.field_name,Object.assign(JSON.parse(JSON.stringify(a)),{lookup_dataset_name:t.lookup_dataset_name,request_fields:t.request_fields,fields:JSON.parse(JSON.stringify(t.fields))}));this.check_for_auto_trigger()}catch(e){logError(e)}},handleListofValues(e){this.formBuilderConfigModel[e].hasOwnProperty("list_of_values")&&this.addNameToLovList(this.formBuilderConfigModel[e].list_of_values)},addFieldToHighlight(e){this.fieldListToHighlight.push(e)},highlightFields(){var e;this.highlightFieldsMode=!1;for(const t of this.fieldListToHighlight){let l=Ne("#"+t);(null===(e=l.parentElement)||void 0===e?void 0:e.classList.contains("q-td"))&&(l=l.parentElement),l&&(l.classList.add("light-yellow-with-effect"),setTimeout((()=>{l.classList.remove("light-yellow-with-effect")}),4e3))}},getUpdatedFieldSettings(){let e={},t=JSON.parse(JSON.stringify(this.record.layout.groups));return t.forEach(((t,l)=>{t.rows.forEach(((t,l)=>{t.forEach(((t,l)=>{let a=t.field_name;e[a]=t}))}))})),e},cleanLayoutSettings(e){return delete e.name,delete e.field,delete e.field_name,delete e.field_type,delete e.title,delete e.translation_key,e},setTabIndexInList(e){if(this.excluded_field_types.includes(e.fieldType)||1==e.is_readonly||1==e.is_hidden||1==e.isDisabled)return;let t=e.field_name||e.name;const l=Number(e.tabIndex);this.fields_tabindex_mapping.hasOwnProperty(l)||(this.fields_tabindex_mapping[l]=[]),this.fields_tabindex_mapping[l].push(t)},cleanCheckboxValue(e,t){"checkbox"!=t&&"CheckBox"!=e.fieldType||("true"==e.formatted_value||1==e.formatted_value||"Y"==e.formatted_value?e.formatted_value=!0:e.formatted_value=!1)},setFieldError(e){if(!this.formBuilderModel.hasOwnProperty(e))return;const t=this.formBuilderModel[e];if(t.hasOwnProperty("is_valid")&&1==t.is_valid)return;let l="";t.hasOwnProperty("validation_code")&&t.validation_code&&""!==t.validation_code&&(l=t.validation_code),t.hasOwnProperty("validation_message")&&t.validation_message&&""!==t.validation_message&&(l=t.validation_message),this.setFieldInputError(e,l)},setColor(e,t){t.color="",e.hasOwnProperty("is_valid")&&("MD"==e.extraction_method?t.color="extraction_method-border-left":e.is_valid?t.color=Le.aH.success_border_left:t.color="error-border-left")},setConversionFields(){this.conversionFields=this.getConversionFields()},getField(e){let t={};if(void 0!==this.record)for(const l in this.record.fields){let a=this.record.fields[l];if(a.name==e){t=a;break}}return t},createEmptyField(e,t){let l="checkbox"!=t&&"";return{confidence:0,name:e,field_name:e,value:l,formatted_value:l,content:l}},saveMediImageFields(){let e={};if(me.A.has("table_data")&&null!=me.A.getItem("table_data")&&""!=me.A.getItem("table_data")){let t=me.A.getItem("table_data");e=JSON.parse(t)}else e={columns:[],table_areas:[]}},prepareTableJson(){Object.keys(this.formBuilderModel).forEach((e=>{this.formBuilderConfigModel[e].fieldType===De.VV.EXTRACTED_TABLE?(this.record["tables"]=[],this.record.tables.push(Object.assign({},this.formBuilderModel[e]))):this.formBuilderConfigModel[e].fieldType===De.VV.MULTI_CHECK_BOX&&(this.record.fields.push(Object.assign({},this.formBuilderModel[e])),this.record.fields[this.record.fields.length-1].name=e)}))},downloadXML(){logInfo("RECORD",this.record)},saveData(){return Ve(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.debounceScriptCalculateFunc.cancel(),this.prepareTableJson(),this.saveMediImageFields(),this.showLoading(),this.cleanupTableData(this.record);const e=yield this.saveDocument(this.docId);if(!1===e.success)return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.showErrorToast(e.message);this.setDataToCache(),yield this.makeModel(),this.setFieldErrors(!0);const t=new CustomEvent("prepare_rows",{});document.dispatchEvent(t),this.triggerOnSave(),this.refreshCanvas(),this.$forceUpdate(),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"));let l=new FormData,a=yield(0,re.L3)();l.append("doc_id",this.record.doc_id),l.append("org_id",(0,Me.I)()),l.append("action_type","UPDATED"),l.append("current_status",this.record.status),l.append("previous_status",this.record.status),l.append("action_description","Modified the document and saved it."),yield C.A.post(re.FH.update_document_log+this.record.doc_id,l,{headers:{Authorization:a}})}catch(e){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e)}finally{this.hideLoading()}}))},exportData(){return Ve(this,void 0,void 0,(function*(){if(!this.isReadOnly)try{const e=yield this.confirmExportConfiguration();if(!e)return void(this.display_config_dialog=!0);yield this.callExportApi()}catch(e){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e)}}))},confirmExportConfiguration(){return Ve(this,void 0,void 0,(function*(){let e,t=new FormData;t.append("doc_type",this.record.doc_type);const l=yield ge.M8.export_configuration_existence(t);return e=l.valid,e}))},validateRequiredFieldRules(){let e=!0;return this.record.hasOwnProperty("required_field_pairs")&&Array.isArray(this.record.required_field_pairs)&&0!=this.record.required_field_pairs.length?(Array.from(this.record.required_field_pairs).forEach((t=>{let l=!1;for(let e of t)this.formBuilderModel[e].formatted_value&&(l=!0);if(!l){e=!1;const l=this.getRequirdFieldsErrorMessage(t);for(let e of t)this.setFieldInputError(e,l)}})),e):e},getRequirdFieldsErrorMessage(e){const t=[];for(let a of e)t.push(this.getLabelForFormBuilder(this.formBuilderConfigModel[a],"form_builder."));let l=this.$t("atleast_fill_one_field");return l=l.replace("#",t.join(", ")),l},callExportApi(){return Ve(this,void 0,void 0,(function*(){let e;try{if(yield this.validateExportData())return;yield this.saveAndValidate();let t=JSON.parse(JSON.stringify(this.record));this.cleanupTableData(t),this.showLoading(),t.hasOwnProperty("table_data_copy")&&delete t["table_data_copy"];let l=new FormData;if(l.append("data",JSON.stringify(t)),e=yield ge.M8.validate_and_export(this.docId,l),!0===e.success)return yield this.dashboardFiltersAfterExport(),void this.routeToDashboard();this.showErrorToast(e.message),e.hasOwnProperty("data")&&(this.record=e.data,this.record.hasOwnProperty("doc_id")&&!this.record.hasOwnProperty("layout")&&(this.record.layout=t.layout),this.setDocDataVariables(),yield this.handleExportError())}catch(t){const e=Re.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.hideLoading()}}))},cleanupTableData(e){if(!(e.tables&&e.tables.length>0&&e.tables[0].hasOwnProperty("rows")&&e.tables[0].rows.length>0))return;let t=new Map;Array.from(e.tables[0].rows).forEach((e=>{Array.from(e.columns).forEach((e=>{e.isExtraColumn&&(t.has(e.name)?!1===t.get(e.name)&&e.formatted_value&&t.set(e.name,!0):e.formatted_value?t.set(e.name,!0):t.set(e.name,!1))}))})),Array.from(e.tables[0].rows).forEach((e=>{e.columns=e.columns.filter((e=>!(t.has(e.name)&&!1===t.get(e.name))))}))},handleQuotes(){return Ve(this,void 0,void 0,(function*(){const e=yield this.saveDocument(this.docId);!1!==e.success?this.$router.push("/quote-details/"+this.record.doc_id):this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}))},handlePoMatch(){return Ve(this,void 0,void 0,(function*(){(yield this.isPoSettingActivate(this.doctype))&&(this.showPoMatchWarning=!1,this.navigateToPOMatch())}))},handleCOA(){return Ve(this,void 0,void 0,(function*(){if(this.isReadOnly)return void this.$router.push("/certificate-of-analysis/"+this.record.doc_id);let e=!0;if(this.record.fields.forEach((t=>{("supplier_id"!=t.name||t.content||t.value)&&("supplier_name"!=t.name||t.content||t.value)&&("customer_product_code"!=t.name||t.content||t.value)||(e=!1)})),!e)return void this.showErrorToast(this.$t("please_check_some_values_are_missing"));if(null===this.tb_version)return;if(!this.hasTable())return void this.showErrorToast(this.$t("table_not_found"));let t=this.showProcessMessage(this.$t("saving_data"));const l=yield this.saveAndValidate();if(t(),!1===l.success){const e=new CustomEvent("display_fields_errors",{});return document.dispatchEvent(e),void this.showErrorToast(l.message)}this.$router.push("/certificate-of-analysis/"+this.record.doc_id)}))},navigateToPOMatch(){return Ve(this,void 0,void 0,(function*(){const e=yield this.saveAndValidate();if(!1===e.success){const t=new CustomEvent("display_fields_errors",{});return document.dispatchEvent(t),void this.showErrorToast(e.message)}this.$router.push("/po-matching-v3/"+this.record.doc_id)}))},setLineItemDetails(){let e="";"XML_INVOICE"!=this.record.doc_type&&(e=(0,be.PL)("TBL_EXT_VERSION")),this.record.tables&&0!=this.record.tables.length&&!(0,ce.dd)(this.record.tables)?this.record.tables[0].hasOwnProperty("version")&&"v3"==this.record.tables[0].version&&(this.tb_version="v3"):void 0!==e&&""!=e&&"Version3"==e&&(this.tb_version="v3")},routeToDashboard(){this.$router.push("/dashboard")},displayFieldErrors(){this.handleExportError()},validateExportData(e=!0){return Ve(this,void 0,void 0,(function*(){this.handleScroll(),this.updateFieldErrors();const t=this.setFieldErrors(!0),l=yield this.checkValidationError(),a=!this.validateRequiredFieldRules();return e&&(t||l||a)&&this.focusFirstErrorField(),t||l||a}))},handleExportError(){return Ve(this,void 0,void 0,(function*(){this.setDataToCache(),yield this.makeModel(),this.refreshCanvas();const e=this.setFieldErrors(!1);e&&this.focusFirstErrorField()}))},updateFieldErrors(){for(const[e,t]of Object.entries(this.formBuilderModel))this.formBuilderConfigModel[e].is_required&&t.formatted_value&&"REQUIRED"===t.validation_code&&(t.validation_code="")},setFieldInputError(e,t){this.formBuilderModel[e].input_error=t},setFieldErrors(e){let t=!1;for(const[l,a]of Object.entries(this.formBuilderModel)){if(this.setFieldInputError(l,""),this.formBuilderConfigModel[l].is_required&&!a.formatted_value){t=!0,this.setFieldInputError(l,this.$t("field_required"));continue}if(a.is_valid)continue;if(!a.validation_code||e&&Le.Cx.includes(a.validation_code))continue;let o=this.formBuilderModel[l].validation_message;o||(o=this.$t("pages.api_user_messages."+a.validation_code)),t=!0,this.setFieldInputError(l,o)}return t},focusFirstErrorField(){let e="";for(const[t,l]of Object.entries(this.formBuilderModel))if(l.input_error){e=t;break}this.focusOnField(e)},checkValidationError(){return Ve(this,void 0,void 0,(function*(){let e=!1;for(const[t,l]of Object.entries(this.formBuilderModel)){if("TextInput"!==this.formBuilderConfigModel[t].fieldType)continue;let a=l.formatted_value;if(!a||""==a)continue;const o=this.formBuilderConfigModel[t];let i=!0,s="";({is_valid:i,input_error:s}=yield qe.m.init(l,o)),i||(this.formBuilderModel[t].formatted_value="",this.setFieldInputError(t,s),e=!0)}return e}))},isModelReady(){return 0!==(0,ce.Ns)(this.formBuilderModel)},getLowerConfidence(e){if(e.confidence&&e.score){let t=e.confidence<1?(100*e.confidence.toFixed(2)).toFixed(0):e.confidence.toFixed(2),l=e.score<=1?(100*e.score.toFixed(2)).toFixed(0):e.score.toFixed(2);return t=Number(t),l=Math.floor(Number(l)),t<l?t:l}return e.confidence?e.confidence<1?(100*e.confidence.toFixed(2)).toFixed(0):e.confidence.toFixed(2):null},openComponentInSeparateWindow(){this.setDataToCache();let e=this.$router.resolve({path:"/simple_fields_comp/"+this.docId});window.open(e.href,"_blank","toolbar=yes,scrollbars=yes,resizable=yes,left=500,width=1500,height=1000")},isViewSeparateComponent(){this.$route.fullPath.match(/simple_fields_comp/g)&&(this.is_sep_view=!0)},updateModelAttribute(e){e.detail&&e.detail.field_name&&this.updateImportJson(e.detail.field_name)},createAutoTriggerDebounceFunc(){this.debounceLookupAutoTriggerFunc=(0,he.A)((()=>{logInfo("createAutoTriggerDebounceFunc called"),null!=this.trigger_lookup_flow&&""!=this.trigger_lookup_flow&&this.preparing_group_change_call()}),3e3)},inputValueChanges(e){this.updateLocalModel(e),this.updateImportJson(e),this.handleScriptCalculatedFields(e),this.fieldCaluclations(),this.broadcastFieldChange(e)},handleLookupAutoTrigger(e){if((0,ce.z)(e)||(0,ce.jw)(e))return;let t=this.get_lookup_type_for_changed_field(e);1==t&&(this.get_groups_to_change(),this.updateLookupFieldsStatusInGroups(),this.debounceLookupAutoTriggerFunc())},fieldIsAutoTrigger(e){const t=this.fields_with_autotrigger.some((t=>t.field_name===e));return t},triggerScriptChangedFields(e=[]){if(this.changed_fields=[],this.groups_to_update=[],0==e.length){if(0==this.trigger_fields.length)return;e=this.trigger_fields}e.forEach((e=>{const t=e.name?e.name:e.field_name,l=this.fields_with_autotrigger.find((e=>e.field_name==t));l&&(this.changed_fields.push(l),this.trigger_lookup_flow=l.group.lookup_dataset_name),this.changed_fields.forEach((e=>{this.groups_to_update.push({group:e.group,field_name:e.field_name,lookup_field:e.lookup_field})})),this.updateLookupFieldsStatusInGroups(),this.debounceLookupAutoTriggerFunc()}))},triggerOnSave(){this.changed_fields=[],this.groups_to_update=[];for(const e of this.fields_with_autotrigger)if(this.checkifFieldChangedForTrigger(e.field_name))this.changed_fields.push(e),this.trigger_lookup_flow=e.group.lookup_dataset_name;else{let t=this.fields_with_autotrigger.indexOf(e);this.fields_with_autotrigger.splice(t,t)}this.get_groups_to_change(),this.updateLookupFieldsStatusInGroups(),this.debounceLookupAutoTriggerFunc()},get_field_lookup_name(e){for(let t in this.record.layout.lookup_configurations)for(let l in this.record.layout.lookup_configurations[t].fields)if(this.record.layout.lookup_configurations[t].fields[l].field_name==e){let e=this.record.layout.lookup_configurations[t].fields[l].lookup_field;return e}return e},updateLocalModel(e){const t=this.formBuilderModel[e];this.formBuilderModel[e].value=t.value?t.value:t.formatted_value},broadcastFieldChange(e){const t=new CustomEvent("field_value_updated",{detail:{field_name:e}});document.dispatchEvent(t)},masterDataSearchByField(e){try{const t=e.name,l=this.lookup_configurations.get(t);if(!l)return void logError("field vardef is missing for master lookup",t);const a=(0,_e.A)(),o=Object.values(this.ms_advance_filters).find((t=>t.field_name===e.name));if(!o&&(this.ms_advance_filters[a]={fuzzy_field:l.lookup_field.toLowerCase(),search_text:this.formBuilderModel[t].formatted_value,field_name:t,primary:!0},this.master_lookup_type=l.lookup_dataset_name,this.ms_view_model=this.formBuilderConfigModel,this.master_data_fields_map=new Map,this.master_data_fields_map.set(this.master_lookup_type,l),this.master_data_popup_width=this.calculateWidthForMSPopuup(),l.parent_field_id&&""!=l.parent_field_id)){let e=null;for(const[t,a]of l.fields.entries())if(l.parent_field_id==a.field_id){e=a;break}if(e){const t=(0,_e.A)();this.ms_advance_filters[t]={fuzzy_field:e.lookup_field.toLowerCase(),search_text:this.formBuilderModel[e.field_name].formatted_value,field_name:e.field_name,primary:!1}}}this.fuzzyDialog=!0}catch(t){logInfo(t)}},closeMsDialog(){this.fuzzyDialog=!1,this.ms_advance_filters={}},calculateWidthForMSPopuup(){let e="700";const t=document.querySelector(".field_validation");if(!t)return e;const l=document.querySelector("#field_scrolle");if(!l)return e;const a=l.offsetWidth;return a<=0?e:String(a)},windowResize(){this.fuzzyDialog&&(this.master_data_popup_width=this.calculateWidthForMSPopuup())},handleSingleSelection(e){let t=["stuck_checkbox","paar_checkbox","hose_checkbox"];t.includes(e)&&t.forEach(((t,l)=>{t!==e&&(this.formBuilderModel[t].formatted_value=!1,this.formBuilderModel[t].value=!1)}))},showConnectionFromField(e){De.iS.includes(this.formBuilderConfigModel[e].fieldType)&&(this.connectionId=e,this.$emit("showConnectionFromField",e))},exportWithSonderWunsch(){this.record["export_parameters"]={doc_export_status:"export_with_sonderwunsche",validate:!1},this.exportData()},clickExport(){this.record["export_parameters"]={doc_export_status:"export"},this.exportData()},elementClick(e){this.htmlElementClick(e.detail)},htmlElementClick(e){if(this.formBuilderConfigModel[e].fieldType===De.VV.EXPORT_BUTTON)return void this.handleButtons(e);const t=Ne("#"+e);t&&t.closest(".validation-sticky-area")?this.handleScroll():this.showConnectionFromField(e)},handleButtons(e){this.formBuilderConfigModel[e].exportType!=Le.aH.reject?this.formBuilderConfigModel[e].exportType!=Le.aH.save?this.formBuilderConfigModel[e].exportType!=Le.aH.po_match?this.formBuilderConfigModel[e].exportType!=Le.aH.coa?this.formBuilderConfigModel[e].exportType!=Le.aH.save_rules?this.formBuilderConfigModel[e].exportType!=Le.aH.quotes_detail?(this.record["export_parameters"]={doc_export_status:this.formBuilderConfigModel[e].exportType},this.exportData()):this.handleQuotes():logInfo("save rules"):this.handleCOA():this.handlePoMatch():this.saveData():this.rejectDocument()},poMatchButtonClicked(){this.tb_version},updateFieldInFormBuilder(e,t){let l=e.querySelector("."+this.connectionId+"_input");if(!l)return;const a=new CustomEvent("update_field_value",{detail:{input_class:this.connectionId+"_input",val:t.formatted_value}});l.dispatchEvent(a)},updateFieldData(e){let t=Ne("#"+this.connectionId);if(t.setAttribute("pageno",this.page.toString()),"INVOICE"==this.record.doc_type&&e.extracted_value&&0!==Object.keys(e.extracted_value).length)return void this.openSelectionPopup(JSON.parse(JSON.stringify(e)));t&&this.updateFieldInFormBuilder(t,e);const l=this.getInputType(t);this.formBuilderModel[this.connectionId].value=e.value,this.formBuilderModel[this.connectionId].formatted_value=e.formatted_value,this.formBuilderModel[this.connectionId].content=e.text,this.formBuilderModel[this.connectionId].api_save=!0,this.formBuilderModel[this.connectionId].score_description="",this.formBuilderModel[this.connectionId].coords=e.coords,e&&!0===e.multi_line?this.formBuilderModel[this.connectionId].multi_line=!0:this.formBuilderModel[this.connectionId].multi_line=!1,"checkbox"===l&&(this.formBuilderModel[this.connectionId].value=!1,this.formBuilderModel[this.connectionId].formatted_value=!1,this.formBuilderModel[this.connectionId].content=!1,e.formatted_value&&"x"===e.formatted_value.toLowerCase()&&(this.handleSingleSelection(this.connectionId),this.formBuilderModel[this.connectionId].value=!0,this.formBuilderModel[this.connectionId].content=!0,this.formBuilderModel[this.connectionId].formatted_value=!0)),this.valueChangesOnRedraw(this.connectionId,e.coords,this.page),this.$emit("enableOrDisableExportButton"),this.$forceUpdate()},valueChangesOnRedraw(e,t,l){let a=["stuck_checkbox","paar_checkbox","hose_checkbox"],o=[];a.includes(e)?o=a:o.push(e),t&&l?(this.prepareImportJson(o,t,l,"AI"),logInfo("valueChangesOnRedraw",o)):this.prepareImportJson(o),this.$emit("removeOldMapiingsAndDrawNew",e),this.$forceUpdate()},prepareImportJson(e,t,l,a){e.forEach((e=>{this.updateImportJson(e,t,l,a)}))},updateImportJson(e,t,l,a=""){let o=!1;if(this.record.fields.forEach(((i,s)=>Ve(this,void 0,void 0,(function*(){if(i.name===e){o=!0,i.hasOwnProperty("original")||(i["original"]=Object.assign({},i)),i.hasOwnProperty("original_value")||(i["original_value"]=i.value),(t||null===t)&&(i.coords=t),l&&(i.page=l),a&&(i.extraction_method=a),i.is_valid=!0,i.is_validated=!0;let s=this.formBuilderModel[e];return i.formatted_value=s.formatted_value,i.value=s.value?s.value:s.formatted_value,i.content=s.content,s.input_error&&(i.is_valid=!1,i.is_validated=!1),this.formBuilderConfigModel[e].parent_field_name&&(i.parent_field_name=this.formBuilderConfigModel[e].parent_field_name),s.hasOwnProperty("api_save")&&s.api_save||(i.value=s.formatted_value),""==i.value||s.hasOwnProperty("api_save")&&s.api_save||!this.conversionFields.includes(s.name)||"en_US"==this.amount_format_locale||(i.value=yield this.convertValueAccordingToLocale(i.value,this.amount_format_locale,"en_US"),i.float_value=+i.value),i.color=Le.aH.success_border_left,"MD"==i.extraction_method&&(i.color="extraction_method-border-left"),!i.is_required||""!=i.formatted_value&&null!=i.formatted_value||(i.color="error-border-left"),((0,ce.z)(i.formatted_value)||(0,ce.jw)(i.formatted_value))&&(i.content=i.formatted_value),this.formBuilderModel[this.connectionId]&&this.formBuilderModel[this.connectionId].hasOwnProperty("multi_line")&&!0===this.formBuilderModel[this.connectionId].multi_line?i.multi_line=!0:i.multi_line=!1,this.formBuilderModel[e].is_valid=i.is_valid,this.formBuilderModel[e].is_validated=i.is_validated,void this.$emit("checkFieldInvalid",i)}})))),!o){this.record.fields.push({});const o=this.record.fields.length-1;this.record.fields[o].name=e,this.record.fields[o].content=this.formBuilderModel[e].content,this.record.fields[o].formatted_value=this.formBuilderModel[e].formatted_value,this.record.fields[o].value=this.formBuilderModel[e].value,this.record.fields[o].original_value="",this.record.fields[o].validation_code="",this.record.fields[o].extraction_method=a,this.record.fields[o].is_validated=!0,this.record.fields[o].is_valid=!0,this.record.fields[o].color=Le.aH.success_border_left,!0===this.formBuilderModel[this.connectionId].multi_line?this.record.fields[o].multi_line=!0:this.record.fields[o].multi_line=!1,this.formBuilderConfigModel[e].parent_field_name&&(this.record.fields[o].parent_field_name=this.formBuilderConfigModel[e].parent_field_name),t&&(this.record.fields[o].coords=t),l&&(this.record.fields[o].page=l),this.$emit("checkFieldInvalid",this.record.fields[o])}},initTempFieldDelete(){this.record.fields.forEach(((e,t)=>{if(e.name===this.connectionId){const e={color:null,coords:null,confidence:0,validation_code:null,value:"",formatted_value:"",content:"",page:null};this.formBuilderModel[this.connectionId]=Object.assign(this.formBuilderModel[this.connectionId],e),this.record.fields[t]=Object.assign(this.record.fields[t],e)}})),this.fieldCaluclations(),this.handleLookupFieldStatus(this.connectionId,!1,!0),this.saveOneFieldStateForAutotrigger(this.record,this.connectionId);let e=Ne("#"+this.connectionId);e&&e.setAttribute("pageno","")},handleScroll(){this.$emit("handleScroll")},getInputType(e){return e.getAttribute("child_type")},onInputValueChanges(e,t){if(!this.freeze_fields_change_event)if("delete_rule"!==t){if("calculated"===t?this.updateImportJson(e,null,this.page,"calculated"):"purchase_order"==e&&(this.record.is_purchase_order_changed=!0),this.removeSelectedAreaOnImage(e),this.isFieldScriptCalculated(e))this.updateScriptRequest();else{const t=this.handleScriptForNonCalcField();t||this.handleLookupAutoTrigger(e)}this.inputValueChanges(e),this.startTimer()}else this.deleteRule(e)},removeSelectedAreaOnImage(e){if(this.isConfirmationBoxDisable){const t=new CustomEvent("removeSelectedAreaOnImage",{});document.dispatchEvent(t),this.connectionId=e,this.removeConnectionFromModel(this.connectionId)}},removeConnectionFromModel(e){this.record.fields.forEach(((e,t)=>{if(e.name===this.connectionId){e.hasOwnProperty("original")||(e["original"]=Object.assign({},JSON.parse(JSON.stringify(e))));const l={color:null,coords:null,confidence:0,validation_code:null};this.formBuilderModel[this.connectionId]=Object.assign(this.formBuilderModel[this.connectionId],l),this.record.fields[t]=Object.assign(this.record.fields[t],l)}}))},getLayoutTemplateID(){return Ve(this,void 0,void 0,(function*(){try{let e={};this.record.doc_type&&(e["doc_type_key"]=this.record.doc_type),this.record.sub_doc_type&&(e["sub_doc_type_key"]=this.record.sub_doc_type),this.record.doc_origin&&(e["doc_origin"]=this.record.doc_origin);const t=yield ge.H7.getLayoutTemplates(e);if(!t||t.hasOwnProperty("success")&&!1===t.success)throw t;if(!t.data||!Array.isArray(t.data)||0===t.data.length||!t.data[0].hasOwnProperty("id"))throw{message:"Layout Template ID Not Found"};this.layout_template_id=t.data[0].id}catch(e){const t=Re.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}}))},getFormBuilderLayout(){return Ve(this,void 0,void 0,(function*(){let e;this.formLayout=[];try{if(!this.layout_template_id)return;e=yield ge.H7.getDocumentLayoutTemplateById(this.layout_template_id);let t=JSON.parse(e.layout_json);t&&(this.formLayout=t.hasOwnProperty("layout")?t.layout:[],this.formLayoutOrignal=JSON.parse(JSON.stringify(this.formLayout)),this.formLayout&&(yield this.makeModel()),this.isExtenedPanel=!!t.isExtenedPanelEnabled,this.setGeneralSettings(t),this.$emit("setSplitterModel",this.isExtenedPanel))}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(t)}}))},updateModel(e){},isFieldScriptCalculated(e){return!(!this.formBuilderConfigModel[e].hasOwnProperty("run_script_on_change")||!0!==this.formBuilderConfigModel[e].run_script_on_change)},isFieldhasWorkflowEnabled(e){return!(!this.formBuilderConfigModel[e].hasOwnProperty("run_workflow_on_change")||!0!==this.formBuilderConfigModel[e].run_workflow_on_change)},handleScriptCalculatedFields(e){try{if(!this.isFieldScriptCalculated(e))return;this.record.apply_script_triggered_on_field=e,this.createNewScriptRequest()}catch(t){logError(t)}},handleScriptForNonCalcField(){return!(""===this.api_request_id||!this.record.hasOwnProperty("apply_script_triggered_on_field")||!this.record.apply_script_triggered_on_field)&&(logError("handleScriptForNonCalcField",this.api_request_id,this.record.apply_script_triggered_on_field),this.updateScriptRequest(),this.createNewScriptRequest(),!0)},scriptCalculateFuncWrapper(e){let t="",l="";e.detail.columnName&&(l=e.detail.columnName),e.detail.rowId&&(t=e.detail.rowId),this.record.apply_script_triggered_on_table_row=t,this.record.apply_script_triggered_on_table_field=l,this.debounceScriptCalculateFunc()},applyScript(){return Ve(this,void 0,void 0,(function*(){try{this.auto_saved_done=!1,this.auto_saving=!0,this.script_api_timestamp=Date.now();const e=yield this.applyScriptOnDocument();if(!e)return;let t=!1;for(const[o,i]of Object.entries(this.formBuilderModel)){let e=0;i.hasOwnProperty("update_timestamp")&&(e=i.update_timestamp),e>this.script_api_timestamp&&(t=!0),t&&logInfo("discard_response",o,i.formatted_value,e,this.script_api_timestamp)}if(t)return logInfo("discard_response"),this.updateRequestId(),void this.createNewScriptRequest();const l=this.getScriptChangedFields();yield this.updateRecordAfterScript(),this.$emit("setDocVersion"),this.setDataToCache(),this.highlightFieldsMode=!0,yield this.makeModel(),this.triggerScriptChangedFields(l),this.handleLookupAutoTrigger(this.record.apply_script_triggered_on_field),this.setFieldErrors(!1),this.refreshCanvas();const a=new CustomEvent("prepare_rows",{});document.dispatchEvent(a)}catch(e){logError(e)}finally{this.auto_saving=!1,this.auto_saved_done=!0,setTimeout((()=>{this.auto_saved_done=!1}),1e4)}}))},rejectDocument(){return Ve(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.showLoading(),yield this.saveData();const e={request_type:"reject"},t=yield ge.M8.rejectDocument(e,this.docId);if(!1===t.success)throw t.message;this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),!0===t.success&&this.routeToDashboard()}catch(e){logError(e)}finally{this.hideLoading()}}))},get_lookup_type_for_changed_field(e){if(this.changed_fields=[],this.groups_to_update=[],!this.checkifFieldChangedForTrigger(e))return!1;let t=!1;for(let l of this.record.layout.lookup_configurations)if(!(0,ce.z)(l.lookup_dataset_name)&&!(0,ce.jw)(l.lookup_dataset_name))for(let a in l.fields)if(l.fields[a].field_name==e&&!0===l.fields[a].auto_trigger){this.groups_to_update.push({group:l,field_name:e,lookup_field:l.fields[a].lookup_field});for(let e of l.fields)this.changed_fields.push(e);this.trigger_lookup_flow=l.lookup_dataset_name,t=!0}return t},preparing_group_change_call(){return Ve(this,void 0,void 0,(function*(){const e={};logInfo("preparing_group_change_call",JSON.parse(JSON.stringify(this.groups_to_update))),this.trigger_fields=[];for(let t in this.groups_to_update){const l=this.groups_to_update[t].group;if((0,ce.z)(this.groups_to_update[t].group.lookup_dataset_name)||(0,ce.jw)(this.groups_to_update[t].group.lookup_dataset_name)||e.hasOwnProperty(this.groups_to_update[t].group.id))continue;const a=this.groups_to_update[t].group.lookup_dataset_name;e[this.groups_to_update[t].group.id]=!0;const o={},i=(0,_e.A)();let s=this.groups_to_update[t].field_name,n=this.groups_to_update[t].lookup_field;o[i]={field:{field:n},operator:this.getFieldOperator(s,this.groups_to_update[t]),search_text:this.formBuilderModel[s].formatted_value};const r={};r["document_fields_data"]=this.getMsRequestFields(this.groups_to_update[t].group);let d=yield this.autoTriggerSearchByField(o,a,r);if(null!=d){const e=JSON.stringify(d.data[0]);this.populateMasterDataFields(l,a,e),this.lookup_loading_fields[s].lookup_found=!0}else this.trigger_fields=[],this.lookup_loading_fields[s].lookup_found=!1,this.lookup_loading_fields[s].lookup_found_name=a}this.trigger_lookup_flow="",this.saveFieldsStateForAutotrigger(this.record.fields),this.updateScriptRequest(),this.record.apply_script_triggered_on_field="",this.debounceScriptCalculateFunc(),this.updateLookupFieldsStatusInGroups(!1,!1)}))},getMsRequestFields(e){if((0,ce.z)(e))return"";if(e.hasOwnProperty("request_fields")){const t=e.request_fields;if("object"===typeof t){let e={};return this.record.fields.forEach((l=>{for(const[a,o]of Object.entries(t))l.name==o&&(e[l.name]=l.formatted_value)})),JSON.stringify(e)}}return""},getFieldOperator(e,t){for(let l of t.group.fields)if(l.field_name==e&&l.hasOwnProperty("search_operator")&&!(0,ce.z)(l.search_operator)&&!(0,ce.jw)(l.search_operator))return l.search_operator;return"contains"},updateLookupFieldsStatusInGroups(e=!0,t=!0){for(let l in this.groups_to_update){const a=this.groups_to_update[l].group;for(let[l,o]of a.fields.entries())this.handleLookupFieldStatus(o.field_name,e,t)}},handleLookupFieldStatus(e,t,l=!0){this.formBuilderModel.hasOwnProperty(e)&&(this.lookup_loading_fields.hasOwnProperty(e)||(this.lookup_loading_fields[e]={}),this.lookup_loading_fields[e].lookup_loading=t,l&&(this.lookup_loading_fields[e].lookup_found=null,this.lookup_loading_fields[e].lookup_found_name=null))},get_changed_fields(e){const t=e.fields;for(let[l,a]of t.entries())this.changed_fields.push(a)},removeCurrentSelectedGroup(e){this.groups_to_update=this.groups_to_update.filter((t=>t.group.lookup_dataset_name!==e))},get_groups_to_change(){for(let e of this.fields_with_autotrigger)for(let t of this.changed_fields)t.field_name.toLowerCase()!=e.field_name.toLowerCase()&&t.lookup_field.toLowerCase()!=e.lookup_field.toLowerCase()||this.groups_to_update.some((l=>l.group===e.group&&l.field_name.toLowerCase()===t.field_name.toLowerCase()&&l.lookup_field.toLowerCase()===t.lookup_field.toLowerCase()))||this.groups_to_update.push({group:e.group,field_name:e.field_name,lookup_field:e.lookup_field})},check_for_auto_trigger(){this.fields_with_autotrigger=[];for(let e of this.record.layout.lookup_configurations)if(!(0,ce.z)(e.lookup_dataset_name)&&!(0,ce.jw)(e.lookup_dataset_name))for(let t in e.fields)!0!==e.fields[t].auto_trigger||this.fields_with_autotrigger.some((l=>l.field_name.toLowerCase()===e.fields[t].field_name.toLowerCase()&&l.lookup_field.toLowerCase()===e.fields[t].lookup_field.toLowerCase()&&l.group===e))||this.fields_with_autotrigger.push({field_name:e.fields[t].field_name,lookup_field:e.fields[t].lookup_field,group:e})},populateMSDataFromPopup(){this.changed_fields=[],this.groups_to_update=[];let e=this.master_data_fields_map.get(this.master_lookup_type);this.get_changed_fields(e),this.get_groups_to_change(),this.removeCurrentSelectedGroup(this.master_lookup_type),this.populateMasterDataFields(e,this.master_lookup_type,this.master_data_row),this.updateLookupFieldsStatusInGroups(),this.preparing_group_change_call()},populateMasterDataFields(e,t,l){return Ve(this,void 0,void 0,(function*(){try{this.closeMsDialog(),this.showLoading(),this.freeze_fields_change_event=!0;let t=JSON.parse(l);const a=[],o=e.fields;for(let[e,l]of o.entries()){const e=l.field_name,o=l.lookup_field.toLowerCase();t.hasOwnProperty(o)&&this.conversionFields.includes(e)&&null!=t[o]&&a.push({key:t[o],value:t[o]})}let i=[];a.length>0&&(i=yield this.formatMultiValues(a,"en_US",this.amount_format_locale));const s="MD";for(let[e,l]of o.entries()){const e=l.field_name,a=l.lookup_field.toLowerCase();if(!this.formBuilderModel.hasOwnProperty(e))continue;if(0==t.hasOwnProperty(a)||null==t[a])continue;let o=t[a];if(this.conversionFields.includes(e)&&null!=t[a]&&(o=this.searchValueByKey(o,i)),t.hasOwnProperty(a+"_formatted_value")&&(o=t[a+"_formatted_value"]),this.formBuilderModel[e].formatted_value=o,this.formBuilderModel[e].value=t[a],this.formBuilderModel[e].color="extraction_method-border-left",this.formBuilderModel[e].extraction_method=s,this.fieldIsAutoTrigger(e)){const t=this.fields_with_autotrigger.find((t=>t.field_name===e));this.groups_to_update.some((e=>e.field_name===t.field_name))||this.trigger_fields.push(t)}this.formBuilderModel[e].formatted_value&&this.setFieldInputError(e,""),!this.isCurrentFieldPrimary(e)&&this.isContentChanged(this.formBuilderModel[e].content,t[a])&&(this.formBuilderModel[e].content=t[a],this.formBuilderModel[e].confidence=0,this.formBuilderModel[e].validation_code=null,this.formBuilderModel[e].coords=null),this.setColor(this.formBuilderModel[e],this.formBuilderConfigModel[e]),this.updateImportJson(e,this.formBuilderModel[e].coords,this.page,s)}this.resetMasterDataStore(),this.refreshCanvas(),this.validateExportData(!1),setTimeout((()=>{this.$emit("enableOrDisableExportButton")}),5)}catch(t){logError(t)}finally{this.hideLoading(),this.freeze_fields_change_event=!1}}))},jumpToTable(e){e.preventDefault();for(const[t,l]of this.formLayout.entries())if(this.isGroupTable(t)){this.focusOnTableGroup(t);break}},triggerTableAddRow(e){for(const[t,l]of this.formLayout.entries()){if(!this.isGroupTable(t))continue;const e=this.formLayout[t].rows[0];let l=document.querySelector("."+e.name);if(!l)return;const a=new CustomEvent("trigger_add_row",{detail:{}});l.dispatchEvent(a);break}e.preventDefault()},findGroupShortcutkey(e){const t=e.key,l=["shift","alt"],a=l.find((e=>{const l=e+t;return this.groupShortCutMap.has(l)}));return a},focusOnGroupFromMap(e){if(0===this.groupShortCutMap.size)return;const t=this.findGroupShortcutkey(e);if(!t)return;const l=t+e.key,a=this.groupShortCutMap.get(l);null!==a&&void 0!==a&&""!==a&&(e.preventDefault(),this.focusGroup(a,e))},isGroupTable(e){return!!this.formLayout[e].rows[0]&&"ExtractedTable"===this.formLayout[e].rows[0].fieldType},focusGroup(e,t){if(t.preventDefault(),0===this.formLayout[e].rows.length)return;if(this.isGroupTable(e))return void this.focusOnTableGroup(e);const l=this.getFirstFieldOfGroup(e);l&&this.focusOnField(l)},getFirstFieldOfGroup(e){let t="",l=["CheckBox","TableOfCheckboxes"];l=l.concat(this.excluded_field_types);const a=this.formLayout[e].rows.find((e=>!l.includes(e.fieldType)));return a?(t=a.name,a.hasOwnProperty("field_name")&&(t=a.field_name),t||""):t},focusOnTableGroup(e){const t=this.formLayout[e].rows[0];this.focusOnTable(t.name)},validateAllSectionFields(e){if(this.isReadOnly)return;const t=this.formLayout[e];if(t.hasOwnProperty("rows"))for(const l of t.rows)this.validateField(l.field_name);else logInfo("No rows found to validate in this section")},selectFieldFromNextGroup(e){let t=e.target.closest("[data-group-id]");if(t||(t=document.querySelector("[data-group-id]")),!t)return;const l=t.getAttribute("data-group-id"),a=Number(l)+1;this.focusFirstFieldOnGroup(a)},validateAndSelectNextInvalidField(e){let t=!1,l="";for(const a of this.formLayout)for(const o of a.rows){let a=o.field_name,i=this.formBuilderModel[a];if(i)if(!0===t){if(1==o.is_readonly||1==o.is_hidden)continue;if(0==i.is_valid||i.calculation_formula)return this.focusOnField(a),void(t=!1)}else if(a===e){t=!0,this.validateField(a);const e=Ne("#"+a);if(l=this.getComponentType(a),""==l)e.blur();else{const t=e.querySelector(l);t.blur()}}}},focusOnField(e,t=!0,l=!1){const a=Ne("#"+e);if(!a)return void logError("cannot find field",e);const o=this.getComponentType(e);if(""==o)return a.focus(),void(t&&this.startTimer());const i=a.querySelector(o);i?(i.click(),i.focus(),this.scrollInToViewCenter(i),l&&i.select(),t&&this.startTimer()):logError("cannot find field",o)},selectNextField(e){let t=!1,l="";for(const a of this.formLayout)for(const o of a.rows){let a=o.field_name,i=this.formBuilderModel[a];if(i){if(!0===t){if(1==o.is_readonly||1==o.is_hidden)continue;return this.focusOnField(a),void(t=!1)}if(a===e){const e=Ne("#"+a);l=this.getComponentType(a);const o=e.querySelector(l);o.blur(),this.validateField(a),t=!0}}}},getNextTabIndex(e){let t=!1,l=0;for(const[o,i]of Object.entries(this.fields_tabindex_mapping)){const a=Number(o);if(!0===t){l=a;break}e===a&&(t=!0)}const a=this.fields_tabindex_mapping[l];return a&&Array.isArray(a)?l:this.getNextTabIndex(l)},isFieldAvailableToFocus(e){const t=Ne("#"+e);return!!t},getNextTabIndexField(e,t){try{const l=this.fields_tabindex_mapping[e],a=l.indexOf(t);if(a===l.length-1){const t=this.getNextTabIndex(e),l=String(this.fields_tabindex_mapping[t][0]),a=this.isFieldAvailableToFocus(l);return a?l:this.getNextTabIndexField(t,l)}const o=a+1,i=String(l[o]),s=this.isFieldAvailableToFocus(i);return s?i:this.getNextTabIndexField(e,i)}catch(l){return""}},findNextField(e){this.validateAndSelectNextInvalidField(e),setTimeout((()=>{this.$emit("enableOrDisableExportButton")}),5)},focusOnTable(e){let t=document.querySelector("."+e);if(!t)return;const l=new CustomEvent("focus_first_row_column",{detail:{}});t.dispatchEvent(l)},moveToNextFieldEvent(e){e.detail&&this.findNextField(e.detail)},getComponentType(e){let t="";const l=Ne("#"+e);return l?(t=this.getInputType(l),"checkbox"==t||""==t?"":t):(logInfo("NO parentDiv",l),"")},validateField(e){if(!this.formBuilderModel[e])return void logInfo("validateField formBuilderModel missing field_name",e,this.formBuilderModel[e]);let t=this.formBuilderConfigModel[e];this.formBuilderModel[e].color=Le.aH.success_border_left,this.formBuilderModel[e].is_valid=!0,this.formBuilderModel[e].validation_code=null,this.formBuilderModel[e].validation_message=null,this.setFieldInputError(e,""),this.formBuilderModel[e].is_validated=!0,this.setColor(this.formBuilderModel[e],t),this.updateImportJson(e)},startTimer(){const e=new CustomEvent("start_time_spent_on_validation",{});document.dispatchEvent(e)},focusFirstFieldOnGroup(e=0){return Ve(this,void 0,void 0,(function*(){yield this.$nextTick();const t=this.findGroupToFocus(e),l=this.getFirstFieldOfGroup(String(t));l&&this.focusOnField(l,!1)}))},findGroupToFocus(e){if(0===this.formLayout[String(e)].rows.length)return this.findGroupToFocus(e+1);if(this.formLayout[String(e)].is_stcky_group)return this.findGroupToFocus(e+1);const t=this.getFirstFieldOfGroup(String(e));return t?e:this.findGroupToFocus(e+1)},keydownEventWrapper(e){this.keyDownEvent(e)},getConfidence(e){return e?e<1?(100*+e.toFixed(2)).toFixed(0):+e.toFixed(2):""},fieldCaluclations(){return Ve(this,void 0,void 0,(function*(){for(const e of this.formLayout)for(const t of e.rows)if(t.calculation_formula){const e=this.prepareFormula(t.calculation_formula);yield this.performCalulations(t.field_name,e,this.amount_format_locale,t.field_type),this.updateImportJson(t.field_name)}}))},countAmountFieldsConfidence(e){let t=["net_amount","tax_amount","tax_rate","net_amount_2","tax_amount_2","tax_rate_2","net_amount_3","tax_amount_3","tax_rate_3","total_amount","total_amount","total_net_amount","total_tax_amount"];t.includes(e.name)&&1==+e.confidence&&this.amount_fields_confidence_count++},addAdditionalAmountPanelInRows(){let e=!1,t={},l={};const a=[{selected:!1,is_hidden:!1,name:"additional_amount",icon:"images/AdditionalAmount.svg",field:"additional_amount",label:"additional_amount"},{selected:!1,is_hidden:!1,name:"additional_amount_2",icon:"images/AdditionalAmount.svg",field:"additional_amount_2",label:"additional_amount_2"},{selected:!1,is_hidden:!1,name:"additional_amount_3",icon:"images/AdditionalAmount.svg",field:"additional_amount_3",label:"additional_amount_3"},{selected:!1,is_hidden:!1,name:"negative_amount",icon:"images/NegativeAmount.svg",field:"negative_amount",label:"negative_amount"},{selected:!1,is_hidden:!1,name:"negative_amount_2",icon:"images/NegativeAmount.svg",field:"negative_amount_2",label:"negative_amount_2"},{selected:!1,is_hidden:!1,name:"negative_amount_3",icon:"images/NegativeAmount.svg",field:"negative_amount_3",label:"negative_amount_3"}];for(const[o,i]of this.formLayout.entries())if(i.name===Le.P.tax_details)for(const[s,n]of i.rows.entries()){const o=n.field_name;"fields_group"==o&&(e=!0),"additional_amount"!=o||e||(i.rows.splice(s,0,{field_name:"fields_group",def:a}),e=!0);for(const[e,i]of a.entries()){let e=i.field;e===o&&(i.label=this.displayFieldLabelFor2a(n),n.is_hidden?l[i.name]=o:this.formBuilderModel[o].value?(n.visibile=!0,t[i.name]=!0,this.formBuilderConfigModel[o].visibile=!0):(n.visibile=!1,this.formBuilderConfigModel[o].visibile=!1))}}for(const[o,i]of this.formLayout.entries())if(i.name===Le.P.tax_details)for(const[e,a]of i.rows.entries()){const e=a.field_name;if("fields_group"==e)for(const[o,i]of a.def.entries())!0===t[i.name]?i.selected=!0:i.selected=!1,l[i.name]||(i.is_hidden=!0)}},handleChargesFieldsVisibility(e){this.showAllChargesFields=!1;for(let l=0;l<e.rows.length;l+=2)try{const t=e.rows[l].field_name;if(l+1>=e.rows.length)break;const a=e.rows[l+1].field_name;this.formBuilderModel[t].value||this.formBuilderModel[a].value||(e.rows[l].visibile=!1,e.rows[l+1].visibile=!1)}catch(t){logError(t,l,e.rows[l],e.rows[l+1],e.rows.length)}},toggleChargesFieldsVisibility(e,t){if(t){this.showAllChargesFields=!0;for(const[t,l]of e.rows.entries())l.visibile=!0}else this.handleChargesFieldsVisibility(e)},handleConfidenceAlert(){this.amount_fields_confidence_count>1&&(this.origin_warning_alert=this.showWarningAlert(this.$t("selection_popup_origin_warning"),5e3))},toggleGroupFieldsVisibility(e,t,l,a,o){if(!this.isButtonToggleDisable(this.record.status)){for(const i of this.formLayout)if(i.name==o)for(const o of i.rows){let i=o.field_name;i==t.field_name&&(o.def[l].selected=!a),e===i&&(o.visibile=!a)}this.prepareLayoutForTemplate()}},handleTabGroupLabels(e,t){let l=!1,a={};if(0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype||t!==Le.P.tax_details)return a;for(let o of e.buttons)if("full"==o.name&&!0===o.selected){l=!0;break}if(l)return a;for(let o of e.buttons)if("full"!==o.name&&!0===o.selected){a=o.alt_translation_keys;break}return a},openSelectionPopup(e){this.selection_popup_data["title"]=this.$t("selection_popup_heading"),this.selection_popup_data["data"]=e,this.selection_popup_data["value_1"]={key:"suggested",value:e.formatted_value,disable:!e.value||""==e.value,label:this.$t("suggested_value")};let t=e.extracted_value;this.selection_popup_data["value_2"]={key:"extracted",value:t.formatted_value,disable:!t.value||""==t.value,message:t.message&&""!=t.message?t.message:"",label:this.$t("extracted_value")},this.showSelectionPopupDialog=!0},selectionPopupSelected(e){if(!e.detail||!e.detail.data||!e.detail.data.data||!e.detail.selected)return;this.showSelectionPopupDialog=!1;let t=e.detail.data.data,l=t.coords;"extracted"==e.detail.selected&&(t=t.extracted_value),this.formBuilderModel[this.connectionId].value=t.value,this.formBuilderModel[this.connectionId].formatted_value=t.formatted_value,this.formBuilderModel[this.connectionId].content=t.text,this.formBuilderModel[this.connectionId].api_save=!0,this.updateCoordinates(l),this.inputValueChanges(this.connectionId),this.$forceUpdate(),this.hideLoading()},updateCoordinates(e){this.record.fields.forEach(((t,l)=>{t.name===this.connectionId&&(t.coords=e,t.page=this.page)})),this.$emit("refreshCanvasAfterSelection",this.connectionId)},selectionPopupClosed(){this.showSelectionPopupDialog=!1},deleteRule(e){this.record.hasOwnProperty("clear_rules_fields_for_user")||(this.record.clear_rules_fields_for_user=[]),this.record.fields.forEach(((t,l)=>{t.name===e&&(this.record.clear_rules_fields_for_user.push(e),this.record.fields.splice(l,1))})),this.formBuilderConfigModel[e].color=null,this.formBuilderModel[e]=Object.assign(this.formBuilderModel[e],{deleted:!0,color:null,value:"",confidence:0,formatted_value:"",content:null,validation_code:null,coords:null}),this.refreshCanvas(),this.handleLookupFieldStatus(e,!1,!0),this.saveOneFieldStateForAutotrigger(this.record,e),this.handleScroll(),setTimeout((()=>{this.$emit("enableOrDisableExportButton")}),5)},refreshCanvas(){const e=new CustomEvent("refresh_canvas",{});document.dispatchEvent(e)},triggerExportEvent(){this.exportData()},selectEDocIcon(){this.eDocIcon="EDI.svg";let e=["PEPPOL","FACTUR_X","FACTURX","EDI","FATTURAPA","BOD"],t=["XRECHNUNG","XRECHNUNG_V1","XRECHNUNG 3.0","XRECHNUNG 2.1","XRECHNUNG 1.2"];"FACTURX"!=this.record.classification.method&&"FACTUR_X"!=this.record.classification.method?t.includes(this.record.classification.method)?this.eDocIcon="XRECHNUNG.svg":e.includes(this.record.classification.method)&&(this.eDocIcon=this.record.classification.method+".svg"):this.eDocIcon="FACTURX.svg"}},setup(){let e=[],t=new Map;const l=(0,O.t8)(),{clearStateForExportDialog:a}=l,{display_config_dialog:o,config_saved:i}=(0,x.bP)(l),s=(0,O.uL)(),{freeze_fields_change_event:n,formBuilderModel:r,formLayout:d,isExtenedPanel:u,isFormBuilderMode:c,formBuilderConfigModel:p,renderComponent:h,docType:m,fieldListToHighlight:_,fieldColors:b}=(0,x.bP)(s),{getElementWidth:v,prepareLayoutData:g,performCalulations:f,isFieldHidden:y,duplicateSubGroup:k,prepareIndexesForSubGroups:w}=s,C=(0,O.q3)(),{record:L,script_api_timestamp:F,doc_loaded:E,layout_template_id:A,get_cached_data_id:S,auto_saving:D,auto_saved_done:I,amount_format_locale:T,fieldsNotDisplayed:M,lookup_configurations:R,po_items:P}=(0,x.bP)(C),{saveFieldsStateForAutotrigger:q,getScriptChangedFields:V,hasTable:N,saveOneFieldStateForAutotrigger:B,checkifFieldChangedForTrigger:$,saveDocument:Q,applyScriptOnDocument:X,updateRecordAfterScript:W,setDataToCache:K,setRecordFromCache:U,saveAndValidate:j,setDocDataVariables:z,updateRequestId:H,findSubGroupChildFields:G,prepareFormula:Y}=C,J=(0,O.Ox)(),{model:Z,advance_filters:ee,master_lookup_type:te,changed_fields:le,groups_to_update:ae,fields_with_autotrigger:oe,selected_row:ie,populate_row_to_view:se,master_data_fields_map:re,isDraggle:de}=(0,x.bP)(J),{resetMasterDataStore:ue,isContentChanged:ce,isCurrentFieldPrimary:pe}=J,he=(0,O.yM)(),{populateListsAndValues:me,getListOfValuesAsSelectList:_e,addNameToLovList:be}=he,ve=(0,O.XB)(),{setGeneralSettings:ge}=ve,{isConfirmationBoxDisable:fe}=(0,x.bP)(ve),ye=(0,O.oI)(),{releaseDocLock:ke}=ye,we=(0,O.fX)(),{dashboardFiltersAfterExport:Ce}=we,xe=(0,O.gP)(),{formatMultiValues:Fe,searchValueByKey:Ee}=xe,Ae=(0,O._6)(),{tokenQueryParam:Se}=(0,x.bP)(Ae);Ae.getTokenQueryParam();const De=(0,O.vm)(),{searchByField:Ie}=De,{lookup_loading_fields:Te,trigger_lookup_flow:Oe}=(0,x.bP)(De);return{po_items:P,saveOneFieldStateForAutotrigger:B,trigger_lookup_flow:Oe,autoTriggerSearchByField:Ie,lookup_loading_fields:Te,fieldColors:b,info_panel_chip_colors:Le.OW,saveFieldsStateForAutotrigger:q,checkifFieldChangedForTrigger:$,freeze_fields_change_event:n,lookup_configurations:R,tokenQueryParam:Se,script_api_timestamp:F,getScriptChangedFields:V,updateRecordAfterScript:W,isCurrentFieldPrimary:pe,formatMultiValues:Fe,searchValueByKey:Ee,config_saved:i,hasTable:N,isFieldHidden:y,addNameToLovList:be,duplicateSubGroup:k,prepareIndexesForSubGroups:w,doc_loaded:E,setDocDataVariables:z,saveAndValidate:j,performCalulations:f,amount_format_locale:T,dashboardFiltersAfterExport:Ce,setRecordFromCache:U,updateRequestId:H,setDataToCache:K,saveDocument:Q,releaseDocLock:ke,prepareFormula:Y,setGeneralSettings:ge,resetMasterDataStore:ue,applyScriptOnDocument:X,populateListsAndValues:me,findSubGroupChildFields:G,clearStateForExportDialog:a,getListOfValuesAsSelectList:_e,master_lookup_type:te,changed_fields:le,groups_to_update:ae,fields_with_autotrigger:oe,isDraggle:de,ms_advance_filters:ee,isConfirmationBoxDisable:fe,master_data_fields_map:re,populate_row_to_view:se,isContentChanged:ce,master_data_row:ie,ms_view_model:Z,record:L,apiData:(0,ne.KR)(e),tableAreasStr:(0,ne.KR)(""),is_sep_view:(0,ne.KR)(!1),fuzzyDialog:(0,ne.KR)(!1),selectedRow:(0,ne.KR)([]),renderKey:0,isReadOnly:(0,ne.KR)(!1),display_config_dialog:o,formBuilderModel:r,formLayout:d,formLayoutOrignal:(0,ne.KR)([]),isExtenedPanel:u,isFormBuilderMode:c,formBuilderConfigModel:p,layout_template_id:A,get_cached_data_id:S,renderComponent:h,docType:m,groupShortCutMap:t,fieldListToHighlight:_,fieldsNotDisplayed:M,tb_version:"default",getElementWidth:v,prepareLayoutData:g,is_admin:(0,ne.KR)(!1),master_data_popup_width:(0,ne.KR)("700"),fields_tabindex_mapping:(0,ne.KR)({}),script_loading:(0,ne.KR)(!1),auto_saving:D,auto_saved_done:I,DOC_SCRIPT_MODULE:(0,ne.KR)(!1),trigger_fields:(0,ne.KR)([]),debounceLookupAutoTriggerFunc:{},eDocIcon:(0,ne.KR)("")}}});var $e=l(56384),Qe=l(97410),Xe=l(10386),We=l(82156),Ke=l(23316),Ue=l(44189),je=l(3952),ze=l(62669),He=l(39035),Ge=l(63194),Ye=l(45262),Je=l(67156),Ze=l(80460),et=l(42315),tt=l(88672);const lt=(0,te.A)(Be,[["render",w],["__scopeId","data-v-2b9a1dfd"]]),at=lt;oe()(Be,"components",{QBtn:$e.A,QTooltip:Qe.A,QIcon:le.A,QSeparator:Xe.A,QDialog:We.A,QCard:Ke.A,QCardSection:Ue.A,QAvatar:je.A,QCardActions:ze.A,QInnerLoading:He.A,QSpinnerHourglass:Ge.A,QTd:Ye.A,QField:Je.A,QCheckbox:Ze.A,QTable:et.A}),oe()(Be,"directives",{ClosePopup:tt.A})},27348:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Wl});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-480542e4"),e=e(),(0,a.jt)(),e),n={class:"row"},r={class:"col-sm-12 col-md-12 col-lg-12 q-pa-sm body-bg body-height scrolle-y"},d={class:"row"},u={class:"row full-width secondary-c-text q-pt-md q-pb-md"},c={class:"col-12 pl-20",style:{"text-align":"right"}},p={class:"workflow-complete",style:{"margin-bottom":"80px"}},h={class:"workflow-header"},m={class:"col-sm-12 col-md-12 col-lg-12 q-mb-lg name-field"},_={class:"selected-card-container"},b={class:"col-sm-12 col-md-12 col-lg-12"},v={key:0,class:"col-sm-12 col-md-12 col-lg-12"},g={class:"col-sm-12 col-md-12 col-lg-12"},f={class:"col-sm-12 col-md-12 col-lg-12"},y={class:"col-sm-12 col-md-12 col-lg-12"},k={class:"col-sm-12 col-md-12 col-lg-12"},w={class:"row q-mt-lg"},C={class:"col-sm-6 col-md-6 col-lg-6 q-pa-sm margin-0-auto"},x={class:"col-sm-6 col-md-6 col-lg-6 q-pa-sm margin-0-auto"},L={class:"text-weight-bold text-capitalize"},F={class:"row"},E={class:"col-sm-4 col-md-4 col-lg-4 cards-container"},A={class:"row q-pb-sm q-pl-sm fontGrey"},S=["onClick"],D={class:"col-sm-10 col-md-10 col-lg-10 cursor-pointer"},I=["innerHTML"],T={class:"category-text"},O={class:"col-sm-2 col-md-2 col-lg-2"},M={class:"col-sm-4 col-md-4 col-lg-4 cards-container box-margin"},R=s((()=>(0,a.Lk)("div",{class:"col-sm-4 col-md-4 col-lg-4 cards-container"},null,-1)));function P(e,t,l,s,P,q){const V=(0,a.g2)("SubHeader"),N=(0,a.g2)("f-btn"),B=(0,a.g2)("q-input"),$=(0,a.g2)("q-btn"),Q=(0,a.g2)("GenericCard"),X=(0,a.g2)("workflowTemplates"),W=(0,a.g2)("q-dialog"),K=(0,a.g2)("q-toolbar-title"),U=(0,a.g2)("q-toolbar"),j=(0,a.g2)("q-icon"),z=(0,a.g2)("q-card-section"),H=(0,a.g2)("q-card"),G=(0,a.g2)("Loader"),Y=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(V,{name:"workflow_builder",label:e.$t("workflow_builder"),show_expiry_alert:!0,onSearch:!1},null,8,["label"]),(0,a.Lk)("div",n,[(0,a.Lk)("div",r,[(0,a.Lk)("div",d,[(0,a.Lk)("div",u,[(0,a.Lk)("div",c,[(0,a.bF)(N,{icon:"account_tree",flat:"",rounded:"",onClick:t[0]||(t[0]=t=>e.ShowTemplateDashboard=!0),label:e.$t("workflow_templates"),style:{"vertical-align":"middle","margin-left":"10px",cursor:"pointer"}},null,8,["label"]),(0,a.bF)(N,{icon:"file_download",flat:"",rounded:"",onClick:t[1]||(t[1]=t=>e.downloadWorkflow()),label:e.$t("download"),style:{"vertical-align":"middle","margin-left":"10px",cursor:"pointer"}},null,8,["label"])])]),(0,a.Lk)("div",p,[(0,a.Lk)("div",h,[(0,a.Lk)("div",m,[(0,a.bF)(B,{modelValue:e.workflowName,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.workflowName=t),t[3]||(t[3]=t=>e.inputValueChanges())],placeholder:e.$t("wf_name"),color:"light-blue"},null,8,["modelValue","placeholder"])])]),(0,a.Lk)("div",_,[(0,a.Lk)("div",b,[(0,a.Lk)("h5",{class:(0,o.C4)(["headingMargin",0===Object.keys(e.selectedWhenCards).length?"fontGrey":"item-selected"])},(0,o.v_)(e.$t("wf_when")),3)]),e.selectedWhenCards&&0!==Object.keys(e.selectedWhenCards).length?((0,a.uX)(),(0,a.CE)("div",{class:"col-sm-12 col-md-12 col-lg-12 selected-card",key:e.selectedWhenCards.id+"_"+e.selectedWhenCards.card_version},[(0,a.bF)(Q,{item:e.selectedWhenCards,itemIndex:0,cardType:"when",isDialog:!1,parentSvg:e.selectedWhenCards.svg,color:e.selectedWhenCards.parentColor,version:e.selectedWhenCards.card_version,onOnCardClick:e.onCardClick,onRemoveCard:e.removeCard,onReplaceCard:e.replaceCard,onChangeCardVersion:e.changeCardVersionWhen},null,8,["item","parentSvg","color","version","onOnCardClick","onRemoveCard","onReplaceCard","onChangeCardVersion"])])):((0,a.uX)(),(0,a.CE)("div",v,[(0,a.bF)($,{flat:"",icon:"add",class:"addCard addCard-bg",label:e.$t("add_card"),onClick:t[4]||(t[4]=t=>e.setCardType("when"))},null,8,["label"])])),(0,a.Lk)("div",g,[(0,a.Lk)("h5",{class:(0,o.C4)(["headingMargin",0===Object.keys(e.selectedAndCards).length?"fontGrey":"item-selected"])},(0,o.v_)(e.$t("wf_and")),3)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.selectedAndCards,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:t.id+"_"+t.card_version+"_"+l,class:"col-sm-12 col-md-12 col-lg-12 selected-card"},[(0,a.bF)(Q,{item:t,itemIndex:l,cardType:"and",isDialog:!1,parentSvg:t.svg,color:t.parentColor,version:t.card_version,onOnCardClick:e.onCardClick,onRemoveCard:e.removeCard,onReplaceCard:e.replaceCard,onChangeCardVersion:e.changeCardVersionAndThen},null,8,["item","itemIndex","parentSvg","color","version","onOnCardClick","onRemoveCard","onReplaceCard","onChangeCardVersion"])])))),128)),(0,a.Lk)("div",f,[(0,a.bF)($,{flat:"",icon:"add",class:"addCard addCard-bg",label:e.$t("add_card"),onClick:t[5]||(t[5]=t=>e.setCardType("and"))},null,8,["label"])]),(0,a.Lk)("div",y,[(0,a.Lk)("h5",{class:(0,o.C4)(["headingMargin",0===Object.keys(e.selectedThenCards).length?"fontGrey":"item-selected"])},(0,o.v_)(e.$t("wf_then")),3)]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.selectedThenCards,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:t.id+"_"+t.card_version+"_"+l,class:"col-sm-12 col-md-12 col-lg-12 selected-card"},[(0,a.bF)(Q,{item:t,itemIndex:l,cardType:"then",isDialog:!1,parentSvg:t.svg,color:t.parentColor,version:t.card_version,onOnCardClick:e.onCardClick,onRemoveCard:e.removeCard,onReplaceCard:e.replaceCard,onChangeCardVersion:e.changeCardVersionAndThen},null,8,["item","itemIndex","parentSvg","color","version","onOnCardClick","onRemoveCard","onReplaceCard","onChangeCardVersion"])])))),128)),(0,a.Lk)("div",k,[(0,a.bF)($,{flat:"",icon:"add",class:"addCard addCard-bg",label:e.$t("add_card"),onClick:t[6]||(t[6]=t=>e.setCardType("then"))},null,8,["label"])]),(0,a.Lk)("div",w,[(0,a.Q3)("",!0),(0,a.Lk)("div",C,[(0,a.bF)(N,{icon:"add",label:e.$t("save_template"),class:"width-180 float-left",onClick:t[7]||(t[7]=t=>e.saveWorkflowTemplate())},null,8,["label"])]),(0,a.Lk)("div",x,[(0,a.bF)(N,{icon:"done",label:e.$t("wf_save"),class:"width-180 float-right",onClick:t[8]||(t[8]=t=>e.saveWorkflow())},null,8,["label"])])])])])])]),(0,a.bF)(W,{modelValue:e.ShowTemplateDashboard,"onUpdate:modelValue":t[9]||(t[9]=t=>e.ShowTemplateDashboard=t),onKeypress:t[10]||(t[10]=(0,i.jR)((t=>e.ShowTemplateDashboard=!1),["esc"]))},{default:(0,a.k6)((()=>[(0,a.bF)(X)])),_:1},8,["modelValue"])]),(0,a.bF)(W,{modelValue:e.showItemPanel,"onUpdate:modelValue":t[13]||(t[13]=t=>e.showItemPanel=t),maximized:""},{default:(0,a.k6)((()=>[(0,a.bF)(H,{class:"cards-dialog dialog-bg"},{default:(0,a.k6)((()=>[(0,a.bF)(U,{class:"dialog-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(K,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",L,(0,o.v_)(e.$t(e.cardType))+"...",1)])),_:1}),(0,a.bo)((0,a.bF)($,{flat:"",round:"",dense:"",icon:"close"},null,512),[[Y]])])),_:1}),(0,a.bF)(z,{class:"paddingMargin0"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",F,[(0,a.Lk)("div",E,[(0,a.bF)(B,{modelValue:e.search,"onUpdate:modelValue":[t[11]||(t[11]=t=>e.search=t),t[12]||(t[12]=t=>{e.search_value=t,e.inputSearchValueChanges(t)})],label:e.$t("search_card"),rules:[e=>e.length>=0]},{append:(0,a.k6)((()=>[(0,a.bF)(j,{name:"search"})])),_:1},8,["modelValue","label","rules"]),(0,a.Lk)("div",A,(0,o.v_)(e.$t("categories")),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.category,((t,l)=>((0,a.uX)(),(0,a.CE)("div",{key:l,class:(0,o.C4)(["row",e.activeSubCategory==t.category?"active-category-card":"category-card"]),onClick:l=>{e.setSubCategory(t)}},[(0,a.Lk)("div",D,[(0,a.bF)($,{round:"",flat:"",size:"xs",class:"p-7",style:(0,o.Tr)("background-color:"+t.svg_background_color)},{default:(0,a.k6)((()=>[(0,a.Lk)("i",{innerHTML:t.svg,class:"float-left q-mr-sm svg-icon center-inner"},null,8,I)])),_:2},1032,["style"]),(0,a.Lk)("span",T,(0,o.v_)(e.$t(t.category)),1)]),(0,a.Lk)("div",O,[(0,a.bF)(j,{name:"arrow_forward_ios",size:"20px",class:"float-right icon"})])],10,S)))),128))]),(0,a.Lk)("div",M,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.filteredCardsList.cards,((t,l)=>((0,a.uX)(),(0,a.Wv)(Q,{key:l+"_"+t.id,item:t,itemIndex:l,isDialog:!0,parentSvg:e.filteredCardsList.svg,color:t.svg_background_color,version:e.version,onOnCardClick:e.onCardClick,onRemoveCard:e.removeCard,onReplaceCard:e.replaceCard},null,8,["item","itemIndex","parentSvg","color","version","onOnCardClick","onRemoveCard","onReplaceCard"])))),128))]),R])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(G)],64)}var q=l(85192),V=l(1659),N=l(24622),B=l(38734);const $={class:"col-sm-12 col-md-12 col-lg-12"},Q={class:"col-sm-3 col-md-2 col-lg-2 verticalCenter"},X=["innerHTML"],W={class:"col-sm-7 col-md-8 col-lg-8"},K={class:"color-93939A paddingMargin0 font-size-0-75"},U={class:"paddingMargin0 font-size-15"},j={key:0,class:"col-sm-2 col-md-2 col-lg-2 verticalCenterCardMenus horizontalCenter"};function z(e,t,l,s,n,r){const d=(0,a.g2)("q-btn"),u=((0,a.g2)("q-tooltip"),(0,a.g2)("Badge")),c=(0,a.g2)("q-item-label"),p=(0,a.g2)("q-item-section"),h=(0,a.g2)("q-item"),m=(0,a.g2)("q-list"),_=(0,a.g2)("q-menu"),b=(0,a.g2)("q-icon"),v=(0,a.g2)("q-separator"),g=(0,a.g2)("q-popup-proxy"),f=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)("div",$,[(0,a.Lk)("div",{class:(0,o.C4)(["row taskCard taskCard-bg",e.isDialog?"cursor-pointer":"cursor-default"]),onClick:t[4]||(t[4]=t=>e.onCardClick(e.item))},[(0,a.Lk)("div",Q,[(0,a.bF)(d,{round:"",flat:"",size:"xs",class:"p-10",style:(0,o.Tr)("background-color:"+e.color)},{default:(0,a.k6)((()=>[(0,a.Lk)("i",{innerHTML:e.item.svg,class:"svg-icon center-inner"},null,8,X)])),_:1},8,["style"])]),(0,a.Lk)("div",W,[(0,a.Lk)("p",K,[(0,a.eW)((0,o.v_)(e.$t(e.item.category))+" ",1),(0,a.Q3)("",!0)]),(0,a.Lk)("p",U,[!e.dataArray||e.dataArray.length<1?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,o.v_)(e.$t(e.item.text)),1)],64)):((0,a.uX)(!0),(0,a.CE)(a.FK,{key:1},(0,a.pI)(e.dataArray,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[e.renderBadge(t)?((0,a.uX)(),(0,a.Wv)(u,{key:0,item:e.item,variable:t,isDialog:e.isDialog},null,8,["item","variable","isDialog"])):e.renderTextTranslation(t)?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.$t(t)),1)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.eW)((0,o.v_)(t+" "),1)],64))],64)))),128))])]),e.isDialog?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",j,[(0,a.bF)(d,{label:"v: "+e.item.card_version,style:{},size:"xs",flat:"",unelevated:"",rounded:"","no-wrap":"",dense:"",icon:"sell",class:"version-badge q-ml-xs highlight-text",onClick:t[1]||(t[1]=(0,i.D$)((()=>{}),["stop","prevent"]))},{default:(0,a.k6)((()=>[(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{onClick:t[0]||(t[0]=(0,i.D$)((()=>{}),["stop","prevent"]))},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.item.all_versions,(t=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(h,{clickable:"",onClick:l=>e.$emit("changeCardVersion",t,e.item,e.itemIndex,e.cardType),key:t},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)("v: "+t),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[f]]))),128))])),_:1})])),_:1})])),_:1},8,["label"]),(0,a.bF)(b,{name:"more_horiz",class:"more-horiz cursor-pointer",size:"sm"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{offset:[10,10]},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"width-200 action-popup"},{default:(0,a.k6)((()=>[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(h,{clickable:"",onClick:t[2]||(t[2]=t=>e.$emit("replaceCard",e.itemIndex,e.cardType)),class:"item"},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("replace")),1)])),_:1})])),_:1}),(0,a.bF)(p,{side:""},{default:(0,a.k6)((()=>[(0,a.bF)(b,{name:"sync",color:"c8c8d0",size:"xs"})])),_:1})])),_:1})),[[f]]),(0,a.bF)(v,{color:"DADAE2",inset:""}),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(h,{clickable:"",onClick:t[3]||(t[3]=t=>e.$emit("removeCard",e.itemIndex,e.cardType)),class:"delete-item"},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("delete")),1)])),_:1})])),_:1}),(0,a.bF)(p,{side:""},{default:(0,a.k6)((()=>[(0,a.bF)(b,{name:"delete",color:"c8c8d0",size:"xs"})])),_:1})])),_:1})),[[f]])])),_:1})])),_:1})])),_:1})]))],2)])}const H={class:"row no-wrap q-pa-sm q-pb-md width-320px"},G={class:"col-sm-12 col-md-12 col-lg-12"};function Y(e,t,l,i,s,n){(0,a.g2)("q-badge"),(0,a.g2)("q-icon");const r=(0,a.g2)("q-menu"),d=(0,a.g2)("q-btn");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Q3)("",!0),e.currentElement.display_name?((0,a.uX)(),(0,a.Wv)(d,{key:1,size:e.workflowModel[e.currentElementId].badgeValue==e.workflowModel[e.currentElementId].defaultValue?"xs":"md",flat:e.workflowModel[e.currentElementId].badgeValue!=e.workflowModel[e.currentElementId].defaultValue,rounded:e.workflowModel[e.currentElementId].badgeValue==e.workflowModel[e.currentElementId].defaultValue,outline:e.workflowModel[e.currentElementId].badgeValue==e.workflowModel[e.currentElementId].defaultValue,class:(0,o.C4)([e.workflowModel[e.currentElementId].badgeValue==e.workflowModel[e.currentElementId].defaultValue?"":"selected-custom-badge","custom-badge"]),color:e.workflowModel[e.currentElementId].badgeValue==e.workflowModel[e.currentElementId].defaultValue?"custom-badge-light":"custom-badge-bold",label:e.getLabel(e.isDialog?e.$t(e.workflowModel[e.currentElementId].defaultValue):e.$t(e.workflowModel[e.currentElementId].badgeValue))},{default:(0,a.k6)((()=>[e.isDialog?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(r,{key:0,fit:"",anchor:"bottom middle",self:"top middle",style:{"border-radius":"10px","box-shadow":"0 10px 44px 0 rgba(0, 0, 0, 0.07),0 2px 12px 0 rgba(0, 0, 0, 0.1),0 2px 4px 0 rgba(0, 0, 0, 0.04) !important"}},{default:(0,a.k6)((()=>[(0,a.Q3)("",!0),(0,a.Lk)("div",H,[(0,a.Lk)("div",G,[((0,a.uX)(),(0,a.Wv)((0,a.$y)(e.currentElement.componentName),{currentElement:e.currentElement},null,8,["currentElement"]))])])])),_:1}))])),_:1},8,["size","flat","rounded","outline","class","color","label"])):(0,a.Q3)("",!0)],64)}var J=l(96056);const Z={class:"row items-center justify-end"};function ee(e,t,l,o,i,s){const n=(0,a.g2)("q-btn"),r=(0,a.g2)("q-time"),d=(0,a.g2)("q-popup-proxy"),u=(0,a.g2)("q-icon"),c=(0,a.g2)("q-input"),p=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(c,{dense:"",modelValue:e.workflowModel[e.currentElement.uuid].value,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.workflowModel[e.currentElement.uuid].value=t),t[2]||(t[2]=t=>{e.inputValueChanges(t)})],mask:"time",rules:["time"]},{append:(0,a.k6)((()=>[(0,a.bF)(u,{name:"access_time",class:"cursor-pointer"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{modelValue:e.workflowModel[e.currentElement.uuid].value,"onUpdate:modelValue":t[0]||(t[0]=t=>e.workflowModel[e.currentElement.uuid].value=t),color:"red-8"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Z,[(0,a.bo)((0,a.bF)(n,{label:"Close",color:"red-8",flat:""},null,512),[[p]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}var te=l(83319);const le=(0,a.pM)({name:"badge",components:{},props:{currentElement:{type:{},default:{}}},data(){return{}},methods:{inputValueChanges(e){this.workflowModel[this.currentElement.uuid].badgeValue=e,logInfo("time change")},updateModelOnLoad(e){const t=(0,te.r9)();t.workflowModel[e.uuid].badgeValue=e.data}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}});var ae=l(12807),oe=l(67837),ie=l(50492),se=l(48975),ne=l(34736),re=l(56384),de=l(88672),ue=l(98582),ce=l.n(ue);const pe=(0,ae.A)(le,[["render",ee]]),he=pe;function me(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.usersList,currentElement:e.currentElement,labelToDisplay:e.$t("user"),optionValue:e.optionValue},null,8,["options","currentElement","labelToDisplay","optionValue"])}ce()(le,"components",{QInput:oe.A,QIcon:ie.A,QPopupProxy:se.A,QTime:ne.A,QBtn:re.A}),ce()(le,"directives",{ClosePopup:de.A});const _e={class:"row"},be={class:"col-sm-12 col-md-12 col-lg-12 color-93939A text-capitalize q-pb-sm"},ve={class:"col-sm-12 col-md-12 col-lg-12"};function ge(e,t,l,i,s,n){const r=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.CE)("div",_e,[(0,a.Lk)("div",be,(0,o.v_)(e.$t(e.labelToDisplay)),1),(0,a.Lk)("div",ve,[(0,a.bF)(r,{dense:"",outlined:"","emit-value":"","map-options":"",options:e.filterOptions,label:e.$t(e.label),class:"back-white",color:"light-blue",multiple:e.allowMultiSelection,"use-input":"","input-debounce":"0",onFilter:e.filterFn,"onUpdate:modelValue":[t[0]||(t[0]=t=>{e.inputValueChanges(t)}),t[1]||(t[1]=t=>e.workflowModel[e.currentElement.uuid].value=t)],modelValue:e.workflowModel[e.currentElement.uuid].value,"option-value":e.optionValue},null,8,["options","label","multiple","onFilter","modelValue","option-value"])])])}const fe=(0,a.pM)({name:"generic-dropdown-searchable",components:{},props:{label:{type:String,default:"please_select"},currentElement:{type:Object,default:{id:"",data:null,data_type:"",data_set:[],is_list:!1,display_name:""}},options:{type:Array,default:[]},labelToDisplay:{type:String,default:""},optionValue:{type:String,default:"value"}},data(){return{allowMultiSelection:(0,B.KR)(!1),selectedElement:(0,B.KR)([])}},beforeMount:function(){if(this.currentElement){let e=this.workflowModel[this.currentElement.uuid].value;(!e||e.length<1)&&(this.workflowModel[this.currentElement.uuid].value=[])}this.filterOptions=this.options},mounted(){this.currentElement&&(this.allowMultiSelection=!!this.currentElement.is_list)},methods:{filterFn(e,t){t(e&&" "!=e?()=>{const t=e.toLowerCase();this.filterOptions=this.options.filter((e=>e.label.toLowerCase().indexOf(t)>-1)),this.$forceUpdate()}:()=>{this.filterOptions=this.options})},inputValueChanges(e){if(this.currentElement&&this.filterOptions){if(!e||e.length<1)return void(this.workflowModel[this.currentElement.uuid].badgeValue=this.currentElement.display_name);let t=[];this.allowMultiSelection?t=this.filterOptions.filter((t=>e.includes(t.value.toString()))):(e=e.toString(),t=this.filterOptions.filter((t=>e==t.value)));const l=[];for(const e of t)l.push(e.label);this.workflowModel[this.currentElement.uuid].badgeValue=l.join(", ")}},updateModelOnLoad(e,t){const l=e.uuid;let a=e.data;const o=(0,te.r9)();if(!a||a.length<1)return o.workflowModel[l].value=[],void(o.workflowModel[l].badgeValue=e.display_name);let i=[];const s=a.split(",");i=t.filter((e=>s.includes(e.value.toString())));const n=[];for(const r of i)n.push(r.label);o.workflowModel[l].badgeValue=n.join(", ")}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t,filterOptions:[]}}});var ye=l(94940);const ke=(0,ae.A)(fe,[["render",ge]]),we=ke;ce()(fe,"components",{QSelect:ye.A});const Ce=(0,a.pM)({name:"user-dropdown",components:{dropdown:we},props:{currentElement:{type:Object}},data(){return{optionValue:"valueStr"}},methods:{updateModelOnLoad(e){var t;const l=(0,te.cY)();null===(t=we.methods)||void 0===t||t.updateModelOnLoad(e,l.usersList)}},setup(){const e=(0,te.cY)(),{usersList:t}=(0,V.bP)(e);return{usersList:t}}}),xe=(0,ae.A)(Ce,[["render",me]]),Le=xe,Fe={class:"row"},Ee={class:"col-sm-12 col-md-12 col-lg-12 color-93939A text-capitalize q-pb-sm"},Ae={class:"col-sm-12 col-md-12 col-lg-12"};function Se(e,t,l,i,s,n){const r=(0,a.g2)("q-input");return(0,a.uX)(),(0,a.CE)("div",Fe,[(0,a.Lk)("div",Ee,(0,o.v_)(e.$t(e.currentElement.display_name)),1),(0,a.Lk)("div",Ae,[(0,a.bF)(r,{outlined:"",dense:"",color:"light-blue","onUpdate:modelValue":[t[0]||(t[0]=t=>{e.inputValueChanges(t)}),t[1]||(t[1]=t=>e.workflowModel[e.currentElement.uuid].value=t)],modelValue:e.workflowModel[e.currentElement.uuid].value},null,8,["modelValue"])])])}const De=(0,a.pM)({name:"generic-input",components:{},props:{currentElement:{type:Object,default:{id:"",data:null,data_type:"",data_set:[],is_list:!1,display_name:""}}},data(){return{allowMultiSelection:(0,B.KR)(!1),selectedElement:(0,B.KR)([])}},methods:{inputValueChanges(e){if(this.currentElement){if(!e)return void(this.workflowModel[this.currentElement.uuid].badgeValue=this.currentElement.display_name);this.workflowModel[this.currentElement.uuid].badgeValue=e}},updateModelOnLoad(e){if(e.data){const t=(0,te.r9)();t.workflowModel[e.uuid].badgeValue=e.data}}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}}),Ie=(0,ae.A)(De,[["render",Se]]),Te=Ie;ce()(De,"components",{QInput:oe.A});var Oe=l(76956);function Me(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.docStatusList,currentElement:e.currentElement,labelToDisplay:e.$t("status")},null,8,["options","currentElement","labelToDisplay"])}var Re=l(16332);const Pe={class:"row"},qe={class:"col-sm-12 col-md-12 col-lg-12 color-93939A text-capitalize q-pb-sm"},Ve={class:"col-sm-12 col-md-12 col-lg-12"};function Ne(e,t,l,i,s,n){const r=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.CE)("div",Pe,[(0,a.Lk)("div",qe,(0,o.v_)(e.$t(e.labelToDisplay)),1),(0,a.Lk)("div",Ve,[(0,a.bF)(r,{dense:"",outlined:"","emit-value":"","map-options":"",options:e.options,label:e.$t(e.label),class:"back-white",color:"light-blue",multiple:e.allowMultiSelection,"onUpdate:modelValue":[t[0]||(t[0]=t=>{e.inputValueChanges(t)}),t[1]||(t[1]=t=>e.workflowModel[e.currentElement.uuid].value=t)],modelValue:e.workflowModel[e.currentElement.uuid].value,"option-value":e.optionValue},null,8,["options","label","multiple","modelValue","option-value"])])])}const Be=(0,a.pM)({name:"generic-dropdown",components:{},props:{label:{type:String,default:"please_select"},currentElement:{type:Object,default:{id:"",data:null,data_type:"",data_set:[],is_list:!1,display_name:""}},options:{type:Array,default:[]},labelToDisplay:{type:String,default:""},optionValue:{type:String,default:"value"}},data(){return{allowMultiSelection:(0,B.KR)(!1),selectedElement:(0,B.KR)([])}},beforeMount:function(){if(this.currentElement){let e=this.workflowModel[this.currentElement.uuid].value;(!e||e.length<1)&&(this.workflowModel[this.currentElement.uuid].value=[])}},mounted(){this.currentElement&&(this.allowMultiSelection=!!this.currentElement.is_list)},methods:{inputValueChanges(e){if(this.currentElement&&this.options){if(!e||e.length<1)return void(this.workflowModel[this.currentElement.uuid].badgeValue=this.currentElement.display_name);let t=[];this.allowMultiSelection?(t=this.options.filter((t=>e.includes(t.value.toString()))),logInfo("foundObJ inputvaluechanges",t)):(e=e.toString(),t=this.options.filter((t=>e==t.value)),logInfo("foundObJ inputvaluechanges",t));const l=[];for(const e of t)l.push(e.label);this.workflowModel[this.currentElement.uuid].badgeValue=l.join(", ")}},updateModelOnLoad(e,t){const l=e.uuid;let a=e.data;const o=(0,te.r9)();if(!a||a.length<1)return o.workflowModel[l].value=[],void(o.workflowModel[l].badgeValue=e.display_name);let i=[];const s=a.split(",");i=t.filter((e=>s.includes(e.value.toString())));const n=[];for(const r of i)n.push(r.label);o.workflowModel[l].badgeValue=n.join(", ")}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}}),$e=(0,ae.A)(Be,[["render",Ne]]),Qe=$e;ce()(Be,"components",{QSelect:ye.A});const Xe=(0,a.pM)({name:"status-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object}},data(){return{docStatusList:(0,B.KR)([])}},mounted(){this.currentElement&&(this.docStatusList=this.prepareStatusDropdown(this.currentElement.data_set))},methods:{prepareStatusDropdown(e){let t=[];this.currentElement&&(e=this.currentElement.data_set);for(const l of e)t.push({value:l,label:Re.i18n.t(l)});return t},updateModelOnLoad(e){var t;const l=this.prepareStatusDropdown(e.data_set);null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l)}},setup(){return{}}}),We=(0,ae.A)(Xe,[["render",Me]]),Ke=We;function Ue(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.doc_type_list,currentElement:e.currentElement,labelToDisplay:e.$t("doc_type")},null,8,["options","currentElement","labelToDisplay"])}const je=(0,a.pM)({name:"status-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object,default:{id:"",data:null,data_type:"",data_set:[],is_list:!1,display_name:""}}},data(){return{}},methods:{updateModelOnLoad(e){var t;const l=(0,te.cY)();null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l.doc_type_list)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e),l=(0,te.cY)(),{doc_type_list:a}=(0,V.bP)(l);return{workflowModel:t,doc_type_list:a}}}),ze=(0,ae.A)(je,[["render",Ue]]),He=ze;function Ge(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.operatorList,currentElement:e.currentElement,labelToDisplay:e.$t("operator")},null,8,["options","currentElement","labelToDisplay"])}const Ye=(0,a.pM)({name:"operator-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object}},data(){return{operatorList:[]}},mounted(){this.currentElement&&(this.operatorList=this.prepareOperatorDropdown(this.currentElement.data_set,this.$t))},methods:{prepareOperatorDropdown(e,t){let l=[];this.currentElement&&(e=this.currentElement.data_set);for(const a of e)l.push({value:a,label:Re.i18n.t(a)});return l},updateModelOnLoad(e){var t;const l=this.prepareOperatorDropdown(e.data_set,Re.i18n.t);null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}}),Je=(0,ae.A)(Ye,[["render",Ge]]),Ze=Je;function et(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.math_operatorList,currentElement:e.currentElement,labelToDisplay:e.$t("math_operator")},null,8,["options","currentElement","labelToDisplay"])}const tt=(0,a.pM)({name:"math_operator-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object}},data(){return{math_operatorList:[]}},mounted(){this.currentElement&&(this.math_operatorList=this.preparemath_operatorDropdown(this.currentElement.data_set,this.$t))},methods:{preparemath_operatorDropdown(e,t){let l=[];this.currentElement&&(e=this.currentElement.data_set);for(const a of e)l.push({value:a,label:Re.i18n.t(a)});return l},updateModelOnLoad(e){var t;const l=this.preparemath_operatorDropdown(e.data_set,Re.i18n.t);null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}}),lt=(0,ae.A)(tt,[["render",et]]),at=lt;function ot(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.priorityList,currentElement:e.currentElement,labelToDisplay:e.$t("priority")},null,8,["options","currentElement","labelToDisplay"])}const it=(0,a.pM)({name:"priority-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object}},data(){return{priorityList:[]}},mounted(){this.currentElement&&(this.priorityList=this.preparepriorityDropdown(this.currentElement.data_set,this.$t))},methods:{preparepriorityDropdown(e,t){let l=[];this.currentElement&&(e=this.currentElement.data_set);for(const a of e)l.push({value:a,label:Re.i18n.t(a)});return l},updateModelOnLoad(e){var t;const l=this.preparepriorityDropdown(e.data_set,Re.i18n.t);null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}}),st=(0,ae.A)(it,[["render",ot]]),nt=st;function rt(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.subOrgList,currentElement:e.currentElement,labelToDisplay:e.$t("sub_org")},null,8,["options","currentElement","labelToDisplay"])}const dt=(0,a.pM)({name:"status-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object,default:{id:"",data:null,data_type:"",data_set:[],is_list:!1,display_name:""}}},data(){return{}},methods:{updateModelOnLoad(e){var t;const l=(0,te.cY)();null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l.subOrgList)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e),l=(0,te.cY)(),{subOrgList:a}=(0,V.bP)(l);return{workflowModel:t,subOrgList:a}}}),ut=(0,ae.A)(dt,[["render",rt]]),ct=ut;function pt(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.methodList,currentElement:e.currentElement,labelToDisplay:e.$t("method")},null,8,["options","currentElement","labelToDisplay"])}const ht=(0,a.pM)({name:"method-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object}},data(){return{methodList:[]}},mounted(){this.currentElement&&(this.methodList=this.preparemethodDropdown(this.currentElement.data_set,this.$t))},methods:{preparemethodDropdown(e,t){let l=[];this.currentElement&&(e=this.currentElement.data_set);for(const a of e)l.push({value:a,label:Re.i18n.t(a)});return l},updateModelOnLoad(e){var t;const l=this.preparemethodDropdown(e.data_set,Re.i18n.t);null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}}),mt=(0,ae.A)(ht,[["render",pt]]),_t=mt;function bt(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.send_emailList,currentElement:e.currentElement,labelToDisplay:e.$t("send_email")},null,8,["options","currentElement","labelToDisplay"])}const vt=(0,a.pM)({name:"send_email-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object}},data(){return{send_emailList:[]}},mounted(){this.currentElement&&(this.send_emailList=this.preparesend_emailDropdown(this.currentElement.data_set,this.$t))},methods:{preparesend_emailDropdown(e,t){let l=[];this.currentElement&&(e=this.currentElement.data_set);for(const a of e)l.push({value:a,label:Re.i18n.t(a)});return l},updateModelOnLoad(e){var t;const l=this.preparesend_emailDropdown(e.data_set,Re.i18n.t);null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}}),gt=(0,ae.A)(vt,[["render",bt]]),ft=gt;function yt(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.table_name_list,currentElement:e.currentElement,labelToDisplay:e.$t("table_name")},null,8,["options","currentElement","labelToDisplay"])}const kt=(0,a.pM)({name:"table_name_list-dropdown",components:{dropdown:we},props:{currentElement:{type:Object,default:{id:"",data:null,data_type:"",data_set:[],is_list:!1,display_name:""}}},data(){return{optionValue:"valueStr"}},methods:{updateModelOnLoad(e){var t;const l=(0,te.cY)();null===(t=we.methods)||void 0===t||t.updateModelOnLoad(e,l.table_name_list)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e),l=(0,te.cY)(),{table_name_list:a}=(0,V.bP)(l);return{workflowModel:t,table_name_list:a}}}),wt=(0,ae.A)(kt,[["render",yt]]),Ct=wt;function xt(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.table_column_name_list,currentElement:e.currentElement,labelToDisplay:e.$t("table_column_name"),label:e.$t("please_select_table")},null,8,["options","currentElement","labelToDisplay","label"])}const Lt=(0,a.pM)({name:"status-dropdown",components:{dropdown:we},props:{item:{type:Object},currentElement:{type:Object,default:{id:"",data:null,data_type:"",data_set:[],is_list:!1,display_name:""}}},data(){return{}},methods:{updateModelOnLoad(e){var t;const l=(0,te.cY)();null===(t=we.methods)||void 0===t||t.updateModelOnLoad(e,l.table_column_name_list)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e),l=(0,te.cY)(),{table_column_name_list:a}=(0,V.bP)(l);return{workflowModel:t,table_column_name_list:a}}}),Ft=(0,ae.A)(Lt,[["render",xt]]),Et=Ft;function At(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.dbList,currentElement:e.currentElement,labelToDisplay:e.$t(this.currentElement.display_name)},null,8,["options","currentElement","labelToDisplay"])}const St=(0,a.pM)({name:"db-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object}},data(){return{dbList:[]}},mounted(){this.currentElement&&(this.dbList=this.preparedbDropdown(this.currentElement.data_set,this.$t))},methods:{preparedbDropdown(e,t){let l=[];this.currentElement&&(e=this.currentElement.data_set);for(const a of e)l.push({value:a,label:Re.i18n.t(a)});return l},updateModelOnLoad(e){var t;const l=this.preparedbDropdown(e.data_set,Re.i18n.t);null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}}),Dt=(0,ae.A)(St,[["render",At]]),It=Dt;function Tt(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.groups_list,currentElement:e.currentElement,labelToDisplay:e.$t("group"),optionValue:e.optionValue},null,8,["options","currentElement","labelToDisplay","optionValue"])}const Ot=(0,a.pM)({name:"group-dropdown",components:{dropdown:we},props:{currentElement:{type:Object}},data(){return{optionValue:"valueStr"}},methods:{updateModelOnLoad(e){var t;const l=(0,te.cY)();null===(t=we.methods)||void 0===t||t.updateModelOnLoad(e,l.groups_list)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e),l=(0,te.cY)(),{groups_list:a}=(0,V.bP)(l),o=(0,B.KR)(l.groups_list);return{workflowModel:t,groups_list:a,groups_listFiltered:o}}}),Mt=(0,ae.A)(Ot,[["render",Tt]]),Rt=Mt;function Pt(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.recipientList,currentElement:e.currentElement,labelToDisplay:e.$t("recipient")},null,8,["options","currentElement","labelToDisplay"])}const qt=(0,a.pM)({name:"recipient-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object}},data(){return{recipientList:[]}},mounted(){this.currentElement&&(this.recipientList=this.prepareOrderDataDropdown(this.currentElement.data_set,this.$t))},methods:{prepareOrderDataDropdown(e,t){let l=[];this.currentElement&&(e=this.currentElement.data_set);for(const a of e)l.push({value:a,label:Re.i18n.t(a)});return l},updateModelOnLoad(e){var t;const l=this.prepareOrderDataDropdown(e.data_set,Re.i18n.t);null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}}),Vt=(0,ae.A)(qt,[["render",Pt]]),Nt=Vt;function Bt(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.field_statusList,currentElement:e.currentElement,labelToDisplay:e.$t("field_status")},null,8,["options","currentElement","labelToDisplay"])}const $t=(0,a.pM)({name:"field_status-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object}},data(){return{field_statusList:[]}},mounted(){this.currentElement&&(this.field_statusList=this.prepareOrderDataDropdown(this.currentElement.data_set,this.$t))},methods:{prepareOrderDataDropdown(e,t){let l=[];this.currentElement&&(e=this.currentElement.data_set);for(const a of e)l.push({value:a,label:Re.i18n.t(a)});return l},updateModelOnLoad(e){var t;const l=this.prepareOrderDataDropdown(e.data_set,Re.i18n.t);null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}}),Qt=(0,ae.A)($t,[["render",Bt]]),Xt=Qt;function Wt(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.workflow_listFiltered,currentElement:e.currentElement,labelToDisplay:e.$t("workflow"),optionValue:e.optionValue},null,8,["options","currentElement","labelToDisplay","optionValue"])}const Kt=(0,a.pM)({name:"workflow-dropdown",components:{dropdown:we},props:{currentElement:{type:Object}},data(){return{optionValue:"valueStr"}},methods:{updateModelOnLoad(e){var t;const l=(0,te.cY)();null===(t=we.methods)||void 0===t||t.updateModelOnLoad(e,l.workflow_list)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e),l=(0,te.cY)(),{workflow_list:a}=(0,V.bP)(l),o=(0,B.KR)(l.workflow_list);return{workflowModel:t,workflow_list:a,workflow_listFiltered:o}}}),Ut=(0,ae.A)(Kt,[["render",Wt]]),jt=Ut;function zt(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.booleanList,currentElement:e.currentElement,labelToDisplay:e.$t("boolean")},null,8,["options","currentElement","labelToDisplay"])}const Ht=(0,a.pM)({name:"boolean-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object}},data(){return{booleanList:[]}},mounted(){this.currentElement&&(this.booleanList=this.preparebooleanDropdown(this.currentElement.data_set,this.$t))},methods:{preparebooleanDropdown(e,t){let l=[];this.currentElement&&(e=this.currentElement.data_set);for(const a of e)l.push({value:a,label:Re.i18n.t(a)});return l},updateModelOnLoad(e){var t;const l=this.preparebooleanDropdown(e.data_set,Re.i18n.t);null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}}),Gt=(0,ae.A)(Ht,[["render",zt]]),Yt=Gt;function Jt(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.master_data_table_list,currentElement:e.currentElement,labelToDisplay:e.$t("master_data_table")},null,8,["options","currentElement","labelToDisplay"])}const Zt=(0,a.pM)({name:"status-dropdown",components:{dropdown:we},props:{item:{type:Object},currentElement:{type:Object,default:{id:"",data:null,data_type:"",data_set:[],is_list:!1,display_name:""}}},data(){return{}},methods:{updateModelOnLoad(e){var t;const l=(0,te.cY)();null===(t=we.methods)||void 0===t||t.updateModelOnLoad(e,l.master_data_table_list)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e),l=(0,te.cY)(),{master_data_table_list:a}=(0,V.bP)(l);return{workflowModel:t,master_data_table_list:a}}}),el=(0,ae.A)(Zt,[["render",Jt]]),tl=el;function ll(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.export_configuration_listFiltered,currentElement:e.currentElement,labelToDisplay:e.$t("export_configuration"),optionValue:e.optionValue},null,8,["options","currentElement","labelToDisplay","optionValue"])}const al=(0,a.pM)({name:"export_configuration-dropdown",components:{dropdown:we},props:{currentElement:{type:Object}},data(){return{optionValue:"valueStr"}},methods:{updateModelOnLoad(e){var t;const l=(0,te.cY)();null===(t=we.methods)||void 0===t||t.updateModelOnLoad(e,l.export_configuration_list)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e),l=(0,te.cY)(),{export_configuration_list:a}=(0,V.bP)(l),o=(0,B.KR)(l.export_configuration_list);return{workflowModel:t,export_configuration_list:a,export_configuration_listFiltered:o}}}),ol=(0,ae.A)(al,[["render",ll]]),il=ol;function sl(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.decision_table_list,currentElement:e.currentElement,labelToDisplay:e.$t("decision_table")},null,8,["options","currentElement","labelToDisplay"])}const nl=(0,a.pM)({name:"status-dropdown",components:{dropdown:we},props:{item:{type:Object},currentElement:{type:Object,default:{id:"",data:null,data_type:"",data_set:[],is_list:!1,display_name:"",dependency_variables:null}}},data(){return{}},methods:{updateModelOnLoad(e){var t;const l=(0,te.cY)();null===(t=we.methods)||void 0===t||t.updateModelOnLoad(e,l.decision_table_list)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e),l=(0,te.cY)(),{decision_table_list:a}=(0,V.bP)(l);return{workflowModel:t,decision_table_list:a}}}),rl=(0,ae.A)(nl,[["render",sl]]),dl=rl;function ul(e,t,l,o,i,s){const n=(0,a.g2)("dropdown");return(0,a.uX)(),(0,a.Wv)(n,{options:e.moduledbList,currentElement:e.currentElement,labelToDisplay:e.$t(this.currentElement.display_name)},null,8,["options","currentElement","labelToDisplay"])}const cl=(0,a.pM)({name:"db-dropdown",components:{dropdown:Qe},props:{currentElement:{type:Object}},data(){return{moduledbList:[]}},mounted(){this.currentElement&&(this.moduledbList=this.preparedbDropdown(this.currentElement.data_set,this.$t))},methods:{preparedbDropdown(e,t){this.currentElement&&(e=this.currentElement.data_set);let l=[];for(const a of e)l.push({value:a,label:Re.i18n.t("wf_module_dropdown_"+a.toLowerCase())});return l},updateModelOnLoad(e){var t;const l=this.preparedbDropdown(e.data_set,Re.i18n.t);null===(t=Qe.methods)||void 0===t||t.updateModelOnLoad(e,l)}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}}),pl=(0,ae.A)(cl,[["render",ul]]),hl=pl,ml={time:he,user:Le,users:Le,operator:Ze,priority:nt,status:Ke,str:Te,sub_org_id:ct,event:Te,cronjob:Te,field_value:Te,field_name:Te,doc_type:He,sub_doc_type:Te,math_operator:at,table:Te,tables:Te,method:_t,send_email:ft,table_name:Ct,table_column_name:Et,order_data:It,groups:Rt,table_column_name_compare:Et,table_column_name_compare_to:Et,table_column_name_dependency:Et,table_column_name_left:Et,table_column_name_right:Et,column_name_dependency:Et,result_column_name:Et,recipient:Nt,field_status:Xt,workflow:jt,boolean:Yt,tolerance_amount:Te,tolerance_type:Te,condition_result:It,master_data_table:tl,operator_any_all:It,minutes:It,ignore_pending_tasks:Yt,export_configuration:il,region:It,date:Te,decision_table:dl,module:hl,use_decision_table:Yt,assignee_type:It,trigger_docflow:It,comparison_data:It,task_type:It},_l=(0,a.pM)({name:"badge",mixins:[J.A],components:{time:he,user:Le,users:Le,operator:Ze,priority:nt,status:Ke,str:Te,sub_org_id:ct,event:Te,cronjob:Te,field_value:Te,field_name:Te,doc_type:He,sub_doc_type:Te,math_operator:at,table:Te,tables:Te,method:_t,send_email:ft,table_name:Ct,table_column_name:Et,order_data:It,groups:Rt,table_column_name_compare:Et,table_column_name_compare_to:Et,table_column_name_dependency:Et,table_column_name_left:Et,table_column_name_right:Et,column_name_dependency:Et,result_column_name:Et,recipient:Nt,field_status:Xt,workflow:jt,boolean:Yt,tolerance_amount:Te,tolerance_type:Te,condition_result:It,master_data_table:tl,operator_any_all:It,minutes:It,ignore_pending_tasks:Yt,export_configuration:il,region:It,date:Te,decision_table:dl,module:hl,use_decision_table:Yt,assignee_type:It,trigger_docflow:It,comparison_data:It,task_type:It},props:{isDialog:{type:Boolean,default:!0},variable:{type:String,default:""},item:{type:Object}},data(){return{showItemPanel:(0,B.KR)(!1),currentElementId:(0,B.KR)(""),currentElement:(0,B.KR)({})}},mounted(){this.prepareBadgeValue()},methods:{prepareBadgeValue(){if(this.item){let e=this.variable.split(Oe.XF).join("");Array.from(this.item.variables).forEach((t=>{if(t.id==e&&t.data_type)return this.currentElement=t,t.uuid=t.uuid?t.uuid:(0,q.A)(),this.currentElementId=t.uuid,void this.updateModel(t)}))}},updateModel(e){var t,l;e.data&&this.workflowModel.hasOwnProperty(e.uuid)?ml.hasOwnProperty(e.display_name)&&(null===(t=ml[e.display_name].methods)||void 0===t?void 0:t.updateModelOnLoad)&&(null===(l=ml[e.display_name].methods)||void 0===l||l.updateModelOnLoad(e)):this.workflowModel[e.uuid]={value:"",badgeValue:e.display_name,defaultValue:e.display_name,dependency_variables:e.dependency_variables}},getLabel(e){return this.stringReplaceWithString(e,"_"," ")}},setup(){const e=(0,te.r9)(),{workflowModel:t}=(0,V.bP)(e);return{workflowModel:t}}});var bl=l(23954),vl=l(84436);const gl=(0,ae.A)(_l,[["render",Y],["__scopeId","data-v-f9db34f0"]]),fl=gl;ce()(_l,"components",{QBadge:bl.A,QBtn:re.A,QMenu:vl.A,QIcon:ie.A});var yl=l(18505);const kl=(0,a.pM)({name:"generic-card",emits:["onCardClick","removeCard","replaceCard","changeCardVersion"],mixins:[N.A,J.A,yl.A],components:{Badge:fl},props:{isDialog:{type:Boolean,default:!0},itemIndex:{type:Number,default:null},cardType:{type:String,default:""},parentSvg:{type:String,default:""},color:{type:String,default:""},item:{type:Object,default:{category:"",id:"",text:"",toolTip:"",card_version:""}}},data(){return{showItemPanel:(0,B.KR)(!1),dataArray:(0,B.KR)([])}},mounted(){this.prepareData()},methods:{renderBadge(e){return e.startsWith(Oe.XF)},renderTextTranslation(e){return e.startsWith(Oe.Q9)},prepareData(){try{if(this.item&&this.$t(this.item.text).includes(Oe.XF)){let e=this.$t(this.item.text).split(/(__%)/);for(let t=0;t<e.length;t++){let l="";e[t]&&(e[t]==Oe.XF?(l=e[t]+e[t+1]+e[t+2],t+=2):l=e[t],this.dataArray.push(l))}}}catch(e){}},prepareData2(){if(this.item&&this.item.text.includes(Oe.XF)){let e=this.item.text.split(Oe.XF).join(Oe.XF+Oe.Tr);this.dataArray=e.split(Oe.XF)}},replaceStringSaparatorWithHtmlBtn(e){let t=e.text;return!e.variables||Object.keys(e.variables).length<1||Array.from(e.variables).forEach((e=>{const l='<span class="q-badge flex inline items-center no-wrap q-badge--single-line q-badge--outline text-orange cursor-pointer" @click="testFnction()"> '+e.data_type+" </span>",a=Oe.XF+e.id+Oe.XF;t=t.replace(a,l)})),t},onCardClick(e){this.isDialog&&(e.parentColor=this.color,this.$emit("onCardClick",e))}},setup(){return{}}});var wl=l(97410),Cl=l(18301),xl=l(53999),Ll=l(90124),Fl=l(25173),El=l(13796),Al=l(10386);const Sl=(0,ae.A)(kl,[["render",z],["__scopeId","data-v-cc6e5878"]]),Dl=Sl;ce()(kl,"components",{QIcon:ie.A,QBtn:re.A,QTooltip:wl.A,QBtnDropdown:Cl.A,QMenu:vl.A,QList:xl.A,QItem:Ll.A,QItemSection:Fl.A,QItemLabel:El.A,QPopupProxy:se.A,QSeparator:Al.A,QBadge:bl.A}),ce()(kl,"directives",{ClosePopup:de.A});var Il=l(89156),Tl=l(11470),Ol=l(77362),Ml=l(4847),Rl=l(7426),Pl=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const ql=(0,a.pM)({name:"workflowDesigner",mixins:[N.A,J.A,yl.A],components:{Loader:Il.A,GenericCard:Dl,workflowTemplates:Rl.A,SubHeader:Ol.A},data(){return{isWorkflowEnable:(0,B.KR)(!0),workflowName:(0,B.KR)(""),workFlowId:(0,B.KR)(""),cardType:(0,B.KR)(""),cards:(0,B.KR)([]),category:(0,B.KR)([]),showItemPanel:(0,B.KR)(!1),indexToRemove:(0,B.KR)(null),isWorkflowChanged:(0,B.KR)(!1),criteriaValue:(0,B.KR)("after"),showAddCriteriaBox:(0,B.KR)(!1),isConditionContent:(0,B.KR)(!0),search_value:(0,B.KR)(""),version:(0,B.KR)(""),allCardsListForCardType:(0,B.KR)([]),selectedSubCategory:(0,B.KR)(!1),activeSubCategory:(0,B.KR)("")}},mounted(){return Pl(this,void 0,void 0,(function*(){this.showLoading(),this.indexToRemove=null,this.workFlowId=this.$route.params.id,yield this.getWorkflowAllCards(),yield this.initChildDropdowns(),this.workFlowId&&(yield this.loadWorkflow()),this.hideLoading(),window.vpo=this,this.filteredCardsList=this.cards}))},methods:{initChildDropdowns(){return Pl(this,void 0,void 0,(function*(){const e=this.prepareUsersDropdown(),t=this.getSubOrgsList(),l=this.prepareDocTypeAndSubTypesList(),a=this.prepareTableNameDropdown(),o=this.prepareAllDocumentTableColumnsDropdown(),i=this.prepareGroupsDropdown(),s=this.prepareWorkflowNameDropdown(),n=this.prepareMasterDataTableDropdown(),r=this.prepareExportConfigurationDropdown(),d=this.prepareDecisionTableDropdown();yield Promise.allSettled([e,t,l,a,o,i,s,n,r,d])}))},setCardType(e){this.cards=[],this.cardType=e,this.filteredCardsList.cards=[],this.filteredCardsList.cardType=e,e==Oe.aH.when?(this.category=this.workflowWhenCards,this.filteredCardsList.category=this.workflowWhenCards,this.displayAllCards()):e==Oe.aH.and?(this.category=this.workflowAndCards,this.filteredCardsList.category=this.workflowAndCards,this.displayAllCards()):e==Oe.aH.then&&(this.category=this.workflowThenCards,this.filteredCardsList.category=this.workflowThenCards,this.displayAllCards()),this.activeSubCategory="",this.showItemPanel=!0},displayAllCards(){this.filteredCardsList.cards=[],this.allCardsListForCardType=[];for(let e of this.category){this.setSubCategory(e);const t=this.filteredCardsList.cards;for(let l of t)l.svg_background_color=e.svg_background_color,this.allCardsListForCardType.push(l)}this.selectedSubCategory=!1,this.filteredCardsList.cards=this.allCardsListForCardType},changeCardVersionWhen(e,t,l,a){let o=this.workflowWhenCards.filter((e=>e.category==t.category)),i=o[0].cards.filter((l=>l.card_version==e&&l.id==t.id));i=i[0],i.parentColor=t.parentColor,this.removeCard(l,a),this.setCardType("when"),this.onCardClick(JSON.parse(JSON.stringify(i)))},changeCardVersionAndThen(e,t,l,a){if(a==Oe.aH.and){let o=this.workflowAndCards.filter((e=>e.category==t.category)),i=o[0].cards.filter((l=>l.card_version==e&&l.id==t.id));i=i[0],i.parentColor=t.parentColor,this.replaceCard(l,a),this.setCardType("and"),this.onCardClick(JSON.parse(JSON.stringify(i)))}else{let o=this.workflowThenCards.filter((e=>e.category==t.category)),i=o[0].cards.filter((l=>l.card_version==e&&l.id==t.id));i=i[0],i.parentColor=t.parentColor,this.replaceCard(l,a),this.setCardType("then"),this.onCardClick(JSON.parse(JSON.stringify(i)))}},checkCardVersion(e,t){let l=[];if(l.join(e.card_version),t==Oe.aH.when){const t=this.workflowWhenCards;t.forEach((t=>{t.forEach((t=>{t.id==e.id&&l.join(t.card_version)}))}))}else t==Oe.aH.and?(this.category=this.workflowAndCards,this.filteredCardsList.category=this.workflowAndCards):t==Oe.aH.then&&(this.category=this.workflowThenCards,this.filteredCardsList.category=this.workflowThenCards)},filterLatestCardVersion(){const e=this.filteredCardsList.cards.filter((e=>e.card_version==e.latest_version));this.filteredCardsList.cards=e},filterDeprecatedCards(){const e=this.filteredCardsList.cards.filter((e=>0==e.deprecated));this.filteredCardsList.cards=e},setSubCategory(e){if(this.cards==e&&this.selectedSubCategory)return this.selectedSubCategory=!1,this.inputSearchValueChanges(this.search_value),void(this.activeSubCategory="");this.version="",this.selectedSubCategory=!0,this.activeSubCategory=e.category,e&&(this.cards=e,this.filteredCardsList.cards=e.cards,this.filterDeprecatedCards(),this.filterLatestCardVersion(),this.inputSearchValueChanges(this.search_value))},onCardClickPrepareDropdown(e){return Pl(this,void 0,void 0,(function*(){try{yield this.prepareOrderDataDropdown(e.id.toString())}catch(t){}}))},onCardClick(e){this.onCardClickPrepareDropdown(e);const t=JSON.parse(JSON.stringify(e));for(let l of t.variables)l.uuid=(0,q.A)(),l.componentName=this.getComponentName(l.display_name),this.initWorkFlowMode(l,!0);this.cardType==Oe.aH.when?this.selectedWhenCards=t:this.cardType==Oe.aH.and?this.indexToRemove||0==this.indexToRemove?(this.selectedAndCards.splice(this.indexToRemove,1),this.selectedAndCards.splice(this.indexToRemove,0,t)):this.selectedAndCards.push(t):this.cardType==Oe.aH.then&&(this.indexToRemove||0==this.indexToRemove?(this.selectedThenCards.splice(this.indexToRemove,1),this.selectedThenCards.splice(this.indexToRemove,0,t)):this.selectedThenCards.push(t)),this.indexToRemove=null,this.showItemPanel=!1,this.activeSubCategory=""},removeCard(e,t){this.cardType=t,this.cardType==Oe.aH.when?this.selectedWhenCards={}:this.cardType==Oe.aH.and?this.selectedAndCards.splice(e,1):this.cardType==Oe.aH.then&&this.selectedThenCards.splice(e,1)},replaceCard(e,t){this.indexToRemove=e,this.setCardType(t)},validateSaveJson(){return this.workflowName?this.selectedWhenCards&&Object.keys(this.selectedWhenCards).length<1?(this.showErrorToast("When Can not be empty"),!1):!(this.selectedThenCards&&this.selectedThenCards.length<1)||(this.showErrorToast("Then Can not be empty"),!1):(this.showErrorToast(this.$t("pages.messages.NAME_MANDATORY")),!1)},downloadWorkflow(){return Pl(this,void 0,void 0,(function*(){this.isWorkflowChanged&&this.saveWorkflow();try{this.showLoading(),yield Tl.Bj.exportworkflowtojson(this.workFlowId).then((e=>{const t=new Blob([JSON.stringify(e)],{type:"application/json"}),l=document.createElement("a");l.href=URL.createObjectURL(t),l.download=this.workflowName,l.click(),URL.revokeObjectURL(l.href)}))}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}}))},saveWorkflowTemplate(){return Pl(this,void 0,void 0,(function*(){if(!this.validateSaveJson())return;this.showLoading();let e=!1;this.isWorkflowChanged&&(e=this.workFlowId.length>10,null==e||void 0==e)?this.hideLoading():(yield this.saveTemplateJson(),this.hideLoading(),(e||this.workFlowId.length>10)&&this.$router.push("/template_designer/"+this.workFlowId))}))},saveWorkflow(){return Pl(this,void 0,void 0,(function*(){if(!this.validateSaveJson())return;this.showLoading();let e=!1;!this.isWorkflowChanged&&!JSON.parse(JSON.stringify(this.$router.currentRoute.value.path)).includes("template")||(e=yield this.createWorkflow(),null!=e&&void 0!=e)?(yield this.saveWorkflowJson(),this.hideLoading(),e&&this.$router.push("/workflow_designer/"+this.workFlowId)):this.hideLoading()}))},createWorkflow(){return Pl(this,void 0,void 0,(function*(){let e,t=null;try{if(this.workflowName.length<3)return this.showErrorToast(this.$t("pages.messages.NAME_ATLEAST_3_CHAR")),null;let l={};l.name=this.workflowName,this.workFlowId&&JSON.parse(JSON.stringify(this.$router.currentRoute.value.path)).includes("workflow_designer")?(l.id=this.workFlowId,e=yield Tl.Bj.updateWorkflow(l),t=!1):(delete l.workflow_id,e=yield Tl.Bj.createWorkflow(l),e&&e.id&&(this.workFlowId=e.id,t=!0))}catch(l){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(l),t=null}return t}))},saveWorkflowJson(){return Pl(this,void 0,void 0,(function*(){let e;try{let t=this.prepareWorkFlowJsonToSave();e=yield Tl.Bj.saveWorkflowJson(t),e.success?this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")):e.success||(e.message.includes(" ")?this.showErrorToast(e.message):this.showErrorToast(this.$t("pages.messages."+e.message)))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}}))},saveTemplateJson(){return Pl(this,void 0,void 0,(function*(){let e;try{const t=this.prepareWorkFlowJsonToSave();let l={template_id:t.workflow_id,data:t.data,name:this.workflowName};e=yield Tl.Bj.saveWorkflowTemplateJSON(l),e.success&&(this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.workFlowId=e.workflow.id)}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}}))},prepareWorkFlowJsonToSave(){let e=JSON.parse(JSON.stringify(this.selectedWhenCards)),t=JSON.parse(JSON.stringify(this.selectedAndCards)),l=JSON.parse(JSON.stringify(this.selectedThenCards));delete e.parentColor,delete e.svg,delete e.category,delete e.svg_background_color;for(let o of e.variables)o.data=this.prepareVariableData(o),delete o.uuid;for(let o of t){delete o.parentColor,delete o.svg,delete o.category,delete o.svg_background_color;for(let e of o.variables)e.data=this.prepareVariableData(e),delete e.uuid}for(let o of l){delete o.parentColor,delete o.svg,delete o.category,delete o.svg_background_color;for(let e of o.variables)e.data=this.prepareVariableData(e),delete e.uuid}const a={workflow_id:this.workFlowId,data:{when_condition:e,and_conditions:t,then_conditions:l}};return a},prepareVariableData(e){let t=this.workflowModel[e.uuid].value,l="";return l=e.is_list&&t?this.workflowModel[e.uuid].value.join(","):t?t.toString():"",l},inputSearchValueChanges(e){e.length>2&&this.selectedSubCategory?this.filteredCardsList.cards=this.cards.cards.filter((t=>this.$t(t.text).toLowerCase().includes(e.toLowerCase()))):e.length>2?this.filteredCardsList.cards=this.allCardsListForCardType.filter((t=>this.$t(t.text).toLowerCase().includes(e.toLowerCase()))):this.selectedSubCategory?this.filteredCardsList.cards=this.cards.cards:this.filteredCardsList.cards=this.allCardsListForCardType,this.filterDeprecatedCards(),this.filterLatestCardVersion()},inputValueChanges(){this.isWorkflowChanged=!0},loadWorkflow(){return Pl(this,void 0,void 0,(function*(){let e;try{e=JSON.parse(JSON.stringify(this.$router.currentRoute.value.path)).includes("template")?yield Tl.Bj.loadWorkflowTemplateJson(this.workFlowId):yield Tl.Bj.loadworkflowJson(this.workFlowId),e.success&&this.prepareWorkFlowJsonToDisplay(e),e.data&&e.data.error_logs&&!0===e.data.error_logs.errors&&this.showErrorToast(this.$t("pages.messages.workflow_card_issue"))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}}))},prepareWorkFlowJsonToDisplay(e){this.workflowName=e.name,this.isWorkflowEnable=e.enabled,this.selectedWhenCards=e.data&&e.data.when_condition?e.data.when_condition:{},this.selectedAndCards=e.data&&e.data.and_conditions?e.data.and_conditions:[],this.selectedThenCards=e.data&&e.data.then_conditions?e.data.then_conditions:[];let t=new Map;for(let l of this.workflowWhenCards)t.set(l.category,l.svg_background_color);for(let l of this.workflowAndCards)t.set(l.category,l.svg_background_color);for(let l of this.workflowThenCards)t.set(l.category,l.svg_background_color);if(this.selectedWhenCards&&Object.keys(this.selectedWhenCards).length>0){this.selectedWhenCards.parentColor=t.get(this.selectedWhenCards.category);for(let e of this.selectedWhenCards.variables)e.componentName=this.getComponentName(e.display_name),e.uuid=(0,q.A)(),this.initWorkFlowMode(e,!1)}for(let l of this.selectedAndCards){l.parentColor=t.get(l.category);for(let e of l.variables)e.componentName=this.getComponentName(e.display_name),e.uuid=(0,q.A)(),this.initWorkFlowMode(e,!1)}for(let l of this.selectedThenCards){l.parentColor=t.get(l.category);for(let e of l.variables)e.componentName=this.getComponentName(e.display_name),e.uuid=(0,q.A)(),this.initWorkFlowMode(e,!1)}},initWorkFlowMode(e,t){this.workflowModel[e.uuid]={value:e.data?e.data:"",badgeValue:e.data?e.data:e.display_name,defaultValue:e.display_name},t?e.data_type==Oe.aH.operator&&e.data&&(this.workflowModel[e.uuid].value=e.data):e.is_list?this.workflowModel[e.uuid].value=e.data.split(","):this.workflowModel[e.uuid].value=e.data},getComponentName(e){return Ml.$Z.includes(e)?e:Ml.WF}},setup(){const e=(0,te.r9)();e.$reset();const{getWorkflowAllCards:t}=e,{workflowModel:l,workflowWhenCards:a,workflowAndCards:o,workflowThenCards:i,selectedAndCards:s,selectedWhenCards:n,selectedThenCards:r}=(0,V.bP)(e),d=(0,te.cY)(),{prepareUsersDropdown:u,getSubOrgsList:c,prepareDocTypeAndSubTypesList:p,prepareTableNameDropdown:h,prepareAllDocumentTableColumnsDropdown:m,prepareOrderDataDropdown:_,prepareGroupsDropdown:b,prepareWorkflowNameDropdown:v,prepareMasterDataTableDropdown:g,prepareExportConfigurationDropdown:f,prepareDecisionTableDropdown:y}=d;return{workflowModel:l,workflowAndCards:o,workflowWhenCards:a,workflowThenCards:i,selectedAndCards:s,selectedWhenCards:n,selectedThenCards:r,getWorkflowAllCards:t,prepareUsersDropdown:u,getSubOrgsList:c,prepareDocTypeAndSubTypesList:p,prepareTableNameDropdown:h,prepareOrderDataDropdown:_,prepareGroupsDropdown:b,prepareWorkflowNameDropdown:v,prepareDecisionTableDropdown:y,prepareMasterDataTableDropdown:g,prepareExportConfigurationDropdown:f,prepareAllDocumentTableColumnsDropdown:m,search:(0,B.KR)(""),filteredCardsList:(0,B.KR)([]),ShowTemplateDashboard:(0,B.KR)(!1)}}});var Vl=l(82156),Nl=l(23316),Bl=l(36914),$l=l(39150),Ql=l(44189);const Xl=(0,ae.A)(ql,[["render",P],["__scopeId","data-v-480542e4"]]),Wl=Xl;ce()(ql,"components",{QBtn:re.A,QIcon:ie.A,QInput:oe.A,QDialog:Vl.A,QCard:Nl.A,QToolbar:Bl.A,QToolbarTitle:$l.A,QCardSection:Ql.A}),ce()(ql,"directives",{ClosePopup:de.A})},7426:(e,t,l)=>{"use strict";l.d(t,{A:()=>se});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-43469b12"),e=e(),(0,a.jt)(),e),n={class:"text-weight-bold text-white"},r={class:"table-header-text"},d={class:"text-left q-pl-md"},u={class:"text-center width-160"},c=["onClick"],p={class:"text-left"},h={class:"text-center"},m={class:"text-red"},_={key:1},b={class:"text-center",colspan:100},v={key:2},g={class:"text-center",colspan:100},f=s((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1))),y={class:"back-white flex justify-end"},k={class:"q-ml-sm"};function w(e,t,l,s,w,C){const x=(0,a.g2)("q-toolbar-title"),L=(0,a.g2)("q-btn"),F=(0,a.g2)("q-toolbar"),E=(0,a.g2)("q-card-section"),A=(0,a.g2)("q-icon"),S=(0,a.g2)("q-input"),D=(0,a.g2)("q-checkbox"),I=(0,a.g2)("q-badge"),T=(0,a.g2)("q-item-section"),O=(0,a.g2)("q-item"),M=(0,a.g2)("q-list"),R=(0,a.g2)("q-menu"),P=(0,a.g2)("q-inner-loading"),q=(0,a.g2)("q-markup-table"),V=(0,a.g2)("q-pagination"),N=(0,a.g2)("q-card"),B=(0,a.g2)("q-avatar"),$=(0,a.g2)("q-card-actions"),Q=(0,a.g2)("q-dialog"),X=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(N,{class:"standard-popup-size"},{default:(0,a.k6)((()=>[(0,a.bF)(E,{class:"row background-color"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"secondary-toolbar",style:{"margin-top":"-10px","margin-bottom":"-10px"}},{default:(0,a.k6)((()=>[(0,a.bF)(x,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",n,(0,o.v_)(e.$t("workflow_templates_title")),1)])),_:1}),(0,a.bo)((0,a.bF)(L,{flat:"",round:"",dense:"",icon:"close",color:"white"},null,512),[[X]])])),_:1})])),_:1}),(0,a.bF)(E,{class:"row"},{default:(0,a.k6)((()=>[(0,a.bF)(S,{modelValue:e.searchTemplateBy,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.searchTemplateBy=t),t[1]||(t[1]=t=>e.inputValueChangesTemplateSearch())],dense:"",class:(0,o.C4)(0===e.searchTemplateBy.length?"search-in-active col-9":"search-active col-9"),autofocus:"",placeholder:e.$t("search_template"),outlined:"",style:{"padding-right":"5px"}},{append:(0,a.k6)((()=>[(0,a.bF)(A,{flat:"",dense:"",name:"search",size:"24px",color:"primary"})])),_:1},8,["modelValue","class","placeholder"]),(0,a.bF)(D,{class:"col-3",modelValue:e.showDefaultTemplates,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.showDefaultTemplates=t),e.loadTemplateDashboard],label:e.$t("show_default_templates"),"indeterminate-value":!1},null,8,["modelValue","label","onUpdate:modelValue"])])),_:1}),(0,a.bF)(E,{class:"table-section-height"},{default:(0,a.k6)((()=>[(0,a.bF)(q,{flat:"",class:"template-table-style full-height","wrap-cells":""},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",r,[(0,a.Lk)("th",d,(0,o.v_)(e.$t("name")),1),(0,a.Lk)("th",u,(0,o.v_)(e.$t("actions")),1)])]),(0,a.Lk)("tbody",null,[e.tableDataTemplate.length>0?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:0},(0,a.pI)(e.tableDataTemplate,((l,s)=>((0,a.uX)(),(0,a.CE)("tr",{class:"cursor-pointer workflow-name",key:s,onClick:t=>e.openTemplateDesigner(l.id)},[(0,a.Lk)("td",p,["default"==l.org_id?((0,a.uX)(),(0,a.CE)("span",{key:0,style:{"font-size":"16px"},class:(0,o.C4)(1==l.enabled?"enabled-name":"disabled-name")},[(0,a.bF)(I,{transparent:"",align:"middle",color:"orange"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("default_template")),1)])),_:1}),(0,a.eW)(" "+(0,o.v_)(l.name),1)],2)):(0,a.Q3)("",!0),"default"!=l.org_id?((0,a.uX)(),(0,a.CE)("span",{key:1,style:{"font-size":"16px"},class:(0,o.C4)(1==l.enabled?"enabled-name":"disabled-name")},(0,o.v_)(l.name),3)):(0,a.Q3)("",!0)]),(0,a.Lk)("td",h,[(0,a.bF)(L,{flat:"",dense:"",round:"",onClick:t[3]||(t[3]=(0,i.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz"},{default:(0,a.k6)((()=>[(0,a.bF)(R,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,a.k6)((()=>[(0,a.bF)(M,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[(0,a.bF)(O,{clickable:""},{default:(0,a.k6)((()=>[(0,a.bF)(T,{onClick:t=>e.copyTemplate(l.id)},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("duplicate")),1)])),_:2},1032,["onClick"])])),_:2},1024),"default"!=l.org_id?((0,a.uX)(),(0,a.Wv)(O,{key:0,clickable:""},{default:(0,a.k6)((()=>["default"!=l.org_id?((0,a.uX)(),(0,a.Wv)(T,{key:0,onClick:t=>{e.templateId=l.id,e.confirmDeleteTemplate=!0,e.selectedRecordIndex=s}},{default:(0,a.k6)((()=>[(0,a.Lk)("span",m,(0,o.v_)(e.$t("delete")),1)])),_:2},1032,["onClick"])):(0,a.Q3)("",!0)])),_:2},1024)):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])],8,c)))),128)):0!=e.tableDataTemplate.length||this.showDefaultTemplates?((0,a.uX)(),(0,a.CE)("tr",v,[(0,a.Lk)("td",g,(0,o.v_)(e.$t("no_default_templates_saved")),1)])):((0,a.uX)(),(0,a.CE)("tr",_,[(0,a.Lk)("td",b,(0,o.v_)(e.$t("no_templates_saved")),1)]))]),(0,a.bF)(P,{showing:e.loading},{default:(0,a.k6)((()=>[f])),_:1},8,["showing"])])),_:1}),(0,a.Lk)("div",y,[(0,a.bF)(V,{modelValue:e.current_page_templates,"onUpdate:modelValue":[t[4]||(t[4]=t=>e.current_page_templates=t),t[5]||(t[5]=t=>e.nexPageClickedTemplates())],color:"primary",max:e.total_pages_templates,class:"q-py-xs q-mx-md","max-pages":6,input:"","boundary-links":""},null,8,["modelValue","max"])])])),_:1})])),_:1}),(0,a.bF)(Q,{modelValue:e.confirmDeleteTemplate,"onUpdate:modelValue":t[7]||(t[7]=t=>e.confirmDeleteTemplate=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(N,null,{default:(0,a.k6)((()=>[(0,a.bF)(E,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(B,{icon:"warning",color:"primary"})])),_:1}),(0,a.bF)(E,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",k,(0,o.v_)(e.$t("pages.messages.msg_delete")),1)])),_:1}),(0,a.bF)($,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(L,{flat:"",label:e.$t("cancel"),color:"primary"},null,8,["label"]),[[X]]),(0,a.bo)((0,a.bF)(L,{flat:"",label:e.$t("delete"),color:"primary",onClick:t[6]||(t[6]=t=>{e.deleteTemplate()})},null,8,["label"]),[[X]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var C=l(53500),x=l(1659),L=l(24622),F=l(38734),E=l(96056),A=l(18505),S=l(11470),D=l(83319),I=l(64775),T=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const O=(0,a.pM)({name:"workflowTemplates",mixins:[L.A,E.A,A.A],data(){return{confirmDeleteTemplate:(0,F.KR)(!1),selectedRecordIndex:(0,F.KR)(),tableDataTemplate:{},searchTemplateBy:(0,F.KR)(""),showDefaultTemplates:(0,F.KR)(!0)}},mounted(){this.debounceSearchInputFuncTemplate=(0,C.A)((()=>{this.loadTemplateDashboard()}),1e3),this.loadTemplateDashboard()},methods:{inputValueChangesTemplateSearch(){this.debounceSearchInputFuncTemplate()},deleteTemplate(){return T(this,void 0,void 0,(function*(){let e;try{this.showLoading(),e=yield S.Bj.deleteWorkflowTemplate(this.templateId),this.showSuccessToast(this.$t("pages.messages.DELETED_SUCCESSFULLY")),this.tableDataTemplate.splice(this.selectedRecordIndex,1)}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.hideLoading()}}))},copyTemplate(e){return T(this,void 0,void 0,(function*(){let t;logInfo("copy");try{this.showLoading(),t=yield S.Bj.copyTemplate(e),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),logInfo("copy response",JSON.parse(JSON.stringify(t.workflow))),this.tableDataTemplate.splice(0,0,JSON.parse(JSON.stringify(t.workflow)))}catch(l){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(l)}finally{this.hideLoading()}}))},loadTemplateDashboard(){return T(this,void 0,void 0,(function*(){let e;try{this.loading=!0,this.request_params_templates={},this.request_params_templates["offset"]=this.offset_templates,this.request_params_templates["limit"]=this.page_size_templates,this.request_params_templates["order_by_direction"]="desc",this.request_params_templates["include_defaults"]=this.showDefaultTemplates,this.searchTemplateBy.length>1&&(this.request_params_templates["name"]=this.searchTemplateBy),e=yield S.Bj.getTemplateDashboard(this.request_params_templates),e.all_entries_count>0&&0==e.entries.length&&this.showDefaultTemplates&&(this.resetPaginationTemplates(),this.loadTemplateDashboard()),e.entries&&(this.tableDataTemplate=e.entries),this.total_records_templates=e.all_entries_count,this.setTotalPagesTemplates()}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.loading=!1}}))},openTemplateDesigner(e){this.$router.push("/template_designer/"+e)},resetPaginationTemplates(){this.offset_templates=0,this.total_pages_templates=0,this.current_page_templates=1,this.total_records_templates=0},setTotalPagesTemplates(){this.total_pages_templates=Math.ceil(this.total_records_templates/this.page_size_templates)},nexPageClickedTemplates(){return T(this,void 0,void 0,(function*(){try{this.calculateOffsetTemplates(),yield this.loadTemplateDashboard()}catch(e){const t=I.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}}))},calculateOffsetTemplates(){this.offset_templates=this.page_size_templates*(this.current_page_templates-1)}},setup(){const e=(0,D.cY)(),{doc_type_list:t,trigger_list:l,subOrgList:a}=(0,x.bP)(e),{getSubOrgsList:o,getDocumentTriggers:i}=e;return{ShowTemplateDashboard:(0,F.KR)(!0),loading:(0,F.KR)(!1),formData:{},debounceSearchInputFuncTemplate:{},workflowTemplates:(0,F.KR)(!1),request_params_templates:(0,F.KR)({}),current_page_templates:(0,F.KR)(1),total_pages_templates:(0,F.KR)(1),offset_templates:(0,F.KR)(0),page_size_templates:(0,F.KR)(10),total_records_templates:(0,F.KR)(0),getSubOrgsList:o,getDocumentTriggers:i}}});var M=l(12807),R=l(23316),P=l(44189),q=l(36914),V=l(39150),N=l(56384),B=l(67837),$=l(50492),Q=l(80460),X=l(857),W=l(23954),K=l(84436),U=l(53999),j=l(10386),z=l(90124),H=l(25173),G=l(39035),Y=l(54700),J=l(82156),Z=l(3952),ee=l(62669),te=l(42315),le=l(88672),ae=l(98582),oe=l.n(ae);const ie=(0,M.A)(O,[["render",w],["__scopeId","data-v-43469b12"]]),se=ie;oe()(O,"components",{QCard:R.A,QCardSection:P.A,QToolbar:q.A,QToolbarTitle:V.A,QBtn:N.A,QInput:B.A,QIcon:$.A,QCheckbox:Q.A,QMarkupTable:X.A,QBadge:W.A,QMenu:K.A,QList:U.A,QSeparator:j.A,QItem:z.A,QItemSection:H.A,QInnerLoading:G.A,QPagination:Y.A,QDialog:J.A,QAvatar:Z.A,QCardActions:ee.A,QTable:te.A}),oe()(O,"directives",{ClosePopup:le.A})},42406:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>Mt});var a=l(61758),o=l(58790),i=l(29104);const s=e=>((0,a.Qi)("data-v-5552d1e0"),e=e(),(0,a.jt)(),e),n={key:0,class:"row justify-center q-pa-lg"},r={key:1},d={key:0},u={key:0,class:"full-width"},c={class:"highlighted-back"},p={class:"q-pa-lg flex flex-center"},h={key:0},m={class:"text-center",colspan:"10"},_={class:"full-width dashboard-list-area"},b={class:"table-header-text back-white"},v=["onDragstart","onDrop","onDragover","data-index","draggable"],g={key:0,class:"q-pr-md"},f={key:2,class:"float-right q-pl-md"},y={class:"page-background"},k=["data-index","id"],w={class:"table-body",style:{width:"80px"}},C={class:"row",style:{width:"80px"}},x={key:1,style:{width:"28px"}},L=["onClick"],F={class:"q-ml-auto",style:{display:"flex","justify-content":"right","padding-right":"16px"}},E={style:{left:"60px"}},A={style:{padding:"2px"},class:"dashboard-status-text"},S={class:"q-ml-auto",style:{"padding-right":"16px"}},D={class:"page-background z-index-1"},I=["src"],T={class:"q-pr-xs"},O=["innerHTML"],M=["onClick"],R={key:1,style:{"padding-right":"20px"}},P={class:"text-red-14"},q=s((()=>(0,a.Lk)("div",{class:"box loading-shimmer"},null,-1))),V=[q],N={key:1},B=["colspan"],$={class:"back-white flex justify-end"},Q={class:"row",style:{"margin-right":"0"}},X={class:"flex float-right"},W={key:0},K=s((()=>(0,a.Lk)("td",{class:"text-center",colspan:"10"},null,-1))),U=[K],j={class:"q-ml-sm"},z={cellspacing:"0",cellpadding:"0",style:{border:"none",width:"100%"}},H={style:{width:"5%"}},G={style:{padding:"5%","text-align":"center"}},Y={style:{width:"5%"}},J={cellspacing:"5px",cellpadding:"5px",style:{border:"none",width:"100%"}},Z={cellspacing:"0",cellpadding:"0",style:{border:"none",width:"100%"}},ee={style:{width:"5%"}},te={style:{padding:"5%","text-align":"center"}},le={style:{width:"5%"}},ae={cellspacing:"5px",cellpadding:"5px",style:{border:"none",width:"100%"}},oe={style:{"text-align":"center"}},ie={class:"q-ml-sm"};function se(e,t,l,s,q,K){const se=(0,a.g2)("SupplierApprovalStatus"),ne=(0,a.g2)("SubHeader"),re=(0,a.g2)("MobileGrid"),de=(0,a.g2)("q-markup-table"),ue=(0,a.g2)("q-pagination"),ce=(0,a.g2)("DashboardHeader"),pe=(0,a.g2)("q-separator"),he=(0,a.g2)("q-checkbox"),me=(0,a.g2)("q-icon"),_e=(0,a.g2)("q-tooltip"),be=(0,a.g2)("q-fab-action"),ve=(0,a.g2)("q-fab"),ge=(0,a.g2)("ColumnOrderBy"),fe=(0,a.g2)("q-spinner"),ye=(0,a.g2)("q-badge"),ke=(0,a.g2)("q-btn"),we=(0,a.g2)("q-item-section"),Ce=(0,a.g2)("q-item"),xe=(0,a.g2)("q-list"),Le=(0,a.g2)("q-menu"),Fe=(0,a.g2)("PaginationSettings"),Ee=(0,a.g2)("DuplicateDlalog"),Ae=(0,a.g2)("q-splitter"),Se=(0,a.g2)("q-avatar"),De=(0,a.g2)("q-card-section"),Ie=(0,a.g2)("f-btn"),Te=(0,a.g2)("q-card-actions"),Oe=(0,a.g2)("q-card"),Me=(0,a.g2)("q-dialog"),Re=(0,a.g2)("DocAssignment"),Pe=(0,a.g2)("action-details-popup"),qe=(0,a.g2)("Loader"),Ve=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,["pending_registration"===e.supplier_approval_status||"pending_supplier_input"===e.supplier_approval_status||"pending_approval"===e.supplier_approval_status||"rejected"===e.supplier_approval_status||"pending_ap_approval"===e.supplier_approval_status?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.bF)(se,{status:e.supplier_approval_status,supplier_as_org_id:e.supplier_as_org_id,supplier_lookup_record_id:e.supplier_lookup_record_id},null,8,["status","supplier_as_org_id","supplier_lookup_record_id"])])):((0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(ne,{name:"dashboard",onSearch:!1,label:e.$t("pages.screen2a.dashboard"),show_expiry_alert:!0},null,8,["label"]),e.isMobile()?((0,a.uX)(),(0,a.CE)("div",d,[e.display_data&&e.display_data.length>0?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.bF)(re,{table_data:e.display_data,onRowClick:e.rowClick},null,8,["table_data","onRowClick"])])):((0,a.uX)(),(0,a.Wv)(de,{key:1,flat:"",class:"full-width"},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",c,[(0,a.Lk)("th",null,(0,o.v_)(e.$t("no_data_found")),1)])])])),_:1})),(0,a.Lk)("div",p,[e.display_data.length>0?((0,a.uX)(),(0,a.CE)("tr",h,[(0,a.Lk)("td",m,[(0,a.bF)(ue,{modelValue:e.paginationCount,"onUpdate:modelValue":t[0]||(t[0]=t=>e.paginationCount=t),color:"primary",max:e.skip,"max-pages":6,"boundary-links":"",onClick:t[1]||(t[1]=t=>e.loadData())},null,8,["modelValue","max"])])])):(0,a.Q3)("",!0)])])):((0,a.uX)(),(0,a.CE)("div",{key:1,class:"dashboard-container dashboard-text-color",onDrop:t[16]||(t[16]=(...t)=>e.drop&&e.drop(...t)),onDragover:t[17]||(t[17]=(...t)=>e.allowDrop&&e.allowDrop(...t)),onDragleave:t[18]||(t[18]=(...t)=>e.dragLeave&&e.dragLeave(...t))},[(0,a.bF)(ce),(0,a.bF)(pe,{class:"seperator"}),(0,a.bF)(Ae,{horizontal:"",limits:[0,100],disable:!e.isDuplicatePanel,modelValue:e.splitterModel,"onUpdate:modelValue":t[15]||(t[15]=t=>e.splitterModel=t),class:"dashboard-main","after-class":e.isDuplicatePanel?"q-pa-xs":"q-px-sm","before-class":"q-pa-sm","separator-class":(e.isDuplicatePanel,"q-ma-sm")},{before:(0,a.k6)((()=>[(0,a.Lk)("div",_,[e.table_columns.length>0?((0,a.uX)(),(0,a.Wv)(de,{key:0,flat:"",id:e.tableId,class:(0,o.C4)(["dashboard-table-style back-white dashboard-table-height dashboard-table-header-sticky",e.display_data.length>0?"dashboard-min-height":""])},{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",b,[(0,a.Lk)("th",null,[(0,a.bF)(he,{modelValue:e.headerCheckbox,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.headerCheckbox=t),t[3]||(t[3]=t=>e.changeAction())],dense:""},null,8,["modelValue"]),(0,a.bF)(ve,{modelValue:e.headerFabIcon,"onUpdate:modelValue":t[8]||(t[8]=t=>e.headerFabIcon=t),disable:e.selectionList.length<1,"label-position":"top",flat:"","data-cy":"actions","external-label":"",icon:"more_vert",direction:"down",padding:"1px"},{default:(0,a.k6)((()=>[(0,a.bF)(be,{onClick:t[4]||(t[4]=t=>e.deleteMultipalDocument()),padding:"7px","external-label":"","label-position":"top","data-cy":"delete",style:{background:"#b90713"},disable:e.isMultiDeleteButtonDisabled},{default:(0,a.k6)((()=>[(0,a.bF)(me,{style:{padding:"1px 1px 1px 1px"},name:"img:images/trash-bin-default-white.svg",size:"20px"}),(0,a.bF)(_e,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.isMultiDeleteButtonDisabled?e.$t("could_not_delete"):e.$t("delete")),1)])),_:1})])),_:1},8,["disable"]),(0,a.bF)(be,{onClick:t[5]||(t[5]=t=>e.restartMultipalDocExport()),padding:"7px","external-label":"","label-position":"top",style:{background:"#6479ff"},disable:e.isMultiRestartButtonDisabled},{default:(0,a.k6)((()=>[(0,a.bF)(me,{style:{padding:"1px 1px 1px 1px"},name:"img:images/refresh.svg",size:"20px"}),(0,a.bF)(_e,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.isMultiRestartButtonDisabled?e.$t("could_not_restart"):e.$t("restart")),1)])),_:1})])),_:1},8,["disable"]),e.isAssignToVisible?((0,a.uX)(),(0,a.Wv)(be,{key:0,onClick:t[6]||(t[6]=t=>e.multipleDocAssignment()),padding:"7px","external-label":"","label-position":"top",style:{background:"#6decb4"}},{default:(0,a.k6)((()=>[(0,a.bF)(me,{style:{padding:"1px 1px 1px 1px"},name:"img:images/assign to.svg",size:"20px"}),(0,a.bF)(_e,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("assign2")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(be,{onClick:t[7]||(t[7]=t=>e.confirmMerge()),padding:"5px","external-label":"","label-position":"top",color:"deep-orange-6",icon:"merge"},{default:(0,a.k6)((()=>[(0,a.bF)(_e,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("merge")),1)])),_:1})])),_:1})])),_:1},8,["modelValue","disable"])]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns,((l,s)=>((0,a.uX)(),(0,a.CE)("th",{key:s,class:(0,o.C4)(["max-width-160",e.indexToMove==s?"dragging":""]),onDragstart:t=>e.onDragStart(t,e.table_columns,s),onDrop:(0,i.D$)((t=>e.handleDrop(t,s)),["prevent"]),onDragover:(0,i.D$)((t=>e.onDragOver(t,s)),["prevent"]),onDragenter:t[9]||(t[9]=(0,i.D$)(((...t)=>e.onDragEnter&&e.onDragEnter(...t)),["prevent"])),"data-index":s,onDragleave:t[10]||(t[10]=(0,i.D$)(((...t)=>e.onDragLeave&&e.onDragLeave(...t)),["prevent"])),style:(0,o.Tr)({cursor:e.getIsDragging?"pointer":"move"}),dropzone:"true",draggable:e.allowColumSorting},[l.hasOwnProperty("label")?((0,a.uX)(),(0,a.CE)("span",g,(0,o.v_)(e.$t(l.label)),1)):((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,o.v_)(e.$t(l.name)),1)],64)),l.sortable?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.bF)(ge,{column_name:l.name},null,8,["column_name"])])):(0,a.Q3)("",!0)],46,v)))),128)),(0,a.Lk)("th",y,[(0,a.Lk)("span",null,(0,o.v_)(e.$t("actions")),1)])])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.display_data,((l,s)=>((0,a.uX)(),(0,a.CE)("tr",{key:l["id"],class:(0,o.C4)(e.setRowStyle(l)),"data-index":s,id:"row_"+l.id},[(0,a.Lk)("td",w,[(0,a.Lk)("div",C,[(0,a.bF)(he,{dense:"",modelValue:l["rowSelection"],"onUpdate:modelValue":[e=>l["rowSelection"]=e,t=>e.checkRowExistance(l["id"],l["rowSelection"])]},null,8,["modelValue","onUpdate:modelValue"]),l["locked_by"]?((0,a.uX)(),(0,a.Wv)(me,{key:0,name:"lock",style:{color:"#7a7a7a"},size:"22px",class:"mt-3 q-ml-sm"},{default:(0,a.k6)((()=>[!1===e.isLoadingUserList?((0,a.uX)(),(0,a.Wv)(_e,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.showLockUser(l.locked_by)),1)])),_:2},1024)):((0,a.uX)(),(0,a.Wv)(_e,{key:1},{default:(0,a.k6)((()=>[(0,a.bF)(fe,{size:"20px"})])),_:1}))])),_:2},1024)):((0,a.uX)(),(0,a.CE)("div",x))])]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns,((t,i)=>((0,a.uX)(),(0,a.CE)("td",{key:i,onClick:a=>"status"===t.name&&"error"===l["status"]?e.getErrorInfos(l):e.rowClick(l,!0,e.isMediUser()),class:(0,o.C4)([e.getClassesForColumn(l["status"],t.name),"text-weight-regular max-width-160 ellipsify table-body"])},["pages"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("span",F,(0,o.v_)(l[t.name]?l[t.name]:"-"),1),l[t.name]?((0,a.uX)(),(0,a.Wv)(_e,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l[t.name]),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)):"priority"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("span",E,(0,o.v_)(l[t.name]?l[t.name]:"-"),1),l[t.name]?((0,a.uX)(),(0,a.Wv)(_e,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l[t.name]),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)):"status"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.Lk)("span",null,[(0,a.bF)(ye,{align:"middle",class:(0,o.C4)(e.getStatusClass(l["status"]))},{default:(0,a.k6)((()=>[(0,a.Lk)("span",A,(0,o.v_)(e.getLabelTranslation(l["status"])),1)])),_:2},1032,["class"])]),(0,a.bF)(_e,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.getLabelTranslation(l["status"])),1)])),_:2},1024),"error"===l["status"]?((0,a.uX)(),(0,a.Wv)(_e,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)(" Click over status to see more details ")])),_:1})):(0,a.Q3)("",!0)],64)):"doc_type"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[(0,a.eW)((0,o.v_)(e.setDisplayDocType(l))+" ",1),(0,a.bF)(_e,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.setDisplayDocType(l)),1)])),_:2},1024)],64)):"total_amount"===t.name||"total_net_amount"===t.name||"net_amount"===t.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:4},[(0,a.Lk)("span",S,(0,o.v_)(l[t.name]),1),l[t.name]?((0,a.uX)(),(0,a.Wv)(_e,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l[t.name]),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)):-1!=["created_on","last_modified_on","assigned_on","locked_on"].indexOf(t.name)?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[(0,a.eW)((0,o.v_)(e.formatDateAccordingToPreference(l[t.name]))+" ",1),l[t.name]?((0,a.uX)(),(0,a.Wv)(_e,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.formatDateAccordingToPreference(l[t.name])),1)])),_:2},1024)):(0,a.Q3)("",!0)],64)):((0,a.uX)(),(0,a.CE)(a.FK,{key:6},[(0,a.eW)((0,o.v_)(l[t.name]?l[t.name]:"-")+" ",1),l[t.name]?((0,a.uX)(),(0,a.Wv)(_e,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l[t.name]),1)])),_:2},1024)):(0,a.Q3)("",!0)],64))],10,L)))),128)),(0,a.Lk)("td",D,[l.hasOwnProperty("po_match_status")&&!e.isMediUser()?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[l.hasOwnProperty("po_match_icon")?((0,a.uX)(),(0,a.Wv)(ke,{key:0,round:"",flat:"",size:"10px",class:(0,o.C4)("po_not_matched"==l["po_match_icon"]?"cursor-not-allowed":""),style:{"pointer-events":"unset!important"},onClick:t=>{t.stopPropagation(),e.viewPurchaseOrder(l)}},{default:(0,a.k6)((()=>[(0,a.Lk)("img",{src:"images/"+l["po_match_icon"]+".svg",width:"20"},null,8,I),(0,a.bF)(_e,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t(l["po_match_status"])),1)])),_:2},1024)])),_:2},1032,["class","onClick"])):((0,a.uX)(),(0,a.Wv)(ke,{key:1,round:"",flat:"",size:"10px",ripple:!1,style:{cursor:"default"},class:"invisible"}))],64)):(0,a.Q3)("",!0),(0,a.Lk)("span",T,[(0,a.Lk)("img",{src:"images/document_quality.svg",class:(0,o.C4)(["black_to_white vertical-middle cursor-pointer",""==e.renderquality(l)?"invisible":""])},null,2),l["quality"]?((0,a.uX)(),(0,a.Wv)(_e,{key:0},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{class:"row",innerHTML:e.renderquality(l)},null,8,O)])),_:2},1024)):(0,a.Q3)("",!0)]),(0,a.Lk)("span",null,[l.duplicates&&l.duplicates.length>0||l.related_supplier_invoices&&l.related_supplier_invoices.length>0?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("img",{src:"images/duplicateInvoiceIcon.svg",class:"vertical-middle cursor-pointer",width:"23",onClick:t=>e.proceedToDuplicateInvoices(l)},null,8,M),(0,a.bF)(_e,null,{default:(0,a.k6)((()=>[(0,a.eW)(" Show Duplicate Invoices ")])),_:1})],64)):((0,a.uX)(),(0,a.CE)("span",R))]),(0,a.bF)(ke,{flat:"",dense:"",round:"",onClick:t[11]||(t[11]=(0,i.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz"},{default:(0,a.k6)((()=>[(0,a.bF)(Le,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,a.k6)((()=>[(0,a.bF)(xe,{dense:"",style:{"min-width":"100px"}},{default:(0,a.k6)((()=>["finished"!=l["status"]&&"workflow"!=l["status"]&&"running"!=l["status"]&&"restart_in_progress"!=l["status"]&&"error"!=l["status"]&&"pending_confirmation"!=l["status"]?((0,a.uX)(),(0,a.Wv)(Ce,{key:0,clickable:"",onClick:t=>e.rowClick(l,!0,e.isMediUser())},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:images/pencil-white.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("validate")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isDocReassignAble(l)&&e.isAssignToVisible?((0,a.uX)(),(0,a.Wv)(Ce,{key:1,clickable:"",onClick:t=>e.openAssignmentDlg(l)},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:images/assign to.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("assign2")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(Ce,{clickable:"",onClick:t=>e.toFlowScreen(l.id)},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:images/doc_flow.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("flow_screen")),1)])),_:1})])),_:2},1032,["onClick"]),(0,a.bF)(pe,{inset:""}),e.isDocDownloadable(l)?((0,a.uX)(),(0,a.Wv)(Ce,{key:2,clickable:"",onClick:t=>e.downloadFile(l)},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:settings/import-white.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("download")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isdownloadZugferd(l)?((0,a.uX)(),(0,a.Wv)(Ce,{key:3,clickable:"",onClick:t=>e.downloadZugferd(l)},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:settings/import-white.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("download_zugferd")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isdownloadPeppol(l)?((0,a.uX)(),(0,a.Wv)(Ce,{key:4,clickable:"",onClick:t=>e.downloadPeppol(l)},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:settings/import-white.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("download_peppol")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isdownloadAnnotated(l)?((0,a.uX)(),(0,a.Wv)(Ce,{key:5,clickable:"",onClick:t=>e.downloadAnnotated(l)},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:settings/import-white.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("download_annotated")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.hasPreviewFile(l)?((0,a.uX)(),(0,a.Wv)(Ce,{key:6,clickable:"",onClick:t=>e.downloadPreviewFile(l)},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:settings/import-white.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("download_preview_files")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isExportAllowed(l["document_export_log"])?((0,a.uX)(),(0,a.Wv)(Ce,{key:7,clickable:"",onClick:t=>e.goToExport(l["document_export_log"])},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:e.getExportIcon(l["document_export_log"]),size:"xs",class:"invert",style:{"font-size":"14px"}},null,8,["name"])])),_:2},1024),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("go_to_export")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isDocRestartable(l)?((0,a.uX)(),(0,a.Wv)(Ce,{key:8,clickable:"",onClick:t=>e.restartExport(l["id"])},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:images/refresh.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("restart")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),e.isExportErrorRestart(l)?((0,a.uX)(),(0,a.Wv)(Ce,{key:9,clickable:"",onClick:t=>e.restartExportError(l["id"])},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:images/refresh.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("restart_export")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(Ce,{clickable:"",onClick:t=>e.showDocLogs(l["id"])},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:settings/documents.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("document_logs")),1)])),_:1})])),_:2},1032,["onClick"]),e.hasWorkflowsActive()&&e.isAdmin?((0,a.uX)(),(0,a.Wv)(Ce,{key:10,clickable:"",onClick:t=>e.openWorkflowLogs(l["id"])},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:images/doc_flow.svg",size:"xs",class:"invert",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("workflow_logs")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(pe,{inset:""}),e.isDocDeleteable(l)?((0,a.uX)(),(0,a.Wv)(Ce,{key:11,clickable:"",onClick:t=>{e.recordId=l["id"],e.deleteInvoice=!0}},{default:(0,a.k6)((()=>[(0,a.bF)(we,{avatar:"",class:"list-avatar"},{default:(0,a.k6)((()=>[(0,a.bF)(me,{name:"img:images/trash-bin-default-white.svg",size:"xs",class:"white-to-red",style:{"font-size":"14px"}})])),_:1}),(0,a.bF)(we,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",P,(0,o.v_)(e.$t("delete")),1)])),_:1})])),_:2},1032,["onClick"])):(0,a.Q3)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024),1==l["restart_allowed"]?((0,a.uX)(),(0,a.Wv)(me,{key:1,name:"priority_high",class:"headerError"},{default:(0,a.k6)((()=>[(0,a.bF)(_e,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("document_restart_alert")),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])],10,k)))),128)),!0===e.show_table_loader?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:0},(0,a.pI)(e.pageSize,(t=>((0,a.uX)(),(0,a.CE)("tr",{key:t},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.table_columns.length+2,(e=>((0,a.uX)(),(0,a.CE)("td",{key:e},V)))),128))])))),128)):0===e.display_data.length&&!1===e.processing?((0,a.uX)(),(0,a.CE)("tr",N,[(0,a.Lk)("td",{class:"text-center",colspan:e.table_columns.length+2},(0,o.v_)(e.$t("no_document_found")),9,B)])):(0,a.Q3)("",!0)])])),_:1},8,["id","class"])):(0,a.Q3)("",!0),(0,a.Lk)("div",$,[(0,a.Lk)("div",Q,[(0,a.bF)(Fe,{class:"q-py-xs q-mr-md"}),(0,a.bF)(pe,{vertical:""}),(0,a.bF)(ue,{modelValue:e.paginationCount,"onUpdate:modelValue":[t[12]||(t[12]=t=>e.paginationCount=t),t[13]||(t[13]=t=>(e.savePaginationCount(),e.loadData()))],color:"primary",max:e.skip,class:"q-py-xs q-mx-md","max-pages":6,input:"","boundary-links":""},null,8,["modelValue","max"])])])])])),separator:(0,a.k6)((()=>[e.isDuplicatePanel?((0,a.uX)(),(0,a.Wv)(ke,{key:0,disable:!e.isDuplicatePanel,round:"",unelevated:"",size:"xs",icon:"close",class:"panel-expand-button highlighted-back z-index-1",onClick:t[14]||(t[14]=t=>e.closeSpliter())},null,8,["disable"])):(0,a.Q3)("",!0)])),after:(0,a.k6)((()=>[(0,a.bF)(Ee,{table_columns:e.table_columns,document_ids:e.duplicateDocumentIds,display_data:e.duplicateInvoiceList,keyToUpdate:e.keyToUpdate},null,8,["table_columns","document_ids","display_data","keyToUpdate"])])),_:1},8,["disable","modelValue","after-class","separator-class"]),(0,a.Lk)("div",X,[e.display_data.length>0?((0,a.uX)(),(0,a.CE)("tr",W,U)):(0,a.Q3)("",!0)])],32))])),(0,a.bF)(Me,{modelValue:e.deleteInvoice,"onUpdate:modelValue":t[20]||(t[20]=t=>e.deleteInvoice=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(Oe,null,{default:(0,a.k6)((()=>[(0,a.bF)(De,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(Se,{icon:"warning",color:"primary"})])),_:1}),(0,a.bF)(De,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",j,(0,o.v_)(e.$t("sure")),1)])),_:1}),(0,a.bF)(Te,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(Ie,{appearance:"cancel","data-cy":"cancel",label:e.$t("cancel")},null,8,["label"]),[[Ve]]),(0,a.bo)((0,a.bF)(Ie,{label:e.$t("delete"),"data-cy":"delete-popup",onClick:t[19]||(t[19]=t=>e.deleteRecord(e.recordId))},null,8,["label"]),[[Ve]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Me,{modelValue:e.ErrorInfos,"onUpdate:modelValue":t[21]||(t[21]=t=>e.ErrorInfos=t)},{default:(0,a.k6)((()=>[(0,a.bF)(Oe,null,{default:(0,a.k6)((()=>[(0,a.bF)(De,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("table",z,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",H,[(0,a.bF)(Se,{icon:"error",color:"red-6",style:{margin:"3%"}})]),(0,a.Lk)("td",null,[(0,a.Lk)("div",G,[(0,a.Lk)("b",null,(0,o.v_)(e.ErrorText["row"]["filename"]),1)])]),(0,a.Lk)("td",Y,[(0,a.bF)(Se,{icon:"error",color:"red-6",style:{margin:"3%"}})])])])]),(0,a.Lk)("table",J,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",null,[(0,a.Lk)("span",null,(0,o.v_)(e.$t("upload_failed")),1)])])])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Me,{modelValue:e.QualityConfirm,"onUpdate:modelValue":t[24]||(t[24]=t=>e.QualityConfirm=t)},{default:(0,a.k6)((()=>[(0,a.bF)(Oe,null,{default:(0,a.k6)((()=>[(0,a.bF)(De,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("table",Z,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",ee,[(0,a.bF)(Se,{icon:"warning",color:"yellow-6",style:{margin:"3%"}})]),(0,a.Lk)("td",null,[(0,a.Lk)("div",te,[(0,a.Lk)("b",null,(0,o.v_)(e.QualityText["row"]["filename"]),1)])]),(0,a.Lk)("td",le,[(0,a.bF)(Se,{icon:"warning",color:"yellow-6",style:{margin:"3%"}})])])])]),(0,a.Lk)("table",ae,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("td",oe,[(0,a.Lk)("span",null,(0,o.v_)(e.$t("low_quality")),1)])])])]),(0,a.bF)(ke,{class:"button-1",onClick:t[22]||(t[22]=t=>e.restartExport(e.docrowID)),label:e.$t("run_anyway")},null,8,["label"]),(0,a.bF)(ke,{class:"button-2",onClick:t[23]||(t[23]=t=>{e.recordId=e.docrowID,e.deleteInvoice=!0,e.QualityConfirm=!1}),label:e.$t("delete")},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Me,{modelValue:e.assigneDialog,"onUpdate:modelValue":t[25]||(t[25]=t=>e.assigneDialog=t)},{default:(0,a.k6)((()=>[(0,a.bF)(Re,{doc_ids:e.assignment_doc_ids,doc_sub_org_id:e.docSubOrgId},null,8,["doc_ids","doc_sub_org_id"])])),_:1},8,["modelValue"]),(0,a.bF)(Me,{modelValue:e.confirmMergeDialog,"onUpdate:modelValue":t[27]||(t[27]=t=>e.confirmMergeDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(Oe,null,{default:(0,a.k6)((()=>[(0,a.bF)(De,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(Se,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(De,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",ie,(0,o.v_)(e.$t("merge_doc_warning")),1)])),_:1}),(0,a.bF)(Te,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(Ie,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[Ve]]),(0,a.bo)((0,a.bF)(Ie,{label:e.$t("done"),onClick:t[26]||(t[26]=t=>e.mergeDocuments())},null,8,["label"]),[[Ve]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(Pe,{showPopup:e.showActionsPopup,docId:e.selectedDocId,"onUpdate:showPopup":t[28]||(t[28]=t=>e.showActionsPopup=t)},null,8,["showPopup","docId"]),(0,a.bF)(qe)],64)}var ne=l(82303),re=l(66845),de=l(1659),ue=l(6044),ce=l(46736),pe=l(24622),he=l(45938),me=l(38734),_e=l(46162),be=l(96056),ve=l(89156),ge=l(18505),fe=l(64233),ye=l(24481),ke=l(57366),we=l(64775),Ce=l(25891),xe=l(94891),Le=l(44415),Fe=l(28545),Ee=l(76380),Ae=l(84364),Se=l(25982),De=l(83319),Ie=l(76956),Te=l(68450),Oe=l(10739),Me=l(51476),Re=l(64471),Pe=l(45022),qe=l(41903),Ve=l(53500),Ne=l(77362),Be=l(62488);const $e=(0,a.Lk)("div",{class:"text-h6"},"Document Logs",-1),Qe=(0,a.Lk)("strong",null,"Action Type:",-1),Xe=(0,a.Lk)("strong",null,"Description:",-1),We=(0,a.Lk)("strong",null,"Modified by:",-1),Ke=(0,a.Lk)("strong",null,"Modified on:",-1),Ue=(0,a.Lk)("strong",null,"Previous Status:",-1),je=(0,a.Lk)("strong",null,"Current Status:",-1);function ze(e,t,l,i,s,n){const r=(0,a.g2)("q-card-section"),d=(0,a.g2)("q-item-section"),u=(0,a.g2)("q-item"),c=(0,a.g2)("q-list"),p=(0,a.g2)("q-spinner"),h=(0,a.g2)("q-btn"),m=(0,a.g2)("q-card-actions"),_=(0,a.g2)("q-card"),b=(0,a.g2)("q-dialog");return(0,a.uX)(),(0,a.Wv)(b,{modelValue:e.localShowPopup,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.localShowPopup=t),e.updatePopupVisibility]},{default:(0,a.k6)((()=>[(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[$e])),_:1}),(0,a.bF)(r,null,{default:(0,a.k6)((()=>[Object.keys(e.doc_logs).length?((0,a.uX)(),(0,a.Wv)(c,{key:0},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.doc_logs,(t=>((0,a.uX)(),(0,a.Wv)(u,{key:t.id},{default:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[Qe,(0,a.eW)(" "+(0,o.v_)(t.action_type),1)]),(0,a.Lk)("div",null,[Xe,(0,a.eW)(" "+(0,o.v_)(t.action_description),1)]),(0,a.Lk)("div",null,[We,(0,a.eW)(" "+(0,o.v_)(t.created_by_name),1)]),(0,a.Lk)("div",null,[Ke,(0,a.eW)(" "+(0,o.v_)(e.formateDateTime(t.created_on)),1)]),(0,a.Lk)("div",null,[Ue,(0,a.eW)(" "+(0,o.v_)(e.formatName(t.previous_status)),1)]),(0,a.Lk)("div",null,[je,(0,a.eW)(" "+(0,o.v_)(e.formatName(t.current_status)),1)])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):((0,a.uX)(),(0,a.Wv)(p,{key:1}))])),_:1}),(0,a.bF)(m,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{flat:"",label:"Close",onClick:e.closePopup},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onUpdate:modelValue"])}var He=l(85487),Ge=l(21279),Ye=l(36246),Je=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Ze=(0,a.pM)({props:{showPopup:{type:Boolean,required:!0},docId:{type:String,required:!0}},mixins:[be.A],data(){return{localShowPopup:this.showPopup,doc_logs:(0,me.KR)({})}},watch:{showPopup(e){this.localShowPopup=e,e&&this.getDocumentLogs(this.docId)},localShowPopup(e){this.$emit("update:showPopup",e)}},methods:{getDocumentLogs(e){return Je(this,void 0,void 0,(function*(){try{this.doc_logs={};let t=new FormData;t.append("action_type",""),t.append("org_id",(0,He.I)());let l=yield(0,_e.L3)(),a=yield ne.A.post(_e.FH.get_document_log+e,t,{headers:{Authorization:l}});if(!a.data)throw{message:"no logs from server"};this.doc_logs=a.data,logInfo("Info for display",this.doc_logs)}catch(t){logError("Error fetching actions: ",t)}}))},closePopup(){this.localShowPopup=!1},updatePopupVisibility(e){this.localShowPopup=e,this.$emit("update:showPopup",e)},formateDateTime(e){const t=/^(\d{2})[./](\d{2})[./](\d{4})$/;t.exec(e);if(!this.isDate(e))return e;if(!e)return"-";const l=Ge.v.getFormat(this.getDocDateFormat())+" HH:mm:ss";return this.formateDate(e,l)},formateDate(e,t=""){let l="";return this.isDate(e)?(l=t||Ge.v.getFormat(this.getDocDateFormat()),Ye.Ay.formatDate(e,`${l}`)):e},formatName(e){return e.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}}});var et=l(12807),tt=l(82156),lt=l(23316),at=l(44189),ot=l(53999),it=l(90124),st=l(25173),nt=l(58210),rt=l(62669),dt=l(56384),ut=l(98582),ct=l.n(ut);const pt=(0,et.A)(Ze,[["render",ze]]),ht=pt;ct()(Ze,"components",{QDialog:tt.A,QCard:lt.A,QCardSection:at.A,QList:ot.A,QItem:it.A,QItemSection:st.A,QSpinner:nt.A,QCardActions:rt.A,QBtn:dt.A});var mt=l(61168),_t=l(90954),bt=l(73937),vt=l(11470),gt=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const ft=(0,a.pM)({el:"#app",mixins:[ue.A,pe.A,ge.A,ke.A,Ce.A,ye.A,fe.A,be.A,ce.A,Oe.A,Ee.A,Re.A],components:{PaginationSettings:mt.A,DashboardHeader:Le.A,DocAssignment:Fe.A,ColumnOrderBy:Ae.A,MobileGrid:xe.A,SubHeader:Ne.A,Loader:ve.A,DuplicateDlalog:Se.A,SupplierApprovalStatus:_t.A,ActionDetailsPopup:ht},data(){return{isAdmin:!1,keyToUpdate:(0,me.KR)(0),all_invoice_data:[],splitterModel:(0,me.KR)(100),isDuplicatePanel:(0,me.KR)(!1),InvoicesClearInterval:0,confirmMergeDialog:!1,po_module_activate:!1,debounceSearchInputFunc:{},filters_reset_after_restart_setting:Ie.at,duplicate_detection:Ie.aH.DUPLICATE_DETECTION,duplicateDocumentIds:(0,me.KR)(""),duplicateInvoiceList:(0,me.KR)([]),action_assign_to:Ie.B7,tableId:"dashboard"}},beforeRouteLeave:function(e,t,l){this.intervalManager(!1),this.unsubscribeToChannel("dashboard"),this.unsubscribeToChannel("pending_docs"),l()},computed:{isAssignToVisible(){let e=!1;return(this.isAdmin&&"only_admin"===this.user_settings[this.action_assign_to]||"all_user"===this.user_settings[this.action_assign_to])&&(e=!0),e}},mounted(){return gt(this,void 0,void 0,(function*(){try{this.initailizeDragColumnsById(this.tableId),logInfo("Branch:","sandbox"),yield this.getProfile(),this.getUserDetailByKey(),("approved"==this.supplier_approval_status&&(0,bt.s5)()||(0,bt.cq)()&&"approved"==this.supplier_approval_status)&&this.$router.push("/invoice/dashboard"),window.dash=this,this.processing=!0,this.isAdmin=(0,bt.Wl)(),yield this.startSettingsFetch(),yield this.getSavedColumns(),this.table_columns=this.handleTableColumns(!1),this.prepareStatusList(),yield this.getOrderBy(),this.po_module_activate=!0,this.getSavedFilters(),this.getPaginationCount(),yield this.loadData(),this.clearSelectedSessionStorage(),this.intervalManager(!0),this.getDocTypeAllSettings(),this.scrollInToViewLastVisitedRow(),this.prepareUsersDropdown(),this.$route.params.force_restart&&"force_restart"===this.$route.params.force_restart&&(this.restartExportedInvoices=!0),this.headerCheckbox=!1,document.addEventListener("apply_filters",this.applyFilterEvent),document.addEventListener("reset_filters",this.resetFilters),document.addEventListener("reset_pages",this.resetPages),document.addEventListener("dashboard_refresh_data",this.refreshFilters),document.addEventListener("export_data_as_excel",this.handleExportDataAsExcel),document.addEventListener("export_data_as_csv",this.handleExportDataAsCsv),document.addEventListener("on_row_click",this.rowClickEvent),document.addEventListener("dashboard_columns_updated",this.dashboardColumnsEvent),document.addEventListener("dashboard-column-drop",(e=>{this.saveSortedColumns(e.detail)})),document.addEventListener("assignment_success",this.assignmentSuccess),window.addEventListener("keydown",this.keyDownEvent),this.debounceSearchInputFunc=(0,Ve.A)((()=>{this.applyFilter()}),1e3),this.initDefaultAsignToVisible()}catch(e){logError(e)}finally{this.processing=!1}}))},unmounted:function(){document.removeEventListener("dashboard-column-drop",(e=>{this.saveSortedColumns(e.detail)})),document.removeEventListener("keydown",this.keyDownEvent),document.removeEventListener("assignment_success",this.assignmentSuccess),document.removeEventListener("apply_filters",this.applyFilterEvent),document.removeEventListener("reset_filters",this.resetFilters),document.removeEventListener("dashboard_refresh_data",this.refreshFilters),document.removeEventListener("export_data_as_excel",this.handleExportDataAsExcel),document.removeEventListener("export_data_as_csv",this.handleExportDataAsCsv),document.removeEventListener("dashboard_columns_updated",this.dashboardColumnsEvent)},watch:{headerCheckbox(){!1===this.headerCheckbox&&(this.headerFabIcon=!1,this.isMultiDeleteButtonDisabled=!1,this.isMultiRestartButtonDisabled=!1)},processing:{handler:function(e,t){1==e?this.showLoading():this.hideLoading()}},websocketHasError:{handler:function(e,t){1==e&&(this.use_websocket=!1,this.handleWebsocketDelay())}},dashboard_data_flag:{handler:function(e,t){0!=e&&(this.data_status="received",this.handleWebSocketResult(this.dashboard_data))}},dashboard_update_flag:{handler(e){this.handleWSDashboardUpdate(this.dashboard_update,this.display_data)},deep:!0}},methods:{initDefaultAsignToVisible(){this.user_settings[this.action_assign_to]||(this.user_settings[this.action_assign_to]="only_admin")},hasWorkflowsActive(){return!!this.user_settings[Ie.$w]},openWorkflowLogs(e){this.$router.push("/workflow_logs/"+e)},saveSortedColumns(e){let t=JSON.parse(JSON.stringify(e)),l={};t.forEach(((e,t)=>{l[e.name]={name:e.name,label:e.label,order:t,sortable:e.sortable,selected:!1,translation_key:e.translation_key},e.doc_type_key&&(l[e.name].doc_type_key=e.doc_type_key)})),this.visible_columns=l,this.saveColumns(this.visible_columns)},getUserDetailByKey(){let e=(0,bt.Ky)("organisations"),t=e[0];t&&("pending_ap_approval"===t.status?this.supplier_approval_status="pending_approval":this.supplier_approval_status=t.status,this.supplier_lookup_record_id=t.supplier_lookup_record_id?t.supplier_lookup_record_id:"supplier_lookup_record_id",this.supplier_as_org_id=t.supplier_as_org_id?t.supplier_as_org_id:"supplier_as_org_id")},applyFilterEvent(e){e&&e.detail&&!0===e.detail.reset_pagination&&(this.resetPagination=!0),this.applyFilter()},dashboardColumnsEvent(){this.dashboardColumnsUpdated()},dashboardColumnsUpdated(){return gt(this,void 0,void 0,(function*(){this.table_columns=this.handleTableColumns(),yield this.applySavedFilters(),this.fetchInvoices(!0)}))},intervalManager(e){clearInterval(this.InvoicesClearInterval),!0===e&&(this.InvoicesClearInterval=setInterval((()=>{this.is_any_checked||this.fetchInvoices(!1,!1)}),6e4))},applySavedFilters(){return gt(this,void 0,void 0,(function*(){this.pageSize=Number(this.pagination_size),this.queryParams="?&skip="+this.startfrom+"&limit="+this.pageSize,this.queryParams+=(yield this.makeQueryParamFromFilters(!1)),this.resetPagination=!1}))},handleActions(e){return this.display_data.forEach(((t,l)=>{l!==e&&(t["fabAction"]=!1)})),!0},resetPages(){this.resetPagination=!0},applyFilter(){return gt(this,void 0,void 0,(function*(){this.processing=!0,this.resetAllSelectedRows(),1==this.resetPagination&&(this.startfrom=0,this.paginationCount=1),this.resetPagination=!0,this.queryParams+=(yield this.makeQueryParamFromFilters()),""==this.queryParams&&this.removeSavedFilters(),this.queryParams="?&skip="+this.startfrom+"&limit="+this.pageSize,yield this.fetchInvoices(!0)}))},refreshFilters(e){let t=!1,l=!1;e&&e.detail&&e.detail.show_shimmer_loader&&(t=!0),e&&e.detail&&e.detail.refresh_cache&&(l=!0),this.all_invoice_data=[],this.display_data=[],this.selectionList=[],this.headerCheckbox=!1,this.fetchInvoices(!0,t,l)},handleExportDataAsExcel(){this.exportDashboardData("xlsx").catch((e=>{logError("Error exporting dashboard data:",e)}))},handleExportDataAsCsv(){this.exportDashboardData("csv").catch((e=>{logError("Error exporting dashboard data:",e)}))},exportDashboardData(e){return gt(this,void 0,void 0,(function*(){try{const t=yield vt.z6.exportDashboardData(this.queryParams,e),l=window.URL.createObjectURL(new Blob([t])),a=document.createElement("a");a.href=l,a.setAttribute("download",`Table.${e}`),document.body.appendChild(a),a.click(),a.remove()}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}}))},fetchInvoices(e,t=!0,l=!1){return gt(this,void 0,void 0,(function*(){try{if(e&&(this.processing=!0),t&&(this.display_data=[],this.selectionList=[],this.headerCheckbox=!1,this.show_table_loader=!0),yield this.applySavedFilters(),this.use_websocket)return void this.terminateLongRunningTask(this.getWebSocketDashboard(),2e4);{const e=yield vt.z6.getList(this.queryParams);this.updateDocumentStats(e),this.updateTableData(e),this.processing=!1,setTimeout(this.turnOnWebSocket,5e3)}1!==this.paginationCount&&0===this.display_data.length&&(this.paginationCount=1,Pe.A.removeItem((0,Me.un)(Ie.me)),this.loadData())}catch(l){this.showErrorToast(this.$t("pages.messages.ERROR_FETCHING_INVOICES")),logError(l.message),this.processing=!1}}))},handleWebsocketDelay(){"received"!==this.data_status&&(this.use_websocket=!1,this.fetchInvoices(!1,!1),this.processing=!1,setTimeout(this.turnOnWebSocket,5e3))},turnOnWebSocket(){this.websocketHasError||(this.use_websocket=!0)},terminateLongRunningTask(e,t){return new Promise(((l,a)=>{const o=setTimeout((()=>{a(logError("Operation timed out")),this.handleWebsocketDelay()}),t);e.then((e=>{clearTimeout(o),l(e)})).catch((e=>{clearTimeout(o),a(e),this.handleWebsocketDelay()}))}))},updateTableData(e){this.resultsCount=e.overview["results-count"],this.current_invoice_count=this.resultsCount;let t=this.resultsCount/this.pageSize;this.skip=Math.ceil(t);let l=!1;e.documents.length!=this.display_data.length&&(l=!0),0===e.documents.length&&(this.display_data=[]);for(let a=0;a<e.documents.length;a++){const t=e.documents[a],l=this.display_data[a];if(!this.isRowEqual(l,t)){this.display_data=e.documents;break}}this.applyCustomFormatOnRows(),this.$nextTick((()=>{this.scrollInToViewLastVisitedRow()})),l&&this.resetAndReInitColumnResize(this.tableId),this.show_table_loader=!1,this.processing=!1},isRowEqual(e,t){return!(!e||!t)&&(e.id===t.id&&e.last_modified_on===t.last_modified_on&&e.locked_by===t.locked_by)},updateDocumentStats(e){this.all_invoices=e.overview["all-invoices"],this.automatically_processed=e.overview["automatically-processed"],this.manually_processed=e.overview["manually-processed"],this.completed=e.overview["completed"],this.in_progress=e.overview["processing"],this.pending=e.overview["pending-user-input"],this.validated_pending_approval=e.overview["validated-pending-approval"],this.approved_pending_second_approval=e.overview["approved-pending-second-approval"],this.error=e.overview["error"]},applyCustomFormatOnRows(){this.display_data.forEach((e=>{if(e["fabAction"]=!1,e["rowSelection"]=!1,e.hasOwnProperty("po_match_status")&&!(0,Te.z)(e["po_match_status"])){const t=(0,Be.Wp)(e["po_match_status"]);(0,Te.z)(t)||(e["po_match_icon"]=t)}}))},toDocumentPdfView(e){this.$router.push("/document_pdf/"+e["filename"]+"/"+e["id"])},savePaginationCount(){Pe.A.setItem((0,Me.un)(Ie.me),{paginationCount:this.paginationCount,pagination_size:this.pagination_size})},loadData(){return gt(this,void 0,void 0,(function*(){this.resetPagination=!1,this.pageSize=Number(this.pagination_size),this.startfrom=this.pageSize*(this.paginationCount-1),yield this.applyFilter()}))},triggerWorkflow(e){return gt(this,void 0,void 0,(function*(){try{yield vt.Bj.triggerWorkflow(e)}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}}))},deleteRecord(e){return gt(this,void 0,void 0,(function*(){let t;this.processing=!0;try{let l=yield(0,_e.L3)();t=yield ne.A.delete((0,He.MV)(_e.FH.delete_document+e),{headers:{Authorization:l}}),yield this.fetchInvoices(!0),this.deleteInvoice=!1}catch(l){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(l)}finally{this.processing=!1}}))},restartExportError(e){return gt(this,void 0,void 0,(function*(){this.processing=!0;try{const t=yield vt.z6.restartExport(e);if(!1===t.success)throw{message:t.message};this.resetFilters()}catch(t){const e=we.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.processing=!1}}))},restartExport(e){return gt(this,void 0,void 0,(function*(){let t;this.processing=!0;try{t=yield vt.z6.restartDocument(e),this.refreshDashboard(this.filters_reset_after_restart_setting)}catch(l){const e=we.t.getErrorMessage(l);this.showErrorToast(e),logError(l)}finally{this.processing=!1}this.QualityConfirm=!1}))},rowClickEvent(e){const t=e.detail;this.rowClick(t,!0,this.isMediUser())},openAssignmentDlg(e){this.docSubOrgId=e.sub_org_id,this.assignment_doc_ids=[],this.assignment_doc_ids.push(e.id),this.assigneDialog=!0},isExportAllowed(e){let t=this.getExportRecord(e);return!(!t||0===Object.keys(t).length)},goToExport(e){let t=this.getExportRecord(e);t&&0!==Object.keys(t).length&&window.open(t.document_url)},getExportIcon(e){let t=this.getExportRecord(e);if(!t||0===Object.keys(t).length)return;let l="";return"FLOW2"==t.export_application&&(l="images/flow2_icon.svg"),"IDM"==t.export_application&&(l="images/idm_icon.svg"),"ZUGFERD"==t.export_application&&(l="images/zugferd-icon.svg"),"PEPPOL"==t.export_application&&(l="images/peppol-icon.svg"),l},getExportRecord(e){if(!e)return{};let t=Pe.A.getItem("login_source");if(!Pe.A.has("login_source")||null===t)return{};t=t.toLowerCase(),"infor"==t&&(t="idm");let l={};for(const a of e)if(t===a.export_application.toLowerCase()&&a.document_url){l=a;break}return l},viewPurchaseOrder(e){"po_not_matched"==e["po_match_icon"]&&null===e["table_version"]||(this.user_settings[Ie.aH.po_auto_match_and_export]&&(this.execute_auto_export=!0),"v1"===e["table_version"]&&this.$router.push("/po-matching/"+e["id"]),"v3"===e["table_version"]&&this.$router.push("/po-matching-v3/"+e["id"]))},downloadFile(e){try{if(!e["doc_path"])return;let t=_e.VA+"/resource/"+e["doc_path"]+"?"+this.tokenQueryParam;if(!t)return;fetch(t).then((e=>e.blob())).then((t=>{const l=URL.createObjectURL(t),a=document.createElement("a");a.href=l,a.download=e["filename"],document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l)})).catch((e=>{logError("Error downloading file:",e)}))}catch(t){logError(t)}},resetFilters(){this.resetPagination=!0,this.quickFilterMap.clear(),this.applyFilter()},isdownloadZugferd(e){let t=!1;return this.isDocDownloadable(e)?(Ie.B2.includes(e["status"])&&1==(0,Ie.UJ)(e["doc_type"])&&1==e["has_zugferd"]&&(t=!0),t):t},downloadZugferd(e){let t=_e.VA+"/resource/document/"+e["id"]+"/"+e["id"]+"_zugferd.pdf?"+this.tokenQueryParam;if(t){var l=document.createElement("a");l.download=e["filename"],l.href=t,document.body.appendChild(l),l.click(),document.body.removeChild(l)}},isdownloadPeppol(e){let t=!1;return this.isDocDownloadable(e)?(Ie.B2.includes(e["status"])&&1==(0,Ie.UJ)(e["doc_type"])&&1==e["has_peppol"]&&(t=!0),t):t},downloadPeppol(e){let t=_e.VA+"/resource/document/"+e["id"]+"/"+e["id"]+"_peppol.xml?"+this.tokenQueryParam;if(t){var l=document.createElement("a");l.download=e["filename"],l.href=t,document.body.appendChild(l),l.click(),document.body.removeChild(l)}},isdownloadAnnotated(e){let t=!1;return this.isDocDownloadable(e)?(1==e["has_annotated_version"]&&(t=!0),t):t},downloadAnnotated(e){let t=_e.VA+"/resource/document/"+e["id"]+"/"+e["id"]+"_annotated.pdf?"+this.tokenQueryParam;t&&fetch(t).then((e=>e.blob())).then((t=>{const l=URL.createObjectURL(t),a=document.createElement("a");a.href=l,a.download=e["filename"],document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l)})).catch((e=>{logError("Error downloading file:",e)}))},getErrorInfos(e){return gt(this,void 0,void 0,(function*(){if("error"!==e["status"])return;let t=yield(0,_e.L3)();const l=yield ne.A.get((0,He.MV)(_e.FH.get_error_infos),{headers:{Authorization:t},params:{doc_id:e["id"]}});return l["data"]["row"]=e,1===Object.keys(l).length?(this.ErrorText={message:"None"},logInfo(this.ErrorText),!1):(this.ErrorText=l["data"],this.ErrorInfos=!0,!0)}))},allowDrop(e){this.isColumnDragging||(e.preventDefault(),e.currentTarget.classList.add("opacity-half"))},drop(e){this.isColumnDragging||(e.preventDefault(),e.currentTarget.classList.remove("opacity-half"),this.uploadFiles(e.dataTransfer.files))},dragLeave(e){this.isColumnDragging||e.currentTarget.classList.remove("opacity-half")},uploadFiles(e){try{if(e&&e.length>10)return void this.showErrorToast(this.$t("pages.messages.MAX_DOC_UPLOAD_LIMIT"));const t=new CustomEvent("upload_files",{detail:{files:e}});document.dispatchEvent(t)}catch(t){logError(t)}},changeAction(){!0===this.headerCheckbox?this.selectAllRows():this.resetAllSelectedRows()},selectAllRows(){this.noOfSelections=this.display_data.length,this.isMultiDeleteButtonDisabled=!1,this.isMultiRestartButtonDisabled=!1,this.display_data.forEach((e=>{e["rowSelection"]=!0;const t=this.selectionList.find((t=>t===e.id));t||this.selectionList.push(e.id),!1===this.isMultiDeleteButtonDisabled&&(this.isMultiDeleteButtonDisabled=!this.isDocDeleteable(e)),!1===this.isMultiRestartButtonDisabled&&(this.isMultiRestartButtonDisabled=!this.isDocRestartable(e))}))},resetAllSelectedRows(){this.noOfSelections=0,this.selectionList=[],this.headerCheckbox=!1,this.isMultiDeleteButtonDisabled=!1,this.isMultiRestartButtonDisabled=!1,this.display_data.forEach((e=>{e["rowSelection"]=!1}))},checkRowExistance(e,t){const l=this.display_data.findIndex((t=>t.id===e));if(-1!==l){const a=this.display_data[l];if(t)this.is_any_checked=!0,this.selectionList.push(a.id),this.noOfSelections=this.noOfSelections+1,!1===this.isMultiDeleteButtonDisabled&&(this.isMultiDeleteButtonDisabled=!this.isDocDeleteable(a)),!1===this.isMultiRestartButtonDisabled&&(this.isMultiRestartButtonDisabled=!this.isDocRestartable(a));else{this.isMultiDeleteButtonDisabled=!1,this.noOfSelections=this.noOfSelections-1;const t=this.selectionList.indexOf(e);-1!==t&&this.selectionList.splice(t,1);let l=!1;this.selectionList.forEach((e=>{const t=this.display_data.find((t=>t.id===e));this.isDocRestartable(t)||(l=!0),this.isDocDeleteable(t)||(this.isMultiDeleteButtonDisabled=!0)})),this.isMultiRestartButtonDisabled=l}}0===this.noOfSelections?(this.headerCheckbox=!1,this.isMultiDeleteButtonDisabled=!1,this.isMultiRestartButtonDisabled=!1):this.display_data.length===this.noOfSelections?this.headerCheckbox=!0:this.headerCheckbox=!1},restartMultipalDocExport(){return gt(this,void 0,void 0,(function*(){try{this.processing=!0;const e=yield vt.z6.restartDocuments(this.selectionList.join(","),this.restartExportedInvoices);if(!1===e.success)return void this.showErrorToast(e.data.message);this.headerCheckbox=!1,this.resetAllSelectedRows(),this.refreshDashboard(this.filters_reset_after_restart_setting)}catch(e){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e)}finally{this.processing=!1}}))},refreshDashboard(e){return gt(this,void 0,void 0,(function*(){const t=yield this.getSettingWithExpiry(e);if(t){const e=new CustomEvent("reset_filters",{});return void document.dispatchEvent(e)}const l=new CustomEvent("dashboard_refresh_data",{});document.dispatchEvent(l)}))},multipleDocAssignment(){this.selectionList&&(this.assignment_doc_ids=this.selectionList,this.assigneDialog=!0)},confirmMerge(){this.selectionList&&this.selectionList.length>5?this.showErrorToast(this.$t("pages.messages.SELECTION_GREATER_THAN_FIVE")):this.selectionList&&(this.confirmMergeDialog=!0)},mergeDocuments(){return gt(this,void 0,void 0,(function*(){try{this.showLoading();const e=yield vt.M8.mergeDocumnet(this.selectionList.toString());if(!1===e.success)return void this.showErrorToast(e.message);yield this.fetchInvoices(!0)}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}}))},deleteMultipalDocument(){return gt(this,void 0,void 0,(function*(){if(!this.selectionList)return;let e;this.processing=!0;try{let t=new Map;if(t.set("doc_ids",this.selectionList.join(",")),e=yield vt.v1.deleteRequest(_e.FH.delete_documents,t),!1===e.success)return void this.showErrorToast(e.data.message);this.selectionList.length,this.display_data.length,this.headerCheckbox=!1,this.resetAllSelectedRows(),this.loadData()}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(t)}finally{this.processing=!1}}))},removeQuickFilter(e){this.quickFilterMap.delete(e),this.applyFilter()},isDocRestartable(e){if(this.restartExportedInvoices)return!0;if("only_admin"==this.user_settings["ACTION_RESTART"]&&!this.isAdmin)return!1;if("only_admin_assignee"==this.user_settings["ACTION_RESTART"]&&e["assigned_to_id"]!=this.getUserId()&&!this.isAdmin)return!1;if(!this.isAdmin&&!he.tH.hasAccess("update",e))return!1;const t=String(e["status"]),l=Boolean(e["restart_allowed"]);return"ready_for_validation"===t||"error"===t||"export_error"===t||1==l},isExportErrorRestart(e){const t=he.tH.hasAccess("update",e);if(!t)return!1;const l=String(e["status"]),a=Boolean(e["restart_allowed"]);return!!this.restartExportedInvoices||("export_error"===l||1==a)},isDocDeleteable(e){const t=he.tH.hasAccess("delete",e),l=String(e["status"]);return t&&"finished"!=l&&"workflow"!=l&&"running"!=l&&"restart_in_progress"!=l},isDocReassignAble(e){const t=he.tH.hasAccess("update",e),l=String(e["status"]);return t&&"finished"!=l&&"workflow"!=l&&"running"!=l&&"restart_in_progress"!=l},isDocDownloadable(e){const t=he.tH.hasAccess("view",e),l=String(e["status"]);return t&&"running"!=l&&"restart_in_progress"!=l},assignmentSuccess(e){this.assigneDialog=!1,this.selectionList&&(this.headerCheckbox=!1,this.resetAllSelectedRows()),this.refreshFilters({detail:{show_shimmer_loader:!0,refresh_cache:!0}})},renderquality(e){if(!this.user_settings["OCR_PERCENTAGE"]||!this.user_settings["OCR_PERCENTAGE"])return;let t="";if(e.hasOwnProperty("quality")){let l=this.$t("overall");const a=e["quality"];parseInt(e["quality"])<parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=l+' : <FONT COLOR="#AA0500">'+e["quality"]+"</FONT COLOR>"),parseInt(a)==parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=l+' : <FONT COLOR="#ffff00">'+e["quality"]+"</FONT COLOR>"),parseInt(a)>parseInt(this.user_settings["OCR_PERCENTAGE"])&&(t=l+' : <FONT COLOR="#00ff00">'+e["quality"]+"</FONT COLOR>")}return t},handleWebSocketResult(e){e&&(this.use_websocket=!0,this.updateDocumentStats(e),this.updateTableData(e))},isStatsUpdated(e){if(this.all_invoices!==e.overview["all-invoices"])return!0},getWebSocketDashboard(){return gt(this,void 0,void 0,(function*(){try{const e={type:"dashboard",data:{}};let t=this.queryParams;t=t.replace("?","");const l=t.split("&");l.forEach((t=>{t=t.split("="),2===t.length&&(e.data[t[0]]=t[1])})),this.data_status="fetching",this.dashboard_data_flag=!1;const a=yield this.sendMessageToSocket(e.type,e.data);return this.updateDocumentStats(a),this.updateTableData(a),!0}catch(e){this.handleWebsocketDelay()}finally{this.processing=!1}}))},hasPreviewFile(e){return!(!e.hasOwnProperty("preview_file_path")||!e["preview_file_path"])},downloadPreviewFile(e){try{if(!e["preview_file_path"])return;let l=_e.VA+"/"+e["preview_file_path"]+"?"+this.tokenQueryParam;if(!l)return;var t=document.createElement("a");t.download=e["filename"],t.href=l,document.body.appendChild(t),t.click(),document.body.removeChild(t)}catch(l){logError(l)}},getLastVisitedRowId(){return qe.A.getItem("selected_row_id")},scrollInToViewLastVisitedRow(){const e=this.getLastVisitedRowId();if(!e)return;const t=document.getElementById("row_"+e);t&&(qe.A.remove("selected_row_id"),this.scrollInToViewCenter(t,"nearest"),this.highlightElemet(t,"light-grey-with-effect"))},proceedToDuplicateInvoices(e){const t=e.duplicates;this.duplicateDocumentIds=t.join(","),this.duplicateInvoiceList=e.related_supplier_invoices,this.keyToUpdate++,this.toggleSplitter()},toggleSplitter(){this.isDuplicatePanel=!0,this.splitterModel=50},closeSpliter(){this.isDuplicatePanel=!1,this.splitterModel=100},keyDownEvent(e){"Escape"===e.key&&this.closeSpliter()},showLockUser(e){if(0===this.usersList.length)return void(this.isLoadingUserList=!0);this.isLoadingUserList=!1;const t=this.usersList.find((t=>t.value===e));return this.$t("locked_by")+t.label},handleWSDashboardUpdate(e,t){this.updateDashboardTable(e,t)}},setup(){const e=(0,De.fX)(),{quickFilterMap:t,all_invoices:l,automatically_processed:a,manually_processed:o,completed:i,in_progress:s,pending:n,validated_pending_approval:r,approved_pending_second_approval:d,error:u,processing:c,visible_columns:p,filtered_columns:h,pagination_size:m,current_invoice_count:_,paginationCount:b}=(0,de.bP)(e),{getSavedFilters:v,removeSavedFilters:g,saveFilters:f,handleTableColumns:y,makeQueryParamFromFilters:k,setDefaultFilters:w,getSavedColumns:C,getOrderBy:x,getColumnLabel:L,saveColumns:F,getPaginationCount:E}=e,A=(0,De.Bu)(),{user_settings:S,execute_auto_export:D}=(0,de.bP)(A),{getSettingWithExpiry:I,setOrgSettings:T,startSettingsFetch:O}=A,M=(0,De.G6)(),{dashboard_data:R,isConnected:P,hasError:q,dashboard_data_flag:V,dashboard_update:N,dashboard_update_flag:B}=(0,de.bP)(M),{subscribeToChannel:$,unsubscribeToChannel:Q,sendMessageByType:X}=M,W=(0,De.cY)(),{prepareUsersDropdown:K}=W,{usersList:U}=(0,de.bP)(W),j=(0,De.kH)(),{isMediUser:z,getProfile:H,getUserId:G}=j,Y=(0,De._6)(),{tokenQueryParam:J}=(0,de.bP)(Y);Y.getTokenQueryParam();const Z=(0,De.wt)(),{model:ee}=(0,de.bP)(Z),{getDocTypeAllSettings:te}=Z,le=(0,me.KR)(!1),ae=(0,me.KR)(""),oe=e=>{ae.value=e,le.value=!0};return{getPaginationCount:E,isMediUser:z,getProfile:H,execute_auto_export:D,dashboard_update:N,dashboard_update_flag:B,startSettingsFetch:O,getUserId:G,getDocTypeAllSettings:te,tokenQueryParam:J,current_invoice_count:_,dashboard_data_flag:V,pagination_size:m,paginationCount:b,websocketHasError:q,sendMessageToSocket:X,isConnected:P,unsubscribeToChannel:Q,subscribeToChannel:$,dashboard_data:R,user_settings:S,getSettingWithExpiry:I,visible_columns:p,filtered_columns:h,getColumnLabel:L,processing:c,getOrderBy:x,getSavedColumns:C,setDefaultFilters:w,handleTableColumns:y,makeQueryParamFromFilters:k,quickFilterMap:t,saveFilters:f,removeSavedFilters:g,getSavedFilters:v,prepareUsersDropdown:K,usersList:U,isLoadingUserList:(0,me.KR)(!1),assignment_doc_ids:(0,me.KR)([]),restartExportedInvoices:(0,me.KR)(!1),table_columns:(0,me.KR)([]),display_data:(0,me.KR)([]),Popup:re.A,pageSize:(0,me.KR)(20),skip:(0,me.KR)(1),startfrom:(0,me.KR)(0),resetPagination:!0,queryParams:"?filter=current-month&skip=0",deleteInvoice:(0,me.KR)(!1),recordId:"",resultsCount:(0,me.KR)(0),assigneDialog:(0,me.KR)(!1),docSubOrgId:(0,me.KR)(""),ErrorInfos:(0,me.KR)(!1),ErrorText:(0,me.KR)(),headerCheckbox:(0,me.KR)(!1),noOfSelections:(0,me.KR)(0),is_any_checked:(0,me.KR)(!1),headerFabIcon:(0,me.KR)(!1),selectionList:(0,me.KR)([]),isMultiDeleteButtonDisabled:(0,me.KR)(!1),isMultiRestartButtonDisabled:(0,me.KR)(!1),showFlow:(0,me.KR)(!1),flow_doc_id:(0,me.KR)(""),use_websocket:(0,me.KR)(!0),show_table_loader:(0,me.KR)(!1),data_status:(0,me.KR)(""),all_invoices:l,automatically_processed:a,manually_processed:o,completed:i,in_progress:s,pending:n,validated_pending_approval:r,approved_pending_second_approval:d,error:u,supplier_approval_status:(0,me.KR)(""),supplier_lookup_record_id:(0,me.KR)(""),supplier_as_org_id:(0,me.KR)(""),model:ee,showActionsPopup:le,selectedDocId:ae,showDocLogs:oe,saveColumns:F}}});var yt=l(857),kt=l(54700),wt=l(10386),Ct=l(98072),xt=l(80460),Lt=l(54782),Ft=l(20284),Et=l(50492),At=l(97410),St=l(23954),Dt=l(84436),It=l(3952),Tt=l(88672);const Ot=(0,et.A)(ft,[["render",se],["__scopeId","data-v-5552d1e0"]]),Mt=Ot;ct()(ft,"components",{QMarkupTable:yt.A,QPagination:kt.A,QSeparator:wt.A,QSplitter:Ct.A,QCheckbox:xt.A,QFab:Lt.A,QFabAction:Ft.A,QIcon:Et.A,QTooltip:At.A,QSpinner:nt.A,QBadge:St.A,QBtn:dt.A,QMenu:Dt.A,QList:ot.A,QItem:it.A,QItemSection:st.A,QDialog:tt.A,QCard:lt.A,QCardSection:at.A,QAvatar:It.A,QCardActions:rt.A}),ct()(ft,"directives",{ClosePopup:Tt.A})},17035:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>u});var a=l(61758);const o={class:"demo"};function i(e,t,l,i,s,n){const r=(0,a.g2)("multi-select-areas-image");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(r,{"pos-correction":!1})])}var s=l(43354);const n=(0,a.pM)({components:{MultiSelectAreasImage:s.A}});var r=l(12807);const d=(0,r.A)(n,[["render",i]]),u=d},93865:(e,t,l)=>{"use strict";l.d(t,{A:()=>V});var a=l(61758),o=l(58790);const i={class:"row"},s=["innerHTML"],n={class:"text-weight-bold"},r=(0,a.Lk)("img",{src:"settings/export.svg",width:"100","aria-hidden":"true"},null,-1),d={style:{padding:"20px"}},u={class:"text-white"},c={class:"q-ml-sm"};function p(e,t,l,p,h,m){const _=(0,a.g2)("q-icon"),b=(0,a.g2)("q-tooltip"),v=(0,a.g2)("f-btn"),g=(0,a.g2)("q-btn"),f=(0,a.g2)("q-toolbar-title"),y=(0,a.g2)("q-toolbar"),k=(0,a.g2)("q-file"),w=(0,a.g2)("q-card-section"),C=(0,a.g2)("q-card"),x=(0,a.g2)("q-dialog"),L=(0,a.g2)("q-avatar"),F=(0,a.g2)("q-card-actions"),E=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.isDashboard?((0,a.uX)(),(0,a.Wv)(v,{key:0,id:"btn_upload_invoice",class:"mt-20",icon:"img:settings/export-white.svg",onClick:t[0]||(t[0]=t=>{e.multiUploaderDialog=!0,e.uploadedFiles=null}),label:e.$t("upload")},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",i,[(0,a.bF)(_,{name:"img:settings/export-white.svg",size:"26px",class:"items-center q-ml-auto q-mr-auto"})]),(0,a.Lk)("div",{innerHTML:e.$t("import_files_info")},null,8,s)])),_:1})])),_:1},8,["label"])):((0,a.uX)(),(0,a.Wv)(g,{key:1,class:"validation-view-button",id:"btn_merge",flat:"",icon:"img:images/merge.svg",onClick:t[1]||(t[1]=t=>e.multiUploaderDialog=!0)},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("merge")),1)])),_:1})])),_:1})),(0,a.bF)(x,{modelValue:e.multiUploaderDialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.multiUploaderDialog=t)},{default:(0,a.k6)((()=>[(0,a.bF)(C,{style:{width:"50vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",n,(0,o.v_)(e.$t("pages.land.heading1")),1),(0,a.eW)(" "+(0,o.v_)(e.$t("pages.land.heading2")),1)])),_:1}),(0,a.bo)((0,a.bF)(v,{flat:"",round:"",dense:"",icon:"close",onClick:e.closeDialog},null,8,["onClick"]),[[E]])])),_:1}),(0,a.bF)(w,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",{class:"drag-area text-center full-width",style:{padding:"20px"},id:"box-droppable",onDrop:t[3]||(t[3]=(...t)=>e.drop&&e.drop(...t)),onDragover:t[4]||(t[4]=(...t)=>e.allowDrop&&e.allowDrop(...t)),onDragleave:t[5]||(t[5]=(...t)=>e.dragLeave&&e.dragLeave(...t))},[r,(0,a.Lk)("div",d,(0,o.v_)(e.$t("pages.land.dragndrop")),1),(0,a.bF)(k,{style:{width:"70% !important",margin:"auto","white-space":"nowrap"},"data-cy":"upload-multiple-docs",class:"select-field",outlined:"",multiple:"","onUpdate:modelValue":[e.uploadFile,t[2]||(t[2]=t=>e.uploadedFiles=t)],modelValue:e.uploadedFiles,label:e.$t("pages.land.upload")},{prepend:(0,a.k6)((()=>[(0,a.bF)(_,{name:"attachment"})])),file:(0,a.k6)((({index:e,file:t})=>[(0,a.Lk)("div",u,(0,o.v_)(t.name),1),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.name),1)])),_:2},1024),(0,a.Q3)("",!0)])),_:1},8,["onUpdate:modelValue","modelValue","label"])],32)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(x,{modelValue:e.confirmMergeDialog,"onUpdate:modelValue":t[8]||(t[8]=t=>e.confirmMergeDialog=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(C,null,{default:(0,a.k6)((()=>[(0,a.bF)(w,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(L,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(w,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",c,(0,o.v_)(e.$t("append_files_to_document")),1)])),_:1}),(0,a.bF)(F,{align:"right"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(v,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[E]]),(0,a.bo)((0,a.bF)(v,{label:e.$t("done"),onClick:t[7]||(t[7]=t=>e.uploadFilesForValidation())},null,8,["label"]),[[E]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var h=l(1659),m=l(24622),_=l(38734),b=l(18505),v=l(11470),g=l(83319),f=l(76956),y=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const k=(0,a.pM)({el:"#app",mixins:[b.A,m.A],props:{isDashboard:{type:Boolean,default:!0},docId:{type:String,default:""}},emits:["setImages"],components:{},data(){return{filters_reset_after_upload_setting:f._Y,confirmMergeDialog:(0,_.KR)(!1)}},mounted(){document.removeEventListener("upload_files",this.uploadFilesEventHandler),document.addEventListener("upload_files",this.uploadFilesEventHandler)},unmounted:function(){document.removeEventListener("upload_files",this.uploadFilesEventHandler)},methods:{uploadFile(e){this.uploadedFiles=e;let t=this.uploadedFiles;t||this.showErrorToast(this.$t("pages.messages.NO_FILE_SELECTED")),this.uploadFiles(t)},allowDrop(e){e.preventDefault(),e.currentTarget.classList.add("bg-grey-5"),e.currentTarget.classList.add("bd-shadow")},drop(e){e.preventDefault(),e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow"),this.uploadFiles(e.dataTransfer.files)},dragLeave(e){e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow")},uploadFilesEventHandler(e){e&&e.detail.files&&this.uploadFiles(e.detail.files)},uploadFiles(e){return y(this,void 0,void 0,(function*(){try{if(this.multiUploaderDialog=!1,this.uploadedFiles=null,e&&e.length>10)return void this.showErrorToast(this.$t("pages.messages.MAX_DOC_UPLOAD_LIMIT"));this.processing=!0,this.formData=new FormData;let t=0;logInfo(e);for(let l of e)this.hasAllowedFileType(l)?(logInfo(l),this.formData.append("files",l)):t++;if(t>0)return void this.showErrorToast(this.$t("pages.messages.INVALID_FILES"));this.isDashboard?yield this.uploadFilesForDashBoard(this.formData):(this.formData.append("doc_id",this.docId),this.confirmMergeDialog=!0)}catch(t){logInfo(t)}finally{this.processing=!1;const e=new CustomEvent("dashboard_refresh_data",{detail:{show_shimmer_loader:!0,refresh_cache:!0}});document.dispatchEvent(e)}}))},hasAllowedFileType(e){let t=f.Ku.includes(e.type);if(!t){const l=e.name.lastIndexOf("."),a=e.name.substring(l+1);t=f.Ku.includes(a)}return t},uploadFilesForDashBoard(e){return y(this,void 0,void 0,(function*(){try{const t=yield v.z6.uploadFiles(e);if(!1===t.success)return logError(t),this.showErrorToast(this.$t("pages.messages.DOC_UPLOAD_ERROR")),void this.showErrorToast(t.message);setTimeout((()=>{this.refreshDashboard()}),1e3)}catch(t){logInfo(t)}finally{this.processing=!1}}))},uploadFilesForValidation(){return y(this,void 0,void 0,(function*(){try{this.showLoading();const e=yield v.z6.uploadFilesForValidation(this.formData);if(!1===e.success)return logError(e),this.showErrorToast(this.$t("pages.messages.DOC_UPLOAD_ERROR")),void this.showErrorToast(e.message);yield this.setDataToStoreAndStorage(e.data),this.isDashboard||(this.showSuccessToast(this.$t("pages.messages.operation_sucessfull")),setTimeout((()=>{window.location.reload()}),0))}catch(e){logInfo(e)}finally{this.hideLoading(),this.processing=!1}}))},refreshDashboard(){return y(this,void 0,void 0,(function*(){const e=yield this.getSettingWithExpiry(this.filters_reset_after_upload_setting);if(e){const e=new CustomEvent("reset_filters",{});return void document.dispatchEvent(e)}const t=new CustomEvent("load_data_on_upload",{});document.dispatchEvent(t)}))},closeDialog(){this.multiUploaderDialog=!1}},setup(){const e=(0,g.fX)(),{processing:t}=(0,h.bP)(e),l=(0,g.Bu)(),{user_settings:a}=(0,h.bP)(l),{getSettingWithExpiry:o}=l,i=(0,g.q3)(),{setDataToStoreAndStorage:s}=i;return{user_settings:a,getSettingWithExpiry:o,setDataToStoreAndStorage:s,multiUploaderDialog:(0,_.KR)(!1),uploadedFiles:(0,_.KR)(null),processing:t,formData:{}}}});var w=l(12807),C=l(97410),x=l(50492),L=l(56384),F=l(82156),E=l(23316),A=l(36914),S=l(39150),D=l(44189),I=l(99980),T=l(3952),O=l(62669),M=l(88672),R=l(98582),P=l.n(R);const q=(0,w.A)(k,[["render",p]]),V=q;P()(k,"components",{QTooltip:C.A,QIcon:x.A,QBtn:L.A,QDialog:F.A,QCard:E.A,QToolbar:A.A,QToolbarTitle:S.A,QCardSection:D.A,QFile:I.A,QAvatar:T.A,QCardActions:O.A}),P()(k,"directives",{ClosePopup:M.A})},94489:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>m});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("Loader");return(0,a.uX)(),(0,a.Wv)(n)}var i=l(45022),s=l(24622),n=l(89156),r=l(83319),d=l(6044),u=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const c=(0,a.pM)({el:"#validate-token",mixins:[s.A,d.A],components:{Loader:n.A},mounted(){"logout"===this.$route.params.token?this.logout():this.proceed()},methods:{proceed(){return u(this,void 0,void 0,(function*(){const e=new Date;e.setHours(e.getHours()+2);let t=this.$route.query.source,l={access_token:this.$route.params.token,expires_in:120,scope:"profile",token_type:"Bearer",expire_time:e};i.A.set("token_deatils",l),i.A.set("login_source",t);try{yield this.getProfile()}catch(a){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logInfo(a)}this.$router.push("/dashboard")}))}},setup(){const e=(0,r.kH)(),{getProfile:t}=e;return{getProfile:t}}});var p=l(12807);const h=(0,p.A)(c,[["render",o]]),m=h},21647:(e,t,l)=>{"use strict";l.d(t,{A:()=>Ee});var a=l(61758);const o={class:"row full-height min-height-88vh"},i={key:0,class:"flex column border-bdbdbd p-10"},s={key:1,class:"flex column border-bdbdbd p-10 col-10"};function n(e,t,l,n,r,d){const u=(0,a.g2)("q-space"),c=(0,a.g2)("q-icon"),p=(0,a.g2)("SupplierDetailsChat"),h=(0,a.g2)("SupplierDetailsEmail");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(u),e.activeSupplierSidebar?((0,a.uX)(),(0,a.CE)("div",s,["chat"===e.activeSupplierSidebar?((0,a.uX)(),(0,a.Wv)(p,{key:0})):(0,a.Q3)("",!0),"email"===e.activeSupplierSidebar?((0,a.uX)(),(0,a.Wv)(h,{key:1})):(0,a.Q3)("",!0)])):((0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(c,{name:"forum",color:"primary",onClick:t[0]||(t[0]=t=>e.activeSupplierSidebar="chat"),class:"cursor-pointer"}),(0,a.bF)(c,{name:"email",color:"primary",onClick:t[1]||(t[1]=t=>e.activeSupplierSidebar="email"),class:"p-t-5 cursor-pointer"})]))])}var r=l(58790),d=l(29104);const u=e=>((0,a.Qi)("data-v-48d803e8"),e=e(),(0,a.jt)(),e),c={class:"row text-primary"},p={key:0,class:"full-width position-relative",id:"chat_panel_customize"},h={class:"toogle-chat-icon"},m={key:1,class:"full-width position-relative",id:"chat_panel_customize"},_={class:"toogle-chat-icon"},b=u((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function v(e,t,l,o,i,s){const n=(0,a.g2)("q-icon"),u=(0,a.g2)("q-tab"),v=(0,a.g2)("q-tabs"),g=(0,a.g2)("q-separator"),f=(0,a.g2)("InternalChats"),y=(0,a.g2)("q-tab-panel"),k=(0,a.g2)("SupplierChats"),w=(0,a.g2)("q-tab-panels"),C=(0,a.g2)("q-input"),x=(0,a.g2)("q-form"),L=(0,a.g2)("q-btn"),F=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",c,[(0,a.Lk)("div",{class:"cursor-pointer",onClick:t[0]||(t[0]=t=>e.activeSupplierSidebar="")},[(0,a.bF)(n,{name:"forum"}),(0,a.eW)(" "+(0,r.v_)(e.$t("chat")),1)])]),e.isSupplierUser()?((0,a.uX)(),(0,a.CE)("div",m,[(0,a.bF)(k,{chat_hieght:e.supplierUserChatHeight},null,8,["chat_hieght"]),(0,a.bF)(x,{onSubmit:t[10]||(t[10]=t=>e.submitChat(t,"SUPPLIER")),class:"row q-gutter-md items-center"},{default:(0,a.k6)((()=>[(0,a.bF)(C,{type:"textarea",style:{"flex-grow":"1"},modelValue:e.textChat,"onUpdate:modelValue":t[6]||(t[6]=t=>e.textChat=t),placeholder:"Start writing...",dense:"",outlined:"",class:"chat_supplier",onKeydown:[t[7]||(t[7]=(0,d.jR)((0,d.D$)((t=>e.submitChat(t,"SUPPLIER")),["exact","prevent"]),["enter"])),t[8]||(t[8]=(0,d.jR)((0,d.D$)((t=>e.textChat+="\n"),["shift","exact","prevent"]),["enter"]))]},null,8,["modelValue"]),(0,a.bF)(n,{name:"send",onClick:t[9]||(t[9]=t=>e.submitChat(t,"SUPPLIER")),color:e.textChat.trim()?"primary":"grey",class:(0,r.C4)({"pointer-events-none":!e.textChat.trim(),"cursor-pointer":e.textChat.trim()})},null,8,["color","class"])])),_:1}),(0,a.Lk)("div",_,[(0,a.bF)(L,{dense:"",round:"",unelevated:"",color:"primary",icon:"chevron_right",class:"drawer-close-button",onClick:t[11]||(t[11]=t=>e.activeSupplierSidebar="")})])])):((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(v,{modelValue:e.chat_tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.chat_tab=t),dense:"","active-class":"highlighted-back","indicator-color":"primary","active-color":"primary",align:"justify"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{name:"INTERNAL",label:e.$t("Internal")},null,8,["label"]),(0,a.bF)(u,{name:"SUPPLIER",label:e.$t("supplier")},null,8,["label"])])),_:1},8,["modelValue"]),(0,a.bF)(g),(0,a.bF)(w,{modelValue:e.chat_tab,"onUpdate:modelValue":t[2]||(t[2]=t=>e.chat_tab=t),animated:""},{default:(0,a.k6)((()=>[(0,a.bF)(y,{name:"INTERNAL"},{default:(0,a.k6)((()=>[(0,a.bF)(f)])),_:1}),(0,a.bF)(y,{name:"SUPPLIER"},{default:(0,a.k6)((()=>[(0,a.bF)(k)])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(x,{onSubmit:e.submitChat,class:"row q-gutter-md items-center"},{default:(0,a.k6)((()=>[(0,a.bF)(C,{type:"textarea",style:{"flex-grow":"1"},modelValue:e.textChat,"onUpdate:modelValue":t[3]||(t[3]=t=>e.textChat=t),placeholder:"Start writing...",dense:"",outlined:"",class:"chat_supplier",onKeydown:[(0,d.jR)((0,d.D$)(e.submitChat,["exact","prevent"]),["enter"]),t[4]||(t[4]=(0,d.jR)((0,d.D$)((t=>e.textChat+="\n"),["shift","exact","prevent"]),["enter"]))]},null,8,["modelValue","onKeydown"]),(0,a.bF)(n,{name:"send",onClick:e.submitChat,color:e.textChat.trim()?"primary":"grey",class:(0,r.C4)({"pointer-events-none":!e.textChat.trim(),"cursor-pointer":e.textChat.trim()})},null,8,["onClick","color","class"])])),_:1},8,["onSubmit"]),(0,a.Lk)("div",h,[(0,a.bF)(L,{dense:"",round:"",unelevated:"",color:"primary",icon:"chevron_right",class:"drawer-close-button",onClick:t[5]||(t[5]=t=>e.activeSupplierSidebar="")})])])),(0,a.bF)(F,{showing:e.proccessing,class:"z-index-2"},{default:(0,a.k6)((()=>[b])),_:1},8,["showing"])],64)}var g=l(38734),f=l(1659),y=l(24681),k=l(73937),w=l(15762),C=l(46736);const x={key:0,class:"row justify-center q-my-md"};function L(e,t,l,o,i,s){const n=(0,a.g2)("q-spinner"),d=(0,a.g2)("q-chat-message");return(0,a.uX)(),(0,a.CE)("div",{style:(0,r.Tr)({height:e.chat_hieght}),class:"q-pa-sm justify-center scroll",ref:"scrollableDiv",onScroll:t[0]||(t[0]=(...t)=>e.handleScroll&&e.handleScroll(...t))},[e.is_more_chat?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.bF)(n,{color:"primary",name:"dots",size:"20px"})])):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.internalChat,((t,l)=>{var o,i,s,n;return(0,a.uX)(),(0,a.CE)("div",{class:"chatBox width-100-percent",key:l},[e.shouldDisplayLabel(l)?((0,a.uX)(),(0,a.Wv)(d,{key:0,label:e.getMessageLabel(t.created_on),class:"dateTextLabel"},null,8,["label"])):(0,a.Q3)("",!0),"INTERNAL"===t.chat_type?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[e.userLoginId===t.created_by?((0,a.uX)(),(0,a.Wv)(d,{key:0,name:`${null===(o=t.user)||void 0===o?void 0:o.first_name} ${null===(i=t.user)||void 0===i?void 0:i.last_name} <div style='font-size:10px;'>${e.formatDateAccordingToPreference(t.created_on)}</div>`,text:e.chatMessage(null===t||void 0===t?void 0:t.message),size:"auto","name-html":"","text-html":"",sent:"","text-color":e.$q.dark.isActive?"white":"dark"},null,8,["name","text","text-color"])):((0,a.uX)(),(0,a.Wv)(d,{key:1,name:`${null===(s=t.user)||void 0===s?void 0:s.first_name} ${null===(n=t.user)||void 0===n?void 0:n.last_name} <div style='font-size:10px;'>${e.formatDateAccordingToPreference(t.created_on)}</div>`,text:e.chatMessage(null===t||void 0===t?void 0:t.message),size:"auto","name-html":"","text-html":"","text-color":e.$q.dark.isActive?"white":"dark","bg-color":e.$q.dark.isActive?"grey-7":"grey-3"},null,8,["name","text","text-color","bg-color"]))],64)):(0,a.Q3)("",!0)])})),128))],36)}var F=l(83319);const E=(0,a.pM)({mixins:[C.A],props:{chat_hieght:{type:String,default:"calc(100vh - 210px)"}},components:{},computed:{internalChat(){const e=this.chat.filter((e=>"INTERNAL"===e.chat_type));return e}},data(){return{userLoginId:null,id:null,scrollableDiv:(0,g.KR)(null)}},watch:{"$route.params.id":{immediate:!0,handler(e,t){this.id=e}},chat:{immediate:!0,handler(e){e.length>0&&this.updateMessageLabels()}}},beforeMount(){window.removeEventListener("scroll",this.scrollChatToBottom)},mounted(){const e=(0,k.Ky)("id");e&&(this.userLoginId=e),this.scrollChatToBottom(),window.addEventListener("scroll",this.scrollChatToBottom)},methods:{scrollChatToBottom(){const e=this.$refs.scrollableDiv;e&&requestAnimationFrame((()=>{e.scrollTop=e.scrollHeight}))},updateMessageLabels(){for(let e=0;e<this.internalChat.length;e++)this.internalChat[e].showLabel=this.shouldDisplayLabel(e),this.internalChat[e].label=this.getMessageLabel(this.internalChat[e].created_on)},shouldDisplayLabel(e){if(0===e)return!0;const t=new Date(this.internalChat[e-1].created_on).toDateString(),l=new Date(this.internalChat[e].created_on).toDateString();return t!==l},getMessageLabel(e){const t=new Date(e),l=new Date,a=new Date(l);a.setDate(a.getDate()-1);const o=t.toDateString(),i=l.toDateString(),s=a.toDateString();return o===i?this.$t("today"):o===s?this.$t("yesterday"):this.formatDateAccordingToPreference(o)},handleScroll(){const e=this.$refs.scrollableDiv;0===e.scrollTop&&this.onLoad()},onLoad(){if(this.is_more_chat&&this.processIncrease){this.proccessing=!0,this.chat_page=this.chat_page+1;try{setTimeout((()=>{this.getChatHistory(this.$route.params.id,this.chat_limit,this.chat_page),this.scrollChatToBottom(),window.addEventListener("scroll",this.scrollChatToBottom)}),3e3)}catch(e){logInfo(e)}finally{this.proccessing=!1}}},chatMessage(e){return[e.replace(/\n/g,"<br>")]}},setup(){const e=(0,F.M1)(),{activeSupplierSidebar:t}=(0,f.bP)(e),l=(0,w.G)(),{sendChat:a,getChatHistory:o}=l,{chat:i,chat_limit:s,chat_page:n,is_more_chat:r,proccessing:d,processIncrease:u}=(0,f.bP)(l),{datePattern:c}=(0,y.B)();return{is_more_chat:r,proccessing:d,activeSupplierSidebar:t,textChat:(0,g.KR)(""),chat:i,processIncrease:u,chat_limit:s,chat_page:n,datePattern:c,sendChat:a,getChatHistory:o}}});var A=l(12807),S=l(58210),D=l(19389),I=l(98582),T=l.n(I);const O=(0,A.A)(E,[["render",L]]),M=O;T()(E,"components",{QSpinner:S.A,QChatMessage:D.A});const R={key:0,class:"row justify-center q-my-md"};function P(e,t,l,o,i,s){const n=(0,a.g2)("q-spinner"),d=(0,a.g2)("q-chat-message");return(0,a.uX)(),(0,a.CE)("div",{style:(0,r.Tr)({height:e.chat_hieght}),class:"q-pa-sm justify-center scroll",ref:"scrollableDiv",onScroll:t[0]||(t[0]=(...t)=>e.handleScroll&&e.handleScroll(...t))},[e.is_more_chat?((0,a.uX)(),(0,a.CE)("div",R,[(0,a.bF)(n,{color:"primary",name:"dots",size:"20px"})])):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.supplierChat,((t,l)=>{var o,i,s,n;return(0,a.uX)(),(0,a.CE)("div",{class:"chatBox width-100-percent",key:l},[e.shouldDisplayLabel(l)&&"SUPPLIER"===t.chat_type?((0,a.uX)(),(0,a.Wv)(d,{key:0,label:e.getMessageLabel(t.created_on),class:"dateTextLabel"},null,8,["label"])):(0,a.Q3)("",!0),"SUPPLIER"===t.chat_type?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[e.userLoginId===t.created_by?((0,a.uX)(),(0,a.Wv)(d,{key:0,name:`${null===(o=t.user)||void 0===o?void 0:o.first_name} ${null===(i=t.user)||void 0===i?void 0:i.last_name} <div style='font-size:10px;'>${e.formatDateAccordingToPreference(t.created_on)}</div>`,text:e.chatMessage(null===t||void 0===t?void 0:t.message),size:"auto","name-html":"","text-html":"",sent:"","text-color":e.$q.dark.isActive?"white":"dark"},null,8,["name","text","text-color"])):((0,a.uX)(),(0,a.Wv)(d,{key:1,name:`${null===(s=t.user)||void 0===s?void 0:s.first_name} ${null===(n=t.user)||void 0===n?void 0:n.last_name} <div style='font-size:10px;'>${e.formatDateAccordingToPreference(t.created_on)}</div>`,text:e.chatMessage(null===t||void 0===t?void 0:t.message),size:"auto","name-html":"","text-html":"","text-color":e.$q.dark.isActive?"white":"dark","bg-color":e.$q.dark.isActive?"grey-7":"grey-3"},null,8,["name","text","text-color","bg-color"]))],64)):(0,a.Q3)("",!0)])})),128))],36)}const q=(0,a.pM)({mixins:[C.A],props:{chat_hieght:{type:String,default:"calc(100vh - 210px)"}},components:{},computed:{supplierChat(){const e=this.chat.filter((e=>"SUPPLIER"===e.chat_type));return e}},data(){return{userLoginId:null,id:null,scrollableDiv:(0,g.KR)(null)}},watch:{"$route.params.id":{immediate:!0,handler(e,t){this.id=e}},chat:{immediate:!0,handler(e){e.length>0&&this.updateMessageLabels()}}},beforeMount(){window.removeEventListener("scroll",this.scrollChatToBottom)},mounted(){const e=(0,k.Ky)("id");e&&(this.userLoginId=e),this.scrollChatToBottom(),window.addEventListener("scroll",this.scrollChatToBottom)},methods:{scrollChatToBottom(){const e=this.$refs.scrollableDiv;e&&requestAnimationFrame((()=>{e.scrollTop=e.scrollHeight}))},updateMessageLabels(){for(let e=0;e<this.supplierChat.length;e++)this.supplierChat[e].showLabel=this.shouldDisplayLabel(e),this.supplierChat[e].label=this.getMessageLabel(this.supplierChat[e].created_on)},shouldDisplayLabel(e){if(0===e)return!0;const t=new Date(this.supplierChat[e-1].created_on).toDateString(),l=new Date(this.supplierChat[e].created_on).toDateString();return t!==l},getMessageLabel(e){const t=new Date(e),l=new Date,a=new Date(l);a.setDate(a.getDate()-1);const o=t.toDateString(),i=l.toDateString(),s=a.toDateString();return o===i?this.$t("today"):o===s?this.$t("yesterday"):this.formatDateAccordingToPreference(o)},handleScroll(){const e=this.$refs.scrollableDiv;0===e.scrollTop&&this.onLoad()},onLoad(){if(this.is_more_chat&&this.processIncrease){this.proccessing=!0,this.chat_page=this.chat_page+1;try{setTimeout((()=>{this.getChatHistory(this.$route.params.id,this.chat_limit,this.chat_page),this.scrollChatToBottom(),window.addEventListener("scroll",this.scrollChatToBottom)}),3e3)}catch(e){logInfo(e)}finally{this.proccessing=!1}}},chatMessage(e){return[e.replace(/\n/g,"<br>")]}},setup(){const e=(0,F.M1)(),{activeSupplierSidebar:t}=(0,f.bP)(e),l=(0,w.G)(),{sendChat:a,getChatHistory:o}=l,{chat:i,chat_limit:s,chat_page:n,is_more_chat:r,proccessing:d,processIncrease:u}=(0,f.bP)(l),{datePattern:c}=(0,y.B)();return{is_more_chat:r,proccessing:d,activeSupplierSidebar:t,textChat:(0,g.KR)(""),chat:i,processIncrease:u,chat_limit:s,chat_page:n,datePattern:c,sendChat:a,getChatHistory:o}}}),V=(0,A.A)(q,[["render",P]]),N=V;T()(q,"components",{QSpinner:S.A,QChatMessage:D.A});var B=l(61303);const $=(0,a.pM)({mixins:[C.A],components:{InternalChats:M,SupplierChats:N},data(){return{userLoginId:null,id:null,scrollableDiv:(0,g.KR)(null),chat_tab:(0,g.KR)("INTERNAL"),supplierUserChatHeight:"calc(100vh - 180px)"}},watch:{"$route.params.id":{immediate:!0,handler(e,t){this.id=e}},chat:{immediate:!0,handler(e){e.length>0&&this.updateMessageLabels()}}},beforeMount(){window.removeEventListener("scroll",this.scrollChatToBottom)},mounted(){const e=(0,k.Ky)("id");e&&(this.userLoginId=e),this.scrollChatToBottom(),window.addEventListener("scroll",this.scrollChatToBottom)},methods:{scrollChatToBottom(){const e=this.$refs.scrollableDiv;e&&requestAnimationFrame((()=>{e.scrollTop=e.scrollHeight}))},updateMessageLabels(){for(let e=0;e<this.chat.length;e++)this.chat[e].showLabel=this.shouldDisplayLabel(e),this.chat[e].label=this.getMessageLabel(this.chat[e].created_on)},shouldDisplayLabel(e){if(0===e)return!0;const t=new Date(this.chat[e-1].created_on).toDateString(),l=new Date(this.chat[e].created_on).toDateString();return t!==l},getMessageLabel(e){const t=new Date(e),l=new Date,a=new Date(l);a.setDate(a.getDate()-1);const o=t.toDateString(),i=l.toDateString(),s=a.toDateString();return o===i?this.$t("today"):o===s?this.$t("yesterday"):this.formatDateAccordingToPreference(o)},handleScroll(){const e=this.$refs.scrollableDiv;0===e.scrollTop&&this.onLoad()},onLoad(){if(this.is_more_chat&&this.processIncrease){this.proccessing=!0,this.chat_page=this.chat_page+1;try{setTimeout((()=>{this.getChatHistory(this.$route.params.id,this.chat_limit,this.chat_page),this.scrollChatToBottom(),window.addEventListener("scroll",this.scrollChatToBottom)}),3e3)}catch(e){logInfo(e)}}},submitChat(e,t){if(e.preventDefault(),this.proccessing=!0,this.textChat.trim()&&""!==this.textChat.trim()){const e={type:"chat_supplier_detail",data:{message:this.textChat.trim(),supplier_as_org_id:this.$route.params.id,chat_type:null!==t&&void 0!==t?t:this.chat_tab}};try{this.sendChat(e),this.textChat=""}catch(l){logInfo(l,"error")}}},chatMessage(e){return[e.replace(/\n/g,"<br>")]}},setup(){const e=(0,B.M)(),{activeSupplierSidebar:t}=(0,f.bP)(e),l=(0,w.G)(),{sendChat:a,getChatHistory:o}=l,{chat:i,chat_limit:s,chat_page:n,is_more_chat:r,proccessing:d,processIncrease:u}=(0,f.bP)(l),{datePattern:c}=(0,y.B)();return{is_more_chat:r,proccessing:d,activeSupplierSidebar:t,textChat:(0,g.KR)(""),chat:i,processIncrease:u,chat_limit:s,chat_page:n,datePattern:c,sendChat:a,getChatHistory:o,isSupplierUser:k.cq}}});var Q=l(50492),X=l(42980),W=l(10327),K=l(10386),U=l(39041),j=l(71746),z=l(49200),H=l(67837),G=l(56384),Y=l(39035),J=l(67156);const Z=(0,A.A)($,[["render",v],["__scopeId","data-v-48d803e8"]]),ee=Z;T()($,"components",{QIcon:Q.A,QTabs:X.A,QTab:W.A,QSeparator:K.A,QTabPanels:U.A,QTabPanel:j.A,QForm:z.A,QInput:H.A,QBtn:G.A,QInnerLoading:Y.A,QField:J.A});const te=e=>((0,a.Qi)("data-v-3fc79493"),e=e(),(0,a.jt)(),e),le={class:"row text-primary",style:{"text-transform":"uppercase"}},ae={style:{position:"relative"}},oe=te((()=>(0,a.Lk)("span",{style:{color:"red"}},"*",-1))),ie={key:0,name:"error",style:{color:"red"}},se={key:1,name:"error",style:{color:"red"}},ne=te((()=>(0,a.Lk)("span",{style:{color:"red"}},"*",-1))),re={key:2,name:"error",style:{color:"red"}},de={class:"row",style:{"text-align":"right","padding-top":"5px"}},ue={style:{position:"absolute",top:"50%",left:"-27px"}},ce=te((()=>(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function pe(e,t,l,o,i,s){const n=(0,a.g2)("q-icon"),d=(0,a.g2)("q-label"),u=(0,a.g2)("q-input"),c=(0,a.g2)("q-file"),p=(0,a.g2)("q-form"),h=(0,a.g2)("q-space"),m=(0,a.g2)("q-btn"),_=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",le,[(0,a.Lk)("div",{class:"cursor-pointer",onClick:t[0]||(t[0]=t=>e.activeSupplierSidebar="")},[(0,a.bF)(n,{name:"email"}),(0,a.eW)(" "+(0,r.v_)(e.$t("mail")),1)])]),(0,a.Lk)("div",ae,[(0,a.bF)(p,{class:"flex column",style:{"font-size":"13px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{modelValue:e.supplierEmail.to,"onUpdate:modelValue":t[1]||(t[1]=t=>e.supplierEmail.to=t),name:"to",label:e.$t("to")},{label:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.$t("to"))+": ",1),oe])),_:1})])),_:1},8,["modelValue","label"]),e.emailToError?((0,a.uX)(),(0,a.CE)("span",ie,(0,r.v_)(e.emailToError),1)):(0,a.Q3)("",!0),(0,a.bF)(u,{modelValue:e.supplierEmail.cc,"onUpdate:modelValue":t[2]||(t[2]=t=>e.supplierEmail.cc=t),name:"cc",label:`${e.$t("cc")}:`},null,8,["modelValue","label"]),e.emailCCError?((0,a.uX)(),(0,a.CE)("span",se,(0,r.v_)(e.emailCCError),1)):(0,a.Q3)("",!0),(0,a.bF)(u,{modelValue:e.supplierEmail.subject,"onUpdate:modelValue":t[3]||(t[3]=t=>e.supplierEmail.subject=t),name:"subject",label:e.$t("subject")},{label:(0,a.k6)((()=>[(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.$t("subject"))+": ",1),ne])),_:1})])),_:1},8,["modelValue","label"]),e.subjectError?((0,a.uX)(),(0,a.CE)("span",re,(0,r.v_)(e.subjectError),1)):(0,a.Q3)("",!0),(0,a.bF)(c,{modelValue:e.supplierEmail.file,"onUpdate:modelValue":t[4]||(t[4]=t=>e.supplierEmail.file=t),label:`${e.$t("file")}:`,multiple:"",append:"","use-chips":""},{append:(0,a.k6)((()=>[(0,a.bF)(n,{name:"attach_file"})])),_:1},8,["modelValue","label"]),(0,a.bF)(u,{modelValue:e.supplierEmail.message,"onUpdate:modelValue":t[5]||(t[5]=t=>e.supplierEmail.message=t),name:"message",label:`${e.$t("message")}:`,type:"textarea"},null,8,["modelValue","label"])])),_:1}),(0,a.Lk)("div",de,[(0,a.bF)(h),(0,a.bF)(n,{class:"cursor-pointer",name:"send",color:"primary",onClick:e.handleSendEmail},null,8,["onClick"])]),(0,a.Lk)("div",ue,[(0,a.bF)(m,{dense:"",round:"",unelevated:"",color:"primary",icon:"chevron_right",class:"drawer-close-button",onClick:t[6]||(t[6]=t=>e.activeSupplierSidebar="")})])]),(0,a.bF)(_,{showing:e.loading},{default:(0,a.k6)((()=>[ce])),_:1},8,["showing"])],64)}var he=l(39755);const me=new he.A;var _e=l(64775),be=l(24622),ve=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const ge=(0,a.pM)({el:"#app",mixins:[be.A],data(){let e=!1;return{loading:e,emailToError:"",emailCCError:"",subjectError:""}},setup(){const e=(0,F.M1)(),{activeSupplierSidebar:t}=(0,f.bP)(e),l=(0,g.KR)({to:"",cc:"",subject:"",file:[],message:""});return{activeSupplierSidebar:t,supplierEmail:l}},methods:{isValidEmail(e){const t=/\S+@\S+\.\S+/;return t.test(e)},validationSendEmail(){let e=!1;return""===this.supplierEmail.to?(this.emailToError="Email is required",e=!0):this.supplierEmail.to&&!this.isValidEmail(this.supplierEmail.to)?(this.emailToError="Email is invalid",e=!0):this.emailToError="",this.supplierEmail.cc&&!this.isValidEmail(this.supplierEmail.cc)?(this.emailCCError="Email is invalid",e=!0):this.emailCCError="",""!==this.supplierEmail.subject&&this.supplierEmail.subject?this.subjectError="":(this.subjectError="Subject is required",e=!0),e},handleSendEmail(){return ve(this,void 0,void 0,(function*(){try{let e=this.validationSendEmail();if(!e){this.loading=!0;const e=new FormData;e.append("recipients",this.supplierEmail.to),e.append("cc",this.supplierEmail.cc),e.append("subject",this.supplierEmail.subject),e.append("description",this.supplierEmail.message),this.supplierEmail.file&&this.supplierEmail.file.forEach((t=>{e.append("files",t)}));const t=yield me.supplierSendEmail(e);t&&(this.showSuccessToast(this.$t("email_send_success")),Object.assign(this.supplierEmail,{to:"",cc:"",subject:"",file:[],message:""}))}}catch(e){const t=_e.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.loading=!1}}))}}});var fe=l(99980),ye=l(93676),ke=l(66760);const we=(0,A.A)(ge,[["render",pe],["__scopeId","data-v-3fc79493"]]),Ce=we;T()(ge,"components",{QIcon:Q.A,QForm:z.A,QInput:H.A,QFile:fe.A,QSpace:ye.A,QBtn:G.A,QInnerLoading:Y.A,QField:J.A,QChip:ke.A});var xe=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const Le=(0,a.pM)({components:{SupplierDetailsChat:ee,SupplierDetailsEmail:Ce},data(){return{newChats:0,id:null}},mounted(){this.sendSubcription(this.$route.params.id),this.CheckSupplierChatOnline(!0)},beforeUnmount(){this.reSetChat()},beforeRouteLeave:function(e,t,l){this.CheckSupplierChatOnline(!1),l()},methods:{sendSubcription(e){return xe(this,void 0,void 0,(function*(){yield this.connect();try{this.socket.readyState!==WebSocket.OPEN&&(yield this.connect()),this.subscribeToChat("chat_supplier_detail",e),this.getChatHistory(e,this.chat_limit,this.chat_page)}catch(t){logInfo(t,"error")}}))}},callOnlineInterval(e){e&&setInterval((()=>{this.CheckSupplierChatOnline(this.$route.params.id)}),3e4)},setup(){const e=(0,F.M1)(),{activeSupplierSidebar:t}=(0,f.bP)(e),{CheckSupplierChatOnline:l}=e,a=(0,w.G)(),{subscribeToChat:o,getChatHistory:i,reSetChat:s,connect:n}=a,{socket:r}=(0,f.bP)(a),{chat:d,chat_limit:u,chat_page:c}=(0,f.bP)(a);return{activeSupplierSidebar:t,subscribeToChat:o,getChatHistory:i,CheckSupplierChatOnline:l,chat:d,chat_limit:u,chat_page:c,reSetChat:s,connect:n,socket:r}}}),Fe=(0,A.A)(Le,[["render",n]]),Ee=Fe;T()(Le,"components",{QSpace:ye.A,QIcon:Q.A})},21104:(e,t,l)=>{"use strict";l.d(t,{A:()=>K});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("SupplierStepper"),r=(0,a.g2)("SupplierExpansion");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(n),(0,a.bF)(r)],64)}function i(e,t,l,o,i,s){const n=(0,a.g2)("q-step"),r=(0,a.g2)("q-stepper");return(0,a.uX)(),(0,a.Wv)(r,{modelValue:e.step,"onUpdate:modelValue":t[0]||(t[0]=t=>e.step=t),"alternative-labels":"",color:"primary",class:"bg-transparent",flat:"",animated:"","header-nav":""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.formLayout,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t.name},[t.hidden?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(n,{key:0,name:l+1,title:e.$t(t.title),icon:"edi"===t.icon?e.iconUrl:t.icon,"active-icon":"edi"===t.icon?e.iconUrl:t.icon,"done-icon":"edi"===t.icon?e.iconUrl:t.icon,done:e.step>l+1},null,8,["name","title","icon","active-icon","done-icon","done"]))],64)))),128))])),_:1},8,["modelValue"])}var s=l(83319),n=l(1659);const r=(0,a.pM)({el:"#app",components:{},watch:{},computed:{iconUrl:function(){let e="";return e=this.$q.dark.isActive?"img:supplier/supplier_edi_dark_mode.svg":"img:supplier/supplier_edi.svg",e}},data(){return{}},setup(){const e=(0,s.M1)(),{formLayout:t,step:l}=(0,n.bP)(e);return{formLayout:t,step:l}},methods:{}});var d=l(12807),u=l(37222),c=l(78577),p=l(98582),h=l.n(p);const m=(0,d.A)(r,[["render",i]]),_=m;h()(r,"components",{QStepper:u.A,QStep:c.A});var b=l(58790);const v={class:"row q-mt-md",style:{"align-items":"center"}},g={key:1};function f(e,t,l,o,i,s){const n=(0,a.g2)("EdiIcon"),r=(0,a.g2)("q-icon"),d=(0,a.g2)("q-item-section"),u=(0,a.g2)("q-separator"),c=(0,a.g2)("SupplierStep"),p=(0,a.g2)("q-btn"),h=(0,a.g2)("q-space"),m=(0,a.g2)("q-card-section"),_=(0,a.g2)("q-card"),f=(0,a.g2)("q-expansion-item"),y=(0,a.g2)("q-list");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(y,{bordered:"",class:"rounded-borders"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.formLayout,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:t.name},[t.hidden?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.bF)(f,{"expand-separator":"",label:e.$t(t.title),"header-class":"text-primary","model-value":e.step===l+1,"onUpdate:modelValue":t=>e.toggle(l)},{header:(0,a.k6)((()=>[(0,a.bF)(d,{avatar:""},{default:(0,a.k6)((()=>["edi"===t.icon?((0,a.uX)(),(0,a.Wv)(n,{key:0,class:"q-ml-xs"})):((0,a.uX)(),(0,a.Wv)(r,{key:1,name:t.icon,class:"q-ml-xs"},null,8,["name"]))])),_:2},1024),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,b.v_)(e.$t(t.title)),1)])),_:2},1024)])),default:(0,a.k6)((()=>[(0,a.bF)(u),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[((0,a.uX)(),(0,a.Wv)(c,{step:t,key:t.name},null,8,["step"])),(0,a.Lk)("div",v,[1!==e.step?((0,a.uX)(),(0,a.Wv)(p,{key:0,style:{background:"#9e9e9e"},"text-color":"white",onClick:e.prev,label:e.$t("back"),class:"q-ml-sm"},null,8,["onClick","label"])):(0,a.Q3)("",!0),0===l?((0,a.uX)(),(0,a.CE)("span",g,(0,b.v_)(e.$t("last_modified_at"))+": "+(0,b.v_)(e.last_updated_at?e.formatDateAccordingToPreference(e.last_updated_at):"--"),1)):(0,a.Q3)("",!0),(0,a.bF)(h),e.step<e.formLayout.length?((0,a.uX)(),(0,a.Wv)(p,{key:2,onClick:e.next,color:"primary",label:e.step===e.formLayout.length?e.$t("finish"):e.$t("next")},null,8,["onClick","label"])):(0,a.Q3)("",!0)])])),_:2},1024)])),_:2},1024)])),_:2},1032,["label","model-value","onUpdate:modelValue"]),(0,a.bF)(u)],64))],64)))),128))])),_:1})])}var y=l(29104);function k(e,t,l,o,i,s){const n=(0,a.g2)("Field"),r=(0,a.g2)("QForm"),d=(0,a.g2)("ConfirmDialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[e.renderComponent?((0,a.uX)(),(0,a.Wv)(r,{key:0,ref:"currentForm",class:"row"},{default:(0,a.k6)((()=>[e.step.after?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:0},(0,a.pI)(e.step.rows,((t,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:l},[e.currentField&&e.currentField[l]?((0,a.uX)(!0),(0,a.CE)(a.FK,{key:0},(0,a.pI)(t,((t,o)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(n,{key:l+t.name+o,meta_field:t,afterClick:()=>e.onClickActionButton(l,e.step.name),innerHtml:e.actionButton(l),btnVisible:l>0,readonly:t.readonly,"onUpdate:modelValue":[a=>e.handleModelValueUpdate(e.step.name,t,a,l),a=>e.currentField[l][t.field_name]=a],modelValue:e.currentField[l][t.field_name],enableMetadata:!0},null,8,["meta_field","afterClick","innerHtml","btnVisible","readonly","onUpdate:modelValue","modelValue"])),[[y.aG,!t.is_hidden]]))),128)):(0,a.Q3)("",!0)],64)))),128)):((0,a.uX)(!0),(0,a.CE)(a.FK,{key:1},(0,a.pI)(e.step.rows,((t,l)=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(n,{key:l,meta_field:t,readonly:t.readonly,"onUpdate:modelValue":[l=>e.handleModelValueUpdate(e.step.name,t,l),l=>e.currentField[t.field_name]=l],modelValue:e.currentField[t.field_name],enableMetadata:!0},null,8,["meta_field","readonly","onUpdate:modelValue","modelValue"])),[[y.aG,!t.is_hidden]]))),128))])),_:1},512)):(0,a.Q3)("",!0),(0,a.bF)(d,{modelValue:e.confirm_payment_term_field,"onUpdate:modelValue":t[0]||(t[0]=t=>e.confirm_payment_term_field=t),message:e.$t("supplier_register_form.hint.payment_term_hint"),"confirm-label":e.$t("confirm"),btnCancel:!1},null,8,["modelValue","message","confirm-label"])],64)}var w=l(38734),C=l(60372),x=l(49200),L=l(58229);const F=(0,a.pM)({el:"#app",components:{Field:C.A,QForm:x.A,ConfirmDialog:L.A},props:{step:{type:Object,required:!0},key:{type:String,required:!0}},computed:{},watch:{},data(){return{}},setup(e){const t=(0,s.M1)(),{formLayout:l,renderComponent:a,formConfigure:o,supplierForm:i,status:r,layout_type:d}=(0,n.bP)(t),{onClickActionButton:u}=t,c=(0,w.lW)(o.value,e.step["name"]),p=(0,w.lW)(i.value,e.step["name"]),h=e=>`<i class="q-icon material-icons">${0===e?"add":"remove"}</i>`;return{formLayout:l,renderComponent:a,formConfigure:o,supplierForm:i,currentForm:p,currentField:c,onClickActionButton:u,actionButton:h,confirm_payment_term_field:(0,w.KR)(!1),status:r,layout_type:d}},methods:{handleModelValueUpdate(e,t,l,a){"payment_term"===t.field_name&&"N90"!==l&&(this.confirm_payment_term_field=!0)}}});var E=l(50492);const A=(0,d.A)(F,[["render",k]]),S=A;h()(F,"components",{QIcon:E.A});var D=l(46736),I=l(31670);const T=(0,a.pM)({mixins:[D.A],el:"#app",components:{SupplierStep:S,EdiIcon:I.A},mounted(){},data(){return{}},setup(){const e=(0,s.M1)(),{formLayout:t,step:l,last_updated_at:a}=(0,n.bP)(e),{prev:o,next:i,goto:r,toggle:d}=(0,s.M1)(),{datePattern:u}=(0,s.Bu)();return{formLayout:t,last_updated_at:a,step:l,prev:o,next:i,goto:r,toggle:d,datePattern:u}},methods:{}});var O=l(53999),M=l(88841),R=l(25173),P=l(10386),q=l(23316),V=l(44189),N=l(56384),B=l(93676);const $=(0,d.A)(T,[["render",f]]),Q=$;h()(T,"components",{QList:O.A,QExpansionItem:M.A,QItemSection:R.A,QIcon:E.A,QSeparator:P.A,QCard:q.A,QCardSection:V.A,QBtn:N.A,QSpace:B.A});const X=(0,a.pM)({el:"#app",components:{SupplierStepper:_,SupplierExpansion:Q},data(){return{}},setup(){const e=(0,s.M1)(),{loading:t,formLayout:l}=(0,n.bP)(e),{getSuppierLayoutByID:a,populateForm:o}=e;return{getSuppierLayoutByID:a,loading:t,formLayout:l,populateForm:o}},methods:{}}),W=(0,d.A)(X,[["render",o]]),K=W},94088:(e,t,l)=>{"use strict";l.d(t,{A:()=>p});var a=l(61758);function o(e,t,l,o,i,s){const n=(0,a.g2)("q-checkbox");return(0,a.uX)(),(0,a.Wv)(n,(0,a.v6)(e.props,{label:e.isOuter?void 0:e.meta_field.label?e.$t(e.meta_field.label):"",class:`${e.props.class} ${e.additionalClass}`,"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=t=>{e.emit("update:modelValue",t)}),inline:"inline"===e.meta_field.label_style}),null,16,["label","class","model-value","inline"])}var i=l(38734);const s=(0,a.pM)({el:"#app",props:{meta_field:{type:Object,required:!0},name:{type:String,required:!0},type:{type:String,required:!0},label:{type:String,required:!1},rules:{type:Array,required:!0},class:{type:String,required:!0},disable:{type:Boolean,required:!0},readonly:{type:Boolean,required:!0},modelValue:{type:Boolean,default:!1},stackLabel:{type:Boolean,required:!0},dense:{type:Boolean,required:!0},hideBottomSpace:{type:Boolean,required:!0},reactiveRule:{type:Boolean,required:!1},asterisk:{type:String,required:!1},labelSlot:{type:Boolean,required:!1},isOuter:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){return{additionalClass:(0,i.KR)(""),props:e,emit:t}}});var n=l(12807),r=l(80460),d=l(98582),u=l.n(d);const c=(0,n.A)(s,[["render",o]]),p=c;u()(s,"components",{QCheckbox:r.A})},60372:(e,t,l)=>{"use strict";l.d(t,{A:()=>ee});var a=l(61758),o=l(58790),i=l(38734),s=l(73745),n=l(74960),r=l(78279),d=l(28936),u=l(94088),c=l(40732),p=l(82303),h=l(46162),m=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const _=["innerHTML"],b=(0,a.pM)({__name:"Note",props:{meta_field:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,o=(0,i.KR)(null),s=new Set,n=(e,t)=>{const l=new URL(e);return l.searchParams.set("token",t),l.toString()},r=e=>{const t=e.split(".").pop();return t?`.${t}`:""},d=e=>{const t=new URL(e),l=t.searchParams.get("path"),a=r(l),o=decodeURIComponent(t.pathname.split("/").pop()||"download");return o+a},u=(e,t)=>{const l=window.URL.createObjectURL(e),a=document.createElement("a");a.href=l,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)};return(0,a.sV)((()=>{if(o.value){const e=o.value.querySelectorAll("a");e.forEach((e=>{s.has(e)||(e.addEventListener("click",(t=>{t.preventDefault(),(()=>{m(this,void 0,void 0,(function*(){try{const t=yield(0,h.L3)(),l=n(e.href,t.split(" ")[1]),a=new URL(e.href),o=a.searchParams.get("path");if(o.endsWith(".pdf"))window.open(l,"_blank");else{const t=yield p.A.get(l,{responseType:"blob"}),a=d(e.href);u(t.data,a)}}catch(t){logError({msg:"Error fetching file",error:t})}}))})()})),s.add(e))}))}})),(e,t)=>((0,a.uX)(),(0,a.CE)("div",{ref_key:"noteTextRef",ref:o,class:"note-text",innerHTML:l.meta_field.default_value},null,8,_))}});var v=l(12807);const g=(0,v.A)(b,[["__scopeId","data-v-381c1bde"]]),f=g;var y=l(23537);const k={key:0,class:"q-mb-md"},w={class:"text-red"},C={class:"q-gutter-sm q-pt-md"},x=(0,a.pM)({__name:"Radio",props:{meta_field:{},name:{},type:{},label:{},rules:{},class:{},disable:{},readonly:{type:Boolean},modelValue:{},stackLabel:{type:Boolean},dense:{type:Boolean},hideBottomSpace:{type:Boolean},reactiveRule:{type:Boolean},asterisk:{},labelSlot:{type:Boolean},isOuter:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=(0,y.s9)(),s=e,n=t,{meta_field:r}=s,d=(0,i.KR)(s.modelValue),u=(0,a.EW)((()=>{var e;return null===(e=r.options)||void 0===e?void 0:e.map((e=>({label:e.label,value:e.value})))}));return(e,t)=>{const l=(0,a.g2)("q-radio");return(0,a.uX)(),(0,a.CE)("div",null,[s.isOuter?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",k,[(0,a.eW)((0,o.v_)((0,i.R1)(r).label)+" ",1),(0,a.Lk)("span",w,""+(0,o.v_)(e.asterisk),1)])),(0,a.Lk)("div",C,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(u.value,(o=>((0,a.uX)(),(0,a.Wv)(l,{key:o.value,modelValue:d.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>d.value=e),t[1]||(t[1]=e=>{n("update:modelValue",e)})],dense:"",disable:e.readonly,val:o.value,label:o.label},null,8,["modelValue","disable","val","label"])))),128))])])}}});var L=l(97878),F=l(98582),E=l.n(F);const A=x,S=A;E()(x,"components",{QRadio:L.A});var D=l(29104);const I=(0,a.Lk)("span",null,(0,o.v_)("Assigned user"),-1);function T(e,t,l,o,i,s){const n=(0,a.g2)("q-item-section"),r=(0,a.g2)("q-item"),d=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(d,(0,a.v6)(e.props,{class:`${e.additionalClass}`,options:e.filterOption,modelValue:e.model,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.model=t),t[1]||(t[1]=t=>{e.$emit("update:modelValue",t)})],loading:e.loading,inline:"inline"===e.meta_field.label_style,outlined:"outlined"===e.meta_field.design||"outlined-filled"===e.meta_field.design,"border-less":"borderless"===e.meta_field.design,standout:"standout"===e.meta_field.design,filled:"filled"===e.meta_field.design,behavior:"default",hint:e.meta_field.hint,"hide-dropdown-icon":!0,"default-value":e.model,"use-input":!0,onFilter:e.filterFn,autocomplete:"","map-options":"","emit-value":"","hide-hint":"",onKeyup:t[2]||(t[2]=(0,D.jR)((t=>e.model=""),["delete"]))}),{label:(0,a.k6)((()=>[I])),"no-option":(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(n,{class:"text-grey"},{default:(0,a.k6)((()=>[(0,a.eW)(" No results ")])),_:1})])),_:1})])),_:1},16,["class","options","modelValue","loading","inline","outlined","border-less","standout","filled","hint","default-value","onFilter"])}var O=l(11470),M=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const R=(0,a.pM)({el:"#app",props:{meta_field:{type:Object,required:!0},modelValue:{type:String}},data(){return{model:"",filterOption:[],loading:!0}},mounted(){return M(this,void 0,void 0,(function*(){const e=yield O.jD.getUsers();this.filterOption=e.map((e=>({label:e.name,value:e.id.toString()}))),this.model=(0,i.ux)(this.modelValue),this.loading=!1}))},methods:{filterFn(e,t,l){t((()=>{const t=e.toLowerCase();this.filterOption=this.filterOption.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}))}},emits:["update:modelValue"],setup(e,{emit:t}){const l="outlined-filled"===e.meta_field.design?"bg-grey-5":"",a="inline"===e.meta_field.label_style?"flex q-col-gutter-xl":"",o=`${l} ${a}`;return{props:e,additionalClass:o}}});var P=l(94940),q=l(90124),V=l(25173);const N=(0,v.A)(R,[["render",T]]),B=N;E()(R,"components",{QSelect:P.A,QItem:q.A,QItemSection:V.A});var $=l(83319),Q=l(1659),X=l(73414),W=l(18698);const K={class:"row full-width q-pa-xs"},U={class:"col"},j={key:0,class:"row items-center",style:{"white-space":"nowrap"}},z={class:"text-red"},H=(0,a.pM)({__name:"Field",props:{meta_field:{},modelValue:{},isError:{type:Boolean},errorMessage:{},readonly:{type:Boolean},disabled:{type:Boolean},translationKey:{default:"supplier_register_form"},afterClick:{},innerHtml:{},btnVisible:{type:Boolean},enableMetadata:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const l=(0,$.M1)(),{formLayout:p,formConfigure:h,renderComponent:m,layout_type:_,originalFormMultiple:b}=(0,Q.bP)(l),v=e,g=t,{meta_field:y,afterClick:k,innerHtml:w,btnVisible:C,enableMetadata:x}=v,L=(0,i.KR)([]),F=(["outer","inline",void 0].includes(y.label_style),"inline"===y.label_style?"flex q-col-gutter-lg":""),E=(0,a.EW)((()=>v.meta_field.required?"*":"")),A=e=>{g("update:modelValue",e),x&&D()};(0,a.sV)((()=>{if(x){let t=y.calculation_formula;if(t)try{t=JSON.parse(t),L.value=t}catch(e){logError("Error parsing calculation_formula on field : {{"+y.field_name+"}}",e)}(0,a.dY)((()=>{D()}))}}));const D=()=>{L.value.length>0&&L.value.forEach(te)},I=(e,t)=>t.split(".").reduce(((e,t)=>e&&e[t]),e),T=(e,t)=>{try{let l="";return t.value_path?(l=Array.isArray(t.value_path)?t.value_path.map((t=>I(e,t))):I(e,t.value_path),t.seperator&&(l=l.split(t.seperator),l.length>0&&(l=l[t.index])),l):t.value}catch(l){logInfo(l,"RESOLVE_VALUE_ERROR:"+t.value_path)}},O=(e,t,l,a,o)=>{const i=t.split("."),s=i.pop(),n=i.reduce(((e,t)=>e[t]=e[t]||{}),e);("supplier_view"===o&&"supplier_user"===_.value||"management_view"===o&&"supplier_management"===_.value||!o)&&(n[s]=P(l,a.format))},M=(e,t)=>{let l=!1;return void 0!==e&&(l=e.startsWith(t),l)},R=(e,t)=>{let l=!1;return void 0===e?(l=!0,l):(l=!e.startsWith(t),l)},P=(e,t)=>t?"date"===t?new Date(e):"int"===t?parseInt(e):"float"===t?parseFloat(e):"string"===t?e.toString():e:e,q=(e,t,l,a,o,i)=>{const s=t.split("."),n=s.pop(),r=s.reduce(((e,t)=>e[t]=e[t]||{}),e);if(Array.isArray(r[n])){const e=r[n],i=o.find((e=>e.name===t));i&&i.rows.map((t=>{t.map((t=>{t.field_name===l&&(t.rules=[],a.forEach((a=>{const o="1"===a?"no_physical_address_err":"3"===a?"pickup_address_type_err":"no_remittance_address_err";t.rules.push({key:l,rule:()=>e.some((e=>(null===e||void 0===e?void 0:e[l])==a)),messageKey:o})})))}))}))}},V=(e,t,l,a,o,i)=>{const s=t.split("."),n=s.pop(),r=s.reduce(((e,t)=>e[t]=e[t]||{}),e);if(Array.isArray(r[n])){const e=r[n].filter(((e,t)=>"object"!==typeof e||!(0,X.Im)(e)));a.forEach((a=>{const i=e.findIndex((e=>e[l]==a[l]));if(-1===i){e.unshift(a);const l=o.find((e=>e.name===t));l&&l.rows.push(b.value.get(l.name))}})),("supplier_view"===i&&"supplier_user"===_.value||"management_view"===i&&"supplier_management"===_.value||!i)&&(r[n]=e)}},N=(e,t,l,a,o)=>{const{view_side:i}=o;if("supplier_view"===i&&"supplier_user"===_.value||"management_view"===i&&"supplier_management"===_.value||!i){let e=t.find((e=>e.name===l));e&&Object.keys(a).forEach((t=>{e[t]=a[t]}))}},H=(e,t,l,a,o)=>{var i;let s=[];null===(i=null===o||void 0===o?void 0:o.option_path)||void 0===i||i.forEach((e=>{const l=t.find((t=>t.name===e.section));if(l){const t=l.rows,a=t.find((t=>t.field_name===e.field_name));s=s.concat(JSON.parse(JSON.stringify(a.options)))}})),o.load_constant&&(null===o||void 0===o||o.constant_keys.forEach((e=>{const t=W[e];t&&(s=s.concat(t))})));let n="";a.forEach(((e,t)=>{void 0===e&&(e="");const l=s.find((t=>t[o.search_key]===e));l&&(n+=l[o.value_key]+(t!=a.length?o.separator:""))})),O(e,l,n,o,null===o||void 0===o?void 0:o.view_side)},G=(e,t,l)=>{const{key:a,operator:o,search_key:i,then_set:s,view_side:n,value:r}=t,d=(e,t)=>{Object.keys(t).forEach((l=>{e[l]=t[l]}))},u=(e,t)=>e.map((e=>{const l=t.find((t=>e.field_name===t.key));return l&&d(e,null===l||void 0===l?void 0:l.properties),e}));if("supplier_view"===n&&"supplier_user"===_.value||"management_view"===n&&"supplier_management"===_.value||!n){const t=l[a];t.forEach(((t,l)=>{var n;let d=!1;switch(o){case">":d=t[i]>r;break;case"<":d=t[i]<r;break;case">=":d=t[i]>=r;break;case"<=":d=t[i]<=r;break;case"==":d=t[i]==r;break;case"!=":d=t[i]!=r;break;case"in":d=Array.isArray(r)&&r.includes(t[i]);break;case"not in":d=Array.isArray(r)&&!r.includes(t[i]);case"start_with_string":d=M(t[i],r);break;case"not_start_with_string":d=R(t[i],r);break;default:logError("Unsupported operator:",o)}if(d){const t=e.findIndex((e=>e.name===a));if(-1!==t){const a=JSON.parse(JSON.stringify(null===(n=e[t])||void 0===n?void 0:n.rows[l]));if(a){const o=u(a,s);e[t].rows[l]=o}}}}))}},Y=(e,t)=>{const{key:l,value:a,view_side:o}=t,i=e=>{t.hasOwnProperty("readonly_btn_multi")&&e.hasOwnProperty("after")&&(e["after"]["readonly"]=t.readonly_btn_multi),Object.keys(a).forEach((t=>{e[t]=a[t]}))},s=(e,t,l)=>{e.forEach((e=>{e.rows&&e.rows.forEach((e=>{Array.isArray(e)?e.forEach((e=>{e.field_name!==t&&"all"!==t||l(e)})):e.field_name!==t&&"all"!==t||l(e)}))}))};("supplier_view"===o&&"supplier_user"===_.value||"management_view"===o&&"supplier_management"===_.value||!o)&&s(e,l,i)},J=(e,t,l)=>{const{key:a,value_path:o,view_side:i,charactor:s}=l,n=I(e,o),r=n.substring(0,s),d=a.split("."),u=d.pop(),c=d.reduce(((e,t)=>e[t]=e[t]||{}),e);("supplier_view"===i&&"supplier_user"===_.value||"management_view"===i&&"supplier_management"===_.value||!i)&&(c[u]=P(r,l.format))},Z=(e,t,l)=>{const{key:a,operator:o,search_key:i,then_set:s,view_side:n,value:r}=l,d=(t,l)=>{const a=t.prefix&&I(e,t.value_path),o=t.suffix&&I(e,t.value_path);t.prefix?l[t.key]=a+t.value:t.suffix?l[t.key]=t.value+o:l[t.key]=t.value};if("supplier_view"===n&&"supplier_user"===_.value||"management_view"===n&&"supplier_management"===_.value||!n){const t=e[a];t.forEach(((e,t)=>{let l=!1;switch(o){case">":l=e[i]>r;break;case"<":l=e[i]<r;break;case">=":l=e[i]>=r;break;case"<=":l=e[i]<=r;break;case"==":l=e[i]==r;break;case"!=":l=e[i]!=r;break;case"in":l=Array.isArray(r)&&r.includes(e[i]);break;case"not in":l=Array.isArray(r)&&!r.includes(e[i]);case"start_with_string":l=M(e[i],r);break;case"not_start_with_string":l=R(e[i],r);break;default:logError("Unsupported operator:",o)}l&&s.map((t=>{d(t,e)}))}))}},ee=(e,t,l,a)=>{let o=T(t,e);switch(e.type){case"set_value":O(t,e.key,o,e,null===e||void 0===e?void 0:e.view_side);break;case"set_metadata":Y(l,e);break;case"set_metadata_array_by_search":G(l,e,t);break;case"set_array_value":V(t,e.key,e.based_key,e.value,l,null===e||void 0===e?void 0:e.view_side);break;case"set_rule_address_validation":q(t,e.key,e.based_key,e.value,l,a);break;case"set_value_with_option":H(t,l,e.key,o,e);break;case"set_visible_section":N(t,l,e.key,o,e);break;case"set_value_by_start_charactor":J(t,l,e);break;case"set_value_array_by_search":Z(t,l,e);break;default:logError("Unsupported action type:",e.type)}},te=e=>{const{key:t,operator:l,value:a,then:o,conditions:i,type:s}=e,n=h.value,r=p.value;let d=!1;const u=(e,t,l)=>{let a=e?I(n,e):void 0;if(void 0===a&&"is empty"!==t)return logError("key not found:",e),!1;switch(t){case">":return a>l;case"<":return a<l;case">=":return a>=l;case"<=":return a<=l;case"==":return a==l;case"!=":return a!=l;case"in":return Array.isArray(l)&&l.includes(a);case"not in":return Array.isArray(l)&&!l.includes(a);case"is empty":return""===a||void 0===a||null===a;case"start_with_string":return M(a,l);case"not_start_with_string":return R(a,l);default:return logError("Unsupported operator:",t),!1}};"condition"===s&&Array.isArray(i)?"and"===l?d=i.every((e=>u(e.key,e.operator,e.value))):"or"===l?d=i.some((e=>u(e.key,e.operator,e.value))):logError("Unsupported logical operator:",l):d=u(t,l,a),d&&(Array.isArray(o)?o.map((e=>{ee(e,n,r,t)})):ee(o,n,r,t))},le=(0,a.EW)((()=>"SPECIAL"===y.type?B:["STRING","NUMBER","TEXTAREA","text","number","password","email","tel","textarea"].includes(y.type)?n.A:["radio","group-checkbox","toggle"].includes(y.type)?r.A:["SELECT","SEARCH","select","search"].includes(y.type)?d.A:["FILE","file"].includes(y.type)?c.A:["checkbox","BOOLEAN"].includes(y.type)?u.A:["NOTE","note"].includes(y.type)?f:["RADIO"].includes(y.type)?S:null));return(e,t)=>{var l,n;const r=(0,a.g2)("q-tooltip"),d=(0,a.g2)("q-icon"),u=(0,a.g2)("q-space");return(0,a.uX)(),(0,a.CE)("div",{class:(0,o.C4)([(0,i.R1)(y).class,(0,i.R1)(F)])},[(0,a.Lk)("div",K,[(0,i.R1)(y).before?((0,a.uX)(),(0,a.Wv)((0,a.$y)((0,i.R1)(y).before.component),(0,a.v6)({key:0},(0,i.R1)(y).before.props,{innerHTML:(0,i.R1)(y).before.innerContent}),null,16,["innerHTML"])):(0,a.Q3)("",!0),(0,a.Lk)("div",U,[["outer","inline",void 0].includes((0,i.R1)(y).label_style)&&"FILE"!==(0,i.R1)(y).type&&"file"!==(0,i.R1)(y).type?((0,a.uX)(),(0,a.CE)("label",j,[(0,a.eW)((0,o.v_)((0,i.R1)(y).title?e.$t((0,i.R1)(y).title):"")+" ",1),(0,a.Lk)("span",z,""+(0,o.v_)(E.value),1),(0,i.R1)(y).labelHint?((0,a.uX)(),(0,a.Wv)(d,{key:0,name:"info",style:{"font-size":"large",color:"orange","padding-bottom":"5px"}},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t((0,i.R1)(y).labelHint)),1)])),_:1})])),_:1})):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),((0,a.uX)(),(0,a.Wv)((0,a.$y)(le.value),{meta_field:(0,i.R1)(y),name:v.meta_field.field_name,type:"group-checkbox"===(0,i.R1)(y).type?"checkbox":(0,i.R1)(y).type,translationKey:v.translationKey,disable:e.disabled||(0,i.R1)(y).disable||!1,readonly:e.readonly||(0,i.R1)(y).readonly||!1,"model-value":e.modelValue,"stack-label":"stack"===(0,i.R1)(y).label_style,"onUpdate:modelValue":t[0]||(t[0]=e=>A(e)),dense:"","hide-bottom-space":"","reactive-rules":"","label-slot":!["outer","inline",void 0].includes((0,i.R1)(y).label_style),asterisk:E.value,isOuter:["outer","inline",void 0].includes((0,i.R1)(y).label_style),rules:[...(0,i.R1)(y).required?[t=>!!t||e.$t((0,i.R1)(y).requiredMessageKey?e.$t(`${v.translationKey}.error.${(0,i.R1)(y).requiredMessageKey}`):"field_required")]:[],..."email"===(0,i.R1)(y).type?[t=>(0,i.R1)(s.pA)(t)||e.$t(`${v.translationKey}.error.email_err`)]:[],...(null===(l=(0,i.R1)(y).rules)||void 0===l?void 0:l.map((t=>l=>t.rule(l)||e.$t(`${v.translationKey}.error.${t.messageKey}`))))||[]]},null,8,["meta_field","name","type","translationKey","disable","readonly","model-value","stack-label","label-slot","asterisk","isOuter","rules"]))]),(0,i.R1)(y).after?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.bF)(u),((0,a.uX)(),(0,a.Wv)((0,a.$y)((0,i.R1)(y).after.component),(0,a.v6)((0,i.R1)(y).after.props,{disabled:(null===(n=(0,i.R1)(y).after)||void 0===n?void 0:n.readonly)||(0,i.R1)(C)&&(e.readonly||(0,i.R1)(y).readonly),innerHTML:(0,i.R1)(w),onclick:(0,i.R1)(k)}),null,16,["disabled","innerHTML","onclick"]))],64)):(0,a.Q3)("",!0)])],2)}}});var G=l(50492),Y=l(97410),J=l(93676);const Z=(0,v.A)(H,[["__scopeId","data-v-035b90e2"]]),ee=Z;E()(H,"components",{QIcon:G.A,QTooltip:Y.A,QSpace:J.A})},40732:(e,t,l)=>{"use strict";l.d(t,{A:()=>V});var a=l(61758),o=l(38734),i=l(29104),s=l(58790),n=l(1659),r=l(99980),d=l(60455);const u={class:"text-weight-bold"},c=["src"],p=(0,a.pM)({__name:"PdfPreviewDialog",props:{modelValue:{type:Boolean},url:{}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,o=t;return(e,t)=>{const i=(0,a.g2)("q-toolbar-title"),n=(0,a.g2)("q-btn"),r=(0,a.g2)("q-toolbar"),d=(0,a.g2)("q-card-section"),p=(0,a.g2)("f-btn"),h=(0,a.g2)("q-card-actions"),m=(0,a.g2)("q-card"),_=(0,a.g2)("q-dialog"),b=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(_,{"model-value":l.modelValue,"onUpdate:modelValue":t[0]||(t[0]=e=>o("update:modelValue",e))},{default:(0,a.k6)((()=>[(0,a.bF)(m,{style:{width:"1400px","max-width":"80vw"}},{default:(0,a.k6)((()=>[(0,a.bF)(r,{class:"text-white secondary-toolbar"},{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",u,(0,s.v_)(e.$t("doc2light.pages.document")),1)])),_:1}),(0,a.bo)((0,a.bF)(n,{flat:"",round:"",dense:"",icon:"close"},null,512),[[b]])])),_:1}),(0,a.bF)(d,{class:"q-pt-lg"},{default:(0,a.k6)((()=>{var e;return[(0,a.Lk)("iframe",{src:null!==(e=l.url)&&void 0!==e?e:"",frameborder:"0",style:{width:"100%",height:"80vh"}},null,8,c)]})),_:1}),(0,a.bF)(h,{align:"right",class:"bg-white text-teal"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(p,{flat:"",label:e.$t("close")},null,8,["label"]),[[b]])])),_:1})])),_:1})])),_:1},8,["model-value"])}}});var h=l(82156),m=l(23316),_=l(36914),b=l(39150),v=l(56384),g=l(44189),f=l(62669),y=l(88672),k=l(98582),w=l.n(k);const C=p,x=C;w()(p,"components",{QDialog:h.A,QCard:m.A,QToolbar:_.A,QToolbarTitle:b.A,QBtn:v.A,QCardSection:g.A,QCardActions:f.A}),w()(p,"directives",{ClosePopup:y.A});var L=l(13482),F=l(16332),E=l(83319),A=function(e,t,l,a){function o(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,i){function s(e){try{r(a.next(e))}catch(t){i(t)}}function n(e){try{r(a["throw"](e))}catch(t){i(t)}}function r(e){e.done?l(e.value):o(e.value).then(s,n)}r((a=a.apply(e,t||[])).next())}))};const S={class:"flex q-col-gutter-sm"},D={class:"text-red"},I={class:"listing-header"},T={class:"error-listing"},O=(0,a.pM)({__name:"FileField",props:{meta_field:{},name:{},type:{},label:{},rules:{},class:{},disable:{type:Boolean},readonly:{type:Boolean},modelValue:{},stackLabel:{type:Boolean},dense:{type:Boolean},hideBottomSpace:{type:Boolean},reactiveRule:{type:Boolean},labelSlot:{type:Boolean},isError:{type:Boolean},errorMessage:{}},emits:["update:modelValue"],setup(e,{emit:t}){const l=(0,d.lq)(),u=(0,E.M1)(),{supplierUploadStatus:c,formConfigure:p}=(0,n.bP)(u),{uploadFile:h,deleteFile:m,updateSupplier:_}=(0,E.M1)(),b=e,v=t,{meta_field:g,name:f}=b,y=null===g||void 0===g?void 0:g.field_name,k="outlined-filled"===g.design?"bg-grey-5":"",w="inline"===g.label_style?"flex q-col-gutter-xl":"",C=`${k} ${w}`,O=(0,o.KR)(null),M=(0,o.KR)(!1),R=(0,o.KR)(""),P=(0,o.lW)(c.value,y);P.value||(P.value={});const q=(0,o.lW)(b,"modelValue"),V=(0,a.EW)((()=>b.meta_field.required?"*":"")),N=(0,a.EW)((()=>!!P.value&&("loading"===P.value["status"]||!b.modelValue))),B=(0,a.EW)((()=>{if(!b.modelValue)return b.label?b.label:g.title?F.i18n.t(`${g.title}`):g.placeholder?g.placeholder:"";const e=b.modelValue;return e.name})),$=(e,t)=>new File([e],t,{type:e.type,lastModified:e.lastModified}),Q=()=>{if(N.value)return;const e=b.modelValue;e&&(R.value=URL.createObjectURL(e),M.value=!0)},X=()=>{O.value&&O.value.pickFiles()},W=e=>A(this,void 0,void 0,(function*(){var t;P.value["status"]="loading",yield h(l.params.id,e,null===(t=b.meta_field)||void 0===t?void 0:t.input_type).then((t=>{var l,a;if(!t.success)throw new Error(t.message);"certificate_of_insurance"===(null===(l=b.meta_field)||void 0===l?void 0:l.input_type)&&(p.value.insurance_expired_at=null===(a=null===t||void 0===t?void 0:t.data)||void 0===a?void 0:a.minimum_expiration_date);const o=$(e,t.data.document_name);if(v("update:modelValue",o),!t.data.is_valid)throw new L.m(JSON.parse(t.data.error_message));P.value["status"]="uploaded"})).catch((e=>{P.value["status"]="error",P.value["errorMessage"]=e.messages})).finally((()=>{O.value&&O.value.resetValidation()}))})),K=()=>A(this,void 0,void 0,(function*(){var e;if(N.value)return;P.value["status"]="loading";const t=yield m(l.params.id,null===(e=b.meta_field)||void 0===e?void 0:e.input_type);if(!1===t.success)return P.value["status"]="error",void(P.value["errorMessage"]=[t.message]);P.value["status"]="none",v("update:modelValue",null)}));return(e,t)=>{var l,n;const d=(0,a.g2)("q-icon");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)((0,o.R1)(r.A),(0,a.v6)({ref_key:"fileRef",ref:O},b,{class:`${b.class} ${C}`,accept:(0,o.R1)(g).accept,"model-value":q.value,"onUpdate:modelValue":t[0]||(t[0]=e=>W(e)),outlined:"outlined"===(0,o.R1)(g).design||"outlined-filled"===(0,o.R1)(g).design,"border-less":"borderless"===(0,o.R1)(g).design,standout:"standout"===(0,o.R1)(g).design,filled:"filled"===(0,o.R1)(g).design,hint:(0,o.R1)(g).hint,error:b.isError||"error"===(null===(l=P.value)||void 0===l?void 0:l.status),"lazy-rules":"ondemand","no-error-icon":"","label-slot":!q.value}),(0,a.eX)({append:(0,a.k6)((()=>[(0,a.Lk)("div",S,[(0,a.bF)(d,{name:"visibility",onClick:(0,i.D$)(Q,["stop","prevent"]),class:(0,s.C4)([!N.value&&"cursor-pointer text-primary"])},null,8,["class"]),b.readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(d,{key:0,name:"cloud_upload",onClick:(0,i.D$)(X,["stop","prevent"]),class:"cursor-pointer text-primary"})),b.readonly?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(d,{key:1,name:"delete",onClick:(0,i.D$)(K,["stop","prevent"]),class:(0,s.C4)([!N.value&&"cursor-pointer text-primary"])},null,8,["class"])),(0,o.R1)(g).afterIcon?((0,a.uX)(),(0,a.Wv)(d,{key:2,name:(0,o.R1)(g).afterIcon},null,8,["name"])):(0,a.Q3)("",!0)])])),error:(0,a.k6)((()=>[(0,a.Lk)("span",I,(0,s.v_)(e.$t("error_file_uploading_title")),1),(0,a.Lk)("ul",T,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(P.value.errorMessage,((e,t)=>((0,a.uX)(),(0,a.CE)("li",{key:t},(0,s.v_)(e),1)))),128))])])),_:2},["none"!==(null===(n=P.value)||void 0===n?void 0:n.status)||(0,o.R1)(g).beforeIcon?{name:"prepend",fn:(0,a.k6)((()=>{var e,t,l;return["error"===(null===(e=P.value)||void 0===e?void 0:e.status)?((0,a.uX)(),(0,a.Wv)(d,{key:0,name:"error",color:"warning"})):"uploaded"===(null===(t=P.value)||void 0===t?void 0:t.status)?((0,a.uX)(),(0,a.Wv)(d,{key:1,name:"check_circle",color:"positive"})):"loading"===(null===(l=P.value)||void 0===l?void 0:l.status)?((0,a.uX)(),(0,a.Wv)(d,{key:2,name:"img:images/supplier_file_loading.png",class:"spin"})):((0,a.uX)(),(0,a.Wv)(d,{key:3,name:(0,o.R1)(g).beforeIcon},null,8,["name"]))]})),key:"0"}:void 0,q.value?void 0:{name:"label",fn:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(B.value)+" ",1),(0,a.Lk)("span",D,(0,s.v_)(V.value),1)])),key:"1"}]),1040,["class","accept","model-value","outlined","border-less","standout","filled","hint","error","label-slot"]),(0,a.bF)(x,{modelValue:M.value,"onUpdate:modelValue":t[1]||(t[1]=e=>M.value=e),url:R.value},null,8,["modelValue","url"])],64)}}});var M=l(12807),R=l(50492),P=l(67156);const q=(0,M.A)(O,[["__scopeId","data-v-6d060643"]]),V=q;w()(O,"components",{QFile:r.A,QIcon:R.A,QField:P.A})},74960:(e,t,l)=>{"use strict";l.d(t,{A:()=>b});var a=l(61758),o=l(38734),i=l(58790),s=l(73745);const n={class:"text-red"},r=(0,a.pM)({__name:"InputField",props:{meta_field:{},name:{},type:{},label:{},rules:{},class:{},disable:{type:Boolean},readonly:{type:Boolean},modelValue:{},stackLabel:{type:Boolean},dense:{type:Boolean},hideBottomSpace:{type:Boolean},asterisk:{},reactiveRule:{type:Boolean},labelSlot:{type:Boolean},isOuter:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,r=t,{meta_field:d}=l,u="outlined-filled"===d.design?"bg-grey-5":"",c="inline"===d.label_style?"flex q-col-gutter-xl":"",p=`${u} ${c}`;return(e,t)=>{var u;const c=(0,a.g2)("q-icon"),h=(0,a.g2)("q-input");return(0,a.uX)(),(0,a.Wv)(h,(0,a.v6)(l,{type:e.type.toLowerCase(),class:`${l.class} ${p} builder-form-input`,placeholder:(0,o.R1)(d).placeholder,"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=e=>{r("update:modelValue",e)}),outlined:"outlined"===(0,o.R1)(d).design||"outlined-filled"===(0,o.R1)(d).design,"border-less":"borderless"===(0,o.R1)(d).design,standout:"standout"===(0,o.R1)(d).design,filled:"filled"===(0,o.R1)(d).design,mask:(0,o.R1)(d).mask,"fill-mask":null!==(u=(0,o.R1)(d).fillMask)&&void 0!==u&&u,hint:(0,o.R1)(d).hint,maxlength:(0,o.R1)(d).maxlength,rules:[...(0,o.R1)(d).minlength?[t=>(0,o.R1)(s.jk)(t,(0,o.R1)(d).minlength)||e.$t("supplier_register_form.error.minlength_error")+` ${(0,o.R1)(d).minlength}`]:[],...e.rules]}),(0,a.eX)({_:2},[(0,o.R1)(d).beforeIcon?{name:"prepend",fn:(0,a.k6)((()=>[(0,a.bF)(c,{name:(0,o.R1)(d).beforeIcon},null,8,["name"])])),key:"0"}:void 0,(0,o.R1)(d).afterIcon?{name:"append",fn:(0,a.k6)((()=>[(0,a.bF)(c,{name:(0,o.R1)(d).afterIcon},null,8,["name"])])),key:"1"}:void 0,l.isOuter?void 0:{name:"label",fn:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)((0,o.R1)(d).title?e.$t((0,o.R1)(d).title):"")+" ",1),(0,a.Lk)("span",n,""+(0,i.v_)(e.asterisk),1)])),key:"2"}]),1040,["type","class","placeholder","model-value","outlined","border-less","standout","filled","mask","fill-mask","hint","maxlength","rules"])}}});var d=l(12807),u=l(67837),c=l(50492),p=l(67156),h=l(98582),m=l.n(h);const _=(0,d.A)(r,[["__scopeId","data-v-3af3fd6d"]]),b=_;m()(r,"components",{QInput:u.A,QIcon:c.A,QField:p.A})},78279:(e,t,l)=>{"use strict";l.d(t,{A:()=>m});var a=l(61758),o=l(38734),i=l(58790),s=l(23537);const n={class:"text-red"},r="q-col-gutter-xl",d=(0,a.pM)({__name:"OptionField",props:{meta_field:{},name:{},type:{},label:{},rules:{},class:{},disable:{},readonly:{type:Boolean},modelValue:{},stackLabel:{type:Boolean},dense:{type:Boolean},hideBottomSpace:{type:Boolean},reactiveRule:{type:Boolean},asterisk:{},labelSlot:{type:Boolean},isOuter:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const{t:l}=(0,s.s9)(),d=e,u=t,{meta_field:c}=d,p=(0,a.EW)((()=>{var e;return null===(e=c.options)||void 0===e?void 0:e.map((e=>({label:l(`supplier_register_form.field.${e.label}`),value:e.value})))}));return(e,t)=>{const l=(0,a.g2)("q-option-group");return(0,a.uX)(),(0,a.Wv)(l,(0,a.v6)(d,{class:`${d.class} ${r}`,options:p.value,"model-value":e.modelValue,"onUpdate:modelValue":t[0]||(t[0]=e=>{u("update:modelValue",e)}),inline:"inline"===(0,o.R1)(c).label_style,label:d.label}),(0,a.eX)({_:2},[d.isOuter?void 0:{name:"label",fn:(0,a.k6)((()=>[(0,a.eW)((0,i.v_)((0,o.R1)(c).label?e.$t(`supplier_register_form.field.${(0,o.R1)(c).label}`):"")+" ",1),(0,a.Lk)("span",n,""+(0,i.v_)(e.asterisk),1)])),key:"0"}]),1040,["class","options","model-value","inline","label"])}}});var u=l(61003),c=l(98582),p=l.n(c);const h=d,m=h;p()(d,"components",{QOptionGroup:u.A})},28936:(e,t,l)=>{"use strict";l.d(t,{A:()=>v});var a=l(61758),o=l(38734),i=l(29104),s=l(58790),n=l(94940);const r={class:"text-red"},d=(0,a.pM)({__name:"SelectField",props:(0,a.zz)({meta_field:{},name:{},label:{},rules:{},class:{},disable:{},readonly:{type:Boolean},stackLabel:{type:Boolean},dense:{type:Boolean},hideBottomSpace:{type:Boolean},reactiveRule:{type:Boolean},labelSlot:{type:Boolean},asterisk:{},isOuter:{type:Boolean},hint:{},translationKey:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,l=(0,a.fn)(e,"modelValue"),{meta_field:d}=t,u=(0,o.KR)(d.options),c="outlined-filled"===d.design?"bg-grey-5":"",p="inline"===d.label_style?"flex q-col-gutter-xl":"",h=`${c} ${p}`,m=(0,a.EW)((()=>["search","SEARCH"].includes(d.type))),_=(e,t,l)=>{t((()=>{var t;const l=e.toLowerCase();u.value=null===(t=d.options)||void 0===t?void 0:t.filter((e=>e.label.toLowerCase().indexOf(l)>-1))}))};return(e,c)=>{const p=(0,a.g2)("q-icon"),b=(0,a.g2)("q-tooltip"),v=(0,a.g2)("q-item-section"),g=(0,a.g2)("q-item");return(0,a.uX)(),(0,a.Wv)((0,o.R1)(n.A),(0,a.v6)(t,{class:`${t.class} ${h}`,options:u.value,modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=e=>l.value=e),inline:"inline"===(0,o.R1)(d).label_style,outlined:"outlined"===(0,o.R1)(d).design||"outlined-filled"===(0,o.R1)(d).design,"border-less":"borderless"===(0,o.R1)(d).design,standout:"standout"===(0,o.R1)(d).design,filled:"filled"===(0,o.R1)(d).design,behavior:(0,o.R1)(d).behavior||"default",hint:(0,o.R1)(d).hint,"hide-dropdown-icon":m.value,"use-input":m.value,onFilter:_,autocomplete:"","map-options":"","emit-value":"","hide-hint":"",onKeyup:c[1]||(c[1]=(0,i.jR)((e=>l.value=null),["delete"]))}),(0,a.eX)({append:(0,a.k6)((()=>{var l;return[(0,o.R1)(d).hint?((0,a.uX)(),(0,a.Wv)(p,{key:0,name:"info"},{default:(0,a.k6)((()=>[(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(e.$t(`${t.translationKey}.hint.${(0,o.R1)(d).hint}`)),1)])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,o.R1)(d).afterIcon||m.value?((0,a.uX)(),(0,a.Wv)(p,{key:1,name:(null!==(l=(0,o.R1)(d).afterIcon)&&void 0!==l?l:m.value)?"search":void 0},null,8,["name"])):(0,a.Q3)("",!0)]})),"no-option":(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(v,{class:"text-grey"},{default:(0,a.k6)((()=>[(0,a.eW)(" No results ")])),_:1})])),_:1})])),_:2},[(0,o.R1)(d).beforeIcon?{name:"prepend",fn:(0,a.k6)((()=>[(0,a.bF)(p,{name:(0,o.R1)(d).beforeIcon},null,8,["name"])])),key:"0"}:void 0,t.isOuter?void 0:{name:"label",fn:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)((0,o.R1)(d).title?e.$t((0,o.R1)(d).title):"")+" ",1),(0,a.Lk)("span",r,""+(0,s.v_)(t.asterisk),1)])),key:"1"}]),1040,["class","options","modelValue","inline","outlined","border-less","standout","filled","behavior","hint","hide-dropdown-icon","use-input"])}}});var u=l(50492),c=l(97410),p=l(90124),h=l(25173),m=l(98582),_=l.n(m);const b=d,v=b;_()(d,"components",{QSelect:n.A,QIcon:u.A,QTooltip:c.A,QItem:p.A,QItemSection:h.A})},58229:(e,t,l)=>{"use strict";l.d(t,{A:()=>f});var a=l(61758),o=l(58790);const i={class:"full-width",style:{"text-align":"center"}};function s(e,t,l,s,n,r){const d=(0,a.g2)("q-avatar"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("f-btn"),p=(0,a.g2)("q-card-actions"),h=(0,a.g2)("q-card"),m=(0,a.g2)("q-dialog"),_=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(m,{modelValue:e.modelValue,"onUpdate:modelValue":t[1]||(t[1]=t=>e.modelValue=t),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{style:{"min-width":"300px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"row",style:{"justify-content":"center",display:"flex"}},{default:(0,a.k6)((()=>[(0,a.bF)(d,{icon:"warning",color:"primary","text-color":"white"})])),_:1}),(0,a.bF)(u,{class:"row items-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",i,(0,o.v_)(e.message),1)])),_:1}),(0,a.bF)(p,{align:"right"},{default:(0,a.k6)((()=>[e.btnCancel?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(c,{key:0,appearance:"cancel",label:e.cancelLabel},null,8,["label"])),[[_]]):(0,a.Q3)("",!0),(0,a.bo)((0,a.bF)(c,{appearance:"positive",label:e.confirmLabel,onClick:t[0]||(t[0]=t=>e.$emit("confirm"))},null,8,["label"]),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}var n=l(23537);const r=(0,a.pM)({props:{confirmLabel:{type:String,default:"Confirm"},cancelLabel:{type:String,default:()=>(0,n.s9)().t("Cancel")},message:{type:String,default:"Are you sure?"},btnCancel:{type:Boolean,default:!0}},emits:["confirm"],setup(){return{modelValue:(0,a.NP)("modelValue")}}});var d=l(12807),u=l(82156),c=l(23316),p=l(44189),h=l(3952),m=l(62669),_=l(88672),b=l(98582),v=l.n(b);const g=(0,d.A)(r,[["render",s]]),f=g;v()(r,"components",{QDialog:u.A,QCard:c.A,QCardSection:p.A,QAvatar:h.A,QCardActions:m.A}),v()(r,"directives",{ClosePopup:_.A})},68229:(e,t,l)=>{e.exports=l.p+"img/autotesting.d397931b.png"},8793:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDAgMTAwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzAwN0VFNTt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yOS41LDMuNEwwLDIyLjVMMjAuNSwzOUw1MCwyMC42QzUwLDIwLjYsMjkuNSwzLjQsMjkuNSwzLjR6IE0wLDU1LjFsMjkuNSwxOS4zTDUwLDU3LjJMMjAuNSwzOQoJQzIwLjUsMzksMCw1NS4xLDAsNTUuMXogTTUwLDU3LjJsMjAuOCwxNy4yTDEwMCw1NS4zTDc5LjcsMzlDNzkuNywzOSw1MCw1Ny4yLDUwLDU3LjJ6IE0xMDAsMjIuNUw3MC44LDMuNEw1MCwyMC42TDc5LjcsMzkKCUwxMDAsMjIuNXogTTUwLjIsNjFMMjkuNSw3OC4ybC04LjctNS45djYuNmwyOS41LDE3LjdsMjkuNS0xNy43di02LjZsLTksNS45QzcwLjgsNzguMiw1MC4yLDYxLDUwLjIsNjF6Ii8+Cjwvc3ZnPgo="},31296:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDAgMTAwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzAwNjZEQTt9Cgkuc3Qxe2ZpbGw6IzAwQUM0Nzt9Cgkuc3Qye2ZpbGw6I0VBNDMzNTt9Cgkuc3Qze2ZpbGw6IzAwODMyRDt9Cgkuc3Q0e2ZpbGw6IzI2ODRGQzt9Cgkuc3Q1e2ZpbGw6I0ZGQkEwMDt9Cjwvc3R5bGU+CjxnPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTcuNiw4MS45bDQuNCw3LjZjMC45LDEuNiwyLjIsMi45LDMuOCwzLjhMMzEuNSw2NkgwYzAsMS44LDAuNSwzLjYsMS40LDUuMkw3LjYsODEuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik01MCwzNEwzNC4yLDYuN2MtMS41LDAuOS0yLjksMi4yLTMuOCwzLjhMMS40LDYwLjlDMC41LDYyLjUsMCw2NC4yLDAsNjZoMzEuNUw1MCwzNHoiLz4KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik04NC4yLDkzLjNjMS41LTAuOSwyLjktMi4yLDMuOC0zLjhsMS44LTMuMmw4LjgtMTUuMmMwLjktMS42LDEuNC0zLjQsMS40LTUuMkg2OC41bDYuNywxMy4yTDg0LjIsOTMuM3oiLz4KCTxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik01MCwzNEw2NS44LDYuN2MtMS41LTAuOS0zLjMtMS40LTUuMi0xLjRIMzkuNGMtMS44LDAtMy42LDAuNS01LjIsMS40TDUwLDM0eiIvPgoJPHBhdGggY2xhc3M9InN0NCIgZD0iTTY4LjUsNjZoLTM3TDE1LjgsOTMuM2MxLjUsMC45LDMuMywxLjQsNS4yLDEuNGg1OC4yYzEuOCwwLDMuNi0wLjUsNS4yLTEuNEw2OC41LDY2eiIvPgoJPHBhdGggY2xhc3M9InN0NSIgZD0iTTg0LjEsMzUuN0w2OS41LDEwLjVjLTAuOS0xLjYtMi4yLTIuOS0zLjgtMy44TDUwLDM0TDY4LjUsNjZoMzEuNGMwLTEuOC0wLjUtMy42LTEuNC01LjJMODQuMSwzNS43eiIvPgo8L2c+Cjwvc3ZnPgo="},1267:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDAgMTAwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzAzNjRCODt9Cgkuc3Qxe2ZpbGw6IzAwNzhENDt9Cgkuc3Qye2ZpbGw6IzE0OTBERjt9Cgkuc3Qze2ZpbGw6IzI4QThFQTt9Cjwvc3R5bGU+CjxnIGlkPSJTVFlMRV9DT0xPUiI+Cgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMzguMSwzNS44TDM4LjEsMzUuOGwyMSwxMi42bDEyLjUtNS4zbDAsMGMyLjUtMS4xLDUuMy0xLjcsOC4xLTEuN2MwLjUsMCwwLjksMCwxLjQsMC4xCgkJQzc2LjgsMjQuNyw1OS43LDE0LjcsNDMsMTlDMzUuNSwyMC45LDI5LDI1LjYsMjQuNywzMmMwLjEsMCwwLjIsMCwwLjMsMEMyOS42LDMyLDM0LjIsMzMuMywzOC4xLDM1Ljh6Ii8+Cgk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMzguMSwzNS44TDM4LjEsMzUuOEMzNC4yLDMzLjMsMjkuNiwzMiwyNSwzMmMtMC4xLDAtMC4yLDAtMC4zLDBDMTAuOSwzMi4yLTAuMiw0My41LDAsNTcuMwoJCWMwLjEsNSwxLjYsOS45LDQuNSwxNEwyMyw2My41bDguMi0zLjVsMTguMy03LjdsOS42LTRMMzguMSwzNS44eiIvPgoJPHBhdGggY2xhc3M9InN0MiIgZD0iTTgxLjEsNDEuNWMtMC41LDAtMC45LTAuMS0xLjQtMC4xYy0yLjgsMC01LjUsMC42LTguMSwxLjdsMCwwbC0xMi41LDUuM2wzLjYsMi4ybDExLjksNy4xbDUuMiwzLjFsMTcuNywxMC42CgkJYzUuMy05LjksMS42LTIyLjItOC4yLTI3LjVDODYuOCw0Mi41LDgzLjksNDEuNyw4MS4xLDQxLjV6Ii8+Cgk8cGF0aCBjbGFzcz0ic3QzIiBkPSJNNzkuOCw2MC43bC01LjItMy4xbC0xMS45LTcuMWwtMy42LTIuMmwtOS42LDRsLTE4LjMsNy43TDIzLDYzLjVMNC41LDcxLjNDOS4yLDc4LDE2LjgsODIsMjUsODJoNTQuNwoJCWM3LjUsMCwxNC4zLTQuMSwxNy45LTEwLjdMNzkuOCw2MC43eiIvPgo8L2c+Cjwvc3ZnPgo="}}]);