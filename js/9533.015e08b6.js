"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[9533],{29533:(t,s,e)=>{e.r(s),e.d(s,{default:()=>O});var i=e(61758),a=e(58790);const o=t=>((0,i.Qi)("data-v-59bda052"),t=t(),(0,i.jt)(),t),r={class:"row highlighted-back q-pl-md q-pr-md"},c={class:"secondary-c-text text-h6"},l=o((()=>(0,i.Lk)("img",{width:"24",src:"images/back-primary.svg"},null,-1))),n={style:{"vertical-align":"middle","margin-left":"10px","font-size":"20px",cursor:"pointer"}},d={class:"row full-width",style:{"padding-left":"35px"}},h={class:"col-9"},u={class:"full-width back-white"},m=["src"],g={class:"col-3"},p={class:"images-list",style:{"margin-left":"33px","margin-right":"33px"}},f={class:"full-width back-white q-ma-sm scroll-area-height"},b=o((()=>(0,i.Lk)("div",{class:"row justify-center q-pl-md q-pr-md q-pt-md"},[(0,i.Lk)("span",{class:"text-red-13 text-h6 text-weight-bold"}," Details ")],-1))),k={class:"q-pl-md q-pr-md q-mt-md full-width left-scroll-area-height scrolle-y"},v=o((()=>(0,i.Lk)("span",{class:"text-weight-bold"},"Classification Class:",-1))),y=o((()=>(0,i.Lk)("span",{class:"text-weight-bold"},"Classification Label:",-1))),_={class:"q-mt-md"},w={class:"text-weight-bold"},L={class:"q-mt-md"},I={class:"q-mt-md"},x=o((()=>(0,i.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function q(t,s,e,o,q,C){const D=(0,i.g2)("q-icon"),A=(0,i.g2)("q-btn"),F=(0,i.g2)("labelsDropdown"),E=(0,i.g2)("q-inner-loading");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",r,[(0,i.Lk)("div",c,[(0,i.bF)(A,{flat:"",rounded:"","data-cy":"dashboard",color:"primary",to:"/dashboard"},{default:(0,i.k6)((()=>[(0,i.bF)(D,{class:"text-red-13",size:"sm"},{default:(0,i.k6)((()=>[l])),_:1}),(0,i.Lk)("label",n,(0,a.v_)(t.$t("pages.screen2a.dashboard")),1)])),_:1})])]),(0,i.Lk)("div",d,[(0,i.Lk)("div",h,[(0,i.Lk)("div",u,[(0,i.Lk)("iframe",{src:t.path,title:"Main menu",width:"100%",height:"900px"},null,8,m)])]),(0,i.Lk)("div",g,[(0,i.Lk)("div",p,[(0,i.Lk)("div",f,[b,(0,i.Lk)("div",k,[(0,i.Lk)("div",null,[v,(0,i.eW)(" "+(0,a.v_)(this.classification.classification_label_class||""),1)]),(0,i.Lk)("div",null,[y,(0,i.eW)(" "+(0,a.v_)(this.classification.classification_label),1)]),(0,i.Lk)("div",_,[(0,i.Lk)("span",w,(0,a.v_)(t.$t("Re-Classifiy Document"))+":",1)]),(0,i.Lk)("div",L,[(0,i.bF)(F)]),(0,i.Lk)("div",I,[(0,i.bF)(A,{label:t.$t("proceed"),color:"primary",onClick:t.restartDoc},null,8,["label","onClick"])])])])])])]),(0,i.bF)(E,{showing:t.processing},{default:(0,i.k6)((()=>[x])),_:1},8,["showing"])],64)}var C=e(1659),D=e(6044),A=e(24622),F=e(38734),E=e(46162),P=e(64775),Q=e(11470),$=e(96179),T=e(1595),B=function(t,s,e,i){function a(t){return t instanceof e?t:new e((function(s){s(t)}))}return new(e||(e=Promise))((function(e,o){function r(t){try{l(i.next(t))}catch(s){o(s)}}function c(t){try{l(i["throw"](t))}catch(s){o(s)}}function l(t){t.done?e(t.value):a(t.value).then(r,c)}l((i=i.apply(t,s||[])).next())}))};const R=(0,i.pM)({el:"#app",mixins:[A.A,D.A],components:{labelsDropdown:$.A},mounted(){this.init()},unmounted:function(){},data(){return{docId:"",filename:""}},methods:{init(){return B(this,void 0,void 0,(function*(){try{if(this.processing=!0,this.docId=this.$route.params.id,this.filename=this.$route.params.filename,this.path=E.VA+"/resource/document/"+this.docId+"/"+this.docId+".pdf?download=false&"+this.tokenQueryParam,this.path||logInfo("pdf not found"),yield this.getInvoiceDataByDocId(this.docId),!this.record||0===Object.keys(this.record).length||!1===this.record.success)return;this.classification=this.record.classification}catch(t){logError(t)}finally{this.processing=!1}}))},getInvoiceDataByDocId(t){return B(this,void 0,void 0,(function*(){try{this.record=[],yield this.getDocumentById(t)}catch(s){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(s)}}))},restartDoc(){return B(this,void 0,void 0,(function*(){try{this.processing=!0;let t={};this.selected_custom_model_label&&(t.doc_classification_label=this.selected_custom_model_label),yield Q.M8.restartClassification(t,this.docId),this.resetStore(),this.showSuccessToast(this.$t("pages.messages.NEW_CLASSIFICATION")),this.$router.push("/dashboard")}catch(t){const s=P.t.getErrorMessage(t);this.showErrorToast(s),logError(t)}finally{this.processing=!1}}))}},setup(){const t=(0,T.q3)(),{record:s,doctype:e,error:i}=(0,C.bP)(t),{getDocumentById:a,setRecordFromCache:o}=t,r=(0,T.v)(),{resetStore:c}=r,{selected_custom_model_label:l}=(0,C.bP)(r),n=(0,T._6)(),{tokenQueryParam:d}=(0,C.bP)(n);return n.getTokenQueryParam(),{resetStore:c,selected_custom_model_label:l,getDocumentById:a,setRecordFromCache:o,path:(0,F.KR)(""),processing:(0,F.KR)(!1),record:s,doctype:e,error:i,classification:(0,F.KR)({}),tokenQueryParam:d}}});var S=e(12807),K=e(56384),M=e(50492),j=e(39035),W=e(98582),z=e.n(W);const N=(0,S.A)(R,[["render",q],["__scopeId","data-v-59bda052"]]),O=N;z()(R,"components",{QBtn:K.A,QIcon:M.A,QInnerLoading:j.A})}}]);