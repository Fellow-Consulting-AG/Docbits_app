"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[220],{80220:(e,t,s)=>{s.r(t),s.d(t,{default:()=>vt});var o=s(61758),i=s(58790);const r=e=>((0,o.Qi)("data-v-ef823202"),e=e(),(0,o.jt)(),e),a={class:"full-width sub-header mobile-only"},l={class:"row",style:{padding:"10px 12px"}},n={class:"left-side q-mr-auto q-pl-lg"},d={class:"q-mr-auto"},c={class:"cursor-pointer text-caption"},h={key:0,class:"row highlighted-back q-pl-md q-pr-md q-pb-md"},u={key:1,class:"row"},p={key:0,class:"col-xs-12 col-sm-12 col-md-3 col-lg-3 q-pl-lg small-hide",id:"left_section",ref:"left_section"},m={class:"row"},g={class:"full-width approval-content-area",style:{position:"relative"}},_={key:0,class:"back-white secondary-c-text gray-border",style:{"border-radius":"5px","margin-right":"8px"}},v={class:"row"},f={class:"q-mr-auto q-ml-auto"},y={class:"text-h6 text-weight-bold"},w={class:"q-pr-sm full-width small-hide"},b={class:"row"},k={style:{position:"relative"}},L={class:"row"},F={class:"back-white q-pa-sm",style:{"border-radius":"5px"}},C={class:"full-width white-inputs"},A={class:"full-width full-height"},E={key:0,class:"full-width"},I=["data-group-id"],S={class:"row q-pr-sm"},P={class:"col-12 secondary-c-text text-h6 text-weight-bold"},R=["data-fields-group-name"],D={style:{"margin-left":"3px",top:"40%"}},T={class:"row"},q={class:"approval-width q-pl-sm approval-anotation-area scrolle-y"},x={class:"invisible absolute position-absolute"},M={class:"row"},B={class:"q-mr-auto"},O={class:"page-numbers"},$={class:"panel-middle mobile-hide"},V={class:"panel-right mobile-hide"},z={class:"doc-name"},U={class:"full-width full-height",id:"image_container",style:{position:"relative"}},K={class:"column full-width justify-between back-white right-action-bar approval-anotation-area"},H={class:"action-bar-items"},Q={class:"action-bar-bottom"},j={class:"q-my-auto"},N={class:"validation-view-button q-pt-md"},X={key:0,class:"col-xs-12 col-sm-12 col-md-3 col-lg-3"},W=r((()=>(0,o.Lk)("div",null,"Comment",-1))),G={class:"q-pt-none"},J={class:"footer-filename"},Y={class:"footer-status-message"},Z={class:"footer-status-message"},ee={key:1,class:"row"},te={class:"row q-ml-sm back-white custom-border",style:{width:"138px"}},se=["src"],oe=["src"];function ie(e,t,s,r,ie,re){const ae=(0,o.g2)("DocumentLock"),le=(0,o.g2)("SubHeader"),ne=(0,o.g2)("q-icon"),de=(0,o.g2)("ErrorDocumentView"),ce=(0,o.g2)("DocumentLogs"),he=(0,o.g2)("q-btn"),ue=(0,o.g2)("q-tooltip"),pe=(0,o.g2)("AnnotationView"),me=(0,o.g2)("TaskBtn"),ge=(0,o.g2)("q-separator"),_e=(0,o.g2)("q-input"),ve=(0,o.g2)("q-splitter"),fe=(0,o.g2)("TaskList"),ye=(0,o.g2)("q-page-sticky"),we=(0,o.g2)("q-space"),be=(0,o.g2)("q-bar"),ke=(0,o.g2)("q-card-section"),Le=(0,o.g2)("q-card"),Fe=(0,o.g2)("q-dialog"),Ce=(0,o.g2)("Loader"),Ae=(0,o.g2)("q-item-section"),Ee=(0,o.g2)("q-item"),Ie=(0,o.g2)("q-list"),Se=(0,o.g2)("q-menu"),Pe=(0,o.g2)("q-toolbar"),Re=(0,o.g2)("q-footer"),De=(0,o.gN)("close-popup");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(ae,{document_version:e.document_version,trigger_document_lock:e.trigger_document_lock,doc_id:e.docId,onSetTriggerDocumentLock:e.setTriggerDocumentLock},null,8,["document_version","trigger_document_lock","doc_id","onSetTriggerDocumentLock"]),(0,o.bF)(le,{name:"approval",label:e.$t("approval"),show_expiry_alert:!0,onSearch:!1},null,8,["label"]),(0,o.Lk)("div",a,[(0,o.Lk)("div",l,[(0,o.Lk)("span",n,[(0,o.Lk)("div",d,[(0,o.Lk)("span",{class:"cursor-pointer text-uppercase",onClick:t[0]||(t[0]=(...t)=>e.routeToListPendingApproval&&e.routeToListPendingApproval(...t))},[(0,o.bF)(ne,{class:"cursor-pointer",onClick:e.nextImage,name:"chevron_left",size:"sm"},null,8,["onClick"]),(0,o.eW)(" "+(0,i.v_)(e.$t("pending_approval_list")),1)]),(0,o.Lk)("span",c," - "+(0,i.v_)(e.pending_approval_doc_count)+" "+(0,i.v_)(e.$t("invoices_for_release")),1)])])])]),e.error?((0,o.uX)(),(0,o.CE)("div",h,[(0,o.bF)(de)])):((0,o.uX)(),(0,o.CE)("div",u,[e.showActivityPanel?((0,o.uX)(),(0,o.CE)("div",p,[(0,o.Lk)("div",m,[(0,o.Lk)("div",g,[e.isModelReady()?((0,o.uX)(),(0,o.CE)("div",_,[(0,o.Lk)("div",v,[(0,o.Lk)("div",f,[(0,o.Lk)("span",y,(0,i.v_)(e.$t("activity_stream")),1)])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",w,[(0,o.bF)(ce,{docId:e.docId,list_data:e.doc_logs},null,8,["docId","list_data"])])])])],512)):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:(0,i.C4)([e.showActivityPanel?"col-xs-12 col-sm-12 col-md-9 col-lg-9":"full-width","q-pl-lg"])},[(0,o.Lk)("div",b,[(0,o.Lk)("div",k,[(0,o.bF)(he,{size:"sm",dense:"",round:"",unelevated:"",color:"primary",icon:e.showActivityPanel?"chevron_left":"chevron_right",class:"text-white chevron-left-icon",onClick:t[1]||(t[1]=t=>{e.showActivityPanel=!e.showActivityPanel,e.windowResize()})},null,8,["icon"])])]),(0,o.Lk)("div",L,[(0,o.Lk)("div",{class:(0,i.C4)(e.showTaskPanel?"col-xs-12 col-sm-12 col-md-9 col-lg-9":"full-width")},[(0,o.bF)(ve,{modelValue:e.splitterModel,"onUpdate:modelValue":[t[6]||(t[6]=t=>e.splitterModel=t),t[7]||(t[7]=t=>e.windowResize())],class:"approval-content-area border-left-grey q-pl-sm"},{before:(0,o.k6)((()=>[(0,o.Lk)("div",F,[(0,o.Lk)("div",C,[(0,o.Lk)("div",A,[e.isModelReady()?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[e.renderComponent?((0,o.uX)(),(0,o.CE)("div",E,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.formLayout,((t,s)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:`div-${s}`},[t.rows.length>0?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"full-width q-mb-lg not-sticky-area","data-group-id":s},[(0,o.Lk)("div",S,[(0,o.Lk)("div",P,(0,i.v_)(e.getLabelForFormBuilder(t,"form_builder.")),1)]),(0,o.Lk)("div",{class:"full-width","data-fields-group-name":t.name},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.rows,((t,r)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:`div-${r}`},[t.is_hidden||void 0!=t.visibile&&!t.visibile?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"display-block field-padding",style:(0,i.Tr)("width:"+t.elementWidth+"%")},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(t.fieldType),{currentField:t,isReadOnly:e.getReadOnlyStatus(t),fieldName:t.name,groupIndex:s,elementIndex:r,onInputClicked:e.htmlElementClick,onInputValueChanges:e.onInputValueChanges,onUpdateModel:e.updateModel},null,40,["currentField","isReadOnly","fieldName","groupIndex","elementIndex","onInputClicked","onInputValueChanges","onUpdateModel"]))],4))],64)))),128))],8,R)],8,I)):(0,o.Q3)("",!0)],64)))),128))])):(0,o.Q3)("",!0)],64)):(0,o.Q3)("",!0)])])])])),separator:(0,o.k6)((()=>[(0,o.Lk)("div",D,[(0,o.bF)(ne,{name:"drag_handle",size:"md",class:"icon-grey rotate-90"})])])),after:(0,o.k6)((()=>[(0,o.Lk)("div",T,[(0,o.Lk)("div",q,[(0,o.Lk)("div",x,[(0,o.Lk)("div",M,[(0,o.Lk)("div",B,[(0,o.bF)(ne,{class:"up-arrow cursor-pointer",onClick:e.prevImage,name:"expand_less",size:"sm"},{default:(0,o.k6)((()=>[(0,o.bF)(ue,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.$t("previous")),1)])),_:1})])),_:1},8,["onClick"]),(0,o.bF)(ne,{class:"down-arrow cursor-pointer",onClick:e.nextImage,name:"expand_more",size:"sm"},{default:(0,o.k6)((()=>[(0,o.bF)(ue,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.$t("next")),1)])),_:1})])),_:1},8,["onClick"]),(0,o.Lk)("span",O,(0,i.v_)(e.currentPage())+"/"+(0,i.v_)(e.images.length)+" "+(0,i.v_)(e.$t("page_number_text")),1)]),(0,o.Lk)("div",$,[(0,o.Lk)("span",null,[e.record.status==e.in_review?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.eW)((0,i.v_)(e.$t("in_review")),1)],64)):e.second_approval?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.eW)((0,i.v_)(e.$t("second_approval")),1)],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[(0,o.eW)((0,i.v_)(e.$t("first_approval")),1)],64))])]),(0,o.Lk)("div",V,[(0,o.Lk)("span",{class:"cursor-pointer q-mr-md text-uppercase",onClick:t[2]||(t[2]=(...t)=>e.downloadFile&&e.downloadFile(...t))},(0,i.v_)(e.$t("download")),1),(0,o.Lk)("span",z,(0,i.v_)(e.record.filename),1)])])]),((0,o.uX)(),(0,o.CE)("div",{class:"full-width",key:e.refreshAnnotationView},[(0,o.Lk)("div",U,[(0,o.bF)(pe,{ref:"child_comp",enableEditing:e.enable_editing,cropUrl:e.image+"?"+e.tokenQueryParam,width:e.imageWidth,screenmode:e.screenmode,selectFont:e.selectFont,selectFontSize:e.selectFontSize,selectColor:e.selectColor},null,8,["enableEditing","cropUrl","width","screenmode","selectFont","selectFontSize","selectColor"])])]))]),(0,o.Lk)("div",K,[(0,o.Lk)("div",H,[(0,o.bF)(me,{onBtnClicked:t[3]||(t[3]=t=>{e.showTaskPanel=!e.showTaskPanel,e.windowResize()})}),(0,o.bF)(ge,{class:"separator-space"})]),(0,o.Lk)("div",Q,[(0,o.bF)(ge,{class:"q-mb-sm"}),(0,o.Lk)("div",j,[(0,o.bF)(he,{icon:"img:images/pages.svg",flat:"",class:"validation-view-button"},{default:(0,o.k6)((()=>[(0,o.bF)(ue,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.currentPage())+" / "+(0,i.v_)(e.images.length),1)])),_:1})])),_:1})]),(0,o.bF)(_e,{outlined:"",dense:"",modelValue:e.page,"onUpdate:modelValue":[t[4]||(t[4]=t=>e.page=t),t[5]||(t[5]=t=>{e.pageChanged(t)})],class:"validation-view-input",onBlur:e.validatePageNumber},null,8,["modelValue","onBlur"]),(0,o.Lk)("span",N,(0,i.v_)(e.images.length),1),(0,o.Lk)("div",null,[(0,o.bF)(he,{disable:1==e.page,icon:"keyboard_arrow_up",flat:"",class:"validation-view-page-button icon-grey",onClick:e.prevImage},null,8,["disable","onClick"]),(0,o.bF)(he,{disable:e.page==e.images.length,icon:"keyboard_arrow_down",flat:"",class:"validation-view-page-button icon-grey",onClick:e.nextImage},null,8,["disable","onClick"])])])])])])),_:1},8,["modelValue"])],2),e.showTaskPanel?((0,o.uX)(),(0,o.CE)("div",X,[(0,o.bF)(fe,{onBtnClicked:t[8]||(t[8]=t=>{e.showTaskPanel=!e.showTaskPanel,e.windowResize()})})])):(0,o.Q3)("",!0)])],2),(0,o.bF)(ye,{position:"bottom-right",offset:[8,8],class:"hidden small-only"},{default:(0,o.k6)((()=>[(0,o.bF)(he,{fab:"",icon:"chat",color:"primary",padding:"sm",onClick:t[9]||(t[9]=t=>e.chatWindow=!0)})])),_:1})])),(0,o.bF)(Fe,{modelValue:e.chatWindow,"onUpdate:modelValue":t[10]||(t[10]=t=>e.chatWindow=t),position:"bottom"},{default:(0,o.k6)((()=>[(0,o.bF)(Le,{class:"full-width"},{default:(0,o.k6)((()=>[(0,o.bF)(be,{class:"bg-primary text-white"},{default:(0,o.k6)((()=>[W,(0,o.bF)(we),(0,o.bo)((0,o.bF)(he,{dense:"",flat:"",icon:"close"},null,512),[[De]])])),_:1}),(0,o.bF)(ke,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",G,[(0,o.bF)(ce,{docId:e.docId,list_data:e.doc_logs},null,8,["docId","list_data"])])])),_:1}),(0,o.bF)(ke,{class:"q-pt-none"})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(Ce),(0,o.bF)(Re,{class:"validation-status-bar back-white"},{default:(0,o.k6)((()=>[(0,o.bF)(Pe,{class:"row justify-start opened-right-padding"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",J,(0,i.v_)(e.record.filename),1),(0,o.bF)(he,{size:"md",flat:"",dense:"",class:"q-ml-xs",onClick:e.downloadFile},{default:(0,o.k6)((()=>[(0,o.bF)(ne,{name:"download",style:{color:"#8a8a8a"}})])),_:1},8,["onClick"]),(0,o.bF)(ge,{vertical:"",class:"q-mx-md"}),(0,o.Lk)("span",Y,[e.second_approval?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.eW)((0,i.v_)(e.$t("second_approval")),1)],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.eW)((0,i.v_)(e.$t("first_approval")),1)],64))]),(0,o.bF)(ge,{vertical:"",class:"q-mx-md"}),(0,o.Lk)("span",null,(0,i.v_)(e.pending_approval_doc_count)+" "+(0,i.v_)(e.$t("invoices_for_release")),1),(0,o.bF)(ge,{vertical:"",class:"q-mx-md"}),(0,o.bF)(we),e.record.table_blocked?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(ge,{vertical:"",class:"q-mx-md"}),(0,o.bF)(ne,{class:"text-blue",style:{"font-size":"22px"},name:"info"}),(0,o.Lk)("span",Z,(0,i.v_)(e.$t("block_supplier_warning")),1)],64)):(0,o.Q3)("",!0),(0,o.bF)(he,{dense:"",class:"q-mr-sm custom-border back-white",flat:"",size:"12px",onClick:t[11]||(t[11]=t=>{e.showStampMenu=!0,e.showFontMenu=!1,e.screenmode="stamp"})},{default:(0,o.k6)((()=>[(0,o.bF)(ne,{name:"img:annotation/stamp_icon.svg",class:"icon-grey-svg"}),(0,o.bF)(ue,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.$t("annotation.stamp_annotation")),1)])),_:1})])),_:1}),(0,o.bF)(he,{size:"12px",dense:"",flat:"",class:"q-mr-sm custom-border back-white",onClick:t[12]||(t[12]=t=>{e.showFontMenu=!0,e.showStampMenu=!1,e.screenmode="annotate"})},{default:(0,o.k6)((()=>[(0,o.bF)(ne,{name:"text_format",class:"icon-grey"}),(0,o.bF)(ue,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.$t("annotation.text_annotation")),1)])),_:1})])),_:1}),(0,o.Lk)("div",null,[(0,o.bF)(he,{size:"12px",flat:"",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[13]||(t[13]=t=>{e.selectColor="#000000",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,o.k6)((()=>[(0,o.bF)(ne,{color:"black",name:"title"})])),_:1}),(0,o.bF)(he,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[14]||(t[14]=t=>{e.selectColor="#f44336",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,o.k6)((()=>[(0,o.bF)(ne,{color:"red",name:"title"})])),_:1}),(0,o.bF)(he,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[15]||(t[15]=t=>{e.selectColor="#4caf50",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,o.k6)((()=>[(0,o.bF)(ne,{color:"green",name:"title"})])),_:1}),(0,o.bF)(he,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[16]||(t[16]=t=>{e.selectColor="#2196f3",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,o.k6)((()=>[(0,o.bF)(ne,{color:"blue",name:"title"})])),_:1}),(0,o.bF)(he,{flat:"",size:"12px",class:"back-white custom-border q-mr-sm",dense:"",onClick:t[17]||(t[17]=t=>{e.selectColor="#ffeb3b",this.$refs.child_comp.createAnnotationFromColorShortcut(e.selectColor)})},{default:(0,o.k6)((()=>[(0,o.bF)(ne,{color:"yellow",name:"title"})])),_:1})]),e.showStampMenu?((0,o.uX)(),(0,o.CE)("div",ee,[(0,o.Lk)("div",te,[(0,o.Lk)("img",{class:"q-px-sm",src:e.stamp_dir+e.selectedStamp+e.stamp_ext,style:{width:"100px"}},null,8,se),(0,o.bF)(he,{dense:"",flat:""},{default:(0,o.k6)((()=>[(0,o.bF)(ne,{name:"expand_more",class:"icon-grey"}),(0,o.bF)(Se,null,{default:(0,o.k6)((()=>[(0,o.bF)(Ie,{style:{"min-width":"80px"}},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.sortedStamps,(t=>(0,o.bo)(((0,o.uX)(),(0,o.Wv)(Ee,{key:t,clickable:""},{default:(0,o.k6)((()=>[(0,o.bF)(Ae,{onClick:s=>e.selectedStamp=t},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{width:"80",src:e.stamp_dir+t+e.stamp_ext},null,8,oe)])),_:2},1032,["onClick"])])),_:2},1024)),[[De]]))),128))])),_:1})])),_:1})])),_:1})]),(0,o.bF)(he,{label:e.$t("doc2light.pages.add"),class:"q-ml-sm",color:"primary",unelevated:"",onClick:t[18]||(t[18]=t=>e.stampAddClicked())},null,8,["label"])])):(0,o.Q3)("",!0)])),_:1})])),_:1})],64)}var re=s(82303),ae=s(1659),le=s(24622),ne=s(38734),de=s(46162),ce=s(96056),he=s(89156),ue=s(14907),pe=s(45022),me=s(18505),ge=s(64775),_e=s(68450),ve=s(49575),fe=s(25891),ye=s(41843),we=s(12682),be=s(77362),ke=s(12566),Le=s(96075),Fe=s(25773),Ce=s(11470),Ae=s(85487),Ee=s(62409),Ie=s(99869),Se=s(35065),Pe=s(66933),Re=s(41582),De=s(57659),Te=s(55133),qe=s(66740),xe=s(23852),Me=s(8903),Be=s(44849),Oe=s(83319),$e=s(76956),Ve=s(23537),ze=s(81589),Ue=function(e,t,s,o){function i(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,r){function a(e){try{n(o.next(e))}catch(t){r(t)}}function l(e){try{n(o["throw"](e))}catch(t){r(t)}}function n(e){e.done?s(e.value):i(e.value).then(a,l)}n((o=o.apply(e,t||[])).next())}))};const Ke=document.querySelector.bind(document),He=(0,o.pM)({el:"#app",mixins:[me.A,le.A,ce.A,fe.A],components:{DocumentLock:ze.A,Loader:he.A,TaskBtn:we.A,TaskList:ye.A,DocumentLogs:ve.A,AnnotationView:Se.A,SecondApprover:De.A,DocumentApprover:qe.A,ErrorDocumentView:ke.A,SubHeader:be.A,Label:Ee.A,Button:Ie.A,TextInput:Re.A,BackToSettings:Fe.A,CorrectionButtons:Te.A,HorizontalSeparator:xe.A,ExtractedTableTabPanels:Be.A},watch:{doc_status:{deep:!0,handler:function(){this.checkValidStatus()}}},data(){return{default_stamp:Me.EO,stamp_ext:Me.K_,stamps:Me.dA,stamp_dir:Me.Ul,sortedStamps:[],docId:"",imageHeight:0,imageWidth:0,loading:!1,showArticlePage:!1,renderComponent:!1,chatWindow:(0,ne.KR)(!1),enableExportButton:!1,in_review:$e.aH.in_review,allowedDoctypes:$e.Gk,filter_status:"validated_pending_approval",showActivityPanel:(0,ne.KR)(!1),showTaskPanel:(0,ne.KR)(!1),enable_editing:(0,ne.KR)(!0),splitterModel:(0,ne.KR)(50),refreshAnnotationView:(0,ne.KR)(0)}},beforeRouteLeave:function(e,t,s){return Ue(this,void 0,void 0,(function*(){yield this.releaseDocLock({doc_id:this.record.doc_id}),this.resetDocStore(e.fullPath),this.restoreBeforeLeave(),s()}))},mounted:function(){return Ue(this,void 0,void 0,(function*(){let e=pe.A.getItem("selected_language");e&&(this.locale=e);let t=this.$route.params.id;this.getDocAnnotations(t),yield this.getDocTypeSettings(),window.addEventListener("resize",this.windowResize),document.body.addEventListener("click",this.mouseClicked,!0),window.rda=this,this.acquireDocLock(),this.init(),document.addEventListener("new_log",this.addNewLog),document.addEventListener("keydown",this.keyDownEvent);for(let s=1;s<=80;s++)this.fontSizes.push(s.toString()+"pt")}))},unmounted:function(){window.removeEventListener("resize",this.windowResize),document.removeEventListener("new_log",this.addNewLog),document.removeEventListener("keydown",this.keyDownEvent)},methods:{sortStampsByLanguage(){let e=this.$i18n.locale,t=[];"en-us"==e&&(e="en"),this.stamps.forEach((s=>{"de"!=e&&"en"!=e&&(e="en"),s.includes(e)&&t.push(s)})),this.selectedStamp=t[0],this.sortedStamps=t},init(){return Ue(this,void 0,void 0,(function*(){this.isSecondApproval(),this.$route.params.id||this.$router.push("/dashboard"),this.second_approval&&(this.filter_status=$e.aH.approved_pending_second_approval),this.docId=this.$route.params.id,yield this.getInvoiceDataByDocId(this.docId),yield this.getFieldsPermissions(this.record.doc_type);let e=$e.L9.field_validation;this.record.status==$e.aH.validated_pending_approval?e=this.model[$e.WE]?$e.L9.approval_v2:$e.L9.approval:this.record.status==$e.aH.in_review?(e=$e.L9.review,this.filter_status=$e.aH.in_review):this.record.status==$e.aH.approved_pending_second_approval&&(e=$e.L9.recond_approval,this.filter_status=$e.aH.approved_pending_second_approval),this.renderDocumentLog(),this.renderPendingRecordsCountView(),this.renderNextPrevLinkBtns(),yield this.getLayoutTemplateID(e),yield this.getFormBuilderLayout(),this.renderComponent=!0,$e.B2.includes(this.record.status)&&(this.isReadOnly=!0),this.handleImageBaseURL(),this.image=this.baseUrl+"/"+(0,Le.v)(this.record.images[0].path),this.images=(0,Le.m)(this.record.images),this.sortStampsByLanguage(),this.windowResize()}))},isSecondApproval(){this.second_approval=!1,this.$route.params.second_approval&&"true"===this.$route.params.second_approval&&(this.second_approval=!0)},getInvoiceDataByDocId(e){return Ue(this,void 0,void 0,(function*(){try{if(this.showLoading(),yield this.getDocumentById(e),!this.record.doc_id)return void this.showErrorToast(this.$t("pages.messages.INVALID_DOCUMENT"))}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(t)}finally{this.hideLoading()}}))},fillFirstApprover(){let e={};return e=this.record.hasOwnProperty("first_approver")?this.createEmptyField("first_approver","",this.record.first_approver):this.createEmptyField("assigned_to","",this.record.assigned_to),e},createEmptyField(e,t="",s=""){return"checkbox"==t&&(s=!1),{confidence:0,name:e,value:s,formatted_value:s,content:s}},getAssignToUsers(){return Ue(this,void 0,void 0,(function*(){yield this.dropdownStore.prepareUsersDropdown(),this.usersList=this.dropdownStore.usersList,this.formBuilderModel["assigned_to"]=this.getUserFullName(this.record.assigned_to),this.setPreviousApprover()}))},setPreviousApprover(){this.second_approval&&this.record.first_approver&&(this.formBuilderModel["first_approver"]=this.getUserFullName(this.record.first_approver))},getFieldsPermissions(e){return Ue(this,void 0,void 0,(function*(){try{if(!e)return;const t=yield Ce.M8.getFieldsPermissionsApi(e);if(!t.success)throw{message:t.message};this.field_permissions=t.field_permissions,this.general_permissions=t.general,this.prepareFieldPermissions(t.field_permissions),this.prepareTablePermissions(t.table_column_permissions)}catch(t){const e=ge.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}}))},prepareTablePermissions(e){if(e)for(const[t,s]of Object.entries(e)){const e=s;let o=e.name.toLowerCase();this.tablePermissions[o]={id:t,access:e.access}}},prepareFieldPermissions(e){if(e)for(const[t,s]of Object.entries(e)){const e=s;let o=e.name.toLowerCase();this.fieldPermissions[o]={id:t,access:e.access}}},filterUserList(e,t,s){try{if(""===e)return void t((()=>{this.usersList=this.dropdownStore.usersList}));t((()=>{const t=e.toLowerCase();this.usersList=this.dropdownStore.usersList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}))}catch(o){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(o),s()}},getUserFullName(e){let t=this.dropdownStore.usersList.filter((t=>t.value==e));return t[0].label},isModelReady(){return 0!==(0,_e.Ns)(this.formBuilderConfigModel)},goHelp(){window.open("https://docs.cloudintegration.eu/")},keyDownEvent(e){"d"===e.key&&e.ctrlKey&&(this.showActivityPanel=!this.showActivityPanel)},htmlElementClick(e){this.formBuilderConfigModel[e].fieldType!==Pe.VV.BUTTON||this.handleButtons(e)},handleButtons(e){this.isReadOnly||(this.formBuilderConfigModel[e].type!=$e.aH.reject?this.formBuilderConfigModel[e].type!=$e.aH.save?this.formBuilderConfigModel[e].type!=$e.aH.request_release?this.formBuilderConfigModel[e].type!=$e.aH.in_review?this.formBuilderConfigModel[e].type!=$e.aH.restart_workflow?this.formBuilderConfigModel[e].type!=$e.aH.view_summery||this.goToSummery():this.goToFieldValidation():this.setInReview():this.acceptRequest():this.saveData():this.rejectRequest())},onInputValueChanges(e,t){this.updateLocalModel(e),this.updateImportJson(e)},updateLocalModel(e){this.formBuilderModel.hasOwnProperty(e)&&(this.formBuilderModel[e].value=this.formBuilderModel[e].formatted_value)},updateImportJson(e,t,s,o=""){try{const i=this.record.fields.find((t=>t.name===e));if(!i){this.record.fields.push({});const i=this.record.fields.length-1;return this.record.fields[i].name=e,this.record.fields[i].content=this.formBuilderModel[e].content,this.record.fields[i].formatted_value=this.formBuilderModel[e].formatted_value,this.record.fields[i].value=this.formBuilderModel[e].value,this.record.fields[i].original_value="",this.record.fields[i].validation_code="",this.record.fields[i].extraction_method=o,this.record.fields[i].is_validated=!0,this.record.fields[i].is_valid=!0,this.record.fields[i].color=$e.aH.success_border_left,!0===this.formBuilderModel[this.connectionId].multi_line?this.record.fields[i].multi_line=!0:this.record.fields[i].multi_line=!1,t&&(this.record.fields[i].coords=t),s&&(this.record.fields[i].page=s),void this.$emit("checkFieldInvalid",this.record.fields[i])}i.hasOwnProperty("original")||(i["original"]=Object.assign({},i)),i.hasOwnProperty("original_value")||(i["original_value"]=i.value),(t||null===t)&&(i.coords=t),s&&(i.page=s),o&&(i.extraction_method=o),i.is_valid=!0,i.is_validated=!0;let r=this.formBuilderModel[e];i.formatted_value=r.formatted_value,i.value=r.value?r.value:r.formatted_value,i.content=r.content,r.hasOwnProperty("api_save")&&r.api_save||(i.value=r.formatted_value),((0,_e.z)(i.formatted_value)||(0,_e.jw)(i.formatted_value))&&(i.content=i.formatted_value),this.formBuilderModel[this.connectionId]&&this.formBuilderModel[this.connectionId].hasOwnProperty("multi_line")&&!0===this.formBuilderModel[this.connectionId].multi_line?i.multi_line=!0:i.multi_line=!1,this.formBuilderModel[e].is_valid=i.is_valid,this.formBuilderModel[e].is_validated=i.is_validated,this.$emit("checkFieldInvalid",i)}catch(i){logError(i)}},setApiData(e){this.record=e,this.$forceUpdate()},windowResize(){setTimeout((()=>{let e=Ke("#image_container");this.imageWidth=e.offsetWidth,this.imageHeight=e.offsetHeight,this.refreshAnnotationView++}),20)},currentPage(){return this.page},prevImage(){let e=this.page-1,t=this.getImagePath(e);this.updateImage(e,t)},nextImage(){let e=this.page+1,t=this.getImagePath(e);this.updateImage(e,t)},getImagePath(e){let t="";for(const[s,o]of Object.entries(this.images)){let s=o;s.pageNumber===e&&(t=s.path)}return t},updateImage(e,t){t&&""!==t&&(this.image=this.baseUrl+"/"+(0,Le.v)(t),this.page=e)},handleImageBaseURL(){this.record.images[0]&&this.record.images[0].path.match(/doc2/g)&&(this.baseUrl=de.VA)},updateApiData(e){e.detail&&(this.record=e.detail)},saveData(){return Ue(this,void 0,void 0,(function*(){if(!this.isReadOnly){if(!this.validateData())return!1;try{this.showLoading();const e=yield this.saveDocument(this.docId);if(!1===e.success)return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.showErrorToast(e.message);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.assign_user_error=!1}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(e)}finally{this.hideLoading()}return!0}}))},validateData(){let e=!0;return(0,_e.z)(this.record.assigned_to)&&(0,_e.z)(this.record.assigned_to_group_id)&&(this.showErrorToast(this.$t("pages.messages.ASSIGN_USER_TO_PROCEED")),this.assign_user_error=!0,e=!1),e},setInReview(){return Ue(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.showLoading(),yield this.saveData(),yield this.setDocumnetStatus($e.aH.in_review),this.$router.push("/dashboard")}catch(e){const t=ge.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},setDocumnetStatus(e){return Ue(this,void 0,void 0,(function*(){try{const t=yield Ce.M8.set_document_status(this.docId,{status:e});if(!1===t.success)throw{message:t.message};this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(t){const e=ge.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}}))},goToFieldValidation(){return Ue(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.showLoading(),yield this.saveData(),yield this.setDocumnetStatus($e.aH.ready_for_validation),this.$router.push("/field_validation_v1/"+this.docId)}catch(e){const t=ge.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}}))},goToSummery(){return Ue(this,void 0,void 0,(function*(){if(this.validateChargesData()){try{if(this.showLoading(),!(yield this.saveData()))return}catch(e){const t=ge.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.hideLoading()}this.$router.push("/summary/"+this.docId)}}))},acceptRequest(){if(!this.validateChargesData())return;let e=this.images.length,t=this.getImagePath(e);if(this.updateImage(e,t),this.page===this.images.length){let e="de"===this.locale?"approved_stamp_de":"approved_stamp_en";this.$refs.child_comp.addStampAnnotation(e)}this.record.first_approver=this.record.assigned_to,this.updateRequest("approve")},rejectRequest(){this.second_approval||delete this.record.first_approver,this.updateRequest("reject")},updateRequest(e){return Ue(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;if(!this.validateData())return;this.showLoading();const t={request_type:e},s=yield this.approveOrRejectDocument(this.docId,t);if(!1===s.success){if(this.record.approval_requests&&this.record.approval_requests.length>0&&"RETURN_TO_DASHBOARD"==s.error_code)return void this.$router.push("/dashboard");throw{message:s.message}}this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.$router.push("/dashboard")}catch(t){const e=ge.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.hideLoading()}}))},addNewLog(e){e&&e.detail&&this.renderDocumentLog()},renderDocumentLog(){return Ue(this,void 0,void 0,(function*(){try{yield this.getDocumentLogs()}catch(e){logInfo("something went wrong while loading document logs"),logError(e)}finally{this.hideLoading()}}))},getDocumentLogs(){return Ue(this,void 0,void 0,(function*(){let e;this.doc_logs={};let t=new FormData;t.append("action_type","message"),t.append("org_id",(0,Ae.I)());let s=yield(0,de.L3)();if(e=yield re.A.post(de.FH.get_document_log+this.docId,t,{headers:{Authorization:s}}),!e.data)throw{message:"no logs from server"};e.data.forEach((e=>{this.doc_logs[e.id.toString()+"_ID"]=e}))}))},downloadFile(){try{let e=de.VA+"/resource/document/"+this.docId+"/"+this.docId+".pdf?"+this.tokenQueryParam;if(!e)return;fetch(e).then((e=>e.blob())).then((e=>{const t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=this.record.filename,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)})).catch((e=>{logError("Error downloading file:",e)}))}catch(e){logError(e)}},routeToListPendingApproval(){this.removeDashboardFilters(),this.$router.push("/dashboard")},renderPendingRecordsCountView(){return Ue(this,void 0,void 0,(function*(){try{let e,t="?filter=current-year&skip=0&limit=100&status="+this.filter_status,s=yield(0,de.L3)();if(e=yield re.A.get((0,Ae.MV)(de.FH.get_dashboard_data+t),{headers:{Authorization:s}}),!e.data.documents)throw{message:"no pending documents from server"};this.pending_approval_doc_count=e.data.documents.length,this.pending_approval_doc_count<0&&(this.pending_approval_doc_count=0)}catch(e){logInfo("something went wrong while loading document logs"),logError(e)}finally{this.hideLoading()}}))},renderNextPrevLinkBtns(){return Ue(this,void 0,void 0,(function*(){try{let e,t=yield(0,de.L3)();if(e=yield re.A.get((0,Ae.MV)(de.FH.get_next_document+this.docId+"?doc_type="+this.record.doc_type+"&status="+this.filter_status+"&sort_attr=created_on"),{headers:{Authorization:t}}),!1===e.data.success)throw{message:"cannot get response related to next or prev record"};e.data.has_next&&e.data.next_id&&(this.next_record=e.data.next_id),e.data.has_previous&&e.data.previous_id&&(this.prev_record=e.data.previous_id)}catch(e){logInfo("something went wrong while loading document logs"),logError(e)}finally{this.hideLoading()}}))},checkValidStatus(){(0,_e.jw)(this.doc_status)||this.doc_status!==this.filter_status&&this.doc_status!==$e.aH.in_review&&this.doc_status!==$e.aH.approved_pending_second_approval&&(this.error=!0,this.error_message="invalid_status")},routeTo(e){let t="ready-for-approval";this.second_approval&&(t="ready-for-second-approval"),"prev"===e&&this.prev_record&&this.$router.push({path:"/"+t+"/"+this.prev_record,replace:!0}),"next"===e&&this.next_record&&this.$router.push("/"+t+"/"+this.next_record)},updateValue(e,t){"font"==e?this.selectFont=t:"color"==e?this.selectColor=t:"size"==e&&(this.selectFontSize=t)},stampAddClicked(){this.$refs.child_comp.addTemplateAnnotation(this.selectedStamp)},getApprovalInfoObj(e){const t=e.lineFieldValue?e.lineFieldValue:0,s=e.poFieldValue?e.poFieldValue:0;let o=0,i=0;return e.status==$e.qS.approved&&(o=t,i=0),e.status==$e.qS.rejected&&(o=s,i=t-s),{approval_required:!0,approval_status:e.status,approved_or_rejected_by:e.currentUserId,approved_or_rejected_at:e.currentDateTime,approved_amount:o,rejected_amount:i}},handleApprover(e){if(!this.user_settings[$e.ev])return e["first_approver"]=this.fillFirstApprover(),e["assigned_to"]=this.createEmptyField("assigned_to","",this.record.assigned_to),e},makeModel(){return new Promise(((e,t)=>{let s={};if(void 0!==this.record){this.record.fields.forEach(((e,t)=>{s[e.name]=e})),this.handleApprover(s);let e=this.getUpdatedFieldSettings();for(let[t,o]of this.formLayout.entries()){let t=o.hasOwnProperty("field_name")?o.field_name:o.name;e.hasOwnProperty(t)&&(o=Object.assign(o,this.cleanLayoutSettings(e[t]))),this.prepareModel(o,s[t],t)}this.$forceUpdate()}e("done")}))},makeModel_v2(){return new Promise(((e,t)=>{let s={};if(void 0!==this.record){this.record.fields.forEach(((e,t)=>{s[e.name]=e})),this.handleChargesGroupValidation(s),this.handleApprover(s);let e=this.getUpdatedFieldSettings();for(let[t,o]of this.formLayout.entries())for(let i of o.rows){let t=i.hasOwnProperty("field_name")?i.field_name:i.name;e.hasOwnProperty(t)&&(i=Object.assign(i,this.cleanLayoutSettings(e[t]))),this.prepareModel(i,s[t],t)}this.$forceUpdate()}e("done")}))},handleChargesGroupValidation(e){for(let[t,s]of this.formLayout.entries())if(s.name==$e.P.charges){for(let t=0;t<s.rows.length;t+=3){let o=s.rows[t].field_name,i=s.rows[t+1].field_name;if(!e.hasOwnProperty(o)||!e.hasOwnProperty(i))continue;e[i].input_error="invalid-input";const r={status:$e.qS.pending,currentUserId:null,currentDateTime:null,lineFieldValue:Number(e[i].value),poFieldValue:Number(e[o].value)};e[i]["approval_info"]=this.getApprovalInfoObj(r)}break}},prepareModel(e,t,s){t||(t=this.createEmptyField(s,e.input_type));let o=e.input_type?e.input_type:e.fieldType;o&&(e.hasOwnProperty("tabIndex")&&!(0,_e.z)(e.tabIndex)||(e.tabIndex=0),this.formBuilderModel[s]={},this.formBuilderConfigModel[s]={},this.formBuilderModel[s]=Object.assign({},t),this.formBuilderConfigModel[s]=Object.assign({},e),t.hasOwnProperty("is_required")&&(this.formBuilderConfigModel[s].is_required=t.is_required),"first_approver"==s&&this.second_approval&&(this.formBuilderConfigModel[s].translation_key="first_approver"))},cleanLayoutSettings(e){return delete e.name,delete e.field,delete e.field_name,delete e.field_type,delete e.title,delete e.translation_key,delete e.is_readonly,e},getFormBuilderLayout(){return Ue(this,void 0,void 0,(function*(){let e;this.formLayout=[];try{if(!this.layout_template_id)return;e=yield Ce.H7.getDocumentLayoutTemplateById(this.layout_template_id);let t=JSON.parse(e.layout_json);t&&(this.formLayout=t.hasOwnProperty("layout")?t.layout:[],this.formLayout&&(this.model[$e.WE]?yield this.makeModel_v2():yield this.makeModel()))}catch(t){return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(t)}}))},setRowReadOnly(e){e.is_readonly=!0},setRowHidden(e){e.is_hidden=!0,e.visibile=!1},applyPermissions(e){if(!this.field_permissions)return;if(!this.formLayout)return;const t=this.getUserId();if("TextInput"!=e.fieldType)return;if(!this.field_permissions[e.id])return;let s=this.field_permissions[e.id].access;switch(this.isAdmin()&&(s=32),s){case 0:this.setRowHidden(e);break;case 1:this.setRowReadOnly(e);break;case 2:e.is_readonly=!1;break;case 4:if(t!=this.record.assigned_to){this.setRowReadOnly(e);break}e.is_readonly=!1;break;case 8:if(t!=this.record.assigned_to){this.setRowHidden(e);break}e.is_readonly=!1,e.is_hidden=!1;break;case 16:let s="";if(s=this.second_approval?this.formBuilderModel["second_approver"].formatted_value:this.formBuilderModel["first_approver"].formatted_value,t!=s){this.setRowHidden(e);break}e.is_readonly=!1,e.is_hidden=!1;break;case 32:if(!this.isAdmin()){this.setRowHidden(e);break}e.is_readonly=!1,e.is_hidden=!1;break}},getUpdatedFieldSettings(){let e={},t=JSON.parse(JSON.stringify(this.record.layout.groups));return t.forEach(((t,s)=>{t.rows.forEach(((t,s)=>{t.forEach(((t,s)=>{let o=t.field_name;e[o]=t}))}))})),e},updateModel(e){},restoreBeforeLeave(){this.record={},this.error=!1,this.error_message="",this.doc_status="",this.page=1},getReadOnlyStatus(e){return!!e.name.startsWith("tab_panel_tables_")||(!!this.isReadOnly||e.is_readonly)},validateChargesData(){return this.validatePOMathAprrovalSatus()},validatePOMathAprrovalSatus(){let e=!1;if(!this.record.po_multi_matched||0==this.record.po_multi_matched.length)return!0;for(let[t,s]of this.record.po_multi_matched.entries())if(e=s.hasOwnProperty("sub_lines")?this.multiPoToOneLine(s):(s.hasOwnProperty("table_lines"),this.onePoToOneLine(s)),!e){this.showErrorToast(this.$t("pages.messages.VALIDATION_REQUIRED_FOR_TABLE"));break}return e},multiPoToOneLine(e){let t=!1;for(const s of e.sub_lines)if(t=this.onePoToOneLine(s),!t)break;return t},onePoToOneLine(e){let t=!0;if(e.approval_info&&Object.entries(e.approval_info).length>0)for(const[s,o]of Object.entries(e.approval_info))if(o.approval_required&&!o.approval_status){if(this.record.approval_requests&&this.record.approval_requests.length>0&&!this.checkForApprovalpermission(s))continue;t=!1;break}if(!e.additional_charges||0==e.additional_charges.length)return t;for(let s of e.additional_charges)if(s.approval_info&&s.approval_info.approval_required&&!s.approval_info.approval_status){const e=this.getChargesNameByCostingElement(s.costing_element);if(this.record.approval_requests&&this.record.approval_requests.length>0&&!this.checkForApprovalpermission(e))continue;t=!1}return t},validatePageNumber(){this.page?(this.page>this.images.length&&(this.page=this.images.length),this.pageChanged(this.page)):this.page=1},pageChanged(e){!e||0==e||e>this.lastPageItem||this.updateImage(e,(0,Le.v)(this.record.images[e-1].path))},goToDashboard(){this.$router.push("/dashboard")},setTriggerDocumentLock(e){this.trigger_document_lock=e}},setup(){const e=(0,ue.A)();let t=[];const s=(0,Oe.cY)();let{locale:o}=(0,Ve.s9)({useScope:"global"});const i=(0,Oe.q3)(),{approveOrRejectDocument:r,getDocumentById:a,getDocAnnotations:l,saveDocument:n,getLayoutTemplateID:d,resetDocStore:c,checkForApprovalpermission:h,getChargesNameByCostingElement:u}=i,{record:p,doc_status:m,error:g,error_message:_,page:v,layout_template_id:f,tablePermissions:y,fieldPermissions:w,document_version:b}=(0,ae.bP)(i),k=(0,Oe.kH)(),{getUserId:L}=k,F=(0,Oe.Bu)(),{user_settings:C}=(0,ae.bP)(F),A=(0,Oe.fX)(),{removeSavedFilters:E,saveFilters:I}=A,S=(0,Oe._6)(),{isAdmin:P}=S,{tokenQueryParam:R}=(0,ae.bP)(S);S.getTokenQueryParam();const D=(0,Oe.uL)(),{second_approval:T,formBuilderModel:q,formLayout:x,formBuilderConfigModel:M}=(0,ae.bP)(D),B=(0,Oe.wt)(),{model:O}=(0,ae.bP)(B),{getDocTypeSettings:$}=B,V=(0,Oe.oI)(),{releaseDocLock:z,acquireDocLock:U}=V,{doc_lock:K}=(0,ae.bP)(V);return{locale:(0,ne.KR)(o),model:O,saveDocument:n,user_settings:C,getDocumentById:a,getDocAnnotations:l,getDocTypeSettings:$,getLayoutTemplateID:d,getUserId:L,isAdmin:P,savedDashboardFilters:I,removeDashboardFilters:E,approveOrRejectDocument:r,checkForApprovalpermission:h,getChargesNameByCostingElement:u,approve_before_export:$e.Lw,tokenQueryParam:R,doc_status:m,page:v,error:g,error_message:_,record:p,dropdownStore:s,image:"",images:t,baseUrl:de.VA,isReadOnly:!1,usersList:(0,ne.KR)([]),tablePermissions:y,fieldPermissions:w,assign_user_error:(0,ne.KR)(!1),field_permissions:(0,ne.KR)({}),general_permissions:(0,ne.KR)({}),doc_logs:(0,ne.KR)({}),pending_approval_doc_count:(0,ne.KR)(0),next_record:(0,ne.KR)(""),prev_record:(0,ne.KR)(""),second_approval:T,showNotification(t){e.notify({message:t,color:"primary",position:"top"})},showFontMenu:(0,ne.KR)(!0),showStampMenu:(0,ne.KR)(!1),selectColor:(0,ne.KR)("#000000"),selectFont:(0,ne.KR)("Helvetica"),fontlist:["Helvetica","Times New Roman","Arimo","Caladea","Carlito","Cousine","Liberation Serif","Arial"],selectFontSize:(0,ne.KR)(20),fontSizes:[],showDoc:(0,ne.KR)(!1),selectedStamp:(0,ne.KR)(""),screenmode:(0,ne.KR)("annotate"),formLayout:x,formBuilderModel:q,layout_template_id:f,formBuilderConfigModel:M,trigger_document_lock:(0,ne.KR)(!1),document_version:b,releaseDocLock:z,acquireDocLock:U,doc_lock:K,resetDocStore:c}}});var Qe=s(12807),je=s(50492),Ne=s(56384),Xe=s(98072),We=s(97410),Ge=s(10386),Je=s(67837),Ye=s(13718),Ze=s(82156),et=s(23316),tt=s(18670),st=s(93676),ot=s(44189),it=s(57092),rt=s(36914),at=s(84436),lt=s(53999),nt=s(90124),dt=s(25173),ct=s(1444),ht=s(67156),ut=s(42315),pt=s(88672),mt=s(98582),gt=s.n(mt);const _t=(0,Qe.A)(He,[["render",ie],["__scopeId","data-v-ef823202"]]),vt=_t;gt()(He,"components",{QIcon:je.A,QBtn:Ne.A,QSplitter:Xe.A,QTooltip:We.A,QSeparator:Ge.A,QInput:Je.A,QPageSticky:Ye.A,QDialog:Ze.A,QCard:et.A,QBar:tt.A,QSpace:st.A,QCardSection:ot.A,QFooter:it.A,QToolbar:rt.A,QMenu:at.A,QList:lt.A,QItem:nt.A,QItemSection:dt.A,QSlider:ct.A,QField:ht.A,QTable:ut.A}),gt()(He,"directives",{ClosePopup:pt.A})}}]);