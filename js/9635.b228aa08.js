"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[9635],{19635:(e,i,t)=>{t.r(i),t.d(i,{default:()=>re});var a=t(83673);const n=(0,a._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1);function o(e,i,t,o,s,c){const d=(0,a.up)("DocumentLock"),l=(0,a.up)("PageTop"),r=(0,a.up)("TableSelection"),g=(0,a.up)("q-inner-loading");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d,{document_version:e.document_version,trigger_document_lock:e.trigger_document_lock},null,8,["document_version","trigger_document_lock"]),(0,a.Wm)(l),"table_selection"==e.view?((0,a.wg)(),(0,a.j4)(r,{key:0})):(0,a.kq)("",!0),(0,a.Wm)(g,{showing:e.processing},{default:(0,a.w5)((()=>[n])),_:1},8,["showing"])],64)}var s=t(61959),c=t(60727),d=t(10321),l=t(9273),r=t(77378),g=t(97570);const m={class:"row full-width page-top q-mb-sm"},u={class:"left-side q-mr-auto"};function h(e,i,t,n,o,s){const c=(0,a.up)("BreadCrumbs");return(0,a.wg)(),(0,a.iD)("div",m,[(0,a._)("span",u,[(0,a.Wm)(c)]),(0,a.WI)(e.$slots,"default",{},void 0,!0)])}const p={id:"breadcrumb"},_=(0,a.uE)('<li><a><span class="icon icon-home"></span>Detail View</a></li><li><a><span class="icon icon-beaker"></span> Table Selection</a></li><li class="selected"><a><span class="icon icon-double-angle-right"></span> Table Extraction</a></li><li><a><span class="icon icon-rocket"></span>Custom Columns &amp; Rows</a></li><li><a><span class="icon icon-arrow-down"></span> Custom Formatting</a></li><li><a><span class="icon icon-arrow-down"></span> Finish</a></li>',6),w=[_];function f(e,i,t,n,o,s){return(0,a.wg)(),(0,a.iD)("ul",p,w)}const v=(0,a.aZ)({components:{},props:{},mounted:function(){this.initView()},methods:{initView(){}}});var b=t(74260);const k=(0,b.Z)(v,[["render",f]]),I=k,y=(0,a.aZ)({components:{BreadCrumbs:I},props:{},mounted:function(){this.initView()},methods:{initView(){}}}),Z=(0,b.Z)(y,[["render",h],["__scopeId","data-v-04391a09"]]),x=Z;var D=t(62323);const H={class:"row full-width q-ma-sm"},L={class:"col-auto"},C={class:"col",style:{"margin-right":"10px"}},W={class:"full-width bg-white",id:"image_container",ref:"image_container"},q={class:"full-width full-height scrolle-y",id:"image_scrolle",style:{position:"relative"}},V=["data-page","src","width"];function T(e,i,t,n,o,s){const c=(0,a.up)("ImagesList"),d=(0,a.up)("AddColumnSplitterBtn");return(0,a.wg)(),(0,a.iD)("div",H,[(0,a._)("div",L,[(0,a.Wm)(c)]),(0,a._)("div",C,[(0,a._)("div",W,[(0,a._)("div",q,[(0,a._)("div",{id:"zoom",style:(0,D.j5)('background-image: url("'+e.image+' "); top: 51px;left: 506px; background-position: 268.297px 82.6934px;')},null,4),(0,a._)("img",{class:"screenshot","data-page":e.page,src:e.image,width:e.imageWidth,id:"screenshot",ref:"screenshot",draggable:"false",onLoad:i[0]||(i[0]=(...i)=>e.getImageDetails&&e.getImageDetails(...i))},null,40,V),(0,a.Wm)(d)])],512)])])}const J={class:"max-width-120 images-list"},z={class:"full-width bg-white q-ma-sm scroll-area-height"},B={class:"row justify-center q-pl-md q-pr-md q-pt-md"},S={class:"secondary-c-text text-h6 text-weight-bold"},E={class:"q-pl-md q-pr-md full-width left-scroll-area-height scrolle-y"},U=["data-id","src","onLoad"];function $(e,i,t,n,o,s){return(0,a.wg)(),(0,a.iD)("div",J,[(0,a._)("div",z,[(0,a._)("div",B,[(0,a._)("span",S,(0,D.zw)(e.$t("pages.screen2a.pages")),1)]),(0,a._)("div",E,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.images,((t,n)=>((0,a.wg)(),(0,a.iD)("img",{"data-id":n,key:n,src:e.baseUrl+"/"+t.path,class:(0,D.C_)(["q-pa-sm shadow-5 full-width q-ma-sm cursor-pointer",n===this.page-1?"active":""]),style:{height:"auto"},onClick:i[0]||(i[0]=(...i)=>e.imageclicked&&e.imageclicked(...i)),onLoad:i=>{e.imageLoaded(i,n)}},null,42,U)))),128))])])])}var P=t(85985),R=t(49566);const j=(0,a.aZ)({el:"#app",mixins:[P.Z],components:{},props:{},watch:{doc_loaded:{handler:function(e,i){this.initView()}}},mounted:function(){this.initView()},methods:{imageLoaded(e,i){this.image_load_count++,this.image_load_count>this.images.length&&(this.image_load_count=this.images.length),this.image_load_count===this.images.length&&(this.processing=!1)},initView(){this.doc_loaded&&(this.processing=!0,this.image_load_count=0,this.images=(0,R.PN)(this.record.images))},imageclicked(e){this.page=parseInt(e.target.dataset.id)+1,this.setImage(this.record)}},setup(){const e=(0,c.H_)(),{record:i,doc_loaded:t}=(0,d.Jk)(e),a=(0,c.Iy)(),{page:n,baseUrl:o}=(0,d.Jk)(a),{setImage:l}=a;return{record:i,doc_loaded:t,images:(0,s.iH)([]),processing:(0,s.iH)(!1),baseUrl:o,image_load_count:(0,s.iH)(0),page:n,setImage:l}}}),A=(0,b.Z)(j,[["render",$],["__scopeId","data-v-acfaf6dc"]]),F=A,Q=e=>((0,a.dD)("data-v-2b55ac9a"),e=e(),(0,a.Cn)(),e),Y={class:"button-add-column-splitter",onclick:"addColumnSplitter();","data-toggle":"tooltip","data-placement":"right"},K=Q((()=>(0,a._)("i",{class:"fa fa-plus",style:{position:"absolute",top:"41%",right:"3px"}},null,-1))),M=(0,a.Uk)("Add Column");function N(e,i,t,n,o,s){const c=(0,a.up)("q-tooltip");return(0,a.wg)(),(0,a.iD)("div",Y,[K,(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[M])),_:1})])}const G=(0,a.aZ)({el:"#app",mixins:[P.Z],components:{},props:{},watch:{doc_loaded:{handler:function(e,i){this.initView()}}},mounted:function(){this.initView()},methods:{initView(){this.doc_loaded},addColumnSplitter(e){}},setup(){const e=(0,c.H_)(),{record:i,doc_loaded:t}=(0,d.Jk)(e),a=(0,c.Iy)(),{page:n}=(0,d.Jk)(a),{setImage:o}=a;return{}}});var O=t(5363),X=t(7518),ee=t.n(X);const ie=(0,b.Z)(G,[["render",N],["__scopeId","data-v-2b55ac9a"]]),te=ie;ee()(G,"components",{QTooltip:O.Z});const ae=(0,a.aZ)({mixins:[r.Z],components:{ImagesList:F,AddColumnSplitterBtn:te},watch:{doc_loaded:{handler:function(e,i){this.initView()}},image:{handler:function(e,i){this.calculateImage()}}},mounted:function(){this.initView(),window.ts=this},unmounted:function(){window.removeEventListener("resize",this.windowResize)},data(){return{}},methods:{initView(){this.doc_loaded&&(window.addEventListener("resize",this.windowResize),this.image_container=this.$refs.image_container,this.setImage(this.record))},calculateImage(){this.image_container&&(this.imageWidth=this.image_container.offsetWidth-30,this.imageHeight=this.image_container.offsetHeight)},getImageDetails(){const e=this.$refs.screenshot;this.imageInfo={offsetWidth:e.offsetWidth,offsetHeight:e.offsetHeight}},windowResize(){this.calculateImage()}},setup(){const e=(0,c.H_)(),{record:i,doc_loaded:t}=(0,d.Jk)(e),a=(0,c.Iy)(),{page:n,baseUrl:o,image:s,imageWidth:l,imageHeight:r,image_container:g,imageInfo:m}=(0,d.Jk)(a),{setImage:u}=a;return{record:i,doc_loaded:t,imageInfo:m,setImage:u,image:s,page:n,baseUrl:o,imageWidth:l,imageHeight:r,image_container:g}}}),ne=(0,b.Z)(ae,[["render",T],["__scopeId","data-v-07994c6e"]]),oe=ne;var se=function(e,i,t,a){function n(e){return e instanceof t?e:new t((function(i){i(e)}))}return new(t||(t=Promise))((function(t,o){function s(e){try{d(a.next(e))}catch(i){o(i)}}function c(e){try{d(a["throw"](e))}catch(i){o(i)}}function d(e){e.done?t(e.value):n(e.value).then(s,c)}d((a=a.apply(e,i||[])).next())}))};const ce=(0,a.aZ)({mixins:[r.Z],el:"#app",components:{DocumentLock:g.Z,PageTop:x,TableSelection:oe},watch:{doc_processing:{handler:function(e,i){this.handleLoader(e)}}},setup(){const e=(0,c.H_)(),{getDocumentById:i}=e,{processing:t,document_version:a}=(0,d.Jk)(e),n=(0,c.hx)(),{doc_id:o,processing:l,view:r}=(0,d.Jk)(n),{handleLoader:g}=n;return{getDocumentById:i,handleLoader:g,doc_id:o,doc_processing:t,processing:l,document_version:a,trigger_document_lock:(0,s.iH)(!1),view:r}},data(){return{}},mounted(){this.init()},methods:{init(){return se(this,void 0,void 0,(function*(){try{this.doc_id=this.$route.params.id,yield this.getDocumentById(this.doc_id)}catch(e){const i=l.w.getErrorMessage(e);this.showErrorToast(i)}finally{this.processing=!1}}))}}});var de=t(66941);const le=(0,b.Z)(ce,[["render",o]]),re=le;ee()(ce,"components",{QInnerLoading:de.Z})}}]);