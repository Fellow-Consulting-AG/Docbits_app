"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[9594],{69594:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Nt});var s=a(83673);const l={class:"container full-width full-height reports",style:{"padding-top":"66px"}};function o(e,t,a,o,i,r){const d=(0,s.up)("SubHeader"),n=(0,s.up)("Boards");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(d,{name:"report",label:e.$t("report_title")},null,8,["label"]),(0,s._)("div",l,[(0,s.Wm)(n)])],64)}var i=a(62323);const r={key:0,class:"full-width sub-header q-header q-layout__section--marginal fixed-top",style:{top:"auto !important","z-index":"4000"}},d={class:"row q-toolbar row no-wrap items-center toolbar full-width toolbar-items",style:{padding:"10px",background:"#2388AE"}},n={class:"col-4 left-side q-mr-auto",style:{"margin-left":"9px",padding:"4px 18px"}},c={key:0,class:""};function _(e,t,a,l,o,_){const h=(0,s.up)("q-btn"),p=(0,s.up)("SubscriptionAlert");return(0,s.wg)(),(0,s.iD)(s.HY,null,[""!==e.name?((0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",d,[(0,s._)("span",n,(0,i.zw)(e.label),1),(0,s.WI)(e.$slots,"default",{},void 0,!0),e.display_help_link?((0,s.wg)(),(0,s.iD)("span",c,[(0,s.Wm)(h,{flat:"",class:"helpbtn",color:"white",icon:"help",onClick:t[0]||(t[0]=t=>e.goHelp()),target:"_blank"})])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),e.show_expiry_alert?((0,s.wg)(),(0,s.j4)(p,{key:1})):(0,s.kq)("",!0)],64)}var h=a(12699),p=a(74475);const u=(0,s.aZ)({components:{SubscriptionAlert:p.Z},props:{name:{type:String,default:""},label:{type:String,default:""},show_expiry_alert:{type:Boolean,default:!1},display_help_link:{type:Boolean,default:!0}},mounted:function(){this.initView()},methods:{initView(){},goHelp(){(0,h.Rg)(this.name)&&window.open((0,h.Rg)(this.name))}}});var g=a(74260),m=a(53812),w=a(19214),v=a(39570),y=a(2165),f=a(7518),x=a.n(f);const b=(0,g.Z)(u,[["render",_],["__scopeId","data-v-dd2289a8"]]),k=b;x()(u,"components",{QHeader:m.Z,QLayout:w.Z,QToolbar:v.Z,QBtn:y.Z});var D=a(98880);const q=e=>((0,s.dD)("data-v-aff799ea"),e=e(),(0,s.Cn)(),e),z={class:"q-pa-md row grey-heading items-stretch justify-start q-gutter-sm report-text-color text-center"},W={class:"row items-center justify-end q-gutter-sm"},H={class:"text-center"},$={class:"row"},S={class:"text-weight-bolder"},C={class:"text-center"},Z={class:"row"},I={class:"text-weight-bolder"},R={class:"text-center"},j={class:"q-pl-md q-pt-md"},Y={class:"heading text-h6"},Q={class:"text-center"},T=q((()=>(0,s._)("div",{id:"chart-container"},[(0,s._)("div",{id:"chart"})],-1))),A={key:0},U={class:"no-data-message q-mx-lg q-my-sm"},O={class:"q-pa-md row items-start q-gutter-sm grey-heading"},B={class:"row headliner"},P={class:"col-9"},E={class:"col-3 text-right"},V={class:"row"},L={class:"col-9"},K={class:"col-9"},M=["onClick"],F={class:"col-3 text-right"},N={key:0},X={key:0,class:"row"},J={class:"col-9"},G={class:"col-3 text-right"},ee={class:"row headliner"},te={class:"col-9"},ae={class:"col-3 text-right"},se={class:"row"},le={class:"col-9"},oe=["onClick"],ie={class:"col-3 text-right"},re={key:0},de={key:0,class:"row"},ne=q((()=>(0,s._)("div",{class:"col-1"},null,-1))),ce={class:"col-8"},_e={class:"col-3 text-right"},he={class:"row headliner"},pe={class:"col-4"},ue={class:"col-5"},ge={class:"col-3 text-right"},me=q((()=>(0,s._)("div",{class:"col-1"},null,-1))),we={class:"row"},ve={class:"col-4"},ye={class:"col-8"},fe={key:0,class:"row"},xe={class:"col-7"},be={class:"col-5 text-right"},ke=q((()=>(0,s._)("div",{class:"col-2"},null,-1))),De=q((()=>(0,s._)("hr",null,null,-1))),qe={key:0,style:{"margin-left":"10px"}},ze={class:"row headliner"},We={class:"col-3"},He={class:"col-5"},$e={class:"col-4 text-right"},Se={key:0,class:"row"},Ce={class:"col-3"},Ze={class:"col-5",style:{"text-transform":"capitalize"}},Ie={class:"col-4 text-right"},Re={class:"row"},je=q((()=>(0,s._)("div",{class:"col-3"},null,-1))),Ye={class:"col-5"},Qe={class:"col-4 text-right"},Te=q((()=>(0,s._)("hr",null,null,-1))),Ae={key:1},Ue={class:"no-data-message"},Oe={style:{"margin-left":"10px"}},Be={class:"row headliner"},Pe={class:"col-4"},Ee={class:"col-2"},Ve={class:"col-2 text-right"},Le={key:0,class:"col-2 text-right"},Ke={key:1,class:"col-2 text-right"},Me={class:"row"},Fe=["onClick"],Ne={class:"col-2"},Xe={class:"col-2 text-right"},Je={key:0,class:"col-2 text-right"},Ge={key:1,class:"col-2 text-right"},et={key:0},tt={class:"row"},at=q((()=>(0,s._)("div",{class:"col-4"},null,-1))),st={class:"col-2"},lt={class:"col-2 text-right"},ot={key:0,class:"col-2 text-right"},it={key:1,class:"col-2 text-right"},rt={class:"row headliner"},dt={class:"col-5"},nt={class:"col-7"},ct={class:"no-data-message"},_t=q((()=>(0,s._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1)));function ht(e,t,a,l,o,r){const d=(0,s.up)("q-btn"),n=(0,s.up)("q-date"),c=(0,s.up)("q-popup-proxy"),_=(0,s.up)("q-icon"),h=(0,s.up)("q-select"),p=(0,s.up)("q-tooltip"),u=(0,s.up)("q-card-section"),g=(0,s.up)("q-card"),m=(0,s.up)("q-separator"),w=(0,s.up)("q-expansion-item"),v=(0,s.up)("q-inner-loading"),y=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",z,[(0,s.Wm)(h,{outlined:"",dense:"",modelValue:e.selected_date_range,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.selected_date_range=t),e.dateRangeOptionSelected],options:e.date_range_options,label:e.$t("time_unit"),style:{width:"30%"},"emit-value":"","map-options":""},{selected:(0,s.w5)((()=>["custom"===e.selected_date_range?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,i.zw)(e.board_date),1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Uk)((0,i.zw)(e.board_date),1)],64))])),append:(0,s.w5)((()=>[(0,s.Wm)(_,{name:"event",class:"cursor-pointer",onClick:t[2]||(t[2]=(0,D.iM)((()=>{}),["stop"]))},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{cover:"",modelValue:e.show_calender,"onUpdate:modelValue":t[1]||(t[1]=t=>e.show_calender=t),"transition-show":"scale","transition-hide":"scale",ref:"qDateProxy"},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{modelValue:e.custom_date_range,"onUpdate:modelValue":t[0]||(t[0]=t=>e.custom_date_range=t),minimal:"",range:""},{default:(0,s.w5)((()=>[(0,s._)("div",W,[(0,s.wy)((0,s.Wm)(d,{label:e.$t("pages.select_app.close"),color:"primary",flat:""},null,8,["label"]),[[y]]),(0,s.wy)((0,s.Wm)(d,{label:"OK",color:"primary",flat:"",onClick:e.dateRangeCalenderSelected},null,8,["onClick"]),[[y]])])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue","options","onUpdate:modelValue","label"]),(0,s.Wm)(g,{flat:"",bordered:"",class:"board-card-stats",style:{"padding-top":"0px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",H,(0,i.zw)(e.$t("pages.report.number_of_new_documents")),1)])),_:1}),(0,s._)("div",$,[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.$t("pages.report.new_documents")),1)])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",S,(0,i.zw)(e.document_stats.documents),1)])),_:1})])])),_:1}),(0,s.Wm)(g,{flat:"",bordered:"",class:"board-card-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",C,(0,i.zw)(e.$t("pages.report.average_time_spent")),1)])),_:1}),(0,s._)("div",Z,[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.$t("pages.report.average_system_time")),1)])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",I,(0,i.zw)(e.document_stats.average_time_spent),1)])),_:1})])])),_:1}),(0,s.Wm)(d,{style:{width:"10%"},color:"primary",dense:"",unelevated:"",onClick:e.downloadReport,icon:"download"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",R,(0,i.zw)(e.$t("download_report_as_xlsx")),1)])),_:1})])),_:1},8,["onClick"])]),(0,s.Wm)(m),(0,s._)("div",j,[(0,s._)("div",Y,[(0,s.Uk)((0,i.zw)(e.$t("changed_fields"))+" ",1),(0,s.Wm)(_,{color:"primary",name:"help",size:"xs",style:{"margin-left":"8px","margin-bottom":"3px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s._)("div",Q,(0,i.zw)(e.$t("pages.report.manual_changed_fields")),1)])),_:1})])),_:1})])]),T,0==this.chartData.length?((0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("div",U,(0,i.zw)(e.$t("pages.report.no_data_entries_timeframe")),1)])):(0,s.kq)("",!0),(0,s.Wm)(m),(0,s._)("div",O,[(0,s.Wm)(g,{flat:"",bordered:"",class:"col-4",style:{width:"30%","min-height":"70px","max-height":"400px","overflow-y":"auto"}},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{"header-class":"text-weight-bold text-h6 q-pa-md","switch-toggle-side":"","header-style":"min-height: 70px","expand-icon":"add","expanded-icon":"remove",label:e.$t("pages.report.total_documents_per_type")},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",B,[(0,s._)("div",P,(0,i.zw)(e.$t("doc_type")),1),(0,s._)("div",E,(0,i.zw)(e.$t("data_amount")),1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.document_stats.doc_types,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s._)("div",V,[(0,s._)("div",L,[(0,s._)("div",K,[(0,s._)("div",{onClick:t=>e.flipShowParts(a.toString(),this.showSubDoctypesTotal)},[e.showSubDoctypesTotal[a]&&e.document_stats.doc_types[a].length>1?((0,s.wg)(),(0,s.j4)(_,{key:0,name:"remove",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"16px"}})):e.document_stats.doc_types[a].length>1?((0,s.wg)(),(0,s.j4)(_,{key:1,name:"add",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"16px"}})):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,i.zw)(a),1)],8,M)])]),(0,s._)("div",F,(0,i.zw)(t["total"]),1)]),e.showSubDoctypesTotal[a]?((0,s.wg)(),(0,s.iD)("div",N,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.document_stats.doc_types.key,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},["total"!=t?((0,s.wg)(),(0,s.iD)("div",X,[(0,s._)("div",J,(0,i.zw)(t),1),(0,s._)("div",G,(0,i.zw)(e),1)])):(0,s.kq)("",!0)])))),128))])):(0,s.kq)("",!0)])))),128))])),_:1})])),_:1},8,["label"])])),_:1}),(0,s.Wm)(g,{flat:"",bordered:"",class:"col-4",style:{width:"36.35%","min-height":"70px","max-height":"400px","overflow-y":"auto"}},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{"header-class":"text-weight-bold text-h6 q-pa-md","switch-toggle-side":"","header-style":"min-height: 70px","expand-icon":"add","expanded-icon":"remove",label:e.$t("pages.report.daily_average_per_doctype")},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",ee,[(0,s._)("div",te,(0,i.zw)(e.$t("doc_type")),1),(0,s._)("div",ae,(0,i.zw)(e.$t("data_amount")),1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.document_stats.average_documents,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s._)("div",se,[(0,s._)("div",le,[(0,s._)("div",{onClick:t=>e.flipShowParts(a.toString(),this.showSubDoctypesAverage)},[e.showSubDoctypesAverage[a]&&e.document_stats.average_documents[a].length>1?((0,s.wg)(),(0,s.j4)(_,{key:0,name:"remove",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"12px"}})):e.document_stats.average_documents[a].length>1?((0,s.wg)(),(0,s.j4)(_,{key:1,name:"add",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"12px"}})):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,i.zw)(e.$t(a)),1)],8,oe)]),(0,s._)("div",ie,(0,i.zw)(t["total"]),1)]),e.showSubDoctypesAverage[a]?((0,s.wg)(),(0,s.iD)("div",re,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t},["total"!=t?((0,s.wg)(),(0,s.iD)("div",de,[ne,(0,s._)("div",ce,(0,i.zw)(t),1),(0,s._)("div",_e,(0,i.zw)(e),1)])):(0,s.kq)("",!0)])))),128))])):(0,s.kq)("",!0)])))),128))])),_:1})])),_:1},8,["label"])])),_:1}),(0,s.Wm)(g,{flat:"",bordered:"",class:"col-4",style:{width:"30%","min-height":"70px","max-height":"400px","overflow-y":"auto"}},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{"header-class":"text-weight-bold text-h6 q-pa-md","switch-toggle-side":"","header-style":"min-height: 70px","expand-icon":"add","expanded-icon":"remove",label:e.$t("pages.report.status_statistics")},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s._)("div",he,[(0,s._)("div",pe,(0,i.zw)(e.$t("doc_type")),1),(0,s._)("div",ue,(0,i.zw)(e.$t("status")),1),(0,s._)("div",ge,(0,i.zw)(e.$t("data_amount")),1),me]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.document_stats.status,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a,style:{"margin-top":"5px"}},[(0,s._)("div",we,[(0,s._)("div",ve,[(0,s._)("div",null,(0,i.zw)(e.$t(a)),1)]),(0,s._)("div",ye,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.status,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},["name"!=a?((0,s.wg)(),(0,s.iD)("div",fe,[(0,s._)("div",xe,(0,i.zw)(e.$t(a)),1),(0,s._)("div",be,(0,i.zw)(t),1),ke])):(0,s.kq)("",!0)])))),128))])]),De])))),128))])),_:1})])),_:1},8,["label"])])),_:1}),"get_average_org_user_validation_time"in e.report_overall_stats?((0,s.wg)(),(0,s.j4)(g,{key:0,flat:"",bordered:"",class:"col-4",style:{width:"30%","min-height":"70px","max-height":"400px","overflow-y":"auto"}},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{"header-class":"text-weight-bold text-h6 q-pa-md","switch-toggle-side":"","header-style":"min-height: 70px","expand-icon":"add","expanded-icon":"remove",label:e.$t("pages.report.average_user_time_per_org")},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.report_overall_stats.get_average_org_user_validation_time,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{"header-class":"dropdown-heading","switch-toggle-side":"",dense:"","expand-icon":"add","expanded-icon":"remove",label:a},{default:(0,s.w5)((()=>[t.length>0?((0,s.wg)(),(0,s.iD)("div",qe,[(0,s._)("div",ze,[(0,s._)("div",We,(0,i.zw)(e.$t("pages.user.user")),1),(0,s._)("div",He,(0,i.zw)(e.$t("doc2light.table.type")),1),(0,s._)("div",$e,(0,i.zw)(e.$t("pages.report.time")),1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[0!=t["total"]?((0,s.wg)(),(0,s.iD)("div",Se,[(0,s._)("div",Ce,[e.showOrgUserTimeAverage[a.toString()]?((0,s.wg)(),(0,s.j4)(_,{key:0,name:"remove",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"16px"}})):((0,s.wg)(),(0,s.j4)(_,{key:1,name:"add",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"16px"}})),(0,s.Uk)(" "+(0,i.zw)(a),1)]),(0,s._)("div",Ze,(0,i.zw)(e.$t("pages.receipt.total")),1),(0,s._)("div",Ie,(0,i.zw)(t["total"]),1)])):(0,s.kq)("",!0),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("div",Re,[je,(0,s._)("div",Ye,(0,i.zw)(t["name"]),1),(0,s._)("div",Qe,(0,i.zw)(t["time"])+" "+(0,i.zw)(e.$t("sec")),1)])])))),128))])])))),128)),Te])):((0,s.wg)(),(0,s.iD)("div",Ae,[(0,s._)("div",Ue,(0,i.zw)(e.$t("pages.report.no_data_entries_timeframe")),1)]))])),_:2},1032,["label"])])),_:2},1024)])))),128))])),_:1})])),_:1},8,["label"])])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(g,{flat:"",bordered:"",class:"col-8",style:{width:"36.35%","min-height":"70px","max-height":"400px","overflow-y":"auto"}},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{"header-class":"text-weight-bold text-h6 q-pa-md","switch-toggle-side":"","header-style":"min-height: 70px","expand-icon":"add","expanded-icon":"remove",label:e.$t("pages.report.export_statistic")},{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.document_stats.exports,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{"header-class":"dropdown-heading","switch-toggle-side":"",dense:"","expand-icon":"add","expanded-icon":"remove",label:a},{default:(0,s.w5)((()=>[(0,s._)("div",Oe,[(0,s._)("div",Be,[(0,s._)("div",Pe,(0,i.zw)(e.$t("pages.user.user")),1),(0,s._)("div",Ee,(0,i.zw)(e.$t("doc2light.table.type")),1),(0,s._)("div",Ve,(0,i.zw)(e.$t("exported")),1),e.showrejectstatus?((0,s.wg)(),(0,s.iD)("div",Le,(0,i.zw)(e.$t("rejected")),1)):(0,s.kq)("",!0),e.showsonderwunschstatus?((0,s.wg)(),(0,s.iD)("div",Ke,(0,i.zw)(e.$t("sonderwunsch_export")),1)):(0,s.kq)("",!0)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t},[(0,s._)("div",Me,[(0,s._)("div",{class:"col-4",onClick:a=>e.flipShowParts(t.username,this.showExportUser)},[e.showExportUser[t.username]&&e.doctypes in t?((0,s.wg)(),(0,s.j4)(_,{key:0,name:"remove",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"12px"}})):e.doctypes in t?((0,s.wg)(),(0,s.j4)(_,{key:1,name:"add",color:"red",class:"q-pr-sm q-pl-sm",style:{"font-size":"12px"}})):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,i.zw)(t.username),1)],8,Fe),(0,s._)("div",Ne,(0,i.zw)(e.$t("total")),1),(0,s._)("div",Xe,(0,i.zw)(t.total.export_amount),1),e.showRejected(t.total.reject_amount)?((0,s.wg)(),(0,s.iD)("div",Je,(0,i.zw)(t.total.reject_amount),1)):(0,s.kq)("",!0),e.showSonderwunsch(t.total.sonderwunsch_amount)?((0,s.wg)(),(0,s.iD)("div",Ge,(0,i.zw)(t.total.sonderwunsch_amount),1)):(0,s.kq)("",!0)]),e.showExportUser[t.username]?((0,s.wg)(),(0,s.iD)("div",et,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.doctypes,(a=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s._)("div",tt,[at,(0,s._)("div",st,(0,i.zw)(a.name),1),(0,s._)("div",lt,(0,i.zw)(a.total.export_amount),1),e.showRejected(t.total.reject_amount)?((0,s.wg)(),(0,s.iD)("div",ot,(0,i.zw)(a.total.reject_amount),1)):(0,s.kq)("",!0),e.showSonderwunsch(t.total.sonderwunsch_amount)?((0,s.wg)(),(0,s.iD)("div",it,(0,i.zw)(a.total.sonderwunsch_amount),1)):(0,s.kq)("",!0)])])))),128))])):(0,s.kq)("",!0)])))),128))])])),_:2},1032,["label"])])),_:2},1024)])))),128))])),_:1})])),_:1},8,["label"])])),_:1}),"average_suborg_validation_time"in e.report_overall_stats?((0,s.wg)(),(0,s.j4)(g,{key:1,flat:"",bordered:"",class:"col-4",style:{width:"30%","min-height":"70px","max-height":"400px","overflow-y":"auto"}},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{"header-class":"text-weight-bold text-h6 q-pa-md","switch-toggle-side":"","header-style":"min-height: 70px","expand-icon":"add","expanded-icon":"remove",label:e.$t("pages.report.average_time_per_sub_org")},{default:(0,s.w5)((()=>[e.report_overall_stats.average_suborg_validation_time.length>0?((0,s.wg)(),(0,s.j4)(u,{key:0},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.report_overall_stats.average_suborg_validation_time,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{key:a},[(0,s._)("div",rt,[(0,s._)("div",dt,(0,i.zw)(e.$t(a)),1),(0,s._)("div",nt,(0,i.zw)(t),1)])])))),128))])),_:1})):((0,s.wg)(),(0,s.j4)(u,{key:1},{default:(0,s.w5)((()=>[(0,s._)("div",ct,(0,i.zw)(e.$t("pages.report.no_data_entries_timeframe")),1)])),_:1}))])),_:1},8,["label"])])),_:1})):(0,s.kq)("",!0)]),(0,s.Wm)(v,{showing:e.loading},{default:(0,s.w5)((()=>[_t])),_:1},8,["showing"])],64)}var pt=a(61959),ut=a(10321),gt=a(60727),mt=a(25616),wt=a(48825),vt=a(80579),yt=a(59835),ft=a.n(yt),xt=a(77378),bt=a(29938),kt=a(91777),Dt=function(e,t,a,s){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function i(e){try{d(s.next(e))}catch(t){o(t)}}function r(e){try{d(s["throw"](e))}catch(t){o(t)}}function d(e){e.done?a(e.value):l(e.value).then(i,r)}d((s=s.apply(e,t||[])).next())}))};const qt=(0,s.aZ)({components:{},mixins:[xt.Z,kt.Z],beforeRouteLeave:function(e,t,a){a()},watch:{selected_date_range:{handler:function(e,t){this.selected_date_range_prev=t}}},data(){return{saved_requests:(0,pt.iH)([]),fullWidthImageIndex:null,showBigImage:!1,bigImage:"",chartData:(0,pt.iH)([]),chart:(0,pt.iH)(null),showParts:(0,pt.iH)({}),showSubDoctypesAverage:(0,pt.iH)({}),showSubDoctypesTotal:(0,pt.iH)({}),showOrgUserTimeAverage:(0,pt.iH)({}),showSubDoctypesStatus:(0,pt.iH)({}),showOrgTimeAverage:(0,pt.iH)({}),showExportUser:(0,pt.iH)({}),showExportOrg:(0,pt.iH)({}),showrejectstatus:!1,showsonderwunschstatus:!1}},computed:{board_date:function(){return"custom"===this.selected_date_range?this.custom_date_range.from+" - "+this.custom_date_range.to:"Last "+this.selected_date_range+" days"},selected_doc_type_label:function(){const e=this.getSelectedDocType();return 0===(0,bt.v7)(e)?"":String(e.label)},average_time_spent:function(){let e=0;return"All"===this.selected_doc_type&&this.hasBoardInfo("average_time_spent")&&(e=this.report_overall_stats.average_time_spent),"All"!==this.selected_doc_type&&this.hasDocBoardInfo("average_time_spent")&&(e=this.report_document.average_time_spent),Math.round(e)}},mounted(){this.initView();const e=(0,wt.Z)();(0,s.YP)((()=>e.dark.isActive),(e=>{this.clearChart(),this.renderChart()}))},methods:{initView(){this.setDate(),this.getReport()},prepareChartData(){let e=[];return this.changed_field_stats.forEach((t=>{if(1==t.value)return;const a={x:this.getLabelForFormBuilder(t,"form_builder.",!0),y:t.value};e.push(a)})),e.length>15&&(e=e.slice(0,15)),this.chartData=e,e},clearChart(){if(this.chart){var e=document.getElementById("chart");e&&e.remove();var t=document.getElementById("chart-container");t&&(t.innerHTML='<div id="chart"></div>')}},renderChart(){const e=this.prepareChartData();if(0!=this.chartData.length){var t={chart:{type:"bar",height:"400"},theme:{mode:1==this.$q.dark.isActive?"dark":"light",palette:"palette1"},plotOptions:{bar:{horizontal:!0}},series:[{data:e}]};this.chart=new(ft())(document.querySelector("#chart"),t),this.chart.render()}},setDate(){const e=Number(this.selected_date_range),t=new Date,a=new Date,s=t.setDate(t.getDate()-e),l=mt.ZP.formatDate(s,"YYYY/MM/DD"),o=mt.ZP.formatDate(a,"YYYY/MM/DD");this.custom_date_range={from:l,to:o},this.dropdown_store.custom_date_range=this.custom_date_range},getReport(){return Dt(this,void 0,void 0,(function*(){try{this.loading=!0,this.dropdown_store.custom_date_range=this.custom_date_range;const e=Object.assign({start_date:this.custom_date_range.from.replace(/\//g,"-"),end_date:this.custom_date_range.to.replace(/\//g,"-")},this.getDocTypeParams()),t=yield vt.pq.getReport(e);if(!1===t.success)throw t;this.report_overall_stats=t.overall_stats,this.document_stats=t.document_stats,t.hasOwnProperty("document")&&(this.report_document=t.document),this.setChangedFieldStats()}catch(e){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.loading=!1}}))},downloadReport(){return Dt(this,void 0,void 0,(function*(){try{this.loading=!0,this.dropdown_store.custom_date_range=this.custom_date_range;const e=Object.assign({start_date:this.custom_date_range.from.replace(/\//g,"-"),end_date:this.custom_date_range.to.replace(/\//g,"-")},this.getDocTypeParams()),t=yield vt.pq.getReportAsXLSX(e),a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download","Report.xlsx"),document.body.appendChild(s),s.click(),s.remove()}catch(e){this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}finally{this.loading=!1}}))},getImageClass(e){return{fullWidthImage:this.fullWidthImageIndex===e}},onImageClick(e){this.fullWidthImageIndex===e?this.fullWidthImageIndex=null:this.fullWidthImageIndex=e},flipShowParts(e,t){t.hasOwnProperty(e)?t[e]=!t[e]:t[e]=!0},showTheBigImage(e){this.showBigImage=!0,this.bigImage=e.image},getDocTypeParams(){const e={};if("All"===this.selected_doc_type)return e;const t=this.getSelectedDocType();return 0===(0,bt.v7)(t)||(e["doc_type"]=this.selected_doc_type,!1===t.is_parent&&(e["is_sub_doc_type"]="true")),e},getSelectedDocType(){const e=this.active_doc_types_sub_types_list.filter((e=>e.value.indexOf(this.selected_doc_type)>-1));return e.length>0?e[0]:{}},setChangedFieldStats(){let e=this.report_overall_stats.field_stats;"All"!==this.selected_doc_type&&(e=this.report_document.field_stats),this.changed_field_stats=[];for(const[t,a]of Object.entries(e)){const e=a,s=e.total-e.correct;s<=0||this.changed_field_stats.push({field_name:t,value:e.total-e.correct})}this.changed_field_stats.sort(((e,t)=>e.value<t.value?1:-1)),this.renderChart()},hasBoardInfo(e){return!!this.report_overall_stats.hasOwnProperty(e)},hasDocBoardInfo(e){return 0!==(0,bt.v7)(this.report_document)&&!!this.report_document.hasOwnProperty(e)},docTypeSelected(){this.selected_doc_type||(this.selected_doc_type="All"),this.getReport()},dateRangeCalenderSelected(){this.custom_range_selected=!0,this.selected_date_range="custom",this.clearChart(),this.getReport()},dateRangeOptionSelected(){if("custom"===this.selected_date_range)return this.selected_date_range=this.selected_date_range_prev,void(this.show_calender=!0);this.setDate(),this.clearChart(),this.getReport()},showMoreBtnClicked(){setTimeout((()=>{this.show_more_fields?this.$refs["more_fields"].hide():this.$refs["more_fields"].show()}),0)},showRejected(e){return 0!=e&&(this.showrejectstatus=!0,!0)},showSonderwunsch(e){return 0!=e&&(this.showsonderwunschstatus=!0,!0)}},setup(){const e=(0,gt.At)(),{active_doc_types_sub_types_list:t}=(0,ut.Jk)(e);return{dropdown_store:e,active_doc_types_sub_types_list:t,selected_doc_type:(0,pt.iH)("All"),selected_date_range:(0,pt.iH)("30"),selected_date_range_prev:(0,pt.iH)("30"),custom_date_range:(0,pt.iH)({from:"",to:""}),report_overall_stats:(0,pt.iH)({}),document_stats:(0,pt.iH)({}),report_document:(0,pt.iH)({}),show_calender:(0,pt.iH)(!1),custom_range_selected:(0,pt.iH)(!1),loading:(0,pt.iH)(!1),changed_field_stats:(0,pt.iH)([]),show_more_fields:(0,pt.iH)(!1),date_range_options:[{label:"Last 7 days",value:"7"},{label:"Last 30 days",value:"30"},{label:"Select Date-Range",value:"custom"}]}}});var zt=a(72448),Wt=a(24554),Ht=a(83944),$t=a(85626),St=a(83414),Ct=a(52035),Zt=a(2350),It=a(10151),Rt=a(5363),jt=a(25589),Yt=a(65869),Qt=a(60429),Tt=a(64689),At=a(66941),Ut=a(46778),Ot=a(99367),Bt=a(86115),Pt=a(15607),Et=a(60677);const Vt=(0,g.Z)(qt,[["render",ht],["__scopeId","data-v-aff799ea"]]),Lt=Vt;x()(qt,"components",{QSelect:zt.Z,QIcon:Wt.Z,QPopupProxy:Ht.Z,QDate:$t.Z,QBtn:y.Z,QItem:St.Z,QItemSection:Ct.Z,QItemLabel:Zt.Z,QCard:It.Z,QTooltip:Rt.Z,QCardSection:jt.Z,QSeparator:Yt.Z,QExpansionItem:Qt.Z,QInput:Tt.Z,QInnerLoading:At.Z,QDialog:Ut.Z,QCardActions:Ot.Z,QField:Bt.Z,QBanner:Pt.Z}),x()(qt,"directives",{ClosePopup:Et.Z});const Kt=(0,s.aZ)({el:"#app",components:{SubHeader:k,Boards:Lt},setup(){return{}},data(){return{showChat:!1}},mounted(){this.initView()},methods:{initView(){}}});var Mt=a(52901);const Ft=(0,g.Z)(Kt,[["render",o]]),Nt=Ft;x()(Kt,"components",{QBtn:y.Z,QDrawer:Mt.Z})}}]);