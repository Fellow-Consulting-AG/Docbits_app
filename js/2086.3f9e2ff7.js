"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[2086],{92086:(e,t,o)=>{o.r(t),o.d(t,{default:()=>z});var i=o(61758);const l={id:"services",class:"services section-bg"},s={class:"row"},n={class:"col-11",style:{padding:"20px","margin-left":"50px"}};function r(e,t,o,r,a,c){const d=(0,i.g2)("Correspondent_Middle");return(0,i.uX)(),(0,i.CE)("section",l,[(0,i.Lk)("div",s,[(0,i.Lk)("div",n,[(0,i.bF)(d)])])])}var a=o(24622),c=o(38734),d=o(18505),p=o(58790),h=o(29104);const u={class:"row text-weight-bolder top-row"},_={class:"full-width",style:{"margin-top":"10px"}},b={style:{"text-align":"left",color:"white"}},k={style:{"max-height":"50vh",overflow:"scroll"}},f={style:{width:"100px"}},m=["onClick"],w=["onClick"],g=["onClick"],v=["onClick"];function C(e,t,o,l,s,n){const r=(0,i.g2)("q-input"),a=(0,i.g2)("q-space"),c=(0,i.g2)("DefaultBtn"),d=(0,i.g2)("q-checkbox"),C=(0,i.g2)("DeleteQfab"),y=(0,i.g2)("q-fab"),x=(0,i.g2)("q-markup-table"),F=(0,i.g2)("EditCreatePopup"),A=(0,i.g2)("q-dialog");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",u,[(0,i.bF)(r,{style:{width:"40%"},outlined:"",dense:"",debounce:"500",modelValue:e.filter,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.filter=t),e.applyFilter],label:e.$t("name")},null,8,["modelValue","label","onUpdate:modelValue"]),(0,i.bF)(a),(0,i.bF)(c,{label:e.$t("doc2light.pages.add"),onClick:t[1]||(t[1]=t=>e.show_add_corresp_popup=!0)},null,8,["label"])]),(0,i.Lk)("div",_,[(0,i.bF)(x,{class:"sticky-column-for-table q-table-seperator white-back",style:{"max-height":"70vh","overflow-y":"auto"},flat:"",dense:""},{default:(0,i.k6)((()=>[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",b,[(0,i.Lk)("th",null,[(0,i.bF)(d,{dark:"",modelValue:e.headerCheckbox,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.headerCheckbox=t),t[3]||(t[3]=t=>e.changeAction())]},null,8,["modelValue"]),(0,i.bF)(y,{flat:"",modelValue:e.headerFabIcon,"onUpdate:modelValue":t[4]||(t[4]=t=>e.headerFabIcon=t),disable:e.selection.length<1,"label-position":"top","data-cy":"actions","external-label":"",icon:"more_vert",direction:"down",padding:"xs"},{default:(0,i.k6)((()=>[(0,i.bF)(C,{info:e.$t("doc2light.pages.assignee"),tooltip:e.$t("delete"),function:e.deleteMarked,argument:e.selection},null,8,["info","tooltip","function","argument"])])),_:1},8,["modelValue","disable"])]),(0,i.Lk)("th",null,(0,p.v_)(e.$t("doc2light.table.name")),1),(0,i.Lk)("th",null,(0,p.v_)(e.$t("priority")),1),(0,i.Lk)("th",null,(0,p.v_)(e.$t("doc2light.table.regex_rythm")),1),(0,i.Lk)("th",null,(0,p.v_)(e.$t("doc2light.table.regex")),1)])]),(0,i.Lk)("tbody",k,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.corresp_list,(t=>((0,i.uX)(),(0,i.CE)("tr",{key:t},[(0,i.Lk)("td",f,[(0,i.bF)(d,{modelValue:t.rowSelection,"onUpdate:modelValue":[e=>t.rowSelection=e,o=>e.selectionList(t)]},null,8,["modelValue","onUpdate:modelValue"])]),(0,i.Lk)("td",{onClick:o=>e.onEditClick(t.id)},(0,p.v_)(e.replaceEmpty(t["name"])),9,m),(0,i.Lk)("td",{onClick:o=>e.onEditClick(t.id)},(0,p.v_)(e.replaceEmpty(t["priority"])),9,w),(0,i.Lk)("td",{onClick:o=>e.onEditClick(t.id)},(0,p.v_)(e.replaceEmpty(t["method"])),9,g),(0,i.Lk)("td",{onClick:o=>e.onEditClick(t.id)},(0,p.v_)(e.replaceEmpty(t["regex"])),9,v)])))),128))])])),_:1})]),(0,i.bF)(A,{modelValue:e.show_add_corresp_popup,"onUpdate:modelValue":t[5]||(t[5]=t=>e.show_add_corresp_popup=t),onKeydown:t[6]||(t[6]=(0,h.jR)((t=>(e.show_add_corresp_popup=!1,e.initView())),["esc"]))},{default:(0,i.k6)((()=>[(0,i.bF)(F,{show:"corresp",mode:"create"})])),_:1},8,["modelValue"]),(0,i.bF)(A,{modelValue:e.show_edit_corresp_popup,"onUpdate:modelValue":t[7]||(t[7]=t=>e.show_edit_corresp_popup=t),onKeydown:t[8]||(t[8]=(0,h.jR)((t=>(e.show_edit_corresp_popup=!1,e.initView())),["esc"]))},{default:(0,i.k6)((()=>[(0,i.bF)(F,{show:"corresp",mode:"edit",id:e.corresp_id},null,8,["id"])])),_:1},8,["modelValue"])],64)}var y=o(36246),x=o(63008),F=o(46162),A=o(1659),L=o(31123),V=o(77670),R=o(93760),K=function(e,t,o,i){function l(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,s){function n(e){try{a(i.next(e))}catch(t){s(t)}}function r(e){try{a(i["throw"](e))}catch(t){s(t)}}function a(e){e.done?o(e.value):l(e.value).then(n,r)}a((i=i.apply(e,t||[])).next())}))};const E=(0,i.pM)({data(){return{showIcons:!1,supportURL:F.cK}},mounted(){this.initView()},mixins:[d.A],components:{DeleteQfab:R.A,DefaultBtn:L.A,EditCreatePopup:V.A},methods:{replaceEmpty(e){return e&&"undefined"!=e||(e="-"),e},initView(){return K(this,void 0,void 0,(function*(){yield this.setCorrespondentsFromServer(),this.corresp_list=this.apidata.correspondentData.data}))},formateDate(e,t){return y.Ay.formatDate(e,t)},onEditClick(e){this.corresp_id=e,this.show_edit_corresp_popup=!0},handleActions(e){this.corresp_list[e].fabaction,this.corresp_list[e].fabaction},applyFilter(){if(""==this.filter)this.corresp_list=this.apidata.correspondentData.data;else{this.corresp_list={};for(const[e,t]of Object.entries(this.apidata.correspondentData.data))t.name.toLowerCase().includes(this.filter.toLowerCase())&&(this.corresp_list[e]=this.apidata.correspondentData.data[e])}},deleteMarked(e){this.showLoading(),e.forEach((e=>K(this,void 0,void 0,(function*(){yield this.delete_correspondent(e)})))),this.corresp_skip=0,this.hideLoading()},selectionList(e){const t=this.selection.indexOf(e.id);t>-1?(this.selection.splice(t,1),this.corresp_list[e.id].rowSelection=!1,this.selection.length<1&&(this.headerFabIcon=!1)):(this.selection.push(e.id),this.corresp_list[e.id].rowSelection=!0)},changeAction(){!0===this.headerCheckbox?this.selectAllRows():(this.resetAllSelectedRows(),this.headerFabIcon=!1)},selectAllRows(){this.headerCheckbox=!0;for(const[e,t]of Object.entries(this.corresp_list))this.corresp_list[e].rowSelection=!0,this.selection.push(e)},resetAllSelectedRows(){this.selection=[],this.headerCheckbox=!1;for(const[e,t]of Object.entries(this.corresp_list))this.corresp_list[e].rowSelection=!1}},setup(){const e=(0,x.GX)(),t=(0,A.bP)(e),{setCorrespondentsFromServer:o,delete_correspondent:i}=e;return{apidata:(0,c.KR)(t),filter:(0,c.KR)(""),corresp_list:(0,c.KR)({}),view:(0,c.KR)("list"),show_add_corresp_popup:(0,c.KR)(!1),show_edit_corresp_popup:(0,c.KR)(!1),setCorrespondentsFromServer:o,delete_correspondent:i,corresp_id:(0,c.KR)(),selection:(0,c.KR)([]),headerCheckbox:(0,c.KR)(!1),headerFabIcon:(0,c.KR)(!1),corresp_skip:(0,c.KR)(1)}}});var S=o(12807),D=o(67837),I=o(93676),Q=o(857),U=o(42315),M=o(80460),$=o(54782),q=o(82156),j=o(98582),X=o.n(j);const O=(0,S.A)(E,[["render",C]]),P=O;X()(E,"components",{QInput:D.A,QSpace:I.A,QMarkupTable:Q.A,QTable:U.A,QCheckbox:M.A,QFab:$.A,QDialog:q.A});const T=(0,i.pM)({data(){return{}},components:{Correspondent_Middle:P},mixins:[d.A,a.A],setup(){return{filter:(0,c.KR)(""),view:(0,c.KR)("list"),showMenu:(0,c.KR)(!1),showIcons:(0,c.KR)(!0)}}});var B=o(56384);const G=(0,S.A)(T,[["render",r],["__scopeId","data-v-94168c16"]]),z=G;X()(T,"components",{QBtn:B.A})}}]);