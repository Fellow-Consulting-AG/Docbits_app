"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[1244],{31244:(e,l,t)=>{t.r(l),t.d(l,{default:()=>de});var a=t(61758),n=t(29104),o=t(58790);const s=e=>((0,a.Qi)("data-v-87e0d5b2"),e=e(),(0,a.jt)(),e),i={id:"services"},d={class:"row"},r={class:"col-9",style:{"margin-top":"2vh"}},c={class:"drag-area text-center full-width",style:{padding:"20px"},id:"box-droppable"},u={style:{width:"300px",margin:"auto"},align:"center"},p={style:{padding:"10px",width:"100%"}},h={style:{"font-size":"20px"}},g={class:"",style:{padding:"10px","margin-bottom":"10px",width:"100%"}},w={class:"q-card-heading text-h3"},b={class:"row",style:{"margin-top":"50px"}},_=s((()=>(0,a.Lk)("div",{class:"col-3"},null,-1))),v={class:"col-1 text-center"},m={class:"col-1 text-center"},f={class:"col-2 text-center"},k={class:"col-1 text-center"},y={class:"col-1 text-center"},x={key:2,style:{height:"75vh","overflow-y":"auto",padding:"20px","margin-left":"68px",border:"2px solid #000000"}},F={class:"col-2",style:{"margin-top":"2vh"}},L={class:"popup-heading"},D={class:"row text-center"},A={key:0,style:{"margin-top":"5px"}},V={class:"scanner-error text-uppercase"};function R(e,l,t,s,R,I){const K=(0,a.g2)("DownloadInstaller"),$=(0,a.g2)("q-dialog"),S=(0,a.g2)("q-img"),C=(0,a.g2)("q-file"),Q=(0,a.g2)("q-card-section"),q=(0,a.g2)("q-card"),T=(0,a.g2)("q-toolbar-title"),U=(0,a.g2)("q-icon"),z=(0,a.g2)("q-btn"),B=(0,a.g2)("q-card-actions"),P=(0,a.g2)("vue-pdf-embed"),W=(0,a.g2)("q-separator"),X=(0,a.g2)("q-toolbar"),E=(0,a.g2)("q-input"),G=(0,a.g2)("q-tooltip"),j=(0,a.g2)("q-item-section"),M=(0,a.g2)("q-item"),O=(0,a.g2)("q-select"),H=(0,a.g2)("q-checkbox"),N=(0,a.g2)("DocSplit");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)($,{modelValue:e.showDownloadInstaller,"onUpdate:modelValue":l[0]||(l[0]=l=>e.showDownloadInstaller=l),onKeydown:l[1]||(l[1]=(0,n.jR)((l=>e.showDownloadInstaller=!1),["esc"]))},{default:(0,a.k6)((()=>[(0,a.bF)(K)])),_:1},8,["modelValue"]),(0,a.Lk)("section",i,[(0,a.Lk)("div",d,[(0,a.Lk)("div",r,[e.showDragnDrop?((0,a.uX)(),(0,a.Wv)(q,{key:0,flat:"",class:"drag-n-drop highlighted-back",onDrop:e.drop,onDragover:e.allowDrop,onDragleave:e.dragLeave},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{style:{border:"2px dashed",height:"100%"}},{default:(0,a.k6)((()=>[(0,a.Lk)("div",c,[(0,a.bF)(S,{src:"doc2light/scanner/cloud.svg",style:{height:"240px",width:"700px","margin-top":"10%"}}),(0,a.Lk)("div",u,[(0,a.Lk)("div",p,[(0,a.Lk)("span",h,(0,o.v_)(e.$t("doc2light.pages.dragndrop")),1)]),(0,a.Lk)("div",g,(0,o.v_)(e.$t("doc2light.pages.or")),1),(0,a.bF)(C,{"bg-color":"primary",multiple:"",standout:"",label:e.$t("doc2light.pages.browse_files"),modelValue:e.uploadedFiles,"onUpdate:modelValue":[l[2]||(l[2]=l=>e.uploadedFiles=l),e.uploadFiles],"data-cy":"upload-multiple-docs",style:{width:"60%"}},null,8,["label","modelValue","onUpdate:modelValue"])])])])),_:1})])),_:1},8,["onDrop","onDragover","onDragleave"])):(0,a.Q3)("",!0),e.showInstaller?((0,a.uX)(),(0,a.Wv)(q,{key:1,flat:"",class:"drag-n-drop"},{default:(0,a.k6)((()=>[(0,a.bF)(Q,{style:{"margin-top":"16%"}},{default:(0,a.k6)((()=>[(0,a.bF)(T,{class:"text-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",w,(0,o.v_)(e.$t("doc2light.pages.download_scan_installer")),1)])),_:1}),(0,a.Lk)("div",b,[_,(0,a.Lk)("div",v,[(0,a.bF)(S,{src:"doc2light/download-13.svg",height:"70px",width:"70px",class:"black_to_white"}),(0,a.Lk)("div",null,(0,o.v_)(e.$t("download")),1)]),(0,a.Lk)("div",m,[(0,a.bF)(U,{name:"double_arrow",size:"40px",style:{"margin-top":"1.5vh"}})]),(0,a.Lk)("div",f,[(0,a.bF)(S,{src:"doc2light/ordner-12.svg",height:"70px",width:"80px",class:"black_to_white"}),(0,a.Lk)("div",null,(0,o.v_)(e.$t("doc2light.pages.installing")),1)]),(0,a.Lk)("div",k,[(0,a.bF)(U,{name:"double_arrow",size:"40px",style:{"margin-top":"1.5vh"}})]),(0,a.Lk)("div",y,[(0,a.bF)(S,{src:"doc2light/icons-menu_Scan.svg",height:"70px",width:"70px",class:"black_to_white"}),(0,a.Lk)("div",null,(0,o.v_)(e.$t("doc2light.pages.scan")),1)])])])),_:1}),(0,a.bF)(B,{align:"center"},{default:(0,a.k6)((()=>[(0,a.bF)(z,{rounded:"",unelevated:"",class:"background-gradient download-button",label:e.$t("Windows"),size:"15px",icon:"window",onClick:l[3]||(l[3]=l=>e.downloadInstaller("https://github.com/Fellow-Consulting-AG/Public-Doc2scanner/releases/latest/download/doc2scan-windows-installer.msi"))},null,8,["label"]),(0,a.bF)(z,{rounded:"",unelevated:"",class:"background-gradient download-button",label:e.$t("MacOS"),size:"15px",icon:"apple",onClick:l[4]||(l[4]=l=>e.downloadInstaller("https://github.com/Fellow-Consulting-AG/Public-Doc2scanner/releases/latest/download/doc2scan-macos-installer-x64.pkg "))},null,8,["label"])])),_:1})])),_:1})):(0,a.Q3)("",!0),e.showPDF?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.bF)(P,{ref:"pager",source:e.file},null,8,["source"])])):(0,a.Q3)("",!0)]),(0,a.bF)(W,{vertical:"",color:"black",style:{"margin-left":"30px","margin-right":"30px","min-height":"89vh"}}),(0,a.Lk)("div",F,[(0,a.Lk)("div",null,[(0,a.bF)(q,{class:"card-format highlighted-back",flat:""},{default:(0,a.k6)((()=>[(0,a.bF)(X,null,{default:(0,a.k6)((()=>[(0,a.bF)(T,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",L,(0,o.v_)(e.$t("doc2light.pages.scan_settings")),1)])),_:1})])),_:1}),(0,a.bF)(Q,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.bF)(E,{modelValue:e.new_scan["name"],"onUpdate:modelValue":l[5]||(l[5]=l=>e.new_scan["name"]=l),label:e.$t("name")},null,8,["modelValue","label"])]),(0,a.Lk)("div",D,[(0,a.bF)(O,{style:{"min-width":"15vw"},modelValue:e.new_scan["source"],"onUpdate:modelValue":l[7]||(l[7]=l=>e.new_scan["source"]=l),label:e.$t("doc2light.pages.choose_source"),options:e.scanners},{after:(0,a.k6)((()=>[(0,a.bF)(z,{unelevated:"",round:"",icon:"restart_alt",onClick:l[6]||(l[6]=l=>e.getScanners(e.valid_url))},{default:(0,a.k6)((()=>[(0,a.bF)(G,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("doc2light.pages.search_scanners")),1)])),_:1})])),_:1})])),"no-option":(0,a.k6)((()=>[(0,a.bF)(M,null,{default:(0,a.k6)((()=>[(0,a.bF)(j,null,{default:(0,a.k6)((()=>[(0,a.eW)(" No results ")])),_:1})])),_:1})])),_:1},8,["modelValue","label","options"])]),e.showDownloadInstallerButton?((0,a.uX)(),(0,a.CE)("div",A,[(0,a.bF)(j,null,{default:(0,a.k6)((()=>[(0,a.Lk)("span",V,(0,o.v_)("! "+e.$t("directscan.no_scanner_found")),1)])),_:1})])):(0,a.Q3)("",!0),(0,a.Lk)("div",null,[(0,a.bF)(H,{modelValue:e.new_scan["automatic_get"],"onUpdate:modelValue":l[8]||(l[8]=l=>e.new_scan["automatic_get"]=l),"indeterminate-value":!1,label:e.$t("doc2light.pages.automatic_get")},null,8,["modelValue","label"])]),(0,a.Lk)("div",null,[(0,a.bF)(H,{modelValue:e.new_scan["remove_empty_sites"],"onUpdate:modelValue":l[9]||(l[9]=l=>e.new_scan["remove_empty_sites"]=l),"indeterminate-value":!1,label:e.$t("doc2light.pages.remove_empty_pages")},null,8,["modelValue","label"])]),(0,a.Lk)("div",null,[(0,a.bF)(H,{modelValue:e.new_scan["2_sided"],"onUpdate:modelValue":l[10]||(l[10]=l=>e.new_scan["2_sided"]=l),"indeterminate-value":!1,label:e.$t("doc2light.pages.two_side_scan")},null,8,["modelValue","label"])]),(0,a.Lk)("div",null,[(0,a.bF)(O,{modelValue:e.new_scan["resolution"],"onUpdate:modelValue":l[11]||(l[11]=l=>e.new_scan["resolution"]=l),label:e.$t("doc2light.pages.resolution"),options:e.resolutions},null,8,["modelValue","label","options"])]),(0,a.Lk)("div",null,[(0,a.bF)(O,{type:"multi",modelValue:e.new_scan["pixel_type"],"onUpdate:modelValue":l[12]||(l[12]=l=>e.new_scan["pixel_type"]=l),label:"Pixeltype",options:e.pixeltypes},null,8,["modelValue","options"])])])),_:1}),e.documentScanned?((0,a.uX)(),(0,a.Wv)(B,{key:0,align:"center",style:{}},{default:(0,a.k6)((()=>[(0,a.bF)(z,{unelevated:"",label:e.$t("doc2light.pages.scan"),"color:":"",size:"15px",style:{width:"5vw","margin-right":"20px","margin-bottom":"10px"},class:"btn-fixed-width inverted-button",onClick:l[13]||(l[13]=l=>e.doScan())},null,8,["label"]),(0,a.bF)(z,{unelevated:"",color:"primary",label:e.$t("doc2light.pages.upload"),size:"15px",style:{"min-width":"5vw"},class:"btn-fixed-width primary-button",onClick:l[14]||(l[14]=l=>e.uploadSingleFile(e.filedata))},null,8,["label"])])),_:1})):((0,a.uX)(),(0,a.Wv)(B,{key:1,align:"center",style:{"margin-right":"7px"}},{default:(0,a.k6)((()=>[(0,a.bF)(z,{unelevated:"",color:"primary",label:e.$t("doc2light.pages.scan"),size:"15px",style:{width:"5vw","margin-bottom":"20px"},class:"btn-fixed-width primary-button",onClick:e.doScan},null,8,["label","onClick"])])),_:1})),e.showSplitButton?((0,a.uX)(),(0,a.Wv)(B,{key:2,align:"center",class:"text-center"},{default:(0,a.k6)((()=>[(0,a.bF)(z,{style:{width:"11vw"},unelevated:"",color:"primary",class:"primary-button btn-fixed-width",label:e.$t("doc2light.pages.split"),onClick:l[15]||(l[15]=l=>e.show_popup=!0)},null,8,["label"])])),_:1})):(0,a.Q3)("",!0)])),_:1})]),(0,a.bF)($,{modelValue:e.show_popup,"onUpdate:modelValue":l[16]||(l[16]=l=>e.show_popup=l),onKeydown:l[17]||(l[17]=(0,n.jR)((l=>e.show_popup=!1),["esc"]))},{default:(0,a.k6)((()=>[(0,a.bF)(N,{doc:e.file,pageCount:e.getRef(),filedata:e.filedata,mode:"split_create"},null,8,["doc","pageCount","filedata"])])),_:1},8,["modelValue"])])])])],64)}var I=t(24622),K=t(38734),$=t(18505),S=t(36246),C=t(78748),Q=t(82303),q=t(11470),T=t(97912),U=t(44271),z=function(e,l,t,a){function n(e){return e instanceof t?e:new t((function(l){l(e)}))}return new(t||(t=Promise))((function(t,o){function s(e){try{d(a.next(e))}catch(l){o(l)}}function i(e){try{d(a["throw"](e))}catch(l){o(l)}}function d(e){e.done?t(e.value):n(e.value).then(s,i)}d((a=a.apply(e,l||[])).next())}))};const B=(0,a.pM)({data(){return{}},props:["service"],components:{DocSplit:C.A,VuePdfEmbed:T.A,DownloadInstaller:U.A},mixins:[$.A,I.A],mounted(){logInfo(this.service);var e="https://local.polydocs.io:";this.initView(e)},methods:{initView(e){this.new_scan["automatic_get"]=!1,this.new_scan["remove_empty_sites"]=!1,this.new_scan["2_sided"]=!1,this.new_scan["pixel_type"]=this.pixeltypes[0],this.new_scan["resolution"]=this.resolutions[0],this.checkAlfred(e)},checkAlfred(e){return z(this,void 0,void 0,(function*(){try{yield Q.A.get(e+"12500/"),yield this.getScanners(e+"12500/")}catch(l){try{yield Q.A.get(e+"12154/"),yield this.getScanners(e+"12154/")}catch(l){try{yield Q.A.get(e+"12346/"),yield this.getScanners(e+"12346/")}catch(l){this.showErrorToast(this.$t("directscan.no_running_scanner")),this.showDownloadInstallerButton=!0,this.showInstaller=!0,this.showDragnDrop=!1}}}}))},getScanners(e){return z(this,void 0,void 0,(function*(){this.valid_url=e;const l=yield Q.A.get(e+"scanners");1==l.data.success?(this.scanners=[],l.data.scanners.forEach((e=>{this.scanners.push({value:e["Host"],label:e["Device"]})})),this.new_scan["source"]=this.scanners[0]):(logInfo(l),this.showErrorToast(this.$t("directscan.no_scanner_found")))}))},doScan(){return z(this,void 0,void 0,(function*(){let e=this.valid_url+"scan?host="+this.new_scan["source"]["value"];1==this.new_scan["automatic_get"]?e+="&source=adf":e+="&source=platen",""!=this.new_scan["pixel_type"]["value"]&&(e=e+"&color="+this.new_scan["pixel_type"]["value"]),""!=this.new_scan["2_sided"]&&(e=e+"&duplex_input="+this.new_scan["2_sided"]),this.showLoading();yield Q.A.get(e,{responseType:"blob"}).then((e=>{const l=e.headers["content-type"];new Blob([e.data,"test.pdf",l]);this.file=URL.createObjectURL(e.data),this.new_scan["automatic_get"]&&(this.showSplitButton=!0),this.showInstaller=!1,this.showDragnDrop=!1,this.showPDF=!0,this.documentScanned=!0,this.filedata=e.data})).catch((e=>logInfo(e)));this.hideLoading()}))},getRef(){let e=this.$refs["pager"].pageCount;return e},formateDate(e,l){return S.Ay.formatDate(e,l)},allowDrop(e){e.preventDefault(),e.currentTarget.classList.add("highlighted-back"),e.currentTarget.classList.add("bd-shadow")},drop(e){e.preventDefault(),e.currentTarget.classList.remove("highlighted-back"),e.currentTarget.classList.remove("bd-shadow"),logInfo(e.dataTransfer.files),this.uploadFiles(e.dataTransfer.files)},dragLeave(e){e.currentTarget.classList.remove("highlighted-back"),e.currentTarget.classList.remove("bd-shadow")},downloadInstaller(e){window.open(e,"_self")},uploadFiles(e){return z(this,void 0,void 0,(function*(){this.showLoading(),logInfo(e);for(const a in e)try{let t=new FormData;var l=e[a];logInfo(l),t.append("files",l),yield q.z6.uploadFiles(t)}catch(t){logInfo(t)}this.hideLoading(),this.$router.push("/dashboard")}))},uploadSingleFile(e){return z(this,void 0,void 0,(function*(){this.showLoading();try{let l=new FormData;this.new_scan["name"]?l.append("files",e,this.new_scan["name"]+".pdf"):l.append("files",e,"Scan.pdf"),logInfo(e),yield q.z6.uploadFiles(l)}catch(l){logInfo(l)}this.hideLoading(),this.$router.push("/dashboard")}))}},setup(){const e=[{value:"Grayscale8",label:"Gray"},{value:"RGB24",label:"Color"}],l=[{value:"300",label:"300"},{value:"600",label:"600"},{value:"1200",label:"1200"}];return{showDragnDrop:(0,K.KR)(!0),showInstaller:(0,K.KR)(!1),showDownloadInstallerButton:(0,K.KR)(!1),showDownloadInstaller:(0,K.KR)(!1),pageCount:(0,K.KR)(1),file:(0,K.KR)(),filedata:(0,K.KR)(),filter:(0,K.KR)(""),view:(0,K.KR)("list"),multiUploaderDialog:(0,K.KR)(!1),uploadedFiles:(0,K.KR)(null),image:(0,K.KR)(),new_scan:(0,K.KR)({}),scanners:(0,K.KR)([]),show_popup:(0,K.KR)(!1),pixeltypes:(0,K.KR)(e),resolutions:(0,K.KR)(l),importing:(0,K.KR)(!1),showSplitButton:(0,K.KR)(!1),showMenu:(0,K.KR)(!1),showIcons:(0,K.KR)(!0),documentScanned:(0,K.KR)(!1),ports:(0,K.KR)(["12500","12154","12346"]),valid_url:(0,K.KR)(),scan_card_height:(0,K.KR)(),showPDF:(0,K.KR)(!1)}}});var P=t(12807),W=t(82156),X=t(23316),E=t(44189),G=t(15046),j=t(99980),M=t(39150),O=t(50492),H=t(62669),N=t(56384),J=t(10386),Y=t(36914),Z=t(67837),ee=t(94940),le=t(97410),te=t(90124),ae=t(25173),ne=t(80460),oe=t(98582),se=t.n(oe);const ie=(0,P.A)(B,[["render",R],["__scopeId","data-v-87e0d5b2"]]),de=ie;se()(B,"components",{QDialog:W.A,QCard:X.A,QCardSection:E.A,QImg:G.A,QFile:j.A,QToolbarTitle:M.A,QIcon:O.A,QCardActions:H.A,QBtn:N.A,QSeparator:J.A,QToolbar:Y.A,QInput:Z.A,QSelect:ee.A,QTooltip:le.A,QItem:te.A,QItemSection:ae.A,QCheckbox:ne.A})}}]);