"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[1929],{61929:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Vt});var i=s(61758),l=s(58790);const a={class:"container-wrapper"},o={class:"container"},n={class:"q-pa-lg text-color-grey settings"},r={class:""},d={style:{"margin-top":"3px"}},_={style:{"margin-top":"3px"}},u={style:{"margin-top":"3px"}};function c(e,t,s,c,p,g){const m=(0,i.g2)("SubHeader"),h=(0,i.g2)("BackToSettings"),b=(0,i.g2)("q-tab"),f=(0,i.g2)("q-tabs"),y=(0,i.g2)("ClassificationRulesList"),v=(0,i.g2)("q-tab-panel"),w=(0,i.g2)("ModelsList"),k=(0,i.g2)("q-icon"),L=(0,i.g2)("q-space"),E=(0,i.g2)("q-separator"),x=(0,i.g2)("DocumentSplitting"),T=(0,i.g2)("q-card-section"),F=(0,i.g2)("q-card"),A=(0,i.g2)("q-expansion-item"),S=(0,i.g2)("AmountFormatting"),D=(0,i.g2)("TableExtraction"),C=(0,i.g2)("q-list"),O=(0,i.g2)("q-tab-panels");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(m,{name:"classify_extract_settings_"+e.tab,label:e.$t("pages.settings.classify_extract")},null,8,["name","label"]),(0,i.bF)(h),(0,i.Lk)("div",a,[(0,i.Lk)("div",o,[(0,i.bF)(f,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),dense:"",class:"doc2-panels",align:"justify","narrow-indicator":"","active-class":"highlighted-back","active-color":"primary"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{name:"general",label:e.$t("form_builder.general")},null,8,["label"]),(0,i.bF)(b,{name:"classification_rules",label:e.$t("classification_rules_setting_label")},null,8,["label"]),e.MODELS_LABELS_MODULE?((0,i.uX)(),(0,i.Wv)(b,{key:0,name:"custom_models",label:e.$t("ai_models")},null,8,["label"])):(0,i.Q3)("",!0)])),_:1},8,["modelValue"])]),(0,i.Lk)("div",n,[(0,i.bF)(O,{class:"page-background",modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),animated:""},{default:(0,i.k6)((()=>[(0,i.bF)(v,{name:"classification_rules",class:"no-padding"},{default:(0,i.k6)((()=>[(0,i.bF)(y)])),_:1}),e.MODELS_LABELS_MODULE?((0,i.uX)(),(0,i.Wv)(v,{key:0,name:"custom_models",class:"no-padding"},{default:(0,i.k6)((()=>[(0,i.bF)(w)])),_:1})):(0,i.Q3)("",!0),(0,i.bF)(v,{name:"general",class:"no-padding"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",r,[(0,i.bF)(C,{bordered:"",class:"rounded-borders"},{default:(0,i.k6)((()=>[(0,i.bF)(A,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,i.k6)((()=>[(0,i.bF)(k,{size:"25px",class:"q-mr-lg icon-grey-svg",name:"img:settings/dokumententeilung.svg"}),(0,i.Lk)("span",d,(0,l.v_)(e.$t("pages.settings.document_split")),1),(0,i.bF)(L)])),default:(0,i.k6)((()=>[(0,i.bF)(E),(0,i.bF)(F,{class:"page-background"},{default:(0,i.k6)((()=>[(0,i.bF)(T,null,{default:(0,i.k6)((()=>[(0,i.bF)(x)])),_:1})])),_:1})])),_:1}),(0,i.bF)(A,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,i.k6)((()=>[(0,i.bF)(k,{size:"25px",class:"q-mr-lg icon-grey-svg",name:"img:settings/betragsformatierung.svg"}),(0,i.Lk)("span",_,(0,l.v_)(e.$t("pages.settings.amount_format")),1),(0,i.bF)(L)])),default:(0,i.k6)((()=>[(0,i.bF)(E),(0,i.bF)(F,{class:"page-background"},{default:(0,i.k6)((()=>[(0,i.bF)(T,null,{default:(0,i.k6)((()=>[(0,i.bF)(S)])),_:1})])),_:1})])),_:1}),(0,i.bF)(A,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,i.k6)((()=>[(0,i.bF)(k,{size:"25px",class:"q-mr-lg icon-grey-svg",name:"img:settings/tabellenextraktion.svg"}),(0,i.Lk)("span",u,(0,l.v_)(e.$t("table_extraction_setting_label")),1),(0,i.bF)(L)])),default:(0,i.k6)((()=>[(0,i.bF)(E),(0,i.bF)(F,{class:"page-background"},{default:(0,i.k6)((()=>[(0,i.bF)(T,null,{default:(0,i.k6)((()=>[(0,i.bF)(D)])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1},8,["modelValue"])])])],64)}var p=s(38734),g=s(77362),m=s(25773);const h=e=>((0,i.Qi)("data-v-7b681e16"),e=e(),(0,i.jt)(),e),b={class:"q-pa-xl"},f={class:"row"},y={class:"col-3"},v={style:{width:"40%"}},w=h((()=>(0,i.Lk)("div",{style:{width:"40%"}},null,-1))),k={key:0},L={class:"row q-mt-sm"},E={class:"col-3"},x={style:{width:"40%"}},T=h((()=>(0,i.Lk)("div",{style:{width:"40%"}},null,-1))),F={class:"row q-mt-sm"},A={class:"col-3"},S={style:{width:"40%"}},D={style:{width:"40%"}};function C(e,t,s,a,o,n){const r=(0,i.g2)("q-select"),d=(0,i.g2)("q-input"),_=(0,i.g2)("q-btn");return(0,i.uX)(),(0,i.CE)("div",b,[(0,i.Lk)("div",f,[(0,i.Lk)("div",y,(0,l.v_)(e.$t("pages.fields_settings.split")),1),(0,i.Lk)("div",v,[(0,i.bF)(r,{dense:"",outlined:"",class:"back-white",modelValue:e.splittype,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.splittype=t),e.splitTypeChanged],options:[{label:e.$t("dont_split"),value:""},{label:e.$t("split_by_bar_code"),value:"barcode"}],"emit-value":"","map-options":"",label:e.$t("pages.fields_settings.splittype")},null,8,["modelValue","options","label","onUpdate:modelValue"])]),w]),"barcode"===this.splittype?((0,i.uX)(),(0,i.CE)("div",k,[(0,i.Lk)("div",L,[(0,i.Lk)("div",E,(0,l.v_)(e.$t("bar_code_type")),1),(0,i.Lk)("div",x,[(0,i.bF)(r,{dense:"",outlined:"",class:"back-white",modelValue:e.user_settings["SPLIT_DOCUMENT_BARCODE_TYPE"],"onUpdate:modelValue":[t[1]||(t[1]=t=>e.user_settings["SPLIT_DOCUMENT_BARCODE_TYPE"]=t),t[2]||(t[2]=t=>{e.saveSettings("SPLIT_DOCUMENT_BARCODE_TYPE",t)})],options:e.supported_barcode_types,"emit-value":"","map-options":"",label:"Select"},null,8,["modelValue","options"])]),T]),(0,i.Lk)("div",F,[(0,i.Lk)("div",A,(0,l.v_)(e.$t("bar_code_pattern")),1),(0,i.Lk)("div",S,[(0,i.bF)(d,{dense:"",outlined:"",tabindex:"0",class:(0,l.C4)("full-width white-inputs"),modelValue:e.user_settings["SPLIT_DOCUMENT_BARCODE_PATTERN"],"onUpdate:modelValue":[t[3]||(t[3]=t=>e.user_settings["SPLIT_DOCUMENT_BARCODE_PATTERN"]=t),e.barcodePatternUpdated],placeholder:"Pattern","error-message":e.new_model["pattern_error_msg"],error:e.new_model["pattern_error"]},null,8,["modelValue","error-message","error","onUpdate:modelValue"])]),(0,i.Lk)("div",D,[e.new_model["regex_validated"]?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(_,{key:0,color:e.new_model["regex_validated"]?"green":"primary",class:"mr-6",label:e.$t("save"),onClick:t[4]||(t[4]=t=>e.validatePattern()),style:{"margin-top":"10px"}},null,8,["color","label"]))])])])):(0,i.Q3)("",!0)])}var O=s(1659),R=s(24622),q=s(83319),Q=s(18505),I=s(11470),V=function(e,t,s,i){function l(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(i.next(e))}catch(t){a(t)}}function n(e){try{r(i["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):l(e.value).then(o,n)}r((i=i.apply(e,t||[])).next())}))};const $=(0,i.pM)({el:"#app",mixins:[Q.A,R.A],props:["showSpinner"],data(){return{}},watch:{loading_settings:{handler:function(e,t){!1===e&&this.init()}}},mounted:function(){this.getBarCodeTypes(),this.setNewModel()},computed:{},methods:{init(){!0===this.user_settings["SPLIT_DOCUMENT_ON_BARCODE"]&&(this.splittype="barcode")},setNewModel(){this.new_model["regex_validated"]=!0,this.new_model["pattern_error"]=!1,this.new_model["pattern_error_msg"]=""},barcodePatternUpdated(e){this.isPatternEmpty()||(this.new_model["regex_validated"]=!1)},barcodePatternBeforeSave(){return V(this,void 0,void 0,(function*(){try{if(this.new_model["regex_validated"]=!0,!this.isPatternEmpty())return this.new_model["regex_validated"]=!1,this.new_model["pattern_error_msg"]="Please validate Pattern",void(this.new_model["pattern_error"]=!0);yield this.saveBarcodePattern()}catch(e){return null!=e&&"object"==typeof e&&e.hasOwnProperty("message")?void this.showErrorToast(e.message):(this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void logError(e))}}))},saveBarcodePattern(){return V(this,void 0,void 0,(function*(){this.isPatternEmpty()&&(this.user_settings["SPLIT_DOCUMENT_BARCODE_PATTERN"]=" "),this.setNewModel(),yield this.saveSettings("SPLIT_DOCUMENT_BARCODE_PATTERN",this.user_settings["SPLIT_DOCUMENT_BARCODE_PATTERN"])}))},isPatternEmpty(){let e=!1;return this.user_settings["SPLIT_DOCUMENT_BARCODE_PATTERN"]&&0!=this.user_settings["SPLIT_DOCUMENT_BARCODE_PATTERN"].trim().length||(e=!0),e},validatePattern(){return V(this,void 0,void 0,(function*(){try{let e;this.new_model["pattern_error"]=!1,this.new_model["pattern_error_msg"]="",this.isPatternEmpty()&&(this.new_model["pattern_error_msg"]="Pattern is required",this.new_model["pattern_error"]=!0);let t=new FormData;if(t.append("patterns",JSON.stringify([this.user_settings["SPLIT_DOCUMENT_BARCODE_PATTERN"]])),e=yield I.fE.validatePatterns(t),!1===e.data.success)throw{message:e.data.message};if(this.updateRows(e.data),this.new_model["pattern_error"])return;yield this.saveBarcodePattern()}catch(e){logError(e),this.showErrorToast("Something went wrong while loading data. Please try again.")}}))},updateRows(e){for(let[t,s]of Object.entries(e)){const e=!1!==s;!1===e?(this.new_model["pattern_error_msg"]="Valid pattern is required",this.new_model["pattern_error"]=!0):this.new_model["regex_validated"]=!0}},splitTypeChanged(e){this.splittype=e,"barcode"===e?this.saveSettings("SPLIT_DOCUMENT_ON_BARCODE",!0):this.saveSettings("SPLIT_DOCUMENT_ON_BARCODE",!1)},getBarCodeTypes(){return V(this,void 0,void 0,(function*(){let e;this.showLoading();try{if(e=yield I.fE.getSupportedBarcodeTypes(),this.supported_barcode_types=[],!e.data)return;for(let[t,s]of Object.entries(e.data))this.supported_barcode_types.push(Object.assign({},{value:t,label:s}));this.$forceUpdate()}catch(t){return this.hideLoading(),void this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.hideLoading()}}))},saveSettings(e,t){return V(this,void 0,void 0,(function*(){if(e){this.showLoading();try{yield this.updateSetting(e,t)}catch(s){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.hideLoading()}}}))}},setup(){const e={};let t=[];const s=(0,q.Bu)(),{user_settings:i,loading_settings:l}=(0,O.bP)(s),{updateSetting:a}=s;return{supported_barcode_types:t,splittype:(0,p.KR)(""),new_model:(0,p.KR)(e),updateSetting:a,user_settings:i,loading_settings:l}}});var N=s(12807),P=s(94940),U=s(67837),M=s(56384),B=s(98582),K=s.n(B);const X=(0,N.A)($,[["render",C],["__scopeId","data-v-7b681e16"]]),W=X;K()($,"components",{QSelect:P.A,QInput:U.A,QBtn:M.A});const z={class:"q-pa-xl"},j={class:"row items-center full-width"},G={class:"col-3"},Y={class:"col-3"};function Z(e,t,s,a,o,n){const r=(0,i.g2)("q-toggle");return(0,i.uX)(),(0,i.CE)("div",z,[(0,i.Lk)("div",j,[(0,i.Lk)("div",G,(0,l.v_)(e.$t("amount_setting_total_amount")),1),(0,i.Lk)("div",Y,[(0,i.bF)(r,{modelValue:e.user_settings["AMOUNTS_ROUNDING"],"onUpdate:modelValue":[t[0]||(t[0]=t=>e.user_settings["AMOUNTS_ROUNDING"]=t),t[1]||(t[1]=t=>{e.saveSettings("AMOUNTS_ROUNDING",t)})]},null,8,["modelValue"])])])])}var H=function(e,t,s,i){function l(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(i.next(e))}catch(t){a(t)}}function n(e){try{r(i["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):l(e.value).then(o,n)}r((i=i.apply(e,t||[])).next())}))};const J=(0,i.pM)({el:"#app",mixins:[Q.A,R.A],props:["showSpinner"],data(){return{}},computed:{},methods:{saveSettings(e,t){return H(this,void 0,void 0,(function*(){if(e){this.showLoading();try{yield this.updateSetting(e,t)}catch(s){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.hideLoading()}}}))}},setup(){const e=(0,q.Bu)(),{user_settings:t}=(0,O.bP)(e),{updateSetting:s}=e;return{user_settings:t,updateSetting:s}}});var ee=s(66908);const te=(0,N.A)(J,[["render",Z],["__scopeId","data-v-1a75c41b"]]),se=te;K()(J,"components",{QToggle:ee.A});const ie={class:"q-pa-xl"},le={class:"row items-center full-width"},ae={class:"col-3"},oe={class:"col-1"},ne={class:"row items-center full-width"},re={class:"col-3"},de={class:"col-auto"},_e={class:"row items-center full-width"},ue={class:"col-3"},ce={class:"col-auto"},pe={class:"row items-center full-width"},ge={class:"col-3"},me={class:"col-auto"},he={class:"row items-center full-width"},be={class:"col-3"},fe={class:"col-auto"},ye={class:"q-ml-sm"};function ve(e,t,s,a,o,n){const r=(0,i.g2)("q-toggle"),d=(0,i.g2)("q-select"),_=(0,i.g2)("Loader"),u=(0,i.g2)("q-avatar"),c=(0,i.g2)("q-card-section"),p=(0,i.g2)("q-btn"),g=(0,i.g2)("q-card-actions"),m=(0,i.g2)("q-card"),h=(0,i.g2)("q-dialog");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",ie,[(0,i.Lk)("div",le,[(0,i.Lk)("div",ae,(0,l.v_)(e.$t("table_extraction_setting_label")),1),(0,i.Lk)("div",oe,[(0,i.bF)(r,{modelValue:e.user_settings[e.table_extraction_setting],"onUpdate:modelValue":[t[0]||(t[0]=t=>e.user_settings[e.table_extraction_setting]=t),t[1]||(t[1]=t=>e.saveSettings(e.table_extraction_setting,e.user_settings[e.table_extraction_setting]))]},null,8,["modelValue"])])]),(0,i.Lk)("div",ne,[(0,i.Lk)("div",re,(0,l.v_)(e.$t("ai_table_extraction")),1),(0,i.Lk)("div",de,[(0,i.bF)(r,{modelValue:e.user_settings[e.AI_table_extraction_setting],"onUpdate:modelValue":[t[2]||(t[2]=t=>e.user_settings[e.AI_table_extraction_setting]=t),t[3]||(t[3]=t=>e.saveSettings(e.AI_table_extraction_setting,e.user_settings[e.AI_table_extraction_setting]))]},null,8,["modelValue"])])]),(0,i.Lk)("div",_e,[(0,i.Lk)("div",ue,(0,l.v_)(e.$t("costing_table_extraction")),1),(0,i.Lk)("div",ce,[(0,i.bF)(r,{modelValue:e.user_settings[e.charges_table_extraction],"onUpdate:modelValue":[t[4]||(t[4]=t=>e.user_settings[e.charges_table_extraction]=t),t[5]||(t[5]=t=>e.saveSettings(e.charges_table_extraction,e.user_settings[e.charges_table_extraction]))]},null,8,["modelValue"])])]),(0,i.Lk)("div",pe,[(0,i.Lk)("div",ge,(0,l.v_)(e.$t("auto_extract_tax_code")),1),(0,i.Lk)("div",me,[(0,i.bF)(r,{modelValue:e.user_settings[e.auto_extract_tax_code_setting],"onUpdate:modelValue":[t[6]||(t[6]=t=>e.user_settings[e.auto_extract_tax_code_setting]=t),t[7]||(t[7]=t=>e.saveSettings(e.auto_extract_tax_code_setting,e.user_settings[e.auto_extract_tax_code_setting]))]},null,8,["modelValue"])])]),(0,i.Lk)("div",he,[(0,i.Lk)("div",be,(0,l.v_)(e.$t("ai_model")),1),(0,i.Lk)("div",fe,[(0,i.bF)(d,{outlined:"",dense:"",class:"back-white width-120",modelValue:e.user_settings[e.ai_model],"onUpdate:modelValue":[t[8]||(t[8]=t=>e.user_settings[e.ai_model]=t),t[9]||(t[9]=t=>{e.saveSettings(e.ai_model,t)})],options:e.aiModelList,"emit-value":"","map-options":"",label:e.$t("ai_model")},null,8,["modelValue","options","label"])])])]),(0,i.bF)(_),(0,i.bF)(h,{modelValue:e.confirm_version_update,"onUpdate:modelValue":t[10]||(t[10]=t=>e.confirm_version_update=t),persistent:""},{default:(0,i.k6)((()=>[(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(c,{class:"row items-center"},{default:(0,i.k6)((()=>[(0,i.bF)(u,{icon:"block",color:"primary","text-color":"white"}),(0,i.Lk)("span",ye,(0,l.v_)(e.$t("confirm_version_update")),1)])),_:1}),(0,i.bF)(g,{align:"right"},{default:(0,i.k6)((()=>[(0,i.bF)(p,{class:"bg-grey-3",label:e.$t("cancel"),onClick:e.closeVersionUpdateWarningDialog},null,8,["label","onClick"]),(0,i.bF)(p,{color:"primary",class:"q-mr-sm","data-cy":"setvatfield",label:e.$t("confirm"),onClick:e.updateTEVersion},null,8,["label","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var we=s(89156),ke=s(76956),Le=function(e,t,s,i){function l(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(i.next(e))}catch(t){a(t)}}function n(e){try{r(i["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):l(e.value).then(o,n)}r((i=i.apply(e,t||[])).next())}))};const Ee=(0,i.pM)({el:"#app",mixins:[Q.A,R.A],props:["showSpinner"],components:{Loader:we.A},watch:{loading_settings:{handler:function(e,t){0==e&&1==t?(this.hideLoading(),this.setDefaultSettings()):this.showLoading()}}},data(){return{tbx_ext_version:"TBL_EXT_VERSION",tbx_ext_version_prev:"",table_extraction_setting:ke.sO,charges_table_extraction:ke.lZ,AI_table_extraction_setting:ke.N1,auto_extract_tax_code_setting:ke.V6,ai_model:ke.aH.ai_model}},setup(){const e=(0,q.Bu)(),{user_settings:t,loading_settings:s}=(0,O.bP)(e),{updateSetting:i}=e;return{updateSetting:i,user_settings:t,loading_settings:s,confirm_version_update:(0,p.KR)(!1),aiModelList:[{label:"Full",value:"gpt-4o"},{label:"Fast",value:"gpt-4o-mini-2024-07-18"},{label:"Turbo",value:"gpt-4-1106-preview"}]}},mounted:function(){this.setDefaultSettings()},methods:{updateTEVersion(){this.confirm_version_update=!1,this.saveSettings(this.tbx_ext_version,this.tbx_ext_version_val)},setDefaultSettings(){this.user_settings[this.charges_table_extraction]||(this.user_settings[this.charges_table_extraction]=!1),this.user_settings[this.AI_table_extraction_setting]||(this.user_settings[this.AI_table_extraction_setting]=!1),this.user_settings[this.table_extraction_setting]||(this.user_settings[this.table_extraction_setting]=!1),this.user_settings[this.auto_extract_tax_code_setting]||(this.user_settings[this.auto_extract_tax_code_setting]=!1),this.user_settings[this.ai_model]||(this.user_settings[this.ai_model]="gpt-4o")},saveSettings(e,t){return Le(this,void 0,void 0,(function*(){e&&(this.showLoading(),yield this.updateSetting(e,t),this.hideLoading(),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")))}))}}});var xe=s(90124),Te=s(25173),Fe=s(82156),Ae=s(23316),Se=s(44189),De=s(3952),Ce=s(62669);const Oe=(0,N.A)(Ee,[["render",ve],["__scopeId","data-v-687b4146"]]),Re=Oe;K()(Ee,"components",{QToggle:ee.A,QSelect:P.A,QItem:xe.A,QItemSection:Te.A,QDialog:Fe.A,QCard:Ae.A,QCardSection:Se.A,QAvatar:De.A,QCardActions:Ce.A,QBtn:M.A});var qe=s(29104);const Qe=e=>((0,i.Qi)("data-v-1c90efe0"),e=e(),(0,i.jt)(),e),Ie={style:{display:"flex"}},Ve={key:0,class:"cursor-default"},$e={key:1},Ne={style:{"text-transform":"capitalize"}},Pe={class:"text-red-14"},Ue=Qe((()=>(0,i.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function Me(e,t,s,a,o,n){const r=(0,i.g2)("q-icon"),d=(0,i.g2)("q-input"),_=(0,i.g2)("q-space"),u=(0,i.g2)("f-btn"),c=(0,i.g2)("q-th"),p=(0,i.g2)("q-tr"),g=(0,i.g2)("q-item-section"),m=(0,i.g2)("q-item"),h=(0,i.g2)("q-separator"),b=(0,i.g2)("q-list"),f=(0,i.g2)("q-menu"),y=(0,i.g2)("q-btn"),v=(0,i.g2)("q-td"),w=(0,i.g2)("q-table"),k=(0,i.g2)("createEdit"),L=(0,i.g2)("q-dialog"),E=(0,i.g2)("q-inner-loading");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",Ie,[(0,i.bF)(d,{class:"q-mb-md width-500",outlined:"",dense:"",debounce:"300",color:"primary",modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=t=>e.filter=t),label:e.$t("search_by_column")},{append:(0,i.k6)((()=>[(0,i.bF)(r,{name:"search"})])),_:1},8,["modelValue","label"]),(0,i.bF)(_),(0,i.bF)(u,{class:"q-mb-md float-left",label:e.$t("add_new"),style:{height:"40px"},onClick:e.addNew},null,8,["label","onClick"])]),(0,i.bF)(w,{style:{height:"500px"},class:"dashboard-table-style dashboard-table-height back-white",rows:e.rows,flat:"",columns:e.columns,"no-data-label":e.$t("pages.messages.no_record_found"),"rows-per-page-options":[0],"table-header-class":"table-header-text","row-key":"id",filter:e.filter,"filter-method":e.customFilter,"wrap-cells":"true",id:"classification_extraction_table"},{header:(0,i.k6)((t=>[(0,i.bF)(p,{props:t},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.cols,((s,a)=>((0,i.uX)(),(0,i.Wv)(c,{key:s.name,props:t,"data-index":a,draggable:e.canDragDropColumn(s),dropzone:e.canDragDropColumn(s),direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.columns,a),onDrop:(0,qe.D$)((t=>e.handleDrop(t,a)),["prevent"]),onDragover:(0,qe.D$)((t=>e.onDragOver(t,a)),["prevent"]),onDragenter:(0,qe.D$)(e.onDragEnter,["prevent"]),onDragleave:(0,qe.D$)(e.onDragLeave,["prevent"]),style:(0,l.Tr)({cursor:e.getIsDragging?"pointer":"move"})},{default:(0,i.k6)((()=>["action"==s.name?((0,i.uX)(),(0,i.CE)("span",Ve,(0,l.v_)(s.label),1)):((0,i.uX)(),(0,i.CE)("span",$e,(0,l.v_)(s.label),1))])),_:2},1032,["props","data-index","draggable","dropzone","onDragstart","onDrop","onDragover","onDragenter","onDragleave","style"])))),128))])),_:2},1032,["props"])])),body:(0,i.k6)((s=>[!1===s.row.is_deleted?((0,i.uX)(),(0,i.Wv)(p,{key:0,props:s,id:s.key},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(s.cols,(a=>((0,i.uX)(),(0,i.CE)(i.FK,{key:a.name},["action"===a.name?((0,i.uX)(),(0,i.Wv)(v,{key:0,style:{width:"4%"}},{default:(0,i.k6)((()=>[(0,i.bF)(y,{flat:"",dense:"",round:"",onClick:t[1]||(t[1]=(0,qe.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz"},{default:(0,i.k6)((()=>[(0,i.bF)(f,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,i.k6)((()=>[(0,i.bF)(b,{dense:"",style:{"max-width":"155px"}},{default:(0,i.k6)((()=>[(0,i.bF)(m,{clickable:""},{default:(0,i.k6)((()=>[(0,i.bF)(g,{onClick:t=>e.editRow(s.row)},{default:(0,i.k6)((()=>[(0,i.Lk)("span",Ne,(0,l.v_)(e.$t("edit")),1)])),_:2},1032,["onClick"])])),_:2},1024),(0,i.bF)(h,{inset:""}),(0,i.bF)(m,{clickable:""},{default:(0,i.k6)((()=>[(0,i.bF)(g,{onClick:t=>e.deleteRow(s.rowIndex,s.row.id)},{default:(0,i.k6)((()=>[(0,i.Lk)("span",Pe,(0,l.v_)(e.$t("delete")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)):((0,i.uX)(),(0,i.Wv)(v,{key:1},{default:(0,i.k6)((()=>[(0,i.eW)((0,l.v_)(e.getLabelTranslationIfExists(s.row[a.name],a.name)),1)])),_:2},1024))],64)))),128))])),_:2},1032,["props","id"])):(0,i.Q3)("",!0)])),_:1},8,["rows","columns","no-data-label","filter","filter-method"]),(0,i.bF)(L,{modelValue:e.display_create_edit_dialog,"onUpdate:modelValue":t[2]||(t[2]=t=>e.display_create_edit_dialog=t),persistent:"",onKeydown:t[3]||(t[3]=(0,qe.jR)((t=>e.display_create_dialog=!1),["esc"]))},{default:(0,i.k6)((()=>[(0,i.bF)(k,{list_data:e.data,model:e.edit_model},null,8,["list_data","model"])])),_:1},8,["modelValue"]),(0,i.bF)(E,{showing:e.loading,class:"z-index-2"},{default:(0,i.k6)((()=>[Ue])),_:1},8,["showing"])],64)}var Be=s(10739);const Ke={class:"text-weight-bold"},Xe=(0,i.Lk)("div",{class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},[(0,i.Lk)("div",{class:"full-width"})],-1),We={class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},ze={class:"full-width"},je={class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},Ge={class:"full-width"},Ye={class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},Ze={class:"full-width"},He={class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},Je={class:"full-width"},et={class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},tt={class:"full-width"},st=(0,i.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function it(e,t,s,a,o,n){const r=(0,i.g2)("q-toolbar-title"),d=(0,i.g2)("q-btn"),_=(0,i.g2)("q-toolbar"),u=(0,i.g2)("q-tooltip"),c=(0,i.g2)("q-icon"),p=(0,i.g2)("q-input"),g=(0,i.g2)("q-select"),m=(0,i.g2)("q-card-section"),h=(0,i.g2)("f-btn"),b=(0,i.g2)("q-card-actions"),f=(0,i.g2)("q-inner-loading"),y=(0,i.g2)("q-card"),v=(0,i.gN)("close-popup");return(0,i.uX)(),(0,i.Wv)(y,{style:{width:"600px"}},{default:(0,i.k6)((()=>[(0,i.Lk)("form",{onSubmit:t[6]||(t[6]=(0,qe.D$)(((...t)=>e.submitNewColumFrom&&e.submitNewColumFrom(...t)),["prevent","stop"]))},[(0,i.bF)(_,{class:"text-white secondary-toolbar"},{default:(0,i.k6)((()=>[(0,i.bF)(r,null,{default:(0,i.k6)((()=>[(0,i.Lk)("span",Ke,(0,l.v_)(e.$t("configure_classification_rule")),1)])),_:1}),(0,i.bo)((0,i.bF)(d,{flat:"",round:"",dense:"",icon:"close"},null,512),[[v]])])),_:1}),(0,i.bF)(m,{class:"q-pt-none"},{default:(0,i.k6)((()=>[Xe,(0,i.Lk)("div",We,[(0,i.Lk)("div",ze,[(0,i.bF)(p,{outlined:"",label:e.$t("pattern"),modelValue:e.new_model["rule_value_1"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.new_model["rule_value_1"]=t),type:"textarea",class:(0,l.C4)("full-width "+(e.new_model["regex_pattern_error"]?"column-error-border":""))},{append:(0,i.k6)((()=>[e.new_model["regex_pattern_error"]||e.new_model["regex_duplicate_error"]?((0,i.uX)(),(0,i.Wv)(c,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,i.k6)((()=>[(0,i.bF)(u,{class:"bg-red line-error-tooltip"},{default:(0,i.k6)((()=>[e.new_model["regex_pattern_error"]?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)((0,l.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)],64)):(0,i.Q3)("",!0),e.new_model["regex_duplicate_error"]?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.eW)((0,l.v_)(e.$t("pattern_duplicate_error")),1)],64)):(0,i.Q3)("",!0)])),_:1})])),_:1})):(0,i.Q3)("",!0)])),_:1},8,["label","modelValue","class"])])]),(0,i.Lk)("div",je,[(0,i.Lk)("div",Ge,[(0,i.bF)(g,{clearable:"",outlined:"",modelValue:e.new_model["rule_type"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.new_model["rule_type"]=t),"use-input":"",options:e.filteredTypeList,onFilter:e.filterTypeListEvent,label:e.$t("type"),"emit-value":"","map-options":""},{append:(0,i.k6)((()=>[e.new_model["rule_type_error"]?((0,i.uX)(),(0,i.Wv)(c,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,i.k6)((()=>[(0,i.bF)(u,{class:"bg-red line-error-tooltip"},{default:(0,i.k6)((()=>[(0,i.eW)((0,l.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,i.Q3)("",!0)])),_:1},8,["modelValue","options","onFilter","label"])])]),(0,i.Lk)("div",Ye,[(0,i.Lk)("div",Ze,[(0,i.bF)(g,{clearable:"",outlined:"",modelValue:e.new_model["sub_org_id"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.new_model["sub_org_id"]=t),"use-input":"",options:e.filterSubOrgsList,onFilter:e.filterSubOrgslistEvent,label:e.$t("sub_org"),loading:e.sub_org_list_loading,"emit-value":"","map-options":""},{append:(0,i.k6)((()=>[e.new_model["sub_org_error"]?((0,i.uX)(),(0,i.Wv)(c,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,i.k6)((()=>[(0,i.bF)(u,{class:"bg-red line-error-tooltip"},{default:(0,i.k6)((()=>[e.new_model["required_error"]?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)((0,l.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)],64)):(0,i.Q3)("",!0)])),_:1})])),_:1})):(0,i.Q3)("",!0)])),_:1},8,["modelValue","options","onFilter","label","loading"])])]),(0,i.Lk)("div",He,[(0,i.Lk)("div",Je,[(0,i.bF)(g,{clearable:"",outlined:"",modelValue:e.new_model["doc_type_key"],"onUpdate:modelValue":[t[3]||(t[3]=t=>e.new_model["doc_type_key"]=t),t[4]||(t[4]=t=>e.new_model["sub_doc_type_key"]="")],"use-input":"",options:e.filterDocTypeList,onFilter:e.filterDocTypeListEvent,"emit-value":"","map-options":"",label:e.$t("pages.screen2a.doctype")},{append:(0,i.k6)((()=>[e.new_model["doc_type_key_error"]?((0,i.uX)(),(0,i.Wv)(c,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,i.k6)((()=>[(0,i.bF)(u,{class:"bg-red line-error-tooltip"},{default:(0,i.k6)((()=>[e.new_model["required_error"]?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)((0,l.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)],64)):(0,i.Q3)("",!0)])),_:1})])),_:1})):(0,i.Q3)("",!0)])),_:1},8,["modelValue","options","onFilter","label"])])]),(0,i.Lk)("div",et,[(0,i.Lk)("div",tt,[(0,i.bF)(g,{clearable:"",outlined:"",modelValue:e.new_model["sub_doc_type_key"],"onUpdate:modelValue":t[5]||(t[5]=t=>e.new_model["sub_doc_type_key"]=t),"use-input":"",options:e.SubDocTypeFilteredList,onFilter:e.SubDocTypeFilterEvent,"emit-value":"","map-options":"",label:e.$t("sub_type")},{append:(0,i.k6)((()=>[e.new_model["doc_type_key_error"]?((0,i.uX)(),(0,i.Wv)(c,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,i.k6)((()=>[(0,i.bF)(u,{class:"bg-red line-error-tooltip"},{default:(0,i.k6)((()=>[e.new_model["required_error"]?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)((0,l.v_)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)],64)):(0,i.Q3)("",!0)])),_:1})])),_:1})):(0,i.Q3)("",!0)])),_:1},8,["modelValue","options","onFilter","label"])])])])),_:1}),(0,i.bF)(b,{align:"right"},{default:(0,i.k6)((()=>[(0,i.bo)((0,i.bF)(h,{appearance:"cancel",label:e.$t("cancel")},null,8,["label"]),[[v]]),(0,i.bF)(h,{type:"submit",class:"q-mr-sm",label:e.$t("save")},null,8,["label"])])),_:1})],32),(0,i.bF)(f,{showing:e.loading},{default:(0,i.k6)((()=>[st])),_:1},8,["showing"])])),_:1})}var lt=s(64775),at=function(e,t,s,i){function l(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(i.next(e))}catch(t){a(t)}}function n(e){try{r(i["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):l(e.value).then(o,n)}r((i=i.apply(e,t||[])).next())}))};const ot=(0,i.pM)({el:"#app",mixins:[R.A,Q.A],props:{model:{type:Object},list_data:{type:Array}},components:{},data(){return{message:this.$t("only_characters_spaces")}},setup(){let e={};const t=(0,q.cY)(),s=(0,p.KR)(t.subOrgList),i=(0,p.KR)(t.doc_type_list),l=(0,p.KR)([]),a=(0,p.KR)(t.classification_type_list),{doc_type_list:o,sub_types_list:n,subOrgList:r,sub_org_list_loading:d,classification_type_list:_}=(0,O.bP)(t);return{filteredTypeList:a,classification_type_list:_,SubDocTypeFilteredList:l,filterDocTypeList:i,subOrgList:r,filterSubOrgsList:s,sub_org_list_loading:d,doc_type_list:o,sub_types_list:n,new_model:(0,p.KR)(e),loading:(0,p.KR)(!1),form_error:(0,p.KR)("")}},watch:{},mounted(){this.setNewModel()},methods:{setNewModel(){this.model?(this.new_model["id"]=this.model.id,this.new_model["sub_org_id"]=this.model.sub_org_id,this.new_model["doc_type_key"]=this.model.doc_type_key,this.new_model["sub_doc_type_key"]=this.model.sub_doc_type_key,this.new_model["rule_value_1"]=this.model.rule_value_1,this.new_model["rule_type"]=this.model.rule_type):(this.new_model["id"]="",this.new_model["sub_org_id"]="",this.new_model["doc_type_key"]="",this.new_model["sub_doc_type_key"]="",this.new_model["rule_value_1"]="",this.new_model["rule_type"]=""),this.resetErrors()},resetErrors(){this.new_model["regex_pattern_error"]=!1,this.new_model["regex_duplicate_error"]=!1,this.new_model["rule_type_error"]=!1},filterDocTypeListEvent(e,t,s){t(e?()=>{const t=e.toLowerCase();this.filterDocTypeList=this.doc_type_list.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filterDocTypeList=this.doc_type_list})},filterSubOrgslistEvent(e,t,s){t(e?()=>{const t=e.toLowerCase();this.filterSubOrgsList=this.subOrgList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filterSubOrgsList=this.subOrgList})},filterTypeListEvent(e,t,s){t(e?()=>{const t=e.toLowerCase();this.filteredTypeList=this.classification_type_list.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filteredTypeList=this.classification_type_list})},filertByDocTypeKey(){this.new_model["doc_type_key"]?this.SubDocTypeFilteredList=this.sub_types_list.filter((e=>e.doc_type_key==this.new_model["doc_type_key"])):this.SubDocTypeFilteredList=[]},SubDocTypeFilterEvent(e,t,s){this.filertByDocTypeKey(),t(e?()=>{const t=e.toLowerCase();this.SubDocTypeFilteredList=this.SubDocTypeFilteredList.filter((e=>e.label.toLowerCase().indexOf(t)>-1))}:()=>{this.filertByDocTypeKey()})},submitNewColumFrom(){return at(this,void 0,void 0,(function*(){try{if(!this.validateRow(this.new_model))return;this.loading=!0,yield this.saveNewRow()}catch(e){const t=lt.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading=!1}}))},saveNewRow(){return at(this,void 0,void 0,(function*(){let e=!1;try{const t={doc_type_key:this.new_model["doc_type_key"]||"",sub_doc_type_key:this.new_model["sub_doc_type_key"]||"",sub_org_id:this.new_model["sub_org_id"]||"",rule_value_1:this.new_model["rule_value_1"],rule_type:this.new_model["rule_type"]};let s;if(""!=this.new_model["id"]&&null!=this.new_model["id"]&&(t.id=this.new_model["id"],e=!0),e)s=yield I.dZ.update(t);else if(s=yield I.dZ.create(t),!s.id)throw{message:"Failed to create new record"};this.setNewModel();const i=new CustomEvent("record_saved",{detail:{}});document.dispatchEvent(i),this.showSuccessToast(this.$t("operation_sucessfull"))}catch(t){const e=lt.t.getErrorMessage(t);this.showErrorToast(e),logError(t)}finally{this.loading=!1}}))},validateRow(e){let t=!0;this.resetErrors();const s=e["rule_value_1"].trim();if(s&&0!=s.length){if(Array.isArray(this.list_data)&&this.list_data.length>0){let e=this.list_data.filter((e=>e.rule_value_1==s&&this.new_model["id"]!==e.id));e.length>0&&(t=!1,this.new_model["regex_duplicate_error"]=!0)}}else this.new_model["regex_pattern_error"]=!0,t=!1;return e["rule_type"]&&0!=e["rule_type"].length||(this.new_model["rule_type_error"]=!0,t=!1),e["sub_org_id"]||e["doc_type_key"]||(this.showErrorToast(this.$t("empty_sub_org_and_doc_type_error")),t=!1),t}}});var nt=s(36914),rt=s(39150),dt=s(50492),_t=s(97410),ut=s(39035),ct=s(88672);const pt=(0,N.A)(ot,[["render",it]]),gt=pt;K()(ot,"components",{QCard:Ae.A,QToolbar:nt.A,QToolbarTitle:rt.A,QBtn:M.A,QCardSection:Se.A,QInput:U.A,QIcon:dt.A,QTooltip:_t.A,QSelect:P.A,QCardActions:Ce.A,QInnerLoading:ut.A}),K()(ot,"directives",{ClosePopup:ct.A});var mt=s(45022),ht=function(e,t,s,i){function l(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(i.next(e))}catch(t){a(t)}}function n(e){try{r(i["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):l(e.value).then(o,n)}r((i=i.apply(e,t||[])).next())}))};const bt=(0,i.pM)({el:"#app",mixins:[Q.A,R.A,Be.A],props:{},components:{createEdit:gt},data(){return{}},setup(){const e=(0,q.cY)(),{getSubOrgsList:t,getRulesTypeList:s}=e,{doc_type_list:i,sub_types_list:l,subOrgList:a,classification_type_list:o}=(0,O.bP)(e);let n=[];const r=(0,p.KR)(n);return{classification_type_list:o,getRulesTypeList:s,doc_type_list:i,sub_types_list:l,subOrgList:a,getSubOrgsList:t,display_create_edit_dialog:(0,p.KR)(!1),display_list:(0,p.KR)(!1),loading:(0,p.KR)(!0),columns:r,data:(0,p.KR)([]),rows:(0,p.KR)(n),filter:(0,p.KR)(""),edit_model:(0,p.KR)({})}},mounted:function(){this.initView(),this.initDragDropColumns("classification_extraction_table","label",["action"]),document.addEventListener("record_saved",this.recordSaved),document.addEventListener("classification_extraction_table-column-drop",this.onDropColumns)},unmounted:function(){document.removeEventListener("record_saved",this.recordSaved),document.removeEventListener("classification_extraction_table-column-drop",this.onDropColumns)},methods:{initView(){return ht(this,void 0,void 0,(function*(){yield this.getSubOrgsList(),this.getRulesTypeList(),this.prepareColumns(),yield this.getRecords()}))},getRecords(){return ht(this,void 0,void 0,(function*(){this.loading=!0;const e=yield I.dZ.getAll();this.loading=!1,Array.isArray(e)&&0!=e.length&&(this.data=e,this.prepareRows())}))},recordSaved(){this.getRecords(),this.display_create_edit_dialog=!1},getLabelTranslationIfExists(e,t){if(e||(e=""),"sub_org_id"==t){let t=this.subOrgList.filter((t=>t.value==e));t=t[0]||null,e=t?t.label:""}if("doc_type_key"==t){let t=this.doc_type_list.filter((t=>t.value==e));t=t[0]||null,e=t?t.label:""}if("sub_doc_type_key"==t){let t=this.sub_types_list.filter((t=>t.value==e));t=t[0]||null,e=t?t.label:""}if("rule_type"==t){let t=this.classification_type_list.filter((t=>t.value==e));t=t[0]||null,e=t?t.label:""}return String(e)},prepareColumns(){this.columns.push({name:"rule_type",label:this.$t("type"),field:"rule_type",align:"left"}),this.columns.push({name:"rule_value_1",label:this.$t("pattern"),field:"rule_value_1",align:"left"}),this.columns.push({name:"doc_type_key",label:this.$t("document_type"),field:"doc_type_key",align:"left"}),this.columns.push({name:"sub_doc_type_key",label:this.$t("sub_type"),field:"sub_doc_type_key",align:"left"}),this.columns.push({name:"sub_org_id",label:this.$t("sub_org"),field:"sub_org_id",align:"left"}),this.columns.push({name:"action",label:this.$t("action"),field:"action",align:"right"});const e=mt.A.getItem("CLASSIFICATION_EXTRACTION_SETTING_COLUMNS");e&&(this.columns=JSON.parse(e))},onDropColumns(){mt.A.set("CLASSIFICATION_EXTRACTION_SETTING_COLUMNS",JSON.stringify(this.columns))},prepareRows(){this.rows=this.data},addNew(){this.edit_model={},this.display_create_edit_dialog=!0},editRow(e){this.edit_model=e,this.display_create_edit_dialog=!0},scrollToBottom(){let e=document.querySelector(".table-regexex-"+this.doctype);if(!e)return;let t=e.querySelector(".q-table__middle");t&&(t.scrollTop=t.scrollHeight)},deleteRow(e,t){return ht(this,void 0,void 0,(function*(){try{this.loading=!0;const s=yield I.dZ.delete(t);if(!s||!0!==s.success)throw s;this.rows.splice(e,1)}catch(s){const e=lt.t.getErrorMessage(s);this.showErrorToast(e),logError(s)}finally{this.loading=!1}}))},customFilter(e,t){const s=t.toLowerCase();let i=e;return s&&""!==s?(i=e.filter(((e,t)=>{let i=!1;for(let[l,a]of Object.entries(e)){let e=a,t=e&&null!==e?e.toString():"";if(e=t.toLowerCase(),e.includes(s)){i=!0;break}if("sub_org_id"===l&&e){let t=this.subOrgList.filter((t=>e==t.value&&t.label.toLowerCase().indexOf(s)>-1));if(t.length>0){i=!0;break}}if("doc_type_key"===l&&e){let t=this.doc_type_list.filter((t=>e==t.value&&t.label.toLowerCase().indexOf(s)>-1));if(t.length>0){i=!0;break}}if("sub_doc_type_key"===l&&e){let t=this.sub_types_list.filter((t=>e==t.value&&t.label.toLowerCase().indexOf(s)>-1));if(t.length>0){i=!0;break}}if("rule_type"===l&&e){let t=this.classification_type_list.filter((t=>e==t.value&&t.label.toLowerCase().indexOf(s)>-1));if(t.length>0){i=!0;break}}}return i})),i):i}}});var ft=s(93676),yt=s(42315),vt=s(44488),wt=s(57722),kt=s(45262),Lt=s(84436),Et=s(53999),xt=s(10386);const Tt=(0,N.A)(bt,[["render",Me],["__scopeId","data-v-1c90efe0"]]),Ft=Tt;K()(bt,"components",{QInput:U.A,QIcon:dt.A,QSpace:ft.A,QTable:yt.A,QTr:vt.A,QTh:wt.A,QTd:kt.A,QBtn:M.A,QMenu:Lt.A,QList:Et.A,QItem:xe.A,QItemSection:Te.A,QSeparator:xt.A,QTooltip:_t.A,QDialog:Fe.A,QInnerLoading:ut.A});var At=s(15081),St=s(36801);const Dt=(0,i.pM)({el:"#app",components:{SubHeader:g.A,BackToSettings:m.A,DocumentSplitting:W,AmountFormatting:se,TableExtraction:Re,ClassificationRulesList:Ft,ModelsList:At["default"]},mounted:function(){this.setTab(),this.startSettingsFetch()},methods:{setTab(){this.tab="general",this.MODELS_LABELS_MODULE=(0,St.PL)("MODELS_LABELS_MODULE_SETTING"),this.$route.query&&this.$route.query.doc_type&&this.MODELS_LABELS_MODULE&&(this.tab="custom_models")}},setup(){const e=(0,q.Bu)(),{startSettingsFetch:t}=e;return{startSettingsFetch:t,tab:(0,p.KR)("general"),MODELS_LABELS_MODULE:(0,p.KR)(!1)}}});var Ct=s(42980),Ot=s(10327),Rt=s(39041),qt=s(71746),Qt=s(88841);const It=(0,N.A)(Dt,[["render",c]]),Vt=It;K()(Dt,"components",{QTabs:Ct.A,QTab:Ot.A,QTabPanels:Rt.A,QTabPanel:qt.A,QList:Et.A,QExpansionItem:Qt.A,QIcon:dt.A,QSpace:ft.A,QSeparator:xt.A,QCard:Ae.A,QCardSection:Se.A})}}]);