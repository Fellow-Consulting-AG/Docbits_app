"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[6649],{66649:(e,t,s)=>{s.r(t),s.d(t,{default:()=>De});var i=s(61758),n=s(58790);const a={class:"container page-height-limit"},o={style:{width:"100%"}},l={style:{"margin-top":"3px"}};function r(e,t,s,r,c,_){const u=(0,i.g2)("SubHeader"),d=(0,i.g2)("BackToSettings"),g=(0,i.g2)("q-separator"),h=(0,i.g2)("q-icon"),p=(0,i.g2)("q-space"),v=(0,i.g2)("OCRQuality"),m=(0,i.g2)("q-card-section"),f=(0,i.g2)("q-card"),k=(0,i.g2)("q-expansion-item"),b=(0,i.g2)("OcrGeneral"),A=(0,i.g2)("OcrTables"),E=(0,i.g2)("OcrForHeaderFields"),S=(0,i.g2)("q-list");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(u,{name:"ocr_settings",label:e.$t("ocr_settings")},null,8,["label"]),(0,i.bF)(d),(0,i.Lk)("div",a,[(0,i.Lk)("div",o,[(0,i.Lk)("div",null,[(0,i.bF)(S,{bordered:"",class:"rounded-borders"},{default:(0,i.k6)((()=>[(0,i.bF)(k,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,i.k6)((()=>[(0,i.bF)(h,{size:"25px",class:"q-mr-lg black_to_white",name:"img:images/ocr_icon.svg"}),(0,i.Lk)("span",l,(0,n.v_)(e.$t("pages.settings.ocr_quality")),1),(0,i.bF)(p)])),default:(0,i.k6)((()=>[(0,i.bF)(g),(0,i.bF)(f,{class:"page-background"},{default:(0,i.k6)((()=>[(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(v)])),_:1})])),_:1})])),_:1}),(0,i.bF)(k,{"expand-separator":"",icon:"description",label:e.$t("ocr_gereral_settings"),"header-class":"highlighted-back","default-opened":""},{default:(0,i.k6)((()=>[(0,i.bF)(g),(0,i.bF)(f,{class:"page-background"},{default:(0,i.k6)((()=>[(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(b)])),_:1})])),_:1})])),_:1},8,["label"]),(0,i.bF)(k,{"expand-separator":"",icon:"description",label:e.$t("ocr_table_settings"),"header-class":"highlighted-back","default-opened":""},{default:(0,i.k6)((()=>[(0,i.bF)(g),(0,i.bF)(f,{class:"page-background"},{default:(0,i.k6)((()=>[(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(A)])),_:1})])),_:1})])),_:1},8,["label"]),(0,i.bF)(k,{"expand-separator":"",icon:"description",label:e.$t("ocr_header_fields_settings"),"header-class":"highlighted-back","default-opened":""},{default:(0,i.k6)((()=>[(0,i.bF)(g),(0,i.bF)(f,{class:"page-background"},{default:(0,i.k6)((()=>[(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(E)])),_:1})])),_:1})])),_:1},8,["label"])])),_:1})])])])],64)}var c=s(66693),_=s(25773);const u={class:"row mt-30 justify-center",style:{height:"auto"}},d={style:{"margin-left":"200px","margin-right":"155px","margin-top":"20px"}},g={class:"row q-mt-sm"},h={class:"justify-center row q-mt-xl",style:{"margin-top":"100px"}};function p(e,t,s,a,o,l){const r=(0,i.g2)("q-slider"),c=(0,i.g2)("q-select");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",u,[(0,i.Lk)("div",d,(0,n.v_)(e.$t("ocr_setting_info")),1)]),(0,i.Lk)("div",null,[(0,i.Lk)("div",g,[(0,i.bF)(r,{class:"q-slider-ocr-settings q-slider-ocr-settings__track-container--h q-slider-ocr-settings__track q-slider-ocr-settings__track-markers",modelValue:e.ocr_check["OCR_PERCENTAGE"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.ocr_check["OCR_PERCENTAGE"]=t),min:0,max:100,color:"primary","label-always":"",markers:5,"marker-labels":e.arrayMarkerLabel,onChange:t[1]||(t[1]=t=>{e.save_org_pref(e.percent_name,t)})},null,8,["modelValue","marker-labels"])]),(0,i.Lk)("div",h,[(0,i.Lk)("div",{style:{width:"570px"},class:(0,n.C4)(+this.ocr_check["alert"]?"border-error-ocrserttings":"")},[(0,i.bF)(c,{modelValue:e.ocr_check["OCR_TODO"],"onUpdate:modelValue":[t[2]||(t[2]=t=>e.ocr_check["OCR_TODO"]=t),t[3]||(t[3]=t=>{e.save_org_pref(e.task_name,t.value)})],options:e.to_do_list,class:"white-inputs",dense:"",outlined:"",label:e.$t("ocr_setting_quality_lower")},null,8,["modelValue","options","label"])],2)])])],64)}var v=s(66715),m=s(24622),f=s(38734),k=s(1595),b=function(e,t,s,i){function n(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(i.next(e))}catch(t){a(t)}}function l(e){try{r(i["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):n(e.value).then(o,l)}r((i=i.apply(e,t||[])).next())}))};const A=(0,i.pM)({el:"#app",mixins:[m.A],setup(){const e=(0,k.Bu)(),{getSetting:t,updateSetting:s}=e;let i,n={};return{getSetting:t,updateSetting:s,arrayMarkerLabel:[{value:10,label:"10%"},{value:20,label:"20%"},{value:30,label:"30%"},{value:40,label:"40%"},{value:50,label:"50%"},{value:60,label:"60%"},{value:70,label:"70%"},{value:80,label:"80%"},{value:90,label:"90%"},{value:100,label:"100%"}],to_do_list:[{value:"run",label:v.i18n.t("run_anyway")},{value:"check",label:v.i18n.t("run_again_after_confirmation")},{value:"stop",label:v.i18n.t("throw_error")}],display_data:[],ocr_check:(0,f.KR)(n),epdf:(0,f.KR)(i),icon:(0,f.KR)(!1),processing:(0,f.KR)(!1)}},mounted(){this.initView()},data(){return{percent_name:"OCR_PERCENTAGE",task_name:"OCR_TODO",default_percent:"75",default_todo:"check"}},methods:{initView(){return b(this,void 0,void 0,(function*(){yield this.getData(),this.setDefaultValues(),this.setOCRTodo()}))},getData(){return b(this,void 0,void 0,(function*(){const e=yield this.getSetting(this.percent_name);void 0!=e&&(this.ocr_check[this.percent_name]=e);const t=yield this.getSetting(this.task_name);void 0!=t&&(this.ocr_check[this.task_name]=t)}))},setDefaultValues(){this.ocr_check.hasOwnProperty(this.percent_name)||(this.ocr_check[this.percent_name]="75",this.save_org_pref(this.percent_name,"75")),this.ocr_check.hasOwnProperty(this.task_name)||(this.ocr_check[this.task_name]="check",this.save_org_pref(this.task_name,"check"))},setOCRTodo(){for(const[e,t]of Object.entries(this.to_do_list))this.ocr_check[this.task_name]==t.value&&(this.ocr_check[this.task_name]=t.label)},save_org_pref(e,t){return b(this,void 0,void 0,(function*(){try{this.processing=!0;yield this.updateSetting(e,t);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(s){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(s)}finally{this.processing=!1}}))}}});var E=s(12807),S=s(1444),w=s(94940),T=s(56384),L=s(80460),x=s(98582),y=s.n(x);const F=(0,E.A)(A,[["render",p],["__scopeId","data-v-706b0577"]]),R=F;y()(A,"components",{QSlider:S.A,QSelect:w.A,QBtn:T.A,QCheckbox:L.A});const O=e=>((0,i.Qi)("data-v-7e079aea"),e=e(),(0,i.jt)(),e),C={class:"row content-start main-settings"},I=O((()=>(0,i.Lk)("div",{class:"col-2"},null,-1))),U={class:"col-10"},V={class:"row content-start main-settings"},q=O((()=>(0,i.Lk)("div",{class:"col-2"},null,-1))),$={class:"col-10"},Q={style:{"max-width":"400px"}},D={class:"row content-start main-settings"},X=O((()=>(0,i.Lk)("div",{class:"col-2"},null,-1))),K={class:"col-10"},N=O((()=>(0,i.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function B(e,t,s,a,o,l){const r=(0,i.g2)("q-checkbox"),c=(0,i.g2)("q-tooltip"),_=(0,i.g2)("q-icon"),u=(0,i.g2)("q-select"),d=(0,i.g2)("q-inner-loading");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",C,[I,(0,i.Lk)("div",U,[(0,i.bF)(r,{modelValue:e.user_settings[e.use_etext_if_available],"onUpdate:modelValue":t[0]||(t[0]=t=>e.user_settings[e.use_etext_if_available]=t),label:e.$t("ocr_setting_etext"),"toggle-indeterminate":!1,onClick:t[1]||(t[1]=t=>e.save_org_pref(e.use_etext_if_available,e.user_settings[e.use_etext_if_available]))},null,8,["modelValue","label"])])]),(0,i.Lk)("div",V,[q,(0,i.Lk)("div",$,[(0,i.bF)(r,{modelValue:e.user_settings[e.deskew_document],"onUpdate:modelValue":t[2]||(t[2]=t=>e.user_settings[e.deskew_document]=t),label:e.$t("use_deskew_if_available"),"toggle-indeterminate":!1,onClick:t[3]||(t[3]=t=>e.save_org_pref(e.deskew_document,e.user_settings[e.deskew_document]))},null,8,["modelValue","label"]),(0,i.bF)(_,{name:"help_outline",class:"help-sign cursor-pointer"},{default:(0,i.k6)((()=>[(0,i.bF)(c,null,{default:(0,i.k6)((()=>[(0,i.Lk)("div",Q,(0,n.v_)(e.$t("use_deskew_info")),1)])),_:1})])),_:1})])]),(0,i.Lk)("div",D,[X,(0,i.Lk)("div",K,[(0,i.bF)(u,{outlined:"",dense:"",class:"back-white width-200",modelValue:e.user_settings[e.ai_ocr_version],"onUpdate:modelValue":[t[4]||(t[4]=t=>e.user_settings[e.ai_ocr_version]=t),t[5]||(t[5]=t=>{e.save_org_pref(e.ai_ocr_version,t)})],options:e.aiOcrVersionList,"emit-value":"","map-options":"",label:e.$t("ai_ocr_version")},null,8,["modelValue","options","label"])])]),(0,i.bF)(d,{showing:e.processing},{default:(0,i.k6)((()=>[N])),_:1},8,["showing"])],64)}var M=s(1659),P=s(76956),G=function(e,t,s,i){function n(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(i.next(e))}catch(t){a(t)}}function l(e){try{r(i["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):n(e.value).then(o,l)}r((i=i.apply(e,t||[])).next())}))};const H=(0,i.pM)({el:"#app",components:{},mixins:[m.A],data(){return{ai_ocr_version:P.aH.ai_ocr_version,deskew_document:P.aH.deskew_document,use_etext_if_available:P.aH.use_etext_if_available}},setup(){const e=(0,k.Bu)(),{user_settings:t,loading_settings:s}=(0,M.bP)(e),{getSetting:i,updateSetting:n}=e;return{getSetting:i,updateSetting:n,user_settings:t,loading_settings:s,USE_ETEXT_IF_AVAILABLE:(0,f.KR)(!1),DESKEW_DOCUMENT:(0,f.KR)(!1),AI_OCR_VERSION_MODEL:(0,f.KR)("1.2"),processing:(0,f.KR)(!1),aiOcrVersionList:[{label:"1.2",value:"1.2"},{label:"2.0",value:"2.0"},{label:"2.1",value:"2.1"}]}},watch:{loading_settings:{handler:function(e,t){0==e&&1==t?(this.processing=!1,this.setDefaultSettings()):this.processing=!0}}},beforeRouteLeave:function(e,t,s){s()},mounted:function(){this.setDefaultSettings()},methods:{save_org_pref(e,t){return G(this,void 0,void 0,(function*(){try{this.processing=!0;yield this.updateSetting(e,t);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(s){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(s)}finally{this.processing=!1}}))},setDefaultSettings(){this.user_settings[this.deskew_document]||(this.user_settings[this.deskew_document]=!1),this.user_settings[this.use_etext_if_available]||(this.user_settings[this.use_etext_if_available]=!1),this.user_settings[this.ai_ocr_version]||(this.user_settings[this.ai_ocr_version]="1.2")}}});var j=s(50492),z=s(97410),W=s(39035);const J=(0,E.A)(H,[["render",B],["__scopeId","data-v-7e079aea"]]),Y=J;y()(H,"components",{QCheckbox:L.A,QIcon:j.A,QTooltip:z.A,QSelect:w.A,QInnerLoading:W.A});const Z=e=>((0,i.Qi)("data-v-7e4928d8"),e=e(),(0,i.jt)(),e),ee={class:"row content-start main-settings"},te=Z((()=>(0,i.Lk)("div",{class:"col-2"},null,-1))),se={class:"col-10"},ie={style:{"max-width":"400px"}},ne=Z((()=>(0,i.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function ae(e,t,s,a,o,l){const r=(0,i.g2)("q-checkbox"),c=(0,i.g2)("q-tooltip"),_=(0,i.g2)("q-icon"),u=(0,i.g2)("q-inner-loading");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",ee,[te,(0,i.Lk)("div",se,[(0,i.bF)(r,{modelValue:e.USE_AI_DATA_FOR_TABLE,"onUpdate:modelValue":t[0]||(t[0]=t=>e.USE_AI_DATA_FOR_TABLE=t),label:e.$t("use_ai_data_for_tables"),"toggle-indeterminate":!1,onClick:t[1]||(t[1]=t=>e.save_org_pref("USE_AI_DATA_FOR_TABLE",this.USE_AI_DATA_FOR_TABLE))},null,8,["modelValue","label"]),(0,i.bF)(_,{name:"help_outline",class:"help-sign cursor-pointer"},{default:(0,i.k6)((()=>[(0,i.bF)(c,null,{default:(0,i.k6)((()=>[(0,i.Lk)("div",ie,(0,n.v_)(e.$t("use_ai_data_for_tables_info")),1)])),_:1})])),_:1})])]),(0,i.bF)(u,{showing:e.processing},{default:(0,i.k6)((()=>[ne])),_:1},8,["showing"])],64)}var oe=function(e,t,s,i){function n(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(i.next(e))}catch(t){a(t)}}function l(e){try{r(i["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):n(e.value).then(o,l)}r((i=i.apply(e,t||[])).next())}))};const le=(0,i.pM)({el:"#app",components:{},mixins:[m.A],setup(){const e=(0,k.Bu)(),{getSetting:t,updateSetting:s}=e;return{getSetting:t,updateSetting:s,USE_AI_DATA_FOR_TABLE:(0,f.KR)(!1),processing:(0,f.KR)(!1)}},mounted:function(){this.getAllSettings()},methods:{getAllSettings(){return oe(this,void 0,void 0,(function*(){this.processing=!0,this.USE_AI_DATA_FOR_TABLE=yield this.getData("USE_AI_DATA_FOR_TABLE"),this.processing=!1}))},getData(e){return oe(this,void 0,void 0,(function*(){let t=!1;try{const s=yield this.getSetting(e);t="true"===s}catch(s){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(s),this.processing=!1}return t}))},save_org_pref(e,t){return oe(this,void 0,void 0,(function*(){try{this.processing=!0;yield this.updateSetting(e,t);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(s){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(s)}finally{this.processing=!1}}))}}}),re=(0,E.A)(le,[["render",ae],["__scopeId","data-v-7e4928d8"]]),ce=re;y()(le,"components",{QCheckbox:L.A,QIcon:j.A,QTooltip:z.A,QInnerLoading:W.A});const _e=e=>((0,i.Qi)("data-v-30e21508"),e=e(),(0,i.jt)(),e),ue={class:"row"},de=_e((()=>(0,i.Lk)("div",{class:"col-2 text-red text-weight-bold"},null,-1))),ge={class:"col-4 text-red text-weight-bold q-ml-sm"},he={class:"row"},pe={class:"col-2 text-red text-weight-bold",style:{visibility:"hidden"}},ve={class:"col-3 text-red text-weight-bold q-ml-sm"},me={class:"row content-start"},fe=_e((()=>(0,i.Lk)("div",{class:"col-2"},null,-1))),ke={class:"col-10"},be={class:"row flex"},Ae={class:"col-auto q-mr-md"},Ee={style:{"max-width":"400px"}},Se={class:"col-auto"},we={style:{"max-width":"400px"}},Te=_e((()=>(0,i.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function Le(e,t,s,a,o,l){const r=(0,i.g2)("q-checkbox"),c=(0,i.g2)("q-tooltip"),_=(0,i.g2)("q-icon"),u=(0,i.g2)("q-inner-loading");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",ue,[de,(0,i.Lk)("div",ge,(0,n.v_)(e.$t("note"))+" "+(0,n.v_)(e.$t("note_ocr_header_fields")),1)]),(0,i.Lk)("div",he,[(0,i.Lk)("div",pe,(0,n.v_)(e.$t("note")),1),(0,i.Lk)("div",ve,(0,n.v_)(e.$t("use_rules_extraction"))+" → "+(0,n.v_)(e.$t("use_ai_extraction")),1)]),(0,i.Lk)("div",me,[fe,(0,i.Lk)("div",ke,[(0,i.Lk)("div",be,[(0,i.Lk)("div",Ae,[(0,i.bF)(r,{modelValue:e.USE_RULES_EXTRACTION,"onUpdate:modelValue":t[0]||(t[0]=t=>e.USE_RULES_EXTRACTION=t),label:e.$t("use_rules_extraction"),"toggle-indeterminate":!1,onClick:t[1]||(t[1]=t=>e.save_org_pref("USE_RULES_EXTRACTION",this.USE_RULES_EXTRACTION))},null,8,["modelValue","label"]),(0,i.bF)(_,{name:"help_outline",class:"help-sign cursor-pointer"},{default:(0,i.k6)((()=>[(0,i.bF)(c,null,{default:(0,i.k6)((()=>[(0,i.Lk)("div",Ee,(0,n.v_)(e.$t("use_rules_extraction_info")),1)])),_:1})])),_:1})]),(0,i.Lk)("div",Se,[(0,i.bF)(r,{modelValue:e.USE_AI_EXTRACTION,"onUpdate:modelValue":t[2]||(t[2]=t=>e.USE_AI_EXTRACTION=t),label:e.$t("use_ai_extraction"),"toggle-indeterminate":!1,onClick:t[3]||(t[3]=t=>e.save_org_pref("USE_AI_EXTRACTION",this.USE_AI_EXTRACTION))},null,8,["modelValue","label"]),(0,i.bF)(_,{name:"help_outline",class:"help-sign cursor-pointer"},{default:(0,i.k6)((()=>[(0,i.bF)(c,null,{default:(0,i.k6)((()=>[(0,i.Lk)("div",we,(0,n.v_)(e.$t("use_ai_extraction_info")),1)])),_:1})])),_:1})])])])]),(0,i.bF)(u,{showing:e.processing},{default:(0,i.k6)((()=>[Te])),_:1},8,["showing"])],64)}var xe=function(e,t,s,i){function n(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function o(e){try{r(i.next(e))}catch(t){a(t)}}function l(e){try{r(i["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):n(e.value).then(o,l)}r((i=i.apply(e,t||[])).next())}))};const ye=(0,i.pM)({el:"#app",components:{},mixins:[m.A],setup(){const e=(0,k.Bu)(),{getSetting:t,updateSetting:s}=e;return{getSetting:t,updateSetting:s,USE_AI_EXTRACTION:(0,f.KR)(!1),USE_RULES_EXTRACTION:(0,f.KR)(!1),processing:(0,f.KR)(!1)}},mounted:function(){this.getAllSettings()},methods:{getAllSettings(){return xe(this,void 0,void 0,(function*(){this.processing=!0,this.USE_AI_EXTRACTION=yield this.getData("USE_AI_EXTRACTION"),this.USE_RULES_EXTRACTION=yield this.getData("USE_RULES_EXTRACTION"),this.processing=!1}))},getData(e){return xe(this,void 0,void 0,(function*(){let t=!1;try{const s=yield this.getSetting(e);t="true"===s}catch(s){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(s),this.processing=!1}return t}))},save_org_pref(e,t){return xe(this,void 0,void 0,(function*(){try{this.processing=!0;yield this.updateSetting(e,t);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(s){this.showErrorToast(this.$t("pages.messages.error_internal_occur")),logError(s)}finally{this.processing=!1}}))}}}),Fe=(0,E.A)(ye,[["render",Le],["__scopeId","data-v-30e21508"]]),Re=Fe;y()(ye,"components",{QCheckbox:L.A,QIcon:j.A,QTooltip:z.A,QInnerLoading:W.A});const Oe=(0,i.pM)({el:"#app",components:{SubHeader:c.A,BackToSettings:_.A,OCRQuality:R,OcrGeneral:Y,OcrTables:ce,OcrForHeaderFields:Re}});var Ce=s(53999),Ie=s(88841),Ue=s(10386),Ve=s(93676),qe=s(23316),$e=s(44189);const Qe=(0,E.A)(Oe,[["render",r],["__scopeId","data-v-34f5fcb0"]]),De=Qe;y()(Oe,"components",{QList:Ce.A,QExpansionItem:Ie.A,QSeparator:Ue.A,QIcon:j.A,QSpace:Ve.A,QCard:qe.A,QCardSection:$e.A})}}]);