"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[3121],{23121:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Oe});var i=s(61758),r=s(58790),o=s(29104);const a=e=>((0,i.Qi)("data-v-f0cbcfb2"),e=e(),(0,i.jt)(),e),l={class:"page-holder"},n={class:"container login"},c={key:0,class:"row login-box"},d={class:"upper-section"},u={class:"text-primary text-heading text-weight-bold"},m=a((()=>(0,i.Lk)("br",null,null,-1))),h={class:"q-pt-xl text-muted text-sm"},p=a((()=>(0,i.Lk)("div",{class:"col-2"},null,-1))),g={class:"col-8",id:"email"},_={class:"col-sm-12 col-md-12 col-lg-12 text-red-5 height-20 q-pl-md"},b={class:"col-8",id:"password"},f={class:"col-sm-12 col-md-12 col-lg-12 text-red-5 height-20 q-pl-md"},v={class:"text-center"},w={class:"mobile-hide"},y={class:"text-center"},k={class:"absolute-bottom"},L={class:"mainLine"},A=a((()=>(0,i.Lk)("div",{class:"signupLines"},null,-1))),S={class:"q-px-sm text-primary"},x=a((()=>(0,i.Lk)("div",{class:"signupLines"},null,-1))),C={class:"row justify-center"},F={class:"btnG"},E=a((()=>(0,i.Lk)("br",null,null,-1))),q={class:"btnM"},$={style:{"border-top":"1px solid lightgrey"}},T={class:"text-sm text-muted q-pt-md mobile-hide"},D=a((()=>(0,i.Lk)("div",{class:"col-xs-0 col-sm-0 col-md-2 col-lg-2 text-center mobile-hide"},null,-1))),R={class:"col-xs-0 col-sm-0 col-md-4 col-lg-4 text-center mobile-hide"},I={style:{top:"20%",bottom:"50%",position:"relative"}},V=a((()=>(0,i.Lk)("img",{class:"vertical-middle",height:"300",width:"300",src:"images/fellowpro_white.png",alt:""},null,-1))),K={class:"mb-14 text-white"},P=a((()=>(0,i.Lk)("br",{class:"d-none d-lg-inline"},null,-1))),M=a((()=>(0,i.Lk)("div",{class:"col-xs-0 col-sm-0 col-md-1 col-lg-1 mobile-hide"},null,-1))),U={href:"https://en.docs.fellowpro.com/docbits/settings-users/#adding-a-user",class:"text-primary"},O={class:"row",style:{"flex-direction":"column",width:"100%"}},Q={key:0,class:"row",style:{width:"100%",display:"flex","flex-direction":"column","align-items":"flex-start"}},H=a((()=>(0,i.Lk)("img",{class:"loader",src:"images/loader.gif",alt:"Loading..."},null,-1)));function W(e,t,s,a,W,j){const X=(0,i.g2)("q-img"),N=(0,i.g2)("q-select"),z=(0,i.g2)("q-card-section"),B=(0,i.g2)("q-input"),G=(0,i.g2)("q-icon"),J=(0,i.g2)("q-btn"),Z=(0,i.g2)("PasswordDisableCounter"),Y=(0,i.g2)("GoogleLogin"),ee=(0,i.g2)("MicrosoftLogin"),te=(0,i.g2)("q-card"),se=(0,i.g2)("ResendVerifyEmail"),ie=(0,i.g2)("q-card-actions"),re=(0,i.g2)("q-dialog"),oe=(0,i.g2)("q-inner-loading");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",l,[(0,i.Lk)("div",n,[e.userlogin?((0,i.uX)(),(0,i.CE)("div",c,[(0,i.bF)(te,{class:"col-xs-12 col-sm-12 col-md-5 col-lg-5"},{default:(0,i.k6)((()=>[(0,i.bF)(z,{class:"absolute-top"},{default:(0,i.k6)((()=>[(0,i.bF)(X,{src:"images/docbits.svg",style:{"max-width":"120px"}}),(0,i.bF)(N,{modelValue:e.locale,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.locale=t),e.languageChanged],options:e.localeOptions,dense:"",borderless:"","emit-value":"","map-options":"","options-dense":"",class:"float-right q-ml-auto text-grey-7 text-uppercase q-mr-md"},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1}),(0,i.Lk)("div",d,[(0,i.bF)(z,{class:"text-center"},{default:(0,i.k6)((()=>[(0,i.Lk)("span",u,(0,r.v_)(e.$t("pages.login.welcome_to")),1),m,(0,i.bF)(X,{src:"images/docbits.svg",class:"q-mt-md",style:{"max-width":"235px"}}),(0,i.Lk)("p",h,[(0,i.eW)((0,r.v_)(e.$t("pages.login.login_sub_header"))+" ",1),(0,i.Lk)("a",{class:"text-primary cursor-pointer",style:{"text-decoration":"underline"},onClick:t[1]||(t[1]=t=>e.contactPage())},(0,r.v_)(e.$t("pages.login.here")),1)])])),_:1}),(0,i.bF)(z,{class:""},{default:(0,i.k6)((()=>[p,(0,i.Lk)("div",g,[(0,i.bF)(B,{onKeyup:(0,o.jR)(e.enterS,["enter"]),modelValue:e.email,"onUpdate:modelValue":t[2]||(t[2]=t=>e.email=t),dense:"","data-cy":"email",label:e.$t("pages.login.email"),outlined:""},null,8,["onKeyup","modelValue","label"])]),(0,i.Lk)("div",_,(0,r.v_)(e.emailError),1),(0,i.Lk)("div",b,[(0,i.bF)(B,{onKeyup:(0,o.jR)(e.enterS,["enter"]),type:e.showPassword?"text":"password",modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),"data-cy":"password",label:e.$t("pages.login.password"),outlined:"",dense:""},{append:(0,i.k6)((()=>[(0,i.bF)(G,{onClick:e.toggleShow,flat:"",dense:"",name:e.showPassword?"visibility_off":"visibility",size:"24px",class:"cursor-pointer"},null,8,["onClick","name"])])),_:1},8,["onKeyup","type","modelValue","label"])]),(0,i.Lk)("div",f,(0,r.v_)(e.passwordError),1),(0,i.Lk)("div",v,[(0,i.Lk)("p",w,[(0,i.Lk)("a",{class:"cursor-pointer text-primary text-subtitle1",id:"forgot_button",style:{"text-decoration":"underline"},onClick:t[4]||(t[4]=t=>e.onResetPW())},(0,r.v_)(e.$t("pages.login.forgot_password")),1)])]),(0,i.Lk)("div",y,[(0,i.bF)(J,{id:"login_button",unelevated:"",disable:e.processing||e.start_disable_submit_timer,onKeyup:(0,o.jR)(e.enterS,["enter"]),label:e.$t("pages.login.login_button"),color:"primary","text-color":"white",onClick:t[5]||(t[5]=t=>e.onSubmit())},null,8,["disable","onKeyup","label"]),(0,i.bF)(Z,{start_timer:e.start_disable_submit_timer,counter_end_time:e.disable_submit_time,onDisableTimerDone:e.disableTimerDone},null,8,["start_timer","counter_end_time","onDisableTimerDone"])])])),_:1})]),(0,i.Lk)("div",k,[(0,i.bF)(z,null,{default:(0,i.k6)((()=>[(0,i.Lk)("div",L,[A,(0,i.Lk)("div",S,(0,r.v_)(e.$t("pages.login.social_media")),1),x]),(0,i.Lk)("div",C,[(0,i.Lk)("div",F,[(0,i.bF)(Y)]),E,(0,i.Lk)("div",q,[(0,i.bF)(ee)])])])),_:1}),(0,i.bF)(z,{class:"text-center"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",$,[(0,i.Lk)("div",T,[(0,i.eW)((0,r.v_)(e.$t("pages.login.no_account"))+" ",1),(0,i.Lk)("a",{class:"text-primary cursor-pointer",style:{"text-decoration":"underline"},onClick:t[6]||(t[6]=t=>e.user_register())},(0,r.v_)(e.$t("pages.login.register")),1),(0,i.eW)(". ")])])])),_:1})])])),_:1}),D,(0,i.Lk)("div",R,[(0,i.Lk)("div",I,[V,(0,i.Lk)("h1",K,[(0,i.eW)((0,r.v_)(e.$t("pages.login.learn_polydocs"))+" ",1),P,(0,i.eW)((0,r.v_)(e.$t("pages.login.visit_site")),1)]),(0,i.bF)(J,{unelevated:"",color:"primary","text-color":"white",onClick:t[7]||(t[7]=t=>e.goCloud()),label:e.$t("pages.login.visit_site_btn")},null,8,["label"])])]),M])):(0,i.Q3)("",!0)])]),(0,i.bF)(re,{modelValue:e.display_error,"onUpdate:modelValue":t[9]||(t[9]=t=>e.display_error=t),persistent:"",class:"login-error-dialog"},{default:(0,i.k6)((()=>[(0,i.bF)(te,{style:{width:"500px","max-width":"40vw"}},{default:(0,i.k6)((()=>[(0,i.bF)(z,{class:"row items-center login-error-background p-4"},{default:(0,i.k6)((()=>[(0,i.bF)(G,{color:"white",size:"xl",class:"q-ml-auto q-mr-auto",name:"warning"})])),_:1}),(0,i.bF)(z,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,r.v_)(e.error_message)+" ",1),(0,i.Lk)("a",U,(0,r.v_)(e.$t("help_center")),1)])),_:1}),(0,i.bF)(ie,null,{default:(0,i.k6)((()=>[(0,i.Lk)("div",O,[(0,i.bF)(J,{label:e.$t("Close"),class:"q-mr-sm login-error-background",color:"primary",onClick:t[8]||(t[8]=t=>e.display_error=!1)},null,8,["label"])]),e.show_verif_email_btn?((0,i.uX)(),(0,i.CE)("div",Q,[(0,i.bF)(se,{email:e.email},null,8,["email"])])):(0,i.Q3)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.bF)(oe,{showing:e.processing},{default:(0,i.k6)((()=>[H])),_:1},8,["showing"])],64)}var j=s(82303),X=s(23537),N=s(92162),z=s(24622),B=s(38734),G=s(34863),J=s(96056),Z=s(59020),Y=s(11470),ee=s(41498),te=s(14907),se=s(45022),ie=s(41903),re=s(3120),oe=s(39524),ae=s(36454),le=s(94124);const ne=e=>((0,i.Qi)("data-v-2491afc4"),e=e(),(0,i.jt)(),e),ce={key:0,class:"login_time_out_message"},de=ne((()=>(0,i.Lk)("div",{class:"col-4 secondary-c-text login_timout_time",style:{width:"150px"}},null,-1)));function ue(e,t,s,o,a,l){return(0,i.uX)(),(0,i.CE)(i.FK,null,[e.start_timer?((0,i.uX)(),(0,i.CE)("div",ce,(0,r.v_)(e.$t("failed_login_attempts_warning")),1)):(0,i.Q3)("",!0),de],64)}function me(e,t){var s=document.createElement("span");s.className="flip-clock__piece",s.innerHTML='<b class="flip-clock__card card"><b class="card__top"></b><b class="card__bottom"></b><b class="card__back"><b class="card__bottom"></b></b></b>',this.el=s;var i=s.querySelector(".card__top"),r=s.querySelector(".card__bottom"),o=s.querySelector(".card__back"),a=s.querySelector(".card__back .card__bottom");this.update=function(e){e=("0"+e).slice(-2),e!==this.currentValue&&(this.currentValue>=0&&(o.setAttribute("data-value",this.currentValue),r.setAttribute("data-value",this.currentValue)),this.currentValue=e,i.innerText=this.currentValue,a.setAttribute("data-value",this.currentValue),this.el.classList.remove("flip"),this.el.offsetWidth,this.el.classList.add("flip"))},this.update(t)}function he(e){var t=Date.parse(e)-Date.parse(new Date);return{Total:t,Hours:Math.floor(t/36e5%24),Minutes:Math.floor(t/1e3/60%60),Seconds:Math.floor(t/1e3%60)}}function pe(){var e=new Date;return{Total:e,Hours:e.getHours()%12,Minutes:e.getMinutes(),Seconds:e.getSeconds()}}function ge(e,t){e=!!e&&new Date(Date.parse(e)),t=t||function(){};var s=e?he:pe;this.el=document.createElement("div"),this.el.className="flip-clock";var i,r,o={},a=s(e);for(i in a)a[i]<0&&(a[i]=0),"Total"!==i&&(o[i]=new me(i,a[i]),this.el.appendChild(o[i].el));var l=0;function n(){if(r=requestAnimationFrame(n),!(l++%10)){var a=s(e);if(a.Total<0){for(i in cancelAnimationFrame(r),o)o[i].update(0);t()}else for(i in o)o[i].update(a[i])}}setTimeout(n,500)}const _e=(0,i.pM)({el:"#app",props:{start_timer:{type:Boolean,default:!1},counter_end_time:{type:String,default:""}},watch:{start_timer:{handler:function(e,t){e?this.setCounter():this.hideCounter()}}},emits:["disableTimerDone"],mounted(){this.initView()},methods:{initView(){this.setCounter()},makeCounter(){let e=document.querySelector(".login_timout_time");e.innerHTML="";var t=new Date(this.counter_dateTime),s=new ge(t,this.timeCompleted);e.appendChild(s.el)},timeCompleted(){this.$emit("disableTimerDone")},hideCounter(){let e=document.querySelector(".login_timout_time");e.innerHTML=""},getDistance(){const e=(new Date).getTime(),t=this.counter_time-e;return t},setCounter(){try{if(!1===this.start_timer)return;this.counter_dateTime=new Date(this.counter_end_time),this.counter_time=this.counter_dateTime.getTime();const e=this.getDistance();e<0&&this.expired_tries++,this.makeCounter()}catch(e){}}},setup(){return{counter_value:(0,B.KR)(""),counter_time:(0,B.KR)(0),counter_dateTime:(0,B.KR)({}),counter_interval:(0,B.KR)(0),expired_tries:(0,B.KR)(0)}}});var be=s(12807);const fe=(0,be.A)(_e,[["render",ue],["__scopeId","data-v-2491afc4"]]),ve=fe;var we=s(46162),ye=s(60521),ke=s(6044),Le=s(55930),Ae=s(68450),Se=function(e,t,s,i){function r(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,o){function a(e){try{n(i.next(e))}catch(t){o(t)}}function l(e){try{n(i["throw"](e))}catch(t){o(t)}}function n(e){e.done?s(e.value):r(e.value).then(a,l)}n((i=i.apply(e,t||[])).next())}))};const xe=(0,i.pM)({el:"#app",mixins:[z.A,Z.A,J.A,G.A,ye.A,ke.A],components:{GoogleLogin:oe.A,MicrosoftLogin:ae.A,ResendVerifyEmail:re.A,PasswordDisableCounter:ve},data(){return{email:"",password:"",emailError:"",passwordError:"",forgotPW:we.FH.forgot_password_url,userlogin:!0,userregister:!1,disable_submit_difference:60,lang:navigator.language}},watch:{display_error(e,t){}},mounted(){this.init(),this.isUserAlreadyLoggedIn(),document.addEventListener("social_media_login_after",this.socialMediaLoginAfter)},unmounted:function(){document.removeEventListener("social_media_login_after",this.socialMediaLoginAfter)},methods:{init(){se.A.has("selected_language")?this.locale=se.A.getItem("selected_language"):this.locale=this.lang},isUserAlreadyLoggedIn(){return Se(this,void 0,void 0,(function*(){const e=(0,le._6)(),t=yield e.isLoggedIn();t?this.afterLoginRedirect(this):this.clearStorageForLogout()}))},enterS(){this.start_disable_submit_timer||this.onSubmit()},socialMediaLoginAfter(e){this.handleSocialMediaRedirect(e.detail)},toggleShow(){this.showPassword=!this.showPassword},goCloud(){ee.gFA&&window.open(ee.gFA)},goHelp(){ee.JzX&&window.open(ee.JzX)},contactPage(){window.open("https://fellowpro.com/de/kontakt/")},user_register(){this.$router.push("/register")},onResetPW(){this.$router.push("/forget-password")},onSubmit(){this.email=this.removeSpaces(this.email);let e=this.validateEmail(this.email);e?(this.removeClass((0,N.$)("#email").querySelector("label"),"error-border-left"),this.addClass((0,N.$)("#email").querySelector("label"),"success-border-left"),this.emailError=""):(this.removeClass((0,N.$)("#email").querySelector("label"),"success-border-left"),this.addClass((0,N.$)("#email").querySelector("label"),"error-border-left"),this.emailError=this.$t("pages.messages.invalid_email")),this.password&&""!=this.password?(this.removeClass((0,N.$)("#password").querySelector("label"),"error-border-left"),this.addClass((0,N.$)("#password").querySelector("label"),"success-border-left"),this.passwordError=""):(this.removeClass((0,N.$)("#password").querySelector("label"),"success-border-left"),this.addClass((0,N.$)("#password").querySelector("label"),"error-border-left"),this.passwordError=this.$t("pages.messages.password_mandatory")),this.emailError||this.passwordError||this.authenticateUser()},authenticateUser(){return Se(this,void 0,void 0,(function*(){try{this.processing=!0;let e={username:this.email,password:this.removeSpaces(this.password)};const t=yield Y.jD.login(e);t&&this.afterLoginEvent(t)}catch(e){this.handleLoginFailed(),this.handleErrorFromApi(e),this.processing=!1}}))},handleLoginFailed(){this.start_disable_submit_timer=!1;let e=se.A.getItem("login_attempts")||0;if(se.A.set("login_attempts",++e),e>3){const t=(e-3)*this.disable_submit_difference;this.disableSubmit(t)}},disableSubmit(e=60){e<0&&(e=this.disable_submit_difference),this.start_disable_submit_timer=!0,this.disable_submit_time=new Date,this.disable_submit_time.setSeconds(this.disable_submit_time.getSeconds()+e)},disableTimerDone(){this.start_disable_submit_timer=!1,this.disable_submit_time=null},handleSpecificErrors(e){e.hasOwnProperty("error")&&"email_not_verified"===e.error&&(this.show_verif_email_btn=!0)},afterLoginEvent(e){return Se(this,void 0,void 0,(function*(){try{this.processing=!0,this.setTokenInLocalStorage(e),yield this.setAuthToken("Bearer "+e.access_token),yield Y.E9.setUserSession(),yield this.fetchUserSettings(),this.getUniqueLockId();const t=yield this.verifySubscription();if(!t)return;Le.U.updateVersion(),this.afterLoginRedirect(this)}catch(t){this.handleErrorFromApi(t)}finally{this.processing=!1}}))},verifySubscription(){return Se(this,void 0,void 0,(function*(){try{const e=(0,le.SX)();yield e.getSubscriptionFromServer();const t=e.getSubscription();if((0,Ae.z)(t))throw{message:"Subscription Error"};return!0}catch(e){return this.clearStorageForLogout(),this.displayError("Subscription Error. Please contact support."),!1}}))},onReset(){this.email="",this.password="",this.emailError="",this.passwordError="",this.removeClass((0,N.$)("#email").querySelector("label"),"error-border-left"),this.removeClass((0,N.$)("#password").querySelector("label"),"error-border-left")},handleSocialMediaRedirect(e){return Se(this,void 0,void 0,(function*(){try{if(!e.access_type||!e.access_token)return;this.processing=!0;let t=new FormData;t.append("type",e.access_type),t.append("access_token",e.access_token);let s=yield this.getSocialToken(t);this.afterLoginEvent(s)}catch(t){this.handleErrorFromApi(t),this.processing=!1}}))},getSocialToken(e){return Se(this,void 0,void 0,(function*(){let t;t=yield j.A.post(we.FH.social_token,e,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,we.ti)()},timeout:1e4,timeoutErrorMessage:"Request timed out"});const s=!(!t.data||!t.data.hasOwnProperty("success")||!0!==t.data.success);if(!s&&t.data.hasOwnProperty("message_code")&&"INVALID_AUTHORIZATION_CODE"==t.data.message_code)throw{message:this.$t("errors.INVALID_AUTHORIZATION_CODE")};if(!s&&t.data.hasOwnProperty("message"))throw{message:t.data.message};if(s){let e=t.data.token;return e}return""}))},displayError(e){this.display_error=!0;let t="";t='Invalid "username" or "password" in request.'==e?this.$t("invalid_user_password"):e,t||(t=this.$t("general_login_error")),this.error_message=t},handleErrorFromApi(e){let t="";e.response&&400===e.response.status&&(t=this.$t("pages.messages.INVALID_EMAIL_PASSWORD")),null!=e&&"object"==typeof e&&e.hasOwnProperty("message")&&(t=e.message),e&&e.response&&e.response.data&&(e.response.data.hasOwnProperty("message")&&(t=e.response.data.message),e.response.data.hasOwnProperty("error_description")&&(t=e.response.data.error_description,this.handleSpecificErrors(e.response.data))),t&&""!==t&&this.displayError(t)},languageChanged(){se.A.set("selected_language",this.locale),ie.A.set("event_name","language_change"),se.A.remove("doc_types")}},setup(){(0,te.A)();let{locale:e}=(0,X.s9)({useScope:"global"});const t=(0,le.oI)(),{getUniqueLockId:s}=t,i=(0,le._6)(),{setAuthToken:r}=i,o=(0,le.kH)(),{fetchUserSettings:a}=o;return{fetchUserSettings:a,setAuthToken:r,locale:(0,B.KR)(e),access_token:(0,B.KR)(""),access_type:(0,B.KR)("google"),display_error:(0,B.KR)(!1),error_message:(0,B.KR)(""),show_verif_email_btn:(0,B.KR)(!1),processing:(0,B.KR)(!1),showPassword:(0,B.KR)(!1),start_disable_submit_timer:(0,B.KR)(!1),disable_submit_time:(0,B.KR)(null),getUniqueLockId:s,localeOptions:[{value:"en-us",label:"English"},{value:"de",label:"Deutsch"},{value:"es-es",label:"Español"},{value:"fr",label:"Français"},{value:"nl",label:"Dutch"}]}}});var Ce=s(23316),Fe=s(44189),Ee=s(15046),qe=s(94940),$e=s(56384),Te=s(49200),De=s(67837),Re=s(50492),Ie=s(82156),Ve=s(62669),Ke=s(39035),Pe=s(98582),Me=s.n(Pe);const Ue=(0,be.A)(xe,[["render",W],["__scopeId","data-v-f0cbcfb2"]]),Oe=Ue;Me()(xe,"components",{QCard:Ce.A,QCardSection:Fe.A,QImg:Ee.A,QSelect:qe.A,QBtn:$e.A,QForm:Te.A,QInput:De.A,QIcon:Re.A,QDialog:Ie.A,QCardActions:Ve.A,QInnerLoading:Ke.A})}}]);