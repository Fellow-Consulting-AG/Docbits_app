"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[5020],{65020:(e,t,s)=>{s.r(t),s.d(t,{default:()=>xe});var i=s(61758),o=s(58790);const r=e=>((0,i.Qi)("data-v-642897de"),e=e(),(0,i.jt)(),e),a={key:0,class:"row q-pl-md q-pr-md q-pb-md container-wrapper"},l={key:1,class:"row q-pl-md q-pr-md q-pb-xs container-wrapper"},d={class:"col-9 q-pl-sm"},n={class:"full-width q-ma-sm scroll-area-height"},c={class:"image_control_panel"},h={class:"row"},u={class:"q-mr-auto"},m={class:"page-numbers"},p={class:"panel-middle"},g={class:"panel-right"},f={class:"doc-name"},v={class:"full-width back-white",id:"image_container",style:{height:"98%"}},_={class:"full-width full-height q-pa-sm scrolle-y",id:"image_scrolle",style:{position:"relative"}},y={key:0,class:"col-3 q-pl-sm"},w={class:"full-width q-ma-sm scroll-area-height"},k=r((()=>(0,i.Lk)("div",{class:"image_control_panel",style:{"margin-bottom":"-3px"}},null,-1))),b={class:"full-width back-white",style:{height:"96%","margin-top":"3px"}},L={class:"full-width full-height q-pa-sm scrolle-y",style:{position:"relative"}},I={class:"row q-pt-sm"},C={class:"secondary-c-text text-h6 text-weight-bold"},E={class:"row full-width"},F={key:1,class:"col-3 q-pl-sm"},M={class:"full-width q-ma-sm scroll-area-height"},A=r((()=>(0,i.Lk)("div",{class:"image_control_panel",style:{"margin-bottom":"-3px"}},null,-1))),D={class:"full-width back-white",style:{height:"96%","margin-top":"3px"}},R={class:"full-width full-height q-pa-sm scrolle-y",style:{position:"relative"}},B={class:"row q-pt-sm"},T={class:"secondary-c-text text-h6 text-weight-bold"},q={class:"row full-width"},S={class:"row full-width"},$={class:"col-md-12"},O={class:"row full-width"},V={class:"col-md-12"},x={class:"row full-width"},P={class:"col-md-12"},U=r((()=>(0,i.Lk)("div",{class:"border-top-bdbdbd q-mt-md q-mb-md"},null,-1))),j={key:0,class:"row full-width"},H={class:"col-md-12"},K={class:"row full-width"},Q={class:"col-md-12"},z={key:0},W={key:1},X={class:"row full-width q-mt-sm"};function N(e,t,s,r,N,J){const G=(0,i.g2)("SubHeader"),Y=(0,i.g2)("BackToSettings"),Z=(0,i.g2)("ErrorDocumentView"),ee=(0,i.g2)("q-tooltip"),te=(0,i.g2)("q-icon"),se=(0,i.g2)("AnnotationView"),ie=(0,i.g2)("q-input"),oe=(0,i.g2)("q-select"),re=(0,i.g2)("q-btn"),ae=(0,i.g2)("Loader");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(G,{name:"rejected",onSearch:!1,label:e.$t("rejected"),show_expiry_alert:!0},null,8,["label"]),(0,i.bF)(Y,{back_to_rotue:"/dashboard",label:e.$t("pages.screen2a.dashboard")},null,8,["label"]),e.error?((0,i.uX)(),(0,i.CE)("div",a,[(0,i.bF)(Z)])):((0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("div",d,[(0,i.Lk)("div",n,[(0,i.Lk)("div",c,[(0,i.Lk)("div",h,[(0,i.Lk)("div",u,[(0,i.bF)(te,{class:"up-arrow cursor-pointer",onClick:e.prevImage,name:"expand_less",size:"sm"},{default:(0,i.k6)((()=>[(0,i.bF)(ee,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e.$t("previous")),1)])),_:1})])),_:1},8,["onClick"]),(0,i.bF)(te,{class:"down-arrow cursor-pointer",onClick:e.nextImage,name:"expand_more",size:"sm"},{default:(0,i.k6)((()=>[(0,i.bF)(ee,null,{default:(0,i.k6)((()=>[(0,i.eW)((0,o.v_)(e.$t("next")),1)])),_:1})])),_:1},8,["onClick"]),(0,i.Lk)("span",m,(0,o.v_)(e.currentPage())+"/"+(0,o.v_)(e.images.length)+" "+(0,o.v_)(e.$t("page_number_text")),1)]),(0,i.Lk)("div",p,[(0,i.Lk)("span",null,[(0,i.Lk)("template",null,[(0,i.eW)((0,o.v_)(e.$t("first_approval")),1)])])]),(0,i.Lk)("div",g,[(0,i.Lk)("span",{class:"cursor-pointer q-mr-md text-uppercase",onClick:t[0]||(t[0]=(...t)=>e.downloadFile&&e.downloadFile(...t))},(0,o.v_)(e.$t("download")),1),(0,i.Lk)("span",f,(0,o.v_)(e.record.filename),1)])])]),(0,i.Lk)("div",v,[(0,i.Lk)("div",_,[(0,i.bF)(se,{enableEditing:!1,cropUrl:e.image+"?"+this.tokenQueryParam,width:e.imageWidth,screenmode:e.screenmode,selectFont:e.selectFont,selectFontSize:e.selectFontSize,selectColor:e.selectColor,onLoad:e.getImageDetails},null,8,["cropUrl","width","screenmode","selectFont","selectFontSize","selectColor","onLoad"])])])])]),e.renderComponent?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[e.formLayout.length>0?((0,i.uX)(),(0,i.CE)("div",y,[(0,i.Lk)("div",w,[k,(0,i.Lk)("div",b,[(0,i.Lk)("div",L,[(0,i.Lk)("div",I,[(0,i.Lk)("span",C,(0,o.v_)(e.$t("ai_fields")),1)]),(0,i.Lk)("div",E,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.formLayout,((t,s)=>((0,i.uX)(),(0,i.CE)(i.FK,{key:`div-${s}`},[t.is_hidden||void 0!=t.visibile&&!t.visibile?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:"display-block field-padding",style:(0,o.Tr)("width:"+t.elementWidth+"%")},[((0,i.uX)(),(0,i.Wv)((0,i.$y)(t.fieldType),{currentField:t,isReadOnly:t.read_only,fieldName:t.name,groupIndex:s,onInputClicked:e.htmlElementClick,onInputValueChanges:e.onInputValueChanges,onUpdateModel:e.updateModel},null,40,["currentField","isReadOnly","fieldName","groupIndex","onInputClicked","onInputValueChanges","onUpdateModel"]))],4))],64)))),128))])])])])])):((0,i.uX)(),(0,i.CE)("div",F,[(0,i.Lk)("div",M,[A,(0,i.Lk)("div",D,[(0,i.Lk)("div",R,[(0,i.Lk)("div",B,[(0,i.Lk)("span",T,(0,o.v_)(e.$t("ai_fields")),1)]),(0,i.Lk)("div",q,[(0,i.Lk)("div",S,[(0,i.Lk)("div",$,[(0,i.Lk)("div",null,(0,o.v_)(e.$t("notes")),1),(0,i.Lk)("div",null,[(0,i.bF)(ie,{outlined:"","data-name":e.notes,class:(0,o.C4)("full-width"),modelValue:e.model["notes"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.model["notes"]=t),disable:e.isReadOnly,type:"textarea",autogrow:""},null,8,["data-name","modelValue","disable"])])])]),(0,i.Lk)("div",O,[(0,i.Lk)("div",V,[(0,i.Lk)("div",null,(0,o.v_)(e.$t("kostenstelle")),1),(0,i.Lk)("div",null,[(0,i.bF)(ie,{outlined:"","data-name":e.kostenstelle,class:(0,o.C4)("input-field full-width"),modelValue:e.model["kostenstelle"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.model["kostenstelle"]=t),disable:e.isReadOnly},null,8,["data-name","modelValue","disable"])])])]),(0,i.Lk)("div",x,[(0,i.Lk)("div",P,[(0,i.Lk)("div",null,(0,o.v_)(e.$t("kostentrager")),1),(0,i.Lk)("div",null,[(0,i.bF)(ie,{outlined:"","data-name":e.kostentrager,class:(0,o.C4)("input-field full-width"),modelValue:e.model["kostentrager"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.model["kostentrager"]=t),disable:e.isReadOnly},null,8,["data-name","modelValue","disable"])])])])]),U,e.record.first_approver?((0,i.uX)(),(0,i.CE)("div",j,[(0,i.Lk)("div",H,[(0,i.Lk)("div",null,(0,o.v_)(e.$t("first_approver")),1),(0,i.Lk)("div",null,[(0,i.bF)(oe,{outlined:"",tabindex:"0",class:(0,o.C4)("field-validation-select full-width"),modelValue:e.model["first_approver"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.model["first_approver"]=t),options:e.usersList,disable:e.isReadOnly,"emit-value":"","map-options":""},null,8,["modelValue","options","disable"])])])])):(0,i.Q3)("",!0),(0,i.Lk)("div",K,[(0,i.Lk)("div",Q,[e.record.first_approver?((0,i.uX)(),(0,i.CE)("div",z,(0,o.v_)(e.$t("releases_person")),1)):((0,i.uX)(),(0,i.CE)("div",W,(0,o.v_)(e.$t("first_approver")),1)),(0,i.Lk)("div",null,[(0,i.bF)(oe,{outlined:"",tabindex:"0",class:(0,o.C4)("field-validation-select full-width"),modelValue:e.model["assigned_to"],"onUpdate:modelValue":t[5]||(t[5]=t=>e.model["assigned_to"]=t),options:e.usersList,disable:e.isReadOnly,"emit-value":"","map-options":""},null,8,["modelValue","options","disable"])])])]),(0,i.Lk)("div",X,[(0,i.bF)(re,{color:"primary",label:e.$t("fields_validation"),class:"full-width q-mb-sm cursor-pointer",onClick:e.goToFieldValidation},null,8,["label","onClick"])])])])])]))],64)):(0,i.Q3)("",!0)])),(0,i.bF)(ae)],64)}var J=s(45022),G=s(14907),Y=s(1659),Z=s(24622),ee=s(38734),te=s(46162),se=s(8420),ie=s(68450),oe=s(18505),re=s(91236),ae=s(12566),le=s(96075),de=s(76956),ne=s(60894),ce=s(11470),he=s(6315),ue=s(94124),me=s(1133),pe=s(41162),ge=s(41902),fe=s(31986),ve=s(8325),_e=s(73268),ye=s(87709),we=s(61715),ke=s(86366),be=s(64775),Le=s(23537),Ie=function(e,t,s,i){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,r){function a(e){try{d(i.next(e))}catch(t){r(t)}}function l(e){try{d(i["throw"](e))}catch(t){r(t)}}function d(e){e.done?s(e.value):o(e.value).then(a,l)}d((i=i.apply(e,t||[])).next())}))};const Ce=document.querySelector.bind(document);let Ee;const Fe=(0,i.pM)({el:"#app",mixins:[oe.A,Z.A],components:{Loader:se.A,AnnotationView:he.A,ErrorDocumentView:ae.A,DocumentLogs:we.A,Label:me.A,Button:pe.A,TextInput:ge.A,HorizontalSeparator:fe.A,DocumentApprover:ve.A,SecondApprover:ye.A,ExtractedTableTabPanels:_e.A,SubHeader:re.A,BackToSettings:ne.A},watch:{doc_status:{deep:!0,handler:function(){this.checkValidStatus()}}},data(){return{page:1,docId:"",imageHeight:0,imageWidth:0,loading:!1,filter_status:"rejected",model_required_fields:["kostenstelle","kostentrager","notes","assigned_to"],screenmode:"annotate",selectColor:"#000000",selectFont:"Helvetica",selectFontSize:20,renderComponent:!1,doc_logs:(0,ee.KR)({})}},beforeRouteLeave:function(e,t,s){this.record={},this.resetAllStoreData(),s()},mounted:function(){let e=J.A.getItem("selected_language");e&&(this.locale=e);let t=this.$route.params.id;this.getDocAnnotations(t),window.addEventListener("resize",this.windowResize),this.init()},unmounted:function(){window.removeEventListener("resize",this.windowResize)},methods:{init(){return Ie(this,void 0,void 0,(function*(){this.$route.params.id||this.$router.push("/dashboard"),this.doc_status="",this.docId=this.$route.params.id,yield this.getInvoiceDataByDocId(this.docId),yield this.makeEditableModel(),this.getAssignToUsers();let e=de.L9.field_validation;this.record.status==de.aH.validated_pending_approval?e=de.L9.approval:this.record.status==de.aH.in_review?(e=de.L9.review,this.filter_status=de.aH.in_review):this.record.status==de.aH.approved_pending_second_approval?(e=de.L9.recond_approval,this.filter_status=de.aH.approved_pending_second_approval):this.record.status==de.aH.rejected&&(e=de.L9.reject,this.filter_status=de.aH.rejected),yield this.getLayoutTemplateID(e),yield this.getFormBuilderLayout(),this.renderComponent=!0,this.handleImageBaseURL(),this.image=this.baseUrl+"/"+(0,le.v)(this.record.images[0].path),this.images=(0,le.m)(this.record.images);let t=Ce("#image_container");this.imageWidth=t.offsetWidth,this.imageHeight=t.offsetHeight,this.getImageDetails()}))},getFormBuilderLayout(){return Ie(this,void 0,void 0,(function*(){let e;this.formLayout=[];try{if(!this.layout_template_id)return;e=yield ce.H7.getDocumentLayoutTemplateById(this.layout_template_id);let t=JSON.parse(e.layout_json);t&&(this.formLayout=t.hasOwnProperty("layout")?t.layout:[],this.formLayout&&(yield this.makeModel()))}catch(t){return void this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}}))},makeModel(){return new Promise(((e,t)=>{let s={};if(void 0!==this.record){this.record.fields.forEach(((e,t)=>{s[e.name]=e})),s["first_approver"]=this.fillFirstApprover(),s["assigned_to"]=this.createEmptyField("assigned_to","",this.record.assigned_to);let e=this.getUpdatedFieldSettings();for(let[t,i]of this.formLayout.entries()){let t=i.hasOwnProperty("field_name")?i.field_name:i.name;e.hasOwnProperty(t)&&(i=Object.assign(i,this.cleanLayoutSettings(e[t]))),this.prepareModel(i,s[t],t)}this.$forceUpdate()}e("done")}))},fillFirstApprover(){let e={};return e=this.record.hasOwnProperty("first_approver")?this.createEmptyField("first_approver","",this.record.first_approver):this.createEmptyField("assigned_to","",this.record.assigned_to),e},createEmptyField(e,t="",s=""){return"checkbox"==t&&(s=!1),{confidence:0,name:e,value:s,formatted_value:s,content:s}},getUpdatedFieldSettings(){let e={},t=JSON.parse(JSON.stringify(this.record.layout.groups));return t.forEach(((t,s)=>{t.rows.forEach(((t,s)=>{t.forEach(((t,s)=>{let i=t.field_name;e[i]=t}))}))})),e},cleanLayoutSettings(e){return delete e.name,delete e.field,delete e.field_name,delete e.field_type,delete e.title,delete e.translation_key,delete e.is_readonly,e},prepareModel(e,t,s){t||(t=this.createEmptyField(s,e.input_type));let i=e.input_type?e.input_type:e.fieldType;i&&(e.hasOwnProperty("tabIndex")&&!(0,ie.z)(e.tabIndex)||(e.tabIndex=0),this.formBuilderModel[s]={},this.formBuilderConfigModel[s]={},this.formBuilderModel[s]=Object.assign({},t),this.formBuilderConfigModel[s]=Object.assign({},e),t.hasOwnProperty("is_required")&&(this.formBuilderConfigModel[s].is_required=t.is_required),"first_approver"==s&&this.second_approval&&(this.formBuilderConfigModel[s].translation_key="first_approver"))},htmlElementClick(e){this.formBuilderConfigModel[e].fieldType!==ke.VV.BUTTON||this.handleButtons(e)},handleButtons(e){this.formBuilderConfigModel[e].type!=de.aH.reject?this.formBuilderConfigModel[e].type!=de.aH.save?this.formBuilderConfigModel[e].type!=de.aH.request_release?this.formBuilderConfigModel[e].type!=de.aH.in_review?this.formBuilderConfigModel[e].type!=de.aH.restart_workflow||this.goToFieldValidation():this.setInReview():this.acceptRequest():this.saveData():this.rejectRequest()},setInReview(){return Ie(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;this.showLoading(),yield this.saveData(),yield this.setDocumnetStatus(de.aH.in_review),this.$router.push("/dashboard")}catch(e){const t=be.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.hideLoading()}}))},acceptRequest(){let e=this.images.length,t=this.getImagePath(e);if(this.updateImage(e,t),this.page===this.images.length){let e="de"===this.locale?"approved_stamp_de":"approved_stamp_en";this.$refs.child_comp.addStampAnnotation(e)}this.record.first_approver=this.record.assigned_to,this.updateRequest("approve")},rejectRequest(){this.second_approval||delete this.record.first_approver,this.updateRequest("reject")},saveData(){return Ie(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;if(!this.validateData())return;this.showLoading();const e=yield this.saveDocument(this.docId);if(!1===e.success)return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.showErrorToast(e.message);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.assign_user_error=!1}catch(e){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.hideLoading()}}))},setDocumnetStatus(e){return Ie(this,void 0,void 0,(function*(){try{const t=yield ce.M8.set_document_status(this.docId,{status:e});if(!1===t.success)throw{message:t.message};this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(t){const e=be.t.getErrorMessage(t);this.showErrorToast(e)}}))},updateRequest(e){return Ie(this,void 0,void 0,(function*(){try{if(this.isReadOnly)return;if(!this.validateData())return;this.showLoading();const t={request_type:e},s=yield this.approveOrRejectDocument(this.docId,t);if(!1===s.success)return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.showErrorToast(s.message);this.showSuccessToast(this.$t("pages.messages.MSG_SAVE")),this.$router.push("/dashboard")}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.hideLoading()}}))},validateData(){let e=!0;return(0,ie.z)(this.record.assigned_to)&&(this.assign_user_error=!0,e=!1),e},onInputValueChanges(e,t){this.updateLocalModel(e),this.updateImportJson(e)},updateLocalModel(e){this.formBuilderModel.hasOwnProperty(e)&&(this.formBuilderModel[e].value=this.formBuilderModel[e].formatted_value)},updateImportJson(e,t,s,i=""){try{const o=this.record.fields.find((t=>t.name===e));if(!o){this.record.fields.push({});const o=this.record.fields.length-1;return this.record.fields[o].name=e,this.record.fields[o].content=this.formBuilderModel[e].content,this.record.fields[o].formatted_value=this.formBuilderModel[e].formatted_value,this.record.fields[o].value=this.formBuilderModel[e].value,this.record.fields[o].original_value="",this.record.fields[o].validation_code="",this.record.fields[o].extraction_method=i,this.record.fields[o].is_validated=!0,this.record.fields[o].is_valid=!0,this.record.fields[o].color=de.aH.success_border_left,!0===this.formBuilderModel[this.connectionId].multi_line?this.record.fields[o].multi_line=!0:this.record.fields[o].multi_line=!1,t&&(this.record.fields[o].coords=t),s&&(this.record.fields[o].page=s),void this.$emit("checkFieldInvalid",this.record.fields[o])}o.hasOwnProperty("original")||(o["original"]=Object.assign({},o)),o.hasOwnProperty("original_value")||(o["original_value"]=o.value),(t||null===t)&&(o.coords=t),s&&(o.page=s),i&&(o.extraction_method=i),o.is_valid=!0,o.is_validated=!0;let r=this.formBuilderModel[e];o.formatted_value=r.formatted_value,o.value=r.value?r.value:r.formatted_value,o.content=r.content,r.hasOwnProperty("api_save")&&r.api_save||(o.value=r.formatted_value),((0,ie.z)(o.formatted_value)||(0,ie.jw)(o.formatted_value))&&(o.content=o.formatted_value),this.formBuilderModel[this.connectionId]&&this.formBuilderModel[this.connectionId].hasOwnProperty("multi_line")&&!0===this.formBuilderModel[this.connectionId].multi_line?o.multi_line=!0:o.multi_line=!1,this.formBuilderModel[e].is_valid=o.is_valid,this.formBuilderModel[e].is_validated=o.is_validated,this.$emit("checkFieldInvalid",o)}catch(o){}},updateModel(e){},getInvoiceDataByDocId(e){return Ie(this,void 0,void 0,(function*(){try{if(yield this.getDocumentById(e),!this.record.doc_id)return void this.showErrorToast(this.$t("pages.messages.INVALID_DOCUMENT"))}catch(t){return void this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}}))},makeEditableModel(){return new Promise(((e,t)=>{if(void 0!==this.record)for(const[s,i]of Object.entries(this.record))this.model[s]=i;e("done")}))},getAssignToUsers(){return Ie(this,void 0,void 0,(function*(){yield this.dropdownStore.prepareUsersDropdown(),this.usersList=this.dropdownStore.usersList}))},getUserFullName(e){let t=this.dropdownStore.usersList.filter((t=>t.value==e));return t.first_name+" "+t.last_name},windowResize(){let e=Ce("#image_container");this.imageWidth=e.offsetWidth,this.imageHeight=e.offsetHeight,this.$forceUpdate(),setTimeout((()=>{this.getImageDetails()}),20)},getImageDetails(){Ee=Ce("#screenshot"),Ee&&(this.imageWidth=Ee.offsetWidth,this.imageHeight=Ee.offsetHeight)},currentPage(){return this.page},prevImage(){let e=this.page-1,t=this.getImagePath(e);this.updateImage(e,t)},nextImage(){let e=this.page+1,t=this.getImagePath(e);this.updateImage(e,t)},getImagePath(e){let t="";for(const[s,i]of Object.entries(this.images)){let s=i;s.pageNumber===e&&(t=s.path)}return t},updateImage(e,t){t&&""!==t&&(this.image=this.baseUrl+"/"+(0,le.v)(t),this.page=e)},handleImageBaseURL(){this.record.images[0]&&this.record.images[0].path.match(/doc2/g)&&(this.baseUrl=te.VA)},updateApiData(e){e.detail&&(this.record=e.detail)},downloadFile(){try{let e=te.VA+"/resource/document/"+this.docId+"/"+this.docId+".pdf?"+this.tokenQueryParam;if(!e)return;fetch(e).then((e=>e.blob())).then((e=>{const t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=this.record.filename,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)})).catch((e=>{}))}catch(e){}},checkValidStatus(){(0,ie.jw)(this.doc_status)||this.doc_status!==this.filter_status&&(this.error=!0,this.error_message="invalid_status")},goToFieldValidation(){return Ie(this,void 0,void 0,(function*(){if(!this.record||0===Object.keys(this.record).length||!1===this.record.success)return;const e=yield ce.M8.setDocToReadyForValidation(this.docId);if(!1===e.success)return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.showErrorToast(e.message);this.record.hasOwnProperty("has_layout")&&"true"===String(this.record.has_layout)&&this.$router.push("/field_validation_v1/"+this.docId)}))},goToDashboard(){this.$router.push("/dashboard")}},setup(){const e=(0,G.A)();let t={},s=[];const i=(0,ue.cY)();let{locale:o}=(0,Le.s9)({useScope:"global"});const r=(0,ue.q3)(),{getDocumentById:a,getDocAnnotations:l,saveDocument:d,resetAllStoreData:n,getLayoutTemplateID:c,approveOrRejectDocument:h}=r,{record:u,doc_status:m,error:p,error_message:g,layout_template_id:f}=(0,Y.bP)(r),v=(0,ue._6)(),{tokenQueryParam:_}=(0,Y.bP)(v);v.getTokenQueryParam();const y=(0,ue.uL)(),{formBuilderModel:w,formLayout:k,formBuilderConfigModel:b}=(0,Y.bP)(y);return{locale:(0,ee.KR)(o),resetAllStoreData:n,saveDocument:d,tokenQueryParam:_,doc_status:m,error:p,error_message:g,getDocumentById:a,record:u,dropdownStore:i,fields:t,image:"",images:s,baseUrl:te.VA,isReadOnly:!1,model:(0,ee.KR)({}),fieldsDef:(0,ee.KR)({}),readOnlyfieldsDef:(0,ee.KR)({}),readonlyModel:(0,ee.KR)({}),usersList:(0,ee.KR)([]),prev_assignee:(0,ee.KR)(null),assign_user_error:(0,ee.KR)(!1),pending_approval_doc_count:(0,ee.KR)(0),next_record:(0,ee.KR)(""),prev_record:(0,ee.KR)(""),showNotification(t){e.notify({message:t,color:"primary",position:"top"})},getDocAnnotations:l,showDoc:(0,ee.KR)(!1),formLayout:k,getLayoutTemplateID:c,layout_template_id:f,formBuilderModel:w,formBuilderConfigModel:b,approveOrRejectDocument:h}}});var Me=s(12807),Ae=s(50492),De=s(97410),Re=s(67837),Be=s(94940),Te=s(56384),qe=s(67156),Se=s(42315),$e=s(98582),Oe=s.n($e);const Ve=(0,Me.A)(Fe,[["render",N],["__scopeId","data-v-642897de"]]),xe=Ve;Oe()(Fe,"components",{QIcon:Ae.A,QTooltip:De.A,QInput:Re.A,QSelect:Be.A,QBtn:Te.A,QField:qe.A,QTable:Se.A})}}]);