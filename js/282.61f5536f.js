"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[282],{10282:(e,t,o)=>{o.r(t),o.d(t,{default:()=>j});var i=o(83673);const l={id:"services",class:"services section-bg"},s={class:"row"},n={class:"col-11",style:{padding:"20px","margin-left":"50px"}};function r(e,t,o,r,a,c){const d=(0,i.up)("Correspondent_Middle");return(0,i.wg)(),(0,i.iD)("section",l,[(0,i._)("div",s,[(0,i._)("div",n,[(0,i.Wm)(d)])])])}var a=o(77378),c=o(61959),d=o(45401),p=o(62323),h=o(98880);const u={class:"row text-weight-bolder top-row"},_={class:"full-width",style:{"margin-top":"10px"}},m={style:{"text-align":"left",color:"white"}},w={style:{"max-height":"50vh",overflow:"scroll"}},f={style:{width:"100px"}},b=["onClick"],g=["onClick"],k=["onClick"],C=["onClick"];function v(e,t,o,l,s,n){const r=(0,i.up)("q-input"),a=(0,i.up)("q-space"),c=(0,i.up)("DefaultBtn"),d=(0,i.up)("q-checkbox"),v=(0,i.up)("DeleteQfab"),y=(0,i.up)("q-fab"),x=(0,i.up)("q-markup-table"),V=(0,i.up)("EditCreatePopup"),Z=(0,i.up)("q-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",u,[(0,i.Wm)(r,{style:{width:"40%"},outlined:"",dense:"",debounce:"500",modelValue:e.filter,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.filter=t),e.applyFilter],label:e.$t("name")},null,8,["modelValue","label","onUpdate:modelValue"]),(0,i.Wm)(a),(0,i.Wm)(c,{label:e.$t("doc2light.pages.add"),onClick:t[1]||(t[1]=t=>e.show_add_corresp_popup=!0)},null,8,["label"])]),(0,i._)("div",_,[(0,i.Wm)(x,{class:"sticky-column-for-table q-table-seperator white-back",style:{"max-height":"70vh","overflow-y":"auto"},flat:"",dense:""},{default:(0,i.w5)((()=>[(0,i._)("thead",null,[(0,i._)("tr",m,[(0,i._)("th",null,[(0,i.Wm)(d,{dark:"",modelValue:e.headerCheckbox,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.headerCheckbox=t),t[3]||(t[3]=t=>e.changeAction())]},null,8,["modelValue"]),(0,i.Wm)(y,{flat:"",modelValue:e.headerFabIcon,"onUpdate:modelValue":t[4]||(t[4]=t=>e.headerFabIcon=t),disable:e.selection.length<1,"label-position":"top","data-cy":"actions","external-label":"",icon:"more_vert",direction:"down",padding:"xs"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{info:e.$t("doc2light.pages.assignee"),tooltip:e.$t("delete"),function:e.deleteMarked,argument:e.selection},null,8,["info","tooltip","function","argument"])])),_:1},8,["modelValue","disable"])]),(0,i._)("th",null,(0,p.zw)(e.$t("doc2light.table.name")),1),(0,i._)("th",null,(0,p.zw)(e.$t("priority")),1),(0,i._)("th",null,(0,p.zw)(e.$t("doc2light.table.regex_rythm")),1),(0,i._)("th",null,(0,p.zw)(e.$t("doc2light.table.regex")),1)])]),(0,i._)("tbody",w,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.corresp_list,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i._)("td",f,[(0,i.Wm)(d,{modelValue:t.rowSelection,"onUpdate:modelValue":[e=>t.rowSelection=e,o=>e.selectionList(t)]},null,8,["modelValue","onUpdate:modelValue"])]),(0,i._)("td",{onClick:o=>e.onEditClick(t.id)},(0,p.zw)(e.replaceEmpty(t["name"])),9,b),(0,i._)("td",{onClick:o=>e.onEditClick(t.id)},(0,p.zw)(e.replaceEmpty(t["priority"])),9,g),(0,i._)("td",{onClick:o=>e.onEditClick(t.id)},(0,p.zw)(e.replaceEmpty(t["method"])),9,k),(0,i._)("td",{onClick:o=>e.onEditClick(t.id)},(0,p.zw)(e.replaceEmpty(t["regex"])),9,C)])))),128))])])),_:1})]),(0,i.Wm)(Z,{modelValue:e.show_add_corresp_popup,"onUpdate:modelValue":t[5]||(t[5]=t=>e.show_add_corresp_popup=t),onKeydown:t[6]||(t[6]=(0,h.D2)((t=>(e.show_add_corresp_popup=!1,e.initView())),["esc"]))},{default:(0,i.w5)((()=>[(0,i.Wm)(V,{show:"corresp",mode:"create"})])),_:1},8,["modelValue"]),(0,i.Wm)(Z,{modelValue:e.show_edit_corresp_popup,"onUpdate:modelValue":t[7]||(t[7]=t=>e.show_edit_corresp_popup=t),onKeydown:t[8]||(t[8]=(0,h.D2)((t=>(e.show_edit_corresp_popup=!1,e.initView())),["esc"]))},{default:(0,i.w5)((()=>[(0,i.Wm)(V,{show:"corresp",mode:"edit",id:e.corresp_id},null,8,["id"])])),_:1},8,["modelValue"])],64)}var y=o(25616),x=o(79261),V=o(10321),Z=o(73902),D=o(22899),H=o(99321),W=function(e,t,o,i){function l(e){return e instanceof o?e:new o((function(t){t(e)}))}return new(o||(o=Promise))((function(o,s){function n(e){try{a(i.next(e))}catch(t){s(t)}}function r(e){try{a(i["throw"](e))}catch(t){s(t)}}function a(e){e.done?o(e.value):l(e.value).then(n,r)}a((i=i.apply(e,t||[])).next())}))};const E=(0,i.aZ)({data(){return{showIcons:!1,supportURL:"https://cloudintegration.eu/doc2_support"}},mounted(){this.initView()},mixins:[d.Z],components:{DeleteQfab:H.Z,DefaultBtn:Z.Z,EditCreatePopup:D.Z},methods:{replaceEmpty(e){return e&&"undefined"!=e||(e="-"),e},initView(){return W(this,void 0,void 0,(function*(){yield this.setCorrespondentsFromServer(),this.corresp_list=this.apidata.correspondentData.data}))},formateDate(e,t){return y.ZP.formatDate(e,t)},onEditClick(e){this.corresp_id=e,this.show_edit_corresp_popup=!0},handleActions(e){this.corresp_list[e].fabaction,this.corresp_list[e].fabaction},applyFilter(){if(""==this.filter)this.corresp_list=this.apidata.correspondentData.data;else{this.corresp_list={};for(const[e,t]of Object.entries(this.apidata.correspondentData.data))t.name.toLowerCase().includes(this.filter.toLowerCase())&&(this.corresp_list[e]=this.apidata.correspondentData.data[e])}},deleteMarked(e){this.showLoading(),e.forEach((e=>W(this,void 0,void 0,(function*(){yield this.delete_correspondent(e)})))),this.corresp_skip=0,this.hideLoading()},selectionList(e){const t=this.selection.indexOf(e.id);t>-1?(this.selection.splice(t,1),this.corresp_list[e.id].rowSelection=!1,this.selection.length<1&&(this.headerFabIcon=!1)):(this.selection.push(e.id),this.corresp_list[e.id].rowSelection=!0)},changeAction(){!0===this.headerCheckbox?this.selectAllRows():(this.resetAllSelectedRows(),this.headerFabIcon=!1)},selectAllRows(){this.headerCheckbox=!0;for(const[e,t]of Object.entries(this.corresp_list))this.corresp_list[e].rowSelection=!0,this.selection.push(e)},resetAllSelectedRows(){this.selection=[],this.headerCheckbox=!1;for(const[e,t]of Object.entries(this.corresp_list))this.corresp_list[e].rowSelection=!1}},setup(){const e=(0,x.Wb)(),t=(0,V.Jk)(e),{setCorrespondentsFromServer:o,delete_correspondent:i}=e;return{apidata:(0,c.iH)(t),filter:(0,c.iH)(""),corresp_list:(0,c.iH)({}),view:(0,c.iH)("list"),show_add_corresp_popup:(0,c.iH)(!1),show_edit_corresp_popup:(0,c.iH)(!1),setCorrespondentsFromServer:o,delete_correspondent:i,corresp_id:(0,c.iH)(),selection:(0,c.iH)([]),headerCheckbox:(0,c.iH)(!1),headerFabIcon:(0,c.iH)(!1),corresp_skip:(0,c.iH)(1)}}});var S=o(74260),F=o(64689),Q=o(62025),I=o(30481),U=o(17132),z=o(65735),$=o(39200),q=o(46778),A=o(7518),L=o.n(A);const M=(0,S.Z)(E,[["render",v]]),R=M;L()(E,"components",{QInput:F.Z,QSpace:Q.Z,QMarkupTable:I.Z,QTable:U.Z,QCheckbox:z.Z,QFab:$.Z,QDialog:q.Z});const O=(0,i.aZ)({data(){return{}},components:{Correspondent_Middle:R},mixins:[d.Z,a.Z],setup(){return{filter:(0,c.iH)(""),view:(0,c.iH)("list"),showMenu:(0,c.iH)(!1),showIcons:(0,c.iH)(!0)}}});var P=o(2165);const T=(0,S.Z)(O,[["render",r],["__scopeId","data-v-94168c16"]]),j=T;L()(O,"components",{QBtn:P.Z})}}]);