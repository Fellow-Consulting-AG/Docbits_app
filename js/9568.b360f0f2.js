"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[9568],{79568:(t,e,i)=>{i.r(e),i.d(e,{default:()=>I});var s=i(83673),a=i(62323);const l={class:"row justify-center"},r={class:"text-h2 text-primary"},o={class:"q-mt-md row"},n={class:"q-mt-md"};function p(t,e,i,p,u,c){const d=(0,s.up)("q-card-section"),m=(0,s.up)("q-seperator"),h=(0,s.up)("q-input"),g=(0,s.up)("q-select"),k=(0,s.up)("q-btn"),y=(0,s.up)("q-card-actions"),b=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(b,{style:{width:"1000px","margin-top":"7%"},flat:"",class:"rounded-borders page-background"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{class:"text-center"},{default:(0,s.w5)((()=>[(0,s._)("span",r,(0,a.zw)(t.$t("pages.support.support_ticket")),1)])),_:1}),(0,s.Wm)(m),(0,s.Wm)(d,{class:"q-pa-md"},{default:(0,s.w5)((()=>[(0,s._)("div",o,[(0,s.Wm)(h,{outlined:"",modelValue:t.supportTicket.email,"onUpdate:modelValue":e[0]||(e[0]=e=>t.supportTicket.email=e),label:t.$t("email"),style:{width:"69%"}},null,8,["modelValue","label"]),(0,s.Wm)(g,{outlined:"",options:t.priorityOptions,modelValue:t.supportTicket.priority,"onUpdate:modelValue":e[1]||(e[1]=e=>t.supportTicket.priority=e),label:t.$t("priority"),style:{width:"30%","margin-left":"1%"}},null,8,["options","modelValue","label"])]),(0,s._)("div",n,[(0,s.Wm)(h,{outlined:"",modelValue:t.supportTicket.message,"onUpdate:modelValue":e[2]||(e[2]=e=>t.supportTicket.message=e),label:t.$t("pages.support.message"),type:"textarea"},null,8,["modelValue","label"])])])),_:1}),(0,s.Wm)(y,{align:"center",class:"q-pb-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"highlighted-back on-left",unelevated:"",label:t.$t("cancel"),onClick:e[3]||(e[3]=t=>this.$router.go(-1)),style:{width:"100px"}},null,8,["label"]),(0,s.Wm)(k,{class:"on-right",color:"primary",unelevated:"",label:t.$t("pages.support.send"),onClick:t.sendSupportTicket,style:{width:"100px"}},null,8,["label","onClick"])])),_:1})])),_:1})])}var u=i(53371),c=i(80579),d=i(77378),m=i(45401),h=i(61959),g=function(t,e,i,s){function a(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,l){function r(t){try{n(s.next(t))}catch(e){l(e)}}function o(t){try{n(s["throw"](t))}catch(e){l(e)}}function n(t){t.done?i(t.value):a(t.value).then(r,o)}n((s=s.apply(t,e||[])).next())}))};const k=(0,s.aZ)({mixins:[m.Z,d.Z],setup(){return{priorityOptions:(0,h.iH)([{label:u.i18n.t("pages.support.very_high"),value:"Very High"},{label:u.i18n.t("pages.support.high"),value:"High"},{label:u.i18n.t("pages.support.medium"),value:"Medium"},{label:u.i18n.t("pages.support.low"),value:"Low"}]),supportTicket:(0,h.iH)({email:"",message:"",priority:{label:u.i18n.t("pages.support.medium"),value:"medium"}})}},methods:{checkArrayForEmptyString(){return""===this.supportTicket.email||""===this.supportTicket.message},checkStringIfValidEmail(){return this.supportTicket.email.includes("@")},buildRequestBody(){const t=new FormData;return t.append("customer_email",this.supportTicket.email),t.append("body",this.supportTicket.message),t.append("priority",this.supportTicket.priority.value),t},sendSupportTicket(){this.showLoading,this.checkStringIfValidEmail()?this.checkArrayForEmptyString()?this.showErrorToast(this.$t("directscan.fill_all_fields")):(this.makeApiCall(),this.hideLoading):this.showErrorToast(this.$t("pages.messages.INVALID_EMAIL"))},makeApiCall(){return g(this,void 0,void 0,(function*(){const t=this.buildRequestBody();return yield c.yZ.create_ticket(t).then((t=>{this.showSuccessToast(this.$t("success"))})).catch((t=>{t.message.error.includes("customer")?this.showErrorToast(this.$t("no_email_found")+" "+this.supportTicket.email):this.showErrorToast(this.$t("errors.INVALID_AUTHORIZATION_CODE"))}))}))}}});var y=i(74260),b=i(10151),w=i(25589),f=i(64689),T=i(72448),_=i(64974),v=i(24554),V=i(99367),Z=i(2165),q=i(7518),$=i.n(q);const C=(0,y.Z)(k,[["render",p]]),I=C;$()(k,"components",{QCard:b.Z,QCardSection:w.Z,QInput:f.Z,QSelect:T.Z,QFile:_.Z,QIcon:v.Z,QCardActions:V.Z,QBtn:Z.Z})}}]);