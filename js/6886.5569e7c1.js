"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[6886],{86886:(e,s,o)=>{o.r(s),o.d(s,{default:()=>J});var r=o(61758),t=o(58790),a=o(29104);const l=e=>((0,r.Qi)("data-v-09c944fe"),e=e(),(0,r.jt)(),e),i={class:"page-holder"},n={class:"container"},d={class:"row window-height"},c={style:{width:"70%",position:"relative",top:"20vh",left:"15%"}},p={class:"text-primary text-h3 text-weight-bold"},m={key:0,style:{display:"flex","flex-direction":"column","align-items":"flex-start"},class:"row error q-mt-lg q-ml-md text-green-5 text-weight-bold"},u={style:{"align-self":"center"}},g={key:1,style:{display:"flex","flex-direction":"column","align-items":"flex-start"},class:"row error q-mt-lg q-ml-md text-red-5 text-weight-bold"},h={style:{"align-self":"center"}},w={class:"q-pt-lg q-mb-md"},_={class:"cursor-pointer"},f=["innerHTML"],b={class:"q-mb-lg"},v={class:"text-center"},y={class:"absolute-bottom"},k={style:{"border-top":"1px solid lightgrey"}},x={class:"text-sm text-muted q-pt-md"},F=l((()=>(0,r.Lk)("img",{class:"loader",src:"images/loader.gif",alt:"Loading..."},null,-1)));function q(e,s,o,l,q,A){const L=(0,r.g2)("q-img"),C=(0,r.g2)("q-select"),Q=(0,r.g2)("q-card-section"),R=(0,r.g2)("q-icon"),E=(0,r.g2)("q-tooltip"),K=(0,r.g2)("q-input"),$=(0,r.g2)("q-btn"),V=(0,r.g2)("q-card"),M=(0,r.g2)("q-inner-loading");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",i,[(0,r.Lk)("div",n,[(0,r.Lk)("div",d,[(0,r.bF)(V,{class:"col-4 justify-center"},{default:(0,r.k6)((()=>[(0,r.bF)(Q,{class:"absolute-top"},{default:(0,r.k6)((()=>[(0,r.bF)(L,{src:"images/docbits.svg",style:{"max-width":"185px"}}),(0,r.bF)(C,{modelValue:e.locale,"onUpdate:modelValue":[s[0]||(s[0]=s=>e.locale=s),e.languageChanged],options:e.localeOptions,dense:"",borderless:"","emit-value":"","map-options":"","options-dense":"",class:"float-right q-ml-auto text-grey-7 text-uppercase q-mr-md"},null,8,["modelValue","options","onUpdate:modelValue"])])),_:1}),(0,r.Lk)("div",c,[(0,r.bF)(Q,{class:"text-center"},{default:(0,r.k6)((()=>[(0,r.Lk)("span",p,(0,t.v_)(e.$t("pages.reset_password.reset_password_header")),1),e.success_message?((0,r.uX)(),(0,r.CE)("div",m,[(0,r.Lk)("span",u,(0,t.v_)(e.success_message),1)])):(0,r.Q3)("",!0),e.error_message?((0,r.uX)(),(0,r.CE)("div",g,[(0,r.Lk)("span",h,(0,t.v_)(e.error_message),1)])):(0,r.Q3)("",!0),(0,r.Lk)("div",w,[(0,r.bF)(K,{outlined:"",label:e.$t("password"),class:(0,t.C4)("password full-width"),dense:"",modelValue:e.model["password"],"onUpdate:modelValue":s[2]||(s[2]=s=>e.model["password"]=s),"error-message":e.model_error["password"],error:""!=e.model_error["password"],type:!1===e.show_password?"password":"text"},{append:(0,r.k6)((()=>[(0,r.bF)(R,{color:"grey-7",name:!1===e.show_password?"visibility":"visibility_off",onClick:s[1]||(s[1]=s=>e.show_password=!e.show_password)},null,8,["name"])])),after:(0,r.k6)((()=>[(0,r.Lk)("div",_,[(0,r.bF)(R,{name:"img:images/info_primary.svg"}),(0,r.bF)(E,null,{default:(0,r.k6)((()=>[(0,r.Lk)("span",{innerHTML:e.$t("password_hint")},null,8,f)])),_:1})])])),_:1},8,["label","modelValue","error-message","error","type"])]),(0,r.Lk)("div",b,[(0,r.bF)(K,{dense:"",outlined:"",label:e.$t("confirm_password"),class:(0,t.C4)("full-width password_confirm"),modelValue:e.model["password_confirm"],"onUpdate:modelValue":s[4]||(s[4]=s=>e.model["password_confirm"]=s),"error-message":e.model_error["password_confirm"],error:""!=e.model_error["password_confirm"],type:!1===e.show_confirm_password?"password":"text"},{append:(0,r.k6)((()=>[(0,r.bF)(R,{color:"grey-7",name:!1===e.show_confirm_password?"visibility":"visibility_off",onClick:s[3]||(s[3]=s=>e.show_confirm_password=!e.show_confirm_password)},null,8,["name"])])),_:1},8,["label","modelValue","error-message","error","type"])]),(0,r.Lk)("div",v,[(0,r.bF)($,{unelevated:"",onKeyup:(0,a.jR)(e.submitForm,["enter"]),label:e.$t("pages.reset_password.resetBtn"),color:"primary","text-color":"white",onClick:s[5]||(s[5]=s=>e.submitForm())},null,8,["onKeyup","label"])])])),_:1})]),(0,r.Lk)("div",y,[(0,r.bF)(Q,{class:"text-center"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",k,[(0,r.Lk)("div",x,[(0,r.Lk)("a",{onClick:s[6]||(s[6]=s=>e.user_login())},(0,t.v_)(e.$t("pages.reset_password.back_to_login")),1)])])])),_:1})])])),_:1})])])]),(0,r.bF)(M,{showing:e.processing},{default:(0,r.k6)((()=>[F])),_:1},8,["showing"])],64)}var A=o(82303),L=o(24622),C=o(23537),Q=o(18505),R=o(46162),E=o(45022),K=o(41903),$=o(38734),V=function(e,s,o,r){function t(e){return e instanceof o?e:new o((function(s){s(e)}))}return new(o||(o=Promise))((function(o,a){function l(e){try{n(r.next(e))}catch(s){a(s)}}function i(e){try{n(r["throw"](e))}catch(s){a(s)}}function n(e){e.done?o(e.value):t(e.value).then(l,i)}n((r=r.apply(e,s||[])).next())}))};const M=(0,r.pM)({el:"#app",mixins:[Q.A,L.A],components:{},data(){return{}},setup(){let{locale:e}=(0,C.s9)({useScope:"global"});return{model:(0,$.KR)({}),model_error:(0,$.KR)({}),processing:(0,$.KR)(!1),success_message:(0,$.KR)(""),locale:(0,$.KR)(e),error_message:(0,$.KR)(""),code:(0,$.KR)(""),show_password:(0,$.KR)(!1),show_confirm_password:(0,$.KR)(!1),localeOptions:[{value:"en-us",label:"English"},{value:"de",label:"Deutsch"},{value:"es-es",label:"Español"},{value:"fr",label:"Français"},{value:"nl",label:"Dutch"}]}},computed:{},mounted(){this.setNewModel(),this.getEmailAndCode()},methods:{languageChanged(){E.A.set("selected_language",this.locale),K.A.set("event_name","language_change"),E.A.remove("doc_types")},setNewModel(){this.model["password"]="",this.model["password_confirm"]="",this.resetErrors()},resetErrors(){this.error_message="",this.model_error["password"]="",this.model_error["password_confirm"]=""},getEmailAndCode(){for(const[e,s]of Object.entries(this.$route.query))"code"===e&&(this.code=String(s))},user_login(){this.$router.push("/")},onResetPW(){this.$router.push("/forget-password")},submitForm(){return V(this,void 0,void 0,(function*(){try{if(!this.validateRow())return;this.processing=!0;let e=new FormData;e.append("token",this.code),e.append("password",this.model["password"]),e.append("password_confirm",this.model["password_confirm"]);const s=yield A.A.post(R.FH.reset_password,e,{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:(0,R.ti)()}});!0===s.data.success&&(this.success_message=s.data.message,this.setNewModel(),this.$router.push("/"))}catch(e){this.handleErrors(e)}finally{this.processing=!1}}))},validateRow(){let e=!1;return this.resetErrors(),!1===e&&""===this.model["password"]&&(this.model_error["password"]=this.$t("password")+"is required",e=!0),!1===e&&""===this.model["password_confirm"]&&(this.model_error["password_confirm"]=this.$t("password_confirm")+"is required",e=!0),!1===e&&this.model["password"]!==this.model["password_confirm"]&&(this.model_error["password_confirm"]="Passwords do not match",e=!0),!e},handleErrors(e){let s="";if(null!=e&&"object"==typeof e&&e.hasOwnProperty("message")&&(s=e.message),e&&e.response&&e.response.data&&e.response.data.hasOwnProperty("message")&&(s=e.response.data.message),s&&""!==s)throw this.error_message=s,{message:s}}}});var T=o(12807),j=o(23316),I=o(44189),O=o(15046),P=o(94940),S=o(67837),U=o(50492),D=o(97410),H=o(56384),N=o(39035),X=o(49200),B=o(67156),z=o(98582),W=o.n(z);const G=(0,T.A)(M,[["render",q],["__scopeId","data-v-09c944fe"]]),J=G;W()(M,"components",{QCard:j.A,QCardSection:I.A,QImg:O.A,QSelect:P.A,QInput:S.A,QIcon:U.A,QTooltip:D.A,QBtn:H.A,QInnerLoading:N.A,QForm:X.A,QField:B.A})}}]);