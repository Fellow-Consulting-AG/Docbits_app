"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[2842],{22842:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Ze});var o=l(59835),i=l(86970);const a={class:"row back mt-20"},n={class:"secondary-c-text text-h6"},s=(0,o._)("img",{width:"24",src:"back_new.svg"},null,-1),d={style:{"vertical-align":"middle","margin-left":"10px","font-size":"20px",cursor:"pointer"}},r={key:0,class:"export-container"},u={class:"row full-width"},c={class:"col-sm-12 col-md-12 col-lg-12 q-pa-md"},m={class:"col-sm-12 col-md-12 col-lg-12 q-pa-md"},p=(0,o._)("thead",null,[(0,o._)("tr",{class:"bg-grey-3"},[(0,o._)("th",{class:"text-h4 text-uppercase text-left"},"Origin"),(0,o._)("th",{class:"text-h4 text-uppercase text-left"},"Type"),(0,o._)("th",{class:"text-h4 text-uppercase text-left"},"Key"),(0,o._)("th",{class:"text-h4 text-uppercase text-left"},"Value"),(0,o._)("th",{class:"text-h4 text-uppercase text-left"},"Sort Order"),(0,o._)("th",{class:"text-h4 text-uppercase text-left"},"Direction")])],-1),h=(0,o._)("tbody",null,null,-1),g=(0,o._)("span",{class:"q-ml-sm"},"Are you sure? If you want to delele Configuration press Done.",-1);function f(e,t,l,f,w,_){const y=(0,o.up)("q-toolbar-title"),x=(0,o.up)("q-toolbar"),v=(0,o.up)("q-icon"),b=(0,o.up)("q-btn"),C=(0,o.up)("q-markup-table"),V=(0,o.up)("Loader"),W=(0,o.up)("Regex-Patterns-create"),Z=(0,o.up)("q-dialog"),q=(0,o.up)("q-avatar"),R=(0,o.up)("q-card-section"),D=(0,o.up)("q-card-actions"),I=(0,o.up)("q-card"),k=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(x,{class:"secondary-toolbar"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{class:"container text-white"})])),_:1}),(0,o._)("div",a,[(0,o._)("div",n,[(0,o.Wm)(b,{flat:"",rounded:"",color:"primary",to:"/settings"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{class:"text-red-13",size:"sm"},{default:(0,o.w5)((()=>[s])),_:1}),(0,o._)("label",d,(0,i.zw)(e.$t("layout.settings")),1)])),_:1})])]),e.isRegexPatternsConfigured?((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",u,[(0,o._)("div",c,[(0,o.Wm)(b,{color:"primary","data-cy":"add-integration-button",class:"float-right",icon:"add",label:"Add New Regex Pattern",onClick:t[0]||(t[0]=t=>e.preapareAddConfigForm())})]),(0,o._)("div",m,[(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[p,h])),_:1})])])])):(0,o.kq)("",!0),(0,o.Wm)(V),(0,o.Wm)(Z,{modelValue:e.showCreateDialog,"onUpdate:modelValue":t[3]||(t[3]=t=>e.showCreateDialog=t),position:"top",class:"export-dialog"},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{onIntegration:t[1]||(t[1]=t=>e.integrationSelected(t)),configuration:e.configuration,onIntegration_completed:t[2]||(t[2]=t=>e.dialogClosed(t))},null,8,["configuration"])])),_:1},8,["modelValue"]),(0,o.Wm)(Z,{modelValue:e.deleteConfirmation,"onUpdate:modelValue":t[5]||(t[5]=t=>e.deleteConfirmation=t),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(I,null,{default:(0,o.w5)((()=>[(0,o.Wm)(R,{class:"row items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{icon:"warning",color:"primary","text-color":"white"}),g])),_:1}),(0,o.Wm)(D,{align:"right"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(b,{flat:"",label:"Cancel","data-cy":"cancel-card",color:"primary"},null,512),[[k]]),(0,o.wy)((0,o.Wm)(b,{flat:"",label:"Done","data-cy":"done-card",color:"primary",onClick:t[4]||(t[4]=t=>e.deleteConfiguration())},null,512),[[k]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var w=l(39981),_=l.n(w),y=l(49990),x=l(60499),v=l(31921),b=l(70501);const C=e=>((0,o.dD)("data-v-a3d6eb5c"),e=e(),(0,o.Cn)(),e),V={"data-cy":"select-integration",class:"text-h6"},W={class:"row bg-grey-2 q-pl-xl q-pr-md q-pb-md"},Z={class:"width-500",id:"left_section",ref:"left_section"},q={class:"full-width bg-white q-ma-sm scroll-area-height"},R={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},D={style:{width:"50%"}},I={style:{width:"50%"},class:"pl-20"},k={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},T={style:{width:"50%"}},Q={style:{width:"50%"},class:"pl-20"},U={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},O={style:{width:"50%"}},P={style:{width:"50%"},class:"pl-20"},S={class:"right_section q-pl-sm",id:"right_section",ref:"right_section"},A=C((()=>(0,o._)("div",{class:"row"}," right side ",-1))),E=[A],L={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},$={style:{width:"50%"}},F={style:{width:"50%"},class:"pl-20"},N={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},z={style:{width:"50%"}},H={style:{width:"50%"},class:"pl-20"},K={style:{"margin-bottom":"20px"},class:"row full-width mb-10"},B={style:{width:"50%"}},j={style:{width:"50%"},class:"pl-20"},G={style:{"text-align":"center"}},M={key:0},X={key:1};function Y(e,t,l,a,n,s){const d=(0,o.up)("q-space"),r=(0,o.up)("q-btn"),u=(0,o.up)("q-card-section"),c=(0,o.up)("q-input"),m=(0,o.up)("q-spinner-ios"),p=(0,o.up)("q-card"),h=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(p,{style:{width:"1060px","max-width":"1060px",height:"450px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"row items-center q-pb-none"},{default:(0,o.w5)((()=>[(0,o._)("div",V,[(0,o._)("b",null,(0,i.zw)(e.$t("pages.export.selectintegration")),1)]),(0,o.Wm)(d),(0,o.wy)((0,o.Wm)(r,{icon:"close",flat:"",round:"",dense:""},null,512),[[h]])])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o._)("div",W,[(0,o._)("div",Z,[(0,o._)("div",q,[(0,o._)("div",R,[(0,o._)("div",D,[(0,o.Wm)(c,{modelValue:e.model["origin"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.model["origin"]=t),label:"Origin*",outlined:"",class:"full-width"},null,8,["modelValue"])]),(0,o._)("div",I,[(0,o.Wm)(c,{modelValue:e.model["type"],"onUpdate:modelValue":t[1]||(t[1]=t=>e.model["type"]=t),label:"Type*",outlined:"",class:"full-width"},null,8,["modelValue"])])]),(0,o._)("div",k,[(0,o._)("div",T,[(0,o.Wm)(c,{modelValue:e.model["key"],"onUpdate:modelValue":t[2]||(t[2]=t=>e.model["key"]=t),label:"Key",outlined:"",class:"full-width"},null,8,["modelValue"])]),(0,o._)("div",Q,[(0,o.Wm)(c,{modelValue:e.model["value"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.model["value"]=t),label:"Value*",type:"password",outlined:"",class:"full-width"},null,8,["modelValue"])])]),(0,o._)("div",U,[(0,o._)("div",O,[(0,o.Wm)(c,{modelValue:e.model["order"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.model["order"]=t),label:"Sort Order*",outlined:"",class:"full-width"},null,8,["modelValue"])]),(0,o._)("div",P,[(0,o.Wm)(c,{modelValue:e.model["direction"],"onUpdate:modelValue":t[5]||(t[5]=t=>e.model["direction"]=t),label:"Direction*",type:"password",outlined:"",class:"full-width"},null,8,["modelValue"])])])])],512),(0,o._)("div",S,E,512)]),(0,o._)("div",L,[(0,o._)("div",$,[(0,o.Wm)(c,{modelValue:e.model["origin"],"onUpdate:modelValue":t[6]||(t[6]=t=>e.model["origin"]=t),label:"Origin*",outlined:"",class:"full-width"},null,8,["modelValue"])]),(0,o._)("div",F,[(0,o.Wm)(c,{modelValue:e.model["type"],"onUpdate:modelValue":t[7]||(t[7]=t=>e.model["type"]=t),label:"Type*",outlined:"",class:"full-width"},null,8,["modelValue"])])]),(0,o._)("div",N,[(0,o._)("div",z,[(0,o.Wm)(c,{modelValue:e.model["key"],"onUpdate:modelValue":t[8]||(t[8]=t=>e.model["key"]=t),label:"Key",outlined:"",class:"full-width"},null,8,["modelValue"])]),(0,o._)("div",H,[(0,o.Wm)(c,{modelValue:e.model["value"],"onUpdate:modelValue":t[9]||(t[9]=t=>e.model["value"]=t),label:"Value*",type:"password",outlined:"",class:"full-width"},null,8,["modelValue"])])]),(0,o._)("div",K,[(0,o._)("div",B,[(0,o.Wm)(c,{modelValue:e.model["order"],"onUpdate:modelValue":t[10]||(t[10]=t=>e.model["order"]=t),label:"Sort Order*",outlined:"",class:"full-width"},null,8,["modelValue"])]),(0,o._)("div",j,[(0,o.Wm)(c,{modelValue:e.model["direction"],"onUpdate:modelValue":t[11]||(t[11]=t=>e.model["direction"]=t),label:"Direction*",type:"password",outlined:"",class:"full-width"},null,8,["modelValue"])])])])),_:1}),(0,o._)("div",G,[e.spinner?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",M,[(0,o.Wm)(r,{style:{"letter-spacing":"2px",width:"180px","margin-left":"10px"},color:"primary",label:e.$t("pages.flow_settings.reset")},null,8,["label"]),(0,o.Wm)(r,{style:{"letter-spacing":"2px",width:"150px","margin-left":"10px"},color:"primary",label:e.$t("pages.user.save"),disable:e.isFlowSettingsComplete(),onClick:e.exportFlowIntegration},null,8,["label","disable","onClick"])])),e.spinner?((0,o.wg)(),(0,o.iD)("div",X,[(0,o.Wm)(m,{color:"primary",size:"4em"})])):(0,o.kq)("",!0)])])),_:1})}var J=l(37744),ee=function(e,t,l,o){function i(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,a){function n(e){try{d(o.next(e))}catch(t){a(t)}}function s(e){try{d(o["throw"](e))}catch(t){a(t)}}function d(e){e.done?l(e.value):i(e.value).then(n,s)}d((o=o.apply(e,t||[])).next())}))};const te=(0,o.aZ)({name:"Regex-Patterns-create",mixins:[b.Z,y.Z],props:{configuration:[]},data(){return{spinner:!1,inforSpinner:!1,inforPremise:!0}},mounted:function(){this.initPage()},methods:{initPage(){if(this.configuration)return this.configId=this.configuration.id,"flow2"==this.configuration.export_method?(this.model.url=this.configuration.export_url,this.model.docType=this.configuration.doc_type,this.model.flow_password=this.configuration.password,this.model.flow_uesrname=this.configuration.username,void(this.model.edit=!0)):void 0},isFlowSettingsComplete(){return!(this.model.url&&this.model.docType&&this.title&&this.flow_cabinet&&this.model.flow_uesrname&&this.model.flow_password&&this.flow_doc_type&&this.model.user_confirmed)},exportFlowIntegration(){return ee(this,void 0,void 0,(function*(){this.spinner=!0;let e=new FormData;(this.configId||null!==this.configId)&&e.append("config_id",this.configId),e.append("flow2_url",this.model.url),e.append("doc_type",this.model.docType),e.append("username",this.model.flow_uesrname),e.append("password",this.model.flow_password);try{let t=yield(0,J.O_)();yield _().post(J.hi.export_flow2,e,{headers:{Authorization:t}}),this.$emit("integration_completed",null)}catch(t){this.spinner=!1,this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR"))}this.spinner=!1,this.configId=null}))}},setup(){let e={};return{model:(0,x.iH)(e),configId:null}}});var le=l(7683),oe=l(44458),ie=l(63190),ae=l(90136),ne=l(68879),se=l(13119),de=l(38359),re=l(32074),ue=l(18149),ce=l(29420),me=l(62146),pe=l(69984),he=l.n(pe);const ge=(0,le.Z)(te,[["render",Y],["__scopeId","data-v-a3d6eb5c"]]),fe=ge;he()(te,"components",{QCard:oe.Z,QCardSection:ie.Z,QSpace:ae.Z,QBtn:ne.Z,QInput:se.Z,QSpinnerIos:de.Z,QDialog:re.Z,QField:ue.Z,QFile:ce.Z}),he()(te,"directives",{ClosePopup:me.Z});var we=function(e,t,l,o){function i(e){return e instanceof l?e:new l((function(t){t(e)}))}return new(l||(l=Promise))((function(l,a){function n(e){try{d(o.next(e))}catch(t){a(t)}}function s(e){try{d(o["throw"](e))}catch(t){a(t)}}function d(e){e.done?l(e.value):i(e.value).then(n,s)}d((o=o.apply(e,t||[])).next())}))};const _e=(0,o.aZ)({el:"#app",mixins:[b.Z,y.Z],components:{Loader:v.Z,RegexPatternsCreate:fe},data(){return{showCreateDialog:!1,total_amount:!1,imageHeight:0}},beforeRouteLeave:function(e,t,l){l()},mounted:function(){this.getConfigurations(!0)},methods:{dialogClosed(e){this.showCreateDialog=!1,this.getConfigurations(!0),this.showSuccessToast(this.$t("pages.messages.EXPORT_INTEGRATIONS_SAVED"))},integrationSelected(e){},getConfigurations(e){return we(this,void 0,void 0,(function*(){let t;!0===e&&this.showLoading(),this.regexData=[];try{let e=yield(0,J.O_)();t=yield _().post(J.hi.get_export_configurations,null,{headers:{Authorization:e}})}catch(l){return this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR")),void this.hideLoading()}t.data&&t.data.data?(this.regexData=t.data.data,this.isRegexPatternsConfigured=!0):this.isRegexPatternsConfigured=!1,!0===e&&this.hideLoading(),this.$forceUpdate()}))},editRecord(e){this.configuration=e,this.showCreateDialog=!0},preapareAddConfigForm(){this.configId=0,this.showCreateDialog=!0,this.configuration=null},deleteConfiguration(){return we(this,void 0,void 0,(function*(){this.showLoading();try{let e=new FormData;e.append("id",this.configId.toString());let t=yield(0,J.O_)();yield _().post(J.hi.delete_existing_export_configuration,e,{headers:{Authorization:t}})}catch(e){return this.showErrorToast(this.$t("pages.messages.ERROR_INTERNAL_OCCUR")),void this.hideLoading()}this.getConfigurations(!1),this.hideLoading(),this.configId=0,this.$forceUpdate()}))}},setup(){let e=[];return{exportConfiguration:(0,x.iH)(),isRegexPatternsConfigured:!1,configuration:(0,x.iH)(),deleteConfirmation:(0,x.iH)(!1),regexData:(0,x.iH)(e),configId:0}}});var ye=l(51663),xe=l(81973),ve=l(22857),be=l(66933),Ce=l(61357),Ve=l(11821);const We=(0,le.Z)(_e,[["render",f]]),Ze=We;he()(_e,"components",{QToolbar:ye.Z,QToolbarTitle:xe.Z,QBtn:ne.Z,QIcon:ve.Z,QMarkupTable:be.Z,QDialog:re.Z,QCard:oe.Z,QCardSection:ie.Z,QAvatar:Ce.Z,QCardActions:Ve.Z}),he()(_e,"directives",{ClosePopup:me.Z})}}]);