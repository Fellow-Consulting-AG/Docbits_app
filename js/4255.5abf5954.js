"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[4255],{44255:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Je});var l=s(83673),o=s(62323),a=s(98880);const i={class:"container settings no-padding-left-right list-of-values-area"},n={class:"q-mt-sm"},r=(0,l._)("template",null,null,-1),d={class:"row items-center"},u=(0,l._)("img",{class:"",width:"20",height:"20",src:"Trash-Block.svg",alt:""},null,-1),c=(0,l._)("img",{class:"",width:"20",height:"20",src:"trash-bin-default.svg",alt:""},null,-1),m=(0,l._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1);function h(e,t,s,h,p,w){const g=(0,l.up)("SubHeader"),_=(0,l.up)("q-btn"),f=(0,l.up)("BackToSettings"),v=(0,l.up)("q-separator"),y=(0,l.up)("q-icon"),b=(0,l.up)("q-space"),q=(0,l.up)("q-item-section"),k=(0,l.up)("valuesOfList"),Z=(0,l.up)("q-card-section"),W=(0,l.up)("q-card"),E=(0,l.up)("q-expansion-item"),V=(0,l.up)("q-list"),C=(0,l.up)("CreateList"),Q=(0,l.up)("q-dialog"),L=(0,l.up)("q-inner-loading");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(g,{name:"list_of_values",label:e.$t("list_of_values")},null,8,["label"]),(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(_,{color:"primary",class:"float-right",icon:"add",onClick:t[0]||(t[0]=t=>e.create_new_list=!0),label:e.$t("new")},null,8,["label"])])),_:1}),(0,l._)("div",i,[(0,l.Wm)(V,{bordered:"",class:"rounded-borders"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.list_of_values,((s,i)=>((0,l.wg)(),(0,l.iD)(l.HY,{key:i},[(0,l.Wm)(v),(0,l.Wm)(E,{"expand-separator":"","header-class":"highlighted-back","defauklt-opened":""},{header:(0,l.w5)((()=>[(0,l.Wm)(y,{size:"25px",class:"q-mr-lg black_to_white q-mt-sm",name:"img:menu-button.svg"}),(0,l._)("span",n,(0,o.zw)(i),1),(0,l.Wm)(b),r,(0,l.Wm)(q,{side:""},{default:(0,l.w5)((()=>[(0,l._)("div",d,["DEFAULT"==s["org_id"]?((0,l.wg)(),(0,l.j4)(_,{key:0,flat:"",color:"black",class:"float-right no-padding-left-right",style:{cursor:"default"}},{default:(0,l.w5)((()=>[u])),_:1})):((0,l.wg)(),(0,l.j4)(_,{key:1,flat:"",color:"primary no-padding-left-right",class:"float-right",onClick:[t[1]||(t[1]=(0,a.iM)((()=>{}),["stop"])),t=>e.deleteRow(i)]},{default:(0,l.w5)((()=>[c])),_:2},1032,["onClick"]))])])),_:2},1024)])),default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{style:"height: auto; min-height: 15vh;"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{list_name:i},null,8,["list_name"])])),_:2},1024)])),_:2},1024)])),_:2},1024),(0,l.Wm)(v)],64)))),128))])),_:1})]),(0,l.Wm)(Q,{modelValue:e.create_new_list,"onUpdate:modelValue":t[2]||(t[2]=t=>e.create_new_list=t),persistent:"",onKeydown:t[3]||(t[3]=(0,a.D2)((t=>e.create_new_list=!1),["esc"]))},{default:(0,l.w5)((()=>[(0,l.Wm)(C)])),_:1},8,["modelValue"]),(0,l.Wm)(L,{showing:e.processing},{default:(0,l.w5)((()=>[m])),_:1},8,["showing"])],64)}var p=s(10321),w=s(61959),g=s(13873),_=s(47845),f=s(60727);const v=e=>((0,l.dD)("data-v-e0102c76"),e=e(),(0,l.Cn)(),e),y={class:"container"},b={class:"full-width q-pa-md"},q={class:"row q-mb-md"},k={class:"highlighted-back"},Z={class:"text-h4 text-uppercase relative-position"},W={class:"text-h4 text-uppercase relative-position"},E={class:"text-h4 text-uppercase action"},V={class:"text-h4"},C={class:"text-h4"},Q={class:"text-h4 action"},L=v((()=>(0,l._)("img",{class:"",width:"20",height:"20",src:"Trash-Block.svg",alt:""},null,-1))),x=v((()=>(0,l._)("img",{class:"",width:"20",height:"20",src:"trash-bin-default.svg",alt:""},null,-1))),S=v((()=>(0,l._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1))),D={class:"text-weight-bold"},H={class:"text-weight-bold"};function F(e,t,s,i,n,r){const d=(0,l.up)("q-space"),u=(0,l.up)("q-btn"),c=(0,l.up)("q-badge"),m=(0,l.up)("q-markup-table"),h=(0,l.up)("q-inner-loading"),p=(0,l.up)("q-toolbar-title"),w=(0,l.up)("q-toolbar"),g=(0,l.up)("CreateValues"),_=(0,l.up)("q-card"),f=(0,l.up)("q-dialog"),v=(0,l.up)("editValue"),F=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",y,[(0,l._)("div",b,[(0,l._)("div",q,[(0,l.Wm)(d),(0,l.Wm)(u,{color:"primary",label:e.$t("pages.settings.master_data_lookup.add_row"),onClick:t[0]||(t[0]=t=>e.show_create_dialog=!0)},null,8,["label"])]),(0,l.Wm)(m,{class:"sticky-header-table"},{default:(0,l.w5)((()=>[(0,l._)("thead",null,[(0,l._)("tr",k,[(0,l._)("th",Z,(0,o.zw)(e.$t("Value")),1),(0,l._)("th",W,(0,o.zw)(e.$t("Synonyms")),1),(0,l._)("th",E,(0,o.zw)(e.$t("actions")),1)])]),(0,l._)("tbody",null,[e.list_of_values[e.list_name]["lov_items"]?((0,l.wg)(!0),(0,l.iD)(l.HY,{key:0},(0,l.Ko)(e.list_of_values[e.list_name]["lov_items"],((s,i)=>((0,l.wg)(),(0,l.iD)("tr",{key:i},[(0,l._)("td",V,(0,o.zw)(s["value"]),1),(0,l._)("td",C,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s["synonyms"],(e=>((0,l.wg)(),(0,l.j4)(c,{key:e,rounded:"",color:"primary",class:"q-mr-sm badge"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e),1)])),_:2},1024)))),128))]),(0,l._)("td",Q,["DEFAULT"==s["org_id"]?((0,l.wg)(),(0,l.j4)(u,{key:0,flat:"",color:"black",class:"float-left no-padding-left-right",style:{cursor:"default"}},{default:(0,l.w5)((()=>[L])),_:1})):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Wm)(u,{flat:"",color:"grey-8",class:"float-left q-px-sm",onClick:[t[1]||(t[1]=(0,a.iM)((()=>{}),["stop"])),t=>e.editRow(s)],icon:"edit"},null,8,["onClick"]),(0,l.Wm)(u,{flat:"",color:"primary",class:"float-left q-px-sm",onClick:[t[2]||(t[2]=(0,a.iM)((()=>{}),["stop"])),t=>e.deleteRow(s)]},{default:(0,l.w5)((()=>[x])),_:2},1032,["onClick"])],64))])])))),128)):(0,l.kq)("",!0)])])),_:1})]),(0,l.Wm)(h,{showing:e.loading},{default:(0,l.w5)((()=>[S])),_:1},8,["showing"])]),(0,l.Wm)(f,{modelValue:e.show_create_dialog,"onUpdate:modelValue":t[3]||(t[3]=t=>e.show_create_dialog=t),persistent:"",onKeydown:t[4]||(t[4]=(0,a.D2)((t=>e.show_create_dialog=!1),["esc"]))},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{style:{"min-height":"20vh","min-width":"470px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{class:"text-white secondary-toolbar"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l._)("span",D,(0,o.zw)(e.$t("create_values")),1)])),_:1}),(0,l.wy)((0,l.Wm)(u,{flat:"",round:"",dense:"",icon:"close",onClick:e.show_create_dialog},null,8,["onClick"]),[[F]])])),_:1}),(0,l.Wm)(g,{list_name:e.list_name},null,8,["list_name"])])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(f,{modelValue:e.show_edit_dialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.show_edit_dialog=t),persistent:"",onKeydown:t[7]||(t[7]=(0,a.D2)((t=>e.show_edit_dialog=!1),["esc"]))},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{style:{"min-height":"15vh","min-width":"10vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(w,{class:"text-white secondary-toolbar"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l._)("span",H,(0,o.zw)(e.$t("Edit Value")),1)])),_:1}),(0,l.wy)((0,l.Wm)(u,{flat:"",round:"",dense:"",icon:"close",onClick:t[5]||(t[5]=t=>e.show_edit_dialog=!1)},null,512),[[F]])])),_:1}),(0,l.Wm)(v,{list_name:e.list_name,model:e.edit_model},null,8,["list_name","model"])])),_:1})])),_:1},8,["modelValue"])],64)}const T={class:"text-caption"},R={class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},U={class:"full-width"},N={class:""},$={class:"q-pl-sm"},I=(0,l._)("img",{class:"",width:"20",height:"20",src:"trash-bin-default.svg",alt:""},null,-1),z=(0,l._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1);function M(e,t,s,i,n,r){const d=(0,l.up)("q-tooltip"),u=(0,l.up)("q-icon"),c=(0,l.up)("q-input"),m=(0,l.up)("q-btn"),h=(0,l.up)("q-select"),p=(0,l.up)("q-card-section"),w=(0,l.up)("q-card-actions"),g=(0,l.up)("q-inner-loading");return(0,l.wg)(),(0,l.iD)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)(((...t)=>e.submitNewColumFrom&&e.submitNewColumFrom(...t)),["prevent","stop"])),class:"q-pt-md q-pb-lg"},[(0,l.Wm)(p,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l._)("span",T,(0,o.zw)(e.$t("list_of_values_hint")),1)]),(0,l._)("div",R,[(0,l._)("div",U,(0,o.zw)(e.$t("values")),1)]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.values,((s,i)=>((0,l.wg)(),(0,l.iD)("div",{key:i,class:"row mb-10 mt-8 full-width",style:{"margin-bottom":"20px"}},[(0,l._)("div",N,[(0,l.Wm)(c,{dense:"",label:e.$t("name"),outlined:"",modelValue:s["name"],"onUpdate:modelValue":e=>s["name"]=e,autofocus:"",class:(0,o.C_)("full-width "+(s["validate"]?"column-error-border":""))},{append:(0,l.w5)((()=>[1==s["validate"]?((0,l.wg)(),(0,l.j4)(u,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"bg-red line-error-tooltip"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,l.kq)("",!0)])),_:2},1032,["label","modelValue","onUpdate:modelValue","class"])]),(0,l._)("div",$,[(0,l.Wm)(h,{dense:"",class:"full-width",label:e.$t("synonyms"),outlined:"",modelValue:s["synonyms"],"onUpdate:modelValue":e=>s["synonyms"]=e,"use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0",onNewValue:e.createSynonyms},{after:(0,l.w5)((()=>[0!==i?((0,l.wg)(),(0,l.j4)(m,{key:0,flat:"",color:"primary no-padding-left-right",class:"q-ml-sm q-mt-sm",onClick:[t[0]||(t[0]=(0,a.iM)((()=>{}),["stop"])),t=>e.deleteRow(i)]},{default:(0,l.w5)((()=>[I])),_:2},1032,["onClick"])):(0,l.kq)("",!0)])),_:2},1032,["label","modelValue","onUpdate:modelValue","onNewValue"])])])))),128))])),_:1}),(0,l.Wm)(w,{align:"right"},{default:(0,l.w5)((()=>[(0,l._)("div",null,[(0,l._)("div",null,[(0,l.Wm)(m,{class:"on-left",color:"primary",label:e.$t("add_more_values"),onClick:t[1]||(t[1]=t=>e.addNewLine())},null,8,["label"]),(0,l.Wm)(m,{type:"submit",color:"primary",label:e.$t("save")},null,8,["label"])])])])),_:1}),(0,l.Wm)(g,{showing:e.loading},{default:(0,l.w5)((()=>[z])),_:1},8,["showing"])],32)}var A=s(77378),j=s(80579),Y=s(9273),B=function(e,t,s,l){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function i(e){try{r(l.next(e))}catch(t){a(t)}}function n(e){try{r(l["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):o(e.value).then(i,n)}r((l=l.apply(e,t||[])).next())}))};const K=(0,l.aZ)({props:{list_name:{type:String,default:""}},watch:{},mixins:[A.Z],components:{},data(){return{}},mounted:function(){this.init()},methods:{init(){try{this.addNewLine()}catch(e){}},addNewLine(){const e=Object.assign({},{name:"",synonyms:null,validate:!1,error:""});this.values.push(e)},createSynonyms(e,t){t(e)},deleteRow(e){0!=e&&this.values.splice(e,1)},resetErrors(){Array.from(this.values).forEach(((e,t)=>{e["validate"]=!1}))},submitNewColumFrom(){return B(this,void 0,void 0,(function*(){try{if(!this.validateForm())return;this.loading=!0,yield this.saveAll(),this.showSuccessToast("Record(s) Created successfully"),yield this.getValuesForList(this.list_name);const e=new CustomEvent("values_added",{});document.dispatchEvent(e)}catch(e){const t=Y.w.getErrorMessage(e);this.showErrorToast(t)}finally{this.loading=!1}}))},saveAll(){return B(this,void 0,void 0,(function*(){try{this.errors=[];for(let e of this.values)yield this.saveNewRow(e);if(this.errors.length>0)throw this.errors}catch(e){const t=Y.w.getErrorMessage(e);this.showErrorToast(t)}}))},saveNewRow(e){return B(this,void 0,void 0,(function*(){try{let t={};t["name"]=this.list_name,t["value"]=e["name"],e["synonyms"]&&(t["synonyms"]=JSON.stringify(e["synonyms"]));const s=yield j.f2.createValuesForlist(t);if(0==s.success)throw s.message}catch(t){const e=Y.w.getErrorMessage(t);this.errors.push(e)}}))},validateForm(){let e=!0;return this.resetErrors(),Array.from(this.values).forEach(((t,s)=>{this.validateName(t)||(e=!1)})),e},validateName(e){return!(!e["name"]||0==e["name"].length)||(e["validate"]=!0,!1)}},setup(){const e=(0,f.wr)(),{getValuesForList:t}=e;return{getValuesForList:t,loading:(0,w.iH)(!1),list_names:(0,w.iH)([]),values:(0,w.iH)([]),errors:(0,w.iH)([])}}});var O=s(74260),P=s(25589),J=s(64689),G=s(24554),X=s(5363),ee=s(72448),te=s(2165),se=s(99367),le=s(66941),oe=s(7518),ae=s.n(oe);const ie=(0,O.Z)(K,[["render",M]]),ne=ie;ae()(K,"components",{QCardSection:P.Z,QInput:J.Z,QIcon:G.Z,QTooltip:X.Z,QSelect:ee.Z,QBtn:te.Z,QCardActions:se.Z,QInnerLoading:le.Z});const re=e=>((0,l.dD)("data-v-6576be84"),e=e(),(0,l.Cn)(),e),de={class:"col-4"},ue={class:"col-6 q-pl-sm"},ce=(0,l.Uk)("Press enter when done typing"),me=re((()=>(0,l._)("div",{class:"col-2"},null,-1))),he={class:"row full-width mt-8"},pe={class:"col-10"},we=re((()=>(0,l._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1)));function ge(e,t,s,i,n,r){const d=(0,l.up)("q-tooltip"),u=(0,l.up)("q-icon"),c=(0,l.up)("q-input"),m=(0,l.up)("q-select"),h=(0,l.up)("q-card-section"),p=(0,l.up)("q-btn"),w=(0,l.up)("q-card-actions"),g=(0,l.up)("q-inner-loading");return(0,l.wg)(),(0,l.iD)("form",{onSubmit:t[0]||(t[0]=(0,a.iM)(((...t)=>e.submitEditFrom&&e.submitEditFrom(...t)),["prevent","stop"])),class:"create-form q-pt-md q-pb-lg"},[(0,l.Wm)(h,{class:"q-pt-none"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.values,((t,s)=>((0,l.wg)(),(0,l.iD)("div",{key:s,class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},[(0,l._)("div",de,[(0,l.Wm)(c,{label:"name",dense:"",outlined:"",modelValue:t["value"],"onUpdate:modelValue":e=>t["value"]=e,autofocus:"",class:(0,o.C_)("full-width "+(t["validate"]?"column-error-border":""))},{append:(0,l.w5)((()=>[1==t["validate"]?((0,l.wg)(),(0,l.j4)(u,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"bg-red line-error-tooltip"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)])),_:1})])),_:1})):(0,l.kq)("",!0)])),_:2},1032,["modelValue","onUpdate:modelValue","class"])]),(0,l._)("div",ue,[(0,l.Wm)(m,{dense:"",label:"Synonyms",outlined:"",modelValue:t["synonyms"],"onUpdate:modelValue":e=>t["synonyms"]=e,"use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0",onNewValue:e.createSynonyms},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[ce])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue","onNewValue"])]),me])))),128))])),_:1}),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l._)("div",he,[(0,l._)("div",pe,[(0,l.Wm)(p,{type:"submit",color:"primary",class:"float-right",label:e.$t("save")},null,8,["label"])])])])),_:1}),(0,l.Wm)(g,{showing:e.loading},{default:(0,l.w5)((()=>[we])),_:1},8,["showing"])],32)}var _e=function(e,t,s,l){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function i(e){try{r(l.next(e))}catch(t){a(t)}}function n(e){try{r(l["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):o(e.value).then(i,n)}r((l=l.apply(e,t||[])).next())}))};const fe=(0,l.aZ)({props:{list_name:{type:String,default:""},model:{}},watch:{},mixins:[A.Z],components:{},data(){return{}},mounted:function(){this.init()},methods:{init(){try{this.editValue()}catch(e){}},editValue(){const e=Object.assign(this.model,{validate:!1,error:""});this.values.push(e)},createSynonyms(e,t){t(e)},deleteRow(e){0!=e&&this.values.splice(e,1)},resetErrors(){Array.from(this.values).forEach(((e,t)=>{e["validate"]=!1}))},submitEditFrom(){return _e(this,void 0,void 0,(function*(){try{if(!this.validateForm())return;this.loading=!0,yield this.saveAll(),this.showSuccessToast("Record updated successfully"),yield this.getValuesForList(this.list_name);const e=new CustomEvent("values_added",{});document.dispatchEvent(e)}catch(e){const t=Y.w.getErrorMessage(e);this.showErrorToast(t)}finally{this.loading=!1}}))},saveAll(){return _e(this,void 0,void 0,(function*(){try{this.errors=[];for(let e of this.values)yield this.saveRow(e);if(this.errors.length>0)throw this.errors}catch(e){const t=Y.w.getErrorMessage(e);this.showErrorToast(t)}}))},saveRow(e){return _e(this,void 0,void 0,(function*(){try{let t={};t["name"]=this.list_name,t["value"]=e["value"],t["id"]=e["id"],e["synonyms"]&&(t["synonyms"]=JSON.stringify(e["synonyms"]));const s=yield j.f2.editValueForlist(t);if(0==s.success)throw s.message}catch(t){const e=Y.w.getErrorMessage(t);this.errors.push(e)}}))},validateForm(){let e=!0;return this.resetErrors(),Array.from(this.values).forEach(((t,s)=>{this.validateName(t)||(e=!1)})),e},validateName(e){return!(!e["value"]||0==e["value"].length)||(e["validate"]=!0,!1)}},setup(){const e=(0,f.wr)(),{getValuesForList:t}=e;return{getValuesForList:t,loading:(0,w.iH)(!1),list_names:(0,w.iH)([]),values:(0,w.iH)([]),errors:(0,w.iH)([])}}}),ve=(0,O.Z)(fe,[["render",ge],["__scopeId","data-v-6576be84"]]),ye=ve;ae()(fe,"components",{QCardSection:P.Z,QInput:J.Z,QIcon:G.Z,QTooltip:X.Z,QSelect:ee.Z,QCardActions:se.Z,QBtn:te.Z,QInnerLoading:le.Z});var be=function(e,t,s,l){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function i(e){try{r(l.next(e))}catch(t){a(t)}}function n(e){try{r(l["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):o(e.value).then(i,n)}r((l=l.apply(e,t||[])).next())}))};const qe=(0,l.aZ)({props:{list_name:{type:String,default:""}},mixins:[A.Z],components:{CreateValues:ne,editValue:ye},data(){return{}},mounted:function(){this.init(),document.addEventListener("values_added",this.rowAdded)},unmounted(){document.removeEventListener("values_added",this.rowAdded)},methods:{init(){return be(this,void 0,void 0,(function*(){try{yield this.getValuesForList(this.list_name),this.prepareColumns()}catch(e){}}))},rowAdded(e){this.show_create_dialog=!1,this.show_edit_dialog=!1},prepareColumns(){this.columns.push({name:"Value",label:"Value",field:"Value",align:"left"}),this.columns.push({name:"action",label:this.$t("action"),field:"action",align:"right"})},deleteRow(e){return be(this,void 0,void 0,(function*(){try{this.loading=!0;const t={name:this.list_name,value:e["value"]};yield j.f2.deleteValue(t);delete this.list_of_values[this.list_name]["lov_items"][e["value"]]}catch(t){const e=Y.w.getErrorMessage(t);this.showErrorToast(e)}finally{this.loading=!1}}))},editRow(e){this.edit_model=e,this.show_edit_dialog=!0}},setup(){const e=(0,f.wr)(),{list_of_values:t,processing:s}=(0,p.Jk)(e),{getValuesForList:l}=e;let o=[];return{getValuesForList:l,list_of_values:t,processing:s,columns:(0,w.iH)(o),show_create_dialog:(0,w.iH)(!1),tableRows:(0,w.iH)([]),loading:(0,w.iH)(!1),edit_model:(0,w.iH)({}),show_edit_dialog:(0,w.iH)(!1)}}});var ke=s(62025),Ze=s(30481),We=s(69721),Ee=s(46778),Ve=s(10151),Ce=s(39570),Qe=s(13747),Le=s(60677);const xe=(0,O.Z)(qe,[["render",F],["__scopeId","data-v-e0102c76"]]),Se=xe;ae()(qe,"components",{QSpace:ke.Z,QBtn:te.Z,QMarkupTable:Ze.Z,QBadge:We.Z,QInnerLoading:le.Z,QDialog:Ee.Z,QCard:Ve.Z,QToolbar:Ce.Z,QToolbarTitle:Qe.Z}),ae()(qe,"directives",{ClosePopup:Le.Z});const De=e=>((0,l.dD)("data-v-73e14392"),e=e(),(0,l.Cn)(),e),He=De((()=>(0,l._)("div",{class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},[(0,l._)("div",{class:"full-width"})],-1))),Fe={class:"row full-width mb-10 mt-8",style:{"margin-bottom":"20px"}},Te={class:"full-width"},Re=De((()=>(0,l._)("img",{class:"loading-image",src:"loader.gif",alt:"Loading..."},null,-1)));function Ue(e,t,s,i,n,r){const d=(0,l.up)("q-toolbar-title"),u=(0,l.up)("q-btn"),c=(0,l.up)("q-toolbar"),m=(0,l.up)("q-tooltip"),h=(0,l.up)("q-icon"),p=(0,l.up)("q-input"),w=(0,l.up)("q-card-section"),g=(0,l.up)("q-card-actions"),_=(0,l.up)("q-inner-loading"),f=(0,l.up)("q-card"),v=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"text-white secondary-toolbar"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.$t("pages.settings.lov.new_list")),1)])),_:1}),(0,l.wy)((0,l.Wm)(u,{flat:"",round:"",dense:"",icon:"close"},null,512),[[v]])])),_:1}),(0,l._)("form",{onSubmit:t[1]||(t[1]=(0,a.iM)(((...t)=>e.submitNewColumFrom&&e.submitNewColumFrom(...t)),["prevent","stop"])),class:"create-form q-pt-md q-pb-lg"},[(0,l.Wm)(w,{class:"q-pt-none"},{default:(0,l.w5)((()=>[He,(0,l._)("div",Fe,[(0,l._)("div",Te,[(0,l.Wm)(p,{outlined:"",label:e.$t("Name"),modelValue:e.model["name"],"onUpdate:modelValue":t[0]||(t[0]=t=>e.model["name"]=t),class:(0,o.C_)("full-width "+(e.errors["name"]?"column-error-border":""))},{append:(0,l.w5)((()=>[e.errors["name"]?((0,l.wg)(),(0,l.j4)(h,{key:0,flat:"",dense:"",name:"error",size:"24px",color:"red"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"bg-red line-error-tooltip"},{default:(0,l.w5)((()=>["required"==e.errors["name"]?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[(0,l.Uk)((0,o.zw)(e.$t("pages.api_user_messages.FIELD_REQUIRED")),1)],64)):(0,l.kq)("",!0),"only_characters_underscore"==e.errors["name"]?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l.Uk)((0,o.zw)(e.$t("only_characters_underscore")),1)],64)):(0,l.kq)("",!0),"duplicate_error"==e.errors["name"]?((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[(0,l.Uk)((0,o.zw)(e.$t("duplicate_error")),1)],64)):(0,l.kq)("",!0)])),_:1})])),_:1})):(0,l.kq)("",!0)])),_:1},8,["label","modelValue","class"])])])])),_:1}),(0,l.Wm)(g,{align:"right"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{type:"submit",color:"primary",class:"q-mr-sm",label:e.$t("save")},null,8,["label"])])),_:1}),(0,l.Wm)(_,{showing:e.loading},{default:(0,l.w5)((()=>[Re])),_:1},8,["showing"])],32)])),_:1})}var Ne=s(29938),$e=function(e,t,s,l){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function i(e){try{r(l.next(e))}catch(t){a(t)}}function n(e){try{r(l["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):o(e.value).then(i,n)}r((l=l.apply(e,t||[])).next())}))};const Ie=(0,l.aZ)({props:{list_name:{type:String,default:""}},mixins:[A.Z],components:{},data(){return{}},mounted:function(){this.init()},methods:{init(){try{this.list_names=Object.keys(this.list_of_values),this.resetModel()}catch(e){}},resetModel(){this.model["name"]="",this.resetErrors()},resetErrors(){for(const[e,t]of Object.entries(this.model))this.errors[e]=""},submitNewColumFrom(){return $e(this,void 0,void 0,(function*(){try{if(!this.validateRow())return;this.loading=!0,yield this.saveNewRow();const e=new CustomEvent("row_added",{});document.dispatchEvent(e),this.showSuccessToast("Record Created successfully")}catch(e){const t=Y.w.getErrorMessage(e);this.showErrorToast(t)}finally{this.loading=!1}}))},saveNewRow(){return $e(this,void 0,void 0,(function*(){const e={name:this.model["name"]},t=yield j.f2.createList(e);if(0==t.success)throw t.message;this.resetModel()}))},validateRow(){let e=!0;return this.resetErrors(),this.validateName()||(e=!1),e},validateName(){return this.model["name"]&&0!=this.model["name"].length?(0,Ne.qG)(this.model["name"])?!this.list_names.includes(this.model["name"])||(this.errors["name"]="duplicate_error",!1):(this.errors["name"]="only_characters_underscore",!1):(this.errors["name"]="required",!1)}},setup(){const e=(0,f.wr)(),{list_of_values:t,processing:s}=(0,p.Jk)(e),{getLists:l}=e;return{getLists:l,list_of_values:t,processing:s,model:(0,w.iH)({}),errors:(0,w.iH)({}),loading:(0,w.iH)(!1),list_names:(0,w.iH)([])}}}),ze=(0,O.Z)(Ie,[["render",Ue],["__scopeId","data-v-73e14392"]]),Me=ze;ae()(Ie,"components",{QCard:Ve.Z,QToolbar:Ce.Z,QToolbarTitle:Qe.Z,QBtn:te.Z,QCardSection:P.Z,QInput:J.Z,QIcon:G.Z,QTooltip:X.Z,QCardActions:se.Z,QInnerLoading:le.Z}),ae()(Ie,"directives",{ClosePopup:Le.Z});var Ae=function(e,t,s,l){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,a){function i(e){try{r(l.next(e))}catch(t){a(t)}}function n(e){try{r(l["throw"](e))}catch(t){a(t)}}function r(e){e.done?s(e.value):o(e.value).then(i,n)}r((l=l.apply(e,t||[])).next())}))};const je=(0,l.aZ)({props:{},mixins:[A.Z],components:{SubHeader:g.Z,BackToSettings:_.Z,valuesOfList:Se,CreateList:Me},data(){return{}},mounted:function(){this.init(),document.addEventListener("row_added",this.rowAdded)},unmounted(){document.removeEventListener("row_added",this.rowAdded)},methods:{init(){return Ae(this,void 0,void 0,(function*(){try{this.processing=!0,yield this.getLists()}catch(e){}finally{this.processing=!1}}))},deleteRow(e){return Ae(this,void 0,void 0,(function*(){try{this.processing=!0;const t=yield j.f2.deleteList(e);if(0==t.success)throw t.message;yield this.getLists(),this.showSuccessToast(this.$t("pages.messages.DELETED_SUCCESSFULLY"))}catch(t){const e=Y.w.getErrorMessage(t);this.showErrorToast(e)}finally{this.processing=!1}}))},rowAdded(e){this.getLists(),this.create_new_list=!1}},setup(){const e=(0,f.wr)(),{processing:t,list_of_values:s}=(0,p.Jk)(e),{getLists:l}=e;return{getLists:l,processing:t,list_of_values:s,tab:(0,w.iH)("list_of_values"),create_new_list:(0,w.iH)(!1)}}});var Ye=s(27011),Be=s(65869),Ke=s(60429),Oe=s(52035);const Pe=(0,O.Z)(je,[["render",h]]),Je=Pe;ae()(je,"components",{QBtn:te.Z,QList:Ye.Z,QSeparator:Be.Z,QExpansionItem:Ke.Z,QIcon:G.Z,QSpace:ke.Z,QItemSection:Oe.Z,QCard:Ve.Z,QCardSection:P.Z,QDialog:Ee.Z,QInnerLoading:le.Z})}}]);