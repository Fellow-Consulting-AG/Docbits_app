"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[4375],{34375:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Zt});var o=a(61758),l=a(58790);const i={class:"container page-height-limit"},s={style:{width:"100%"}},n={style:{"margin-top":"3px"}},r={class:"container q-pa-xl"},d={style:{width:"100%"}},_={class:"row"},p={style:{width:"30%"},class:"q-mt-sm"},c={style:{width:"30%"}},u={style:{"margin-top":"3px"}},m={class:"container q-pa-xl"},h={class:"row q-mb-sm"},g={style:{width:"30%",margin:"auto"}},v={style:{width:"10%"}},b={class:"row q-my-auto",style:{width:"60%"}},y={key:0,class:"container q-pa-xl"},f={class:"row q-mb-sm"},k={style:{width:"30%",margin:"auto"}},x={style:{width:"10%"}},w=(0,o.Lk)("div",{class:"row q-my-auto",style:{width:"60%"}},null,-1),V=(0,o.Lk)("span",{style:{"margin-top":"3px"}}," In Review",-1),L={class:"container q-pa-xl"},F={class:"row"},q=(0,o.Lk)("div",{style:{width:"30%"},class:"q-mt-sm"}," Design In Review Form ",-1),$={style:{width:"40%"}},E={style:{"margin-top":"3px"}},T={class:"container q-pa-xl"},A={class:"row"},C={style:{width:"30%"},class:"q-mt-sm"},S={style:{width:"40%"}},U={style:{"margin-top":"3px"}},D={class:"container q-pa-xl"},Q={class:"row"},X={style:{width:"30%"},class:"q-mt-sm"},I={style:{width:"10%"}},H={style:{width:"40%"}},P={class:"row"},O={style:{width:"30%"},class:"q-mt-sm"},K={style:{width:"30%"}},j={style:{"margin-top":"3px"}},B={class:"container q-pa-xl"},R={style:{width:"100%"}},M={class:"row"},N={style:{width:"30%"},class:"q-mt-sm"},z={style:{width:"10%"}},W={key:0,style:{width:"40%"}},G={key:0,class:"row"},Y={style:{width:"30%"},class:"q-mt-sm"},J={style:{width:"10%"}},Z={key:0,style:{width:"40%"}},ee={class:"row"},te={style:{width:"30%"},class:"q-mt-sm"},ae={style:{width:"10%"}},oe={key:0,style:{width:"40%"}},le={class:"row"},ie={style:{width:"30%"},class:"q-mt-sm"},se={style:{width:"10%"}},ne={class:"row"},re={style:{width:"30%"},class:"q-mt-sm"},de={style:{width:"10%"}},_e={style:{"margin-top":"3px"}};function pe(e,t,a,pe,ce,ue){const me=(0,o.g2)("SubHeader"),he=(0,o.g2)("BackToSettings"),ge=(0,o.g2)("q-separator"),ve=(0,o.g2)("q-icon"),be=(0,o.g2)("q-space"),ye=(0,o.g2)("q-toggle"),fe=(0,o.g2)("q-card-section"),ke=(0,o.g2)("q-card"),xe=(0,o.g2)("q-expansion-item"),we=(0,o.g2)("q-select"),Ve=(0,o.g2)("q-tooltip"),Le=(0,o.g2)("q-btn"),Fe=(0,o.g2)("PO"),qe=(0,o.g2)("q-list"),$e=(0,o.g2)("Loader");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(me,{name:"more_settings",label:e.$t("more_settings")},null,8,["label"]),(0,o.bF)(he,{back_to_rotue:"/settings/document"}),(0,o.Lk)("div",i,[(0,o.Lk)("div",s,[(0,o.Lk)("div",null,[(0,o.bF)(qe,{bordered:"",class:"rounded-borders"},{default:(0,o.k6)((()=>[(0,o.bF)(xe,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,o.k6)((()=>[(0,o.bF)(ve,{size:"25px",class:"q-mr-lg black_to_white",name:"img:settings/doc.svg"}),(0,o.Lk)("span",n,(0,l.v_)(e.$t("table_extraction_setting_label")),1),(0,o.bF)(be)])),default:(0,o.k6)((()=>[(0,o.bF)(ge),(0,o.bF)(ke,{class:"page-background"},{default:(0,o.k6)((()=>[(0,o.bF)(fe,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",r,[(0,o.Lk)("div",d,[(0,o.Lk)("div",_,[(0,o.Lk)("div",p,(0,l.v_)(e.$t("skip_table_validation")),1),(0,o.Lk)("div",c,[(0,o.bF)(ye,{modelValue:e.model[e.skip_table_validation],"onUpdate:modelValue":[t[0]||(t[0]=t=>e.model[e.skip_table_validation]=t),t[1]||(t[1]=t=>{e.updateValue(e.skip_table_validation,t)})]},null,8,["modelValue"])])])])])])),_:1})])),_:1})])),_:1}),(0,o.bF)(xe,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,o.k6)((()=>[(0,o.bF)(ve,{size:"25px",class:"q-mr-lg black_to_white",name:"img:settings/doc.svg"}),(0,o.Lk)("span",u,(0,l.v_)(e.$t("duplicate_detection")),1),(0,o.bF)(be)])),default:(0,o.k6)((()=>[(0,o.bF)(ge),(0,o.bF)(ke,{class:"page-background"},{default:(0,o.k6)((()=>[(0,o.bF)(fe,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",m,[(0,o.Lk)("div",h,[(0,o.Lk)("div",g,(0,l.v_)(e.$t("duplicate_document_detection")),1),(0,o.Lk)("div",v,[(0,o.bF)(ye,{modelValue:e.model[e.duplicate_detection],"onUpdate:modelValue":[t[2]||(t[2]=t=>e.model[e.duplicate_detection]=t),t[3]||(t[3]=t=>{e.updateValue(e.duplicate_detection,t)})]},null,8,["modelValue"])]),(0,o.Lk)("div",b,[e.model[e.duplicate_detection]||e.model[e.duplicate_invoice_detection]?((0,o.uX)(),(0,o.Wv)(we,{key:0,outlined:"",dense:"","emit-value":"","map-options":"",multiple:"","use-chips":"",class:"back-white min-width-50",modelValue:e.duplicateDetectionFields,"onUpdate:modelValue":[t[4]||(t[4]=t=>e.duplicateDetectionFields=t),t[5]||(t[5]=t=>{e.saveDuplicateDetectionFields(t)})],options:e.fields_list,label:e.$t("duplicate_detection_fields")},null,8,["modelValue","options","label"])):(0,o.Q3)("",!0)])])]),e.isInvoice(e.doc_type_key)?((0,o.uX)(),(0,o.CE)("div",y,[(0,o.Lk)("div",f,[(0,o.Lk)("div",k,[(0,o.eW)((0,l.v_)(e.$t("duplicate_invoice_detection"))+" ",1),(0,o.bF)(ve,{name:"info",class:"help-sign cursor-pointer",color:"primary"},{default:(0,o.k6)((()=>[(0,o.bF)(Ve,null,{default:(0,o.k6)((()=>[(0,o.eW)("Note: Using this feature will result in additional credit charge")])),_:1})])),_:1})]),(0,o.Lk)("div",x,[(0,o.bF)(ye,{modelValue:e.model[e.duplicate_invoice_detection],"onUpdate:modelValue":[t[6]||(t[6]=t=>e.model[e.duplicate_invoice_detection]=t),t[7]||(t[7]=t=>{e.updateValue(e.duplicate_invoice_detection,t)})]},null,8,["modelValue"])]),w])])):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1}),e.model[e.approve_before_export]?((0,o.uX)(),(0,o.Wv)(xe,{key:0,"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,o.k6)((()=>[(0,o.bF)(ve,{size:"25px",class:"q-mr-lg black_to_white",name:"img:settings/doc.svg"}),V,(0,o.bF)(be)])),default:(0,o.k6)((()=>[(0,o.bF)(ge),(0,o.bF)(ke,{class:"page-background"},{default:(0,o.k6)((()=>[(0,o.bF)(fe,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",L,[(0,o.Lk)("div",F,[q,(0,o.Lk)("div",$,[(0,o.bF)(Le,{flat:"",color:"primary",label:"Design In Review Form",onClick:t[8]||(t[8]=t=>e.openFormBuilder(e.layout_types.review))})])])])])),_:1})])),_:1})])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(xe,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,o.k6)((()=>[(0,o.bF)(ve,{size:"25px",class:"q-mr-lg black_to_white",name:"img:settings/doc.svg"}),(0,o.Lk)("span",E,(0,l.v_)(e.$t("reject")),1),(0,o.bF)(be)])),default:(0,o.k6)((()=>[(0,o.bF)(ge),(0,o.bF)(ke,{class:"page-background"},{default:(0,o.k6)((()=>[(0,o.bF)(fe,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",T,[(0,o.Lk)("div",A,[(0,o.Lk)("div",C,(0,l.v_)(e.$t("design_reject_form")),1),(0,o.Lk)("div",S,[(0,o.bF)(Le,{flat:"",color:"primary",label:e.$t("design_reject_form"),onClick:t[9]||(t[9]=t=>e.openFormBuilder(e.layout_types.reject))},null,8,["label"])])])])])),_:1})])),_:1})])),_:1}),(0,o.bF)(xe,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,o.k6)((()=>[(0,o.bF)(ve,{size:"25px",class:"q-mr-lg black_to_white",name:"img:settings/doc.svg"}),(0,o.Lk)("span",U,(0,l.v_)(e.$t("pdf_generation_setting")),1),(0,o.bF)(be)])),default:(0,o.k6)((()=>[(0,o.bF)(ge),(0,o.bF)(ke,{class:"page-background"},{default:(0,o.k6)((()=>[(0,o.bF)(fe,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",D,[(0,o.Lk)("div",Q,[(0,o.Lk)("div",X,(0,l.v_)(e.$t("design_template")),1),(0,o.Lk)("div",I,[(0,o.bF)(ye,{modelValue:e.model[e.pdf_template],"onUpdate:modelValue":[t[10]||(t[10]=t=>e.model[e.pdf_template]=t),t[11]||(t[11]=t=>{e.updateValue(e.pdf_template,t)})]},null,8,["modelValue"])]),(0,o.Lk)("div",H,[(0,o.bF)(Le,{to:"/settings/doc_type_settings/pdf-layout",flat:"",color:"primary",label:"Design Template Form"})])]),(0,o.Lk)("div",P,[(0,o.Lk)("div",O,(0,l.v_)(e.$t("pdf_export_validation")),1),(0,o.Lk)("div",K,[(0,o.bF)(ye,{modelValue:e.model[e.pdf_export_to_idm],"onUpdate:modelValue":[t[12]||(t[12]=t=>e.model[e.pdf_export_to_idm]=t),t[13]||(t[13]=t=>{e.updateValue(e.pdf_export_to_idm,t)})]},null,8,["modelValue"])])])])])),_:1})])),_:1})])),_:1}),(0,o.bF)(xe,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,o.k6)((()=>[(0,o.bF)(ve,{size:"25px",class:"q-mr-lg black_to_white",name:"img:settings/doc.svg"}),(0,o.Lk)("span",j,(0,l.v_)(e.$t("approval")),1),(0,o.bF)(be)])),default:(0,o.k6)((()=>[(0,o.bF)(ge),(0,o.bF)(ke,{class:"page-background"},{default:(0,o.k6)((()=>[(0,o.bF)(fe,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",B,[(0,o.Lk)("div",R,[(0,o.Lk)("div",M,[(0,o.Lk)("div",N,(0,l.v_)(e.$t("approve_before_export")),1),(0,o.Lk)("div",z,[(0,o.bF)(ye,{modelValue:e.model[e.approve_before_export],"onUpdate:modelValue":[t[14]||(t[14]=t=>e.model[e.approve_before_export]=t),t[15]||(t[15]=t=>{e.updateValue(e.approve_before_export,t)})]},null,8,["modelValue"])]),e.model[e.approve_before_export]?((0,o.uX)(),(0,o.CE)("div",W,[(0,o.bF)(Le,{flat:"",color:"primary",label:"Design Approval Form",onClick:t[16]||(t[16]=t=>e.openFormBuilder(e.layout_types.approval))})])):(0,o.Q3)("",!0)]),e.model[e.approve_before_export]?((0,o.uX)(),(0,o.CE)("div",G,[(0,o.Lk)("div",Y,(0,l.v_)(e.$t("approve_before_export_v2")),1),(0,o.Lk)("div",J,[(0,o.bF)(ye,{modelValue:e.model[e.approve_before_export_v2],"onUpdate:modelValue":[t[17]||(t[17]=t=>e.model[e.approve_before_export_v2]=t),t[18]||(t[18]=t=>{e.updateValue(e.approve_before_export_v2,t)})]},null,8,["modelValue"])]),e.model[e.approve_before_export_v2]?((0,o.uX)(),(0,o.CE)("div",Z,[(0,o.bF)(Le,{flat:"",color:"primary",label:"Design Approval Form V2",onClick:t[19]||(t[19]=t=>e.openFormBuilder(e.layout_types.approval_v2))})])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),(0,o.Lk)("div",ee,[(0,o.Lk)("div",te,(0,l.v_)(e.$t("second_approval_before_export")),1),(0,o.Lk)("div",ae,[(0,o.bF)(ye,{modelValue:e.model[e.second_approval_before_export],"onUpdate:modelValue":[t[20]||(t[20]=t=>e.model[e.second_approval_before_export]=t),t[21]||(t[21]=t=>{e.updateValue(e.second_approval_before_export,t)})]},null,8,["modelValue"])]),e.model[e.second_approval_before_export]?((0,o.uX)(),(0,o.CE)("div",oe,[(0,o.bF)(Le,{flat:"",color:"primary",label:"Design Second Approval Form",onClick:t[22]||(t[22]=t=>e.openFormBuilder(e.layout_types.recond_approval))})])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",le,[(0,o.Lk)("div",ie,(0,l.v_)(e.$t("approval_stamp")),1),(0,o.Lk)("div",se,[(0,o.bF)(ye,{modelValue:e.model[e.approval_stamp],"onUpdate:modelValue":[t[23]||(t[23]=t=>e.model[e.approval_stamp]=t),t[24]||(t[24]=t=>{e.updateValue(e.approval_stamp,t)})]},null,8,["modelValue"])])]),(0,o.Lk)("div",ne,[(0,o.Lk)("div",re,(0,l.v_)(e.$t("approval_history")),1),(0,o.Lk)("div",de,[(0,o.bF)(ye,{modelValue:e.model[e.approval_history],"onUpdate:modelValue":[t[25]||(t[25]=t=>e.model[e.approval_history]=t),t[26]||(t[26]=t=>{e.updateValue(e.approval_history,t)})]},null,8,["modelValue"])])])])])])),_:1})])),_:1})])),_:1}),(0,o.bF)(xe,{"expand-separator":"","header-class":"highlighted-back","default-opened":""},{header:(0,o.k6)((()=>[(0,o.bF)(ve,{size:"25px",class:"q-mr-lg black_to_white",name:"img:settings/module.svg"}),(0,o.Lk)("span",_e,(0,l.v_)(e.$t("po_settings")),1),(0,o.bF)(be)])),default:(0,o.k6)((()=>[(0,o.bF)(ge),(0,o.bF)(ke,{class:"page-background"},{default:(0,o.k6)((()=>[(0,o.bF)(fe,null,{default:(0,o.k6)((()=>[(0,o.bF)(Fe)])),_:1})])),_:1})])),_:1})])),_:1})])])]),(0,o.bF)($e)],64)}var ce=a(1659),ue=a(24622),me=a(38734),he=a(89156),ge=a(18505),ve=a(64775),be=a(1595),ye=a(25891),fe=a(29104);const ke={class:"container q-pa-xl"},xe={style:{width:"100%"}},we={class:"row q-mb-md"},Ve={style:{width:"30%",margin:"auto"}},Le={style:{width:"10%"}},Fe=(0,o.Lk)("div",{class:"row q-my-auto",style:{width:"60%"}},null,-1),qe={class:"row q-mb-sm"},$e={style:{width:"30%",margin:"auto"}},Ee={style:{width:"10%"}},Te={class:"row q-my-auto",style:{width:"60%"}},Ae={class:"col-4 q-pr-sm"},Ce={class:"row q-mb-sm"},Se={style:{width:"30%",margin:"auto"}},Ue={style:{width:"10%"}},De=(0,o.Lk)("div",{class:"row q-my-auto",style:{width:"60%"}},null,-1),Qe={class:"row"},Xe={style:{width:"30%",margin:"auto"}},Ie={style:{width:"10%"}},He={class:"row q-my-auto",style:{width:"60%"}},Pe={key:0,class:"col-4 q-pr-sm"},Oe={key:1,class:"col-4 q-pl-sm"},Ke={key:0,class:"row"},je=(0,o.Lk)("div",{style:{width:"40%",margin:"auto"}},null,-1),Be={class:"row q-my-auto",style:{width:"60%"}},Re={class:"col-4 q-pr-sm"},Me={class:"col-4 q-pl-sm"},Ne={class:"row"},ze={style:{width:"30%",margin:"auto"}},We={style:{width:"10%"}},Ge={class:"row q-my-auto",style:{width:"60%"}},Ye={key:0,class:"col-4 q-pr-sm"},Je={key:1,class:"col-4 q-pl-sm"},Ze={key:1,class:"row"},et=(0,o.Lk)("div",{style:{width:"40%",margin:"auto"}},null,-1),tt={class:"row q-my-auto",style:{width:"60%"}},at={class:"col-4 q-pr-sm"},ot={class:"col-4 q-pl-sm"},lt={key:2,class:"row"},it=(0,o.Lk)("div",{style:{width:"40%",margin:"auto"}},null,-1),st={class:"row q-my-auto",style:{width:"60%"}},nt={class:"col-4 q-pr-sm"},rt={class:"col-4 q-pl-sm"},dt={class:"row q-mb-md"},_t={style:{width:"30%",margin:"auto"}},pt={style:{width:"10%"}},ct={class:"row q-my-auto",style:{width:"60%"}},ut={key:0,class:"col-4 q-pr-sm"},mt={key:1,class:"col-4 q-pl-sm"},ht={class:"row"},gt={style:{width:"40%",margin:"auto"}},vt={class:"row q-my-auto",style:{width:"60%"}},bt={class:"col-4 q-pr-sm"},yt={class:"col-3 q-pl-sm"},ft={class:"row"},kt={class:"q-mb-md"},xt={style:{width:"35%"}};function wt(e,t,a,i,s,n){const r=(0,o.g2)("q-toggle"),d=(0,o.g2)("q-select"),_=(0,o.g2)("q-icon"),p=(0,o.g2)("q-input"),c=(0,o.g2)("f-btn"),u=(0,o.g2)("q-separator"),m=(0,o.g2)("SupplierItemNumberMap");return(0,o.uX)(),(0,o.CE)("div",ke,[(0,o.Lk)("div",xe,[(0,o.Lk)("div",we,[(0,o.Lk)("div",Ve,(0,l.v_)(e.$t("po_table_in_layout_builder")),1),(0,o.Lk)("div",Le,[(0,o.bF)(r,{modelValue:e.model[e.po_table_in_layout_builder],"onUpdate:modelValue":[t[0]||(t[0]=t=>e.model[e.po_table_in_layout_builder]=t),t[1]||(t[1]=t=>{e.updateValue(e.po_table_in_layout_builder,t)})]},null,8,["modelValue"])]),Fe]),(0,o.Lk)("div",qe,[(0,o.Lk)("div",$e,(0,l.v_)(e.$t("pages.po_settings.module_field")),1),(0,o.Lk)("div",Ee,[(0,o.bF)(r,{modelValue:e.model[e.is_po_active],"onUpdate:modelValue":[t[2]||(t[2]=t=>e.model[e.is_po_active]=t),t[3]||(t[3]=t=>{e.updateValue(e.is_po_active,t)})]},null,8,["modelValue"])]),(0,o.Lk)("div",Te,[(0,o.Lk)("div",Ae,[(0,o.bF)(d,{outlined:"",dense:"",class:"back-white",modelValue:e.model[e.po_quantity_column],"onUpdate:modelValue":[t[4]||(t[4]=t=>e.model[e.po_quantity_column]=t),t[5]||(t[5]=t=>{e.updateValue(e.po_quantity_column,t)})],options:e.po_quantity_type_list,"emit-value":"","map-options":"",label:e.$t("match_quantity")},null,8,["modelValue","options","label"])])])]),(0,o.Lk)("div",Ce,[(0,o.Lk)("div",Se,(0,l.v_)(e.$t("export_non_matched_po_lines")),1),(0,o.Lk)("div",Ue,[(0,o.bF)(r,{modelValue:e.model[e.export_non_matched_po_lines],"onUpdate:modelValue":[t[6]||(t[6]=t=>e.model[e.export_non_matched_po_lines]=t),t[7]||(t[7]=t=>{e.updateValue(e.export_non_matched_po_lines,t)})]},null,8,["modelValue"])]),De]),(0,o.Lk)("div",Qe,[(0,o.Lk)("div",Xe,(0,l.v_)(e.$t("custom_range_for_po_tolerance")),1),(0,o.Lk)("div",Ie,[(0,o.bF)(r,{modelValue:e.model[e.custom_range_for_po_tolerance],"onUpdate:modelValue":[t[8]||(t[8]=t=>e.model[e.custom_range_for_po_tolerance]=t),t[9]||(t[9]=t=>{e.updateValue(e.custom_range_for_po_tolerance,t)})]},null,8,["modelValue"])]),(0,o.Lk)("div",He,[e.model[e.custom_range_for_po_tolerance]?((0,o.uX)(),(0,o.CE)("div",Pe,[(0,o.bF)(p,{outlined:"",modelValue:e.model[e.quantity_tolerance],"onUpdate:modelValue":t[10]||(t[10]=t=>e.model[e.quantity_tolerance]=t),dense:"",label:e.$t("quantity_tolerance"),type:"number",onBlur:t[11]||(t[11]=t=>e.validateTolerance(e.quantity_tolerance,e.model[e.quantity_tolerance],e.po_quantity_tolerance_type)),error:(e.model[e.quantity_tolerance]<1||e.model[e.quantity_tolerance]>100)&&e.model[e.po_quantity_tolerance_type]===e.percent,"error-message":e.$t("percentage_1_to_100")},(0,o.eX)({_:2},[e.model[e.po_quantity_tolerance_type]==e.percent?{name:"append",fn:(0,o.k6)((()=>[(0,o.bF)(_,{name:"percent"})])),key:"0"}:void 0]),1032,["modelValue","label","error","error-message"])])):(0,o.Q3)("",!0),e.model[e.custom_range_for_po_tolerance]?((0,o.uX)(),(0,o.CE)("div",Oe,[(0,o.bF)(d,{outlined:"",dense:"",class:"back-white",modelValue:e.model[e.po_quantity_tolerance_type],"onUpdate:modelValue":[t[12]||(t[12]=t=>e.model[e.po_quantity_tolerance_type]=t),t[13]||(t[13]=t=>{e.updateToleranceTypeValue(e.po_quantity_tolerance_type,t,e.quantity_tolerance)})],options:e.po_tolerance_type,"emit-value":"","map-options":"",label:e.$t("unit")},null,8,["modelValue","options","label"])])):(0,o.Q3)("",!0)])]),e.model[e.custom_range_for_po_tolerance]?((0,o.uX)(),(0,o.CE)("div",Ke,[je,(0,o.Lk)("div",Be,[(0,o.Lk)("div",Re,[(0,o.bF)(p,{outlined:"",modelValue:e.model[e.unit_price_tolerance],"onUpdate:modelValue":t[14]||(t[14]=t=>e.model[e.unit_price_tolerance]=t),dense:"",label:e.$t("unit_price_tolerance"),type:"number",onBlur:t[15]||(t[15]=t=>e.validateTolerance(e.unit_price_tolerance,e.model[e.unit_price_tolerance],e.po_unit_tolerance_type)),error:(e.model[e.unit_price_tolerance]<1||e.model[e.unit_price_tolerance]>100)&&e.model[e.po_unit_tolerance_type]===e.percent,"error-message":e.$t("percentage_1_to_100")},(0,o.eX)({_:2},[e.model[e.po_unit_tolerance_type]==e.percent?{name:"append",fn:(0,o.k6)((()=>[(0,o.bF)(_,{name:"percent"})])),key:"0"}:void 0]),1032,["modelValue","label","error","error-message"])]),(0,o.Lk)("div",Me,[(0,o.bF)(d,{outlined:"",dense:"",class:"back-white",modelValue:e.model[e.po_unit_tolerance_type],"onUpdate:modelValue":[t[16]||(t[16]=t=>e.model[e.po_unit_tolerance_type]=t),t[17]||(t[17]=t=>{e.updateToleranceTypeValue(e.po_unit_tolerance_type,t,e.unit_price_tolerance)})],options:e.po_tolerance_type,"emit-value":"","map-options":"",label:e.$t("unit")},null,8,["modelValue","options","label"])])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",Ne,[(0,o.Lk)("div",ze,(0,l.v_)(e.$t("additional_po_tolerance_setting")),1),(0,o.Lk)("div",We,[(0,o.bF)(r,{modelValue:e.model[e.additional_range_for_po_tolerance],"onUpdate:modelValue":[t[18]||(t[18]=t=>e.model[e.additional_range_for_po_tolerance]=t),t[19]||(t[19]=t=>{e.updateValue(e.additional_range_for_po_tolerance,t)})]},null,8,["modelValue"])]),(0,o.Lk)("div",Ge,[e.model[e.additional_range_for_po_tolerance]?((0,o.uX)(),(0,o.CE)("div",Ye,[(0,o.bF)(p,{outlined:"",modelValue:e.model[e.freight_tolerance],"onUpdate:modelValue":t[20]||(t[20]=t=>e.model[e.freight_tolerance]=t),dense:"",label:e.$t("freight_tolerance"),type:"number",onBlur:t[21]||(t[21]=t=>e.validateTolerance(e.freight_tolerance,e.model[e.freight_tolerance],e.freight_unit_tolerance)),error:(e.model[e.freight_tolerance]<1||e.model[e.freight_tolerance]>100)&&e.model[e.freight_unit_tolerance]===e.percent,"error-message":e.$t("percentage_1_to_100")},(0,o.eX)({_:2},[e.model[e.freight_unit_tolerance]==e.percent?{name:"append",fn:(0,o.k6)((()=>[(0,o.bF)(_,{name:"percent"})])),key:"0"}:void 0]),1032,["modelValue","label","error","error-message"])])):(0,o.Q3)("",!0),e.model[e.additional_range_for_po_tolerance]?((0,o.uX)(),(0,o.CE)("div",Je,[(0,o.bF)(d,{outlined:"",dense:"",class:"back-white",modelValue:e.model[e.freight_unit_tolerance],"onUpdate:modelValue":[t[22]||(t[22]=t=>e.model[e.freight_unit_tolerance]=t),t[23]||(t[23]=t=>{e.updateToleranceTypeValue(e.freight_unit_tolerance,t,e.freight_tolerance)})],options:e.po_tolerance_type,"emit-value":"","map-options":"",label:e.$t("unit")},null,8,["modelValue","options","label"])])):(0,o.Q3)("",!0)])]),e.model[e.additional_range_for_po_tolerance]?((0,o.uX)(),(0,o.CE)("div",Ze,[et,(0,o.Lk)("div",tt,[(0,o.Lk)("div",at,[(0,o.bF)(p,{outlined:"",modelValue:e.model[e.charges_tolerance],"onUpdate:modelValue":t[24]||(t[24]=t=>e.model[e.charges_tolerance]=t),dense:"",label:e.$t("charges_tolerance"),type:"number",onBlur:t[25]||(t[25]=t=>e.validateTolerance(e.charges_tolerance,e.model[e.charges_tolerance],e.charges_unit_tolerance)),error:(e.model[e.charges_tolerance]<1||e.model[e.charges_tolerance]>100)&&e.model[e.charges_unit_tolerance]===e.percent,"error-message":e.$t("percentage_1_to_100")},(0,o.eX)({_:2},[e.model[e.charges_unit_tolerance]==e.percent?{name:"append",fn:(0,o.k6)((()=>[(0,o.bF)(_,{name:"percent"})])),key:"0"}:void 0]),1032,["modelValue","label","error","error-message"])]),(0,o.Lk)("div",ot,[(0,o.bF)(d,{outlined:"",dense:"",class:"back-white",modelValue:e.model[e.charges_unit_tolerance],"onUpdate:modelValue":[t[26]||(t[26]=t=>e.model[e.charges_unit_tolerance]=t),t[27]||(t[27]=t=>{e.updateToleranceTypeValue(e.charges_unit_tolerance,t,e.charges_tolerance)})],options:e.po_tolerance_type,"emit-value":"","map-options":"",label:e.$t("unit")},null,8,["modelValue","options","label"])])])])):(0,o.Q3)("",!0),e.model[e.additional_range_for_po_tolerance]?((0,o.uX)(),(0,o.CE)("div",lt,[it,(0,o.Lk)("div",st,[(0,o.Lk)("div",nt,[(0,o.bF)(p,{outlined:"",modelValue:e.model[e.tax_tolerance],"onUpdate:modelValue":t[28]||(t[28]=t=>e.model[e.tax_tolerance]=t),dense:"",label:e.$t("tax_tolerance"),type:"number",onBlur:t[29]||(t[29]=t=>e.validateTolerance(e.tax_tolerance,e.model[e.tax_tolerance],e.tax_unit_tolerance)),error:(e.model[e.tax_tolerance]<1||e.model[e.tax_tolerance]>100)&&e.model[e.tax_unit_tolerance]===e.percent,"error-message":e.$t("percentage_1_to_100")},(0,o.eX)({_:2},[e.model[e.tax_unit_tolerance]==e.percent?{name:"append",fn:(0,o.k6)((()=>[(0,o.bF)(_,{name:"percent"})])),key:"0"}:void 0]),1032,["modelValue","label","error","error-message"])]),(0,o.Lk)("div",rt,[(0,o.bF)(d,{outlined:"",dense:"",class:"back-white",modelValue:e.model[e.tax_unit_tolerance],"onUpdate:modelValue":[t[30]||(t[30]=t=>e.model[e.tax_unit_tolerance]=t),t[31]||(t[31]=t=>{e.updateToleranceTypeValue(e.tax_unit_tolerance,t,e.tax_tolerance)})],options:e.po_tolerance_type,"emit-value":"","map-options":"",label:e.$t("unit")},null,8,["modelValue","options","label"])])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",dt,[(0,o.Lk)("div",_t,(0,l.v_)(e.$t("doc_alternate_export")),1),(0,o.Lk)("div",pt,[(0,o.bF)(r,{modelValue:e.model[e.doc_alternate_export_setting],"onUpdate:modelValue":[t[32]||(t[32]=t=>e.model[e.doc_alternate_export_setting]=t),t[33]||(t[33]=t=>{e.updateAlternateExportSettings(e.doc_alternate_export_setting,t)})]},null,8,["modelValue"])]),(0,o.Lk)("div",ct,[e.model[e.doc_alternate_export_setting]?((0,o.uX)(),(0,o.CE)("div",ut,[(0,o.bF)(d,{outlined:"",dense:"",clearable:"","use-input":"",class:"back-white",modelValue:e.model[e.doc_alternate_export_status],"onUpdate:modelValue":[t[34]||(t[34]=t=>e.model[e.doc_alternate_export_status]=t),t[35]||(t[35]=t=>{e.updateValue(e.doc_alternate_export_status,t)})],options:e.alternate_export_statuses,onFilter:e.filterlistEvent,"emit-value":"","map-options":"",label:e.$t("status")},null,8,["modelValue","options","onFilter","label"])])):(0,o.Q3)("",!0),e.model[e.doc_alternate_export_setting]?((0,o.uX)(),(0,o.CE)("div",mt,[(0,o.bF)(d,{outlined:"",dense:"",clearable:"","use-input":"",class:"back-white",modelValue:e.model[e.doc_alternate_export_export_config],"onUpdate:modelValue":[t[36]||(t[36]=t=>e.model[e.doc_alternate_export_export_config]=t),t[37]||(t[37]=t=>{e.updateValue(e.doc_alternate_export_export_config,t)})],options:e.export_configurations,onFilter:e.filterExportConfigurationEvent,loading:e.processing,"emit-value":"","map-options":"",label:e.$t("export_configuration")},null,8,["modelValue","options","onFilter","loading","label"])])):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",ht,[(0,o.Lk)("div",gt,(0,l.v_)(e.$t("po_disable_statuses")),1),(0,o.Lk)("div",vt,[(0,o.Lk)("div",bt,[(0,o.bF)(d,{multiple:"",outlined:"",dense:"",class:"back-white",modelValue:e.selected_status,"onUpdate:modelValue":t[38]||(t[38]=t=>e.selected_status=t),options:e.disabled_po_status_options,label:e.$t("po_disable_statuses")},null,8,["modelValue","options","label"])]),(0,o.Lk)("div",yt,[(0,o.bF)(c,{label:e.$t("apply"),onClick:t[39]||(t[39]=t=>e.savePODisabledStatuses())},null,8,["label"])])])]),(0,o.bF)(u,{class:"q-mt-md q-mb-md"}),(0,o.Lk)("div",ft,[(0,o.Lk)("div",kt,(0,l.v_)(e.$t("supplier_item_number_map")),1)]),(0,o.Lk)("div",xt,[(0,o.bF)(p,{modelValue:e.searchValue,"onUpdate:modelValue":[t[40]||(t[40]=t=>e.searchValue=t),e.removeSpaces],type:"text",outlined:"",dense:"",label:e.$t("search_by_column"),class:"q-mb-md",onKeyup:(0,fe.jR)(e.emitSearch,["enter"]),onKeydown:t[41]||(t[41]=(0,fe.jR)((0,fe.D$)((()=>{}),["prevent"]),["space"]))},{append:(0,o.k6)((()=>[(0,o.bF)(_,{name:"search",onClick:e.emitSearch,class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue","label","onKeyup","onUpdate:modelValue"])]),(0,o.bF)(m,{width:70,onSearch:e.searchValue},null,8,["onSearch"])])])}var Vt=a(64233),Lt=a(62488),Ft=a(39264),qt=a(76956),$t=function(e,t,a,o){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function s(e){try{r(o.next(e))}catch(t){i(t)}}function n(e){try{r(o["throw"](e))}catch(t){i(t)}}function r(e){e.done?a(e.value):l(e.value).then(s,n)}r((o=o.apply(e,t||[])).next())}))};const Et=(0,o.pM)({el:"#app",mixins:[ue.A,ge.A],components:{SupplierItemNumberMap:Ft.A},data(){return{percent:qt.aH.percent,is_po_active:qt.aH.is_po_active,po_quantity_column:qt.aH.po_quantity_column,quantity_tolerance:qt.aH.quantity_tolerance,unit_price_tolerance:qt.aH.unit_price_tolerance,po_unit_tolerance_type:qt.aH.po_unit_tolerance_type,po_quantity_tolerance_type:qt.aH.po_quantity_tolerance_type,custom_range_for_po_tolerance:qt.aH.custom_range_for_po_tolerance,additional_range_for_po_tolerance:qt.aH.additional_range_for_po_tolerance,freight_tolerance:qt.aH.freight_tolerance,freight_unit_tolerance:qt.aH.freight_unit_tolerance,charges_tolerance:qt.aH.charges_tolerance,charges_unit_tolerance:qt.aH.charges_unit_tolerance,tax_tolerance:qt.aH.tax_tolerance,tax_unit_tolerance:qt.aH.tax_unit_tolerance,po_tolerance_type:qt.d6,PO_STATUSES:Lt.$8,disabled_po_status_options:[],po_disabled_statuses_setting:qt.LK,doc_alternate_export_setting:qt.yK,doc_alternate_export_status:qt.go,doc_alternate_export_export_config:qt.tY,alternate_export_statuses_all:qt.nK,po_table_in_layout_builder:qt.iD,export_non_matched_po_lines:qt._O,alternate_export_statuses_list:[],searchValue:(0,me.KR)("")}},watch:{loading_data:{handler:function(e,t){1==e&&0==t||this.loadCustomList()}},processing:{handler:function(e,t){1==e&&0==t||this.loadExportConfigurationsList()}}},mounted:function(){this.initView(),this.initLists(),this.loadCustomList(),this.getExportConfigurations()},computed:{},methods:{emitSearch(){const e=this.searchValue.trim();this.$emit("onSearchValue",e)},removeSpaces(){this.searchValue=this.searchValue.replace(/\s+/g,"")},initView(){this.preparePoMatchTypeList(),Object.assign(this.model,{[this.is_po_active]:!1,[this.po_quantity_column]:"received_quantity",[this.quantity_tolerance]:1,[this.unit_price_tolerance]:1,[this.po_unit_tolerance_type]:this.percent,[this.po_quantity_tolerance_type]:this.percent,[this.custom_range_for_po_tolerance]:!1,[this.doc_alternate_export_setting]:!1,[this.doc_alternate_export_status]:"",[this.doc_alternate_export_export_config]:"",[this.po_table_in_layout_builder]:!1,[this.additional_range_for_po_tolerance]:!1,[this.freight_tolerance]:1,[this.charges_tolerance]:1,[this.tax_tolerance]:1,[this.charges_unit_tolerance]:this.percent,[this.freight_unit_tolerance]:this.percent,[this.tax_unit_tolerance]:this.percent,[this.export_non_matched_po_lines]:!1})},initLists(){this.disabled_po_status_options=[];for(const[e,t]of Object.entries(this.PO_STATUSES))this.disabled_po_status_options.push({label:this.$t(t.label),value:t.value});this.initAlternateExportStatuses()},savePODisabledStatuses(){let e="";this.selected_status.forEach((t=>{e+=t.value+","})),e=e.slice(0,-1),this.model[this.po_disabled_statuses_setting]=e,this.updateValue(this.po_disabled_statuses_setting,e),this.showSuccessToast(this.$t("operation_sucessfull"))},loadCustomList(){this.selected_status=[],this.model[this.po_disabled_statuses_setting]?this.model[this.po_disabled_statuses_setting].split(",").forEach((e=>{let t=e;this.selected_status.push(Object.assign({},{value:t,label:Vt.A.methods.getLabelTranslation(e)}))})):this.selected_status=[]},updateValue(e,t){return $t(this,void 0,void 0,(function*(){try{this.loading_data=!0,yield this.setAttribute(e,t),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(a){const e=ve.t.getErrorMessage(a);this.showErrorToast(e),logError(a)}finally{this.loading_data=!1}}))},validateTolerance(e,t,a){(t<1||t>100)&&this.model[a]===this.percent||this.updateValue(e,t)},updateToleranceTypeValue(e,t,a){(this.model[a]<1||this.model[a]>100)&&t===this.percent&&(this.model[a]=1),this.updateValue(e,t),this.validateTolerance(a,this.model[a],t)},preparePoMatchTypeList(){this.po_quantity_type_list=[{label:this.$t("quantity"),value:"quantity"},{label:this.$t("received_quantity"),value:"received_quantity"},{label:this.$t("received_delivery_open_quantity"),value:"invoice_open_quantity"}]},updateAlternateExportSettings(e,t){this.model[this.doc_alternate_export_status]="",this.model[this.doc_alternate_export_export_config]="",this.updateValue(e,t)},initAlternateExportStatuses(){this.alternate_export_statuses_list=[];for(const[e,t]of Object.entries(this.alternate_export_statuses_all))this.alternate_export_statuses_list.push({label:this.$t(t),value:t});this.alternate_export_statuses=this.alternate_export_statuses_list},filterlistEvent(e,t,a){t(e?()=>{const t=e.toLowerCase();this.alternate_export_statuses=this.alternate_export_statuses_list.filter((e=>e.label.toLowerCase().startsWith(t)))}:()=>{this.alternate_export_statuses=this.alternate_export_statuses_list})},loadExportConfigurationsList(){this.export_configurations_all=[];for(const[e,t]of Object.entries(this.configurations)){const e=t;this.export_configurations_all.push({label:this.$t(e.title),value:e.id})}this.export_configurations=this.export_configurations_all},filterExportConfigurationEvent(e,t,a){t(e?()=>{const t=e.toLowerCase();this.export_configurations=this.export_configurations_all.filter((e=>e.label.toLowerCase().startsWith(t)))}:()=>{this.export_configurations=this.export_configurations_all})}},setup(){const e=(0,be.wt)(),{model:t,loading_data:a}=(0,ce.bP)(e),{setAttribute:o}=e,l=(0,be.t8)(),{getExportConfigurations:i}=l,{configurations:s,processing:n}=(0,ce.bP)(l);return{setAttribute:o,model:t,processing:n,loading_data:a,configurations:s,getExportConfigurations:i,selected_status:(0,me.KR)([]),export_configurations:(0,me.KR)([]),po_quantity_type_list:(0,me.KR)([]),export_configurations_all:(0,me.KR)([]),alternate_export_statuses:(0,me.KR)([])}}});var Tt=a(12807),At=a(66908),Ct=a(94940),St=a(67837),Ut=a(50492),Dt=a(10386),Qt=a(98582),Xt=a.n(Qt);const It=(0,Tt.A)(Et,[["render",wt]]),Ht=It;Xt()(Et,"components",{QToggle:At.A,QSelect:Ct.A,QInput:St.A,QIcon:Ut.A,QSeparator:Dt.A});var Pt=a(68180),Ot=a(11470),Kt=a(25773),jt=function(e,t,a,o){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function s(e){try{r(o.next(e))}catch(t){i(t)}}function n(e){try{r(o["throw"](e))}catch(t){i(t)}}function r(e){e.done?a(e.value):l(e.value).then(s,n)}r((o=o.apply(e,t||[])).next())}))};const Bt=(0,o.pM)({el:"#app",mixins:[ge.A,ue.A,ye.A],components:{BackToSettings:Kt.A,SubHeader:Pt.A,Loader:he.A,PO:Ht},watch:{loading_data:{handler:function(e,t){!0!==e?(this.hideLoading(),this.formatePreferenceData()):this.showLoading()}}},data(){return{layout_types:qt.L9,pdf_template:qt.s1,approval_stamp:qt.Y_,approval_history:qt.Nm,pdf_export_to_idm:qt.hj,skip_table_validation:qt.l0,approve_before_export:qt.Lw,approve_before_export_v2:qt.WE,second_approval_before_export:qt.uo,isInvoice:qt.UJ,duplicate_detection:qt.aH.DUPLICATE_DETECTION,duplicate_detection_fields:qt.aH.DUPLICATE_DETECTION_FIELDS,duplicate_invoice_detection:qt.aH.DUPLICATE_INVOICE_DETECTION}},mounted:function(){this.init()},methods:{init(){return jt(this,void 0,void 0,(function*(){try{this.loading_data=!0,this.doc_type_key=String(this.$route.params.doc_type||""),this.setDefaultValues(),this.getDocumentFields(),yield this.getDocTypeSettings()}catch(e){const t=ve.t.getErrorMessage(e);this.showErrorToast(t),logError(e)}finally{this.loading_data=!1}}))},setDefaultValues(){Object.assign(this.model,{[this.pdf_template]:!1,[this.approval_stamp]:!1,[this.approval_history]:!1,[this.pdf_export_to_idm]:!1,[this.duplicate_detection]:!1,[this.skip_table_validation]:!1,[this.approve_before_export]:!1,[this.approve_before_export_v2]:!1,[this.duplicate_detection_fields]:"",[this.duplicate_invoice_detection]:!1,[this.second_approval_before_export]:!1})},updateValue(e,t){return jt(this,void 0,void 0,(function*(){try{this.loading_data=!0,yield this.setAttribute(e,t),this.showSuccessToast(this.$t("pages.messages.MSG_SAVE"))}catch(a){const e=ve.t.getErrorMessage(a);this.showErrorToast(e),logError(a)}finally{this.loading_data=!1}}))},openFormBuilder(e){return jt(this,void 0,void 0,(function*(){const t=this.$route.params.doc_type;if(!t)return;yield this.getLayoutTemplateID(t,e);let a="";a=e==this.layout_types.approval_v2?"/manage_approval_layout_builder_v2/"+t+"/"+e:"/manage_approval_layout_builder/"+t+"/"+e,this.layout_template_id&&(a+="/"+this.layout_template_id),this.$router.push(a)}))},getLayoutTemplateID(e,t){return jt(this,void 0,void 0,(function*(){try{const a={};a["doc_type_key"]=e,a["layout_type"]=t;const o=yield Ot.H7.getLayoutTemplates(a);if(!o||o.hasOwnProperty("success")&&!1===o.success)throw o;o.data&&o.data[0]&&(this.layout_template_id=o.data[0].id)}catch(a){const e=ve.t.getErrorMessage(a);ue.A.methods.showNotification(e),logError(a)}}))},getDocumentFields(){return jt(this,void 0,void 0,(function*(){try{if(!this.doc_type_key)return;this.fields_list=[];const e=yield Ot.oZ.getDocumentTypeFields(this.doc_type_key);e.forEach((e=>{this.fields_list.push({label:this.getLabelToDisplay(e),value:e.field_name})}))}catch(e){this.showErrorToast(e)}finally{this.hideLoading()}}))},formatePreferenceData(){this.model[this.duplicate_detection_fields]&&(this.duplicateDetectionFields=this.model[this.duplicate_detection_fields].split(","))},saveDuplicateDetectionFields(e){this.model[this.duplicate_detection_fields]=this.duplicateDetectionFields.join(","),this.updateValue(this.duplicate_detection_fields,this.model[this.duplicate_detection_fields])}},setup(){const e=(0,be.wt)(),{doc_type_key:t,model:a,loading_data:o}=(0,ce.bP)(e),{getDocTypeSettings:l,setAttribute:i}=e;return{setAttribute:i,getDocTypeSettings:l,model:a,doc_type_key:t,loading_data:o,fields_list:(0,me.KR)([]),layout_template_id:(0,me.KR)(""),duplicateDetectionFields:(0,me.KR)([])}}});var Rt=a(53999),Mt=a(88841),Nt=a(93676),zt=a(23316),Wt=a(44189),Gt=a(97410),Yt=a(56384);const Jt=(0,Tt.A)(Bt,[["render",pe]]),Zt=Jt;Xt()(Bt,"components",{QList:Rt.A,QExpansionItem:Mt.A,QSeparator:Dt.A,QIcon:Ut.A,QSpace:Nt.A,QCard:zt.A,QCardSection:Wt.A,QToggle:At.A,QSelect:Ct.A,QTooltip:Gt.A,QBtn:Yt.A})}}]);