"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[8559],{98559:(e,t,a)=>{a.r(t),a.d(t,{default:()=>aa});var n=a(61758),r=a(58790),o=a(29104);const s=e=>((0,n.Qi)("data-v-651034fd"),e=e(),(0,n.jt)(),e),i={class:"dashboard-container dashboard-text-color dashboard-main"},l={class:"full-width dashboard-list-area q-my-lg"},d={class:"text-item",style:{"text-transform":"capitalize"}},u={class:"text-item",style:{"text-transform":"capitalize"}},c={key:0,class:"custom_stepper"},p={key:1},m={key:2,class:"text-item",style:{"text-transform":"capitalize"}},_=s((()=>(0,n.Lk)("div",{class:"box loading-shimmer"},null,-1))),g=["data-index","onDragstart","onDrop","onDragover"],h=["colspan"],b={class:"back-white flex justify-end"},v={class:"row",style:{"margin-right":"0"}},f={style:{margin:"20px 10px"}},y=["onClick"],k={class:"q-pa-sm row"},D={class:"col-7",align:"right"},A={class:"stepper-mobile-view"},w=s((()=>(0,n.Lk)("div",{style:{"border-bottom":"1px solid grey"}},null,-1))),x={class:"q-gutter-sm",style:{padding:"10px 10px 30px 10px !important","font-size":"13px",color:"grey"}},F={class:"row"},C={class:"col-5",style:{"text-transform":"uppercase"}},q={class:"col-6"},L={class:"row"},P={class:"col-5",style:{"text-transform":"uppercase"}},S={class:"col-6"},V={class:"row"},E={class:"col-5",style:{"text-transform":"uppercase"}},Q={class:"col-6"},I={class:"row"},$={class:"col-5",style:{"text-transform":"uppercase"}},X={class:"col-6"},K={class:"back-white flex justify-center"},z={class:"row"},B=s((()=>(0,n.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function O(e,t,a,s,O,W){const M=(0,n.g2)("SubHeader"),T=(0,n.g2)("DashboardHeader"),R=(0,n.g2)("q-separator"),U=(0,n.g2)("ColumnOrderBy"),N=(0,n.g2)("q-th"),j=(0,n.g2)("q-tr"),Y=(0,n.g2)("q-step"),H=(0,n.g2)("q-stepper"),J=(0,n.g2)("q-td"),G=(0,n.g2)("q-item-section"),Z=(0,n.g2)("q-item"),ee=(0,n.g2)("q-list"),te=(0,n.g2)("q-menu"),ae=(0,n.g2)("q-btn"),ne=(0,n.g2)("q-table"),re=(0,n.g2)("q-markup-table"),oe=(0,n.g2)("PaginationSettings"),se=(0,n.g2)("q-pagination"),ie=(0,n.g2)("q-space"),le=(0,n.g2)("q-text"),de=(0,n.g2)("q-icon"),ue=(0,n.g2)("q-inner-loading"),ce=(0,n.gN)("ripple");return(0,n.uX)(),(0,n.CE)(n.FK,null,[e.isMobile()?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.bF)(M,{name:"dashboard",label:"Dashboard",show_expiry_alert:!0}),(0,n.bF)(ie),(0,n.bF)(T,{media_screen:"mobile"}),(0,n.Lk)("div",f,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.display_data,(a=>((0,n.uX)(),(0,n.CE)("div",{class:"card-order q-mb-sm cursor-pointer",key:a.name,onClick:t=>e.goToDetail(null===a||void 0===a?void 0:a.order_number)},[(0,n.Lk)("div",k,[(0,n.bF)(le,{class:"col-5 text-primary",style:{"font-weight":"500",display:"flex","align-items":"center"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(a.order_number),1)])),_:2},1024),(0,n.Lk)("div",D,[(0,n.Lk)("div",A,[(0,n.bF)(H,{ref_for:!0,ref:"stepper",color:"primary","header-class":"no-wrap",flat:"",animated:"",style:{"background-color":"#F7F7F7 !important"}},{default:(0,n.k6)((()=>{var t,r,o;return[(0,n.bF)(Y,{name:1,title:"",done:(null!==(t=e.includeStatus(a.order_status))&&void 0!==t?t:0)>=1},null,8,["done"]),(0,n.bF)(Y,{name:2,title:"",done:(null!==(r=e.includeStatus(a.order_status))&&void 0!==r?r:0)>=2},null,8,["done"]),(0,n.bF)(Y,{name:3,title:"",done:(null!==(o=e.includeStatus(a.order_status))&&void 0!==o?o:0)>=3},null,8,["done"])]})),_:2},1536)])])]),w,(0,n.Lk)("div",x,[(0,n.Lk)("div",F,[(0,n.Lk)("div",C,(0,r.v_)(e.$t("customer_no"))+":",1),(0,n.Lk)("div",q,(0,r.v_)(a.customer_number),1),(0,n.Lk)("div",{onClick:t[5]||(t[5]=(0,o.D$)((()=>{}),["stop","prevent"])),class:"col-1 cursor-pointer",align:"right"},[(0,n.bF)(de,{flat:"",dense:"",round:"",name:"more_horiz",size:"20px"})])]),(0,n.Lk)("div",L,[(0,n.Lk)("div",P,(0,r.v_)(e.$t("order_date"))+":",1),(0,n.Lk)("div",S,(0,r.v_)(e.formatDateAccordingToPreference(a.order_date)),1)]),(0,n.Lk)("div",V,[(0,n.Lk)("div",E,(0,r.v_)(e.$t("est_mobile_delivery_date"))+":",1),(0,n.Lk)("div",Q,(0,r.v_)(e.formatDateAccordingToPreference(a.estimated_delivery_date)),1)]),(0,n.Lk)("div",I,[(0,n.Lk)("div",$,(0,r.v_)(e.$t("po_number"))+":",1),(0,n.Lk)("div",X,(0,r.v_)(a.po_number),1)])])],8,y)))),128)),(0,n.Lk)("div",K,[(0,n.Lk)("div",z,[(0,n.bF)(se,{modelValue:e.pagination.current_page,"onUpdate:modelValue":[t[6]||(t[6]=t=>e.pagination.current_page=t),t[7]||(t[7]=t=>e.paginationItemClicked())],color:"primary",max:e.pagination.total_pages,"max-pages":3,input:"","boundary-links":""},null,8,["modelValue","max"])])])])],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.bF)(M,{name:"dashboard",label:e.$t("advance_shipment_dashboard"),show_expiry_alert:!0},null,8,["label"]),(0,n.Lk)("div",i,[(0,n.bF)(T),(0,n.bF)(R,{class:"seperator"}),(0,n.Lk)("div",l,[e.display_data.length>0?((0,n.uX)(),(0,n.Wv)(ne,{key:0,class:(0,r.C4)("main-table dashboard-table-style dashboard-table-height back-white"),rows:e.display_data,"rows-per-page-options":[0],columns:e.tableColumns,"row-key":"id",flat:"","hide-bottom":"","no-data-label":e.$t("pages.messages.no_record_found"),id:"advance_shipment_table"},{header:(0,n.k6)((t=>[(0,n.bF)(j,{props:t},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.cols,((a,s)=>((0,n.uX)(),(0,n.Wv)(N,{key:a.name,props:t,"data-index":s,draggable:"true",dropzone:"true",direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.tableColumns,s),onDrop:(0,o.D$)((t=>e.handleDrop(t,s)),["prevent"]),onDragover:(0,o.D$)((t=>e.onDragOver(t,s)),["prevent"]),onDragenter:(0,o.D$)(e.onDragEnter,["prevent"]),onDragleave:(0,o.D$)(e.onDragLeave,["prevent"]),style:(0,r.Tr)([{cursor:e.getIsDragging?"pointer":"move"},{"text-align":"left"}])},{default:(0,n.k6)((()=>[(0,n.Lk)("span",d,(0,r.v_)(e.$t(a.label)),1),a.actions?((0,n.uX)(),(0,n.Wv)(U,{key:0,type_name:e.type_name,column_name:a.field},null,8,["type_name","column_name"])):(0,n.Q3)("",!0)])),_:2},1032,["props","data-index","onDragstart","onDrop","onDragover","onDragenter","onDragleave","style"])))),128)),(0,n.bF)(N,null,{default:(0,n.k6)((()=>[(0,n.Lk)("span",u,(0,r.v_)(e.$t("action")),1)])),_:1})])),_:2},1032,["props"])])),body:(0,n.k6)((a=>[e.show_table_loader?((0,n.uX)(),(0,n.Wv)(j,{key:1},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.tableColumns.length+5,(e=>((0,n.uX)(),(0,n.Wv)(J,{key:e},{default:(0,n.k6)((()=>[_])),_:1})))),128))])),_:1})):((0,n.uX)(),(0,n.Wv)(j,{key:0,props:a,onClick:t=>{var n;return e.goToDetail(null===(n=null===a||void 0===a?void 0:a.row)||void 0===n?void 0:n.order_number)},style:{cursor:"pointer"}},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.cols,(t=>((0,n.uX)(),(0,n.Wv)(J,{key:t.name,props:a,style:{"text-align":"left"}},{default:(0,n.k6)((()=>["order_status"===t.name?((0,n.uX)(),(0,n.CE)("div",c,[(0,n.bF)(H,{ref_for:!0,ref:"stepper",color:"primary","header-class":"no-wrap",flat:"",animated:""},{default:(0,n.k6)((()=>[(0,n.bF)(Y,{name:1,title:"",done:1===e.includeStatus(t.value)||2===e.includeStatus(t.value)||3===e.includeStatus(t.value)},null,8,["done"]),(0,n.bF)(Y,{name:2,title:"",done:2===e.includeStatus(t.value)||3===e.includeStatus(t.value)},null,8,["done"]),(0,n.bF)(Y,{name:3,title:"",done:3===e.includeStatus(null===t||void 0===t?void 0:t.value)},null,8,["done"])])),_:2},1536)])):e.includesDate(t.name)?((0,n.uX)(),(0,n.CE)("div",p,(0,r.v_)(e.formatDateAccordingToPreference(t.value)),1)):((0,n.uX)(),(0,n.CE)("div",m,(0,r.v_)(t.value),1))])),_:2},1032,["props"])))),128)),(0,n.bF)(J,null,{default:(0,n.k6)((()=>[(0,n.bF)(ae,{flat:"",dense:"",round:"",onClick:t[0]||(t[0]=(0,o.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz"},{default:(0,n.k6)((()=>[(0,n.bF)(te,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,n.k6)((()=>[(0,n.bF)(ee,{dense:"",style:{"min-width":"100px"}},{default:(0,n.k6)((()=>[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(Z,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(G,{onClick:t=>{var n,r;return e.exportPdfPreview(null===(n=null===a||void 0===a?void 0:a.row)||void 0===n?void 0:n.order_number,null===(r=null===a||void 0===a?void 0:a.row)||void 0===r?void 0:r.sales_order_line_id)}},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(e.$t("export")),1)])),_:2},1032,["onClick"])])),_:2},1024)),[[ce]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(Z,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(G,{onClick:t=>{var n;return e.copiesMagicLinkAccess(null===(n=null===a||void 0===a?void 0:a.row)||void 0===n?void 0:n.order_number)}},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(e.$t("magic_link")),1)])),_:2},1032,["onClick"])])),_:2},1024)),[[ce]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props","onClick"]))])),_:1},8,["rows","columns","no-data-label"])):(0,n.Q3)("",!0),0==e.display_data.length?((0,n.uX)(),(0,n.Wv)(re,{key:1,class:(0,r.C4)("main-table dashboard-table-style back-white"),flat:"","hide-bottom":"",actions:!0,id:"advance_shipment_table"},{default:(0,n.k6)((()=>[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.tableColumns,((a,s)=>((0,n.uX)(),(0,n.CE)("th",{key:a.name,"data-index":s,draggable:"true",dropzone:"true",direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.tableColumns,s),onDrop:(0,o.D$)((t=>e.handleDrop(t,s)),["prevent"]),onDragover:(0,o.D$)((t=>e.onDragOver(t,s)),["prevent"]),onDragenter:t[1]||(t[1]=(0,o.D$)(((...t)=>e.onDragEnter&&e.onDragEnter(...t)),["prevent"])),onDragleave:t[2]||(t[2]=(0,o.D$)(((...t)=>e.onDragLeave&&e.onDragLeave(...t)),["prevent"])),style:(0,r.Tr)([{cursor:e.getIsDragging?"pointer":"move"},{"text-align":"left"}])},(0,r.v_)(e.$t(a.label)),45,g)))),128))]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{class:"text-center",colspan:e.tableColumns.length},(0,r.v_)(e.$t("pages.messages.no_record_found")),9,h)])])])),_:1})):(0,n.Q3)("",!0),(0,n.Lk)("div",b,[(0,n.Lk)("div",v,[(0,n.bF)(oe,{class:"q-py-xs q-mr-md"}),(0,n.bF)(se,{modelValue:e.pagination.current_page,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.pagination.current_page=t),t[4]||(t[4]=t=>e.paginationItemClicked())],color:"primary",max:e.pagination.total_pages,class:"q-py-xs q-mx-md","max-pages":6,input:"","boundary-links":""},null,8,["modelValue","max"])])])])])],64)),(0,n.bF)(ue,{showing:e.loading,style:{"z-index":"10000"}},{default:(0,n.k6)((()=>[B])),_:1},8,["showing"])],64)}var W=a(73414),M=a(1659),T=a(38734),R=a(91236);const U={class:"orderByParentSpan arrow-color"},N=["data-name"],j=["data-name"];function Y(e,t,a,o,s,i){return(0,n.uX)(),(0,n.CE)("span",U,[(0,n.Lk)("span",{class:(0,r.C4)(["up-arrow orderBy absolute",e.is_order_by_selected("asc")?"selected":""]),"data-name":e.column_name,"data-direction":"asc",onClick:t[0]||(t[0]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,N),(0,n.Lk)("span",{class:(0,r.C4)(["down-arrow orderBy absolute",e.is_order_by_selected("desc")?"selected":""]),"data-name":e.column_name,"data-direction":"desc",onClick:t[1]||(t[1]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,j)])}var H=a(51476),J=a(11470),G=a(82204),Z=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):r(e.value).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const ee=(0,M.nY)("dashboard_asn_store",{state:()=>({pagination_size_key:"PAGINATION_SIZE",pagination_size:10,paginationCount:0,total_data:0,loading:!0,display_data:[],order_by:{},pagination:{current_page:1,total_pages:0,page_size:10},params:{keyword:"",po_number:"",order_number:"",order_date:"",after_date:"",before_date:"",sort_by:"",order:"",order_status:""},table_columns:{customer_name:{name:"customer_name",translation_key:"customer_name",actions:!0,order:0},customer_number:{name:"customer_number",translation_key:"customer_number",actions:!0,order:1},order_date:{name:"order_date",translation_key:"order_date",actions:!0,order:2},requested_delivery_date:{name:"requested_delivery_date",translation_key:"requested_delivery_date",actions:!0,order:3},estimated_delivery_date:{name:"estimated_delivery_date",translation_key:"estimated_delivery_date",actions:!0,order:4},po_number:{name:"po_number",translation_key:"po_number",actions:!0,order:5},order_number:{name:"order_number",translation_key:"order_number",actions:!0,order:6},order_status:{name:"order_status",translation_key:"order_status",actions:!0,order:7}}}),actions:{resetPagination(){this.pagination={current_page:1,total_pages:0,page_size:10}},resetFilter(){this.params={keyword:"",po_number:"",order_number:"",order_date:"",after_date:"",before_date:"",sort_by:"",order:"",order_status:""},this.pagination={current_page:1,total_pages:0,page_size:10},(0,G.oX)("supplier"),this.order_by={}},getColumnPreference(e){const t="master_data"+e,a=(0,H.KW)(t);return String(a||"[]")},getAsnData(){return Z(this,void 0,void 0,(function*(){try{this.loading=!0;const e={};for(const[n,r]of Object.entries(this.params)){const t=r;"object"===typeof t?t&&Object.keys(t).length>0&&(e[n]=t.value):""!==t&&(e[n]=t)}const t=(this.pagination.current_page-1)*this.pagination.page_size,a=yield J.wk.getAsnDashboard(Object.assign(Object.assign({},e),{limit:this.pagination.page_size,skip:t}));if(!a)throw a;this.display_data=null===a||void 0===a?void 0:a.data,this.paginationCount=null===a||void 0===a?void 0:a.metadata.total_results,this.pagination.total_pages=Math.ceil(a.metadata.total_results/this.pagination.page_size),this.total_data=a.metadata.total_results,this.loading=!1}catch(e){throw e}}))},exprtPdf(e,t){return Z(this,void 0,void 0,(function*(){try{const a=yield J.wk.exportPdf(e,t);if(!a)throw a;const n=a.data.preview_path,r=document.createElement("a");document.body.appendChild(r),r.href=n,r.setAttribute("download",""),r.click(),document.body.removeChild(r)}catch(a){throw a}}))},getSavedColumnPreference(e){const t=(0,H.KW)(e);return String(t||"")}}});var te=a(68450),ae=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):r(e.value).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const ne=(0,n.pM)({mixins:[],props:{column_name:{type:String,required:!0}},components:{},watch:{order_by:{deep:!0,handler:function(e,t){this.init()}}},mounted:function(){this.init(),document.addEventListener("reset_filters",this.resetFilters)},unmounted:function(){document.removeEventListener("reset_filters",this.resetFilters)},methods:{is_order_by_selected(e){return this.order_by_field==this.column_name&&this.order_by_direction==e},init(){0!==(0,te.Ns)(this.order_by)&&(this.order_by_field=this.order_by.field_name,this.order_by_direction=this.order_by.direction)},resetFilters(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},OrderBy(e){if(e.target.classList.contains("selected"))return;let t=e.target.dataset.direction,a=e.target.dataset.name;if(!t||!a)return;e.target.classList.add("selected");const n=document.querySelectorAll(".orderBy");if(n.length){for(var r=0;r<n.length;r++){let e=n[r];(e.dataset.name!=a||e.dataset.name==a&&e.dataset.direction!=t)&&e.classList.remove("selected")}this.order_by_field=a,this.order_by_direction=t,this.order_by={field_name:this.order_by_field,direction:this.order_by_direction},this.params.sort_by=this.order_by_field,this.params.order=this.order_by_direction,this.getAsnDashbaordData(),this.triggerApplyFilters()}},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},getAsnDashbaordData(){return ae(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.asn_dashboard_store.getAsnData()}catch(e){}finally{this.loading=!1}}))}},setup(){const e=ee(),{order_by:t,paginationCount:a,params:n,loading:r}=(0,M.bP)(e),{getAsnData:o}=e;return{paginationCount:a,order_by:t,order_by_field:(0,T.KR)(""),order_by_direction:(0,T.KR)(""),params:n,getAsnData:o,loading:r,asn_dashboard_store:e}}});var re=a(12807);const oe=(0,re.A)(ne,[["render",Y],["__scopeId","data-v-88f64962"]]),se=oe,ie={key:0},le={class:"row q-mt-md",style:{"padding-left":"10px"}},de={class:"col-12"},ue={class:"row mt-15",style:{width:"100%",padding:"0px 10px"}},ce={style:{width:"85%"}},pe={class:"dashboard-search-box white-inputs"},me={style:{width:"10%"}},_e={key:1,class:"row q-mb-md"},ge={style:{"margin-top":"39px"},class:"row items-start example-container dashboard-title dark-readable"},he={class:"example-cell cursor-pointer",tabindex:"0"},be={class:"col q-ml-xl"},ve={class:"row justify-start"},fe={class:"dashboard-search-box q-ml-md mt-20 white-inputs"};function ye(e,t,a,o,s,i){const l=(0,n.g2)("quickSearch"),d=(0,n.g2)("q-tooltip"),u=(0,n.g2)("f-btn"),c=(0,n.g2)("q-space");return"mobile"===e.media_screen?((0,n.uX)(),(0,n.CE)("div",ie,[(0,n.Lk)("div",le,[(0,n.Lk)("div",de,(0,r.v_)(e.$t("all_orders"))+" "+(0,r.v_)(`(${e.total_data})`),1)]),(0,n.Lk)("div",ue,[(0,n.Lk)("div",ce,[(0,n.Lk)("div",pe,[(0,n.bF)(l,{search_width:95})])]),(0,n.Lk)("div",me,[(0,n.bF)(u,{square:"",icon:"img:images/refresh.svg",onClick:e.refreshFilters},{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(e.$t("refresh_list")),1)])),_:1})])),_:1},8,["onClick"])])])])):((0,n.uX)(),(0,n.CE)("div",_e,[(0,n.Lk)("div",ge,[(0,n.Lk)("div",he,(0,r.v_)(e.$t("all_orders"))+" "+(0,r.v_)(`(${e.total_data})`),1)]),(0,n.Lk)("div",be,[(0,n.Lk)("div",ve,[(0,n.Lk)("div",fe,[(0,n.bF)(l)]),(0,n.bF)(c),(0,n.bF)(u,{square:"",class:"q-mr-sm mt-20",icon:"img:images/refresh.svg",onClick:e.refreshFilters},{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(e.$t("refresh_list")),1)])),_:1})])),_:1},8,["onClick"])])])]))}const ke={class:"q-pa-md"},De={class:"row q-my-sm"},Ae={style:{"margin-top":"5px"}},we={class:"row q-my-sm"},xe={style:{"margin-top":"5px"}},Fe={class:"row q-my-sm"},Ce={style:{"margin-top":"5px"}},qe={class:"row q-my-sm"},Le={style:{"margin-top":"5px"}},Pe={class:"row q-my-sm"},Se={style:{"margin-top":"5px"}},Ve={class:"row q-my-sm"},Ee={style:{"margin-top":"5px"}},Qe={class:"float-right q-ml-auto"};function Ie(e,t,a,o,s,i){const l=(0,n.g2)("q-space"),d=(0,n.g2)("PoNumber"),u=(0,n.g2)("OrderNumber"),c=(0,n.g2)("OrderDate"),p=(0,n.g2)("AfterDate"),m=(0,n.g2)("BeforeDate"),_=(0,n.g2)("q-select"),g=(0,n.g2)("f-btn"),h=(0,n.g2)("q-menu"),b=(0,n.g2)("q-input");return(0,n.uX)(),(0,n.Wv)(b,{style:(0,r.Tr)({width:e.search_width?e.search_width+"%":"500px"}),dense:"",modelValue:e.params.keyword,"onUpdate:modelValue":t[2]||(t[2]=t=>e.params.keyword=t),autofocus:"",placeholder:e.$t("search_supplier"),outlined:"",onKeyup:e.onKeyup},{append:(0,n.k6)((()=>[(0,n.bF)(g,{icon:"tune",appearance:"flat"},{default:(0,n.k6)((()=>[(0,n.bF)(h,{style:{width:"500px","min-height":"250px"},anchor:"bottom start",self:"top left",offset:[453,10]},{default:(0,n.k6)((()=>[(0,n.Lk)("div",ke,[(0,n.Lk)("div",De,[(0,n.Lk)("span",Ae,(0,r.v_)(e.$t("po_number")),1),(0,n.bF)(l),(0,n.bF)(d)]),(0,n.Lk)("div",we,[(0,n.Lk)("span",xe,(0,r.v_)(e.$t("order_number")),1),(0,n.bF)(l),(0,n.bF)(u)]),(0,n.Lk)("div",Fe,[(0,n.Lk)("span",Ce,(0,r.v_)(e.$t("order_date")),1),(0,n.bF)(l),(0,n.bF)(c)]),(0,n.Lk)("div",qe,[(0,n.Lk)("span",Le,(0,r.v_)(e.$t("after_date")),1),(0,n.bF)(l),(0,n.bF)(p)]),(0,n.Lk)("div",Pe,[(0,n.Lk)("span",Se,(0,r.v_)(e.$t("before_date")),1),(0,n.bF)(l),(0,n.bF)(m)]),(0,n.Lk)("div",Ve,[(0,n.Lk)("span",Ee,(0,r.v_)(e.$t("pagination_size")),1),(0,n.bF)(l),(0,n.bF)(_,{outlined:"",dense:"",class:"q-mr-sm user-select",modelValue:e.pagination.page_size,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.pagination.page_size=t),e.getAsnData],options:e.pagination_options,label:e.$t("pagination_size")},null,8,["modelValue","options","onUpdate:modelValue","label"])]),(0,n.Lk)("div",Qe,[(0,n.bF)(g,{appearance:"secondary",class:"q-mr-sm mt-20 q-mb-md",label:e.$t("clear_filters"),onClick:t[1]||(t[1]=t=>e.resetFilters())},null,8,["label"])])])])),_:1})])),_:1})])),_:1},8,["style","modelValue","placeholder","onKeyup"])}const $e={class:"row items-center justify-end"};function Xe(e,t,a,r,o,s){const i=(0,n.g2)("q-btn"),l=(0,n.g2)("q-date"),d=(0,n.g2)("q-popup-proxy"),u=(0,n.g2)("q-icon"),c=(0,n.g2)("q-input"),p=(0,n.gN)("close-popup");return(0,n.uX)(),(0,n.Wv)(c,{outlined:"",dense:"",modelValue:e.params.before_date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.params.before_date=t),clearable:!0,class:"q-mr-sm",style:{width:"227px",height:"40px"}},{append:(0,n.k6)((()=>[(0,n.bF)(u,{name:"event",class:"cursor-pointer"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{"onUpdate:modelValue":[e.fetchData,t[0]||(t[0]=t=>e.params.before_date=t)],modelValue:e.params.before_date,mask:"YYYY-MM-DD"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",$e,[(0,n.bo)((0,n.bF)(i,{label:"Close",color:"primary",flat:""},null,512),[[p]])])])),_:1},8,["onUpdate:modelValue","modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}const Ke=(0,n.pM)({mixins:[],props:{},methods:{fetchData(e){this.params.before_date=e,this.resetPagination(),this.getAsnData()}},setup(){const e=(0,T.KR)(),t=(0,M.bP)(ee()),{getAsnData:a,resetPagination:n}=ee(),{params:r}=t;return{resetPagination:n,getAsnData:a,params:r,date:e}}});var ze=a(67837),Be=a(50492),Oe=a(48975),We=a(93692),Me=a(56384),Te=a(88672),Re=a(98582),Ue=a.n(Re);const Ne=(0,re.A)(Ke,[["render",Xe]]),je=Ne;Ue()(Ke,"components",{QInput:ze.A,QIcon:Be.A,QPopupProxy:Oe.A,QDate:We.A,QBtn:Me.A}),Ue()(Ke,"directives",{ClosePopup:Te.A});const Ye={class:"row items-center justify-end"};function He(e,t,a,r,o,s){const i=(0,n.g2)("q-btn"),l=(0,n.g2)("q-date"),d=(0,n.g2)("q-popup-proxy"),u=(0,n.g2)("q-icon"),c=(0,n.g2)("q-input"),p=(0,n.gN)("close-popup");return(0,n.uX)(),(0,n.Wv)(c,{outlined:"",dense:"",modelValue:e.params.after_date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.params.after_date=t),clearable:!0,class:"q-mr-sm",style:{width:"227px",height:"40px"}},{append:(0,n.k6)((()=>[(0,n.bF)(u,{name:"event",class:"cursor-pointer"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{"onUpdate:modelValue":[e.fetchData,t[0]||(t[0]=t=>e.params.after_date=t)],modelValue:e.params.after_date,mask:"YYYY-MM-DD"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",Ye,[(0,n.bo)((0,n.bF)(i,{label:"Close",color:"primary",flat:""},null,512),[[p]])])])),_:1},8,["onUpdate:modelValue","modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}const Je=(0,n.pM)({mixins:[],props:{},methods:{fetchData(e){this.params.after_date=e,this.resetPagination(),this.getAsnData()}},setup(){const e=(0,T.KR)(),t=(0,M.bP)(ee()),{getAsnData:a,resetPagination:n}=ee(),{params:r}=t;return{resetPagination:n,getAsnData:a,params:r,date:e}}}),Ge=(0,re.A)(Je,[["render",He]]),Ze=Ge;function et(e,t,a,r,o,s){const i=(0,n.g2)("q-input");return(0,n.uX)(),(0,n.Wv)(i,{outlined:"",dense:"",modelValue:e.params.po_number,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.params.po_number=t),e.fetchData],clearable:!0,debounce:1e3,class:"q-mr-sm",style:{width:"227px",height:"40px"}},null,8,["modelValue","onUpdate:modelValue"])}Ue()(Je,"components",{QInput:ze.A,QIcon:Be.A,QPopupProxy:Oe.A,QDate:We.A,QBtn:Me.A}),Ue()(Je,"directives",{ClosePopup:Te.A});const tt=(0,n.pM)({mixins:[],props:{},methods:{fetchData(){this.resetPagination(),this.getAsnData()}},setup(){const e=(0,M.bP)(ee()),{getAsnData:t,resetPagination:a}=ee(),{params:n}=e;return{resetPagination:a,getAsnData:t,params:n}}}),at=(0,re.A)(tt,[["render",et]]),nt=at;function rt(e,t,a,r,o,s){const i=(0,n.g2)("q-input");return(0,n.uX)(),(0,n.Wv)(i,{outlined:"",dense:"",modelValue:e.params.order_number,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.params.order_number=t),e.fetchData],clearable:!0,debounce:1e3,class:"q-mr-sm",style:{width:"227px",height:"40px"}},null,8,["modelValue","onUpdate:modelValue"])}Ue()(tt,"components",{QInput:ze.A});const ot=(0,n.pM)({mixins:[],props:{},methods:{fetchData(){this.resetPagination(),this.getAsnData()}},setup(){const e=(0,M.bP)(ee()),{getAsnData:t,resetPagination:a}=ee(),{params:n}=e;return{resetPagination:a,getAsnData:t,params:n}}}),st=(0,re.A)(ot,[["render",rt]]),it=st;Ue()(ot,"components",{QInput:ze.A});const lt={class:"row items-center justify-end"};function dt(e,t,a,r,o,s){const i=(0,n.g2)("q-btn"),l=(0,n.g2)("q-date"),d=(0,n.g2)("q-popup-proxy"),u=(0,n.g2)("q-icon"),c=(0,n.g2)("q-input"),p=(0,n.gN)("close-popup");return(0,n.uX)(),(0,n.Wv)(c,{outlined:"",dense:"",modelValue:e.params.order_date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.params.order_date=t),clearable:!0,class:"q-mr-sm",style:{width:"227px",height:"40px"}},{append:(0,n.k6)((()=>[(0,n.bF)(u,{name:"event",class:"cursor-pointer"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{"onUpdate:modelValue":[e.fetchData,t[0]||(t[0]=t=>e.params.order_date=t)],modelValue:e.params.order_date,mask:"YYYY-MM-DD"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",lt,[(0,n.bo)((0,n.bF)(i,{label:"Close",color:"primary",flat:""},null,512),[[p]])])])),_:1},8,["onUpdate:modelValue","modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}const ut=(0,n.pM)({mixins:[],props:{},methods:{fetchData(e){this.params.order_date=e,this.resetPagination(),this.getAsnData()}},setup(){const e=(0,T.KR)(),t=(0,M.bP)(ee()),{getAsnData:a,resetPagination:n}=ee(),{params:r}=t;return{resetPagination:n,getAsnData:a,params:r,date:e}}}),ct=(0,re.A)(ut,[["render",dt]]),pt=ct;Ue()(ut,"components",{QInput:ze.A,QIcon:Be.A,QPopupProxy:Oe.A,QDate:We.A,QBtn:Me.A}),Ue()(ut,"directives",{ClosePopup:Te.A});var mt=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):r(e.value).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const _t=(0,n.pM)({mixins:[],props:{search_width:{type:Number,required:!0,optional:!1}},components:{BeforeDate:je,AfterDate:Ze,PoNumber:nt,OrderNumber:it,OrderDate:pt},methods:{resetFilters(){this.resetFilter(),this.fetchData(),this.removeFiltersClass()},removeFiltersClass(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},onKeyup(e){"Enter"==e.key&&this.fetchData()},fetchData(){return mt(this,void 0,void 0,(function*(){this.loading=!0,this.resetPagination(),yield this.getAsnData(),this.loading=!1}))},handleEmptyStatus(){return(!this.searchInput||null===this.searchInput||""===this.searchInput.trim())&&(this.resetFilters(),!0)},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}},setup(){const e=ee(),t=["10","25","50","100"],{loading:a,pagination:n,params:r}=(0,M.bP)(e),{getAsnData:o,resetPagination:s,resetFilter:i}=e;return{getAsnData:o,pagination:n,loading:a,searchInput:(0,T.KR)(""),oldSearchInput:(0,T.KR)(""),showing:(0,T.KR)(!1),debounceSearchInputFunc:{},request_params:{},filter_data_json_str:"",pagination_options:t,resetPagination:s,resetFilter:i,params:r}}});var gt=a(84436),ht=a(93676),bt=a(94940);const vt=(0,re.A)(_t,[["render",Ie]]),ft=vt;Ue()(_t,"components",{QInput:ze.A,QMenu:gt.A,QSpace:ht.A,QSelect:bt.A});var yt=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):r(e.value).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const kt=(0,n.pM)({props:{type_name:{type:String,reqired:!0,default:"supplier"},media_screen:{type:String,reqired:!0,optional:!1}},components:{quickSearch:ft},mounted(){document.addEventListener("delete_input_text",this.clearSearchInput)},methods:{clearSearchInput(){this.searchInput=""},refreshFilters(){this.getDataServer()},getDataServer(){return yt(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.getAsnData(),this.total_records=this.paginationCount}catch(e){}finally{this.loading=!1}}))},resetFilters(){const e=new CustomEvent("reset_filters",{});document.dispatchEvent(e)}},setup(){const e=ee(),{loading:t,display_data:a,params:n,pagination:r,paginationCount:o,total_data:s}=(0,M.bP)(e),{getAsnData:i}=e;return{getAsnData:i,loading:t,searchInput:(0,T.KR)(""),paginationCount:o,display_data:a,params:n,pagination:r,total_records:(0,T.KR)(0),total_data:s}}});var Dt=a(97410);const At=(0,re.A)(kt,[["render",ye]]),wt=At;Ue()(kt,"components",{QTooltip:Dt.A,QSpace:ht.A});var xt=a(23537),Ft=a(76956),Ct=a(36246),qt=a(24681),Lt=a(24622),Pt=a(10739);const St={class:"row"},Vt={class:"q-py-xs q-mt-md q-mr-sm"};function Et(e,t,a,o,s,i){const l=(0,n.g2)("q-select");return(0,n.uX)(),(0,n.CE)("div",St,[(0,n.Lk)("span",Vt,(0,r.v_)(e.$t("pagination_size"))+":",1),(0,n.bF)(l,{borderless:"",dense:"",modelValue:e.pagination.page_size,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.pagination.page_size=t),e.getAsnData],options:e.pagination_options},null,8,["modelValue","options","onUpdate:modelValue"])])}const Qt=(0,n.pM)({mixins:[],props:{},watch:{},methods:{triggerApplyFilters(){const e=new CustomEvent("apply_filters",{});document.dispatchEvent(e)}},setup(){const e=ee(),{pagination:t}=(0,M.bP)(e),{getAsnData:a}=e;return{pagination:t,getAsnData:a,pagination_options:(0,T.KR)(["10","20","25","50","100"])}}}),It=(0,re.A)(Qt,[["render",Et]]),$t=It;Ue()(Qt,"components",{QSelect:bt.A});var Xt=a(87033),Kt=a(46736),zt=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):r(e.value).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const Bt=(0,n.pM)({el:"#app",mixins:[Lt.A,Pt.A,Xt.A,Kt.A],props:{type_name:{type:String,reqired:!0,default:"supplier"}},mounted:function(){this.init(),this.initDragDropColumns("advance_shipment_table","label"),document.addEventListener("advance_shipment_table-column-drop",this.onDropColumns)},unmounted:function(){document.removeEventListener("advance_shipment_table-column-drop",this.onDropColumns)},components:{SubHeader:R.A,DashboardHeader:wt,ColumnOrderBy:se,PaginationSettings:$t},methods:{init(){this.getData(!0),this.prepareTableColumns()},getData(e){return zt(this,void 0,void 0,(function*(){try{this.loading=!0,e&&(this.show_table_loader=!0),yield this.dashboard_asn_store.getAsnData(),this.total_records=this.paginationCount}catch(t){}finally{this.loading=!1,this.show_table_loader=!1}}))},goToDetail(e){this.$router.push(`/sales_order_detail/${e}`)},prepareTableColumns(){this.tableColumns=this.generateSavedColumns(this.advance_shipment_dashboard_columns,this.tableColumns)},onDropColumns(){this.savedOrderColumns(this.tableColumns)},savedOrderColumns(e){return zt(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.updateSetting(this.advance_shipment_dashboard_columns,JSON.stringify(e))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.loading=!1}}))},formateDate(e,t){return Ct.Ay.formatDate(e,t)},includesDate(e){const t=["order_date","requested_delivery_date","estimated_delivery_date"];return t.some((t=>e.includes(t)))},includeStatus(e){return"Reserved"===e?1:"Delivered"===e?2:"Invoiced"===e?3:void 0},resetFilters(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},paginationItemClicked(){return zt(this,void 0,void 0,(function*(){try{yield this.getData(!0)}catch(e){}}))},exportPdfPreview(e,t){const a="https://sandbox.api.docbits.com/resource/documents_layout_templates/9145dce4-62da-4cfe-b69a-8606b24de100/image/1.png?0=&token=GgbWKXRHz760qJr7mkTFA29NPDjBluxZqte1pDODSI",n=document.createElement("a");document.body.appendChild(n),n.href=a,n.setAttribute("download",""),n.click(),document.body.removeChild(n)}},data(){return{supplier_dashboard_setting:Ft.t2,show_table_loader:(0,T.KR)(!1),advance_shipment_dashboard_columns:Ft.rs}},setup(){const e=ee(),{datePattern:t}=(0,qt.B)(),{loading:a,table_columns:n,display_data:r,paginationCount:o,params:s,pagination:i}=(0,M.bP)(e),{getAsnData:l,exprtPdf:d,getSavedColumnPreference:u}=e,{t:c}=(0,xt.s9)(),p=(0,qt.B)(),{updateSetting:m}=p,_=(0,T.KR)();return _.value=Object.values(JSON.parse(JSON.stringify(n.value))).map((e=>({name:e.name,required:!0,label:e.translation_key,field:e.name,actions:e.actions}))),{loading:a,display_data:r,table_columns:n,getAsnData:l,paginationCount:o,tableColumns:_,dashboard_asn_store:e,searchInput:(0,T.KR)(""),params:s,current_page:(0,T.KR)(1),total_pages:(0,T.KR)(0),page_size:(0,T.KR)(5),total_records:(0,T.KR)(0),isMobile:W.Fr,pagination:i,datePattern:t,exprtPdf:d,updateSetting:m,getSavedColumnPreference:u}}});var Ot=a(10386),Wt=a(42315),Mt=a(44488),Tt=a(57722),Rt=a(45262),Ut=a(37222),Nt=a(78577),jt=a(53999),Yt=a(90124),Ht=a(25173),Jt=a(857),Gt=a(54700),Zt=a(39035),ea=a(65265);const ta=(0,re.A)(Bt,[["render",O],["__scopeId","data-v-651034fd"]]),aa=ta;Ue()(Bt,"components",{QSeparator:Ot.A,QTable:Wt.A,QTr:Mt.A,QTh:Tt.A,QTd:Rt.A,QStepper:Ut.A,QStep:Nt.A,QBtn:Me.A,QMenu:gt.A,QList:jt.A,QItem:Yt.A,QItemSection:Ht.A,QMarkupTable:Jt.A,QPagination:Gt.A,QSpace:ht.A,QIcon:Be.A,QInnerLoading:Zt.A}),Ue()(Bt,"directives",{Ripple:ea.A})}}]);