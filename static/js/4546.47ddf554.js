(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[4546],{74546:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>jt});var s=a(61758);const o={class:"col-9",style:{"margin-top":"2vh"}};function n(e,t,a,n,l,r){const i=(0,s.g2)("StoreSettings"),c=(0,s.g2)("q-carousel-slide"),d=(0,s.g2)("ScannerPage"),u=(0,s.g2)("q-carousel"),g=(0,s.g2)("ArrowRight");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(u,{modelValue:e.scanstore.getCarouselName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.scanstore.getCarouselName=t),"transition-prev":"slide-right","transition-next":"slide-left",class:"white-back carousel",animated:""},{default:(0,s.k6)((()=>[(0,s.bF)(c,{name:"store"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",o,[(0,s.bF)(i)])])),_:1}),(0,s.bF)(c,{name:"scan"},{default:(0,s.k6)((()=>[(0,s.bF)(d)])),_:1})])),_:1},8,["modelValue"]),"store"==e.scanstore.current_carousel_name?((0,s.uX)(),(0,s.Wv)(g,{key:0,onClick:t[1]||(t[1]=t=>e.scanstore.addPage()),class:"absolute-bottom-right"})):(0,s.Q3)("",!0)],64)}var l=a(24622),r=a(38734),i=a(18505),c=a(36246),d=a(16459),u=a.n(d);const g=e=>((0,s.Qi)("data-v-c00e4ca8"),e=e(),(0,s.jt)(),e),p={style:{border:"2px solid",height:"80vh",width:"50vw"},class:"q-pa-md relative-position fixed-center bg-white rounded"},h={style:{border:"2px dashed",height:"100%",width:"100%"},class:"q-pa-md relative-position rounded"},m={class:"row"},_={class:"col-12",align:"center"},b={class:"q-store-cards row",align:"center",style:{"margin-top":"100px"}},v={class:"col-12",align:"center"},f=g((()=>(0,s.Lk)("img",{src:u(),style:{height:"80px","max-width":"90px","margin-top":"40px"}},null,-1))),w=g((()=>(0,s.Lk)("div",{style:{"margin-bottom":"10px"},class:"text-h6"}," Google Drive ",-1))),k=g((()=>(0,s.Lk)("div",{class:"col-2"},null,-1))),y=g((()=>(0,s.Lk)("div",{class:"col-8"},null,-1)));function L(e,t,a,o,n,l){const r=(0,s.g2)("q-icon"),i=(0,s.g2)("q-card-section"),c=(0,s.g2)("q-card"),d=(0,s.g2)("SaveBtn"),u=(0,s.g2)("DeleteBtn"),g=(0,s.gN)("ripple");return(0,s.uX)(),(0,s.CE)("div",p,[(0,s.Lk)("div",h,[(0,s.Lk)("div",m,[(0,s.Lk)("div",_,[(0,s.Lk)("div",b,[(0,s.Lk)("div",v,[(0,s.bo)(((0,s.uX)(),(0,s.Wv)(c,{class:"cursor-pointer q-hoverable store-cards",flat:"",style:{"margin-right":"20px"},align:"center"},{default:(0,s.k6)((()=>[f,(0,s.bF)(i,null,{default:(0,s.k6)((()=>[w,e.scanstore.current_store.id?((0,s.uX)(),(0,s.Wv)(r,{key:0,name:"done",color:"green",size:"32px"})):(0,s.Q3)("",!0),e.scanstore.current_store.id?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(r,{key:1,name:"close",color:"red",size:"32px"}))])),_:1})])),_:1})),[[g]])])]),(0,s.bF)(c,{style:{"max-height":"300px","margin-bottom":"5vh"},flat:""},{default:(0,s.k6)((()=>["google_drive"!=e.selected_card||e.scanstore.current_store.id?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(i,{key:0,class:"text-center",style:{"margin-top":"20px"}},{default:(0,s.k6)((()=>[(0,s.bF)(d,{style:{"margin-right":"10px"},label:e.$t("directscan.pages.refresh"),onClick:e.initView},null,8,["label","onClick"]),(0,s.bF)(d,{label:e.$t("doc2light.pages.add_store"),onClick:t[0]||(t[0]=t=>e.init_auth("google_drive",""))},null,8,["label"])])),_:1})),"google_drive"==e.selected_card&&e.scanstore.current_store.id?((0,s.uX)(),(0,s.Wv)(i,{key:1,class:"text-center",style:{"margin-top":"20px"}},{default:(0,s.k6)((()=>[(0,s.Lk)("div",null,[(0,s.bF)(d,{style:{"margin-right":"10px"},label:e.$t("directscan.pages.refresh"),onClick:e.prepareData},null,8,["label","onClick"]),(0,s.bF)(u,{info:e.$t("doc2light.pages.store"),function:e.deleteThisStore,label:e.$t("directscan.pages.delete_store")},null,8,["info","function","label"])])])),_:1})):(0,s.Q3)("",!0)])),_:1})]),k,y])])])}var A=a(46162),S=a(5255),C=a(29104),x=a(58790);const D={class:"q-ml-sm"};function F(e,t,a,o,n,l){const r=(0,s.g2)("q-btn"),i=(0,s.g2)("q-avatar"),c=(0,s.g2)("q-card-section"),d=(0,s.g2)("CancelBtn"),u=(0,s.g2)("SaveBtn"),g=(0,s.g2)("q-card-actions"),p=(0,s.g2)("q-card"),h=(0,s.g2)("q-dialog");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(r,{class:"delete-btn-alfred","text-color":"red",label:e.label,unelevated:"",icon:"delete",onClick:t[0]||(t[0]=t=>e.confirm=!0)},null,8,["label"]),(0,s.bF)(h,{modelValue:e.confirm,"onUpdate:modelValue":t[1]||(t[1]=t=>e.confirm=t),onKeydown:t[2]||(t[2]=(0,C.jR)((t=>e.confirm=!1),["esc"])),style:{width:"350px"}},{default:(0,s.k6)((()=>[(0,s.bF)(p,{style:{width:"350px"}},{default:(0,s.k6)((()=>[(0,s.bF)(c,{class:"row items-center"},{default:(0,s.k6)((()=>[(0,s.bF)(i,{icon:"delete",color:"red","text-color":"white"}),(0,s.Lk)("span",D,(0,x.v_)(e.$t("doc2light.descriptions.confirm_delete")+" ("+this.info+")"),1)])),_:1}),(0,s.bF)(g,{align:"right"},{default:(0,s.k6)((()=>[(0,s.bF)(d),(0,s.bF)(u,{label:e.$t("doc2light.popups.accept"),onClick:this.function},null,8,["label","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var I=a(99976);const R=(0,s.pM)({el:"#app",mixins:[i.A,l.A],props:["function","label","info"],components:{CancelBtn:I.A,SaveBtn:S.A},data(){return{confirm:(0,r.KR)(!1)}},methods:{}});var K=a(12807),M=a(56384),T=a(82156),Q=a(23316),E=a(44189),N=a(3952),V=a(62669),q=a(98582),j=a.n(q);const P=(0,K.A)(R,[["render",F],["__scopeId","data-v-38945375"]]),z=P;j()(R,"components",{QBtn:M.A,QDialog:T.A,QCard:Q.A,QCardSection:E.A,QAvatar:N.A,QCardActions:V.A});var $=a(16853),X=function(e,t,a,s){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,n){function l(e){try{i(s.next(e))}catch(t){n(t)}}function r(e){try{i(s["throw"](e))}catch(t){n(t)}}function i(e){e.done?a(e.value):o(e.value).then(l,r)}i((s=s.apply(e,t||[])).next())}))};const B=(0,s.pM)({components:{SaveBtn:S.A,DeleteBtn:z},data(){return{supportURL:A.cK}},methods:{deleteThisStore(){this.deleteStore(this.scanstore.current_store.id),this.scanstore.no_store=!0},initView(){return X(this,void 0,void 0,(function*(){this.showLoading();try{yield this.scanstore.prepareData(),""!=this.scanstore.current_store.id?this.scanstore.no_store=!1:this.showSuccessToast(this.$t("directscan.pages.store_found")),this.hideLoading()}catch(e){this.showErrorToast(this.$t("directscan.pages.store_not_found")),this.hideLoading()}}))}},mixins:[i.A,l.A],setup(){const e=[{value:"dropbox",label:"Dropbox"},{value:"onedrive",label:"OneDrive"},{value:"google_drive",label:"Google Drive"}],t=(0,$.j)(),{prepareData:a,getStore:s,init_auth:o,deleteStore:n,setStoreType:l}=t;return{scanstore:t,prepareData:a,getStore:s,init_auth:o,deleteStore:n,setStoreType:l,authenticated_store_id:(0,r.KR)(""),headerCheckbox:(0,r.KR)(!1),selection:(0,r.KR)([]),selected_card:(0,r.KR)("google_drive"),headerFabIcon:(0,r.KR)(!1),selected_store:(0,r.KR)([]),dropbox_token:(0,r.KR)(""),authenticated_stores:(0,r.KR)([]),store_type:(0,r.KR)({value:"google_drive",label:"Google Drive"}),store_info:(0,r.KR)({}),store_id:(0,r.KR)(""),stores:(0,r.KR)(e),url:(0,r.KR)("https://microsoft.com/devicelogin"),code:(0,r.KR)(""),lo_code:(0,r.KR)(""),show_ms_popup:(0,r.KR)(!1),show_lo_popup:(0,r.KR)(!1),store:(0,r.KR)(""),started_auth_db:(0,r.KR)(!1),started_auth_ms:(0,r.KR)(!1),started_auth_gd:(0,r.KR)(!1),started_auth_lo:(0,r.KR)(!1),show_rename_popup:(0,r.KR)(!1),current_store:(0,r.KR)({})}}});var G=a(50492),U=a(42315),O=a(65265);const W=(0,K.A)(B,[["render",L],["__scopeId","data-v-c00e4ca8"]]),Z=W;j()(B,"components",{QCard:Q.A,QCardSection:E.A,QIcon:G.A,QTable:U.A}),j()(B,"directives",{Ripple:O.A});const Y=e=>((0,s.Qi)("data-v-2bb9d084"),e=e(),(0,s.jt)(),e),H={class:"row"},J={class:"col-8",style:{"margin-top":"2vh"}},ee={class:"drag-area text-center full-width",style:{padding:"20px"},id:"box-droppable"},te={key:0,class:"absolute-center"},ae={key:1},se=Y((()=>(0,s.Lk)("img",{src:"images/loader.gif",alt:"Loading...",class:"inner",style:{"margin-left":"auto"}},null,-1))),oe=[se],ne={key:2},le={style:{width:"300px",margin:"auto"},align:"center"},re={style:{padding:"10px",width:"100%"}},ie={style:{"font-size":"20px"}},ce={class:"",style:{padding:"10px","margin-bottom":"10px",width:"100%"}},de={key:1,style:{height:"75vh","overflow-y":"auto",padding:"20px","margin-left":"68px",border:"2px solid","border-radius":"4px"}},ue={class:"col-3",style:{"margin-top":"2vh"}};function ge(e,t,a,o,n,l){const r=(0,s.g2)("FolderSelection"),i=(0,s.g2)("GoogleDriveFolderSelection"),c=(0,s.g2)("q-img"),d=(0,s.g2)("q-file"),u=(0,s.g2)("q-card-section"),g=(0,s.g2)("q-card"),p=(0,s.g2)("vue-pdf-embed"),h=(0,s.g2)("q-separator"),m=(0,s.g2)("ScanSettings");return(0,s.uX)(),(0,s.CE)("div",H,[(0,s.Lk)("div",J,[1==e.scanstore.showDragDrop?((0,s.uX)(),(0,s.Wv)(g,{key:0,flat:"",class:"drag-n-drop",onDrop:e.drop,onDragover:e.allowDrop,onDragleave:e.dragLeave},{default:(0,s.k6)((()=>[(0,s.bF)(u,{style:{border:"2px dashed",height:"100%"}},{default:(0,s.k6)((()=>[(0,s.Lk)("div",ee,[e.scanstore.folder_selection?((0,s.uX)(),(0,s.CE)("div",te,["google_drive"!=e.scanstore.store_type?((0,s.uX)(),(0,s.Wv)(r,{key:0})):"google_drive"==e.scanstore.store_type?((0,s.uX)(),(0,s.Wv)(i,{key:1})):(0,s.Q3)("",!0)])):e.scanstore.loading?((0,s.uX)(),(0,s.CE)("div",ae,oe)):e.scanstore.folder_selection?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",ne,[(0,s.bF)(c,{src:"doc2light/scanner/cloud.svg",style:{height:"240px",width:"700px","margin-top":"10%"}}),(0,s.Lk)("div",le,[(0,s.Lk)("div",re,[(0,s.Lk)("span",ie,(0,x.v_)(e.$t("doc2light.pages.dragndrop")),1)]),(0,s.Lk)("div",ce,(0,x.v_)(e.$t("doc2light.pages.or")),1),(0,s.bF)(d,{"bg-color":"primary","label-color":"white",multiple:"",standout:"",label:e.$t("doc2light.pages.browse_files"),modelValue:e.uploadedFiles,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.uploadedFiles=t),t[1]||(t[1]=t=>e.scanstore.uploadFiles(e.uploadedFiles).then((t=>{this.showSuccessToast(e.$t("running"))})))],"data-cy":"upload-multiple-docs",style:{width:"60%"}},null,8,["label","modelValue"])])]))])])),_:1})])),_:1},8,["onDrop","onDragover","onDragleave"])):(0,s.Q3)("",!0),0==e.scanstore.showDragDrop?((0,s.uX)(),(0,s.CE)("div",de,[(0,s.bF)(p,{ref:"pager",source:e.scanstore.file,onRendered:t[2]||(t[2]=t=>e.getRef())},null,8,["source"])])):(0,s.Q3)("",!0)]),(0,s.bF)(h,{vertical:"",style:{"margin-left":"30px","margin-right":"30px","min-height":"89vh"}}),(0,s.Lk)("div",ue,[(0,s.bF)(m)])])}var pe=a(97912);const he=e=>((0,s.Qi)("data-v-5f18d9a8"),e=e(),(0,s.jt)(),e),me={class:"popup-heading"},_e={class:"row"},be={class:"row text-center"},ve={key:0,style:{"margin-top":"5px"}},fe=he((()=>(0,s.Lk)("span",{class:"text-red"}," ! NO SCANNER FOUND ",-1))),we=he((()=>(0,s.Lk)("div",null,null,-1))),ke={class:"q-ml-sm"};function ye(e,t,a,o,n,l){const r=(0,s.g2)("DownloadInstaller"),i=(0,s.g2)("q-dialog"),c=(0,s.g2)("q-toolbar-title"),d=(0,s.g2)("q-space"),u=(0,s.g2)("q-tooltip"),g=(0,s.g2)("DefaultBtn"),p=(0,s.g2)("q-toolbar"),h=(0,s.g2)("q-item-section"),m=(0,s.g2)("q-item"),_=(0,s.g2)("q-list"),b=(0,s.g2)("q-menu"),v=(0,s.g2)("q-btn"),f=(0,s.g2)("q-input"),w=(0,s.g2)("q-select"),k=(0,s.g2)("q-rating"),y=(0,s.g2)("q-icon"),L=(0,s.g2)("SaveBtn"),A=(0,s.g2)("q-checkbox"),S=(0,s.g2)("q-card-section"),D=(0,s.g2)("PulsSaveBtn"),F=(0,s.g2)("q-card-actions"),I=(0,s.g2)("q-card"),R=(0,s.g2)("q-avatar"),K=(0,s.g2)("CancelBtn"),M=(0,s.g2)("DocSplit"),T=(0,s.gN)("close-popup");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",null,[(0,s.bF)(i,{modelValue:e.showDownloadInstaller,"onUpdate:modelValue":t[0]||(t[0]=t=>e.showDownloadInstaller=t),onKeydown:t[1]||(t[1]=(0,C.jR)((t=>e.scanstore.setShowInstaller()),["esc"]))},{default:(0,s.k6)((()=>[(0,s.bF)(r)])),_:1},8,["modelValue"]),(0,s.bF)(I,{class:"card-format",flat:""},{default:(0,s.k6)((()=>[(0,s.bF)(p,null,{default:(0,s.k6)((()=>[(0,s.bF)(c,null,{default:(0,s.k6)((()=>[(0,s.Lk)("span",me,(0,x.v_)(e.$t("doc2light.pages.scan_settings")),1)])),_:1}),(0,s.bF)(d),(0,s.bF)(g,{icon:"settings",onClick:t[2]||(t[2]=t=>e.scanstore.current_carousel_name="store")},{default:(0,s.k6)((()=>[(0,s.bF)(u,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,x.v_)(e.$t("doc2light.descriptions.click_to_change")),1)])),_:1})])),_:1})])),_:1}),(0,s.bF)(S,null,{default:(0,s.k6)((()=>[(0,s.Lk)("div",null,[(0,s.bF)(f,{modelValue:e.scanstore.new_scan["name"],"onUpdate:modelValue":t[3]||(t[3]=t=>e.scanstore.new_scan["name"]=t),label:e.$t("document_name")},{append:(0,s.k6)((()=>[(0,s.bF)(v,{round:"",dense:"",flat:"",icon:"data_object"},{default:(0,s.k6)((()=>[(0,s.bF)(u,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,x.v_)(e.$t("doc2light.pages.variable")),1)])),_:1}),(0,s.bF)(b,{fit:"",align:"center"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(this.variables,(t=>((0,s.uX)(),(0,s.Wv)(_,{style:{"max-width":"100%"},key:t},{default:(0,s.k6)((()=>[(0,s.bo)(((0,s.uX)(),(0,s.Wv)(m,{clickable:"",onClick:a=>e.addVariableToName(t.value)},{default:(0,s.k6)((()=>[(0,s.bF)(h,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,x.v_)(this.$t(t.label)),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[T]])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["modelValue","label"]),(0,s.Lk)("div",_e,[(0,s.bF)(w,{readonly:"",modelValue:e.scanstore.new_scan["selected_store"],"onUpdate:modelValue":t[4]||(t[4]=t=>e.scanstore.new_scan["selected_store"]=t),options:e.store_options,label:e.$t("doc2light.pages.store"),style:{width:"30%"}},null,8,["modelValue","options","label"]),(0,s.bF)(f,{modelValue:e.scanstore.getCurrentFolder.label,"onUpdate:modelValue":t[8]||(t[8]=t=>e.scanstore.getCurrentFolder.label=t),label:e.$t("doc2light.pages.location"),readonly:"",onClick:t[9]||(t[9]=t=>e.reselectStore()),style:{width:"70%"}},{append:(0,s.k6)((()=>[(0,s.bF)(k,{modelValue:e.scanstore.getCurrentFolder.saved,"onUpdate:modelValue":[t[5]||(t[5]=t=>e.scanstore.getCurrentFolder.saved=t),t[7]||(t[7]=t=>{e.folderSaving(t)})],onClick:t[6]||(t[6]=(0,C.D$)((()=>{}),["stop","prevent"])),max:"1",size:"1em",color:"yellow",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":""},null,8,["modelValue"])])),after:(0,s.k6)((()=>[(0,s.bF)(v,{round:"",dense:"",flat:"",icon:"bookmark"},{default:(0,s.k6)((()=>[(0,s.bF)(b,{fit:"",align:"center"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.scanstore.saved_folders,(t=>((0,s.uX)(),(0,s.Wv)(_,{style:{"max-width":"100%"},key:t.id},{default:(0,s.k6)((()=>[(0,s.bo)(((0,s.uX)(),(0,s.Wv)(m,{clickable:"",onClick:a=>e.selectCurrentFolder(t)},{default:(0,s.k6)((()=>[(0,s.bF)(h,{avatar:""},{default:(0,s.k6)((()=>[(0,s.bF)(y,{color:"primary",name:"folder"})])),_:1}),(0,s.bF)(h,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,x.v_)(t.label),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[T]])])),_:2},1024)))),128))])),_:1})])),_:1})])),default:(0,s.k6)((()=>[(0,s.bF)(u,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,x.v_)(e.$t("doc2light.descriptions.click_to_change")),1)])),_:1})])),_:1},8,["modelValue","label"])])]),(0,s.Lk)("div",be,[(0,s.bF)(w,{style:{"min-width":"100%"},modelValue:e.scanstore.new_scan["source"],"onUpdate:modelValue":t[11]||(t[11]=t=>e.scanstore.new_scan["source"]=t),label:e.$t("doc2light.pages.choose_source"),options:e.scanstore.getScannersfromStore},{after:(0,s.k6)((()=>[(0,s.bF)(v,{unelevated:"",round:"",icon:"restart_alt",onClick:t[10]||(t[10]=t=>e.scanstore.getScanners(e.scanstore.getUrl))},{default:(0,s.k6)((()=>[(0,s.bF)(u,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,x.v_)(e.$t("doc2light.pages.search_scanners")),1)])),_:1})])),_:1})])),"no-option":(0,s.k6)((()=>[(0,s.bF)(m,null,{default:(0,s.k6)((()=>[(0,s.bF)(h,{class:"text-grey"},{default:(0,s.k6)((()=>[(0,s.eW)(" No results ")])),_:1})])),_:1})])),_:1},8,["modelValue","label","options"])]),e.scanstore.showDownloadInstallerButton?((0,s.uX)(),(0,s.CE)("div",ve,[(0,s.bF)(h,null,{default:(0,s.k6)((()=>[fe])),_:1}),(0,s.bF)(L,{label:e.$t("doc2light.pages.download"),style:{"margin-top":"5px","margin-bottom":"15px"},onClick:t[12]||(t[12]=t=>e.showDownloadInstaller=!0)},null,8,["label"])])):(0,s.Q3)("",!0),(0,s.Lk)("div",null,[(0,s.bF)(A,{modelValue:e.scanstore.new_scan["automatic_get"],"onUpdate:modelValue":t[13]||(t[13]=t=>e.scanstore.new_scan["automatic_get"]=t),"indeterminate-value":!1,label:e.$t("doc2light.pages.automatic_get")},null,8,["modelValue","label"])]),we,(0,s.Lk)("div",null,[(0,s.bF)(A,{modelValue:e.scanstore.new_scan["2_sided"],"onUpdate:modelValue":t[14]||(t[14]=t=>e.scanstore.new_scan["2_sided"]=t),"indeterminate-value":!1,label:e.$t("doc2light.pages.two_side_scan")},null,8,["modelValue","label"])]),(0,s.Lk)("div",null,[(0,s.bF)(A,{modelValue:e.scanstore.new_scan["auto_doc_name"],"onUpdate:modelValue":t[15]||(t[15]=t=>e.scanstore.new_scan["auto_doc_name"]=t),"indeterminate-value":!1,label:e.$t("doc2light.pages.automatic_document_name")},null,8,["modelValue","label"])]),(0,s.Lk)("div",null,[(0,s.bF)(w,{modelValue:e.scanstore.new_scan["resolution"],"onUpdate:modelValue":t[16]||(t[16]=t=>e.scanstore.new_scan["resolution"]=t),label:e.$t("doc2light.pages.resolution"),options:e.resolutions},null,8,["modelValue","label","options"])]),(0,s.Lk)("div",null,[(0,s.bF)(w,{type:"multi",modelValue:e.scanstore.new_scan["pixel_type"],"onUpdate:modelValue":t[17]||(t[17]=t=>e.scanstore.new_scan["pixel_type"]=t),label:e.$t("doc2light.pages.color_scheme"),options:[{value:"Grayscale8",label:e.$t("doc2light.pages.gray")},{value:"RGB24",label:e.$t("doc2light.table.color")}]},null,8,["modelValue","label","options"])])])),_:1}),0==e.scanstore.showDragDrop?((0,s.uX)(),(0,s.Wv)(F,{key:0,align:"center",style:{}},{default:(0,s.k6)((()=>[(0,s.bF)(g,{label:e.$t("doc2light.pages.scan"),onClick:t[18]||(t[18]=t=>e.activateScan()),style:{"margin-right":"20px"}},null,8,["label"]),e.scanstore.showSplitButton?((0,s.uX)(),(0,s.Wv)(g,{key:0,label:e.$t("doc2light.pages.split"),onClick:t[19]||(t[19]=t=>e.show_popup=!0),style:{"margin-right":"20px"}},null,8,["label"])):(0,s.Q3)("",!0),e.scanstore.showPulsating?((0,s.uX)(),(0,s.Wv)(D,{key:1,label:e.$t("doc2light.pages.upload"),onClick:t[20]||(t[20]=t=>{e.scanstore.uploadSingleFile().then((t=>{this.showSuccessToast(e.$t("directscan.pages.upload_running_may_take_awhile")),this.scanstore.showPulsating=!1}))})},null,8,["label"])):((0,s.uX)(),(0,s.Wv)(L,{key:2,label:e.$t("doc2light.pages.upload"),onClick:t[21]||(t[21]=t=>e.scanstore.uploadSingleFile().then((t=>{this.showSuccessToast(e.$t("directscan.pages.upload_running_may_take_awhile"))})))},null,8,["label"]))])),_:1})):((0,s.uX)(),(0,s.Wv)(F,{key:1,align:"center",style:{"margin-right":"7px"}},{default:(0,s.k6)((()=>[(0,s.bF)(g,{label:e.$t("doc2light.pages.scan"),style:{"margin-bottom":"20px"},onClick:t[22]||(t[22]=t=>e.activateScan())},null,8,["label"])])),_:1}))])),_:1})]),(0,s.bF)(i,{modelValue:e.showWarning,"onUpdate:modelValue":t[24]||(t[24]=t=>e.showWarning=t),onKeydown:t[25]||(t[25]=(0,C.jR)((t=>e.showWarning=!1),["esc"])),style:{width:"350px"}},{default:(0,s.k6)((()=>[(0,s.bF)(I,{style:{width:"350px"}},{default:(0,s.k6)((()=>[(0,s.bF)(S,{class:"row items-center"},{default:(0,s.k6)((()=>[(0,s.bF)(R,{icon:"warning",color:"yellow","text-color":"black"}),(0,s.Lk)("span",ke,(0,x.v_)(e.$t("doc2light.descriptions.document_goes_missing")),1)])),_:1}),(0,s.bF)(F,{align:"right"},{default:(0,s.k6)((()=>[(0,s.bF)(K),(0,s.bF)(L,{label:e.$t("doc2light.popups.accept"),onClick:t[23]||(t[23]=t=>e.scanstore.showDragDrop=!0)},null,8,["label"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.bF)(i,{modelValue:e.show_popup,"onUpdate:modelValue":t[26]||(t[26]=t=>e.show_popup=t),onKeydown:t[27]||(t[27]=(0,C.jR)((t=>e.show_popup=!1),["esc"]))},{default:(0,s.k6)((()=>[(0,s.bF)(M,{doc:e.scanstore.file,pageCount:e.scanstore.pager.pageCount,filedata:e.scanstore.filedata,mode:"ocr_create"},null,8,["doc","pageCount","filedata"])])),_:1},8,["modelValue"])],64)}var Le=a(31123);const Ae=e=>((0,s.Qi)("data-v-1b071ccb"),e=e(),(0,s.jt)(),e),Se=Ae((()=>(0,s.Lk)("span",{class:"text-weight-bold"},null,-1))),Ce={class:"main-container"},xe={draggable:"true",class:"split-img-main box"},De={class:"img-number"},Fe={class:"doc-splitter"},Ie=["data-page-id"],Re=Ae((()=>(0,s.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function Ke(e,t,a,o,n,l){const r=(0,s.g2)("q-toolbar-title"),i=(0,s.g2)("q-btn"),c=(0,s.g2)("q-toolbar"),d=(0,s.g2)("CancelBtn"),u=(0,s.g2)("SaveBtn"),g=(0,s.g2)("q-card-actions"),p=(0,s.g2)("q-icon"),h=(0,s.g2)("vue-pdf-embed"),m=(0,s.g2)("q-card-section"),_=(0,s.g2)("q-inner-loading"),b=(0,s.g2)("q-card"),v=(0,s.gN)("close-popup");return(0,s.uX)(),(0,s.Wv)(b,{class:"split-doc-card"},{default:(0,s.k6)((()=>[(0,s.bF)(c,{class:"text-white secondary-toolbar"},{default:(0,s.k6)((()=>[(0,s.bF)(r,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,x.v_)(e.$t("split_document")),1),Se])),_:1}),(0,s.bo)((0,s.bF)(i,{flat:"",round:"",dense:"",icon:"close"},null,512),[[v]])])),_:1}),(0,s.bF)(g,{align:"right"},{default:(0,s.k6)((()=>[(0,s.bF)(d),(0,s.bF)(u,{label:e.$t("proceed"),onClick:t[0]||(t[0]=t=>e.performDocumentSplit())},null,8,["label"])])),_:1}),(0,s.bF)(m,{class:"q-pt-none"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",Ce,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.pageCount,(a=>((0,s.uX)(),(0,s.CE)("span",{key:a,class:"box-parent"},[(0,s.Lk)("div",xe,[(0,s.bF)(p,{flat:"",dense:"","data-page-id":a,name:"cancel",size:"20px",color:"red",class:"img-delete",onClick:e.deletePage},null,8,["data-page-id","onClick"]),(0,s.bF)(h,{"data-page-id":a,class:"split-img",source:e.doc,page:a},null,8,["data-page-id","source","page"]),(0,s.Lk)("span",De,(0,x.v_)(a),1)]),(0,s.Lk)("span",Fe,[(0,s.Lk)("span",{class:"splitter-span",onClick:t[1]||(t[1]=(...t)=>e.addSplit&&e.addSplit(...t)),"data-page-id":a,style:(0,x.Tr)({height:e.splitterHeight+"px"})},null,12,Ie)])])))),128))])])),_:1}),(0,s.bF)(_,{showing:e.processing},{default:(0,s.k6)((()=>[Re])),_:1},8,["showing"])])),_:1})}var Me=a(64233),Te=a(68450),Qe=a(64775),Ee=function(e,t,a,s){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,n){function l(e){try{i(s.next(e))}catch(t){n(t)}}function r(e){try{i(s["throw"](e))}catch(t){n(t)}}function i(e){e.done?a(e.value):o(e.value).then(l,r)}i((s=s.apply(e,t||[])).next())}))};const Ne=(0,s.pM)({el:"#app",mixins:[Me.A,l.A],props:["doc","pageCount"],components:{SaveBtn:S.A,CancelBtn:I.A,VuePdfEmbed:pe.A},data(){return{dragSrcEl:{}}},watch:{},methods:{handleDragStart(e){e.target.style.opacity="0.4",this.dragSrcEl=e.target,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.target.innerHTML)},handleDragEnd(e){e.target.style.opacity="1";let t=document.querySelectorAll(".main-container .box");t.forEach((function(e){e.classList.remove("over")}))},handleDragOver(e){return e.preventDefault(),!1},handleDragEnter(e){e.target.classList.add("over")},handleDragLeave(e){e.target.classList.remove("over")},handleDrop(e){if(e.stopPropagation(),this.dragSrcEl!==e.target){this.dragSrcEl.innerHTML=e.target.innerHTML,e.target.innerHTML=e.dataTransfer.getData("text/html");const t=e.target.querySelector(".img-delete");t&&t.addEventListener("click",this.deletePage);const a=this.dragSrcEl.querySelector(".img-delete");a&&a.addEventListener("click",this.deletePage)}return!1},deletePage(e){let t=e.target;if(!t)return;let a=t.parentNode;if(!a)return;let s=a.parentNode;if(!s)return;const o=Number(t.dataset.pageId);this.deleted_indexes.push(o),s.remove()},afterEvents(){let e=document.querySelectorAll(".main-container .box");e.forEach((e=>{e.addEventListener("dragstart",this.handleDragStart),e.addEventListener("dragend",this.handleDragEnd),e.addEventListener("dragover",this.handleDragOver),e.addEventListener("dragenter",this.handleDragEnter),e.addEventListener("dragleave",this.handleDragLeave),e.addEventListener("drop",this.handleDrop)}))},addSplit(e){e.stopPropagation();let t=e.target;const a="split-active";t.classList.contains(a)?t.classList.remove(a):t.classList.add("split-active")},getActiveSplits(){const e=document.querySelectorAll(".split-active");if(e.length<1)return[];const t=document.querySelector(".main-container");if(!t)return[];let a=[];for(var s=0;s<e.length;s++){let o=e[s],n=o.parentNode;if(!n)continue;let l=n.parentNode;if(!l)continue;const r=Array.prototype.indexOf.call(t.children,l);r&&a.push(Number(r)+1)}return a.push(t.children.length),a=this.sortNumbericArray(a),a},getActiveSplitters(){const e="split-active",t=document.querySelectorAll(".splitter-span");if(t.length<1)return[];let a=[];for(var s=0;s<t.length;s++){let o=t[s];if(!o.classList.contains(e))continue;const n=s+1;a.push(n)}return a.push(t.length),a=this.sortNumbericArray(a),a},getArrangedPages(){this.sorted_indexes={};const e=document.querySelectorAll(".split-img");if(e.length<1)return;let t=!1;for(var a=0;a<e.length;a++){let s=e[a];const o=Number(s.dataset.pageId),n=a+1;o!==n&&(t=!0),this.sorted_indexes[n]=o}t||(this.sorted_indexes={})},performDocumentSplit(){return Ee(this,void 0,void 0,(function*(){try{this.processing=!0;let e={},t=this.getActiveSplitters();if(this.getArrangedPages(),0!==(0,Te.Ns)(this.sorted_indexes)&&(e["sorted_indexes"]=JSON.stringify(this.sorted_indexes)),0!==this.deleted_indexes.length?e["deleted_indexes"]=this.deleted_indexes.toString():e["deleted_indexes"]=null,0!==t.length&&void 0!=t.length?e["separators"]=t.toString():e["separators"]=null,0===(0,Te.Ns)(e))return this.processing=!1,void this.showFullWidthToast(this.$t("split_empty_warning"));yield this.scanstore.uploadSplitOcr(e.separators,e.sorted_indexes,e.deleted_indexes).then((e=>{this.showSuccessToast(this.$t("running")),this.scanstore.showDragDrop=!0}))}catch(e){const t=Qe.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.processing=!1}}))}},setup(){const e=(0,$.j)();return{processing:(0,r.KR)(!1),scanstore:e,baseUrl:A.VA,splitterHeight:(0,r.KR)(120),image_load_count:(0,r.KR)(0),deleted_indexes:(0,r.KR)([]),sorted_indexes:(0,r.KR)({}),content:(0,r.KR)([]),page:(0,r.KR)(),showAllPages:(0,r.KR)(!0),splitter_list:(0,r.KR)([])}}});var Ve=a(36914),qe=a(39150),je=a(39035),Pe=a(88672);const ze=(0,K.A)(Ne,[["render",Ke],["__scopeId","data-v-1b071ccb"]]),$e=ze;j()(Ne,"components",{QCard:Q.A,QToolbar:Ve.A,QToolbarTitle:qe.A,QBtn:M.A,QCardActions:V.A,QCardSection:E.A,QIcon:G.A,QInnerLoading:je.A}),j()(Ne,"directives",{ClosePopup:Pe.A});var Xe=a(44271);function Be(e,t,a,o,n,l){const r=(0,s.g2)("q-btn"),i=(0,s.gN)("close-popup");return(0,s.bo)(((0,s.uX)(),(0,s.Wv)(r,{label:e.message,class:"save-btn-breathe",unelevated:"",icon:e.icon},null,8,["label","icon"])),[[i]])}const Ge=(0,s.pM)({el:"#app",mixins:[i.A,l.A],mounted(){null!=this.label&&(this.message=this.label)},props:["label","icon"],data(){return{message:(0,r.KR)(this.$t("save"))}},methods:{}}),Ue=(0,K.A)(Ge,[["render",Be],["__scopeId","data-v-667d6fbe"]]),Oe=Ue;j()(Ge,"components",{QBtn:M.A}),j()(Ge,"directives",{ClosePopup:Pe.A});var We=function(e,t,a,s){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,n){function l(e){try{i(s.next(e))}catch(t){n(t)}}function r(e){try{i(s["throw"](e))}catch(t){n(t)}}function i(e){e.done?a(e.value):o(e.value).then(l,r)}i((s=s.apply(e,t||[])).next())}))};const Ze=(0,s.pM)({components:{SaveBtn:S.A,CancelBtn:I.A,DefaultBtn:Le.A,PulsSaveBtn:Oe,DocSplit:$e,DownloadInstaller:Xe.A},mixins:[i.A,l.A],mounted(){this.initView()},methods:{addVariableToName(e){this.scanstore.new_scan["name"]+=e},reselectStore(){this.scanstore.folder_selection=!0,this.scanstore.showDragDrop||(this.showWarning=!0)},selectCurrentFolder(e){const t={id:e.folder_id,label:e.label,children:["test"],children_ids:["test"],saved:1};this.scanstore.folder_selection=!1,this.scanstore.current_folder=t,this.showSuccessToast('Folder "'+e.label+'" selected.')},folderSaving(e){0==e?this.scanstore.saved_folders.forEach(((e,t)=>{this.scanstore.getCurrentFolder.id==e.folder_id&&this.scanstore.removeFolder(e.id).then((e=>{this.scanstore.saved_folders.splice(t,1)}))})):1==e&&this.scanstore.saveFolder(this.scanstore.getCurrentFolder.id,this.scanstore.getCurrentFolder.label).then((e=>{const t={folder_id:this.scanstore.getCurrentFolder.id,label:this.scanstore.getCurrentFolder.label,id:e.path.id};this.scanstore.saved_folders.push(t)}))},activateScan(){return We(this,void 0,void 0,(function*(){this.scanstore.new_scan["name"]&&""!=this.scanstore.current_folder["id"]&&this.scanstore.new_scan["resolution"]&&this.scanstore.new_scan["pixel_type"]&&this.scanstore.new_scan["source"]?(this.scanstore.loading=!0,yield this.scanstore.doScan().then((e=>{this.showSuccessToast(this.$t("directscan.scanned_successfully"))})),this.scanstore.loading=!1):this.showErrorToast(this.$t("directscan.fill_all_fields"))}))},initView(){this.scanstore.new_scan["name"]="",this.scanstore.new_scan["automatic_get"]=!1,this.scanstore.new_scan["selected_store"]=this.store_options[0],this.scanstore.new_scan["remove_empty_sites"]=!1,this.scanstore.new_scan["2_sided"]=!1,this.scanstore.new_scan["auto_doc_name"]=!0,this.scanstore.new_scan["resolution"]=this.resolutions[0],this.scanstore.new_scan["pixel_type"]={value:"RGB24",label:this.$t("doc2light.table.color")},this.scanstore.checkAlfred(this.scanstore.getUrl)}},setup(){const e=[{value:"300",label:"300"},{value:"600",label:"600"},{value:"1200",label:"1200"}],t=[{value:"{filename}",label:"pages.import.emaillog.filename"},{value:"{document_type}",label:"document_type"},{value:"{document_name}",label:"document_name"},{value:"{document_number}",label:"doc2light.pages.document_number"},{value:"{supplier_name}",label:"form_builder.supplier_name"},{value:"{order_number}",label:"form_builder.orderno"},{value:"{order_date}",label:"order_date"}],a=[{value:"google_drive",label:"Google Drive"}],s=(0,$.j)();return{scanstore:s,store_options:a,variables:t,showDragDrop:(0,r.KR)(!0),showDownloadInstallerButton:(0,r.KR)(!1),showDownloadInstaller:(0,r.KR)(!1),pageCount:(0,r.KR)(1),file:(0,r.KR)(),filedata:(0,r.KR)(),filter:(0,r.KR)(""),view:(0,r.KR)("list"),multiUploaderDialog:(0,r.KR)(!1),uploadedFiles:(0,r.KR)(null),image:(0,r.KR)(),scanners:(0,r.KR)([]),show_popup:(0,r.KR)(!1),resolutions:(0,r.KR)(e),importing:(0,r.KR)(!1),showSplitButton:(0,r.KR)(!1),showMenu:(0,r.KR)(!1),showIcons:(0,r.KR)(!0),documentScanned:(0,r.KR)(!1),ports:(0,r.KR)(["12500","12154","12346"]),scan_card_height:(0,r.KR)(),showWarning:(0,r.KR)(!1),selectedStore:(0,r.KR)({})}}});var Ye=a(93676),He=a(97410),Je=a(67837),et=a(84436),tt=a(53999),at=a(90124),st=a(25173),ot=a(94940),nt=a(61816),lt=a(80460);const rt=(0,K.A)(Ze,[["render",ye],["__scopeId","data-v-5f18d9a8"]]),it=rt;j()(Ze,"components",{QDialog:T.A,QCard:Q.A,QToolbar:Ve.A,QToolbarTitle:qe.A,QSpace:Ye.A,QTooltip:He.A,QCardSection:E.A,QInput:Je.A,QBtn:M.A,QMenu:et.A,QList:tt.A,QItem:at.A,QItemSection:st.A,QSelect:ot.A,QRating:nt.A,QIcon:G.A,QCheckbox:lt.A,QCardActions:V.A,QAvatar:N.A}),j()(Ze,"directives",{ClosePopup:Pe.A});const ct=e=>((0,s.Qi)("data-v-2ca4309c"),e=e(),(0,s.jt)(),e),dt={id:"card",class:"text-left",style:{padding:"10px",width:"30vw"}},ut=ct((()=>(0,s.Lk)("div",{style:{"margin-top":"10px"}},null,-1))),gt={style:{"margin-top":"10px"}};function pt(e,t,a,o,n,l){const r=(0,s.g2)("q-input"),i=(0,s.g2)("q-icon"),c=(0,s.g2)("q-item-section"),d=(0,s.g2)("q-item"),u=(0,s.g2)("q-list"),g=(0,s.g2)("q-scroll-area"),p=(0,s.g2)("q-card-actions"),h=(0,s.gN)("ripple");return(0,s.uX)(),(0,s.CE)("div",dt,[ut,(0,s.Lk)("div",gt,[(0,s.bF)(r,{style:{"margin-bottom":"15px"},outlined:"",modelValue:e.folder_search,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.folder_search=t),t[1]||(t[1]=t=>{e.scanstore.filterFolders(t)})],label:e.$t("search"),debounce:"250"},null,8,["modelValue","label"]),(0,s.bF)(g,{style:{height:"50vh","max-width":"30vw"}},{default:(0,s.k6)((()=>[(0,s.bF)(u,{padding:"",class:"rounded-borders text-primary"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.scanstore.shown_folders,((t,a)=>(0,s.bo)(((0,s.uX)(),(0,s.Wv)(d,{clickable:"",key:a,onClick:a=>e.selectFolder(t)},{default:(0,s.k6)((()=>[(0,s.bF)(c,{avatar:""},{default:(0,s.k6)((()=>[(0,s.bF)(i,{name:"folder"})])),_:1}),(0,s.bF)(c,null,{default:(0,s.k6)((()=>[(0,s.eW)((0,x.v_)(t.label),1)])),_:2},1024)])),_:2},1032,["onClick"])),[[h]]))),128))])),_:1})])),_:1})]),(0,s.bF)(p)])}const ht=(0,s.pM)({data(){return{}},mixins:[i.A,l.A],components:{},props:["mode","selection"],methods:{selectFolder(e){this.scanstore.saved_folders.forEach((t=>{e.id==t.folder_id&&(e.saved=1)})),this.scanstore.folder_selection=!1,this.scanstore.current_folder=e,this.showSuccessToast('Folder "'+e.label+'" selected.')}},setup(){const e=(0,$.j)();return{folder_search:(0,r.KR)(""),overwrite:(0,r.KR)(!1),scanstore:e,store_selection:(0,r.KR)({}),store_options:(0,r.KR)([]),selected_store_id:(0,r.KR)("")}}});var mt=a(9383);const _t=(0,K.A)(ht,[["render",pt],["__scopeId","data-v-2ca4309c"]]),bt=_t;function vt(e,t,a,o,n,l){const r=(0,s.g2)("SaveBtn");return(0,s.uX)(),(0,s.Wv)(r,{icon:"folder",onClick:t[0]||(t[0]=t=>{e.oauthSignIn()}),label:e.$t("directscan.select_folder")},null,8,["label"])}j()(ht,"components",{QInput:Je.A,QBtn:M.A,QScrollArea:mt.A,QList:tt.A,QItem:at.A,QItemSection:st.A,QIcon:G.A,QCardActions:V.A}),j()(ht,"directives",{Ripple:O.A});a(10239);var ft=a(38696),wt=a.n(ft),kt=a(59020);const yt=(0,s.pM)({components:{SaveBtn:S.A},mixins:[kt.A,l.A],name:"Attachment",setup(){const e=(0,$.j)();return{scanstore:e}},data(){return{GOOGLE_SDK_URL:"https://apis.google.com/js/api.js",GOOGLE_CLIENTS_URL:"https://accounts.google.com/gsi/client",APP_ID:"428725426858",API_KEY:"AIzaSyCm2drXT4GDHDAGx_voRxhnP5SbSBHA048",CLIENT_ID:"428725426858-ronigv6jore8k0k717tfkuvh21o5rfof.apps.googleusercontent.com",SCOPES:"https://www.googleapis.com/auth/drive.metadata.readonly",tokenClient:null}},mounted(){wt()(this.GOOGLE_SDK_URL,this.onApiLoad),wt()(this.GOOGLE_CLIENTS_URL,this.ongisLoaded),null!==this.scanstore.oauthToken&&"undefined"!==typeof google&&"undefined"!==typeof google.picker&&this.createPicker()},methods:{async ongisLoaded(){this.tokenClient=await google.accounts.oauth2.initTokenClient({client_id:this.CLIENT_ID,scope:this.SCOPES,callback:""})},onApiLoad(){window.gapi.load("auth"),window.gapi.load("picker")},oauthSignIn(){null===this.scanstore.oauthToken?(this.tokenClient.callback=async e=>{if(void 0!==e.error)throw e;this.scanstore.oauthToken=e.access_token,await this.createPicker()},null===this.scanstore.oauthToken?this.tokenClient.requestAccessToken({prompt:"consent"}):this.tokenClient.requestAccessToken({prompt:""})):this.createPicker()},async createPicker(){var e=new google.picker.DocsView(google.picker.ViewId.FOLDERS).setIncludeFolders(!0).setSelectFolderEnabled(!0).setParent("root");const t=await(new google.picker.PickerBuilder).setOAuthToken(this.scanstore.oauthToken).setAppId(this.APP_ID).setDeveloperKey(this.API_KEY).setCallback(this.pickerCallback).addView(e).build();t.setVisible(!0)},pickerCallback(e){if(e.action==google.picker.Action.PICKED){let t=e.docs,a=[];for(let e=0;e<t.length;e++){let s={};s._id=t[e].id,s.title=t[e].name,s.name=t[e].name+"."+t[e].mimeType.split("/")[1],s.type="gDrive",s.description="Shared with GDrive",s.extension="."+t[e].mimeType.substring(t[e].mimeType.lastIndexOf(".")+1),s.iconURL=t[e].iconUrl,s.size=t[e].sizeBytes,s.user=JSON.parse(localStorage.getItem("user")),s.thumb=null,s.thumb_list=null,a.push(s)}const s=a[0].name.replace(".vnd.google-apps.folder",""),o={id:a[0]._id,label:s,children:[],children_ids:[],saved:0};this.scanstore.current_folder_url=e.docs[0].url,this.scanstore.setFolder(o)}else this.scanstore.folder_selection=!1}}}),Lt=(0,K.A)(yt,[["render",vt]]),At=Lt,St=(0,s.pM)({el:"#app",mixins:[i.A,l.A],components:{VuePdfEmbed:pe.A,ScanSettings:it,FolderSelection:bt,GoogleDriveFolderSelection:At},props:["label","icon"],setup(){const e=(0,$.j)();return{scanstore:e}},methods:{getRef(){let e=this.$refs["pager"].pageCount;return this.scanstore.pager=this.$refs["pager"],e}}});var Ct=a(15046),xt=a(99980),Dt=a(10386);const Ft=(0,K.A)(St,[["render",ge],["__scopeId","data-v-2bb9d084"]]),It=Ft;function Rt(e,t,a,o,n,l){const r=(0,s.g2)("q-btn");return(0,s.uX)(),(0,s.Wv)(r,{unelevated:"",label:e.$t("directscan.next"),"text-color":"primary","icon-right":"arrow_forward",class:"q-ma-md button-forward",disable:!e.scanstore.getNextDisable||!e.scanstore.current_store.id},null,8,["label","disable"])}j()(St,"components",{QCard:Q.A,QCardSection:E.A,QImg:Ct.A,QFile:xt.A,QSeparator:Dt.A});const Kt=(0,s.pM)({setup(){const e=(0,$.j)();return{scanstore:e}}}),Mt=(0,K.A)(Kt,[["render",Rt]]),Tt=Mt;j()(Kt,"components",{QBtn:M.A});var Qt=function(e,t,a,s){function o(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,n){function l(e){try{i(s.next(e))}catch(t){n(t)}}function r(e){try{i(s["throw"](e))}catch(t){n(t)}}function i(e){e.done?a(e.value):o(e.value).then(l,r)}i((s=s.apply(e,t||[])).next())}))};const Et=(0,s.pM)({data(){return{}},props:["service"],components:{StoreSettings:Z,ScannerPage:It,ArrowRight:Tt},mounted(){return Qt(this,void 0,void 0,(function*(){yield this.initView()}))},mixins:[i.A,l.A],methods:{initView(){return Qt(this,void 0,void 0,(function*(){this.showLoading();try{yield this.scanstore.prepareData(),""!=this.scanstore.current_store.id?this.scanstore.no_store=!1:this.showSuccessToast(this.$t("directscan.pages.store_found")),this.hideLoading()}catch(e){this.hideLoading()}}))},getRef(){let e=this.$refs["pager"].pageCount;return e},formateDate(e,t){return c.Ay.formatDate(e,t)},allowDrop(e){e.preventDefault(),e.currentTarget.classList.add("bg-grey-5"),e.currentTarget.classList.add("bd-shadow")},drop(e){e.preventDefault(),e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow"),this.scanstore.uploadFiles(e.dataTransfer.files)},dragLeave(e){e.currentTarget.classList.remove("bg-grey-5"),e.currentTarget.classList.remove("bd-shadow")}},setup(){const e=[{value:"300",label:"300"},{value:"600",label:"600"},{value:"1200",label:"1200"}],t=(0,$.j)();return{scanstore:t,showDownloadInstallerButton:(0,r.KR)(!1),showDownloadInstaller:(0,r.KR)(!1),pageCount:(0,r.KR)(1),file:(0,r.KR)(),filedata:(0,r.KR)(),filter:(0,r.KR)(""),view:(0,r.KR)("list"),multiUploaderDialog:(0,r.KR)(!1),uploadedFiles:(0,r.KR)(null),image:(0,r.KR)(),new_scan:(0,r.KR)({}),scanners:(0,r.KR)([]),show_popup:(0,r.KR)(!1),resolutions:(0,r.KR)(e),importing:(0,r.KR)(!1),showSplitButton:(0,r.KR)(!1),showMenu:(0,r.KR)(!1),showIcons:(0,r.KR)(!0),documentScanned:(0,r.KR)(!1),ports:(0,r.KR)(["12500","12154","12346"]),valid_url:(0,r.KR)(),scan_card_height:(0,r.KR)(),selectedStore:(0,r.KR)({})}}});var Nt=a(49652),Vt=a(8951);const qt=(0,K.A)(Et,[["render",n],["__scopeId","data-v-56be3092"]]),jt=qt;j()(Et,"components",{QDialog:T.A,QCarousel:Nt.A,QCarouselSlide:Vt.A,QBtn:M.A})},16459:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDAgMTAwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzAwNjZEQTt9Cgkuc3Qxe2ZpbGw6IzAwQUM0Nzt9Cgkuc3Qye2ZpbGw6I0VBNDMzNTt9Cgkuc3Qze2ZpbGw6IzAwODMyRDt9Cgkuc3Q0e2ZpbGw6IzI2ODRGQzt9Cgkuc3Q1e2ZpbGw6I0ZGQkEwMDt9Cjwvc3R5bGU+CjxnPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTcuNiw4MS45bDQuNCw3LjZjMC45LDEuNiwyLjIsMi45LDMuOCwzLjhMMzEuNSw2NkgwYzAsMS44LDAuNSwzLjYsMS40LDUuMkw3LjYsODEuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik01MCwzNEwzNC4yLDYuN2MtMS41LDAuOS0yLjksMi4yLTMuOCwzLjhMMS40LDYwLjlDMC41LDYyLjUsMCw2NC4yLDAsNjZoMzEuNUw1MCwzNHoiLz4KCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik04NC4yLDkzLjNjMS41LTAuOSwyLjktMi4yLDMuOC0zLjhsMS44LTMuMmw4LjgtMTUuMmMwLjktMS42LDEuNC0zLjQsMS40LTUuMkg2OC41bDYuNywxMy4yTDg0LjIsOTMuM3oiLz4KCTxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik01MCwzNEw2NS44LDYuN2MtMS41LTAuOS0zLjMtMS40LTUuMi0xLjRIMzkuNGMtMS44LDAtMy42LDAuNS01LjIsMS40TDUwLDM0eiIvPgoJPHBhdGggY2xhc3M9InN0NCIgZD0iTTY4LjUsNjZoLTM3TDE1LjgsOTMuM2MxLjUsMC45LDMuMywxLjQsNS4yLDEuNGg1OC4yYzEuOCwwLDMuNi0wLjUsNS4yLTEuNEw2OC41LDY2eiIvPgoJPHBhdGggY2xhc3M9InN0NSIgZD0iTTg0LjEsMzUuN0w2OS41LDEwLjVjLTAuOS0xLjYtMi4yLTIuOS0zLjgtMy44TDUwLDM0TDY4LjUsNjZoMzEuNGMwLTEuOC0wLjUtMy42LTEuNC01LjJMODQuMSwzNS43eiIvPgo8L2c+Cjwvc3ZnPgo="}}]);