"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[7023],{17023:(e,t,s)=>{s.r(t),s.d(t,{default:()=>V});var r=s(61758),o=s(58790);const i=e=>((0,r.Qi)("data-v-e40291f2"),e=e(),(0,r.jt)(),e),a={class:"row full-width padding-left-35 container-wrapper"},n={class:"col-9"},l={class:"full-width"},c=["src"],d={class:"col-3"},h={class:"images-list",style:{"margin-left":"33px","margin-right":"33px"}},u={class:"row q-pl-md q-mt-sm"},g={class:"secondary-c-text text-h6 q-ml-auto"},p={class:"full-width q-ma-sm scroll-area-height"},m=i((()=>(0,r.Lk)("div",{class:"row justify-center q-pl-md q-pr-md q-pt-md"},[(0,r.Lk)("span",{class:"text-red-13 text-h6 text-weight-bold"}," ERROR ")],-1))),_={class:"q-pl-md q-pr-md full-width left-scroll-area-height scrolle-y"},f={class:"text-weight-bold"},k={class:"tab1 highlighted-back q-pa-sm rounded-lg"},v=i((()=>(0,r.Lk)("div",{class:"text-weight-bold"},"Exception: ",-1))),b={class:"tab1 highlighted-back q-pa-sm rounded-lg"},y=i((()=>(0,r.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function x(e,t,s,i,x,w){const L=(0,r.g2)("MessageBanner"),I=(0,r.g2)("SubHeader"),q=(0,r.g2)("BackToSettings"),A=(0,r.g2)("q-btn"),E=(0,r.g2)("q-inner-loading");return(0,r.uX)(),(0,r.CE)(r.FK,null,[e.is_status_not_error?((0,r.uX)(),(0,r.Wv)(L,{key:0,message:e.$t("status_updated_from_error"),messageCategoryClass:"error-banner"},null,8,["message"])):(0,r.Q3)("",!0),(0,r.bF)(I,{name:"error",onSearch:!1,label:e.$t("error"),show_expiry_alert:!0},null,8,["label"]),(0,r.bF)(q,{back_to_rotue:"/dashboard",label:e.$t("pages.screen2a.dashboard")},null,8,["label"]),(0,r.Lk)("div",a,[(0,r.Lk)("div",n,[(0,r.Lk)("div",l,[(0,r.Lk)("iframe",{src:e.path,title:"Main menu",width:"100%",class:"i-frame-height"},null,8,c)])]),(0,r.Lk)("div",d,[(0,r.Lk)("div",h,[(0,r.Lk)("div",u,[(0,r.Lk)("div",g,[e.is_export_error?((0,r.uX)(),(0,r.Wv)(A,{key:0,unelevated:"",class:"bg-primary text-white",tabindex:"1",onClick:e.goToFieldValidation,label:e.$t("fields_validation")},null,8,["onClick","label"])):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",p,[m,(0,r.Lk)("div",_,[(0,r.Lk)("div",f,(0,o.v_)(e.$t("message"))+": ",1),(0,r.Lk)("pre",k," "+(0,o.v_)(e.message),1),v,(0,r.Lk)("pre",b," "+(0,o.v_)(e.exception),1)])])])])]),(0,r.bF)(E,{showing:e.processing},{default:(0,r.k6)((()=>[y])),_:1},8,["showing"])],64)}var w=s(1659),L=s(24622),I=s(38734),q=s(46162),A=s(11470),E=s(84857),Q=s(94124),T=s(60894),S=s(95488),D=function(e,t,s,r){function o(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function n(e){try{l(r["throw"](e))}catch(t){i(t)}}function l(e){e.done?s(e.value):o(e.value).then(a,n)}l((r=r.apply(e,t||[])).next())}))};const P=(0,r.pM)({el:"#app",mixins:[L.A],components:{MessageBanner:E.A,SubHeader:S.A,BackToSettings:T.A},mounted(){this.init()},beforeRouteLeave:function(e,t,s){this.resetAllStoreData(),s()},unmounted:function(){},data(){return{docId:"",filename:""}},methods:{init(){return D(this,void 0,void 0,(function*(){try{yield this.getTokenQueryParam(),this.processing=!0,this.docId=this.$route.params.id,this.path=q.VA+"/resource/document/"+this.docId+"/"+this.docId+".pdf?download=false&"+this.tokenQueryParam,this.path,this.getErrorInfos(),yield this.getDocumentById(this.docId),this.checkExportError()}catch(e){}finally{this.processing=!1}}))},getErrorInfos(){return D(this,void 0,void 0,(function*(){const e=yield A.M8.getDocumentError(this.docId);null!==e.message?(this.message=String(e.message),this.exception=e.exception||"",this.exception=String(this.exception)):this.is_status_not_error=!0}))},checkExportError(){"export_error"===this.record.status&&(this.is_export_error=!0)},goToFieldValidation(){return D(this,void 0,void 0,(function*(){if(!this.record||0===Object.keys(this.record).length||!1===this.record.success||!1===this.is_export_error)return;const e=yield A.M8.setDocToReadyForValidation(this.docId);if(!1===e.success)return this.showErrorToast(this.$t("pages.messages.error_internal_occur")),void this.showErrorToast(e.message);this.record.hasOwnProperty("has_layout")&&"true"===String(this.record.has_layout)&&this.$router.push("/field_validation_v1/"+this.docId)}))}},setup(){const e=(0,Q.q3)(),{record:t,doc_loaded:s,processing:r}=(0,w.bP)(e),{getDocumentById:o,saveDocument:i,resetAllStoreData:a}=e,n=(0,Q._6)(),{tokenQueryParam:l}=(0,w.bP)(n),{getTokenQueryParam:c}=n;return{record:t,doc_loaded:s,processing:r,saveDocument:i,getDocumentById:o,resetAllStoreData:a,path:(0,I.KR)(""),message:(0,I.KR)(""),exception:(0,I.KR)(""),is_status_not_error:(0,I.KR)(!1),is_export_error:(0,I.KR)(!1),tokenQueryParam:l,getTokenQueryParam:c}}});var R=s(12807),B=s(56384),$=s(50492),C=s(39035),F=s(98582),K=s.n(F);const M=(0,R.A)(P,[["render",x],["__scopeId","data-v-e40291f2"]]),V=M;K()(P,"components",{QBtn:B.A,QIcon:$.A,QInnerLoading:C.A})}}]);