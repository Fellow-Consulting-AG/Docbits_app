"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[9793],{29793:(e,t,i)=>{i.r(t),i.d(t,{default:()=>re});var a=i(61758);const n=(0,a.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1);function o(e,t,i,o,s,c){const d=(0,a.g2)("DocumentLock"),r=(0,a.g2)("PageTop"),l=(0,a.g2)("TableSelection"),g=(0,a.g2)("q-inner-loading");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(d,{document_version:e.document_version,trigger_document_lock:e.trigger_document_lock},null,8,["document_version","trigger_document_lock"]),(0,a.bF)(r),"table_selection"==e.view?((0,a.uX)(),(0,a.Wv)(l,{key:0})):(0,a.Q3)("",!0),(0,a.bF)(g,{showing:e.processing},{default:(0,a.k6)((()=>[n])),_:1},8,["showing"])],64)}var s=i(38734),c=i(94124),d=i(1659),r=i(64775),l=i(24622),g=i(21984);const m={class:"row full-width page-top q-mb-sm"},u={class:"left-side q-mr-auto"};function h(e,t,i,n,o,s){const c=(0,a.g2)("BreadCrumbs");return(0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("span",u,[(0,a.bF)(c)]),(0,a.RG)(e.$slots,"default",{},void 0,!0)])}const p={id:"breadcrumb"},f=(0,a.Fv)('<li><a><span class="icon icon-home"></span>Detail View</a></li><li><a><span class="icon icon-beaker"></span> Table Selection</a></li><li class="selected"><a><span class="icon icon-double-angle-right"></span> Table Extraction</a></li><li><a><span class="icon icon-rocket"></span>Custom Columns &amp; Rows</a></li><li><a><span class="icon icon-arrow-down"></span> Custom Formatting</a></li><li><a><span class="icon icon-arrow-down"></span> Finish</a></li>',6),_=[f];function w(e,t,i,n,o,s){return(0,a.uX)(),(0,a.CE)("ul",p,_)}const v=(0,a.pM)({components:{},props:{},mounted:function(){this.initView()},methods:{initView(){}}});var b=i(12807);const k=(0,b.A)(v,[["render",w]]),L=k,I=(0,a.pM)({components:{BreadCrumbs:L},props:{},mounted:function(){this.initView()},methods:{initView(){}}}),y=(0,b.A)(I,[["render",h],["__scopeId","data-v-04391a09"]]),C=y;var q=i(58790);const x={class:"row full-width q-ma-sm"},A={class:"col-auto"},P={class:"col",style:{"margin-right":"10px"}},V={class:"full-width bg-white",id:"image_container",ref:"image_container"},E={class:"full-width full-height scrolle-y",id:"image_scrolle",style:{position:"relative"}},F=["data-page","src","width"];function T(e,t,i,n,o,s){const c=(0,a.g2)("ImagesList"),d=(0,a.g2)("AddColumnSplitterBtn");return(0,a.uX)(),(0,a.CE)("div",x,[(0,a.Lk)("div",A,[(0,a.bF)(c)]),(0,a.Lk)("div",P,[(0,a.Lk)("div",V,[(0,a.Lk)("div",E,[(0,a.Lk)("div",{id:"zoom",style:(0,q.Tr)('background-image: url("'+e.image+' "); top: 51px;left: 506px; background-position: 268.297px 82.6934px;')},null,4),(0,a.Lk)("img",{class:"screenshot","data-page":e.page,src:e.image,width:e.imageWidth,id:"screenshot",ref:"screenshot",draggable:"false",onLoad:t[0]||(t[0]=(...t)=>e.getImageDetails&&e.getImageDetails(...t))},null,40,F),(0,a.bF)(d)])],512)])])}const z={class:"max-width-120 images-list"},D={class:"full-width bg-white q-ma-sm scroll-area-height"},R={class:"row justify-center q-pl-md q-pr-md q-pt-md"},W={class:"secondary-c-text text-h6 text-weight-bold"},X={class:"q-pl-md q-pr-md full-width left-scroll-area-height scrolle-y"},Q=["data-id","src","onLoad"];function B(e,t,i,n,o,s){return(0,a.uX)(),(0,a.CE)("div",z,[(0,a.Lk)("div",D,[(0,a.Lk)("div",R,[(0,a.Lk)("span",W,(0,q.v_)(e.$t("pages.screen2a.pages")),1)]),(0,a.Lk)("div",X,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.images,((i,n)=>((0,a.uX)(),(0,a.CE)("img",{"data-id":n,key:n,src:e.baseUrl+"/"+i.path+"?"+e.tokenQueryParam,class:(0,q.C4)(["q-pa-sm shadow-5 full-width q-ma-sm cursor-pointer",n===this.page-1?"active":""]),style:{height:"auto"},onClick:t[0]||(t[0]=(...t)=>e.imageclicked&&e.imageclicked(...t)),onLoad:t=>{e.imageLoaded(t,n)}},null,42,Q)))),128))])])])}var M=i(64233),S=i(96075);const H=(0,a.pM)({el:"#app",mixins:[M.A],components:{},props:{},watch:{doc_loaded:{handler:function(e,t){this.initView()}}},mounted:function(){this.initView()},methods:{imageLoaded(e,t){this.image_load_count++,this.image_load_count>this.images.length&&(this.image_load_count=this.images.length),this.image_load_count===this.images.length&&(this.processing=!1)},initView(){this.doc_loaded&&(this.processing=!0,this.image_load_count=0,this.images=(0,S.m)(this.record.images))},imageclicked(e){this.page=parseInt(e.target.dataset.id)+1,this.setImage(this.record)}},setup(){const e=(0,c.q3)(),{record:t,doc_loaded:i}=(0,d.bP)(e),a=(0,c.vz)(),{page:n,baseUrl:o}=(0,d.bP)(a),{setImage:r}=a,l=(0,c._6)(),{tokenQueryParam:g}=(0,d.bP)(l);return l.getTokenQueryParam(),{tokenQueryParam:g,record:t,doc_loaded:i,images:(0,s.KR)([]),processing:(0,s.KR)(!1),baseUrl:o,image_load_count:(0,s.KR)(0),page:n,setImage:r}}}),K=(0,b.A)(H,[["render",B],["__scopeId","data-v-44f78f61"]]),U=K,$=e=>((0,a.Qi)("data-v-2b55ac9a"),e=e(),(0,a.jt)(),e),j={class:"button-add-column-splitter",onclick:"addColumnSplitter();","data-toggle":"tooltip","data-placement":"right"},G=$((()=>(0,a.Lk)("i",{class:"fa fa-plus",style:{position:"absolute",top:"41%",right:"3px"}},null,-1)));function J(e,t,i,n,o,s){const c=(0,a.g2)("q-tooltip");return(0,a.uX)(),(0,a.CE)("div",j,[G,(0,a.bF)(c,null,{default:(0,a.k6)((()=>[(0,a.eW)("Add Column")])),_:1})])}const N=(0,a.pM)({el:"#app",mixins:[M.A],components:{},props:{},watch:{doc_loaded:{handler:function(e,t){this.initView()}}},mounted:function(){this.initView()},methods:{initView(){this.doc_loaded},addColumnSplitter(e){}},setup(){const e=(0,c.q3)(),{record:t,doc_loaded:i}=(0,d.bP)(e),a=(0,c.vz)(),{page:n}=(0,d.bP)(a),{setImage:o}=a;return{}}});var O=i(97410),Y=i(98582),Z=i.n(Y);const ee=(0,b.A)(N,[["render",J],["__scopeId","data-v-2b55ac9a"]]),te=ee;Z()(N,"components",{QTooltip:O.A});const ie=(0,a.pM)({mixins:[l.A],components:{ImagesList:U,AddColumnSplitterBtn:te},watch:{doc_loaded:{handler:function(e,t){this.initView()}},image:{handler:function(e,t){this.calculateImage()}}},mounted:function(){this.initView()},unmounted:function(){window.removeEventListener("resize",this.windowResize)},data(){return{}},methods:{initView(){this.doc_loaded&&(window.addEventListener("resize",this.windowResize),this.image_container=this.$refs.image_container,this.setImage(this.record))},calculateImage(){this.image_container&&(this.imageWidth=this.image_container.offsetWidth-30,this.imageHeight=this.image_container.offsetHeight)},getImageDetails(){const e=this.$refs.screenshot;this.imageInfo={offsetWidth:e.offsetWidth,offsetHeight:e.offsetHeight}},windowResize(){this.calculateImage()}},setup(){const e=(0,c.q3)(),{record:t,doc_loaded:i}=(0,d.bP)(e),a=(0,c.vz)(),{page:n,baseUrl:o,image:s,imageWidth:r,imageHeight:l,image_container:g,imageInfo:m}=(0,d.bP)(a),{setImage:u}=a;return{record:t,doc_loaded:i,imageInfo:m,setImage:u,image:s,page:n,baseUrl:o,imageWidth:r,imageHeight:l,image_container:g}}}),ae=(0,b.A)(ie,[["render",T],["__scopeId","data-v-63c616c4"]]),ne=ae;var oe=function(e,t,i,a){function n(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function s(e){try{d(a.next(e))}catch(t){o(t)}}function c(e){try{d(a["throw"](e))}catch(t){o(t)}}function d(e){e.done?i(e.value):n(e.value).then(s,c)}d((a=a.apply(e,t||[])).next())}))};const se=(0,a.pM)({mixins:[l.A],el:"#app",components:{DocumentLock:g.A,PageTop:C,TableSelection:ne},watch:{doc_processing:{handler:function(e,t){this.handleLoader(e)}}},setup(){const e=(0,c.q3)(),{getDocumentById:t}=e,{processing:i,document_version:a}=(0,d.bP)(e),n=(0,c.j5)(),{doc_id:o,processing:r,view:l}=(0,d.bP)(n),{handleLoader:g}=n;return{getDocumentById:t,handleLoader:g,doc_id:o,doc_processing:i,processing:r,document_version:a,trigger_document_lock:(0,s.KR)(!1),view:l}},data(){return{}},mounted(){this.init()},methods:{init(){return oe(this,void 0,void 0,(function*(){try{this.doc_id=this.$route.params.id,yield this.getDocumentById(this.doc_id)}catch(e){const t=r.t.getErrorMessage(e);this.showErrorToast(t)}finally{this.processing=!1}}))}}});var ce=i(39035);const de=(0,b.A)(se,[["render",o]]),re=de;Z()(se,"components",{QInnerLoading:ce.A})}}]);