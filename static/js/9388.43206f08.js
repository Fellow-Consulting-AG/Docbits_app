"use strict";(globalThis["webpackChunkfc_ocr_vue"]=globalThis["webpackChunkfc_ocr_vue"]||[]).push([[9388],{89388:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ra});var n=a(61758),r=a(58790),o=a(29104);const s=e=>((0,n.Qi)("data-v-7c7a4183"),e=e(),(0,n.jt)(),e),i={class:"q-ml-auto col-6 mobile-hide"},l={class:"dashboard-container dashboard-text-color dashboard-main"},d={class:"full-width dashboard-list-area q-my-lg"},c={class:"text-item",style:{"text-transform":"capitalize"}},u={class:"text-item",style:{"text-transform":"capitalize"}},p={key:0,class:"custom_stepper"},m={key:1},_={key:2,class:"text-item",style:{"text-transform":"capitalize"}},g=s((()=>(0,n.Lk)("div",{class:"box loading-shimmer"},null,-1))),h=["data-index","onDragstart","onDrop","onDragover"],b=["colspan"],v={class:"back-white flex justify-end"},f={class:"row",style:{"margin-right":"0"}},y={style:{margin:"20px 10px"}},k=["onClick"],D={class:"q-pa-sm row"},A={class:"col-7",align:"right"},w={class:"stepper-mobile-view"},x=s((()=>(0,n.Lk)("div",{style:{"border-bottom":"1px solid grey"}},null,-1))),C={class:"q-gutter-sm",style:{padding:"10px 10px 30px 10px !important","font-size":"13px",color:"grey"}},F={class:"row"},q={class:"col-5",style:{"text-transform":"uppercase"}},L={class:"col-6"},P={class:"row"},S={class:"col-5",style:{"text-transform":"uppercase"}},V={class:"col-6"},E={class:"row"},Q={class:"col-5",style:{"text-transform":"uppercase"}},I={class:"col-6"},$={class:"row"},X={class:"col-5",style:{"text-transform":"uppercase"}},K={class:"col-6"},z={class:"back-white flex justify-center"},B={class:"row"},O=s((()=>(0,n.Lk)("img",{class:"loading-image",src:"images/loader.gif",alt:"Loading..."},null,-1)));function T(e,t,a,s,T,W){const M=(0,n.g2)("TaskCounters"),R=(0,n.g2)("SubHeader"),U=(0,n.g2)("DashboardHeader"),N=(0,n.g2)("q-separator"),j=(0,n.g2)("ColumnOrderBy"),Y=(0,n.g2)("q-th"),H=(0,n.g2)("q-tr"),J=(0,n.g2)("q-step"),G=(0,n.g2)("q-stepper"),Z=(0,n.g2)("q-td"),ee=(0,n.g2)("q-item-section"),te=(0,n.g2)("q-item"),ae=(0,n.g2)("q-list"),ne=(0,n.g2)("q-menu"),re=(0,n.g2)("q-btn"),oe=(0,n.g2)("q-table"),se=(0,n.g2)("q-markup-table"),ie=(0,n.g2)("PaginationSettings"),le=(0,n.g2)("q-pagination"),de=(0,n.g2)("q-space"),ce=(0,n.g2)("q-text"),ue=(0,n.g2)("q-icon"),pe=(0,n.g2)("q-inner-loading"),me=(0,n.gN)("ripple");return(0,n.uX)(),(0,n.CE)(n.FK,null,[e.isMobile()?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.bF)(R,{name:"dashboard",label:"Dashboard",show_expiry_alert:!0}),(0,n.bF)(de),(0,n.bF)(U,{media_screen:"mobile"}),(0,n.Lk)("div",y,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.display_data,(a=>((0,n.uX)(),(0,n.CE)("div",{class:"card-order q-mb-sm cursor-pointer",key:a.name,onClick:t=>e.goToDetail(null===a||void 0===a?void 0:a.order_number)},[(0,n.Lk)("div",D,[(0,n.bF)(ce,{class:"col-5 text-primary",style:{"font-weight":"500",display:"flex","align-items":"center"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(a.order_number),1)])),_:2},1024),(0,n.Lk)("div",A,[(0,n.Lk)("div",w,[(0,n.bF)(G,{ref_for:!0,ref:"stepper",color:"primary","header-class":"no-wrap",flat:"",animated:"",style:{"background-color":"#F7F7F7 !important"}},{default:(0,n.k6)((()=>{var t,r,o;return[(0,n.bF)(J,{name:1,title:"",done:(null!==(t=e.includeStatus(a.order_status))&&void 0!==t?t:0)>=1},null,8,["done"]),(0,n.bF)(J,{name:2,title:"",done:(null!==(r=e.includeStatus(a.order_status))&&void 0!==r?r:0)>=2},null,8,["done"]),(0,n.bF)(J,{name:3,title:"",done:(null!==(o=e.includeStatus(a.order_status))&&void 0!==o?o:0)>=3},null,8,["done"])]})),_:2},1536)])])]),x,(0,n.Lk)("div",C,[(0,n.Lk)("div",F,[(0,n.Lk)("div",q,(0,r.v_)(e.$t("customer_no"))+":",1),(0,n.Lk)("div",L,(0,r.v_)(a.customer_number),1),(0,n.Lk)("div",{onClick:t[5]||(t[5]=(0,o.D$)((()=>{}),["stop","prevent"])),class:"col-1 cursor-pointer",align:"right"},[(0,n.bF)(ue,{flat:"",dense:"",round:"",name:"more_horiz",size:"20px"})])]),(0,n.Lk)("div",P,[(0,n.Lk)("div",S,(0,r.v_)(e.$t("order_date"))+":",1),(0,n.Lk)("div",V,(0,r.v_)(e.formatDateAccordingToPreference(a.order_date)),1)]),(0,n.Lk)("div",E,[(0,n.Lk)("div",Q,(0,r.v_)(e.$t("est_mobile_delivery_date"))+":",1),(0,n.Lk)("div",I,(0,r.v_)(e.formatDateAccordingToPreference(a.estimated_delivery_date)),1)]),(0,n.Lk)("div",$,[(0,n.Lk)("div",X,(0,r.v_)(e.$t("po_number"))+":",1),(0,n.Lk)("div",K,(0,r.v_)(a.po_number),1)])])],8,k)))),128)),(0,n.Lk)("div",z,[(0,n.Lk)("div",B,[(0,n.bF)(le,{modelValue:e.pagination.current_page,"onUpdate:modelValue":[t[6]||(t[6]=t=>e.pagination.current_page=t),t[7]||(t[7]=t=>e.paginationItemClicked())],color:"primary",max:e.pagination.total_pages,"max-pages":3,input:"","boundary-links":""},null,8,["modelValue","max"])])])])],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.bF)(R,{name:"dashboard",label:e.$t("advance_shipment_dashboard"),show_expiry_alert:!0},{default:(0,n.k6)((()=>[(0,n.Lk)("span",i,[(0,n.bF)(M)])])),_:1},8,["label"]),(0,n.Lk)("div",l,[(0,n.bF)(U),(0,n.bF)(N,{class:"seperator"}),(0,n.Lk)("div",d,[e.display_data.length>0?((0,n.uX)(),(0,n.Wv)(oe,{key:0,class:(0,r.C4)("main-table dashboard-table-style dashboard-table-height back-white"),rows:e.display_data,"rows-per-page-options":[0],columns:e.tableColumns,"row-key":"id",flat:"","hide-bottom":"","no-data-label":e.$t("pages.messages.no_record_found"),id:"advance_shipment_table"},{header:(0,n.k6)((t=>[(0,n.bF)(H,{props:t},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.cols,((a,s)=>((0,n.uX)(),(0,n.Wv)(Y,{key:a.name,props:t,"data-index":s,draggable:"true",dropzone:"true",direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.tableColumns,s),onDrop:(0,o.D$)((t=>e.handleDrop(t,s)),["prevent"]),onDragover:(0,o.D$)((t=>e.onDragOver(t,s)),["prevent"]),onDragenter:(0,o.D$)(e.onDragEnter,["prevent"]),onDragleave:(0,o.D$)(e.onDragLeave,["prevent"]),style:(0,r.Tr)([{cursor:e.getIsDragging?"pointer":"move"},{"text-align":"left"}])},{default:(0,n.k6)((()=>[(0,n.Lk)("span",c,(0,r.v_)(e.$t(a.label)),1),a.actions?((0,n.uX)(),(0,n.Wv)(j,{key:0,type_name:e.type_name,column_name:a.field},null,8,["type_name","column_name"])):(0,n.Q3)("",!0)])),_:2},1032,["props","data-index","onDragstart","onDrop","onDragover","onDragenter","onDragleave","style"])))),128)),(0,n.bF)(Y,null,{default:(0,n.k6)((()=>[(0,n.Lk)("span",u,(0,r.v_)(e.$t("action")),1)])),_:1})])),_:2},1032,["props"])])),body:(0,n.k6)((a=>[e.show_table_loader?((0,n.uX)(),(0,n.Wv)(H,{key:1},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.tableColumns.length+5,(e=>((0,n.uX)(),(0,n.Wv)(Z,{key:e},{default:(0,n.k6)((()=>[g])),_:1})))),128))])),_:1})):((0,n.uX)(),(0,n.Wv)(H,{key:0,props:a,onClick:t=>{var n;return e.goToDetail(null===(n=null===a||void 0===a?void 0:a.row)||void 0===n?void 0:n.order_number)},style:{cursor:"pointer"}},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.cols,(t=>((0,n.uX)(),(0,n.Wv)(Z,{key:t.name,props:a,style:{"text-align":"left"}},{default:(0,n.k6)((()=>["order_status"===t.name?((0,n.uX)(),(0,n.CE)("div",p,[(0,n.bF)(G,{ref_for:!0,ref:"stepper",color:"primary","header-class":"no-wrap",flat:"",animated:""},{default:(0,n.k6)((()=>[(0,n.bF)(J,{name:1,title:"",done:1===e.includeStatus(t.value)||2===e.includeStatus(t.value)||3===e.includeStatus(t.value)},null,8,["done"]),(0,n.bF)(J,{name:2,title:"",done:2===e.includeStatus(t.value)||3===e.includeStatus(t.value)},null,8,["done"]),(0,n.bF)(J,{name:3,title:"",done:3===e.includeStatus(null===t||void 0===t?void 0:t.value)},null,8,["done"])])),_:2},1536)])):e.includesDate(t.name)?((0,n.uX)(),(0,n.CE)("div",m,(0,r.v_)(e.formatDateAccordingToPreference(t.value)),1)):((0,n.uX)(),(0,n.CE)("div",_,(0,r.v_)(t.value),1))])),_:2},1032,["props"])))),128)),(0,n.bF)(Z,null,{default:(0,n.k6)((()=>[(0,n.bF)(re,{flat:"",dense:"",round:"",onClick:t[0]||(t[0]=(0,o.D$)((()=>{}),["stop","prevent"])),icon:"more_horiz"},{default:(0,n.k6)((()=>[(0,n.bF)(ne,{"auto-close":"","transition-show":"jump-down","transition-hide":"jump-up",anchor:"bottom middle",self:"top middle"},{default:(0,n.k6)((()=>[(0,n.bF)(ae,{dense:"",style:{"min-width":"100px"}},{default:(0,n.k6)((()=>[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(te,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(ee,{onClick:t=>{var n,r;return e.exportPdfPreview(null===(n=null===a||void 0===a?void 0:a.row)||void 0===n?void 0:n.order_number,null===(r=null===a||void 0===a?void 0:a.row)||void 0===r?void 0:r.sales_order_line_id)}},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(e.$t("export")),1)])),_:2},1032,["onClick"])])),_:2},1024)),[[me]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(te,{clickable:""},{default:(0,n.k6)((()=>[(0,n.bF)(ee,{onClick:t=>{var n;return e.copiesMagicLinkAccess(null===(n=null===a||void 0===a?void 0:a.row)||void 0===n?void 0:n.order_number)}},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(e.$t("magic_link")),1)])),_:2},1032,["onClick"])])),_:2},1024)),[[me]])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["props","onClick"]))])),_:1},8,["rows","columns","no-data-label"])):(0,n.Q3)("",!0),0==e.display_data.length?((0,n.uX)(),(0,n.Wv)(se,{key:1,class:(0,r.C4)("main-table dashboard-table-style back-white"),flat:"","hide-bottom":"",actions:!0,id:"advance_shipment_table"},{default:(0,n.k6)((()=>[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.tableColumns,((a,s)=>((0,n.uX)(),(0,n.CE)("th",{key:a.name,"data-index":s,draggable:"true",dropzone:"true",direction:"horizontal",onDragstart:t=>e.onDragStart(t,e.tableColumns,s),onDrop:(0,o.D$)((t=>e.handleDrop(t,s)),["prevent"]),onDragover:(0,o.D$)((t=>e.onDragOver(t,s)),["prevent"]),onDragenter:t[1]||(t[1]=(0,o.D$)(((...t)=>e.onDragEnter&&e.onDragEnter(...t)),["prevent"])),onDragleave:t[2]||(t[2]=(0,o.D$)(((...t)=>e.onDragLeave&&e.onDragLeave(...t)),["prevent"])),style:(0,r.Tr)([{cursor:e.getIsDragging?"pointer":"move"},{"text-align":"left"}])},(0,r.v_)(e.$t(a.label)),45,h)))),128))]),(0,n.Lk)("tr",null,[(0,n.Lk)("td",{class:"text-center",colspan:e.tableColumns.length},(0,r.v_)(e.$t("pages.messages.no_record_found")),9,b)])])])),_:1})):(0,n.Q3)("",!0),(0,n.Lk)("div",v,[(0,n.Lk)("div",f,[(0,n.bF)(ie,{class:"q-py-xs q-mr-md"}),(0,n.bF)(le,{modelValue:e.pagination.current_page,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.pagination.current_page=t),t[4]||(t[4]=t=>e.paginationItemClicked())],color:"primary",max:e.pagination.total_pages,class:"q-py-xs q-mx-md","max-pages":6,input:"","boundary-links":""},null,8,["modelValue","max"])])])])])],64)),(0,n.bF)(pe,{showing:e.loading,style:{"z-index":"10000"}},{default:(0,n.k6)((()=>[O])),_:1},8,["showing"])],64)}var W=a(73414),M=a(1659),R=a(38734),U=a(30955),N=a(95488);const j={class:"orderByParentSpan arrow-color"},Y=["data-name"],H=["data-name"];function J(e,t,a,o,s,i){return(0,n.uX)(),(0,n.CE)("span",j,[(0,n.Lk)("span",{class:(0,r.C4)(["up-arrow orderBy absolute",e.is_order_by_selected("asc")?"selected":""]),"data-name":e.column_name,"data-direction":"asc",onClick:t[0]||(t[0]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,Y),(0,n.Lk)("span",{class:(0,r.C4)(["down-arrow orderBy absolute",e.is_order_by_selected("desc")?"selected":""]),"data-name":e.column_name,"data-direction":"desc",onClick:t[1]||(t[1]=(...t)=>e.OrderBy&&e.OrderBy(...t))},null,10,H)])}var G=a(51476),Z=a(11470),ee=a(82204),te=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):r(e.value).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const ae=(0,M.nY)("dashboard_asn_store",{state:()=>({pagination_size_key:"PAGINATION_SIZE",pagination_size:10,paginationCount:0,total_data:0,loading:!0,display_data:[],order_by:{},pagination:{current_page:1,total_pages:0,page_size:10},params:{keyword:"",po_number:"",order_number:"",order_date:"",after_date:"",before_date:"",sort_by:"",order:"",order_status:""},table_columns:{customer_name:{name:"customer_name",translation_key:"customer_name",actions:!0,order:0},customer_number:{name:"customer_number",translation_key:"customer_number",actions:!0,order:1},order_date:{name:"order_date",translation_key:"order_date",actions:!0,order:2},requested_delivery_date:{name:"requested_delivery_date",translation_key:"requested_delivery_date",actions:!0,order:3},estimated_delivery_date:{name:"estimated_delivery_date",translation_key:"estimated_delivery_date",actions:!0,order:4},po_number:{name:"po_number",translation_key:"po_number",actions:!0,order:5},order_number:{name:"order_number",translation_key:"order_number",actions:!0,order:6},order_status:{name:"order_status",translation_key:"order_status",actions:!0,order:7}}}),actions:{resetPagination(){this.pagination={current_page:1,total_pages:0,page_size:10}},resetFilter(){this.params={keyword:"",po_number:"",order_number:"",order_date:"",after_date:"",before_date:"",sort_by:"",order:"",order_status:""},this.pagination={current_page:1,total_pages:0,page_size:10},(0,ee.oX)("supplier"),this.order_by={}},getColumnPreference(e){const t="master_data"+e,a=(0,G.KW)(t);return String(a||"[]")},getAsnData(){return te(this,void 0,void 0,(function*(){try{this.loading=!0;const e={};for(const[n,r]of Object.entries(this.params)){const t=r;"object"===typeof t?t&&Object.keys(t).length>0&&(e[n]=t.value):""!==t&&(e[n]=t)}const t=(this.pagination.current_page-1)*this.pagination.page_size,a=yield Z.wk.getAsnDashboard(Object.assign(Object.assign({},e),{limit:this.pagination.page_size,skip:t}));if(!a)throw a;this.display_data=null===a||void 0===a?void 0:a.data,this.paginationCount=null===a||void 0===a?void 0:a.metadata.total_results,this.pagination.total_pages=Math.ceil(a.metadata.total_results/this.pagination.page_size),this.total_data=a.metadata.total_results,this.loading=!1}catch(e){throw e}}))},exprtPdf(e,t){return te(this,void 0,void 0,(function*(){try{const a=yield Z.wk.exportPdf(e,t);if(!a)throw a;const n=a.data.preview_path,r=document.createElement("a");document.body.appendChild(r),r.href=n,r.setAttribute("download",""),r.click(),document.body.removeChild(r)}catch(a){throw a}}))},getSavedColumnPreference(e){const t=(0,G.KW)(e);return String(t||"")}}});var ne=a(68450),re=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):r(e.value).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const oe=(0,n.pM)({mixins:[],props:{column_name:{type:String,required:!0}},components:{},watch:{order_by:{deep:!0,handler:function(e,t){this.init()}}},mounted:function(){this.init(),document.addEventListener("reset_filters",this.resetFilters)},unmounted:function(){document.removeEventListener("reset_filters",this.resetFilters)},methods:{is_order_by_selected(e){return this.order_by_field==this.column_name&&this.order_by_direction==e},init(){0!==(0,ne.Ns)(this.order_by)&&(this.order_by_field=this.order_by.field_name,this.order_by_direction=this.order_by.direction)},resetFilters(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},OrderBy(e){if(e.target.classList.contains("selected"))return;let t=e.target.dataset.direction,a=e.target.dataset.name;if(!t||!a)return;e.target.classList.add("selected");const n=document.querySelectorAll(".orderBy");if(n.length){for(var r=0;r<n.length;r++){let e=n[r];(e.dataset.name!=a||e.dataset.name==a&&e.dataset.direction!=t)&&e.classList.remove("selected")}this.order_by_field=a,this.order_by_direction=t,this.order_by={field_name:this.order_by_field,direction:this.order_by_direction},this.params.sort_by=this.order_by_field,this.params.order=this.order_by_direction,this.getAsnDashbaordData(),this.triggerApplyFilters()}},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)},getAsnDashbaordData(){return re(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.asn_dashboard_store.getAsnData()}catch(e){}finally{this.loading=!1}}))}},setup(){const e=ae(),{order_by:t,paginationCount:a,params:n,loading:r}=(0,M.bP)(e),{getAsnData:o}=e;return{paginationCount:a,order_by:t,order_by_field:(0,R.KR)(""),order_by_direction:(0,R.KR)(""),params:n,getAsnData:o,loading:r,asn_dashboard_store:e}}});var se=a(12807);const ie=(0,se.A)(oe,[["render",J],["__scopeId","data-v-88f64962"]]),le=ie,de={key:0},ce={class:"row q-mt-md",style:{"padding-left":"10px"}},ue={class:"col-12"},pe={class:"row mt-15",style:{width:"100%",padding:"0px 10px"}},me={style:{width:"85%"}},_e={class:"dashboard-search-box white-inputs"},ge={style:{width:"10%"}},he={key:1,class:"row q-mb-md"},be={style:{"margin-top":"39px"},class:"row items-start example-container dashboard-title dark-readable"},ve={class:"example-cell cursor-pointer",tabindex:"0"},fe={class:"col q-ml-xl"},ye={class:"row justify-start"},ke={class:"dashboard-search-box q-ml-md mt-20 white-inputs"};function De(e,t,a,o,s,i){const l=(0,n.g2)("quickSearch"),d=(0,n.g2)("q-tooltip"),c=(0,n.g2)("f-btn"),u=(0,n.g2)("q-space");return"mobile"===e.media_screen?((0,n.uX)(),(0,n.CE)("div",de,[(0,n.Lk)("div",ce,[(0,n.Lk)("div",ue,(0,r.v_)(e.$t("all_orders"))+" "+(0,r.v_)(`(${e.total_data})`),1)]),(0,n.Lk)("div",pe,[(0,n.Lk)("div",me,[(0,n.Lk)("div",_e,[(0,n.bF)(l,{search_width:95})])]),(0,n.Lk)("div",ge,[(0,n.bF)(c,{square:"",icon:"img:images/refresh.svg",onClick:e.refreshFilters},{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(e.$t("refresh_list")),1)])),_:1})])),_:1},8,["onClick"])])])])):((0,n.uX)(),(0,n.CE)("div",he,[(0,n.Lk)("div",be,[(0,n.Lk)("div",ve,(0,r.v_)(e.$t("all_orders"))+" "+(0,r.v_)(`(${e.total_data})`),1)]),(0,n.Lk)("div",fe,[(0,n.Lk)("div",ye,[(0,n.Lk)("div",ke,[(0,n.bF)(l)]),(0,n.bF)(u),(0,n.bF)(c,{square:"",class:"q-mr-sm mt-20",icon:"img:images/refresh.svg",onClick:e.refreshFilters},{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(e.$t("refresh_list")),1)])),_:1})])),_:1},8,["onClick"])])])]))}const Ae={class:"q-pa-md"},we={class:"row q-my-sm"},xe={style:{"margin-top":"5px"}},Ce={class:"row q-my-sm"},Fe={style:{"margin-top":"5px"}},qe={class:"row q-my-sm"},Le={style:{"margin-top":"5px"}},Pe={class:"row q-my-sm"},Se={style:{"margin-top":"5px"}},Ve={class:"row q-my-sm"},Ee={style:{"margin-top":"5px"}},Qe={class:"row q-my-sm"},Ie={style:{"margin-top":"5px"}},$e={class:"float-right q-ml-auto"};function Xe(e,t,a,o,s,i){const l=(0,n.g2)("q-space"),d=(0,n.g2)("PoNumber"),c=(0,n.g2)("OrderNumber"),u=(0,n.g2)("OrderDate"),p=(0,n.g2)("AfterDate"),m=(0,n.g2)("BeforeDate"),_=(0,n.g2)("q-select"),g=(0,n.g2)("f-btn"),h=(0,n.g2)("q-menu"),b=(0,n.g2)("q-input");return(0,n.uX)(),(0,n.Wv)(b,{style:(0,r.Tr)({width:e.search_width?e.search_width+"%":"500px"}),dense:"",modelValue:e.params.keyword,"onUpdate:modelValue":t[2]||(t[2]=t=>e.params.keyword=t),autofocus:"",placeholder:e.$t("search_supplier"),outlined:"",onKeyup:e.onKeyup},{append:(0,n.k6)((()=>[(0,n.bF)(g,{icon:"tune",appearance:"flat"},{default:(0,n.k6)((()=>[(0,n.bF)(h,{style:{width:"500px","min-height":"250px"},anchor:"bottom start",self:"top left",offset:[453,10]},{default:(0,n.k6)((()=>[(0,n.Lk)("div",Ae,[(0,n.Lk)("div",we,[(0,n.Lk)("span",xe,(0,r.v_)(e.$t("po_number")),1),(0,n.bF)(l),(0,n.bF)(d)]),(0,n.Lk)("div",Ce,[(0,n.Lk)("span",Fe,(0,r.v_)(e.$t("order_number")),1),(0,n.bF)(l),(0,n.bF)(c)]),(0,n.Lk)("div",qe,[(0,n.Lk)("span",Le,(0,r.v_)(e.$t("order_date")),1),(0,n.bF)(l),(0,n.bF)(u)]),(0,n.Lk)("div",Pe,[(0,n.Lk)("span",Se,(0,r.v_)(e.$t("after_date")),1),(0,n.bF)(l),(0,n.bF)(p)]),(0,n.Lk)("div",Ve,[(0,n.Lk)("span",Ee,(0,r.v_)(e.$t("before_date")),1),(0,n.bF)(l),(0,n.bF)(m)]),(0,n.Lk)("div",Qe,[(0,n.Lk)("span",Ie,(0,r.v_)(e.$t("pagination_size")),1),(0,n.bF)(l),(0,n.bF)(_,{outlined:"",dense:"",class:"q-mr-sm user-select",modelValue:e.pagination.page_size,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.pagination.page_size=t),e.getAsnData],options:e.pagination_options,label:e.$t("pagination_size")},null,8,["modelValue","options","onUpdate:modelValue","label"])]),(0,n.Lk)("div",$e,[(0,n.bF)(g,{appearance:"secondary",class:"q-mr-sm mt-20 q-mb-md",label:e.$t("clear_filters"),onClick:t[1]||(t[1]=t=>e.resetFilters())},null,8,["label"])])])])),_:1})])),_:1})])),_:1},8,["style","modelValue","placeholder","onKeyup"])}const Ke={class:"row items-center justify-end"};function ze(e,t,a,r,o,s){const i=(0,n.g2)("q-btn"),l=(0,n.g2)("q-date"),d=(0,n.g2)("q-popup-proxy"),c=(0,n.g2)("q-icon"),u=(0,n.g2)("q-input"),p=(0,n.gN)("close-popup");return(0,n.uX)(),(0,n.Wv)(u,{outlined:"",dense:"",modelValue:e.params.before_date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.params.before_date=t),clearable:!0,class:"q-mr-sm",style:{width:"227px",height:"40px"}},{append:(0,n.k6)((()=>[(0,n.bF)(c,{name:"event",class:"cursor-pointer"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{"onUpdate:modelValue":[e.fetchData,t[0]||(t[0]=t=>e.params.before_date=t)],modelValue:e.params.before_date,mask:"YYYY-MM-DD"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",Ke,[(0,n.bo)((0,n.bF)(i,{label:"Close",color:"primary",flat:""},null,512),[[p]])])])),_:1},8,["onUpdate:modelValue","modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}const Be=(0,n.pM)({mixins:[],props:{},methods:{fetchData(e){this.params.before_date=e,this.resetPagination(),this.getAsnData()}},setup(){const e=(0,R.KR)(),t=(0,M.bP)(ae()),{getAsnData:a,resetPagination:n}=ae(),{params:r}=t;return{resetPagination:n,getAsnData:a,params:r,date:e}}});var Oe=a(67837),Te=a(50492),We=a(48975),Me=a(93692),Re=a(56384),Ue=a(88672),Ne=a(98582),je=a.n(Ne);const Ye=(0,se.A)(Be,[["render",ze]]),He=Ye;je()(Be,"components",{QInput:Oe.A,QIcon:Te.A,QPopupProxy:We.A,QDate:Me.A,QBtn:Re.A}),je()(Be,"directives",{ClosePopup:Ue.A});const Je={class:"row items-center justify-end"};function Ge(e,t,a,r,o,s){const i=(0,n.g2)("q-btn"),l=(0,n.g2)("q-date"),d=(0,n.g2)("q-popup-proxy"),c=(0,n.g2)("q-icon"),u=(0,n.g2)("q-input"),p=(0,n.gN)("close-popup");return(0,n.uX)(),(0,n.Wv)(u,{outlined:"",dense:"",modelValue:e.params.after_date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.params.after_date=t),clearable:!0,class:"q-mr-sm",style:{width:"227px",height:"40px"}},{append:(0,n.k6)((()=>[(0,n.bF)(c,{name:"event",class:"cursor-pointer"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{"onUpdate:modelValue":[e.fetchData,t[0]||(t[0]=t=>e.params.after_date=t)],modelValue:e.params.after_date,mask:"YYYY-MM-DD"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",Je,[(0,n.bo)((0,n.bF)(i,{label:"Close",color:"primary",flat:""},null,512),[[p]])])])),_:1},8,["onUpdate:modelValue","modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}const Ze=(0,n.pM)({mixins:[],props:{},methods:{fetchData(e){this.params.after_date=e,this.resetPagination(),this.getAsnData()}},setup(){const e=(0,R.KR)(),t=(0,M.bP)(ae()),{getAsnData:a,resetPagination:n}=ae(),{params:r}=t;return{resetPagination:n,getAsnData:a,params:r,date:e}}}),et=(0,se.A)(Ze,[["render",Ge]]),tt=et;function at(e,t,a,r,o,s){const i=(0,n.g2)("q-input");return(0,n.uX)(),(0,n.Wv)(i,{outlined:"",dense:"",modelValue:e.params.po_number,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.params.po_number=t),e.fetchData],clearable:!0,debounce:1e3,class:"q-mr-sm",style:{width:"227px",height:"40px"}},null,8,["modelValue","onUpdate:modelValue"])}je()(Ze,"components",{QInput:Oe.A,QIcon:Te.A,QPopupProxy:We.A,QDate:Me.A,QBtn:Re.A}),je()(Ze,"directives",{ClosePopup:Ue.A});const nt=(0,n.pM)({mixins:[],props:{},methods:{fetchData(){this.resetPagination(),this.getAsnData()}},setup(){const e=(0,M.bP)(ae()),{getAsnData:t,resetPagination:a}=ae(),{params:n}=e;return{resetPagination:a,getAsnData:t,params:n}}}),rt=(0,se.A)(nt,[["render",at]]),ot=rt;function st(e,t,a,r,o,s){const i=(0,n.g2)("q-input");return(0,n.uX)(),(0,n.Wv)(i,{outlined:"",dense:"",modelValue:e.params.order_number,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.params.order_number=t),e.fetchData],clearable:!0,debounce:1e3,class:"q-mr-sm",style:{width:"227px",height:"40px"}},null,8,["modelValue","onUpdate:modelValue"])}je()(nt,"components",{QInput:Oe.A});const it=(0,n.pM)({mixins:[],props:{},methods:{fetchData(){this.resetPagination(),this.getAsnData()}},setup(){const e=(0,M.bP)(ae()),{getAsnData:t,resetPagination:a}=ae(),{params:n}=e;return{resetPagination:a,getAsnData:t,params:n}}}),lt=(0,se.A)(it,[["render",st]]),dt=lt;je()(it,"components",{QInput:Oe.A});const ct={class:"row items-center justify-end"};function ut(e,t,a,r,o,s){const i=(0,n.g2)("q-btn"),l=(0,n.g2)("q-date"),d=(0,n.g2)("q-popup-proxy"),c=(0,n.g2)("q-icon"),u=(0,n.g2)("q-input"),p=(0,n.gN)("close-popup");return(0,n.uX)(),(0,n.Wv)(u,{outlined:"",dense:"",modelValue:e.params.order_date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.params.order_date=t),clearable:!0,class:"q-mr-sm",style:{width:"227px",height:"40px"}},{append:(0,n.k6)((()=>[(0,n.bF)(c,{name:"event",class:"cursor-pointer"},{default:(0,n.k6)((()=>[(0,n.bF)(d,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)((()=>[(0,n.bF)(l,{"onUpdate:modelValue":[e.fetchData,t[0]||(t[0]=t=>e.params.order_date=t)],modelValue:e.params.order_date,mask:"YYYY-MM-DD"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",ct,[(0,n.bo)((0,n.bF)(i,{label:"Close",color:"primary",flat:""},null,512),[[p]])])])),_:1},8,["onUpdate:modelValue","modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}const pt=(0,n.pM)({mixins:[],props:{},methods:{fetchData(e){this.params.order_date=e,this.resetPagination(),this.getAsnData()}},setup(){const e=(0,R.KR)(),t=(0,M.bP)(ae()),{getAsnData:a,resetPagination:n}=ae(),{params:r}=t;return{resetPagination:n,getAsnData:a,params:r,date:e}}}),mt=(0,se.A)(pt,[["render",ut]]),_t=mt;je()(pt,"components",{QInput:Oe.A,QIcon:Te.A,QPopupProxy:We.A,QDate:Me.A,QBtn:Re.A}),je()(pt,"directives",{ClosePopup:Ue.A});var gt=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):r(e.value).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const ht=(0,n.pM)({mixins:[],props:{search_width:{type:Number,required:!0,optional:!1}},components:{BeforeDate:He,AfterDate:tt,PoNumber:ot,OrderNumber:dt,OrderDate:_t},methods:{resetFilters(){this.resetFilter(),this.fetchData(),this.removeFiltersClass()},removeFiltersClass(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},onKeyup(e){"Enter"==e.key&&this.fetchData()},fetchData(){return gt(this,void 0,void 0,(function*(){this.loading=!0,this.resetPagination(),yield this.getAsnData(),this.loading=!1}))},handleEmptyStatus(){return(!this.searchInput||null===this.searchInput||""===this.searchInput.trim())&&(this.resetFilters(),!0)},triggerApplyFilters(){const e=new CustomEvent("apply_filters",{detail:{}});document.dispatchEvent(e)}},setup(){const e=ae(),t=["10","25","50","100"],{loading:a,pagination:n,params:r}=(0,M.bP)(e),{getAsnData:o,resetPagination:s,resetFilter:i}=e;return{getAsnData:o,pagination:n,loading:a,searchInput:(0,R.KR)(""),oldSearchInput:(0,R.KR)(""),showing:(0,R.KR)(!1),debounceSearchInputFunc:{},request_params:{},filter_data_json_str:"",pagination_options:t,resetPagination:s,resetFilter:i,params:r}}});var bt=a(84436),vt=a(93676),ft=a(94940);const yt=(0,se.A)(ht,[["render",Xe]]),kt=yt;je()(ht,"components",{QInput:Oe.A,QMenu:bt.A,QSpace:vt.A,QSelect:ft.A});var Dt=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):r(e.value).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const At=(0,n.pM)({props:{type_name:{type:String,reqired:!0,default:"supplier"},media_screen:{type:String,reqired:!0,optional:!1}},components:{quickSearch:kt},mounted(){document.addEventListener("delete_input_text",this.clearSearchInput)},methods:{clearSearchInput(){this.searchInput=""},refreshFilters(){this.getDataServer()},getDataServer(){return Dt(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.getAsnData(),this.total_records=this.paginationCount}catch(e){}finally{this.loading=!1}}))},resetFilters(){const e=new CustomEvent("reset_filters",{});document.dispatchEvent(e)}},setup(){const e=ae(),{loading:t,display_data:a,params:n,pagination:r,paginationCount:o,total_data:s}=(0,M.bP)(e),{getAsnData:i}=e;return{getAsnData:i,loading:t,searchInput:(0,R.KR)(""),paginationCount:o,display_data:a,params:n,pagination:r,total_records:(0,R.KR)(0),total_data:s}}});var wt=a(97410);const xt=(0,se.A)(At,[["render",De]]),Ct=xt;je()(At,"components",{QTooltip:wt.A,QSpace:vt.A});var Ft=a(23537),qt=a(76956),Lt=a(36246),Pt=a(24681),St=a(24622),Vt=a(10739);const Et={class:"row"},Qt={class:"q-py-xs q-mt-md q-mr-sm"};function It(e,t,a,o,s,i){const l=(0,n.g2)("q-select");return(0,n.uX)(),(0,n.CE)("div",Et,[(0,n.Lk)("span",Qt,(0,r.v_)(e.$t("pagination_size"))+":",1),(0,n.bF)(l,{borderless:"",dense:"",modelValue:e.pagination.page_size,"onUpdate:modelValue":[t[0]||(t[0]=t=>e.pagination.page_size=t),e.getAsnData],options:e.pagination_options},null,8,["modelValue","options","onUpdate:modelValue"])])}const $t=(0,n.pM)({mixins:[],props:{},watch:{},methods:{triggerApplyFilters(){const e=new CustomEvent("apply_filters",{});document.dispatchEvent(e)}},setup(){const e=ae(),{pagination:t}=(0,M.bP)(e),{getAsnData:a}=e;return{pagination:t,getAsnData:a,pagination_options:(0,R.KR)(["10","20","25","50","100"])}}}),Xt=(0,se.A)($t,[["render",It]]),Kt=Xt;je()($t,"components",{QSelect:ft.A});var zt=a(87033),Bt=a(46736),Ot=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,o){function s(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n["throw"](e))}catch(t){o(t)}}function l(e){e.done?a(e.value):r(e.value).then(s,i)}l((n=n.apply(e,t||[])).next())}))};const Tt=(0,n.pM)({el:"#app",mixins:[St.A,Vt.A,zt.A,Bt.A],props:{type_name:{type:String,reqired:!0,default:"supplier"}},mounted:function(){this.init(),this.initDragDropColumns("advance_shipment_table","label"),document.addEventListener("advance_shipment_table-column-drop",this.onDropColumns)},unmounted:function(){document.removeEventListener("advance_shipment_table-column-drop",this.onDropColumns)},components:{SubHeader:N.A,DashboardHeader:Ct,TaskCounters:U.A,ColumnOrderBy:le,PaginationSettings:Kt},methods:{init(){this.getData(!0),this.prepareTableColumns()},getData(e){return Ot(this,void 0,void 0,(function*(){try{this.loading=!0,e&&(this.show_table_loader=!0),yield this.dashboard_asn_store.getAsnData(),this.total_records=this.paginationCount}catch(t){}finally{this.loading=!1,this.show_table_loader=!1}}))},goToDetail(e){this.$router.push(`/sales_order_detail/${e}`)},prepareTableColumns(){this.tableColumns=this.generateSavedColumns(this.advance_shipment_dashboard_columns,this.tableColumns)},onDropColumns(){this.savedOrderColumns(this.tableColumns)},savedOrderColumns(e){return Ot(this,void 0,void 0,(function*(){try{this.loading=!0,yield this.updateSetting(this.advance_shipment_dashboard_columns,JSON.stringify(e))}catch(t){this.showErrorToast(this.$t("pages.messages.error_internal_occur"))}finally{this.loading=!1}}))},formateDate(e,t){return Lt.Ay.formatDate(e,t)},includesDate(e){const t=["order_date","requested_delivery_date","estimated_delivery_date"];return t.some((t=>e.includes(t)))},includeStatus(e){return"Reserved"===e?1:"Delivered"===e?2:"Invoiced"===e?3:void 0},resetFilters(){let e=document.getElementsByClassName("orderBy selected");Array.from(e).forEach((e=>{e.classList.remove("selected")}))},paginationItemClicked(){return Ot(this,void 0,void 0,(function*(){try{yield this.getData(!0)}catch(e){}}))},exportPdfPreview(e,t){const a="https://sandbox.api.docbits.com/resource/documents_layout_templates/9145dce4-62da-4cfe-b69a-8606b24de100/image/1.png?0=&token=GgbWKXRHz760qJr7mkTFA29NPDjBluxZqte1pDODSI",n=document.createElement("a");document.body.appendChild(n),n.href=a,n.setAttribute("download",""),n.click(),document.body.removeChild(n)}},data(){return{supplier_dashboard_setting:qt.t2,show_table_loader:(0,R.KR)(!1),advance_shipment_dashboard_columns:qt.rs}},setup(){const e=ae(),{datePattern:t}=(0,Pt.B)(),{loading:a,table_columns:n,display_data:r,paginationCount:o,params:s,pagination:i}=(0,M.bP)(e),{getAsnData:l,exprtPdf:d,getSavedColumnPreference:c}=e,{t:u}=(0,Ft.s9)(),p=(0,Pt.B)(),{updateSetting:m}=p,_=(0,R.KR)();return _.value=Object.values(JSON.parse(JSON.stringify(n.value))).map((e=>({name:e.name,required:!0,label:e.translation_key,field:e.name,actions:e.actions}))),{loading:a,display_data:r,table_columns:n,getAsnData:l,paginationCount:o,tableColumns:_,dashboard_asn_store:e,searchInput:(0,R.KR)(""),params:s,current_page:(0,R.KR)(1),total_pages:(0,R.KR)(0),page_size:(0,R.KR)(5),total_records:(0,R.KR)(0),isMobile:W.Fr,pagination:i,datePattern:t,exprtPdf:d,updateSetting:m,getSavedColumnPreference:c}}});var Wt=a(10386),Mt=a(42315),Rt=a(44488),Ut=a(57722),Nt=a(45262),jt=a(37222),Yt=a(78577),Ht=a(53999),Jt=a(90124),Gt=a(25173),Zt=a(857),ea=a(54700),ta=a(39035),aa=a(65265);const na=(0,se.A)(Tt,[["render",T],["__scopeId","data-v-7c7a4183"]]),ra=na;je()(Tt,"components",{QSeparator:Wt.A,QTable:Mt.A,QTr:Rt.A,QTh:Ut.A,QTd:Nt.A,QStepper:jt.A,QStep:Yt.A,QBtn:Re.A,QMenu:bt.A,QList:Ht.A,QItem:Jt.A,QItemSection:Gt.A,QMarkupTable:Zt.A,QPagination:ea.A,QSpace:vt.A,QIcon:Te.A,QInnerLoading:ta.A}),je()(Tt,"directives",{Ripple:aa.A})}}]);